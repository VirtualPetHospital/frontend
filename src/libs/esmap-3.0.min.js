/*esmap-3.0.min.js 3/7/2023, 5:34:31 PM*/
/*esmapcore 3.0 2023-3-7 17:31:03*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(112),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(167),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},,,,,function(t,n,r){t.exports={default:r(212),__esModule:!0}},function(t,n,r){var e=r(14),o=r(3),i=r(23),u=r(26),s=r(25),f=function(t,n,r){var c,a,l,h=t&f.F,p=t&f.G,v=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,m=p?o:o[n]||(o[n]={}),b=m.prototype,_=p?e:v?e[n]:(e[n]||{}).prototype;for(c in p&&(r=n),r)(a=!h&&_&&void 0!==_[c])&&s(m,c)||(l=a?_[c]:r[c],m[c]=p&&"function"!=typeof _[c]?r[c]:y&&a?i(l,e):g&&_[c]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):d&&"function"==typeof l?i(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[c]=l,t&f.R&&b&&!b[c]&&u(b,c,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(197)),o=u(r(103)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},,function(t,n,r){t.exports=r(210)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(8),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){t.exports={default:r(169),__esModule:!0}},function(t,n,r){var e=r(74)("wks"),o=r(58),i=r(14).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,n,r){t.exports={default:r(184),__esModule:!0}},,function(t,n,r){t.exports=!r(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(22),o=r(104),i=r(72),u=Object.defineProperty;n.f=r(20)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(15);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n,r){var e=r(45);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},,function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(21),o=r(46);t.exports=r(20)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){t.exports={default:r(159),__esModule:!0}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(77),o=r(78);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(202),__esModule:!0}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(222),e.base64=r(223),e.EventEmitter=r(224),e.float=r(225),e.inquire=r(226),e.utf8=r(227),e.pool=r(228),e.LongBits=r(229),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(94))},,,function(t,n,r){var e=r(58)("meta"),o=r(15),i=r(25),u=r(21).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(28)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(105),o=r(81);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n,r){"use strict";var e=r(160)(!0);r(83)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){var e=r(78);t.exports=function(t){return Object(e(t))}},,function(t,n,r){r(176);for(var e=r(14),o=r(26),i=r(52),u=r(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){var e=r(23),o=r(114),i=r(115),u=r(22),s=r(59),f=r(84),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(21).f,o=r(25),i=r(17)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(112),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},function(t,n,r){t.exports={default:r(175),__esModule:!0}},function(t,n,r){t.exports={default:r(186),__esModule:!0}},,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(79),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(22),o=r(107),i=r(81),u=r(80)("IE_PROTO"),s=function(){},f=function(){var t,n=r(71)("iframe"),e=i.length;for(n.style.display="none",r(108).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;e--;)delete f.prototype[i[e]];return f()};t.exports=Object.create||function(t,n){var r;return null!==t?(s.prototype=e(t),r=new s,s.prototype=null,r[u]=t):r=f(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(9),o=r(3),i=r(28);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){var e=r(26);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){t.exports={default:r(188),__esModule:!0}},function(t,n,r){"use strict";t.exports=r(221)},,,,,,function(t,n,r){var e=r(15),o=r(14).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(26)},function(t,n,r){var e=r(3),o=r(14),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(47)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(17)},function(t,n,r){var e=r(14),o=r(3),i=r(47),u=r(75),s=r(21).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(74)("keys"),o=r(58);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){"use strict";var e=r(47),o=r(9),i=r(73),u=r(26),s=r(52),f=r(161),c=r(48),a=r(113),l=r(17)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(85),o=r(17)("iterator"),i=r(52);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(49),o=r(17)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){t.exports={default:r(174),__esModule:!0}},function(t,n,r){var e=r(23),o=r(77),i=r(38),u=r(59),s=r(179);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(14),o=r(9),i=r(35),u=r(28),s=r(26),f=r(62),c=r(41),a=r(63),l=r(15),h=r(48),p=r(21).f,v=r(87)(0),d=r(20);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(9);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(9),o=r(45),i=r(23),u=r(41);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(195),__esModule:!0}},function(t,n,r){"use strict";var e=r(45);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,,function(t,n,r){t.exports={default:r(145),__esModule:!0}},function(t,n,r){t.exports=!r(20)&&!r(28)((function(){return 7!=Object.defineProperty(r(71)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(25),o=r(29),i=r(148)(!1),u=r(80)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(49);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(21),o=r(22),i=r(36);t.exports=r(20)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(29),o=r(110).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(105),o=r(81).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){var e=r(50),o=r(46),i=r(29),u=r(72),s=r(25),f=r(104),c=Object.getOwnPropertyDescriptor;n.f=r(20)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){t.exports={default:r(154),__esModule:!0}},function(t,n,r){var e=r(25),o=r(38),i=r(80)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(22);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(52),o=r(17)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(17)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(36),o=r(82),i=r(50),u=r(38),s=r(77),f=Object.assign;t.exports=!f||r(28)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e}))?function(t,n){for(var r=u(t),f=arguments.length,c=1,a=o.f,l=i.f;f>c;)for(var h,p=s(arguments[c++]),v=a?e(p).concat(a(p)):e(p),d=v.length,y=0;d>y;)l.call(p,h=v[y++])&&(r[h]=p[h]);return r}:f},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(21).f,o=r(60),i=r(62),u=r(23),s=r(63),f=r(41),c=r(83),a=r(118),l=r(120),h=r(20),p=r(35).fastKey,v=r(42),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(14),o=r(3),i=r(21),u=r(20),s=r(17)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(85),o=r(205);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(22),o=r(45),i=r(17)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(23),s=r(214),f=r(108),c=r(71),a=r(14),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(49)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script")).onreadystatechange=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(22),o=r(15),i=r(92);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(32),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(32),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,,function(t,n,r){r(146),r(51),r(150),r(151),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(14),o=r(25),i=r(20),u=r(9),s=r(73),f=r(35).KEY,c=r(28),a=r(74),l=r(48),h=r(58),p=r(17),v=r(75),d=r(76),y=r(147),g=r(106),m=r(22),b=r(15),_=r(29),w=r(72),x=r(46),S=r(60),O=r(109),E=r(111),M=r(21),j=r(36),L=E.f,P=M.f,k=O.f,A=e.Symbol,N=e.JSON,B=N&&N.stringify,C=p("_hidden"),F=p("toPrimitive"),T={}.propertyIsEnumerable,D=a("symbol-registry"),G=a("symbols"),R=a("op-symbols"),I=Object.prototype,W="function"==typeof A,z=e.QObject,U=!z||!z.prototype||!z.prototype.findChild,J=i&&c((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=L(I,n);e&&delete I[n],P(t,n,r),e&&t!==I&&P(I,n,e)}:P,q=function(t){var n=G[t]=S(A.prototype);return n._k=t,n},H=W&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},V=function(t,n,r){return t===I&&V(R,n,r),m(t),n=w(n,!0),m(r),o(G,n)?(r.enumerable?(o(t,C)&&t[C][n]&&(t[C][n]=!1),r=S(r,{enumerable:x(0,!1)})):(o(t,C)||P(t,C,x(1,{})),t[C][n]=!0),J(t,n,r)):P(t,n,r)},Y=function(t,n){m(t);for(var r,e=y(n=_(n)),o=0,i=e.length;i>o;)V(t,r=e[o++],n[r]);return t},K=function(t){var n=T.call(this,t=w(t,!0));return!(this===I&&o(G,t)&&!o(R,t))&&(!(n||!o(this,t)||!o(G,t)||o(this,C)&&this[C][t])||n)},$=function(t,n){if(t=_(t),n=w(n,!0),t!==I||!o(G,n)||o(R,n)){var r=L(t,n);return!r||!o(G,n)||o(t,C)&&t[C][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=k(_(t)),e=[],i=0;r.length>i;)o(G,n=r[i++])||n==C||n==f||e.push(n);return e},X=function(t){for(var n,r=t===I,e=k(r?R:_(t)),i=[],u=0;e.length>u;)!o(G,n=e[u++])||r&&!o(I,n)||i.push(G[n]);return i};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===I&&n.call(R,r),o(this,C)&&o(this[C],t)&&(this[C][t]=!1),J(this,t,x(1,r))};return i&&U&&J(I,t,{configurable:!0,set:n}),q(t)},s(A.prototype,"toString",(function(){return this._k})),E.f=$,M.f=V,r(110).f=O.f=Z,r(50).f=K,r(82).f=X,i&&!r(47)&&s(I,"propertyIsEnumerable",K,!0),v.f=function(t){return q(p(t))}),u(u.G+u.W+u.F*!W,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var nt=j(p.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!W,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){U=!0},useSimple:function(){U=!1}}),u(u.S+u.F*!W,"Object",{create:function(t,n){return void 0===n?S(t):Y(S(t),n)},defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),N&&u(u.S+u.F*(!W||c((function(){var t=A();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!H(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!H(n))return n}),e[1]=n,B.apply(N,e)}}),A.prototype[F]||r(26)(A.prototype,F,A.prototype.valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(36),o=r(82),i=r(50);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(29),o=r(59),i=r(149);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){var e=r(79),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){r(76)("asyncIterator")},function(t,n,r){r(76)("observable")},,,function(t,n,r){r(155);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(20),"Object",{defineProperty:r(21).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(37),r(162),t.exports=r(3).Array.from},function(t,n,r){var e=r(79),o=r(78);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(60),o=r(46),i=r(48),u={};r(26)(u,r(17)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(23),o=r(9),i=r(38),u=r(114),s=r(115),f=r(59),c=r(163),a=r(84);o(o.S+o.F*!r(116)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(21),o=r(46);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(165),__esModule:!0}},function(t,n,r){r(166);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(61)("getOwnPropertyNames",(function(){return r(109).f}))},function(t,n,r){r(168),t.exports=r(3).Object.assign},function(t,n,r){var e=r(9);e(e.S+e.F,"Object",{assign:r(117)})},function(t,n,r){r(170),t.exports=r(3).Object.keys},function(t,n,r){var e=r(38),o=r(36);r(61)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(172),__esModule:!0}},function(t,n,r){r(173),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(15),o=r(35).onFreeze;r(61)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(51),r(40),r(178),r(182),r(183),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(177),o=r(118),i=r(52),u=r(29);t.exports=r(83)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(14),i=r(87)(0),u=r(73),s=r(35),f=r(117),c=r(181),a=r(15),l=r(42),h=r(42),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(88)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(180);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(15),o=r(106),i=r(17)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(62),o=r(35).getWeak,i=r(22),u=r(15),s=r(63),f=r(41),c=r(87),a=r(25),l=r(42),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(89)("WeakMap")},function(t,n,r){r(90)("WeakMap")},function(t,n,r){r(185);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(9);e(e.S,"Object",{create:r(60)})},function(t,n,r){r(187);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(20),"Object",{defineProperties:r(107)})},function(t,n,r){r(189),t.exports=r(3).Math.sign},function(t,n,r){var e=r(9);e(e.S,"Math",{sign:r(190)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(192),__esModule:!0}},function(t,n,r){r(193),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(9);e(e.S,"Number",{isInteger:r(194)})},function(t,n,r){var e=r(15),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(196),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(9);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(198),__esModule:!0}},function(t,n,r){r(37),r(40),t.exports=r(75).f("iterator")},function(t,n,r){t.exports={default:r(200),__esModule:!0}},function(t,n,r){r(201),t.exports=r(3).Math.log10},function(t,n,r){var e=r(9);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(51),r(37),r(40),r(203),r(204),r(206),r(207),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(119),o=r(42);t.exports=r(88)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(9);e(e.P+e.R,"Set",{toJSON:r(121)("Set")})},function(t,n,r){var e=r(41);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(89)("Set")},function(t,n,r){r(90)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(211),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(51),r(37),r(40),r(213),r(217),r(218),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(47),f=r(14),c=r(23),a=r(85),l=r(9),h=r(15),p=r(45),v=r(63),d=r(41),y=r(122),g=r(123).set,m=r(215)(),b=r(92),_=r(124),w=r(216),x=r(125),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f.Promise,P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(17)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(62)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(48)(L,S),r(120)(S),u=r(3).Promise,l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(116)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(14),o=r(123).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(49)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(14).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(9),o=r(3),i=r(14),u=r(122),s=r(125);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(9),o=r(92),i=r(124);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(126),e.BufferWriter=r(230),e.Reader=r(127),e.BufferReader=r(231),e.util=r(32),e.rpc=r(232),e.roots=r(234),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(32);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(126);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(32),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(127);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(32);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(233)},function(t,n,r){"use strict";t.exports=o;var e=r(32);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{102:function(e,t,n){e.exports={default:n(338),__esModule:!0}},140:function(e,t,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=u,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(u>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,l):s._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=u,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)(n=r._soundById(t[c]))&&(n._volume=e,o[2]||r._stopFade(t[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var u=i.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=c*o,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=r._soundById(t[c])){r.playing(t[c])&&(n._rateSeek=r.seek(t[c]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=r.seek(t[c]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[c]]&&n._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?i.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function(){n._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},u=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var u=r._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(94))},240:function(e,t,n){n(40),n(37),e.exports=n(241)},241:function(e,t,n){var r=n(22),o=n(84);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},242:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===l(e)}n.r(t),n.d(t,"default",(function(){return q}));function o(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return s(e)&&null!==e}(e)&&"[object Boolean]"==l(e)}function s(e){return"object"==typeof e}function c(e){return null!=e}function u(e){return!e.trim().length}function l(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const d=Object.prototype.hasOwnProperty;class f{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=_(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _(e){let t=null,n=null,i=null,a=1,s=null;if(o(e)||r(e))i=e,t=h(e),n=p(e);else{if(!d.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const r=e.name;if(i=r,d.call(e,"weight")&&(a=e.weight,a<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(r));t=h(r),n=p(r),s=e.getFn}return{path:t,id:n,weight:a,src:i,getFn:s}}function h(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}var m={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],s=!1;const u=(e,t,l)=>{if(c(e))if(t[l]){const d=e[t[l]];if(!c(d))return;if(l===t.length-1&&(o(d)||i(d)||a(d)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(d));else if(r(d)){s=!0;for(let e=0,n=d.length;e<n;e+=1)u(d[e],t,l+1)}else t.length&&u(d,t,l+1)}else n.push(e)};return u(e,o(t)?t.split("."):t,0),s?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const g=/[^ ]+/g;class v{constructor({getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(g).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();o(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!c(e)||u(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(c(a))if(r(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(c(i))if(o(i)&&!u(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else r(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(o(a)&&!u(a)){let e={v:a,n:this.norm.get(a)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=m.getFn,fieldNormWeight:r=m.fieldNormWeight}={}){const o=new v({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(_)),o.setSources(t),o.create(),o}function b(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=m.distance,ignoreLocation:i=m.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const w=32;function A(e,t,n,{location:r=m.location,distance:o=m.distance,threshold:i=m.threshold,findAllMatches:a=m.findAllMatches,minMatchCharLength:s=m.minMatchCharLength,includeMatches:c=m.includeMatches,ignoreLocation:u=m.ignoreLocation}={}){if(t.length>w)throw new Error(`Pattern length exceeds max of ${w}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||c,g=p?Array(d):[];let v;for(;(v=e.indexOf(t,h))>-1;){let e=b(t,{currentLocation:v,expectedLocation:f,distance:o,ignoreLocation:u});if(_=Math.min(e,_),h=v+l,p){let e=0;for(;e<l;)g[v+e]=1,e+=1}}h=-1;let y=[],A=1,x=l+d;const T=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=x;for(;i<s;){b(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:u})<=_?i=s:x=s,s=Math.floor((x-i)/2+i)}x=s;let c=Math.max(1,f-s+1),m=a?d:Math.min(f+s,d)+l,v=Array(m+2);v[m+1]=(1<<r)-1;for(let i=m;i>=c;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(g[a]=+!!s),v[i]=(v[i+1]<<1|1)&s,r&&(v[i]|=(y[i+1]|y[i])<<1|1|y[i+1]),v[i]&T&&(A=b(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:u}),A<=_)){if(_=A,h=a,h<=f)break;c=Math.max(1,2*f-h)}}if(b(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:u})>_)break;y=v}const S={isMatch:h>=0,score:Math.max(.001,A)};if(p){const e=function(e=[],t=m.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function x(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class T{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:x(e),startIndex:t})},l=this.pattern.length;if(l>w){let e=0;const t=l%w,n=l-t;for(;e<n;)u(this.pattern.substr(e,w),e),e+=w;if(t){const e=l-w;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let u=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=A(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});h&&(d=!0),l+=p,h&&m&&(u=[...u,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=u),f}}class S{constructor(e){this.pattern=e}static isMultiMatch(e){return M(e,this.multiRegex)}static isSingleMatch(e){return M(e,this.singleRegex)}search(){}}function M(e,t){const n=e.match(t);return n?n[1]:null}class k extends S{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){super(e),this._bitapSearch=new T(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class C extends S{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const I=[class extends S{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},C,class extends S{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},k],E=I.length,L=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const O=new Set([k.type,C.type]);class P{constructor(e,{isCaseSensitive:t=m.isCaseSensitive,includeMatches:n=m.includeMatches,minMatchCharLength:r=m.minMatchCharLength,ignoreLocation:o=m.ignoreLocation,findAllMatches:i=m.findAllMatches,location:a=m.location,threshold:s=m.threshold,distance:c=m.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(L).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<E;){const e=I[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<E;){const e=I[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:c,indices:u,score:l}=r.search(e);if(!c){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;O.has(e)?i=[...i,...u]:i.push(u)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const F=[];function R(e,t){for(let n=0,r=F.length;n<r;n+=1){let r=F[n];if(r.condition(e,t))return new r(e,t)}return new T(e,t)}const $="$and",B="$or",D="$path",H="$val",j=e=>!(!e[$]&&!e[B]),N=e=>({[$]:Object.keys(e).map((t=>({[t]:e[t]})))});function V(e,t,{auto:n=!0}={}){const i=e=>{let a=Object.keys(e);const c=(e=>!!e[D])(e);if(!c&&a.length>1&&!j(e))return i(N(e));if((e=>!r(e)&&s(e)&&!j(e))(e)){const r=c?e[D]:a[0],i=c?e[H]:e[r];if(!o(i))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:p(r),pattern:i};return n&&(s.searcher=R(i,t)),s}let u={children:[],operator:a[0]};return a.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(i(e))}))})),u};return j(e)||(e=N(e)),i(e)}function G(e,t){const n=e.matches;t.matches=[],c(n)&&n.forEach((e=>{if(!c(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function W(e,t){t.score=e.score}class q{constructor(e,t={},n){this.options={...m,...t},this.options.useExtendedSearch,this._keyStore=new f(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){c(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let u=o(e)?o(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=m.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(u,{ignoreFieldNorm:c}),a&&u.sort(s),i(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=m.includeMatches,includeScore:r=m.includeScore}={}){const o=[];return n&&o.push(G),r&&o.push(W),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=R(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!c(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=V(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===$)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(c(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=R(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!c(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!c(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!c(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:c}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:c})}return o}}q.version="6.6.2",q.createIndex=y,q.parseIndex=function(e,{getFn:t=m.getFn,fieldNormWeight:n=m.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new v({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},q.config=m,q.parseQuery=V,function(...e){F.push(...e)}(P)},262:function(e,t,n){n(263),e.exports=n(3).Object.getPrototypeOf},263:function(e,t,n){var r=n(38),o=n(113);n(61)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},264:function(e,t,n){e.exports={default:n(265),__esModule:!0}},265:function(e,t,n){n(266),e.exports=n(3).Object.setPrototypeOf},266:function(e,t,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(267).set})},267:function(e,t,n){var r=n(15),o=n(22),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(23)(Function.call,n(111).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},280:function(e,t,n){n(281),e.exports=n(3).Object.values},281:function(e,t,n){var r=n(9),o=n(282)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},282:function(e,t,n){var r=n(36),o=n(29),i=n(50).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),c=s.length,u=0,l=[];c>u;)i.call(a,n=s[u++])&&l.push(e?[n,a[n]]:a[n]);return l}}},285:function(e,t,n){e.exports={default:n(286),__esModule:!0}},286:function(e,t,n){n(287),e.exports=n(3).Math.hypot},287:function(e,t,n){var r=n(9),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},33:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(27),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},338:function(e,t,n){n(51),n(37),n(40),n(339),n(340),n(341),n(342),e.exports=n(3).Map},339:function(e,t,n){"use strict";var r=n(119),o=n(42),i="Map";e.exports=n(88)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},340:function(e,t,n){var r=n(9);r(r.P+r.R,"Map",{toJSON:n(121)("Map")})},341:function(e,t,n){n(89)("Map")},342:function(e,t,n){n(90)("Map")},345:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},365:function(e,t,n){"use strict";n.r(t);var r=n(7);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const c=document.createElement("style");c.appendChild(o(s,n,i)),t.appendChild(c)}const a="application/font-woff",s="image/jpeg",c={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function u(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return c[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=u(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await g(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}function m(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function g(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=null!=(a=e).tagName&&"SLOT"===a.tagName.toUpperCase()&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);var a;return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>g(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>m(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await g(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const v=/url\((['"]?)([^'"]+?)\1\)/g,y=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,b=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function w(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=u(t);let c;if(i){c=d(await i(a),s)}else c=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${c}$3`)}catch(e){}return e}function A(e){return-1!==e.search(v)}async function x(e,t,n){if(!A(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(b,(e=>{for(;;){const[n,,r]=y.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(v,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>w(e,r,t,n)))),Promise.resolve(r))}async function T(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await x(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,u(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>T(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const S={};async function M(e){let t=S[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},S[e]=t,t}async function k(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function C(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function I(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=M(e.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(M(n.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>A(e.style.getPropertyValue("src"))))}(o)}async function E(e,t){const n=await I(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return x(e.cssText,n,t)})))).join("\n")}async function L(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await g(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await E(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await T(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await L(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),c=s.getContext("2d"),u=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*u,s.height=d*u,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(a,0,0,s.width,s.height),s}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await O(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function F(e,t={}){return(await O(e,t)).toDataURL()}async function R(e,t={}){return(await O(e,t)).toDataURL("image/jpeg",t.quality||1)}async function $(e,t={}){const n=await O(e,t);return await Object(r.a)(n)}async function B(e,t={}){return E(e,t)}n.d(t,"toSvg",(function(){return L})),n.d(t,"toCanvas",(function(){return O})),n.d(t,"toPixelData",(function(){return P})),n.d(t,"toPng",(function(){return F})),n.d(t,"toJpeg",(function(){return R})),n.d(t,"toBlob",(function(){return $})),n.d(t,"getFontEmbedCSS",(function(){return B}))},4:function(e,t,n){e.exports={default:n(262),__esModule:!0}},43:function(e,t,n){e.exports={default:n(240),__esModule:!0}},5:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},57:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(94))},6:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(264)),o=a(n(18)),i=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},66:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},7:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function c(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const u=16384;function l(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(66))},97:function(e,t,n){e.exports={default:n(280),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=h(i(16)),n=h(i(31)),a=h(i(27)),o=h(i(0)),s=h(i(1)),u=h(i(10));e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=c,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=function(t){return"object"===(void 0===t?"undefined":(0,u.default)(t))&&!!t},e.isString=function(t){if(c(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(c(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return p.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,a.default)(new n.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),m=u-n,v=l-a,g=Math.sqrt(m*m+v*v);if(d(p))return d(g)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,g);var y=h/p,x=c/p,b=y*m+x*v;if(!function(t){return t>f}(b))return r.x=e.x,r.y=e.y,g;if(!function(t){return t<-f}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,r.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return l.default.transform([t[0],t[1]],l.default.WGS84,l.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}};var l=h(i(93));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return null==t}var p=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,o.default)(this,t),this.fns=[]}return(0,s.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function d(t){return t<f&&t>-f}var f=1e-5},128:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},152:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(153),a=(r=n)&&r.__esModule?r:{default:r};var o=i(235);e.THREE_=o,e.esWorker=a.default},153:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(156));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(157))}}]),t}();e.default=s},157:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(158)),n=a(i(209));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},158:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(27)),n=d(i(53)),a=d(i(164)),o=d(i(2)),s=d(i(16)),u=d(i(0)),l=d(i(1)),h=i(39),c=i(30),p=i(208);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"createRooms",value:function(t){var e={},i={},r={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var s=t.lod,u={},l=t.id,p={},d={},f=t.fnum,v={},g=[],y=[],x=[],b=[],w=[],_={},M=t.layers,S=t.layerType,A=t.bid,T=t.isTile,L=5,P=t.isMerge,C=t.showBase,E=t.editMode,I={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},D=0,B=this;if(!m){var O=t.maxX-t.minX;m=B.getRandomHeight(O)}for(var z=0;z<M.length;z++){var N,R=M[z];switch(S){case 0:N=R.modelbases;break;case 1:N=R.models}for(var F=N.length,U=0;U<F;U++){var k=N[U];if(k.hasOwnProperty("RoomHigh")&&null!=k.RoomHigh&&k.RoomHigh>0&&(L=k.RoomHigh),k.hasOwnProperty("RoomLogo")&&null!=k.RoomLogo&&k.RoomLogo.length>1&&0==k.FsId&&""!=k.RoomLogoSize){for(var G=k.RoomLogoSize.split(";"),V=k.RoomLogo.split(";"),W=[],H=0;H<G.length;H++){var j={};j.layerType=S,j.RoomStyle=k.RoomStyle,j.fnum=f,j.dataID=k.FC;var X=G[H].split(",");if(j.coord={x:k.CenX,y:k.CenY},j.size=[parseFloat(X[0]),parseFloat(X[1])],j.RoomLogo=V[H],j.id=k.oid,j.height=k.RoomHigh+.05,j.rotate=X.length>2?parseFloat(X[2]):0,j.angle=X.length>3?parseFloat(X[3]):0,j.offset=X.length>5?{x:parseFloat(X[4]),y:parseFloat(X[5]),z:parseFloat(X[6])||0}:{x:0,y:0,z:0},k.hasOwnProperty("offset")&&k.offset.length>0&&!(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel)){var q=k.offset.split(",");j.offset.x+=parseFloat(q[0]),j.offset.z+=parseFloat(q[1]),j.offset.y+=parseFloat(q[2])}var Y=void 0;j.repeatType=1*X[7];var J=1*X[3];if(1*J<3){j.TextureType=J,(Y=new h.PlaneBufferGeometry(1,1,1,1)).scale(j.size[0],j.size[1],1),j.angle?(Y.rotateZ((180-j.rotate)*(Math.PI/180)),Y.rotateX(Math.PI)):(Y.rotateX(-Math.PI/2),Y.rotateZ((j.rotate-180)*(Math.PI/180))),Y.translate(-I.sceneX-j.coord.x+j.offset.x,j.coord.y-I.sceneZ+j.offset.y,-(j.offset.z+j.height));var Z=new Array(Y.attributes.position.count);Z.fill(0,0,Y.attributes.position.count),Y.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Z),1)),P?(g.push(j),y.push(Y)):(p[k.oid]||(p[k.oid]=[]),v[k.oid]||(v[k.oid]=[]),p[k.oid].push(j),v[k.oid]=Y)}else j.TextureType=J,j.RS=k.RS,W.push(j)}if(W.length>0)if(P){var Q=f+"_"+S+"_"+k.RoomStyle+"_"+k.RoomLogo+"_"+k.RoomLogoSize;i[Q]||(i[Q]=!0,x.push(W))}else d[k.oid]=W}if(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel){var K={model:k.RModel,name:k.name,scale:k.scale,dataID:k.FC,mapId:k.bids,rotate:k.rotate,x:k.CenX,y:k.CenY,gid:k.gid,offset:k.offset,id:k.oid,bclick:k.bclick,rank:k.ShowLevel,top:k.top};if(K.roomdata=k,k.RModel.indexOf("BIM-")>-1?(K.fnum=f,w.push(K)):b.push(K),!E)continue}var $=0;void 0===($=T?E?k.RoomStyle:this.tileStylesMap[k.RoomStyle]:P?k.texturekey?k.texturekey:k.RoomStyle:k.oid||0)&&($=0),e[$]||(e[$]={},r.extrudes[$]=[],r.planes[$]=[],r.tubes[$]=[],u[$]=[],e[$].brothers=[],e[$].groupIndex=0,e[$].lineIndex=0,e[$].planes=null,P&&(_[$]={}));var tt,et=!1,it=!1;if(L<=.3&&[120005,40003,40004].indexOf(k.Typeid),!C||!k.RModel||2!=k.top&&3!=k.top)if(k.isTube?(it=!0,tt=B.createTubeGeo(k,I,L,1,et)):tt=B.createGeometry_(k,I,L,1,et,E,T),tt){var rt=tt.geometry,nt=tt.pointsGeometry,at=tt.geometry.userData.groupInfo,ot=e[$],st=r.extrudes[$];it&&(e[$].tubes||(e[$].tubes={brothers:[],groupIndex:0,geos:[]}),ot=e[$].tubes,st=r.tubes[$],e[$].tubes.geos.push(tt));var ut=P?ot.groupIndex:0,lt={},ht=(0,o.default)({},k);if(E&&C&&(lt.data_=ht),lt.FloorNum=ht.floornum,lt.ID=ht.oid,lt.bid=A,lt.name=ht.name,lt.top=ht.top,lt.typeID=ht.Typeid,lt.nodeType=5,lt.isTube=ht.isTube,lt.RoomHigh=ht.RoomHigh,lt.dataID=ht.FC,lt.gid=ht.gid,lt.RoomLogo=ht.RoomLogo,lt.RoomStyle=ht.RoomStyle,lt.classID=ht.classID,lt.points=ht.originalPoints,ht.bids&&(lt.mapId=ht.bids),lt.ShowLevel=ht.ShowLevel||24,lt.TextureType=k.TextureType,lt.mapCoord={x:ht.CenX,y:ht.CenY},T&&(lt.Fnums=ht.fnums,lt.x=ht.x,lt.y=ht.y,lt.size=ht.AS),ot.brothers.push(lt),st.push(rt),D++,it)ot.groupIndex+=rt.index.count,lt.faceRange=[ut,ot.groupIndex];else{if(u[$].push(nt),ot.groupIndex+=rt.attributes.position.count,P){for(var ct=0;ct<at.length;ct++)at[ct].start+=ut;_[$][lt.ID]=at}e[$].lineIndex+=nt.attributes.position.count,lt.faceRange=[ut,ot.groupIndex]}}else r.extrudes[$].push(null),D++,console.info("outline error id: ",k.oid);else r.extrudes[$].push(null),D++}}var pt=[],dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=[],Lt=new Float32Array,Pt=new Float32Array,Ct=new Float32Array,Et=new Uint16Array,It=[],Dt=[],Bt=new Float32Array,Ot=[];if(P&&y.length>0){var zt=c.BufferGeometryUtils.mergeBufferGeometries(y,!0);if(zt){Lt=zt.getAttribute("position").array,Pt=zt.getAttribute("normal").array,Ct=zt.getAttribute("uv").array,Bt=zt.getAttribute("isHideFlags").array,Et=zt.index.array;var Nt=zt.groups;Dt=Nt.map((function(t){return(0,o.default)({},t)}));for(var Rt=[],Ft=0;Ft<g.length;Ft++)Dt[Ft].id=g[Ft].id,0!=Rt.length&&Rt[Rt.length-1]==g[Ft].RoomLogo||Rt.push(g[Ft].RoomLogo),g[Ft].hasOwnProperty("matindex")||(g[Ft].matindex=Nt[Ft].materialIndex),g[Ft+1]&&g[Ft].RoomLogo==g[Ft+1].RoomLogo&&(g[Ft+1].matindex=Nt[Ft].materialIndex,Nt[Ft+1].materialIndex=Nt[Ft].materialIndex);for(var Ut=0;Ut<Nt.length;Ut++)Nt[Ut+1]&&Nt[Ut].materialIndex==Nt[Ut+1].materialIndex&&(Nt[Ut].count=Nt[Ut].count+Nt[Ut+1].count,Nt.splice(Ut+1,1),Ut--);It=Nt}}if(P){for(var kt in r.extrudes)r.extrudes[kt].forEach((function(t){if(t){pt.push(t.getAttribute("uv")),dt.push(t.getAttribute("position")),ft.push(t.getAttribute("normal")),At.push(t.getAttribute("normalizeUv")),mt.push(t.getAttribute("topFaceFlags")),Mt.push(t.getAttribute("isHideFlags")),vt.push(t.getAttribute("highLightFlags")),gt.push(t.getAttribute("buildingsHeight")),yt.push(t.getAttribute("randomFactor")),bt.push(t.getAttribute("highLightColor")),xt.push(t.getAttribute("buildingsColor")),St.push(t.getAttribute("isSelectFlags")),Ot.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&wt.push(e),i&&_t.push(i)}})),u[kt].forEach((function(t){Tt.push(t.getAttribute("position"))}));for(var Gt in r.tubes)if(r.tubes[Gt].length>0){var Vt;Vt=c.BufferGeometryUtils.mergeBufferGeometries(r.tubes[Gt]),e[Gt].tubeData=Vt}var Wt=new Float32Array,Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array,ie=new Float32Array,re=new Float32Array,ne=new Float32Array;return 0!=(0,a.default)(r).length&&0!=pt.length&&(Wt=c.BufferGeometryUtils.mergeBufferAttributes(pt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(At).array,Ht=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(Tt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(Ot).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,re=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array,ne=c.BufferGeometryUtils.mergeBufferAttributes(St).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Kt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,$t=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,te=c.BufferGeometryUtils.mergeBufferAttributes(bt).array,wt.length>0&&(ee=c.BufferGeometryUtils.mergeBufferAttributes(wt).array),_t.length>0&&(ie=c.BufferGeometryUtils.mergeBufferAttributes(_t).array)),void B.worker.postMessage({lod:s,bid:A,isTile:T,id:l,types:e,fnum:t.fnum,pointGeometrys:Xt,layerType:t.layerType,uvs:Wt,rUvs:Yt,normalizeUvs:qt,isMerge:P,vertices:Ht,highLightColorAttr:te,buildingsColorAttr:$t,topFaceFlags:Jt,isHideFlags:re,isSelectFlags:ne,highLightFlags:Zt,buildingsHeight:Qt,buildingsRandomFactor:Kt,topTexIndex:ee,sideTexIndex:ie,bimModelData:w,showBase:C,normals:jt,groups:_,modelTexturesData:x,modelImagesData:g,model3DData:b,modelImagePos:Lt,modelImageNor:Pt,modelImageUv:Ct,modelImageGroups:It,modelImageIndex:Et,modelImageHideFlags:Bt,modelImageGroupsCopy:Dt},[Wt.buffer,qt.buffer,Ht.buffer,jt.buffer,Xt.buffer,Lt.buffer,Pt.buffer,Ct.buffer,Et.buffer,Jt.buffer,re.buffer,Zt.buffer,Qt.buffer,Kt.buffer,te.buffer,$t.buffer,ee.buffer,ie.buffer,ne.buffer,Yt.buffer,Bt.buffer])}var ae=!1,oe=!1,se=function(i){oe=!0,r.planes[i].forEach((function(r,n){var a=new Float32Array,o=new Float32Array,h=new Float32Array,c={},f=[],m=new Float32Array;r?(c[i]={brothers:[],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex,planes:e[i].planes},a=r.getAttribute("uv").array,o=r.getAttribute("normal").array,h=r.getAttribute("position").array,m=u[i][0].getAttribute("position").array):c[i]=null;var g=p[i]||null;ae||(ae=!0,f=b);var y=new Float32Array,x=new Float32Array,M=new Float32Array,S=new Uint16Array,T=[];v[i]&&(y=v[i].getAttribute("position").array,x=v[i].getAttribute("normal").array,M=v[i].getAttribute("uv").array,S=v[i].index.array,T=v[i].groups),B.worker.postMessage({lod:s,bid:A,id:l,types:c,fnum:t.fnum,roomid:i,layerType:t.layerType,pointGeometrys:m,uvs:a,normals:o,isMerge:P,vertices:h,modelImagesData:g,modelTexturesData:d,groups:_,postcount:D,showBase:C,model3DData:f,bimModelData:w,modelImagePos:y,modelImageNor:x,modelImageUv:M,modelImageGroups:T,modelImageIndex:S},[a.buffer,h.buffer,o.buffer,y.buffer,m.buffer,x.buffer,M.buffer,S.buffer]),D--}))};for(var ue in r.planes)se(ue);for(var le in r.tubes)if(r.tubes[le].length>0){var he=(0,n.default)({},le,e[le]);he[le].tubeData=r.tubes[le][0],B.worker.postMessage({id:l,types:he,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:le,model3DData:[],isMerge:P,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:D,showBase:C}),D--}var ce=function(i){oe=!0,r.extrudes[i].forEach((function(r,a){var o=new Float32Array,h=new Float32Array,c=new Float32Array,f=new Float32Array,m={},g=[],y=[],x=new Float32Array,_=(0,n.default)({},i,r?(0,n.default)({},i,r.userData.groupInfo):[]);r?(m[i]={brothers:[e[i].brothers[a]],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex},o=r.getAttribute("uv").array,h=r.getAttribute("normal").array,c=r.getAttribute("normalizeUv").array,f=r.getAttribute("position").array,x=u[i][0].getAttribute("position").array):m[i]=null;var M=p[i]||null,S=d[i]||null;ae||(ae=!0,g=b,y=w);var T=new Float32Array,L=new Float32Array,E=new Float32Array,I=new Uint16Array,O=[];if(v[i]){var z=v[i];T=z.getAttribute("position").array,L=z.getAttribute("normal").array,E=z.getAttribute("uv").array,I=z.index.array,O=z.groups}B.worker.postMessage({bid:A,lod:s,id:l,types:m,fnum:t.fnum,layerType:t.layerType,pointGeometrys:x,uvs:o,normals:h,roomid:i,isMerge:P,vertices:f,modelImagesData:M,modelTexturesData:S,groups:_,postcount:D,normalizeUvs:c,showBase:C,model3DData:g,bimModelData:y,modelImagePos:T,modelImageNor:L,modelImageUv:E,modelImageGroups:O,modelImageIndex:I},[o.buffer,f.buffer,h.buffer,T.buffer,c.buffer,x.buffer,L.buffer,E.buffer,I.buffer]),D--}))};for(var pe in r.extrudes)ce(pe);oe||B.worker.postMessage({id:l,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.styleIndexMap;g=y[t.RoomStyle]?y[t.RoomStyle][1]:0}var x=o;a&&(i=0),t.normalizeTop&&x&&(f=!0),t.normalizeSide&&x&&(v=!0);var b=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var w,_=new h.Shape,M=0;M<u.length;M++){var S=u[M];0==M?_.moveTo(S.x-c,S.y-d):_.lineTo(S.x-c,S.y-d),b.push(new h.Vector3(S.x-c,S.y-d,0),new h.Vector3(S.x-c,S.y-d,0))}if(t.holes&&t.holes.length>0)for(var A in t.holes){var T=t.holes[A],L=new h.Path;for(var M in T){S=T[M];0==M?L.moveTo(S.x-c,S.y-d):L.lineTo(S.x-c,S.y-d)}_.holes.push(L)}w=a?new h.ShapeBufferGeometry(_):new h.ExtrudeBufferGeometry(_,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var P=e.minX,C=e.minY,E=e.maxX-P,I=e.maxY-C,D=w.getAttribute("uv"),B=w.getAttribute("normal").array,O=w.getAttribute("position").array,z=(0,p.getRUv)(_,{height:i,gridSize:{x:i,y:i}}),N=[];A=0;var R=D.array,F=(0,r.default)(R),U=(Math.max(E,I),D.count/3),k=e.floorCenX,G=e.floorCenZ,V=Math.abs(k)-Math.abs(e.sceneX),W=Math.abs(G)-Math.abs(e.sceneZ);if(n){if(!a){var H=function(t){var e={x:O[9*t],y:O[9*t+1]},i={x:O[9*t+3],y:O[9*t+4]},r={x:O[9*t+6],y:O[9*t+7]};return B[9*t+2]==B[9*t+5]?l.getDis(e,i):B[9*t+2]==B[9*t+8]?l.getDis(e,r):B[9*t+5]==B[9*t+8]?l.getDis(i,r):void 0};w.computeBoundingBox();var j=w.boundingBox.max,X=w.boundingBox.min,q=new h.Vector2(0-X.x,0-X.y),Y=new h.Vector2(j.x-X.x,j.y-X.y),J=Y.x/1,Z=Y.y/1,Q=1,K=1;for(f&&(Q=J,K=Z),U=w.groups[0].count/3;A<U;A++)R[6*A]=(O[9*A]+q.x)/Q,R[6*A+1]=(O[9*A+1]+q.y)/K,R[6*A+2]=(O[9*A+3]+q.x)/Q,R[6*A+3]=(O[9*A+4]+q.y)/K,R[6*A+4]=(O[9*A+6]+q.x)/Q,R[6*A+5]=(O[9*A+7]+q.y)/K,F[6*A]=(O[9*A]+q.x)/J,F[6*A+1]=(O[9*A+1]+q.y)/Z,F[6*A+2]=(O[9*A+3]+q.x)/J,F[6*A+3]=(O[9*A+4]+q.y)/Z,F[6*A+4]=(O[9*A+6]+q.x)/J,F[6*A+5]=(O[9*A+7]+q.y)/Z;for(var $=w.groups[1].count/6,tt=U/2,et=0;et<$;et++,tt++){var it=H(2*tt);it<1&&(it=1),v?(R[12*tt]=1,R[12*tt+1]=1,R[12*tt+2]=0,R[12*tt+3]=1,R[12*tt+4]=1,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=1,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=1,R[12*tt+11]=0):(R[12*tt]=it,R[12*tt+1]=i,R[12*tt+2]=0,R[12*tt+3]=i,R[12*tt+4]=it,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=i,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=it,R[12*tt+11]=0),F[12*tt]=1,F[12*tt+1]=1,F[12*tt+2]=0,F[12*tt+3]=1,F[12*tt+4]=1,F[12*tt+5]=0,F[12*tt+6]=0,F[12*tt+7]=1,F[12*tt+8]=0,F[12*tt+9]=0,F[12*tt+10]=1,F[12*tt+11]=0}}}else for(;A<U;A++)N[6*A]=(O[9*A]-P-k+V)/E,N[6*A+1]=(O[9*A+1]-C+G-W)/I,N[6*A+2]=(O[9*A+3]-P-k+V)/E,N[6*A+3]=(O[9*A+4]-C+G-W)/I,N[6*A+4]=(O[9*A+6]-P-k+V)/E,N[6*A+5]=(O[9*A+7]-C+G-W)/I;var rt=(new h.BufferGeometry).setFromPoints(b),nt=[],at=rt.getAttribute("position").array,ot=null;if(s&&this.styleIndexMap&&(ot=this.getStyleFromRoomStyle(t.RoomStyle)),n){var st={x:0,y:0,z:0};if(t.offset&&!t.RModel){var ut=t.offset.split(",");ut.length>=2&&(st.x+=parseFloat(ut[0]),st.y+=parseFloat(ut[2]),st.z+=parseFloat(ut[1]))}st.z+=i;var lt=w.getAttribute("position").count,ht=w.getAttribute("position").array,ct=st.z;if(a)for(var pt,dt=3*lt;pt<dt;pt+=3)ht[pt]-=ct;else{var ft=[],mt=[],vt=[],gt=[],yt=w.getAttribute("normal").array,xt=w.getAttribute("uv").array,bt=[];n&&(bt=F);for(var wt=[],_t=ht[2],Mt=ot?1*ot.height:0,St=0,At=0;At<lt;At++)ht[3*At+2]==_t||0!=St&&At>St?(mt.push(ht[3*At],ht[3*At+1],ht[3*At+2]-ct-Mt),ft.push(yt[3*At],yt[3*At+1],yt[3*At+2]),vt.push(xt[2*At],xt[2*At+1]),wt.push(z[2*At],z[2*At+1]),n&&gt.push(bt[2*At],bt[2*At+1])):0==St&&(St=2*At);w.addAttribute("position",new h.BufferAttribute(new Float32Array(mt),3)),w.addAttribute("normal",new h.BufferAttribute(new Float32Array(ft),3)),w.addAttribute("uv",new h.BufferAttribute(new Float32Array(vt),2)),w.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(gt),2)),w.addAttribute("rUv",new h.BufferAttribute(new Float32Array(wt),2)),w.groups[0].count-=St/2,w.groups[1].start-=St/2}st.z-=.002;for(var Tt=m,Lt=at.length,Pt=0;Pt<=Lt-3;Pt+=3){at[Pt];at[Pt]+=parseFloat(st.x),at[Pt+1]+=parseFloat(st.y),at[Pt+2]-=parseFloat(st.z),0==Pt||Pt==Lt-3?nt.push(at[Pt],at[Pt+1],at[Pt+2]):nt.push(at[Pt],at[Pt+1],at[Pt+2]-Tt,at[Pt],at[Pt+1],at[Pt+2]-Tt)}}else w.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(N),2));nt=new Float32Array(nt);var Ct=rt.getAttribute("position");if(Ct.setArray(nt),Ct.needsUpdate=!0,!a){var Et=w.groups;w.userData.groupInfo=Et,w.clearGroups(),w.addGroup(Et[0].start,Et[1].start+Et[1].count,0);var It=w.attributes.position.count,Dt=new Array(It);Dt.fill(1,Et[0].start,Et[1].start),Dt.fill(0,Et[1].start,Et[1].start+Et[1].count),w.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Dt),1));var Bt=new Array(It);Bt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(It);Ot.fill(i,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(It);zt.fill(h.Math.randFloat(0,1),Et[0].start,Et[1].start+Et[1].count),w.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(It);Nt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(It);Rt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=[],Ut=[],kt=void 0,Gt=void 0;if(kt=new Array(It),Gt=new Array(It),ot&&ot.filltype&&1*ot.filltype==1&&ot.color)for(var Vt=ot.color.split(","),Wt=0;Wt<It;Wt++)Ft.push(1*Vt[0]/255,1*Vt[1]/255,1*Vt[2]/255,1*ot.opacity),Ut.push(1,1,1,1);else if(ot&&ot.filltype&&1*ot.filltype==2&&(ot.topimage||ot.sideimage)){for(var Ht=0;Ht<It;Ht++)Ft.push(1,1,1,1*ot.opacity),Ut.push(1,1,1,1);ot.topimage&&kt.fill(g,0,Et[1].start+Et[1].count),ot.sideimage&&Gt.fill(g,0,Et[1].start+Et[1].count)}w.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ft),4)),w.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(Ut),4)),w.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(kt),1)),w.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Gt),1))}return{geometry:w,pointsGeometry:rt,model:t}}return null}}]),t}();e.default=v},208:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(39);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},209:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(16)),n=d(i(12)),a=d(i(13)),o=d(i(8)),s=d(i(0)),u=d(i(1)),l=d(i(219)),h=d(i(220)),c=i(39),p=i(30);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(e=this).useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},219:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(11);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},220:function(t,e,i){"use strict";var r=a(i(10)),n=a(i(16));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(65),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},235:function(t,e,i){"use strict";var r=i(236),n=i(237),a=i(238),o=i(39);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},236:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(12)),n=s(i(13)),a=s(i(2)),o=i(128);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(39),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a,s){var u,l,c,p,d,f,m,v,g,y,x,b,w,_,M,S;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&!THREE.ESCache.enabled&&(s=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),u=this,void 0===(l=o.Cache.get(e))){t.next=10;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 10:if(!s||!s.updatetime){t.next=23;break}if(!(c=s.updatetime)){t.next=23;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:c});case 15:if(!t.sent){t.next=23;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(p=t.sent)){t.next=23;break}return i&&i(p.data),t.abrupt("return");case 23:if(void 0===h[e]){t.next=26;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 26:if(d=/^data:(.*?)(;base64)?,(.*)$/,!(f=e.match(d))){t.next=58;break}m=f[1],v=!!f[2],g=f[3],g=decodeURIComponent(g),v&&(g=atob(g)),t.prev=34,x=(this.responseType||"").toLowerCase(),t.t0=x,t.next="arraybuffer"===t.t0||"blob"===t.t0?39:"document"===t.t0?43:"json"===t.t0?46:48;break;case 39:for(b=new Uint8Array(g.length),w=0;w<g.length;w++)b[w]=g.charCodeAt(w);return y="blob"===x?new Blob([b.buffer],{type:m}):b.buffer,t.abrupt("break",50);case 43:return _=new DOMParser,y=_.parseFromString(g,m),t.abrupt("break",50);case 46:return y=JSON.parse(g),t.abrupt("break",50);case 48:return y=g,t.abrupt("break",50);case 50:setTimeout((function(){i&&i(y),u.manager.itemEnd(e)}),0),t.next=56;break;case 53:t.prev=53,t.t1=t.catch(34),setTimeout((function(){a&&a(t.t1),u.manager.itemError(e),u.manager.itemEnd(e)}),0);case 56:t.next=71;break;case 58:for(S in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(M=new XMLHttpRequest).open("GET",e,!0),M.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){s&&s.updatetime&&THREE.ESCache.upsert({id:e,data:i,updatetime:s.updatetime}),this.status;for(var n=0,a=r.length;n<a;n++)(l=r[n]).onLoad&&l.onLoad(i);u.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var l;(l=r[n]).onError&&l.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}}),!1),M.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),M.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),M.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(M.responseType=this.responseType),void 0!==this.withCredentials&&(M.withCredentials=this.withCredentials),M.overrideMimeType&&M.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)M.setRequestHeader(S,this.requestHeader[S]);M.send(null);case 71:return u.manager.itemStart(e),t.abrupt("return",M);case 73:case"end":return t.stop()}}),t,this,[[34,53]])}))),function(t,e,i,r,n){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},237:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(12)),a=u(i(13)),o=u(i(2)),s=i(128);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a,o){var u,l,h,c,p,d,f,m,v,g,y,x;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o&&!THREE.ESCache.enabled&&(o=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),u=this,void 0===(l=s.Cache.get(e))){t.next=10;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 10:if(!o||!o.updatetime){t.next=29;break}if(!(h=o.updatetime)){t.next=29;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=29;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=29;break}return p=c.data,d=document.createElementNS("http://www.w3.org/1999/xhtml","img"),f=window.URL||window.webkitURL,m=f.createObjectURL(p),d.src=m,d.setAttribute("originalSrc",e),d.onload=function(){i&&i(this)},t.abrupt("return");case 29:return v=document.createElementNS("http://www.w3.org/1999/xhtml","img"),o&&o.updatetime?((g=new XMLHttpRequest).open("GET",e,!0),g.responseType="blob",g.onload=function(){if(200==this.status){var t=g.response;if(!t)return;THREE.ESCache.upsert({id:e,data:t,updatetime:o.updatetime||(new Date).getTime()/1e3});var r=(window.URL||window.webkitURL).createObjectURL(t);v.src=r,v.setAttribute("originalSrc",e),v.addEventListener("load",(function(){i&&i(this)}),!1),v.addEventListener("error",(function(t){a&&a(t)}),!1)}},g.send()):(y=function t(){v.removeEventListener("load",t,!1),v.removeEventListener("error",x,!1),s.Cache.add(e,this),i&&i(this),u.manager.itemEnd(e)},x=function t(i){v.removeEventListener("load",y,!1),v.removeEventListener("error",t,!1),a&&a(i),u.manager.itemError(e),u.manager.itemEnd(e)},v.addEventListener("load",y,!1),v.addEventListener("error",x,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(v.crossOrigin=this.crossOrigin),u.manager.itemStart(e),v.src=e),t.abrupt("return",v);case 32:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n,a){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},238:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r,n){var a=new THREE.Texture,o=new THREE.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(i){a.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);a.format=r?THREE.RGBFormat:THREE.RGBAFormat,a.needsUpdate=!0,void 0!==e&&e(a)}),i,r,n),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},30:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(199)),n=u(i(91)),a=u(i(16)),o=u(i(31)),s=i(39);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},39:function(t,e,i){"use strict";var r,n,a,o,s=x(i(27)),u=x(i(171)),l=x(i(16)),h=x(i(86)),c=x(i(54)),p=x(i(18)),d=x(i(55)),f=x(i(2)),m=x(i(64)),v=x(i(191)),g=x(i(91)),y=x(i(10));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=100,o=103,x=104,b=300,w=301,_=302,M=304,S=306,A=307,T=1e3,L=1001,P=1002,C=1003,E=1004,I=1005,D=1006,B=1007,O=1008,z=1009,N=1012,R=1014,F=1015,U=1016,k=1020,G=1022,V=1023,W=1026,H=1027,j=33776,X=33777,q=33778,Y=33779,J=35840,Z=35841,Q=35842,K=35843,$=2300,tt=2301,et=2302,it=2400,rt=2401,nt=2402,at=3e3,ot=3007,st={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*st.DEG2RAD},radToDeg:function(t){return t*st.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function ut(t,e){this.x=t||0,this.y=e||0}function lt(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ht(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function ct(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(ut.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(ut.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(lt,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(lt.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(lt.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(st.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ht.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new lt,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new lt;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ht,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ht;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(st.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(ct.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var pt,dt,ft,mt,vt,gt,yt,xt,bt,wt,_t,Mt,St,At,Tt={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Lt=0;function Pt(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:Lt++}),this.uuid=st.generateUUID(),this.name="",this.image=void 0!==t?t:Pt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Pt.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:L,this.wrapT=void 0!==r?r:L,this.magFilter=void 0!==n?n:D,this.minFilter=void 0!==a?a:O,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:V,this.type=void 0!==s?s:z,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:at,this.version=0,this.onUpdate=null}function Ct(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function Et(t,e,i){this.width=t,this.height=e,this.scissor=new Ct(0,0,t,e),this.scissorTest=!1,this.viewport=new Ct(0,0,t,e),i=i||{},this.texture=new Pt(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:D,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function It(t,e,i){Et.call(this,t,e,i),this.samples=4}function Dt(t,e,i){Et.call(this,t,e,i)}function Bt(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:C,this.minFilter=void 0!==l?l:C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Ot(t,e){this.min=void 0!==t?t:new ht(1/0,1/0,1/0),this.max=void 0!==e?e:new ht(-1/0,-1/0,-1/0)}function zt(t,e){this.center=void 0!==t?t:new ht,this.radius=void 0!==e?e:0}function Nt(t,e){this.normal=void 0!==t?t:new ht(1,0,0),this.constant=void 0!==e?e:0}function Rt(t,e,i,r,n,a){this.planes=[void 0!==t?t:new Nt,void 0!==e?e:new Nt,void 0!==i?i:new Nt,void 0!==r?r:new Nt,void 0!==n?n:new Nt,void 0!==a?a:new Nt]}function Ft(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Pt.DEFAULT_IMAGE=void 0,Pt.DEFAULT_MAPPING=b,Pt.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Pt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=st.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(Tt.getDataURL(r[a]))}else n=Tt.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==b)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case T:t.x=t.x-Math.floor(t.x);break;case L:t.x=t.x<0?0:1;break;case P:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case T:t.y=t.y-Math.floor(t.y);break;case L:t.y=t.y<0?0:1;break;case P:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Pt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ct.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===pt&&(pt=new Ct,dt=new Ct),pt.set(t,t,t,t),dt.set(e,e,e,e),this.clamp(pt,dt)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Et.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Et,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),It.prototype=(0,f.default)((0,p.default)(Et.prototype),{constructor:It,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Et.prototype.copy.call(this,t),this.samples=t.samples,this}}),Dt.prototype=(0,p.default)(Et.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isWebGLRenderTargetCube=!0,Bt.prototype=(0,p.default)(Pt.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isDataTexture=!0,(0,f.default)(Ot.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ht;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ht;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ht),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(mt=new ht,function(t){return this.clampPoint(t.center,mt),mt.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ht;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ht;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(ft=[new ht,new ht,new ht,new ht,new ht,new ht,new ht,new ht],function(t){return this.isEmpty()||(ft[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ft[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ft[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ft[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ft[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ft[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ft[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ft[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ft)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(zt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(vt=new Ot,function(t,e){var i=this.center;void 0!==e?i.copy(e):vt.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ht),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new Ot),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(Nt.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ht,e=new ht;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ht;return function(e,i){void 0===i&&(i=new ht);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ht),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ht,e=new ct;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(Rt.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(yt=new zt,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),yt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(yt)}),intersectsSprite:function(){var t=new zt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(gt=new ht,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(gt.x=r.normal.x>0?t.max.x:t.min.x,gt.y=r.normal.y>0?t.max.y:t.min.y,gt.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(gt)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(Ft.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ft).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ht;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(St=new ht(0,0,0),At=new ht(1,1,1),function(t){return this.compose(St,t,At)}),lookAt:(wt=new ht,_t=new ht,Mt=new ht,function(t,e,i){var r=this.elements;return Mt.subVectors(t,e),0===Mt.lengthSq()&&(Mt.z=1),Mt.normalize(),wt.crossVectors(i,Mt),0===wt.lengthSq()&&(1===Math.abs(i.z)?Mt.x+=1e-4:Mt.z+=1e-4,Mt.normalize(),wt.crossVectors(i,Mt)),wt.normalize(),_t.crossVectors(Mt,wt),r[0]=wt.x,r[4]=_t.x,r[8]=Mt.x,r[1]=wt.y,r[5]=_t.y,r[9]=Mt.y,r[2]=wt.z,r[6]=_t.z,r[10]=Mt.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(xt=new ht,bt=new Ft,function(t,e,i){var r=this.elements,n=xt.set(r[0],r[1],r[2]).length(),a=xt.set(r[4],r[5],r[6]).length(),o=xt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],bt.copy(this);var s=1/n,u=1/a,l=1/o;return bt.elements[0]*=s,bt.elements[1]*=s,bt.elements[2]*=s,bt.elements[4]*=u,bt.elements[5]*=u,bt.elements[6]*=u,bt.elements[8]*=l,bt.elements[9]*=l,bt.elements[10]*=l,e.setFromRotationMatrix(bt),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var Ut={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function kt(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function Gt(t){for(var e={},i=0;i<t.length;i++){var r=kt(t[i]);for(var n in r)e[n]=r[n]}return e}var Vt,Wt,Ht,jt={clone:kt,merge:Gt},Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(qt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=st.euclideanModulo(e,1),i=st.clamp(i,0,1),r=st.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=Xt[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(Ht={},function(t,e,i){return this.getHSL(Ht),Ht.h+=t,Ht.s+=e,Ht.l+=i,this.setHSL(Ht.h,Ht.s,Ht.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(Vt={h:0,s:0,l:0},Wt={h:0,s:0,l:0},function(t,e){this.getHSL(Vt),t.getHSL(Wt);var i=st.lerp(Vt.h,Wt.h,e),r=st.lerp(Vt.s,Wt.s,e),n=st.lerp(Vt.l,Wt.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Yt,Jt={common:{diffuse:{value:new qt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ct},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new qt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ct}},sprite:{diffuse:{value:new qt(15658734)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ct}}},Zt={basic:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:Gt([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},matcap:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:Gt([Jt.points,Jt.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:Gt([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:Gt([Jt.common,Jt.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.normal_vert,fragmentShader:Ut.normal_frag},sprite:{uniforms:Gt([Jt.sprite,Jt.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new ct},t2D:{value:null}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:Gt([Jt.common,Jt.displacementmap,{referencePosition:{value:new ht},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:Gt([Jt.lights,Jt.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};function Qt(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Kt(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function $t(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ht,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new qt,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function te(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||te.DefaultOrder}function ee(){this.mask=1}Zt.physical={uniforms:Gt([Zt.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},(0,f.default)($t.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),te.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],te.DefaultOrder="XYZ",(0,d.default)(te.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(te.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=st.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ft;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Yt=new lt,function(t){return Yt.setFromEuler(this),this.setFromQuaternion(Yt,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ht(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ee.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var ie,re,ne,ae,oe,se=0;function ue(){Object.defineProperty(this,"id",{value:se++}),this.uuid=st.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ue.DefaultUp.clone();var t=new ht,e=new te,i=new lt,r=new ht(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ft},normalMatrix:{value:new ct}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ee,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ue.DefaultUp=new ht(0,1,0),ue.DefaultMatrixAutoUpdate=!0,ue.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ue,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(oe=new lt,function(t,e){return oe.setFromAxisAngle(t,e),this.quaternion.multiply(oe),this}),rotateOnWorldAxis:function(){var t=new lt;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ht(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ht(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ht(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ht;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ht(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ht(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ht(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(ae=new Ft,function(t){return t.applyMatrix4(ae.getInverse(this.matrixWorld))}),lookAt:function(){var t=new lt,e=new Ft,i=new ht,r=new ht;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(ne=new Ft,function(t){return this.updateWorldMatrix(!0,!1),ne.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ne.multiply(t.parent.matrixWorld)),t.applyMatrix(ne),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ht),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(ie=new ht,re=new ht,function(t){return void 0===t&&(t=new lt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ie,t,re),t}),getWorldScale:function(){var t=new ht,e=new lt;return function(i){return void 0===i&&(i=new ht),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var le,he,ce=0;function pe(){Object.defineProperty(this,"id",{value:ce+=2}),this.uuid=st.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function de(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function fe(t,e,i){de.call(this,new Int8Array(t),e,i)}function me(t,e,i){de.call(this,new Uint8Array(t),e,i)}function ve(t,e,i){de.call(this,new Uint8ClampedArray(t),e,i)}function ge(t,e,i){de.call(this,new Int16Array(t),e,i)}function ye(t,e,i){de.call(this,new Uint16Array(t),e,i)}function xe(t,e,i){de.call(this,new Int32Array(t),e,i)}function be(t,e,i){de.call(this,new Uint32Array(t),e,i)}function we(t,e,i){de.call(this,new Float32Array(t),e,i)}function _e(t,e,i){de.call(this,new Float64Array(t),e,i)}function Me(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}pe.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:pe,isGeometry:!0,applyMatrix:function(t){for(var e=(new ct).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(he=new ue,function(t){he.lookAt(t),he.updateMatrix(),this.applyMatrix(he.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ht).fromArray(n,l)),void 0!==o&&e.colors.push((new qt).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new $t(t,i,r,void 0===a?[]:[(new ht).fromArray(a,3*t),(new ht).fromArray(a,3*i),(new ht).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new ut).fromArray(s,2*t),(new ut).fromArray(s,2*i),(new ut).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new ut).fromArray(u,2*t),(new ut).fromArray(u,2*i),(new ut).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(le=new ht,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(le).negate(),this.translate(le.x,le.y,le.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new Ft;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ht,e=new ht,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ht;if(t){var s,u,l,h=new ht,c=new ht;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new pe;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ht,l={a:new ht,b:new ht,c:new ht},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new ct).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new $t(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ht(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new pe).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(de.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(de.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new qt),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ut),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ht),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Ct),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),fe.prototype=(0,p.default)(de.prototype),fe.prototype.constructor=fe,me.prototype=(0,p.default)(de.prototype),me.prototype.constructor=me,ve.prototype=(0,p.default)(de.prototype),ve.prototype.constructor=ve,ge.prototype=(0,p.default)(de.prototype),ge.prototype.constructor=ge,ye.prototype=(0,p.default)(de.prototype),ye.prototype.constructor=ye,xe.prototype=(0,p.default)(de.prototype),xe.prototype.constructor=xe,be.prototype=(0,p.default)(de.prototype),be.prototype.constructor=be,we.prototype=(0,p.default)(de.prototype),we.prototype.constructor=we,_e.prototype=(0,p.default)(de.prototype),_e.prototype.constructor=_e,(0,f.default)(Me.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new ut,new ut,new ut)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new ut,new ut,new ut));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ae=1;function Te(){Object.defineProperty(this,"id",{value:Ae+=2}),this.uuid=st.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Le(t,e,i,r,n,a){pe.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new Pe(t,e,i,r,n,a)),this.mergeVertices()}function Pe(t,e,i,r,n,a){Te.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ht;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}function Ce(t,e,i,r){pe.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new Ee(t,e,i,r)),this.mergeVertices()}function Ee(t,e,i,r){Te.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}Te.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Te,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Se(t)>65535?be:ye)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new de(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new ct).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new ct).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new ue;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ht;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new we(3*e.vertices.length,3),r=new we(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new we(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new we(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Me).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new de(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new de(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new de(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new de(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new de(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new we(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new we(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new we(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new Ot;return function(){null===this.boundingBox&&(this.boundingBox=new Ot);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new Ot,e=new Ot,i=new ht;return function(){null===this.boundingSphere&&(this.boundingSphere=new zt);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new de(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ht;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new de(n,r)}if(null===this.index)return this;var e=new Te,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new Te).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Le.prototype=(0,p.default)(pe.prototype),Le.prototype.constructor=Le,Pe.prototype=(0,p.default)(Te.prototype),Pe.prototype.constructor=Pe,Ce.prototype=(0,p.default)(pe.prototype),Ce.prototype.constructor=Ce,Ee.prototype=(0,p.default)(Te.prototype),Ee.prototype.constructor=Ee;var Ie,De,Be,Oe,ze,Ne,Re,Fe,Ue,ke,Ge,Ve,We=0;function He(){Object.defineProperty(this,"id",{value:We++}),this.uuid=st.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function je(t){He.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Xe(t,e){this.origin=void 0!==t?t:new ht,this.direction=void 0!==e?e:new ht}function qe(t,e,i){this.a=void 0!==t?t:new ht,this.b=void 0!==e?e:new ht,this.c=void 0!==i?i:new ht}function Ye(t){He.call(this),this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Je(t,e){ue.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new Ye({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ze(t,e,i,r){var n,a,o=new qt(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Je(new Pe(1,1,1),new je({type:"BackgroundCubeMaterial",uniforms:kt(Zt.cube.uniforms),vertexShader:Zt.cube.vertexShader,fragmentShader:Zt.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Je(new Ee(2,2),new je({type:"BackgroundMaterial",uniforms:kt(Zt.background.uniforms),vertexShader:Zt.background.vertexShader,fragmentShader:Zt.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Qe(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Ke(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function $e(){var t=this,e=null,i=0,r=!1,n=!1,a=new Nt,o=new ct,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function ti(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function ei(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Te).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(Se(a)>65535?be:ye)(a,1),e.update(i,34963),n[t.id]=i,i}}}function ii(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function ri(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function ni(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ai(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(ni),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function oi(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function si(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:w,o=void 0!==o?o:G,Pt.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function ui(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}function li(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}He.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:He,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=(0,p.default)(He.prototype),je.prototype.constructor=je,je.prototype.isShaderMaterial=!0,je.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=kt(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},je.prototype.toJSON=function(t){var e=He.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Xe.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ht),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ht;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ht),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ht;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(De=new ht,Be=new ht,Oe=new ht,function(t,e,i,r){De.copy(t).add(e).multiplyScalar(.5),Be.copy(e).sub(t).normalize(),Oe.copy(this.origin).sub(De);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(Be),h=Oe.dot(this.direction),c=-Oe.dot(Be),p=Oe.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(Be).multiplyScalar(a).add(De),o}),intersectSphere:function(){var t=new ht;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(Ie=new ht,function(t){return null!==this.intersectBox(t,Ie)}),intersectTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(qe,{getNormal:(Ne=new ht,function(t,e,i,r){void 0===r&&(r=new ht),r.subVectors(i,e),Ne.subVectors(t,e),r.cross(Ne);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ht,e=new ht,i=new ht;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ht),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ht;return function(e,i,r,n){return qe.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(ze=new ht,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,ze),s.set(0,0),s.addScaledVector(n,ze.x),s.addScaledVector(a,ze.y),s.addScaledVector(o,ze.z),s}),isFrontFacing:function(){var t=new ht,e=new ht;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(qe.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ht,e=new ht;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ht),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return qe.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ht),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return qe.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return qe.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return qe.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return qe.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(Re=new ht,Fe=new ht,Ue=new ht,ke=new ht,Ge=new ht,Ve=new ht,function(t,e){void 0===e&&(e=new ht);var i,r,n=this.a,a=this.b,o=this.c;Re.subVectors(a,n),Fe.subVectors(o,n),ke.subVectors(t,n);var s=Re.dot(ke),u=Fe.dot(ke);if(s<=0&&u<=0)return e.copy(n);Ge.subVectors(t,a);var l=Re.dot(Ge),h=Fe.dot(Ge);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(Re,i);Ve.subVectors(t,o);var p=Re.dot(Ve),d=Fe.dot(Ve);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(Fe,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return Ue.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(Ue,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(Re,i).addScaledVector(Fe,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Ye.prototype=(0,p.default)(He.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshBasicMaterial=!0,Ye.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Je.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Je,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ue.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new Ft,e=new Xe,i=new zt,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht,h=new ht,c=new ht,p=new ut,d=new ut,f=new ut,m=new ht,v=new ht;function g(t,e,i,r,n,a,o,s){if(null===(1===e.side?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,2!==e.side,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=qe.getUV(m,r,n,a,p,d,f,new ut));var E=new $t(w,_,M);qe.getNormal(r,n,a,E.normal),C.face=E}return C}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=qe.getUV(m,O,z,N,p,d,f,new ut)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),si.prototype=(0,p.default)(Pt.prototype),si.prototype.constructor=si,si.prototype.isCubeTexture=!0,Object.defineProperty(si.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ui.prototype=(0,p.default)(Pt.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture2DArray=!0,li.prototype=(0,p.default)(Pt.prototype),li.prototype.constructor=li,li.prototype.isDataTexture3D=!0;var hi=new Pt,ci=new ui,pi=new li,di=new si,fi=[],mi=[],vi=new Float32Array(16),gi=new Float32Array(9),yi=new Float32Array(4);function xi(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=fi[n];if(void 0===a&&(a=new Float32Array(n),fi[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function bi(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function wi(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function _i(t,e){var i=mi[e];void 0===i&&(i=new Int32Array(e),mi[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function Mi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Si(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(bi(i,e))return;t.uniform2fv(this.addr,e),wi(i,e)}}function Ai(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(bi(i,e))return;t.uniform3fv(this.addr,e),wi(i,e)}}function Ti(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(bi(i,e))return;t.uniform4fv(this.addr,e),wi(i,e)}}function Li(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;yi.set(r),t.uniformMatrix2fv(this.addr,!1,yi),wi(i,r)}}function Pi(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;gi.set(r),t.uniformMatrix3fv(this.addr,!1,gi),wi(i,r)}}function Ci(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;vi.set(r),t.uniformMatrix4fv(this.addr,!1,vi),wi(i,r)}}function Ei(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||hi,n)}function Ii(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||ci,n)}function Di(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||pi,n)}function Bi(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||di,n)}function Oi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function zi(t,e){var i=this.cache;bi(i,e)||(t.uniform2iv(this.addr,e),wi(i,e))}function Ni(t,e){var i=this.cache;bi(i,e)||(t.uniform3iv(this.addr,e),wi(i,e))}function Ri(t,e){var i=this.cache;bi(i,e)||(t.uniform4iv(this.addr,e),wi(i,e))}function Fi(t,e){t.uniform1fv(this.addr,e)}function Ui(t,e){t.uniform1iv(this.addr,e)}function ki(t,e){t.uniform2iv(this.addr,e)}function Gi(t,e){t.uniform3iv(this.addr,e)}function Vi(t,e){t.uniform4iv(this.addr,e)}function Wi(t,e){var i=xi(e,this.size,2);t.uniform2fv(this.addr,i)}function Hi(t,e){var i=xi(e,this.size,3);t.uniform3fv(this.addr,i)}function ji(t,e){var i=xi(e,this.size,4);t.uniform4fv(this.addr,i)}function Xi(t,e){var i=xi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function qi(t,e){var i=xi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Yi(t,e){var i=xi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Ji(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||hi,n[a])}function Zi(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||di,n[a])}function Qi(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Mi;case 35664:return Si;case 35665:return Ai;case 35666:return Ti;case 35674:return Li;case 35675:return Pi;case 35676:return Ci;case 35678:case 36198:return Ei;case 35679:return Di;case 35680:return Bi;case 36289:return Ii;case 5124:case 35670:return Oi;case 35667:case 35671:return zi;case 35668:case 35672:return Ni;case 35669:case 35673:return Ri}}(e.type)}function Ki(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Fi;case 35664:return Wi;case 35665:return Hi;case 35666:return ji;case 35674:return Xi;case 35675:return qi;case 35676:return Yi;case 35678:return Ji;case 35680:return Zi;case 5124:case 35670:return Ui;case 35667:case 35671:return ki;case 35668:case 35672:return Gi;case 35669:case 35673:return Vi}}(e.type)}function $i(t){this.id=t,this.seq=[],this.map={}}Ki.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),wi(e,t)},$i.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var tr=/([\w\d_]+)(\])?(\[|\.)?/g;function er(t,e){t.seq.push(e),t.map[e.id]=e}function ir(t,e,i){var r=t.name,n=r.length;for(tr.lastIndex=0;;){var a=tr.exec(r),o=tr.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){er(i,void 0===l?new Qi(s,t,e):new Ki(s,t,e));break}var h=i.map[s];void 0===h&&er(i,h=new $i(s)),i=h}}function rr(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);ir(n,t.getUniformLocation(e,n.name),this)}}function nr(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}rr.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},rr.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},rr.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},rr.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var ar=0;function or(t){switch(t){case at:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case ot:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function sr(t,e){var i=or(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function ur(t,e){var i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;case 5:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function lr(t){return""!==t}function hr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function cr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function pr(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=Ut[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return pr(i)}))}function dr(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function fr(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?p="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case w:case _:f="ENVMAP_TYPE_CUBE";break;case S:case A:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case M:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case _:case M:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:v="ENVMAP_BLENDING_MULTIPLY";break;case 1:v="ENVMAP_BLENDING_MIX";break;case 2:v="ENVMAP_BLENDING_ADD"}}var g,y,x,b,T,L=t.gammaFactor>0?t.gammaFactor:1,P=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lr).join("\n")}(r.extensions,a,e),C=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),E=u.createProgram();if(r.isRawShaderMaterial?((g=[C].filter(lr).join("\n")).length>0&&(g+="\n"),(y=[P,C].filter(lr).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+L,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lr).join("\n"),y=[P,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+L,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?Ut.tonemapping_pars_fragment:"",0!==a.toneMapping?ur("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Ut.encodings_pars_fragment:"",a.mapEncoding?sr("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?sr("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?sr("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?sr("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",b=a.outputEncoding,T=or(b),"vec4 "+x+"( vec4 value ) { return LinearTo"+T[0]+T[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(lr).join("\n")),h=cr(h=hr(h=pr(h),a),a),c=cr(c=hr(c=pr(c),a),a),h=dr(h),c=dr(c),o.isWebGL2&&!r.isRawShaderMaterial){var I=!1,D=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(D)&&null!==c.match(D)&&(I=!0,h=h.replace(D,""),c=c.replace(D,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",I?"":"out highp vec4 pc_fragColor;",I?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var B,O,z=y+c,N=nr(u,35633,g+h,t.debug.checkShaderErrors),R=nr(u,35632,z,t.debug.checkShaderErrors);if(u.attachShader(E,N),u.attachShader(E,R),void 0!==r.index0AttributeName?u.bindAttribLocation(E,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(E,0,"position"),u.linkProgram(E),t.debug.checkShaderErrors){var F=u.getProgramInfoLog(E).trim(),U=u.getShaderInfoLog(N).trim(),k=u.getShaderInfoLog(R).trim(),G=!0,V=!0;!1===u.getProgramParameter(E,35714)?(G=!1,u.getError(),u.getProgramParameter(E,35715)):""!==F||""!==U&&""!==k||(V=!1),V&&(this.diagnostics={runnable:G,material:r,programLog:F,vertexShader:{log:U,prefix:g},fragmentShader:{log:k,prefix:y}})}return u.deleteShader(N),u.deleteShader(R),this.getUniforms=function(){return void 0===B&&(B=new rr(u,E,s)),B},this.getAttributes=function(){return void 0===O&&(O=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,E)),O},this.destroy=function(){u.deleteProgram(E),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=ar++,this.code=i,this.usedTimes=1,this.program=E,this.vertexShader=N,this.fragmentShader=R,this}function mr(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=at,i===at&&e&&(i=ot),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(i.floatVertexTextures)return 1024;var r=i.maxVertexUniforms,n=Math.floor((r-20)/4),a=Math.min(n,e.length);return a<e.length?(e.length,0):a}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===S||e.envMap.mapping===A),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new fr(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function vr(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function gr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function yr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xr(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(gr),r.length>1&&r.sort(yr)}}}function br(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new xr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new xr,a[r.id]=n),n},dispose:function(){t={}}}}function wr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ht,color:new qt,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"SpotLight":i={position:new ht,direction:new ht,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":i={position:new ht,color:new qt,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ht,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":i={color:new qt,position:new ht,halfWidth:new ht,halfHeight:new ht}}return t[e.id]=i,i}}}var _r=0;function Mr(){for(var t=new wr,e={id:_r++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ht);var r=new ht,n=new Ft,a=new Ft;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function Sr(){var t=new Mr,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function Ar(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new Sr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new Sr,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function Tr(t){He.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Lr(t){He.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ht,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Pr(t,e,i){for(var r=new Rt,n=new Ft,a=new ut,o=new ut(i,i),s=new ht,u=new ht,l=new Array(4),h=new Array(4),c={},p={0:1,1:0,2:2},d=[new ht(1,0,0),new ht(-1,0,0),new ht(0,0,1),new ht(0,0,-1),new ht(0,1,0),new ht(0,-1,0)],f=[new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,0,1),new ht(0,0,-1)],m=[new Ct,new Ct,new Ct,new Ct,new Ct,new Ct],v=0;4!==v;++v){var g=0!=(1&v),y=0!=(2&v),x=new Tr({depthPacking:3201,morphTargets:g,skinning:y});l[v]=x;var b=new Lr({morphTargets:g,skinning:y});h[v]=b}var w=this;function _(e,i,r,n,a,o){var s=e.geometry,u=null,d=l,f=e.customDepthMaterial;if(r&&(d=h,f=e.customDistanceMaterial),f)u=f;else{var m=!1;i.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var v=0;m&&(v|=1),e.isSkinnedMesh&&i.skinning&&(v|=2),u=d[v]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var g=u.uuid,y=i.uuid,x=c[g];void 0===x&&(x={},c[g]=x);var b=x[y];void 0===b&&(b=u.clone(),x[y]=b),u=b}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:p[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function M(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=_(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=_(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)M(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,i,l){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),v=t.getActiveMipMapLevel(),g=t.state;g.setBlending(0),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var y=0,x=e.length;y<x;y++){var b=e[y],_=b.shadow,S=b&&b.isPointLight;if(void 0!==_){var A=_.camera;if(a.copy(_.mapSize),a.min(o),S){var T=a.x,L=a.y;m[0].set(2*T,L,T,L),m[1].set(0,L,T,L),m[2].set(3*T,L,T,L),m[3].set(T,L,T,L),m[4].set(3*T,0,T,L),m[5].set(T,0,T,L),a.x*=4,a.y*=2}if(null===_.map){var P={minFilter:C,magFilter:C,format:V};_.map=new Et(a.x,a.y,P),_.map.texture.name=b.name+".shadowMap",A.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(b);var E=_.map,I=_.matrix;u.setFromMatrixPosition(b.matrixWorld),A.position.copy(u),S?(h=6,I.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),A.lookAt(s),A.updateMatrixWorld(),I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),I.multiply(A.projectionMatrix),I.multiply(A.matrixWorldInverse)),t.setRenderTarget(E),t.clear();for(var D=0;D<h;D++){if(S){s.copy(A.position),s.add(d[D]),A.up.copy(f[D]),A.lookAt(s),A.updateMatrixWorld();var B=m[D];g.viewport(B)}n.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),r.setFromMatrix(n),M(i,l,A,S)}}}w.needsUpdate=!1,t.setRenderTarget(c,p,v)}}}function Cr(t,e,i,r){var n=new function(){var e=!1,i=new Ct,r=null,n=new Ct(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},o=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?k(2929):G(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},s=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?k(2960):G(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},u=t.getParameter(34921),l=new Uint8Array(u),h=new Uint8Array(u),c=new Uint8Array(u),p={},d=null,f=null,m=null,v=null,g=null,y=null,x=null,b=null,w=null,_=null,M=!1,S=null,A=null,T=null,L=null,P=null,C=t.getParameter(35661),E=!1,I=0,D=t.getParameter(7938);-1!==D.indexOf("WebGL")?(I=parseFloat(/^WebGL\ ([0-9])/.exec(D)[1]),E=I>=1):-1!==D.indexOf("OpenGL ES")&&(I=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(D)[1]),E=I>=2);var B=null,O={},z=new Ct,N=new Ct;function R(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var F={};function U(i,n){l[i]=1,0===h[i]&&(t.enableVertexAttribArray(i),h[i]=1),c[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),c[i]=n)}function k(e){!0!==p[e]&&(t.enable(e),p[e]=!0)}function G(e){!1!==p[e]&&(t.disable(e),p[e]=!1)}function V(e,r,n,o,s,u,l,h){if(0!==e){if(m||(k(3042),m=!0),5===e)s=s||r,u=u||n,l=l||o,r===g&&s===b||(t.blendEquationSeparate(i.convert(r),i.convert(s)),g=r,b=s),n===y&&o===x&&u===w&&l===_||(t.blendFuncSeparate(i.convert(n),i.convert(o),i.convert(u),i.convert(l)),y=n,x=o,w=u,_=l),v=e,M=null;else if(e!==v||h!==M){if(g===a&&b===a||(t.blendEquation(32774),g=a,b=a),h)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768)}y=null,x=null,w=null,_=null,v=e,M=h}}else m&&(G(3042),m=!1)}function W(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function H(e){0!==e?(k(2884),e!==A&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):G(2884),A=e}function j(e,i,r){e?(k(32823),L===i&&P===r||(t.polygonOffset(i,r),L=i,P=r)):G(32823)}function X(e){void 0===e&&(e=33984+C-1),B!==e&&(t.activeTexture(e),B=e)}return F[3553]=R(3553,3553,1),F[34067]=R(34067,34069,6),n.setClear(0,0,0,1),o.setClear(1),s.setClear(0),k(2929),o.setFunc(3),W(!1),H(1),k(2884),V(0),{buffers:{color:n,depth:o,stencil:s},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){U(t,0)},enableAttributeAndDivisor:U,disableUnusedAttributes:function(){for(var e=0,i=h.length;e!==i;++e)h[e]!==l[e]&&(t.disableVertexAttribArray(e),h[e]=0)},enable:k,disable:G,getCompressedTextureFormats:function(){if(null===d&&(d=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)d.push(i[r]);return d},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:V,setMaterial:function(t,e){2===t.side?G(2884):k(2884);var i=1===t.side;e&&(i=!i),W(i),1===t.blending&&!1===t.transparent?V(0):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),n.setMask(t.colorWrite),j(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:W,setCullFace:H,setLineWidth:function(e){e!==T&&(E&&t.lineWidth(e),T=e)},setPolygonOffset:j,setScissorTest:function(t){t?k(3089):G(3089)},activeTexture:X,bindTexture:function(e,i){null===B&&X();var r=O[B];void 0===r&&(r={type:void 0,texture:void 0},O[B]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||F[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===z.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),z.copy(e))},viewport:function(e){!1===N.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},reset:function(){for(var e=0;e<h.length;e++)1===h[e]&&(t.disableVertexAttribArray(e),h[e]=0);p={},d=null,B=null,O={},f=null,v=null,S=null,A=null,n.reset(),o.reset(),s.reset()}}}function Er(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?st.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return st.isPowerOfTwo(t.width)&&st.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==C&&t.minFilter!==D}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===C||t===E||t===I?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==V&&e.format!==G?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==L||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==C&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===F&&null===e.get("OES_texture_float_linear"))return;if(o.type===U&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==L||t.wrapT!==L||t.minFilter!==C&&t.minFilter!==D)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===F){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===W&&6402===y&&r.type!==N&&r.type!==R&&(r.type=N,g=a.convert(r.type)),r.format===H&&(y=34041,r.type!==k&&(r.type=k,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==V&&r.format!==G?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=O(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=O(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=O(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function B(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===W)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==H)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),P(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),P(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function O(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var z=!1,j=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=O(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),P(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&B(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===z&&(z=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===j&&(j=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function Ir(t,e,i){return{convert:function(t){var r;if(t===T)return 10497;if(t===L)return 33071;if(t===P)return 33648;if(t===C)return 9728;if(t===E)return 9984;if(t===I)return 9986;if(t===D)return 9729;if(t===B)return 9985;if(t===O)return 9987;if(t===z)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===N)return 5123;if(1013===t)return 5124;if(t===R)return 5125;if(t===F)return 5126;if(t===U){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===t)return 6406;if(t===G)return 6407;if(t===V)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===W)return 6402;if(t===H)return 34041;if(1028===t)return 6403;if(t===a)return 32774;if(101===t)return 32778;if(102===t)return 32779;if(200===t)return 0;if(201===t)return 1;if(202===t)return 768;if(203===t)return 769;if(204===t)return 770;if(205===t)return 771;if(206===t)return 772;if(207===t)return 773;if(208===t)return 774;if(209===t)return 775;if(210===t)return 776;if((t===j||t===X||t===q||t===Y)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===j)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===X)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===q)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Y)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===J||t===Z||t===Q||t===K)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===J)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Z)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Q)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===K)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===o||t===x){if(i.isWebGL2){if(t===o)return 32775;if(t===x)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===o)return r.MIN_EXT;if(t===x)return r.MAX_EXT}}if(t===k){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Dr(){ue.call(this),this.type="Group"}function Br(){ue.call(this),this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft}function Or(t,e,i,r){Br.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function zr(t){Or.call(this),cameras=t||[]}Tr.prototype=(0,p.default)(He.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshDepthMaterial=!0,Tr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Lr.prototype=(0,p.default)(He.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshDistanceMaterial=!0,Lr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Dr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Dr,isGroup:!0}),Br.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Br,isCamera:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){ue.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Or.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Or,isPerspectiveCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*st.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*st.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*st.RAD2DEG*Math.atan(Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),zr.prototype=(0,f.default)((0,p.default)(Or.prototype),{constructor:zr,isArrayCamera:!0});var Nr,Rr,Fr,Ur,kr,Gr,Vr=new ht,Wr=new ht;function Hr(t,e,i){Vr.setFromMatrixPosition(e.matrixWorld),Wr.setFromMatrixPosition(i.matrixWorld);var r=Vr.distanceTo(Wr),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function jr(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new Ft,l=new Ft,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new Ft,d=new lt,f=new ht,m=new Or;m.viewport=new Ct,m.layers.enable(1);var v=new Or;v.viewport=new Ct,v.layers.enable(2);var g=new zr([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new ut;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Hr(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Qt;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Xr(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new Or;l.layers.enable(1),l.viewport=new Ct;var h=new Or;h.layers.enable(2),h.viewport=new Ct;var c=new zr([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Hr(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Qt;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new Ft},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function qr(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,M,S,A,T,L,P,C,E,I=this,D=!1,B=null,O=0,N=0,R=null,k=null,G=-1,W={geometry:null,program:null,wireframe:!1},H=null,j=null,X=new Ct,q=new Ct,Y=null,J=e.width,Z=e.height,Q=1,K=new Ct(0,0,J,Z),$=new Ct(0,0,J,Z),tt=!1,et=new Rt,it=new $e,rt=!1,nt=!1,at=new Ft,ot=new ht;function lt(){return null===R?Q:1}try{var ct={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",vt,!1),null===(d=i||e.getContext("webgl",ct)||e.getContext("experimental-webgl",ct)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function pt(){f=new ti(d),(m=new Ke(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),E=new Ir(d,f,m),(v=new Cr(d,f,E,m)).scissor(q.copy($).multiplyScalar(Q)),v.viewport(X.copy(K).multiplyScalar(Q)),g=new ri(d),y=new vr,x=new Er(d,f,v,y,m,E,g),b=new Kt(d),w=new ei(d,b,g),_=new oi(w,g),L=new ai(d),M=new mr(I,f,m,x),S=new br,A=new Ar,T=new Ze(I,v,_,s),P=new Qe(d,f,g,m),C=new ii(d,f,g,m),g.programs=M.programs,I.context=d,I.capabilities=m,I.extensions=f,I.properties=y,I.renderLists=S,I.state=v,I.info=g}pt();var dt="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Xr(I):new jr(I);this.vr=dt;var ft=new Pr(I,_,m.maxTextureSize);function mt(t){t.preventDefault(),D=!0}function vt(){D=!1,pt()}function gt(t){var e=t.target;e.removeEventListener("dispose",gt),function(t){yt(t),y.remove(t)}(e)}function yt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&M.releaseProgram(e)}this.shadowMap=ft,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(t){void 0!==t&&(Q=t,this.setSize(J,Z,!1))},this.getSize=function(t){return void 0===t&&(t=new ut),t.set(J,Z)},this.setSize=function(t,i,r){dt.isPresenting()||(J=t,Z=i,e.width=t*Q,e.height=i*Q,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new ut),t.set(J*Q,Z*Q)},this.setDrawingBufferSize=function(t,i,r){J=t,Z=i,Q=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new Ct),t.copy(X)},this.getViewport=function(t){return t.copy(K)},this.setViewport=function(t,e,i,r){t.isVector4?K.set(t.x,t.y,t.z,t.w):K.set(t,e,i,r),v.viewport(X.copy(K).multiplyScalar(Q))},this.getScissor=function(t){return t.copy($)},this.setScissor=function(t,e,i,r){t.isVector4?$.set(t.x,t.y,t.z,t.w):$.set(t,e,i,r),v.scissor(q.copy($).multiplyScalar(Q))},this.getScissorTest=function(){return tt},this.setScissorTest=function(t){v.setScissorTest(tt=t)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",vt,!1),S.dispose(),A.dispose(),y.dispose(),_.dispose(),dt.dispose(),bt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=At(t,e,r,n),u=!1;W.geometry===i.id&&W.program===s.id&&W.wireframe===(!0===r.wireframe)||(W.geometry=i.id,W.program=s.id,W.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(L.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=P;null!==h&&(l=b.get(h),(g=C).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,E=Math.max(0,T-A+1);if(0!==E){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*lt()),g.setMode(1);else switch(n.drawMode){case 0:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*lt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,E):g.render(A,E)}},this.compile=function(t,e){(p=A.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)St(e.material[i],t.fog,e);else St(e.material,t.fog,e)}))};var xt=null,bt=new Qt;function wt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||et.intersectsSprite(t)){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,ot.z,null)}}else if(t.isImmediateRenderObject)r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),c.push(t,null,t.material,i,ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||et.intersectsObject(t))){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,ot.z,l)}else a.visible&&c.push(t,n,a,i,ot.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)wt(d[s],e,i,r)}}function _t(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){j=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(X.copy(m.viewport)),p.setupLights(m),Mt(s,e,m,u,l,h))}}else j=null,Mt(s,e,i,u,l,h)}}function Mt(t,e,i,r,n,a){if(t.onBeforeRender(I,e,i,r,n,a),p=A.get(e,j||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=At(i,e.fog,n,t);W.geometry=null,W.program=null,W.wireframe=!1,function(t,e){t.render((function(t){I.renderBufferImmediate(t,e)}))}(t,o)}else I.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(I,e,i,r,n,a),p=A.get(e,j||i)}function St(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=M.getParameters(t,n.state,a,e,it.numPlanes,it.numIntersection,i),l=M.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",gt);else if(h.code!==l)yt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Zt[u.shaderID];r.shader={name:t.type,uniforms:kt(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,I),l=M.getProgramCode(t,u),h=M.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<I.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<I.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=it.numPlanes,r.numIntersection=it.numIntersection,v.clippingPlanes=it.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=rr.seqWithValue(g.seq,v);r.uniformsList=x}function At(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(rt&&(nt||t!==H)){var u=t===H&&i.id===G;it.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===it.numPlanes&&n.numIntersection===it.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(St(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==G&&(G=i.id,f=!0),c||H!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),H!==t&&(H=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var M=w.map.cameraPosition;void 0!==M&&M.setValue(d,ot.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var S=r.skeleton;if(S){var A=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var T=Math.sqrt(4*A.length);T=st.ceilPowerOfTwo(T),T=Math.max(T,4);var L=new Float32Array(T*T*4);L.set(S.boneMatrices);var P=new Bt(L,T,T,V,F);P.needsUpdate=!0,S.boneMatrices=L,S.boneTexture=P,S.boneTextureSize=T}w.setValue(d,"boneTexture",S.boneTexture,x),w.setValue(d,"boneTextureSize",S.boneTextureSize)}else w.setOptional(d,S,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",I.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",I.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?Tt(_,i):i.isMeshLambertMaterial?(Tt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(Tt(_,i),i.isMeshToonMaterial?function(t,e){Lt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):Lt(_,i)):i.isMeshStandardMaterial?(Tt(_,i),i.isMeshPhysicalMaterial?function(t,e){Pt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Pt(_,i)):i.isMeshMatcapMaterial?(Tt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(Tt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Q,t.scale.value=.5*Z,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Jt.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Jt.LTC_2),rr.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(rr.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function Tt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function Lt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Pt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}bt.setAnimationLoop((function(t){dt.isPresenting()||xt&&xt(t)})),"undefined"!=typeof window&&bt.setContext(window),this.setAnimationLoop=function(t){xt=t,dt.setAnimationLoop(t),bt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!D){W.geometry=null,W.program=null,W.wireframe=!1,G=-1,H=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),dt.enabled&&(e=dt.getCamera(e)),(p=A.get(t,e)).init(),t.onBeforeRender(I,t,e,i||R),at.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),et.setFromMatrix(at),nt=this.localClippingEnabled,rt=it.init(this.clippingPlanes,nt,e),(c=S.get(t,e)).init(),wt(t,e,0,I.sortObjects),!0===I.sortObjects&&c.sort(),rt&&it.beginShadows();var n=p.state.shadowsArray;ft.render(n,t,e),p.setupLights(e),rt&&it.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),T.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&_t(a,t,e,s),o.length&&_t(o,t,e,s)}else a.length&&_t(a,t,e),o.length&&_t(o,t,e);t.onAfterRender(I,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),dt.enabled&&dt.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){B!==t&&d.bindFramebuffer(36160,t),B=t},this.getActiveCubeFace=function(){return O},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,O=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=B,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,X.copy(t.viewport),q.copy(t.scissor),Y=t.scissorTest}else X.copy(K).multiplyScalar(Q),q.copy($).multiplyScalar(Q),Y=tt;if(k!==r&&(d.bindFramebuffer(36160,r),k=r),v.viewport(X),v.scissor(q),v.setScissorTest(Y),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==k&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==V&&E.convert(h)!==d.getParameter(35739))return;if(!(c===z||E.convert(c)===d.getParameter(35738)||c===F&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===U&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,E.convert(h),E.convert(c),a)}finally{u&&d.bindFramebuffer(36160,k)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=E.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=E.convert(i.format),s=E.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function Yr(t,e){this.name="",this.color=new qt(t),this.density=void 0!==e?e:25e-5}function Jr(t,e,i){this.name="",this.color=new qt(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Zr(){ue.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Qr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Kr(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function $r(t){He.call(this),this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function tn(t){if(ue.call(this),this.type="Sprite",void 0===Nr){Nr=new Te;var e=new Qr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Nr.setIndex([0,1,2,0,2,3]),Nr.addAttribute("position",new Kr(e,3,0,!1)),Nr.addAttribute("uv",new Kr(e,2,3,!1))}this.geometry=Nr,this.material=void 0!==t?t:new $r,this.center=new ut(.5,.5)}function en(){ue.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function rn(t,e){t&&t.isGeometry,Je.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft}function nn(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ft)}}function an(){ue.call(this),this.type="Bone"}function on(t){He.call(this),this.type="LineBasicMaterial",this.color=new qt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function sn(t,e,i){ue.call(this),this.type="Line",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new on({color:16777215*Math.random()})}function un(t,e){sn.call(this,t,e),this.type="LineSegments"}function ln(t,e){sn.call(this,t,e),this.type="LineLoop"}function hn(t){He.call(this),this.type="PointsMaterial",this.color=new qt(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function cn(t,e){ue.call(this),this.type="Points",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new hn({color:16777215*Math.random()})}function pn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:G,this.minFilter=void 0!==a?a:D,this.magFilter=void 0!==n?n:D,this.generateMipmaps=!1}function dn(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function fn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function mn(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:W)!==W&&l!==H)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===W&&(i=N),void 0===i&&l===H&&(i=k),Pt.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:C,this.minFilter=void 0!==s?s:C,this.flipY=!1,this.generateMipmaps=!1}function vn(t){Te.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ht,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new we(c,3))}function gn(t,e,i){pe.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new yn(t,e,i)),this.mergeVertices()}function yn(t,e,i){Te.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(u,2))}function xn(t,e,i,r){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new bn(t,e,i,r)),this.mergeVertices()}function bn(t,e,i,r){Te.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ht,r=new ht,n=new ht,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ht,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ht,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ht,e=new ht,i=new ht,r=new ht,o=new ut,s=new ut,u=new ut,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new we(n,3)),this.addAttribute("normal",new we(n.slice(),3)),this.addAttribute("uv",new we(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function wn(t,e){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new _n(t,e)),this.mergeVertices()}function _n(t,e){bn.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Mn(t,e){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Sn(t,e)),this.mergeVertices()}function Sn(t,e){bn.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function An(t,e){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Tn(t,e)),this.mergeVertices()}function Tn(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];bn.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ln(t,e){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Pn(t,e)),this.mergeVertices()}function Pn(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];bn.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Cn(t,e,i,r,n,a){pe.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new En(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function En(t,e,i,r,n){Te.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ht,l=new ht,h=new ut,c=new ht,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(f,2))}function In(t,e,i,r,n,a,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new Dn(t,e,i,r,n,a)),this.mergeVertices()}function Dn(t,e,i,r,n,a){Te.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ht,d=new ht,f=new ht,m=new ht,v=new ht,g=new ht,y=new ht;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new we(l,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(c,2))}function Bn(t,e,i,r,n){pe.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new On(t,e,i,r,n)),this.mergeVertices()}function On(t,e,i,r,n){Te.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ht,p=new ht,d=new ht;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}(0,f.default)(Yr.prototype,{isFogExp2:!0,clone:function(){return new Yr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Jr.prototype,{isFog:!0,clone:function(){return new Jr(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Zr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Zr,isScene:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Qr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Kr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Kr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),$r.prototype=(0,p.default)(He.prototype),$r.prototype.constructor=$r,$r.prototype.isSpriteMaterial=!0,$r.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},tn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:tn,isSprite:!0,raycast:function(){var t=new ht,e=new ht,i=new ht,r=new ut,n=new ut,a=new Ft,o=new ht,s=new ht,u=new ht,l=new ut,h=new ut,c=new ut;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:qe.getUV(t,o,s,u,l,h,c,new ut),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return ue.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),en.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:en,isLOD:!0,copy:function(t){ue.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(Rr=new ht,function(t,e){Rr.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Rr);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ht,e=new ht;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),rn.prototype=(0,f.default)((0,p.default)(Je.prototype),{constructor:rn,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Ct,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Je.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(nn.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Ft;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Fr=new Ft,Ur=new Ft,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:Ur;Fr.multiplyMatrices(o,e[n]),Fr.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new nn(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),an.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:an,isBone:!0}),on.prototype=(0,p.default)(He.prototype),on.prototype.constructor=on,on.prototype.isLineBasicMaterial=!0,on.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},sn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:sn,isLine:!0,computeLineDistances:(kr=new ht,Gr=new ht,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)kr.fromBufferAttribute(e,r-1),Gr.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=kr.distanceTo(Gr);t.addAttribute("lineDistance",new we(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ht,c=new ht,p=new ht,d=new ht,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),un.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:un,isLineSegments:!0,computeLineDistances:function(){var t=new ht,e=new ht;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new we(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),ln.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:ln,isLineLoop:!0}),hn.prototype=(0,p.default)(He.prototype),hn.prototype.constructor=hn,hn.prototype.isPointsMaterial=!0,hn.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},cn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:cn,isPoints:!0,raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ht,p=new ht;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),pn.prototype=(0,f.default)((0,p.default)(Pt.prototype),{constructor:pn,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),dn.prototype=(0,p.default)(Pt.prototype),dn.prototype.constructor=dn,dn.prototype.isCompressedTexture=!0,fn.prototype=(0,p.default)(Pt.prototype),fn.prototype.constructor=fn,fn.prototype.isCanvasTexture=!0,mn.prototype=(0,p.default)(Pt.prototype),mn.prototype.constructor=mn,mn.prototype.isDepthTexture=!0,vn.prototype=(0,p.default)(Te.prototype),vn.prototype.constructor=vn,gn.prototype=(0,p.default)(pe.prototype),gn.prototype.constructor=gn,yn.prototype=(0,p.default)(Te.prototype),yn.prototype.constructor=yn,xn.prototype=(0,p.default)(pe.prototype),xn.prototype.constructor=xn,bn.prototype=(0,p.default)(Te.prototype),bn.prototype.constructor=bn,wn.prototype=(0,p.default)(pe.prototype),wn.prototype.constructor=wn,_n.prototype=(0,p.default)(bn.prototype),_n.prototype.constructor=_n,Mn.prototype=(0,p.default)(pe.prototype),Mn.prototype.constructor=Mn,Sn.prototype=(0,p.default)(bn.prototype),Sn.prototype.constructor=Sn,An.prototype=(0,p.default)(pe.prototype),An.prototype.constructor=An,Tn.prototype=(0,p.default)(bn.prototype),Tn.prototype.constructor=Tn,Ln.prototype=(0,p.default)(pe.prototype),Ln.prototype.constructor=Ln,Pn.prototype=(0,p.default)(bn.prototype),Pn.prototype.constructor=Pn,Cn.prototype=(0,p.default)(pe.prototype),Cn.prototype.constructor=Cn,En.prototype=(0,p.default)(Te.prototype),En.prototype.constructor=En,En.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},In.prototype=(0,p.default)(pe.prototype),In.prototype.constructor=In,Dn.prototype=(0,p.default)(Te.prototype),Dn.prototype.constructor=Dn,Bn.prototype=(0,p.default)(pe.prototype),Bn.prototype.constructor=Bn,On.prototype=(0,p.default)(Te.prototype),On.prototype.constructor=On;var zn=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=Nn(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=Nn(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Xn(o));for(s.sort(Wn),n=0;n<s.length;n++)Hn(s[n],i),i=Rn(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return Fn(p,d,i,r,n,l),d};function Nn(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=ta(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=ta(a,t[a],t[a+1],o);return o&&Zn(o,o.next)&&(ea(o),o=o.next),o}function Rn(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Zn(r,r.next)&&0!==Jn(r.prev,r,r.next))r=r.next;else{if(ea(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Fn(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=jn(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?kn(t,r,n,a):Un(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),ea(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?Fn(t=Gn(t,e,i),e,i,r,n,a,2):2===o&&Vn(t,e,i,r,n,a):Fn(Rn(t),e,i,r,n,a,1);break}}}function Un(t){var e=t.prev,i=t,r=t.next;if(Jn(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(qn(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Jn(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function kn(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Jn(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=jn(s,u,e,i,r),p=jn(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Gn(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Zn(n,a)&&Qn(n,r,r.next,a)&&Kn(n,a)&&Kn(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),ea(r),ea(r.next),r=t=a),r=r.next}while(r!==t);return r}function Vn(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yn(o,s)){var u=$n(o,s);return o=Rn(o,o.next),u=Rn(u,u.next),Fn(o,e,i,r,n,a),void Fn(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function Wn(t,e){return t.x-e.x}function Hn(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&qn(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Kn(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=$n(e,t);Rn(i,i.next)}}function jn(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Xn(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function qn(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Yn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Qn(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Kn(t,e)&&Kn(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Jn(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Zn(t,e){return t.x===e.x&&t.y===e.y}function Qn(t,e,i,r){return!!(Zn(t,e)&&Zn(i,r)||Zn(t,r)&&Zn(i,e))||Jn(t,e,i)>0!=Jn(t,e,r)>0&&Jn(i,r,t)>0!=Jn(i,r,e)>0}function Kn(t,e){return Jn(t.prev,t,t.next)<0?Jn(t,e,t.next)>=0&&Jn(t,t.prev,e)>=0:Jn(t,e,t.prev)<0||Jn(t,t.next,e)<0}function $n(t,e){var i=new ia(t.i,t.x,t.y),r=new ia(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function ta(t,e,i,r){var n=new ia(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function ea(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ia(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ra={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return ra.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];na(t),aa(i,t);var a=t.length;e.forEach(na);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,aa(i,e[o]);var s=zn(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function na(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aa(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function oa(t,e){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new sa(t,e)),this.mergeVertices()}function sa(t,e){Te.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:ua;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ht,w=new ht,_=new ht),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!ra.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],ra.isClockWise(M)&&(C[S]=M.reverse());var E=ra.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new ut(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new ut(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new we(r,3)),this.addAttribute("uv",new we(n,2)),this.computeVertexNormals()}oa.prototype=(0,p.default)(pe.prototype),oa.prototype.constructor=oa,oa.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)},sa.prototype=(0,p.default)(Te.prototype),sa.prototype.constructor=sa,sa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)};var ua={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new ut(a,o),new ut(s,u),new ut(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new ut(o,1-u),new ut(l,1-c),new ut(p,1-f),new ut(m,1-g)]:[new ut(s,1-u),new ut(h,1-c),new ut(d,1-f),new ut(v,1-g)]}};function la(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function ha(t,e){pe.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ca(t,e)),this.mergeVertices()}function ca(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new pe;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),sa.call(this,r,e),this.type="TextBufferGeometry"}function pa(t,e,i,r,n,a,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new da(t,e,i,r,n,a,o)),this.mergeVertices()}function da(t,e,i,r,n,a,o){Te.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ht,d=new ht,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}function fa(t,e,i,r,n,a){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new ma(t,e,i,r,n,a)),this.mergeVertices()}function ma(t,e,i,r,n,a){Te.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ht,v=new ut;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function va(t,e,i,r){pe.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new ga(t,e,i,r)),this.mergeVertices()}function ga(t,e,i,r){Te.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=st.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ht,p=new ut;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ht,_=new ht,M=new ht;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function ya(t,e){pe.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new xa(t,e)),this.mergeVertices()}function xa(t,e){Te.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===ra.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===ra.isClockWise(l)&&(d[o]=l.reverse());var f=ra.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(n,3)),this.addAttribute("uv",new we(a,2))}function ba(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function wa(t,e){Te.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(st.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new pe).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function _a(t,e,i,r,n,a,o,s){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ma(t,e,i,r,n,a,o,s)),this.mergeVertices()}function Ma(t,e,i,r,n,a,o,s){Te.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new ut,y=new ht,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ht,x=new ht,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function Sa(t,e,i,r,n,a,o){_a.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Aa(t,e,i,r,n,a,o){Ma.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Ta(t,e,i,r){pe.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new La(t,e,i,r)),this.mergeVertices()}function La(t,e,i,r){Te.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ht,c=new ut;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new we(s,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(l,2))}ha.prototype=(0,p.default)(pe.prototype),ha.prototype.constructor=ha,ca.prototype=(0,p.default)(sa.prototype),ca.prototype.constructor=ca,pa.prototype=(0,p.default)(pe.prototype),pa.prototype.constructor=pa,da.prototype=(0,p.default)(Te.prototype),da.prototype.constructor=da,fa.prototype=(0,p.default)(pe.prototype),fa.prototype.constructor=fa,ma.prototype=(0,p.default)(Te.prototype),ma.prototype.constructor=ma,va.prototype=(0,p.default)(pe.prototype),va.prototype.constructor=va,ga.prototype=(0,p.default)(Te.prototype),ga.prototype.constructor=ga,ya.prototype=(0,p.default)(pe.prototype),ya.prototype.constructor=ya,ya.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},xa.prototype=(0,p.default)(Te.prototype),xa.prototype.constructor=xa,xa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},wa.prototype=(0,p.default)(Te.prototype),wa.prototype.constructor=wa,_a.prototype=(0,p.default)(pe.prototype),_a.prototype.constructor=_a,Ma.prototype=(0,p.default)(Te.prototype),Ma.prototype.constructor=Ma,Sa.prototype=(0,p.default)(_a.prototype),Sa.prototype.constructor=Sa,Aa.prototype=(0,p.default)(Ma.prototype),Aa.prototype.constructor=Aa,Ta.prototype=(0,p.default)(pe.prototype),Ta.prototype.constructor=Ta,La.prototype=(0,p.default)(Te.prototype),La.prototype.constructor=La;var Pa=(0,u.default)({WireframeGeometry:vn,ParametricGeometry:gn,ParametricBufferGeometry:yn,TetrahedronGeometry:wn,TetrahedronBufferGeometry:_n,OctahedronGeometry:Mn,OctahedronBufferGeometry:Sn,IcosahedronGeometry:An,IcosahedronBufferGeometry:Tn,DodecahedronGeometry:Ln,DodecahedronBufferGeometry:Pn,PolyhedronGeometry:xn,PolyhedronBufferGeometry:bn,TubeGeometry:Cn,TubeBufferGeometry:En,TorusKnotGeometry:In,TorusKnotBufferGeometry:Dn,TorusGeometry:Bn,TorusBufferGeometry:On,TextGeometry:ha,TextBufferGeometry:ca,SphereGeometry:pa,SphereBufferGeometry:da,RingGeometry:fa,RingBufferGeometry:ma,PlaneGeometry:Ce,PlaneBufferGeometry:Ee,LatheGeometry:va,LatheBufferGeometry:ga,ShapeGeometry:ya,ShapeBufferGeometry:xa,ExtrudeGeometry:oa,ExtrudeBufferGeometry:sa,EdgesGeometry:wa,ConeGeometry:Sa,ConeBufferGeometry:Aa,CylinderGeometry:_a,CylinderBufferGeometry:Ma,CircleGeometry:Ta,CircleBufferGeometry:La,BoxGeometry:Le,BoxBufferGeometry:Pe});function Ca(t){He.call(this),this.type="ShadowMaterial",this.color=new qt(0),this.transparent=!0,this.setValues(t)}function Ea(t){je.call(this,t),this.type="RawShaderMaterial"}function Ia(t){He.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qt(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Da(t){Ia.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ba(t){He.call(this),this.type="MeshPhongMaterial",this.color=new qt(16777215),this.specular=new qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ba.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function za(t){He.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Na(t){He.call(this),this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ra(t){He.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Fa(t){on.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ca.prototype=(0,p.default)(He.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isShadowMaterial=!0,Ca.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this},Ea.prototype=(0,p.default)(je.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isRawShaderMaterial=!0,Ia.prototype=(0,p.default)(He.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isMeshStandardMaterial=!0,Ia.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Da.prototype=(0,p.default)(Ia.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshPhysicalMaterial=!0,Da.prototype.copy=function(t){return Ia.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Ba.prototype=(0,p.default)(He.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isMeshPhongMaterial=!0,Ba.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Oa.prototype=(0,p.default)(Ba.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(t){return Ba.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},za.prototype=(0,p.default)(He.prototype),za.prototype.constructor=za,za.prototype.isMeshNormalMaterial=!0,za.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Na.prototype=(0,p.default)(He.prototype),Na.prototype.constructor=Na,Na.prototype.isMeshLambertMaterial=!0,Na.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ra.prototype=(0,p.default)(He.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isMeshMatcapMaterial=!0,Ra.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Fa.prototype=(0,p.default)(on.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineDashedMaterial=!0,Fa.prototype.copy=function(t){return on.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ua=(0,u.default)({ShadowMaterial:Ca,SpriteMaterial:$r,RawShaderMaterial:Ea,ShaderMaterial:je,PointsMaterial:hn,MeshPhysicalMaterial:Da,MeshStandardMaterial:Ia,MeshPhongMaterial:Ba,MeshToonMaterial:Oa,MeshNormalMaterial:za,MeshLambertMaterial:Na,MeshDepthMaterial:Tr,MeshDistanceMaterial:Lr,MeshBasicMaterial:Ye,MeshMatcapMaterial:Ra,LineDashedMaterial:Fa,LineBasicMaterial:on,Material:He}),ka={arraySlice:function(t,e,i){return ka.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function Ga(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Va(t,e,i,r){Ga.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wa(t,e,i,r){Ga.call(this,t,e,i,r)}function Ha(t,e,i,r){Ga.call(this,t,e,i,r)}function ja(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ka.convertArray(e,this.TimeBufferType),this.values=ka.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Xa(t,e,i){ja.call(this,t,e,i)}function qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ya(t,e,i,r){ja.call(this,t,e,i,r)}function Ja(t,e,i,r){Ga.call(this,t,e,i,r)}function Za(t,e,i,r){ja.call(this,t,e,i,r)}function Qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ka(t,e,i,r){ja.call(this,t,e,i,r)}function $a(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=st.generateUUID(),this.duration<0&&this.resetDuration()}function to(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ya;case"vector":case"vector2":case"vector3":case"vector4":return Ka;case"color":return qa;case"quaternion":return Za;case"bool":case"boolean":return Xa;case"string":return Qa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];ka.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(Ga.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(Ga.prototype,{beforeStart_:Ga.prototype.copySampleValue_,afterEnd_:Ga.prototype.copySampleValue_}),Va.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Va,DefaultSettings_:{endingStart:it,endingEnd:it},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case rt:n=t,o=2*e-i;break;case nt:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case rt:a=t,s=2*i-e;break;case nt:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),Wa.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Wa,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ha.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ha,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(ja,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:ka.convertArray(t.times,Array),values:ka.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(ja.prototype,{constructor:ja,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:tt,InterpolantFactoryMethodDiscrete:function(t){return new Ha(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Wa(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Va(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case $:e=this.InterpolantFactoryMethodDiscrete;break;case tt:e=this.InterpolantFactoryMethodLinear;break;case et:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $;case this.InterpolantFactoryMethodLinear:return tt;case this.InterpolantFactoryMethodSmooth:return et}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ka.arraySlice(i,n,a),this.values=ka.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&ka.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===et,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=ka.arraySlice(t,0,n),this.values=ka.arraySlice(e,0,n*i)),this},clone:function(){var t=ka.arraySlice(this.times,0),e=ka.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),Xa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Xa,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:qa,ValueTypeName:"color"}),Ya.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ya,ValueTypeName:"number"}),Ja.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ja,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)lt.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Za.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Za,ValueTypeName:"quaternion",DefaultInterpolation:tt,InterpolantFactoryMethodLinear:function(t){return new Ja(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Qa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ka.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ka,ValueTypeName:"vector"}),(0,f.default)($a,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(to(i[n]).scale(r));return new $a(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(ja.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=ka.getKeyframeOrder(s);s=ka.sortedArray(s,1,l),u=ka.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ya(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new $a(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push($a.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];ka.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ya(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Ka,g+".position",l,"pos",r),i(Za,g+".quaternion",l,"rot",r),i(Ka,g+".scale",l,"scl",r)}}return 0===r.length?null:new $a(n,a,r)}}),(0,f.default)($a.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new $a(this.name,this.duration,t)}});var eo={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function io(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var ro=new io,no={};function ao(t){this.manager=void 0!==t?t:ro}function oo(t){this.manager=void 0!==t?t:ro}function so(t){this.manager=void 0!==t?t:ro,this._parser=null}function uo(t){this.manager=void 0!==t?t:ro,this._parser=null}function lo(t){this.manager=void 0!==t?t:ro}function ho(t){this.manager=void 0!==t?t:ro}function co(t){this.manager=void 0!==t?t:ro}function po(){this.type="Curve",this.arcLengthDivisions=200}function fo(t,e,i,r,n,a,o,s){po.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function mo(t,e,i,r,n,a){fo.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function vo(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(ao.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===no[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{no[t]=[],no[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;eo.add(t,i);var r=no[t];if(delete no[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=no[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}no[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(oo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=$a.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(so.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new dn;o.image=a;var s=new ao(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(uo.prototype,{load:function(t,e,i,r){var n=this,a=new Bt,o=new ao(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:L,a.wrapT=void 0!==i.wrapT?i.wrapT:L,a.magFilter=void 0!==i.magFilter?i.magFilter:D,a.minFilter=void 0!==i.minFilter?i.minFilter:O,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=D),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(lo.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),eo.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(ho.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new si,a=new lo(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(co.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Pt,a=new lo(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?G:V,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(po.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ht,o=[],s=[],u=[],l=new ht,h=new Ft;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ht,u[0]=new ht;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(st.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(st.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),fo.prototype=(0,p.default)(po.prototype),fo.prototype.constructor=fo,fo.prototype.isEllipseCurve=!0,fo.prototype.getPoint=function(t,e){for(var i=e||new ut,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},fo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},fo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},fo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},mo.prototype=(0,p.default)(fo.prototype),mo.prototype.constructor=mo,mo.prototype.isArcCurve=!0;var go=new ht,yo=new vo,xo=new vo,bo=new vo;function wo(t,e,i,r){po.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function _o(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function Mo(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function So(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function Ao(t,e,i,r){po.call(this),this.type="CubicBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut,this.v3=r||new ut}function To(t,e,i,r){po.call(this),this.type="CubicBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht,this.v3=r||new ht}function Lo(t,e){po.call(this),this.type="LineCurve",this.v1=t||new ut,this.v2=e||new ut}function Po(t,e){po.call(this),this.type="LineCurve3",this.v1=t||new ht,this.v2=e||new ht}function Co(t,e,i){po.call(this),this.type="QuadraticBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut}function Eo(t,e,i){po.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht}function Io(t){po.call(this),this.type="SplineCurve",this.points=t||[]}wo.prototype=(0,p.default)(po.prototype),wo.prototype.constructor=wo,wo.prototype.isCatmullRomCurve3=!0,wo.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ht,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(go.subVectors(s[0],s[1]).add(s[0]),i=go),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(go.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=go),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),yo.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),xo.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),bo.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(yo.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),xo.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),bo.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(yo.calc(c),xo.calc(c),bo.calc(c)),o},wo.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},wo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},wo.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ht).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ao.prototype=(0,p.default)(po.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isCubicBezierCurve=!0,Ao.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y)),i},Ao.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ao.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ao.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},To.prototype=(0,p.default)(po.prototype),To.prototype.constructor=To,To.prototype.isCubicBezierCurve3=!0,To.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y),So(t,r.z,n.z,a.z,o.z)),i},To.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},To.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},To.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Lo.prototype=(0,p.default)(po.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isLineCurve=!0,Lo.prototype.getPoint=function(t,e){var i=e||new ut;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Lo.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Lo.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Lo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Lo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Lo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Po.prototype=(0,p.default)(po.prototype),Po.prototype.constructor=Po,Po.prototype.isLineCurve3=!0,Po.prototype.getPoint=function(t,e){var i=e||new ht;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Po.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Po.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Po.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Po.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Co.prototype=(0,p.default)(po.prototype),Co.prototype.constructor=Co,Co.prototype.isQuadraticBezierCurve=!0,Co.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y)),i},Co.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Co.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Co.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Eo.prototype=(0,p.default)(po.prototype),Eo.prototype.constructor=Eo,Eo.prototype.isQuadraticBezierCurve3=!0,Eo.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y),Mo(t,r.z,n.z,a.z)),i},Eo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Eo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Eo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Io.prototype=(0,p.default)(po.prototype),Io.prototype.constructor=Io,Io.prototype.isSplineCurve=!0,Io.prototype.getPoint=function(t,e){var i=e||new ut,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(_o(o,s.x,u.x,l.x,h.x),_o(o,s.y,u.y,l.y,h.y)),i},Io.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},Io.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},Io.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ut).fromArray(r))}return this};var Do=(0,u.default)({ArcCurve:mo,CatmullRomCurve3:wo,CubicBezierCurve:Ao,CubicBezierCurve3:To,EllipseCurve:fo,LineCurve:Lo,LineCurve3:Po,QuadraticBezierCurve:Co,QuadraticBezierCurve3:Eo,SplineCurve:Io});function Bo(){po.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Oo(t){Bo.call(this),this.type="Path",this.currentPoint=new ut,t&&this.setFromPoints(t)}function zo(t){Oo.call(this,t),this.uuid=st.generateUUID(),this.type="Shape",this.holes=[]}function No(t,e){ue.call(this),this.type="Light",this.color=new qt(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ro(t,e,i){No.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ue.DefaultUp),this.updateMatrix(),this.groundColor=new qt(e)}function Fo(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ut(512,512),this.map=null,this.matrix=new Ft}function Uo(){Fo.call(this,new Or(50,1,.5,500))}function ko(t,e,i,r,n,a){No.call(this,t,e),this.type="SpotLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new Uo}function Go(t,e,i,r){No.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new Fo(new Or(90,1,.5,500))}function Vo(t,e,i,r,n,a){Br.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Wo(){Fo.call(this,new Vo(-5,5,5,-5,.5,500))}function Ho(t,e){No.call(this,t,e),this.type="DirectionalLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,this.shadow=new Wo}function jo(t,e){No.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Xo(t,e,i,r){No.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function qo(t){this.manager=void 0!==t?t:ro,this.textures={}}Bo.prototype=(0,f.default)((0,p.default)(po.prototype),{constructor:Bo,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Lo(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){po.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=po.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){po.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new Do[r.type]).fromJSON(r))}return this}}),Oo.prototype=(0,f.default)((0,p.default)(Bo.prototype),{constructor:Oo,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new Lo(this.currentPoint.clone(),new ut(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new Co(this.currentPoint.clone(),new ut(t,e),new ut(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new Ao(this.currentPoint.clone(),new ut(t,e),new ut(i,r),new ut(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new Io([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new fo(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return Bo.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Bo.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Bo.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),zo.prototype=(0,f.default)((0,p.default)(Oo.prototype),{constructor:zo,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Oo.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=Oo.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){Oo.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new Oo).fromJSON(r))}return this}}),No.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:No,isLight:!0,copy:function(t){return ue.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ro.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ro,isHemisphereLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(Fo.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Uo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Uo,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*st.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),ko.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:ko,isSpotLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Go.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Go,isPointLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Vo.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Vo,isOrthographicCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),Wo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Wo}),Ho.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ho,isDirectionalLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),jo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:jo,isAmbientLight:!0}),Xo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Xo,isRectAreaLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=No.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new Ua[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new qt).setHex(a.value);break;case"v2":r.uniforms[n].value=(new ut).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ht).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new Ct).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new ct).fromArray(a.value);case"m4":r.uniforms[n].value=(new Ft).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new ut).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Yo={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Jo(){Te.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Zo(t,e,i,r){"number"==typeof i&&(r=i,i=!1),de.call(this,t,e,i),this.meshPerAttribute=r||1}function Qo(t){this.manager=void 0!==t?t:ro}Jo.prototype=(0,f.default)((0,p.default)(Te.prototype),{constructor:Jo,isInstancedBufferGeometry:!0,copy:function(t){return Te.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Te.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Zo.prototype=(0,f.default)((0,p.default)(de.prototype),{constructor:Zo,isInstancedBufferAttribute:!0,copy:function(t){return de.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=de.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Jo:new Te,i=t.data.index;if(void 0!==i){var r=new Ko[i.type](i.array);e.setIndex(new de(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Ko[o.type](o.array),new(o.isInstancedBufferAttribute?Zo:de)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new de(r=new Ko[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ht;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new zt(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Ko={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function $o(t){this.manager=void 0!==t?t:ro,this.resourcePath=""}(0,f.default)($o.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Yo.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new ao(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new zo).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Qo,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Pa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Pa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Pa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Pa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Pa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Pa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Pa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Pa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Pa[s.type]((new Do[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Pa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Pa[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new Pa[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new Do[p.type]).fromJSON(p)),o=new Pa[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new qo;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=$a.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new lo(new io(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new si(e[s.image]):new Pt(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,as)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],os),o.wrapT=i(s.wrap[1],os)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,ss)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,ss)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Zr,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new qt(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Jr(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Yr(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Or(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new Vo(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new jo(t.color,t.intensity);break;case"DirectionalLight":r=new Ho(t.color,t.intensity);break;case"PointLight":r=new Go(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Xo(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ko(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Ro(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new rn(o,s):new Je(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new en;break;case"Line":r=new sn(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new ln(n(t.geometry),a(t.material));break;case"LineSegments":r=new un(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new cn(n(t.geometry),a(t.material));break;case"Sprite":r=new tn(a(t.material));break;case"Group":r=new Dr;break;default:r=new ue}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var ts,es,is,rs,ns,as={UVMapping:b,CubeReflectionMapping:w,CubeRefractionMapping:_,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:M,SphericalReflectionMapping:305,CubeUVReflectionMapping:S,CubeUVRefractionMapping:A},os={RepeatWrapping:T,ClampToEdgeWrapping:L,MirroredRepeatWrapping:P},ss={NearestFilter:C,NearestMipMapNearestFilter:E,NearestMipMapLinearFilter:I,LinearFilter:D,LinearMipMapNearestFilter:B,LinearMipMapLinearFilter:O};function us(t){this.manager=void 0!==t?t:ro,this.options=void 0}function ls(){this.type="ShapePath",this.color=new qt,this.subPaths=[],this.currentPath=null}function hs(t){this.type="Font",this.data=t}function cs(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new ls;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function ps(t){this.manager=void 0!==t?t:ro}function ds(){}us.prototype={constructor:us,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){eo.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(ls.prototype,{moveTo:function(t,e){this.currentPath=new Oo,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new zo;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=ra.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new zo).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new zo,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(hs.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=cs(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(ps.prototype,{load:function(t,e,i,r){var n=this,a=new ao(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new hs(t)},setPath:function(t){return this.path=t,this}}),ds.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ds.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(ts={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},es=new qt,is=new co,rs=new qo,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ds.Handlers.get(l);null!==h?u=h.load(l):(is.setCrossOrigin(i),u=is.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=T),1!==n[1]&&(u.wrapT=T)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=T),"mirror"===o[0]&&(u.wrapS=P),"repeat"===o[1]&&(u.wrapT=T),"mirror"===o[1]&&(u.wrapT=P)),void 0!==s&&(u.anisotropy=s);var c=st.generateUUID();return r[c]=u,c}var a={uuid:st.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=ts[s];break;case"colorDiffuse":a.color=es.fromArray(s).getHex();break;case"colorSpecular":a.specular=es.fromArray(s).getHex();break;case"colorEmissive":a.emissive=es.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=1;break;case"doubleSided":a.side=2;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=2),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),rs.setTextures(r),rs.parse(a)})});var fs={getContext:function(){return void 0===ns&&(ns=new(window.AudioContext||window.webkitAudioContext)),ns},setContext:function(t){ns=t}};function ms(t){this.manager=void 0!==t?t:ro}function vs(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ht)}function gs(t,e){No.call(this,void 0,e),this.sh=void 0!==t?t:new vs}function ys(t,e,i){gs.call(this,void 0,i);var r=(new qt).set(t),n=(new qt).set(e),a=new ht(r.r,r.g,r.b),o=new ht(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function xs(t,e){gs.call(this,void 0,e);var i=(new qt).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function bs(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(ms.prototype,{load:function(t,e,i,r){var n=new ao(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);fs.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(vs.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(vs,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),gs.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:gs,isLightProbe:!0,copy:function(t){return No.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return No.prototype.toJSON.call(this,t)}}),ys.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:ys,isHemisphereLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),xs.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:xs,isAmbientLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),(0,f.default)(bs.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new Ft,l=new Ft;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(st.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var ws=90;function _s(t,e,i,r){ue.call(this),this.type="CubeCamera";var n=new Or(ws,1,t,e);n.up.set(0,-1,0),n.lookAt(new ht(1,0,0)),this.add(n);var a=new Or(ws,1,t,e);a.up.set(0,-1,0),a.lookAt(new ht(-1,0,0)),this.add(a);var o=new Or(ws,1,t,e);o.up.set(0,0,1),o.lookAt(new ht(0,1,0)),this.add(o);var s=new Or(ws,1,t,e);s.up.set(0,0,-1),s.lookAt(new ht(0,-1,0)),this.add(s);var u=new Or(ws,1,t,e);u.up.set(0,-1,0),u.lookAt(new ht(0,0,1)),this.add(u);var l=new Or(ws,1,t,e);l.up.set(0,-1,0),l.lookAt(new ht(0,0,-1)),this.add(l),r=r||{format:G,magFilter:D,minFilter:D},this.renderTarget=new Dt(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function Ms(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ss(){ue.call(this),this.type="AudioListener",this.context=fs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function As(t){ue.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ts(t){As.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Ls(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ps(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}_s.prototype=(0,p.default)(ue.prototype),_s.prototype.constructor=_s,(0,f.default)(Ms.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Ss.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Ss,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht,n=new Ms;return function(a){ue.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),As.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:As,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Ts.prototype=(0,f.default)((0,p.default)(As.prototype),{constructor:Ts,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht;return function(n){if(ue.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(Ls.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(Ps.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){lt.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var Cs,Es,Is,Ds,Bs,Os,zs,Ns,Rs,Fs,Us,ks,Gs,Vs,Ws,Hs="\\[\\]\\.:\\/";function js(t,e,i){var r=i||Xs.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Xs(t,e,i){this.path=e,this.parsedPath=i||Xs.parseTrackName(e),this.node=Xs.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function qs(){this.uuid=st.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ys(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:it,endingEnd:it},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Js(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Zs(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Qs(t,e,i){Qr.call(this,t,e),this.meshPerAttribute=i||1}function Ks(t,e,i,r){this.ray=new Xe(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function $s(t,e){return t.distance-e.distance}function tu(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)tu(n[a],e,i,!0)}function eu(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function iu(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function ru(t,e){this.min=void 0!==t?t:new ut(1/0,1/0),this.max=void 0!==e?e:new ut(-1/0,-1/0)}function nu(t,e){this.start=void 0!==t?t:new ht,this.end=void 0!==e?e:new ht}function au(t){ue.call(this),this.material=t,this.render=function(){}}function ou(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function su(t,e){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new Te,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new we(r,3));var u=new on({fog:!1});this.cone=new un(i,u),this.add(this.cone),this.update()}function uu(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,uu(t.children[i]));return e}function lu(t){for(var e=uu(t),i=new Te,r=[],n=[],a=new qt(0,0,1),o=new qt(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new we(r,3)),i.addAttribute("color",new we(n,3));var l=new on({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});un.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function hu(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new da(e,4,2),n=new Ye({wireframe:!0,fog:!1});Je.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function cu(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new Te;i.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new on({fog:!1});sn.call(this,i,r);var n=new Te;n.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Je(n,new Ye({side:1,fog:!1}))),this.update()}function pu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new Sn(e);r.rotateY(.5*Math.PI),this.material=new Ye({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new de(a,3)),this.add(new Je(r,this.material)),this.update()}function du(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new je({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new da(1,32,16);Je.call(this,n,r),this.onBeforeRender()}function fu(t,e,i,r){t=t||10,e=e||10,i=new qt(void 0!==i?i:4473924),r=new qt(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new Te;d.addAttribute("position",new we(s,3)),d.addAttribute("color",new we(u,3));var f=new on({vertexColors:2});un.call(this,d,f)}function mu(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new qt(void 0!==n?n:4473924),a=new qt(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new Te;m.addAttribute("position",new we(d,3)),m.addAttribute("color",new we(f,3));var v=new on({vertexColors:2});un.call(this,m,v)}function vu(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new Te,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new de(o,3));var s=new on({color:65280}),u=new on({color:16776960});sn.call(this,n,[u,s]),this.update()}function gu(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function yu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new Te;r.addAttribute("position",new we([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new on({fog:!1});this.lightPlane=new sn(r,n),this.add(this.lightPlane),(r=new Te).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new sn(r,n),this.add(this.targetLine),this.update()}function xu(t){var e=new Te,i=new on({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new qt(16755200),s=new qt(16711680),u=new qt(43775),l=new qt(16777215),h=new qt(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new we(r,3)),e.addAttribute("color",new we(n,3)),un.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function bu(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new Te;n.setIndex(new de(i,1)),n.addAttribute("position",new de(r,3)),un.call(this,n,new on({color:e})),this.matrixAutoUpdate=!1,this.update()}function wu(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Te;n.setIndex(new de(r,1)),n.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),un.call(this,n,new on({color:i})),this.geometry.computeBoundingSphere()}function _u(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new Te;n.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),sn.call(this,n,new on({color:r}));var a=new Te;a.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Je(a,new Ye({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Mu(t,e,i,r,n,a){ue.call(this),void 0===t&&(t=new ht(0,0,1)),void 0===e&&(e=new ht(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===ks&&((ks=new Te).addAttribute("position",new we([0,0,0,0,1,0],3)),(Gs=new Ma(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new sn(ks,new on({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Je(Gs,new Ye({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function Su(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Te;i.addAttribute("position",new we(e,3)),i.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new on({vertexColors:2});un.call(this,i,r)}function Au(t){wo.call(this,t),this.type="catmullrom",this.closed=!0}function Tu(t){wo.call(this,t),this.type="catmullrom"}function Lu(t){wo.call(this,t),this.type="catmullrom"}(0,f.default)(js.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Xs,{Composite:js,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Xs.Composite(t,e,i):new Xs(t,e,i)},sanitizeNodeName:(Rs=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(Rs,"")}),parseTrackName:(Cs="[^\\[\\]\\.:\\/]",Es="[^"+Hs.replace("\\.","")+"]",Is=/((?:WC+[\/:])*)/.source.replace("WC",Cs),Ds=/(WCOD+)?/.source.replace("WCOD",Es),Bs=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Cs),Os=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Cs),zs=new RegExp("^"+Is+Ds+Bs+Os+"$"),Ns=["material","materials","bones"],function(t){var e=zs.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==Ns.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Xs.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Xs.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Xs.prototype,{_getValue_unbound:Xs.prototype.getValue,_setValue_unbound:Xs.prototype.setValue}),(0,f.default)(qs.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Xs(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Xs(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,h=r[l];if(void 0!==h)if(delete r[l],h<i){var c=--i,p=t[c],d=t[y=--e];r[p.uuid]=h,t[h]=p,r[d.uuid]=c,t[c]=d,t.pop();for(var f=0,m=a;f!==m;++f){var v=(x=n[f])[c],g=x[y];x[h]=v,x[c]=g,x.pop()}}else{var y;for(r[(d=t[y=--e]).uuid]=h,t[h]=d,t.pop(),f=0,m=a;f!==m;++f){var x;(x=n[f])[h]=x[y],x.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Xs(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Ys.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=rt,r.endingEnd=rt):(r.endingStart=t?this.zeroSlopeAtStart?rt:it:nt,r.endingEnd=e?this.zeroSlopeAtEnd?rt:it:nt)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Js.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Js,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new Ps(Xs.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new Wa(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Ys(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Zs.prototype.clone=function(){return new Zs(void 0===this.value.clone?this.value:this.value.clone())},Qs.prototype=(0,f.default)((0,p.default)(Qr.prototype),{constructor:Qs,isInstancedInterleavedBuffer:!0,copy:function(t){return Qr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(Ks.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return tu(t,this,r,e),r.sort($s),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)tu(t[n],this,r,e);return r.sort($s),r}}),(0,f.default)(eu.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(st.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(iu.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(ru.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ut;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new ut),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new ut),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ut;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(nu.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ht),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ht),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ht),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Fs=new ht,Us=new ht,function(t,e){Fs.subVectors(t,this.start),Us.subVectors(this.end,this.start);var i=Us.dot(Us),r=Us.dot(Fs)/i;return e&&(r=st.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ht),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),au.prototype=(0,p.default)(ue.prototype),au.prototype.constructor=au,au.prototype.isImmediateRenderObject=!0,ou.prototype=(0,p.default)(un.prototype),ou.prototype.constructor=ou,ou.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),su.prototype=(0,p.default)(ue.prototype),su.prototype.constructor=su,su.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},su.prototype.update=function(){var t=new ht;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),lu.prototype=(0,p.default)(un.prototype),lu.prototype.constructor=lu,lu.prototype.updateMatrixWorld=function(){var t=new ht,e=new Ft,i=new Ft;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,ue.prototype.updateMatrixWorld.call(this,r)}}(),hu.prototype=(0,p.default)(Je.prototype),hu.prototype.constructor=hu,hu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},hu.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},cu.prototype=(0,p.default)(sn.prototype),cu.prototype.constructor=cu,cu.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},cu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype=(0,p.default)(ue.prototype),pu.prototype.constructor=pu,pu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype.update=function(){var t=new ht,e=new qt,i=new qt;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),du.prototype=(0,p.default)(Je.prototype),du.prototype.constructor=du,du.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},du.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},fu.prototype=(0,f.default)((0,p.default)(un.prototype),{constructor:fu,copy:function(t){return un.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),mu.prototype=(0,p.default)(un.prototype),mu.prototype.constructor=mu,vu.prototype=(0,p.default)(sn.prototype),vu.prototype.constructor=vu,vu.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=st.degToRad(i.panner.coneInnerAngle),s=st.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},vu.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},gu.prototype=(0,p.default)(un.prototype),gu.prototype.constructor=gu,gu.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),yu.prototype=(0,p.default)(ue.prototype),yu.prototype.constructor=yu,yu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},yu.prototype.update=function(){var t=new ht,e=new ht,i=new ht;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),xu.prototype=(0,p.default)(un.prototype),xu.prototype.constructor=xu,xu.prototype.update=function(){var t,e,i=new ht,r=new Br;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),bu.prototype=(0,p.default)(un.prototype),bu.prototype.constructor=bu,bu.prototype.update=function(){var t=new Ot;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),bu.prototype.setFromObject=function(t){return this.object=t,this.update(),this},bu.prototype.copy=function(t){return un.prototype.copy.call(this,t),this.object=t.object,this},bu.prototype.clone=function(){return(new this.constructor).copy(this)},wu.prototype=(0,p.default)(un.prototype),wu.prototype.constructor=wu,wu.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ue.prototype.updateMatrixWorld.call(this,t))},_u.prototype=(0,p.default)(sn.prototype),_u.prototype.constructor=_u,_u.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),ue.prototype.updateMatrixWorld.call(this,t)},Mu.prototype=(0,p.default)(ue.prototype),Mu.prototype.constructor=Mu,Mu.prototype.setDirection=(Ws=new ht,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Ws.set(t.z,0,-t.x).normalize(),Vs=Math.acos(t.y),this.quaternion.setFromAxisAngle(Ws,Vs))}),Mu.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Mu.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Mu.prototype.copy=function(t){return ue.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Mu.prototype.clone=function(){return(new this.constructor).copy(this)},Su.prototype=(0,p.default)(un.prototype),Su.prototype.constructor=Su,po.create=function(t,e){return t.prototype=(0,p.default)(po.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(Bo.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new pe,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ht(n.x,n.y,n.z||0))}return e}}),(0,f.default)(Oo.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),Au.prototype=(0,p.default)(wo.prototype),Tu.prototype=(0,p.default)(wo.prototype),Lu.prototype=(0,p.default)(wo.prototype),(0,f.default)(Lu.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),fu.prototype.setColors=function(){},lu.prototype.update=function(){},(0,f.default)(ds.prototype,{extractUrlBase:function(t){return Yo.extractUrlBase(t)}}),(0,f.default)($o.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(ru.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(Ot.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),nu.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(st,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return st.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return st.ceilPowerOfTwo(t)}}),(0,f.default)(ct.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(Ft.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ht),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),Nt.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},lt.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Xe.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(qe.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(qe,{barycoordFromPoint:function(t,e,i,r,n){return qe.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return qe.getNormal(t,e,i,r)}}),(0,f.default)(zo.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new oa(this,t)},makeGeometry:function(t){return new ya(this,t)}}),(0,f.default)(ut.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ht.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Ct.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(pe.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(ue.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(ue.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(en.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(nn.prototype,"useVertexTexture",{get:function(){},set:function(){}}),rn.prototype.initBones=function(){},Object.defineProperty(po.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),Or.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(No.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(de.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(Te.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(Te.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(sa.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Zs.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(He.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new qt}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(Ba.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(je.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(qr.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(qr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(Pr.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(Dt.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(Et.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(jr.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),As.prototype.load=function(t){var e=this;return(new ms).load(t,(function(t){e.setBuffer(t)})),this},Ls.prototype.getData=function(){return this.getFrequencyData()},_s.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var Pu={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};Tt.crossOrigin=void 0,Tt.loadTexture=function(t,e,i,r){var n=new co;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadTextureCube=function(t,e,i,r){var n=new ho;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadCompressedTexture=function(){},Tt.loadCompressedTextureCube=function(){};var Cu={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=5,t.AddEquation=a,t.AddOperation=2,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AmbientLight=jo,t.AmbientLightProbe=xs,t.AnimationClip=$a,t.AnimationLoader=oo,t.AnimationMixer=Js,t.AnimationObjectGroup=qs,t.AnimationUtils=ka,t.ArcCurve=mo,t.ArrayCamera=zr,t.ArrowHelper=Mu,t.Audio=As,t.AudioAnalyser=Ls,t.AudioContext=fs,t.AudioListener=Ss,t.AudioLoader=ms,t.AxesHelper=Su,t.AxisHelper=function(t){return new Su(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new uo(t)},t.Bone=an,t.BooleanKeyframeTrack=Xa,t.BoundingBoxHelper=function(t,e){return new bu(t,e)},t.Box2=ru,t.Box3=Ot,t.Box3Helper=wu,t.BoxBufferGeometry=Pe,t.BoxGeometry=Le,t.BoxHelper=bu,t.BufferAttribute=de,t.BufferGeometry=Te,t.BufferGeometryLoader=Qo,t.ByteType=1010,t.Cache=eo,t.Camera=Br,t.CameraHelper=xu,t.CanvasRenderer=function(){},t.CanvasTexture=fn,t.CatmullRomCurve3=wo,t.CineonToneMapping=4,t.CircleBufferGeometry=La,t.CircleGeometry=Ta,t.ClampToEdgeWrapping=L,t.Clock=Ms,t.ClosedSplineCurve3=Au,t.Color=qt,t.ColorKeyframeTrack=qa,t.CompressedTexture=dn,t.CompressedTextureLoader=so,t.ConeBufferGeometry=Aa,t.ConeGeometry=Sa,t.CubeCamera=_s,t.CubeGeometry=Le,t.CubeReflectionMapping=w,t.CubeRefractionMapping=_,t.CubeTexture=si,t.CubeTextureLoader=ho,t.CubeUVReflectionMapping=S,t.CubeUVRefractionMapping=A,t.CubicBezierCurve=Ao,t.CubicBezierCurve3=To,t.CubicInterpolant=Va,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=po,t.CurvePath=Bo,t.CustomBlending=5,t.CylinderBufferGeometry=Ma,t.CylinderGeometry=_a,t.Cylindrical=iu,t.DataTexture=Bt,t.DataTexture2DArray=ui,t.DataTexture3D=li,t.DataTextureLoader=uo,t.DefaultLoadingManager=ro,t.DepthFormat=W,t.DepthStencilFormat=H,t.DepthTexture=mn,t.DirectionalLight=Ho,t.DirectionalLightHelper=yu,t.DirectionalLightShadow=Wo,t.DiscreteInterpolant=Ha,t.DodecahedronBufferGeometry=Pn,t.DodecahedronGeometry=Ln,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return new de(t,e).setDynamic(!0)},t.EdgesGeometry=wa,t.EdgesHelper=function(t,e){return new un(new wa(t.geometry),new on({color:void 0!==e?e:16777215}))},t.EllipseCurve=fo,t.EqualDepth=4,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=M,t.Euler=te,t.EventDispatcher=e,t.ExtrudeBufferGeometry=sa,t.ExtrudeGeometry=oa,t.Face3=$t,t.Face4=function(t,e,i,r,n,a,o){return new $t(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=gu,t.FileLoader=ao,t.FlatShading=1,t.Float32Attribute=function(t,e){return new we(t,e)},t.Float32BufferAttribute=we,t.Float64Attribute=function(t,e){return new _e(t,e)},t.Float64BufferAttribute=_e,t.FloatType=F,t.Fog=Jr,t.FogExp2=Yr,t.Font=hs,t.FontLoader=ps,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=0,t.Frustum=Rt,t.GammaEncoding=ot,t.Geometry=pe,t.GeometryUtils=Pu,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GridHelper=fu,t.Group=Dr,t.HalfFloatType=U,t.HemisphereLight=Ro,t.HemisphereLightHelper=pu,t.HemisphereLightProbe=ys,t.IcosahedronBufferGeometry=Tn,t.IcosahedronGeometry=An,t.ImageBitmapLoader=us,t.ImageLoader=lo,t.ImageUtils=Tt,t.ImmediateRenderObject=au,t.InstancedBufferAttribute=Zo,t.InstancedBufferGeometry=Jo,t.InstancedInterleavedBuffer=Qs,t.Int16Attribute=function(t,e){return new ge(t,e)},t.Int16BufferAttribute=ge,t.Int32Attribute=function(t,e){return new xe(t,e)},t.Int32BufferAttribute=xe,t.Int8Attribute=function(t,e){return new fe(t,e)},t.Int8BufferAttribute=fe,t.IntType=1013,t.InterleavedBuffer=Qr,t.InterleavedBufferAttribute=Kr,t.Interpolant=Ga,t.InterpolateDiscrete=$,t.InterpolateLinear=tt,t.InterpolateSmooth=et,t.JSONLoader=function(){},t.KeyframeTrack=ja,t.LOD=en,t.LatheBufferGeometry=ga,t.LatheGeometry=va,t.Layers=ee,t.LensFlare=function(){},t.LessDepth=2,t.LessEqualDepth=3,t.Light=No,t.LightProbe=gs,t.LightProbeHelper=du,t.LightShadow=Fo,t.Line=sn,t.Line3=nu,t.LineBasicMaterial=on,t.LineCurve=Lo,t.LineCurve3=Po,t.LineDashedMaterial=Fa,t.LineLoop=ln,t.LinePieces=1,t.LineSegments=un,t.LineStrip=0,t.LinearEncoding=at,t.LinearFilter=D,t.LinearInterpolant=Wa,t.LinearMipMapLinearFilter=O,t.LinearMipMapNearestFilter=B,t.LinearToneMapping=1,t.Loader=ds,t.LoaderUtils=Yo,t.LoadingManager=io,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=He,t.MaterialLoader=qo,t.Math=st,t.Matrix3=ct,t.Matrix4=Ft,t.MaxEquation=x,t.Mesh=Je,t.MeshBasicMaterial=Ye,t.MeshDepthMaterial=Tr,t.MeshDistanceMaterial=Lr,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=Na,t.MeshMatcapMaterial=Ra,t.MeshNormalMaterial=za,t.MeshPhongMaterial=Ba,t.MeshPhysicalMaterial=Da,t.MeshStandardMaterial=Ia,t.MeshToonMaterial=Oa,t.MinEquation=o,t.MirroredRepeatWrapping=P,t.MixOperation=1,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=C,t.NearestMipMapLinearFilter=I,t.NearestMipMapNearestFilter=E,t.NeverDepth=0,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalBlending=1,t.NotEqualDepth=7,t.NumberKeyframeTrack=Ya,t.Object3D=ue,t.ObjectLoader=$o,t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=Sn,t.OctahedronGeometry=Mn,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Vo,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.ParametricBufferGeometry=yn,t.ParametricGeometry=gn,t.Particle=function(t){return new tn(t)},t.ParticleBasicMaterial=function(t){return new hn(t)},t.ParticleSystem=function(t,e){return new cn(t,e)},t.ParticleSystemMaterial=function(t){return new hn(t)},t.Path=Oo,t.PerspectiveCamera=Or,t.Plane=Nt,t.PlaneBufferGeometry=Ee,t.PlaneGeometry=Ce,t.PlaneHelper=_u,t.PointCloud=function(t,e){return new cn(t,e)},t.PointCloudMaterial=function(t){return new hn(t)},t.PointLight=Go,t.PointLightHelper=hu,t.Points=cn,t.PointsMaterial=hn,t.PolarGridHelper=mu,t.PolyhedronBufferGeometry=bn,t.PolyhedronGeometry=xn,t.PositionalAudio=Ts,t.PositionalAudioHelper=vu,t.PropertyBinding=Xs,t.PropertyMixer=Ps,t.QuadraticBezierCurve=Co,t.QuadraticBezierCurve3=Eo,t.Quaternion=lt,t.QuaternionKeyframeTrack=Za,t.QuaternionLinearInterpolant=Ja,t.REVISION="105",t.RGBADepthPacking=3201,t.RGBAFormat=V,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_PVRTC_2BPPV1_Format=K,t.RGBA_PVRTC_4BPPV1_Format=Q,t.RGBA_S3TC_DXT1_Format=X,t.RGBA_S3TC_DXT3_Format=q,t.RGBA_S3TC_DXT5_Format=Y,t.RGBDEncoding=3006,t.RGBEEncoding=3002,t.RGBEFormat=1023,t.RGBFormat=G,t.RGBM16Encoding=3005,t.RGBM7Encoding=3004,t.RGB_ETC1_Format=36196,t.RGB_PVRTC_2BPPV1_Format=Z,t.RGB_PVRTC_4BPPV1_Format=J,t.RGB_S3TC_DXT1_Format=j,t.RawShaderMaterial=Ea,t.Ray=Xe,t.Raycaster=Ks,t.RectAreaLight=Xo,t.RectAreaLightHelper=cu,t.RedFormat=1028,t.ReinhardToneMapping=2,t.RepeatWrapping=T,t.ReverseSubtractEquation=102,t.RingBufferGeometry=ma,t.RingGeometry=fa,t.Scene=Zr,t.SceneUtils=Cu,t.ShaderChunk=Ut,t.ShaderLib=Zt,t.ShaderMaterial=je,t.ShadowMaterial=Ca,t.Shape=zo,t.ShapeBufferGeometry=xa,t.ShapeGeometry=ya,t.ShapePath=ls,t.ShapeUtils=ra,t.ShortType=1011,t.Skeleton=nn,t.SkeletonHelper=lu,t.SkinnedMesh=rn,t.SmoothShading=2,t.Sphere=zt,t.SphereBufferGeometry=da,t.SphereGeometry=pa,t.Spherical=eu,t.SphericalHarmonics3=vs,t.SphericalReflectionMapping=305,t.Spline=Lu,t.SplineCurve=Io,t.SplineCurve3=Tu,t.SpotLight=ko,t.SpotLightHelper=su,t.SpotLightShadow=Uo,t.Sprite=tn,t.SpriteMaterial=$r,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StereoCamera=bs,t.StringKeyframeTrack=Qa,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=_n,t.TetrahedronGeometry=wn,t.TextBufferGeometry=ca,t.TextGeometry=ha,t.Texture=Pt,t.TextureLoader=co,t.TorusBufferGeometry=On,t.TorusGeometry=Bn,t.TorusKnotBufferGeometry=Dn,t.TorusKnotGeometry=In,t.Triangle=qe,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=En,t.TubeGeometry=Cn,t.UVMapping=b,t.Uint16Attribute=function(t,e){return new ye(t,e)},t.Uint16BufferAttribute=ye,t.Uint32Attribute=function(t,e){return new be(t,e)},t.Uint32BufferAttribute=be,t.Uint8Attribute=function(t,e){return new me(t,e)},t.Uint8BufferAttribute=me,t.Uint8ClampedAttribute=function(t,e){return new ve(t,e)},t.Uint8ClampedBufferAttribute=ve,t.Uncharted2ToneMapping=3,t.Uniform=Zs,t.UniformsLib=Jt,t.UniformsUtils=jt,t.UnsignedByteType=z,t.UnsignedInt248Type=k,t.UnsignedIntType=R,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=N,t.Vector2=ut,t.Vector3=ht,t.Vector4=Ct,t.VectorKeyframeTrack=Ka,t.Vertex=function(t,e,i){return new ht(t,e,i)},t.VertexColors=2,t.VertexNormalsHelper=ou,t.VideoTexture=pn,t.WebGLMultisampleRenderTarget=It,t.WebGLRenderTarget=Et,t.WebGLRenderTargetCube=Dt,t.WebGLRenderer=qr,t.WebGLUtils=Ir,t.WireframeGeometry=vn,t.WireframeHelper=function(t,e){return new un(new vn(t.geometry),new on({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=nt,t.XHRLoader=function(t){return new ao(t)},t.ZeroCurvatureEnding=it,t.ZeroFactor=200,t.ZeroSlopeEnding=rt,t.sRGBEncoding=3001,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([152,1,0]),t()}([]);
var _0x834c=["isMerge","tubeData","modelimagelayer","modelImageMeshs","modelImagesData","bimModelDatas","modelTexturesData","modelImagePos","modelImageNor","modelImageUv","modelImageHideFlags","modelImageIndex","modelImageGroupsCopy","modelImageGroups","roomid","loadModelTextures","repeatType","computedTopFace","sideTexture","doubleTexture","loadImageLogo","isPowerOfTwo","mipmaps","matindex","\n                    #include <uv_pars_vertex>\n    \n                    attribute float isHideFlags;\n    \n                    varying float hideFlag;\n                    ","\n                    #include <uv_vertex>\n    \n                    hideFlag = isHideFlags;\n                    ","\n                    vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n                    gl_FragColor = resultColor;\n                    ","imgdata","addBimModel","loadImageDatas","loadModel3D","startIndex","setProgress","percent","splitAlpha","isFront","shaderNeedUpdate","updatePoints","updateHeight","updateHeightId_","componentsManager","updateReapeat","minRepeatLevel","textureOffset","initUpdated","CIRCLE","PLANE","getDashArrayByLineType","ESNaviMap","nocenter","notCenter","linemode","ESMapNavLineGeometry","yScale","baseRepeatX","transparency","sectionAlpha","isSectionFront","\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    ","uniform vec3 diffuse;","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    ","doubleSide","transparentObj","uvBaseLen","DASH","DOUBLE_DOT_DASH","TRI_DOT_DASH","ARROW","_updateMaterialByNaviMap","materialInfo","ind_","shaderConfigs","isSectionAlpha","splitGray","_billboard","pathVertices","setFromAxisAngle","#ff0000","#33cc61","#4a82d2","#F4FEFB","_doColor","_drawNormal","_drawArrow","_drawGodArrow","godColor","arrowHeightPercent","arrowWidthPercent","arrowPercent","_setMaterialInfo","godHeightPercent","godEdgePercent","#ffffff","rgba(0,0,0,0.5)","godArrowWidthPercent","godArrowPercent","godArrowXScale","godArrowColor","_up_","_rings","perimeter","Face3","_uvs","_locked","toImage","toPng","topCard","createCard","dom","toCanvas","template","animateTime","animateHeight","animateDelay","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","getBones","isObject3D","skeleton","pose","offsets","names","getBoneByName","setFromMatrixScale","makeRotationFromQuaternion","boneInverses","isBone","decompose","useFirstFramePosition","fps","getHelperFromSkeleton","retarget","toArray","quat","].position",".bones[","bone","].quaternion","uncacheAction","SkeletonHelper","bones","getNearestBone","exec","bindMatrix","push","hasOwnProperty","shift","apply","length","splice","call","exports","undefined","defineProperty","Module","__esModule","object","create","default","string","bind","prototype","/dist/","ESJsonpModules","slice","concat","getValue","attributeCount","setDefaultValues","eachObject","cloneObj","getDeviceDPI","startWith","base64ToBlob","createHash","forEach","screen","deviceXDPI","createElement","DIV","style","cssText","body","appendChild","offsetHeight","parentNode","removeChild","split","atob","charCodeAt","floor","random","toString","join","paths","addEventListener","ESMap","instance","options","mode","mapId","map","skMode","mapMode","MapMode","City","initCityPaths","initIndoorPaths","EPATHDEBUG","ESMapResolveDone","dispatchEvent","tid","mapDataSrc","gdbs","serverUrl","Base64","getLicUrl","setPath","url","tile","getCityTilePath","getRemoteNotifyUrl","getCityBuildingPath","getCitySearchJsonPath","getCityBuildingSearchJsonPath","getCityThemePath","buildingTheme","buildingThemeAsset","getCityBuildingThemeAssetPath","buildingAsset","getCityBuildingAssetsPath","buildingModel","getCityBuildingModelsPath","tileModel","getCityTileModelPath","building","getIndoorMap","getIndoorThemePath","getIndoorThemeAssetPath","getIndoorAssetsPath","getIndoorBuildingModelsPath","searchJson","off","isRandom",".esmap","map/mapdata!getmap.action?bids=","&token=","&t=","parse","?t=","filename","mapThemeSrc","/theme/","themeID","ext","timestamp","lang","getIndoorModelLibPath","/map/mapmodel!getmodel.action?bids=","&name=","/model/","getIndoorSearchJsonPath","location","href","getTime","token","worldeditor","ESMapUtil","decode","getSubDirByS","&k=","&url=","&v=","&tid=","domain","PRIVITES","/esworldmap/eslic/lic!getlic.action?cids=","&s=","&sign=","&tid=99","/search.json","buildingId","/buildings/","encode64","/escopemap/map/mapdata!getmap.action?bids=","&ck=","/worldtheme/","getCityBuildingThemePath","/buildings/theme/","/EsmapJsonOffData/","/EsmapJsonData/","tileId","typeId","version","/15/","_tile","/citymap/citymapdata!getmap.action?cids=","&typeid=","&x=","&y=","&v1=","__mtn","/map/mapmodel!getmodel.action?cids=",".gltf&token=","modeltoken",".gltf","computeModelInfo","findGroup","datas_","o3d_","children","geometry","dispose","material","Mercator2lonLat","maxx","maxy","WGS84ToGCJ02","minx","miny","pow","parser","json","materials","meshes","scene","traverse","attributes","position","count","_root_","parent","faceRange","DistanceofTwoPts","calcProjPoint","getRandom","exitInArray","merge","diffProperties","getHexColor","sqrt","function","reduce","symbol","nodeType","000000","error","颜色值必须为字符串","#FFFFFF","includes","rgb","match","rgba","颜色值格式不正确","decodeByte","fromCharCode","aHR0cHM6Ly93d3cuZXNtYXAuY24=","aHR0cDovLzE5Mi4xNjguMS4xMjc6ODA4MQ==","ZXN3b3JsZG1hcA==","aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==","ZXNtYXBvZmY=","ZXNjb3BlbWFw","indexOf","test127","http","../","clone","distanceTo","add","ESLineType","Vector3","alpha","iscross","center","fnum","esline","ESNodeType","LINE","init","PathPointList","hiddenByFloor","visible","points","bid","getBuildingById","floorHeightChanged","value","updateGeometry","roadType","mapTheme","mapRoadMats","main","normal","light","transparent","metalness","MeshBasicMaterial","opacity","onBeforeCompile","uniforms","passPercent","vertexShader","replace","#include <clipping_planes_pars_vertex>","#include <uv_vertex>","fragmentShader","uniform float opacity;","\n                    uniform float opacity;\n                    uniform float passPercent;\n                    uniform float uvDistance;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float percent)\n                    {\n                        if(nvUv.x < percent * uvDistance){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n                    ","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","\n                    outgoingLight = changePassColor(outgoingLight, passPercent);\n                    \n                    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                    ","lineMaterialShader","dashArray","textureLength","createTexture","side","DoubleSide","repeat","matSide","lineMode","circle","lineWidthMeter","lineWidth","pathPointList","PathTubeGeometry","getSpriteScale","update","userData","trueRadius","PathGeometry","set","fixedWidth","both","arrow","progress","computeBoundingSphere","seeThrough","depthWrite","blending","AdditiveBlending","renderOrder","lineObject","_onUpdate","_onControlChange","_onvisibleFloorNumsChanged","visibleFloorNumsChanged","zoomed","updateLineWidth","onUpdate","noAnimate","onControlChange","clearGroups","addGroup","plane","updateLineTextureOffset","reverseAnimate","offset","animateSpeed","passDistance","needsUpdate","updateColor","color","Color","_colorToStr","TextureLoader","load","anisotropy","RepeatWrapping","number","fnums","controlchange","lastSelectLineStore","remove","Mesh","lodSources","Object3D","meshHandler","mapScene","_loadcount","layerManager","modelLoadManager","lineLevel1","lineLevel2","lineLevel3","roadLoaded","mapView","controlUpdated","zoomLevel","tileService","currentShows","tempDatas","loadBuildings","showRoads","setLineLayerVisible","checkLoadProgress","tileLoadComplete_","checkLoadedAll","hideRoads","modelStatic","roomModelsCount","mapService","modelLoadCount","lod","handleModels","handlePolygons","loadPois","sourceData","Labels","ESLayer","ESLayerType","MODEL_LABEL","boxCollision_","ESMapBoxCollision","MODEL_POI","ipos","left","top","right","bottom","_id","Sid","poiStyles","labelStyle_","ESLabel","data_","scaleOffset","bType","transformCoord","DEFAULT_COORDSYSTEM","coordSystem","_coordMapSceneToThree","mapPicker","addObject","modelViewMatrix","multiplyMatrices","currentCamera","matrixWorld","ESMapPoi","mapTheme_","ESFacility","type_","POI","watchingList","loadRoads","navData","Lines","handleLine","getOrCreateLayerByName","getLayersByTypes","getLayersByNames","handleLine2","LineBasicMaterial","roadStyles","outline","__ro","sceneX_","sceneZ_","setFromPoints","getAttribute","BufferGeometryUtils","array","addAttribute","BufferAttribute","LineSegments","rotation","XYZ","baseScene","linewidth","animationspeed","height","roadStyle","name","rank","substring","inView","tileScene_","stopJumpO3d","jumpO3d","getNearTilesByCoord","doDispose","initY_","_isAnimating","times","MAX_VALUE","delay","getValues","duration","time","_jumpID1","stop","Tween","Quadratic","InOut","_jumpID2","TWEEN","Easing","Out","onComplete","force","start","callback","coord","getTileBound","worldScale","toDecimal5","round","__proto__","isString","_switch","_eventMap","toLowerCase","handler","context","once","_wrapOnceHandler","Z__","listens","isNil","copyEventListeners","fire","_eventParent","_fire","_clearAllListeners","_setEventParent","domEvent","getBuildingOptions","MapOptions","dataUrlPrefix","scalerOffet","scalerWidth","scalerBgColor","dynamicLoadModels","WGS84","mapYoffset","mergeModelLines","mergeModels","modelSelectedEffect","model3DSelectedEffect","container","minViewDistance","shadowEnabled","compassPointerUrl","compassPosition","ESCameraMode","shadowSize","shadowAlpha","lightAngleX","lightAngleY","controlsRotateThreshold","defaultAngle","viewModeAnimateMode","moveToAnimateMode","moveToAnimateTime","hoverTypes","minScaleLevel","maxScaleLevel","defaultScaleLevel","randomTexture","showBase","loadPoi","loadLabel","hideRoomLogoMeshes","enableZBufferFixing","effects","mergeModel3D","devMode","useCache","minZoomLevel","maxZoomLevel","modelImageAlphaTest","rightClick","getPlatform","isPC","Building","initBuildingOptions","initCityOptions","maximumBuildings","DefaultBuildingOptions","DefaultCityOptions","Group","MODEL3D","Evento","model","glowing","_clockMovePath","Clock","markers","_lastDirectionV","_lodName","created","modelLod","addMarker","showLevel","scaleLevel","child","isChildNode","actions","tweens","mixer","type","gltfModel","ESRenderOrder","scaleRate","scale","Quaternion","setFromEuler","Euler","quaternion","initMapCoord","coordThreeToMap","addTo","FloorNum","bindEvents","callbackparams","onZoomed","getAnchorPosition","log","ACHOR: ","getWorldPosition","editMode","removed","_bindupates","stopMoving","emit","toRot","slerp","matrix","setPosition","applyMatrix4","angleTo","Math","radToDeg","istaped","needRotate","rotateAngle","abs","updateScreenSize","moveTo","_moveToID","angle","_coordThreeToMapScene","coordMapToThree","getRouteAngle","orientToPath","lastWalkAngle","distance","backward","Matrix4","lookAt","makeRotationFromEuler","setFromRotationMatrix","lastRotateAction","Linear","None","easing","onMoving","jump","movePathing","flash","stopFlash","originalScale","copy","hide","setScale","multiplyScalar","rotateTo","degToRad","ZXY","rotateAnimate","unLockView","viewLocked","gestureController","enableMapPan","lockView","controls","target","setScaleLevelValue","keyCode","lockViewInited","keydown","animating","playAnimation","currentCamera_","enableCollide","queueRanked","viewRangeUpdated","multiply","restoreAlpha","istransparent","setAlpha","clonemat","changed","stopGlow","glowSprite","ESMapLabel","glow","#FF0000","fixedSize","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII=","SpriteMaterial","depthTest","setStyle","Sprite","glowEffect","model3D","binded","fadeOut","delete","mark","wrap","prev","next","lastIndexOf","modelStore","info","ESInfo","abrupt","return","AnimationMixer","animations","clipAction","clampWhenFinished","repetitions","toLocaleLowerCase"," :  ","previousAction","loop","LoopRepeat","LoopOnce","stopAllActions","stopLastAction","reset","setEffectiveTimeScale","setDuration","watching","getDelta","removeEventListener","finished","bindedFinished","MODEL3D_LOADING","MODEL3D_ACTION_ERR","loopReverse","LoopPingPong","play","crossFadeTo","setEffectiveWeight","restoreColor","changeColor","oriEmissive","getHex","emissive","toColor","hexToRgb","emissiveIntensity","changedColors","resumeMovePath","resume","pauseMovePath","movePathingTween","pause","movePathLoopCount","movePathController","maxDistance","needRotateCamera","enableTileBaseMap","faded","rotateModel","cross","rotated","paused","clock","getElapsedTime","sub","normalize","RAD2DEG","movePath","from","end","elevation","disableTileBaseMap","followTilt","rotateSmooth","followAngle","followSmooth","rotateMap","toAngle","index","updateTileView","getPolarAngle","clearTimeout","complete","fp_","minDistance","maxViewDistance","startPathIndex","path","userCrs","followPosition","onStart","getFloorHeight","speed","time is NaN!","viewTiltAngle","tiltAngle","reverse","toggle","filter","close","status","open","getChildByName","_enableLod","_lodManager","_lodLevel","gltfObj","Box3","getCenter","loadingList","preFetchModel3D","raycastMoveTo","raycastTime","debug","raycast","depth","modelinfo","box3","max","min","intersectByCoord","atan","tan","rayPointer","rayPoint","addTestCube","getTileById","Height","MapError","throw","rendererCss2D","domElement","param","ERRORS","未知错误","100%","flex","justifyContent","alignItems","rgba(0,0,0,0.8)","border-box","innerHTML","class","ESMapError","tagName","element","attr","isObject","setAttribute","addEvent","fill","this is null or not defined","buildingColor","computeTopFaceAttr","brothers","topFaceFlags","createMaterial","topTexture","updateMatrix","MeshLambertMaterial","isTopTex","topTex","topTexMat","isSideTex","sideTex","sideTexMat","#include <uv_pars_vertex>","\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","shader","_completeCallbacks","_responseData","_successCallbacks","_isComplete","success","_status","_errorCallbacks","get","getJSON","async","Request error, unable to convert to JSON: ","post","data","GET","isArrayBuffer","_httpStatus","Callbacks","_httpServer","_initHttpServer","onreadystatechange",".loc","setRequestHeader","XMLHttpRequest","Content-type","application/x-www-form-urlencoded","Connection","send","Microsoft.XMLHTTP","Platform does not support HTTP！","_httpStateChange","judgeStatus","_successCallback","file:","response","_errorCallback","CSSFILTER","TRANSITION","TRANSFORMORIGIN","TRANSFORM","createEl","removeDomNode","addDomEvent","removeDomEvent","listensDomEvent","preventDefault","stopPropagation","preventSelection","offsetDom","computeDomPosition","getEventContainerPoint","setClass","setOpacity","setTransform","setTransformMatrix","removeTransform","isHTML","measureDom","IS_NODE","documentElement","OTransform","MozTransform","transformOrigin","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","transition","WebkitTransition","OTransition","MozTransition","msTransition","MozFilter","msFilter","ie9","div","event","mousewheel","gecko","DOMMouseScroll","cancelBubble","ondragstart","getComputedStyle","padding-left","padding-top","getBoundingClientRect","offsetWidth","width","clientLeft","clientY","clientTop","classList","(\\s|$)","className","baseVal","any3d","px,0px)","translate(","matrix(","test","clientWidth","clientHeight","position:absolute;left:-10000px;top:-10000px;","[object process]","versions","electron","setOptions",'Class instance is being created without "new" operator.',"callInitHooks","_visitInitHooks","config","disable","onConfig","_initHooksCalled","_initHooks","addInitHook","mergeOptions","extend","setX","opts_","setZ","mapCoord","ESMapCoord","ESFloorManager","stopMoveTo","lastSelectModelStore","configs","ray","Raycaster","intersectByStartEnd","far","plane_","uuid","meshList","inverse","ignoreTarget","ignoredUuids","point","nodes","lastSelectNode","compose","getObjectTransformMatrix","fromArray","Scene","done","calpos","mergePromise","setFromObject","getParentList","_meshName","translation","applyMatrix","geometries","objName","showModel3DErrorMsg","buffers","uri","mergeTranformGroup","mergeGeometry","alphaMode","OPAQUE","cloned","selectedColor","model3d","selectModelMat","material name:"," can not find matching geometry or duplicate name","pos","checkGeoIsHaveUv","intensity","warn","checkValueIsNormalize","getTransformMatrix","BufferGeometry","uv2","getX","mergeBufferAttributes","setIndex","groupData","selectModel","locked","error data , code 983253","setTargetModelSelected","_settedAlpha","matRecord","islocked","changeModelColorById","splitGroup","materialIndex","mesh","lastSelectMatIndex","getMatIndexByFaceIndex","setTargetMeshVisible","groups","getFaceIndexToGroup","clearCacheData","setModelVisible","isModelVisible","lastSelectMathInfo","sort","options_","sceneOrtho_","margin_verti","updateHUD","logo","sprite_","margin_horiz","visible_","sprite_2","initUserLogo","img","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABDCAYAAABzydsQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB7uSURBVHhe7Z0JnBTF9cffq5ldYEEULwQVUbwS70SjMRpjEs8YExM1h0YjwnIYRKMSFRDwxIggKIJANAZzKJ94xTt/8Yga0cSQvyfeBs/EKAKy7M50vf/v9dSwM9PVc+zOrv+Y/sKb7uq7q+u9enUuJSQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT858NuWR/+IoOIs7sZ5m0Q2iDcJvRvmzIvUSv/nfbmd8NtCQkJ/y/opAEQnM9Cz9gNucXehqt9iZij15Twx2L5JFbnU6u5ifYzq8J9CQkJnxgdMwBL7EZk6Gi29iQo9J2USk2FHRjIgdyAvfvlDiqD0DvCMo72Sv0aBiM0DwkJCd1PbQbgEbseG5kJZT8epza4rUCQs5thtJyfNYOCcSI0Eft7uZ3xiNwmqdTIpGiQkPDJUJMB4EeD67D4cS5UirSypcm2V+pyamvbkW2Yu+/idsYj8p6QnED7pf+IO3zy3oCgWPN3OZiC7PvUlH7RtNjvWDbP079oE+4nR1IWxwSQjFvmw6Xrut+FxbfPumWAT1B6jfy1LT1Lc80srFVmtPShjOwLz+zzOG8wtqyP+De5nXVC5GGab65yoWJOlA0oLYNcqJi+kXT2Ps0wb7n1jjPKbklt1M+FytNKr9AN5mMXSnBUbwCW2t680iKn5j5uix+RJZLJDqWmxtc4E1yIRHgqzkm7vTFARURmSUNqPO1rWtzGTwYRQ0uDU8maV0n4MWY7Ucg+RO+l7uTecgv1oMNCJc0r7bolorIo3L4ukWNLlwVGoHDJcgpdZa7GWjwjZDBZOQdr30dc981t7CpQbJtnLnOBYobbsbj/FS5UzHaw64UpwMqtdEbqKBfqGKfbXvQxvYxIGui2lAE+qdB2MF6vuA0JjupziA//xWGuVUmE9+Z0+ilqs6PkvfQ5EshB2P4CBXI3PsKlWL8MCeB+yNqC81ahCCGUWbMBPdi2Pz8QXMQPZO/lB4NnsIQE9/Di4GK6v+3L9Iw04oyuAxpPu6dmkQ1WGRMMk/V4HLZtyANkkjTwd2mNwFPpDqSVevLNLhBlEgzVcDsaaft5PF9z1ys/sPQnt+ZjJ7eMoqlMfbu8MG2N387xMQ2LKL/exyu8khr4PawllFC9BwCghL/ABxzqgpUReUys+TGt4FfpWNZ8rZ0H7LYsdiY87ifxcWbDlTsEunce7rKdO8KPyMvCZjx9lRch0XddkeHv9kiG8ZJGcwa1BT9lkp3EpofSK5LmjWDM0nRAJBcvzcHdeoc8gEAeQO7/VaxFUeV/W2bg/eFddRfyMaV5M7qaV7sNxTTbJ/Dt9nKhdjTn3wafqTClWVlJq00/mgJj2xHOsL1pJb2E9x/gtuSur8ruRV6kObwjDuq69PIfSmyU+ZDVZgwS6G8oKzaXSCuI5X3hNiylvsFoukYKKg3BgeZl2RRuYFZe4Bb7J7ayEOXh7bzXKRTL20Ixb+T7sr+DMUhhS/15Knsecrv+MF4TuM0uIDYfSo/UBE4F99P29H35wBwBg/WYO7prYNIWFT/vyGndq/xA6A2ajXzXRzO+rcR4APkvlM/9VdRbaZLNdHOHWEknFSl/HjUCfnkBP4nye6jJANCRvEYONseLlcNhxd8ocOHLCDex8CweFCymO0Q7CCERCNPd2WN4efA09v0WxYYd/OfGyotCqel0nxxA99q9saWuhJFiLVMjVsOCD/5nsC4wf7qdqEXW8KHUSn/VQ+uPrIYxvMkFihlhP4vnmOpC3clTUDq/EjFtjt+euUAJagCKv11OJKhcQezjeOT+TBNcqJ3Q1Y8Rpufwm+BBo6c2NBEc1nAvcsSdkSPPgLQV5dA+CT8678ccLKU77UioTRrbNsW2Ad7j4yWD82aKXqtNvsdZ+SPkYbrLnkk31c8bsJ9Ln49Es4oDu0jaWs5m4kFs7e1iU0ew4aN4u2AZfYs/llV8GJ7oaXda/WB60O9qw3BamoJvUOxNeZE2GNp/QpZD3ui0ED2Uu66HAIY9rsVBv0ph7p8XSn1Gf2umF3J/4v4u1E5O0f1iEgMQh0ZP57jV7gGlmA8P6/NuS3nCjy+LJTAnUw9JQYHh6vI+sU8iKEEzLRTmR2EwliFdr2ROaxPjzu6I/DXvEjInwkt5P9zWWZbaQ1jkSGlbfR419D6WmfeXFf8YyusPmkxst5Td08eHxvBKuxHC3wzPUUOnhkoRI+sMl5LfVy6sfSU1bJDbXm6eCbcXMtLCaNJyxFeZilD5G34m0RpaTE3cRh+GV+48i/Q6MR5Asx2Dff7myg1wyoZuvRCRq+mc1CkuVB3N0oTztOwfrfnvAYlLQ1naAwZ1qQslFNB5A6DcJI1Q5jFQmMm4ZPlmwnXIRyhKnEUfpRbSRjKOrYzHuSUJW16SlGmmb/KDYQ7fKD9hkktwnL+TkcgLkjG70bFI+PVipB0Kd9zfvp2Wm2mO+V8X6nqGW23q+60LRRF5jlroC93e3j3cXoPnanahYjaEAVjfrReilZwTUv5KzjiaLQwGR/shaCr2F0CAZGgDpMkpdUwTnyLqYwDy3CKDWewc5GOHIEFUvnYu574X3kAzpaQ/lPt6nPcZJORWPNps5P0T6HumRZWfjdV9x8U+scgKscGRdExjuaaq2si1NX+AZ/Enr56yC83y5NRdxXA7DXFwhgtFYfkhXWPiDUSXgGJJszyCm+/rNhTTz2aor6/IIq9TmxlSdUuAdnTKIvcnjlYeGih5z7hiEc65gnfQyHEbEgqorwHQyr1baSvKyD7wjuES8iZuTwXgDQifSmvp99xLxovhW+i75km3k+hGezRKmItcyIuQPZuOSV/qgvVhtOwH9zHGoMhbNM9s4QLdQ7O9DXF6pAsVExpN2prmm3dyG7qJSZKmtxEXzJu6Le2IWNpU7qFefLjbUoCspgxvTlPMSrehPNrngXm2CxUgQg10D/Xgw9yGYkTupBnmCBeKMso+hMJNLX0oBFqTwa822H4IeRXhV8nAS622mNFsv4zfc3OBmtD7qnenxdx/QJ6Gx/dwZzy++hiAB5AI3s0eymRQBKDdIFdBiWfDrZ+IdeTaXFUFHbyHs+wP0tNccB38W8396QQXjCKAcK8XUpd0uG3Zx0g7hSyf50LFsNyA3PZHLtQ9NNuHceP9XagEWYUkuTld282jLMN6iZhONgIl35wmU5oi31S/Gd5lO5pYRe+8E6Unipgv4vgt3ZZC/kpNdgkZM9qFS5DLaLoZ5wLFnGI3ghGqT52RYuRRpNPRFYuFI+zhcJzudKHOoXHMNJPSPDW2j0YZam8FKETL5TfYw/gt+wRbczsSwuchachpnIVZCHiRMB9EFm5YvsKrjOD4M/V6eKliw2Txip7jc4KEFNAsuJNzeXv7IP0qexKu1HnDps9g+RsuFCVN9fmAtaG5fBxNcIOHuPXuQ/izbi0K09vYvySshiwVJAwsd8daZRpFe/1FlV+NCMs5lDI7aUdSrxD9PTzWSxVjVWrB8peQFh+BUdzHbfGzlp/Cs6sH0XlY69x4PLzuR+Gx1ty3omMGQPvL/8oeyq32UZSs7sLH3AMvH7aYF8gW8ABu5wyPkkzmCBiBS0q6/0ZFuD/OuZMXygK6TnITigCx9g7v8ar8wtPgbVyCIsd9eIb9mXkBLZTOd5IZTRsgce3qQiXgPQJa7ALdh8DVjAVeFts5dIlUNzimXliJNwCizW9rXsUx2hdfw8VibXz34Txa9o93lx+jD/ghXGw7KIIqQ7HoXbiMAQik8v1rhtdD2vw9nWXXcxuiXM/v4rk8xZlOwLwrjMB9Lr6qpnYDcG3b/ny9fQyKehcFvHd7TuwRNQqBHMPS8IRk+TWx2X0Rftzl2vHnWBqKn2fol/ZgfEOm41OLcM6NxcfqNXiqZHg6t4bK/7ncdjYcwO271nbSusuBuLW/YonpJZpr/ulC3QfT427NT8bsQ2vsc3RxdiJdZA+i8+1udIEdQhfaAQhvQtNkY7oYbu8kuyFNlfVRfu9DM22PMI47TntzbJTnaErvt/E9PwpvUSqk3XMrkJUTkbijvf6QC+H8yTSEeiMVD0DcaPyUSgs1cPyoQ6Ed3Fqd4YF445hRs47edA4e4Pbce9QJHX2bkZo6iWk0VY2Znz1dUvxznFZhdF8MIo/C8xuFLP3LTHwxHrh85YuEA2mvhTd+Bi3nFhosP4HhwXnUA+efbw0tgLLfj+tEP6TADzjZxNcbVGKknQujMsKFijEyHQbgDBoO5UqFvd07RxutQtn9bReK52TbH/d7HfEf2+gVPs3mSFNe0y6F/lMWcaR9LFpwvZXIpZejHP0kjvkzraUHaqicW4L4/4ILFZNvlThPHkTogNzGAgTl9wt4TxeKkmv3f9lvAOghmsdfoTPtlyjFj7htJcgbdKnRodF+RtrfISZivDwv2jNUPdONYcAq1GvhneeZA13Aj47peIeOxDv+CNdFESemM5WE3eg3QzxEK1pLEVkDozeErq5ujo3qDcC8zCHM5q7Yh6wKaRHOfomG9fgbzV6zJTf20DbdIypeU+QNuPkn0zBeTAvgtll7IKXNrdoT0Kv8ishy2cBsHRmEVA3HSIo2lLfwkaM9zpS0fB0J52l4HHDlcr5m55CJSCwXukB5yrW559FOMf3jjEAViMAg8EWU5ek0hePLqmPgPbSGFYC+ln6YGdmBFpgXaYKdjWf2VNLJKhgAnBvbwcjf7q/DxxkG5RrzKI2zw/Ge89yOYoTugQHwtw50GLguJyKGm+RopIEZCG7sdhQj8g9awdvQog6kPy+47zAUt1g9B/oB4jP+64r8jOYbZNSVqT6JWHORwL3WPLnjws+Hyq+c0rRchplvizXfxb53oscWiOWt4AreS3PkSmqk16g5fSVlaAy27+A9XsXSRrhqx3LnTWUIPm5ME6ashmI8DOXfvy7Kr813GbrGhSrDPB4nvelCfrSq8J94NMRDmNfXKgLPjOlSStvLEYqnBXEk0tuFitHa6V6kXYj1ms9CGbGtVFBeniS+3D3XB0PCxO7jAbqGc4OxmD4bpmKfpOh5/NYZGKvreS3NMTfgHtrK5cdQPzxZ3bqnh/ddYJ6l+azeQvx9FaaqO1hpNFVmtt0SOYLONBNNLLVIIIMKK/eQmIVG8K249k7YNw+S9Z4XClwuoVNolcB7sLtSJnO9/zgnOm7gg5icpRIZRGCchWVaAtczg+VBbkvnYLqfrjP/cqHKzOP38X6HQntyyhXHWsi7MALa/y2ieFUK0U+goF8J13ykaWvEU5yRfZNmud53AkX0XV8ly9vjN8pqlKGZdZBRCTDvooOB3Lc1tCfiUOMxKkRd3EmL2/uqlJKr9oxykd2ZpgbTaVr2OJr0YbsuVA3e+0OeBgO7zG2IIjA9VVKdAcjSNrkKtk6Khbu0yj5EM0vGDYzmD+mUFMrbfACMwHPec9vlAzhgr5E0HOnZ1y6WXqXJUOWOcbBbRmG6lw6AZyF0iNvSOZh0mrXa0JwgxXsgEcyDxHcC0bd/D5rwESQXJzUKjCBbfxu6YstMAsL0YmjglYBeQrFNZ31C4iyRQKIVgTren2JyOXXr5/MT4boOQ1YPQB0xn1Cma/v/W4mvi9FOQrmUXEyj/Qo18ulk4EGs3/cVutzWPjPSotCw/iYX8MBx3msUjaXKXGm/iI9dv/HvIshBWae6Oo/GllQ2aa20EBKdnItjiiNYZAmJQe5H30bCXID98S6W2DPptHR5F9aHVsy8KytC97QU7dmWpj3g+n5IDfQ67l+dAY1D5H1cY2DoUXSUUdIPxSN1+bSSTZVJXWqtXG3C19W41BzahKa+CaIx2hCGG6r7/HYFreIt6HJPb7Phdhaef4wLFSMyFeXQnAuv7nwPeRvH+nK86XSJKe7eHN/rL4BR2psWcG4Y9rl2AN7jDRzr62rcCi+iH82oMMWc9vcYLdpitBfS+OaIr/645gAsNabKf1+mzfA82vHNgzxB80x0qPplwdVkeJQL6f2zSGvH0VnGP/w7jmH2WFznRhcqRvVrvqlq5qwqPQCU3dU9L8xhOyMWHyygsbjm8zTDFlfSjDWtdJq5gCSzO/Y/VHDeY5Q2XycbHATl/gWukSrYVyLyAgUV5tKL45+yj1f5Fab36Wp+mhppXyS6zim/wrSwU8qvzIH3NN/8HnIq5GDkjrvimoNpIPenAVC4FXiXFdwbxaHe9CbkZcjzjPI1tovsjYQ+BTnZ+1gi4XjEcl/qwxthLQqX8QC0m2oeVULh13EtvV6xBKHRakd7/eUquqII3bFO+RWd/NQgLeEyESF6i/pyfMcpNfSj7DdopGhl7lIKeAGecQpOHo3nOgrrh0EOKSuxyh/i739gUWQp9LJEi1AyN2yirY34dMO8xq1VpLpEfDqvgELdUvTg9ZAA/zL8DtygbWlqyYyyp/dcRluYr1Fgh+HYeyhFh9Ea2Q+RvhBiItfKSyCrqS17NJ3RwclFLX3drUVhWozI1cazx6E83+q0BFRdzX9N4Pn0GbVLtIrWQvtkCq+mKeYJLCfjnfdDvLUUxWNeJIxrv0spcU1o8O1LK+AsPVlkWPJCKF4W9vxslKF4h+gYC83VTEmHoFSZCkDtnx/bLRz3e0+mIf7/gFUYsbC8UF8Mij2l5GZO2rEofkPhfoj/E7FWPUzxTYIiVU+zX/2L/9wOwcNr2cs3urt2hJG7yzFkgl2IkYOFLdg8kXrRnNALKOVSeyBe7C58q/hyV9g1lIfRz8y1bkuNIGGMkKew8HdRTeEjzTG/cqFPF+Pt44g7/+xKFsWei0sGupQfA5ChBt6wqG/6WXYsvm901mChj6hV+tOV+Oa5EX/LcJxvpt9F8GyOdes5JgbTKY3ytA8rM2lK6jQXKgDfeKRcgGcf7zZ0DUa+RnNNcW9RzeTEvop4jhZdrfyBzk35B3r5GG6vwnX88ynoAKj5ZQZAFaC2sjrGmVcQaQdDaZfDcjpXuwOShZIGMp9anj0Y5udQlOnvxnU3gPRBQptBq+VJugjKPkkaw7EGk2xfutieinPuwjE9vdfMi6VrO678YAzcMCH/TDWsQ07hgn4aCcc9wPW2yJJLJbCWgpYP3JHt2Jjae4XpzcjAFOFncR+9V7GQrA/Tn3N/M/Ijv/Kj7J+SSS7QjtEKQCy9gvv5aJb9kVbimhfrg9YVGYoOcgpkazyYtmbhmBKpZUSi9lMh+lou4CXX1F4F1RsA5RyUv1pX7ooIvAovkylSvqpEWpGoxlKrGU3mM+ci/EuUvRqLjrG8CyJjMaXtm/SCXYYP/y62z8Rx5ZU/kKW4bufGAAQo2xNrNxofy2gGytufRs5G4tN5830JUyfgpl4fhWvFVBgDUILW96in7xNDu4e9/uCH5A6O8Dt4XtE2fUO7+ZUfloU9TYA5xdGKS3+613N1bgHWCkt5s6yQxDfdMq2hq020mVYzl4j7v06q71q+sWyPe5SbPftut6xIbQZAmdJvBU00YxCJ+0CZ/+J5Eb8E8m/c7gj6wCwgtr9ALE2CsseX5S1vgsSBYgf38u8vFFlBWT4GZb6qKz+82DLNf0L3a8pyoU8XIkfDE2tCnCMOIvImXcpRAyASPwaAKZr79uV3wu9UamByshOup33+fe3+LZTxDMk+W/pRivqHShsVi+eOlsE3Fi3iROst1PRoz8kBMo/WR7r7gAdBBpcVop+G5/rgmHkirWjmhqVHWKrvsxDQGTghpgUMxqtn9ZPV1m4A8kwwT9FmZl98PLjnSCD6J65iBQkixXvB/X+K+hBceXOC/7iOCJ5A++xPMS+7J+s4Qrm5/XykqJv+IEg3M85C+fhyp4hRsfQwfqMwfc6t+YgqgFbICbwoX+LXYcEcO+LvRrqOo6Mge8gOMBjsFL5YdMKMKZ5x/kKH44DcEYqubYaXVGlE2pzMI0Nj56s0LRVT0npRjD8tWngAhXFbKFmpbmq54Vabe+MHGgndFNanVEl7ZHSGc+3muJJOCvntYvcKrpg23bTRcdQYlvP+gP11HoIps+hCM9YFOs4pdnvKhPPHe+IE75FG4hEdONMFWFz3GpPr3NJd6Ew+/6YjoEjz8cplmqDkMJpm7nGBHOEYAO3mGzNWgpDQ5zHisoSx9lqcc5ILtaNNzG2eHoWC3J95R1xLZ78p5vzsUGow8CQ9WFlM41PRMnKzxXtwrgOXfuWB0DydXVKNUFam0oRU9XUDI+z/wHD6y+FGTqe5prjCU+tZpljtCxEds6+D3gx/hs4zUa+lkOH2c3hufYeYVhlZgzSq4y/KdxUvoD4GQNEXnCCHIDLn4LKDEdZpPC6ll3kibS2fRw56J7bX2tZZAXmcGvkAWPvOT/g4SprhTVTfJ7+eGPk1EszxLhRlpN0BHzZ+1FwtaPUU0SD8fg+u785IeGXSgLxFffAtSwcEjbGb0FrSxOxT2tWIx4HemYlOteq6emYHgnjzLLmG5pmRLlDMBcE0aoiZH1HoajrHlNSQI32OkKVY5IoA2iVpU9w474Vk5RHKmAMj7+pD6xL6ySt4l63clmIa5GCabYo9Ri2y9NBisCe+tTenjvSLK8IOteshAxqJ99Ip4eP/6raV86H80crSMtTPAOTRMeZrZSKu/AxN5RtonGhXx4V4cC1p1Q9BZDLvCZftdbelc4ywtyFxVN8MU098TUaFVJoMtFbUBGhVZ6UCoMh4usJc7ELtNNsvIun4e4aKvEoDeTskZlWrYkbbw1EU9M+klB+zkEdzszTc7DlmudtSzEXBQ5RmnVsvikBZzjYlxhwGoFndbN45TPVDcDN9/7wByBmB5ShOar3WezBiLXgGPQ1FzNLj4M+upRH4Jr4eiAE1UH8YACh7AePb9qNUg39+yYA+ovdkpgvlYG0WD5vcdbTr3hX1R+QJlP2/XIv7r9TfABRylj0CEXYLHj6aU3QGkTY8+bcirmlHyc3++xaio3tn0wlBohvA25TNeYbbBxCH8YNyakGrjrSTaKUvr4qcpl29XYBH2JOhGAtcqAS5G7m2ZxJQMNpui/suw7tETY/2ays0ACxXoljkb9XRDjXb2Nfhvfj/MnCWvkDnFkwqm2eEvQPP/Q3SkQZbFuT+edHWpHAdkbNuux5XGHaiaqbLCPIuvudW+J7FXum58DBNjIepA7eqm33Bj4hmgvtSByaErZQHdI7X+W5E0kiU8d4PI7cuol2SeUzdlF9p07npPgnlB4ZuLqv8mthzuUDnUIXXK6moopUm6EIJwgFGP/QqvxL3dwAVXxNgniy/jf1t3nsWGiSdj6CNLnChKIOlL+Jt4/CcUtExAK2eFoAct4W/TYWWpoNolhberwSmdyPKH6J/0g339UnlQkcZ5GV4Ql/riPIrXWsAtLZ0hvkFXvCzsKQ3hMrr+/jVinbztXQCXcH+CSA6SlCm+a+rYV7o1uLQyTY63vtSv7AmVs31dR3praxY0U4/36GZZgmWcZSbbi3eAMxDGdfqSE6sl0oxC8oOkW6lIcj9G4sUf52wtqf7Z8ftoyPoZFldUr3ey3+dp9yyGBsONipOz3npiAHQOjaR22Ds9qI5nlaSKulaA5DnSnzMmeZH+NBfRznrhWiuXo3In+GK7YXr1P8PXwh91611L4zEOKdgcIsPkUFI1HGdk/xo4lRXX3N7XWrYl/CKREfayU04Z1d8r/uwJQbtuUN75Na9lP9biToNWDkDoJWI2Qp//LQn7RimXJ8wvR7rUalHk+LDEe+dbzJWQoOTW12H8TQB6l/GFt4+V5TwSM0GQJbivt+GQT2KrucVbmOHwN27GXVpG+UEKLVOEbUbEndMhwaQ+2MXS5CIZ9JVfAsetzCp1Iefysa0WrRCy19PkZvruKuYjXLuDLfup9l+EwpS/phcwq/tazKSndAKLF/BUicbvTW2wq2Qk+wmiKlncZ7etRht9GWUfzWnj2O4PR3nxvfD1xr8+cb/txjynJ+dSL3Y088fMF9HZ5ozXcjPJGmi3nIyDN638Cxb4guvh/TYhKXO88AoYroOakhueQOZrwzUzCi/LdzutuUxdBTNNfe6UI4zZTMk3X/g2aKVhhY5+Up8h9yVStE7aO2IejT4TvwErnMHzTN/0Z31oPsNQJ7chIhbQLkPRSTsjtcfiKfRoaBa7tSEqDnjvTSX4Qp2cQ88fZY4Jns/TH3IT5hRkTDXrTMdjVM8i86JF4dOl1UObUJrCn0TP4NR+o8dxefQTGRA6Nv4yJatU/GhOfTbeKY+eLfVzLQmJr6bCuIsroCyCa2JPP+ZZVpNyD4Hg7Mn+Wav6isCF9/SPPURukYHPjkDkJDw38JP7VAYe3+nJZGbabr5ZIqgID7nS0hIqA86dVq+yFAq4hk30Y0kBiAhoavRSTp9yq8SlGk16QYSA5CQ0NXoYCctwfukXLNpN5AYgISEruR0uyEUvX9E8VWsTghK8dN7dwOJAUhI6EoytC3l/hJyseuvIvRKrX33601iABISupJsmVmAPuEKQCUxAAkJXUk421G4jIrtij9dVhtJP4CEhK5khB0LZY+ZZZrm0xxTvz+4k5CQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkPBfDNH/AY+O2zzm8xElAAAAAElFTkSuQmCC","Texture","offsetLeft","offsetTop","_ul","userCompany","userLogoBase64","esmap","data:image/png;base64,","userLogoConfig","minFilter","LinearFilter","userLogo","updateHUD2","points_","holes_","parseBoundary","parseIndoorGeo","GLEN1","Circle(((","CLEN","hasHoles","MULTIPOLYGON(((","Writer","roots","navs","maptime","Hash","nameEn","Brief","adcode","address","BuildingHigh","Tel","FirstRotateAngleX","FirstRotateAngleY","FirstRotateAngleZ","Firstscale","DefaultFnum","DefaultCenX","DefaultCenY","minX","minY","maxY","ScaleLevel","Remark","FloorBarName","FloorHigh","floors","emptyArray","panos","styleid","logotoken","other1","other2","encode","uint32","int32","Type","float","double","DefaultCenZ","maxX","FloorSet","fork","NavSet","ldelim","encodeDelimited","PicSet","skipType","decodeDelimited","verify","object expected","isInteger","Type: integer expected","name: string expected","nameEn: string expected","Brief: string expected","adcode: string expected","address: string expected","FirstRotateAngleX: number expected","FirstRotateAngleY: number expected","FirstRotateAngleZ: number expected","DefaultFnum: integer expected","DefaultCenX: number expected","DefaultCenY: number expected","x: number expected","y: number expected","z: number expected","minY: number expected","maxX: number expected","maxY: number expected","ScaleLevel: string expected","Remark: string expected","FloorHigh: integer expected","isArray","floors: array expected","floors.","navs.","panos: array expected","panos.","styleid: string expected","token: string expected","logotoken: string expected","other1: string expected","o1: integer expected","t1: string expected","ESMapSet",".ESMap.ESMapSet.floors: array expected",".ESMap.ESMapSet.floors: object expected","fromObject",".ESMap.ESMapSet.navs: array expected",".ESMap.ESMapSet.navs: object expected",".ESMap.ESMapSet.panos: array expected",".ESMap.ESMapSet.panos: object expected","arrays","defaults","toObject","constructor","util","toJSONOptions","Facility","floornum","floornumtext","Elevation","Outline","Alias","Rooms","emptyObject","Lifts","image","NameEn","RoomSet","POISet","LiftSet","imagesize","skip","_id: integer expected","floornumtext: integer expected","NameEn: string expected","Height: integer expected","Elevation: integer expected","Alias: string expected","Rooms: object expected","key32Re","Rooms.","Facility: object expected","Labels: object expected","Labels: integer key{k:int32} expected","Lifts: object expected","Lifts: integer key{k:int32} expected","image: string expected","imagesize: string expected","other2: string expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Facility: object expected",".ESMap.FloorSet.Labels: object expected",".ESMap.FloorSet.Lifts: object expected","objects","RMS","RMR","RMO","CenX","CenY","ShopID","Tid","RLSize","PointID","len","Tid: integer expected","RL: string expected","RLSize: string expected","RC: string expected","RH: number expected","RM: string expected","RMO: string expected","RS: integer expected","SL: integer expected","CenX: number expected","CenY: number expected","AS: number expected","Outline: string expected","ShopID: integer expected","FS: integer expected","FC: string expected","toJSON","FSId","Y: number expected","SH: number expected","w: number expected","FSId: integer expected","ipos: integer expected","F1: integer expected","F2: integer expected","LT: integer expected","LM: string expected","LS: string expected","LR: string expected","LO: string expected","X1: number expected","Y1: number expected","O2: string expected","Nodes","NavLineSet","NavNodeSet","Nodes: integer key{k:int32} expected","Nodes.","Lines: object expected","Lines.",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","sid","tid: integer expected","X: number expected","sid: integer expected","Z: number expected","eid","efnum","bstair","direction","eid: integer expected","efnum: integer expected","rank: integer expected","length: number expected","direction: string expected","bstair: string expected","Infos","serverurl","bgaudio","picscale","msgscale","bgaudioplay","PicNodeSet","PicClickSet","serverurl: string expected","bgaudio: string expected","bgaudioplay: integer expected","picscale: string expected","Nodes: object expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected",".ESMap.PicSet.Infos: object expected","idlist1","idlist2","base","base: integer expected","idlist1: integer[] expected","idlist2: array expected",".ESMap.PicNodeSet.idlist1: array expected",".ESMap.PicNodeSet.idlist2: array expected","purl","aurl","msgt","curl","msgc","csize","floornum: integer expected","purl: string expected","msgt: string expected","curl: string expected","csize: string expected","Reader","ESCityLicSet","mtime","ltime","AngleX","Long","fromBits","offsetbid","offsetroad","tileurl","bidnums","modnums","cids","tiletoken","alist","bidlist","AngleY","AngleZ","int64","mtime: integer expected","ltime: string expected","Hash: string expected","AngleX: number expected","AngleY: number expected","AngleZ: number expected","minX: integer|Long expected","low","high","minY: integer|Long expected","maxX: integer|Long expected","maxY: integer|Long expected","offsetbid: string expected","offsetroad: string expected","bidnums: integer expected","modnums: integer expected","cids: string expected","o2: integer expected","ul: integer expected","l1: integer expected","l2: integer expected","l3: integer expected","l4: integer expected","eid: string expected","fromValue","toNumber","unsigned","LongBits","longs","dynamicBufferGeometry","normalizeUv","showChild","findChildById","hiddenChilds","hideChild","getChildIndex","offsetZ","holes","range","subarray","lenth","deleteChild","sideRange","getDis","genGeo","Shape","normalizeSide","normalizeTop","lineTo","Path","ExtrudeBufferGeometry","boundingBox","Vector2","error face","addChilds","transformCoordArray","mergeBufferGeometries","getChildList","getChildByRange","getChildsData","texture","aoTexture","colorStr","iTime","activeColor","texture1","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                uniform float opacity;\n                uniform float iTime;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                ","\n                    vec4 resultColor = vec4(outgoingLight, opacity);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 2.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    col += (colors * m);\n                    col.rgb *= 1.5;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    ","createSprite","size","sizeAttenuation","render","components","manager","enabled","component","append","addComponent","_invokeFunction","THREE_","THREE","esWorker","1.0.2","webgl2","Ajax","Promise","callbacks","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","loadTexture","ESDirection","none","floorBase","facility","label","modelLine","modelImage","modelBase","polygonMarker","locationMarker","lineMarker","imageMarker","textMarker","cardMarker","mapRoad","ESNaviMode","near","ESElementType","externalModel","This map has already expired,please contact esmap to download the latest map!","Please provide the corresponding token!","Token is not correct","Error version","Maximum es3dMarker limited","Data type must be an array","You cannot display allFloors in viewMode 2d","Your operation frequency is too fast. Please try again later.","Invalid source type.Please check out your request url","Your license has expired","current is online licensce , please contact esmap to get offline license","ESLineMode","full","dotted","dotDash","dash","triDotDash","esarrow","ESViewMode","small","ESControlPositon","noWebGL","onerror","ESComposerRender","ESMapTheme","ESMapPoi2","ESMapPoi3","ESMapPoi4","ESMapScene","ESModelMesh","ESComponent","Component","ESComponentsManager","ComponentsManager","ESMapGestureController","ESNode","ESElement","ESImageMarker","ESLocationMarker","ESPolygonMarker","ESLayerManager","ESControlOptions","ESScrollFloorsControl","ESToolControl","ESZoomControl","ESNavigation","ESNaviResult","ESWall","ESNaviCore","ESPopMarker","ESBuilding","ESRoomTexture","ESWebViewMarker","esmap.ESWebViewMarker 已弃用","ESModelGroup","ESLine","ESTile","ESCardMarker","getPath","bidList","buildingSearchJson","sent","datas","bids","cenx","ceny","keys","typeID","keyword","continue","search","item","checkFunLevel","intersectPolygons","containPolygons","toRgba","getAlias","getNearestAngle","setControlsInfo","getOrthoCameraSizeByPerspectiveCamera","getDatasByAlias","setFloorAlpha","getModelTypesCount","getVersion","searchModel","getRoomDirection","_setGeneralProperties","getExtentByPoints","getCenterByExtent","buildBezierCurvePoints","buildCurvePoints","GCJ02ToWGS84","transformWGS84ToMap","transformBD09ToMap","transformGCJ02ToMap","transformMapToWGS84","getDistance","timestampToTime","getPolygonBounds","color format error","getState","containPolygon","rgba(",",1)","getMapScene","_type_","firstPersonControls","toFixed","userAgent","iPhone","Windows Phone","iPod","getTileFromMec","viewMode","camera","zoom","sin","fov","aspect","buildingType","getFloor","modelbaselayer","modelbases","modellayers","models","oid","OCenX","OCenY","typeid","RoomHigh","RoomStyle","MODEL","lastAlpha","hideOnComplete","getBuilding","modelTypesCount","key","buildingList","GLTFMergeTool","changeModelAlphaById","classID","all","floorNums","ALL","dataID","radius","buildingBounds","FACILITY","MapUtil","getMapCoordDistance","polygon","node","dis","TEXTURE_LOADER","computeExtentByPoints","QRSTUVWXYZabcdef","ghijklmnopqrstuv","ABCDEFGHIJKLMNOP","wxyz0123456789+/","charAt","segments","QuadraticBezierCurve3","ESMapSceneUtil","deviceYDPI","width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden","transform","GCJ02","lonLat2Mercator","BD09","cos","getMonth","getDate","getHours","getMinutes","getSeconds","intersectsPolygonAndPolygonNew","_tweens","getId","_tweensAddedDuringUpdate","_isPlaying","nextId","_nextId","hrtime","now","performance","_isPaused","_object","_valuesStart","_valuesStartRepeat","_duration","_yoyo","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_valuesEnd","_group","_onStopCallback","stopChainedTweens","_pauseStart","_repeat","_repeatDelayTime","updateCountDown_","_reversed","Bounce","Interpolation","Utils","Bernstein","CatmullRom","Factorial","varying vec2 vUv;","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","uniform sampler2D tDiffuse;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","EffectComposer","RGBAFormat","_pixelRatio","getPixelRatio","_width","WebGLRenderTarget","_height","EffectComposer.rt1","renderTarget1","renderTarget2","EffectComposer.rt2","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","THREE.EffectComposer relies on THREE.CopyShader","copyPass","ShaderPass","setSize","getRenderTarget","isLastEnabledPass","renderer","needsSwap","stencilFunc","NOTEQUAL","EQUAL","swapBuffers","MaskPass","ClearMaskPass","getSize","Pass","clear","THREE.Pass: .render() must be implemented in derived pass.","FullScreenQuad","PlaneBufferGeometry","_mesh","state","setMask","setLocked","stencil","setTest","setOp","REPLACE","setFunc","setClear","setRenderTarget","KEEP","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","autoClear","getClearColor","setClearColor","autoClearColor","autoClearDepth","autoClearStencil","textureID","tDiffuse","UniformsUtils","ShaderMaterial","fsQuad","FXAAShader","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbB;","CSS3DObject","absolute","CSS3DSprite","overflow","hidden","WebkitTransformStyle","preserve-3d","transformStyle","elements","translate(-50%,-50%)","px,","px)","matrixWorldInverse","transpose","copyPosition","WebkitTransform","projectionMatrix","isPerspectiveCamera","WebkitPerspective","updateMatrixWorld","getInverse","isOrthographicCamera","CSS2DObject","CSS2DRenderer","relative","setFromMatrixPosition","-100%","-50%","computedScale",") translate(","px) scale(","offsetY","display","canvas","contains","insertBefore","createEvent","HTMLEvents","initEvent","popMakerCreated","targetELement","zIndex","FirstPersonControls","lookVertical","autoForward","heightSpeed","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","autoSpeedFactor","mouseX","mouseY","lat","lon","phi","moveForward","moveLeft","moveRight","mouseClickMoving","mouseDragOn","mouseMoveOn","viewHalfY","stopAsap","cruisingMode","nextPos","lookAtTarget","cruisingAngle","rotating","viewHalfX","innerWidth","innerHeight","focus","activeLook","button","moveBackward","onMouseUp","onMouseMove","pageX","pageY","clearTimer","mouseLastPos","onKeyDown","moveUp","moveDown","stopAsap2","onKeyUp","clamp","movementSpeed","translateZ","translateX","translateY","lookSpeed","userIntersecting","theta","mapLinear","contextmenu","mousedown","mouseup","keyup","onMouseDown","mousemove","handleResize","DefaultLoadingManager","anonymous","resourcePath","LoaderUtils","extractUrlBase","itemStart","itemError","itemEnd","FileLoader","setResponseType","arraybuffer","crossOrigin","dracoLoader","KHR_BINARY_GLTF","content","decodeText","action","ESMAPEDITOR","asset","gltf version>=2.1 supported!","MODEL3D_ERROR","hash","scenes","accessors","bufferViews","textures","images","samplers","ESMAP","ESMAPBID","模型未经授权!","URL","extensionsUsed","extensionsRequired","KHR_MATERIALS_UNLIT","KHR_DRACO_MESH_COMPRESSION","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM",'THREE.GLTFLoader: Unknown extension "',"KHR_draco_mesh_compression","KHR_lights_punctual","KHR_materials_pbrSpecularGlossiness","KHR_materials_unlit","KHR_texture_transform","DDSLoader","ddsLoader","KHR_LIGHTS_PUNCTUAL","extensions","lightDefs","lights","directional","DirectionalLight","spot","SpotLight","innerConeAngle","outerConeAngle","penumbra",'THREE.GLTFLoader: Unexpected light type, "',"decay","light_","resolve","baseColorFactor","assignTexture","baseColorTexture","binary_glTF","glTF","header","getUint32","magic","THREE.GLTFLoader: Unsupported glTF-Binary header.","THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.","byteLength","JSON","BIN","THREE.GLTFLoader: JSON content not found.","THREE.GLTFLoader: No DRACOLoader instance provided.","DRACOLoader","getDecoderModule","componentType","normalized","getDependency","bufferView","then","decodeDracoFile",'THREE.GLTFLoader: Custom UV sets in "','" extension not yet supported.',"KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","lightMap","aoMap","aoMapIntensity","emissiveMap","bumpScale","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","ShaderLib","standard","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif","#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","vec3 specularFactor = specular;","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","float glossinessFactor = glossiness;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","PhysicalMaterial material;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;","uniform float roughness;","uniform vec3 specular;","uniform float metalness;","uniform float glossiness;","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <lights_physical_fragment>","roughnessMap","setHex","defines","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","lightMapIntensity","bumpMap","normalMap","normalScale","refractionRatio","derivatives","isGLTFSpecularGlossinessMaterial","specularGlossinessParams","diffuse","isWebGLRenderTarget","matrixAutoUpdate","uvTransform","flipEnvMap","isCubeTexture","reflectivity","maxMipLevel","properties","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","Interpolant","copySampleValue_","resultBuffer","sampleValues","valueSize","beforeStart_","afterEnd_","interpolate_","Matrix3","NearestFilter","NearestMipMapNearestFilter","LinearMipMapNearestFilter","NearestMipMapLinearFilter","LinearMipMapLinearFilter","ClampToEdgeWrapping","MirroredRepeatWrapping","BackSide","NeverDepth","LessDepth","EqualDepth","LessEqualDepth","GreaterEqualDepth","NotEqualDepth","AlwaysDepth","AddEquation","SubtractEquation","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","SrcAlphaSaturateFactor","skinWeight","skinIndex","morphTargetInfluences","InterpolateSmooth","DEPTH_TEST","SCISSOR_TEST","SAMPLE_ALPHA_TO_COVERAGE","MASK","BLEND","RGBFormat","FrontSide","gltfExtensions","extras","THREE.GLTFLoader: Ignoring primitive type .extras, ","POSITION","NORMAL","accessor","morphTarget","setXYZ","getY","getZ","morphAttributes","weights","targetNames","morphTargetDictionary","indices","promise","baseGeometries","baseGeometry","primitives","isInterleavedBufferAttribute","getW","targets","cache","primitiveCache","multiplePrimitivesCache","multiPassGeometryCache","textureLoader","setCrossOrigin","fileLoader","removeAll","markDefs","cameras","catch","joints","skin","meshUses","loadNode","loadMesh","loadAccessor","loadBufferView","loadMaterial","loadSkin","animation","loadAnimation","loadCamera","loadLight","Unknown type: ","getDependencies","loadBuffer","THREE.GLTFLoader: "," buffer type is not supported.","sparse","BYTES_PER_ELEMENT","byteStride","InterleavedBuffer:","InterleavedBuffer","InterleavedBufferAttribute","SCALAR","byteOffset","values","setArray","setW","THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.","webkitURL","source","createObjectURL","Loader","Handlers","revokeObjectURL","flipY","mimeType","format","magFilter","wrapS","wrapT","extendTexture","extendParams","getMaterialType","MeshStandardMaterial","pbrMetallicRoughness","metallicFactor","roughness","roughnessFactor","metallicRoughnessTexture","doubleSided","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","sRGBEncoding","decodePrimitive","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","isSkinnedMesh","SkinnedMesh","normalizeSkinWeights","drawMode","TriangleFanDrawMode","LINES","LineLoop","POINTS","Points","THREE.GLTFLoader: Primitive mode unsupported: ","mesh_","isPoints","PointsMaterial:","PointsMaterial","Material","isLine","LineBasicMaterial:","ClonedMaterial:","skinning:","flat-shading:","morph-targets:","cloneMaterial","vertexColors","VertexColors","flatShading","morphNormals","THREE.GLTFLoader: Duplicating UVs to support aoMap.","perspective","PerspectiveCamera","yfov","aspectRatio","znear","zfar","orthographic","xmag","ymag","inverseBindMatrices","channels","parameters","input","output","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","InterpolateLinear","isMesh","arraySlice","AnimationUtils","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","animation_","meshReferences","_instance_","onBeforeRender","loadScene","isGroup",'THREE.GLTFLoader: Joint "%s" could not be found.',"Skeleton","dir","widthScale","lerpPathPoints","lerpVectors","dist","PathPointList: points length less than 2.","equals","_start","_corner","crossVectors","_getCornerBezierCurve","_hardCorner","_getByIndex","subVectors","dot","makeRotationAxis","acos","_drawing","_includeDrawingPoint","_points","_lastPoint","_lastFixedPoint","fixRadius","_cornerRadius","_cornerSplit","_dirty","cornerRadius","cornerSplit","getPoints","_getLastFixedPoint","getPathPointList","_pathPointList","confirm","DynamicDrawUsage","setUsage","setDynamic","drawRange","_updateAttributes","usage","setLength","_resizeAttribute","updateRange","maxUvVal","startRad","_resizeIndex","getIndex","SelectionBox","endPoint","collection","watchlist","focusTileId","select","startPoint","updateFrustum","searchWatchlist","updateProjectionMatrix","unproject","deep","setFromCoplanarPoints","planes","WARNING: SelectionBox.js encountered an unknown camera type.","preWatchs","boxSelectPoints","containsPoint","intersectsBox","pickType","isVisible","mapExtends","clonedMats","originalPoints","1px solid #55aaff","backgroundColor","fixed","pointBottomRight","selectionBox","isDown","onSelectMove","onSelectOver","parentElement","0px","clientX","pointTopLeft","map_","matInfos","getDeviceWH","floorEdges","getPixXY","mapOpacity","maxSize","gendatas","gradient","rgb(0,0,255)","rgb(0,255,0)","yellow","getContext","ctx","ctxCopy","canvasCopy","renderShadowCopy","boundVal","shadowColor","rgba(255, 255, 255, ","shadowOffsetX","shadowOffsetY","shadowBlur","arc","closePath","renderShadow","rgba(0, 0, 0, ","getImageData","getPalette","setFloorNum","HeatMapMaterials","renderToFloor","matTool","层热力图错误，请先执行setFloorNum","mat","heatmap","focusFloorNum","focusAlphaMode","originalUv","floorUvs","originalMainMat","getObjectsByAlias","originalStatus","originalColor","antitrans_","_hasHeatMap","disposeHeatMap","texture2","createLinearGradient","fillRect","cachePoint","clearPoints","clearRect","getHeatMapTextures","addPoints","randomPoints","isShowBackground","transFactor","texLightFactor","bgColor","\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t","\n                ","#define IS_BG","animate","__lastPhi","__viewModeAnimating","lastSelectStore","__moveToId","updateTile","3.0","minPolarAngle","baseDistance","mapPickHighLight","zonTempObj","sceneOrtho","change","controlsChange_","firstCameraPos","scaler_","ESMapScaler","flyController","controlend","scaleLevel_","timer","timerImmediate","_selectModelAlpha","matList","o_count","tileConfigs","onMapResize","localScaleLevel","initLocalScaleLevels","_fullscreen","FullScreen","updateLts","hoverMode","focusFloorNumChanged","gestureController_","popMarkers_","localMoveTo","ESMapInited","updateCssScene","maxBuildingZoomLevel","localScaleLevels","restoreArea","hideRecord","stopCruising","firstPersonAnimating","lastCruAngle","toClearId","exitModeOnEnd","needAnimate","beforeCruiseState","originalRotateAngle","originalTiltAngle","originalControlState","modelInfos","cruisingByPoints","rotateTime","afterEnd","getControlsInfo","tileMode","scaleLevelTo","beforeStart","firstPersonMode","noFly","unshift","initCssScene","cssFactor","rendererCss","deltaVec3","autoUpdateObjects","mixerPlane","cssFuncs","openBuildingById","tl_","TOO_FAST","IsMapLoading","preLoadBuildingId","openBuilding","fadeTo","disposeBuilding","meshLoader","modelLayers","lineLayer","modelTextureDatas","modelImageGeos","modelTextureMeshs","modelMats","cleared","toAddQueue","modelManagerStarted","isLoadedAll","o3dFloors_","openMapById","openMap","resetAll","MapInited","ESMapResolveReady","maxPolarAngle","loadBuilding","buildingRouteDataLoaded","buildingService","scaleLevels_","setState","mapName","mapNameEn","userScene","focusBuilding","setScene","_start_","setOriginCameraPosition","setBackgroundColor","clearColor_","buildingMapLoadComplete_","initMap","onlineAuth","queryTileTheme","currentView","tileList","queue","mergeQueue","modelLoadedAll","tileModelInited","building loaded","setting view","closeBuilding","_disableTileUpdate","Tools","toggleTileLayer","loadComplete_","beforeOpenBuilding","buildingLoadComplete","finish","initESAudioTool","mapAudioSrc","esaudio-1.2.mp3","/esaudio-1.2-","ESAudioTool","AUDIO_ERR","setTilesVisible","modelBasicMat","cacheBuildings","shell","buildingScene_","showBuildingMode","enter","tileid","hideFloorBase","checkToLoadedBuildings","toLoadedBuildings","请使用ESMap城市地图编辑器绑定该室内地图!","loadTile","clearLineMarkById","clearAllLineMark","drawLineMark","onUpdating","added","originHeight","smooth","画线点集数据错误","lineManager","lineType","nobuildCurveZ","curvature","-&-","crossBuilding","bid_","screenshot.png","ULTRA_HD_ERROR","resize","cameraTop","cameraOrtho","toDataURL","image/png","download","click","newTab","document","title","Screenshot","change3dColor","layers","change3dVisible","MODEL_BASE","MODEL_IMAGE","isHideFlags","merged","finded model iamge....","changeBuildingColor","buildingColorStaged","highLightFlags","highLightColor","addBuildingColorStaged","changeModelColor","colorRGB2Hex","colorMap","_analyseRawPoints","toSceneCoord","targetAndBuildingList","raycastByCoord","startCoord","beginPath","fillStyle","red","cubeTip","getCenterLonLat","cameraFlyTo","changeFocusFloor","initDistance_","pitchAngle","flyFocusTo","directionAngle","highlightBuildingById","selectNull","tapTip","getElementById","spanId","group","popDiv_","storeSelect","tiltTo","raw","emitError","未找到scaleLevel为","的缩放级别","setScaleLevelLimit","maxScaleLevel_","initScaleLevel","ceil","scaleLevelIn","scaleLevelOut","zoomIn","zoomIn_","zoomOut","zoomOut_","background","userBgColor","clearTrans_","setModelSelectColor","prepare_","themeList","queryBuildingTheme2","queryBuildingTheme","setThemeList","selectMatIndex","isSelectFlags","selectMat","slots","setSelectColor","POLYGON_MARKER","LINE_MARKER","selectedLineColor","toggleTileBuildings","getTileNumsByPolygon","cachedTiles","addToCache","unloadTile","unsetArea","userTiles","selectModelNull","Model3DSelectColor","polygonSelectColor_","originEMS","naviMap","lastColor","isSelected","line","_originalWidth","setRadius","storeModelSelected","unSelectLast","setBuildingTip","customClass","setTapTip","defaultTemplate","setModelAlpha","originalOp","setCompassPointerUrl","compass","restoreModelAlpha","_canPicked","pickFilterFunction","initScene","getO3dScene","loadTile_","queryTileScene","__bo","getTileScene","queryNavs","failedTiles","needNewTileByRoutes","routeDataLoaded","solvingList","tileUpdated","loadComplete","loadCompleted","setUserNavLangLib","langLib","applyToNavLib","setUserGenLangLib","applyToGeneralLib","getMapNavLangLib","navLib","getMapGenLangLib","generalLib","closeBuildingById","building do not exist","break","shellId","entered","exit","buildingCache","loaded","hold","closeAllBuildings","showRoomModel","oz_","faces","dedupe","verticesNeedUpdate","vertices","isCoordInView","frustum","zoomLevelTo","selectLineNull","storeSelectLine","multipleSelect","originalMat","init_","seeThrough_","pickPriority_","__ignore_box","Unknown Object,skipping","getChildByFaceIndex","faceIndex","clickOpenBuildings","bimInfoLib","bimLoader","getInfo","infoList","logModelInfo","diableClickEffect","bclick","gid","isBim","%clogModelInfo:","color: #2BDE73;","_originalRadius","FLOOR","LABEL","worldCoord","hitCoord","propogationIndex","raycaster","intersectObjects","pickerNone_","mousePos","mapClickNode","NONE","keepPress_","intersects","IMAGE_MARKER","TEXT_MARKER","mapKeepPress","stopAllAnimate","animatque","getUserScene","_insureUserCoordInbounds","coords","localCenter","requireUpdateCollide_","__isChangeTheme","_stop_","panRange","$ESMapPlane","mapplane","o3dScene_","tileLoadComplete","routeLoaded","tileInited","modelInited","_checkTileModelInited","computeLocalScaleLevel","tileShowLevel","updateText","updateSize","tileMapInited","queryTiles","checkTileView","comparehs","WELL","_sdu","_em","share","initTilesView","tileDisabled","unloadBuildingById","ESBuildingType","maximumTiles","computeCenters","buildings","handling","viewMode_","autoOpenBuilding","isAnimating","getLocalCenter","autoOpenLevel","pointInArea","scaleLevelChanged","validRange_","focusFnum_","box3_","floorCenter_","minScaleLevel_","initTop_","defaultControlsPose","MODE_2D","DEG2RAD","defaultTiltAngle","_alwaysShowLabelAndPOI","addLocationMarker","removeLocationMarker","getObjectByName","coordScreenToMap","coordScreenToScene","setFromCamera","forceUpdate","intersectObject","coordMapToScreen","w_2_","h_2_","project","getPopMarkerById","popGroup","clearPopMarkerById","clearAllPopMarker","forceLoadTiles","tileGrids","Tilelimit","queryTilesByNum","secondViews","onProgress","_rotateToID","getAzimuthalAngle","targettocamera","fullScreenAvaliable","available","fullScreen","request","cancel","layerLocalHeight","navigateStyle_","gap","minX_","maxX_","maxY_","getCurrentScaleLevel","scaleLevelValue","watchingOpens","mapOriginCoord","toUpperCase","viewMode must be 2D or 3D","lastTiltAngle","viewModeAnimateTime","viewModeChanged","themeName","themeName_","sceneId_","themeDataSrc","showScaler","shadowLight","castShadow","shadowAngleX","shadowAngleY","Name","tempFlipX_","MapControls","wheel","maintimer","webgl","COLOR_BUFFER_BIT","resetControls","registerMapControllerEvents","controls_","registerEvents","pickedObjects","mapClickObject","screenX","webkit","moz","visibilitychange","pageVisibility","updateDirection","maindeltaTime","stopRender","spriteBg_","spritePt_","compassSize","_maxResolution","ZoomLevel","WebGLRenderer","highp","sortObjects","shadowMap","cameraMode","cam2control","vFovHeight","vFOV","rotationAutoUpdate","OrthographicCamera","ambientLight","AmbientLight","mainLight","initCss2dScene","onWindowResize","distance2Resolution","LOG2E","level2Resolution","pointerEvents","composer","reSize","cssCamera","resolution2Level","resolution","calResolution","_minResolution","getWorldDirection","<h5>您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器</h5>","compassRaycaster","propogation","isPicked","boxPickedObjects","tapcount","debugPick","hoverList","lastHoverTarget","hoverUserObject","isPc","touchmove","touchend","BoxPicker","BoxPickerHelper","SelectionHelper","onmousedown","onmouseup","touchstart","checkHover","hightLightObject","unhightLightObject","findAndDelete","traverseTarget","hovered","$originalColor","#f49452","$originalEmissive","lineGroup","hoverBuildingModel","clearSkyBox","obb","disableOutdoorClick","hover","hoverObject","onLeave","getPick","enableBoxPick","startClientX","startClientY","mousemoved_","traverseAncestors","clickCompass","onmousemove","isStaping","touches","endClientX","endClientY","indx","mapBoxSelected","ebp_","ActiveXObject","phantom","android [23]","chrome","mobile","PointerEvent","MSPointerEvent","pointerEnabled","WebKitCSSMatrix","m11","MozPerspective","ontouchstart","DocumentTouch","experimental-webgl","msLaunchUri","documentMode","android","safari","opera","devicePixelRatio","logicalXDPI","browserLanguage","language","escapeSpecialChars","splitWords","stringLength","getFontHeight","splitContent","replaceVariable","getAlignPoint","getFont","trim","font","measureText","getDomRuler","_default_","textFont","textStyle","textWeight","textSize","px ","textFaceName","textWrapCharacter","textWrapWidth","_enabled","addHooks","removeHooks","materialPt_","materialBg_","compassOffset","setPointer","onload","setBg","compassBackgroundUrl","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","lw_","autonavi","ShowBuildingMode","PLANISH","image/light2.png","TEXTURE","maxZoom","minAzimuthAngle","maxAzimuthAngle","enableDamping","enableZoom","zoomSpeed","rotateSpeed","enablePan","panSpeed","keyPanSpeed","autoRotate","enableKeys","mouseButtons","MOUSE","LEFT","MIDDLE","target0","position0","getScaleRate","zoom0","drop","setFromUnitVectors","setFromVector3","forcePhi","makeSafe","dampingFactor","distanceToSquared","autoRotateSpeed","setFromMatrixColumn","screenSpacePanning","minZoom","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","enableRotate","deltaY","BOTTOM","ROTATE_UP","ROTATE_LEFT","DOLLY","PAN","RIGHT","ROTATE","DOLLY_ROTATE","EventDispatcher","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","modelLoader","modelLoadingList","toLoadedCount","concurrencyLimit","mapModelsCount","mergeQueueWaiting","requisitesQueue","mapModelLoadStatus","userMergeQueue","lasViewCenter","maxShowModels","Frustum","mapDispose","checkMergeQueByShowLevel","setFrustum","inited","addMapModel","__singlemesh","__nomerge","rankRequisites","addUserModel","checkO1","ES3DMARKERNUM_ERR","layerid","rankSingModel","applyToMap","applyRequisitToMap","startLoadModelsByShowLevel","iswall","disableIndoorClick","toLoaded","modelLoadComplete","focusAlpha","startLoadModelsByFLoor","invisibleMergeModels","setFromMatrix","mapmodel3ds","sizeInfo","applyMergeToMap","loadUserMergeModel","checkIfNeedLoad","autoLoad","modelrank","ind","rankAllModels","loadExist","Bone","SkeletonUtils","_ef_$floor","floorObj","_ef_$fl-group","marker","isWall","lod.gltf","brief","find","自定义动画 ","setAlpha2","wallmodel_prefetch","model3DsRGBCity","loader","modelLoadings","isMaterial","LinearEncoding","needDepth","modelPrefetched","setMatAlpha","divideScalar","lineStyle","bindedUpdate","updatechange_","__bindupdate","__bindchange","controlchange_","fetchTexture","updateStyle","applyQuaternion","isFlying","flyTo","moveSpeed","radiusFactor","can not find esmap.ESDirection data","NORTH","SOUTH","EAST","NORTH_EAST","NORTH_WEST","SOUTH_EAST","SOUTH_WEST","moveToAnimate","cameraPosition","targetPos","rotateAround","checkScaleLevel","BuildingService","TileService","singleMeshData","singleMesheDatas","filterSingleMesh","quality","addToSingleMeshData","queryData","authenticate","themeLoaded","setBuildingThemeData","_convertIndoorFullData","focusFloor","calcSceneBox3","visibleFloors","asyncLoadFloors","ESMapLogo","expiresIn","IDBTryInit","ESCACHE","IDB初始化失败,不使用缓存","setCacheObject","transaction","cacheObjects","readwrite","objectStore","save cacheObjects error","getCacheObject","onsuccess","result","canUseCache","updatetime","indexedDB","deleteDatabase","Error deleting database ESCACHE","ESBIM","Error deleting database ESBIM","upsert","startTime","put","getOrCreateCacheMap","cacheMaps","onupgradeneeded","objectStoreNames","createObjectStore","deleteObjectStore","openCursor","upserttime","errorCode","IDBInit Error","modelImageTexturePool","roomTexturePool","imgs","loadRecords","failed","prefetchTexture","getMaxAnisotropy","FetchImgByUrl","syncGetTextureByUrl","capabilities","service","loadedList","dropList","centerTile","privites","areas","LOD","counters","roadGrids","failedNavs","navLoaded","buildingIDs","tileUrl","_o1","_mo","buildingLoadingCount","convertGeo2Geometry_","GData","_cdu","drawExtent","mypoly","showPolygons","-BOUNDS","ESLineMarker","modelWorker","loader_","forceLoadSecond","lic","INVALID_OFFLICENSE","X2BBXGk=","ABC","HASH不匹配","ESRemark","TjEySDU2TS4xSDU0TA==","TjEySDU2TS4xSDk4","TjEySDU2TS4xSDUyTQ==","TOKEN_MISS","TOKEN_ERR","ESTileurl","__trl","__maptk","%cThe "," map uses the WGS84 coordinate system. ","userCenter","showTapTip","<div> <span id=",">esmap</span> </div>","ESTapTip","white","4px 11px","borderRadius","4px","fontSize","span","es-control-popmarker-top","auto","solid dashed dashed","9px",") transparent transparent","-16px","userSelect","ES3DMarker","remoteNotify","setBidList","effectId","ESTileMap","ESTileMapNavSet","transformTileNavdata","tileRouteDataLoaded","tilePreLoad","INVALID_TYPE","cname","cityTheme","setMapTheme","theme","主题文件请求错误","indy","getContainerExtent","getTileNumbers","isValidTile","tileSize","0,0,0","tileType","TILE","convertTileData","buildingScale","vBoundary","tileStyles","counter","sideTextureType","filltype","topTextureType","bidoy","bidoz","_computedOffset","Fnum","Did","包含singleMesh，但是quality没有设置为low","transformNavData","getQueryUrl","_lic.esmap","/eslic/lic!getlic.action?cids=","getTileThemeUrl","/boundary.json","grids1","grids2","citycode","tileMapView","tileLayer","frozen","tileBaseFrozen","三维场景","未绑定","buildingFoucsMode","isFirstLoading","_mats","dataCenter","shellMap","BUILDING","yoffset","undergroundOffset","listFloors","udoffset","originHeight_","buildingReady","planishTilesAround","tilePlanished","toggleTilesLayer","版本错误","sk验证错误","三维场景${1} 未曾购买当前域名:${2}，请联系易景商务或者易景官网购买！#${3}","三维场景 ${1} 已过期，请重新下载最新的数据或者联系ESMap商务! #${2}","三维场景 ${1} Liscense 文件错误, 或者三维场景类型 mode 是否配置错误。请检查参数或者联系ESMap商务! #${2}","三维场景 ${1} 请求失败，请检查三维场景资源是否存在 或者三维场景类型 mode 是否配置错误! #${2}","三维场景 ${1} 的 ${2} 域名已过期，请联系易景商务或者易景官网购买! #${3}","ESTileMapSet","v: integer expected","cname: string expected","minX: number expected","Rooms: integer key{k:int32} expected","Labels.",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","PID","GID","bidox","bidor","bidstyle","bidrids","bidpids","layer","MC: integer expected","FH: number expected","RMS: string expected","PID: integer expected","bids: string expected","bidox: number expected","bidoy: number expected","bidoz: number expected","bidor: number expected","bidstyle: string expected","bidrids: string expected","bidpids: string expected","layer: integer expected","Did: string expected","NA: string expected","MT: integer expected","ST: integer expected","H: number expected","gid: integer expected","na: string expected","outline: string expected","dir: string expected","bstair: integer expected","style: integer expected","buildingOffsets","mapOptions","buildingFilters","checkBuildingFilter","strategy","addFilter","queryFloor","_convertFloorFromSourceData","versionCheck","maxV","minV","convertShowLevel","_scaleLevels","_initDistance","getZoomLevelByDistance","rotate","RModel","_convertToSceneFloor","convertIndoorGeo2Geometry_","isTube","Circle","originalHoles","TextureType","Typeid","FsId","RoomLogo","RoomLogoSize","roomtexture","ResourcePool","ShowLevel","noTexture","getLangItemFromJson","/imagelabel/","imagealign","imageAlign","_box3","the visibleFloors","ARRAY_REQUIRED"," or string ","'all'","defaultFloornum","visibleFloorNums_","mapFloorSpan","HeightSpan","jsonLib","_authBuilding","_authCity","VERS_ERR"," : ","decrypt","editor","domainWhiteList","navBrand","TjEySDU2TS4xSDU1TQ==","Wi5FSndDW3RFSGdO","ESMAP()*&<GoodWork","keyBytes","stringtoChar","即将到达目的地","感谢使用易景三维场景导航","右后转","左后转","右前方直行","到达目的地","左转后右转","已重新规划路线","右转后左转","右转后右转","左转后左转","步行导航开始","进入室内","进入室外","车形导航开始","目的地在道路右侧","请减速",".ESLang.json","getDesFromNavLib","getDesFromGeneralLib","getWordFromJsonLib","caches","waitings","distanceToPoint","targetLod","applyLod","rankObjects","_lod","replaceAll","ModelLod","sound","configStrLength","canInterrupt","isLoaded","isPlaying","playIndex","playLength","sprite","spriteArray","endHandler","loadFile","loadSoundArrayBuffer","getExtentUint8Array","buffer","audioGroupMapData","decodeUnicode",".mp3","extentIndex","Howl","loaderror","audio load error","destroy","playSoundByName","startNaving","playAudioByText","startCarNaving","_testEachKey","absoulte","20px","margin","10px","unload","playSprites","rate","num2text","ab2str","pop","audioGroupSound","responseType","dataBytes","100","and","composerOrtho","originSize","fxaaPass","addPass","logomatlist_","usedRoomStyles","defaultTheme_","modelOpacity_","floorColor_","fontStyleThemeDic","12.0","255,255,255","tileTextures","model3DSelectedColor_","lineTexture","userBgImg","maptheme","selectedColor_","defaultMaterial","createMaterial_","MapTextureList","material_list","defaultLightConfig","#888888","#000000","removeLight","light "," not exist","secondLight","setLightProperties","createLight","updateThemeStyle","initPoiMateriaByData","existflooridmap","updateTileStylesByData","topimage","/building/","topimagerepeat","sideimagerepeat","/upload/building/","topimagetype","sideimage","sideimagetype","roomTex","initPoiStylesByData","fillcolor","fontsize","strokecolor","strokewidth","initTileStylesByData","scaleheight","basic","borderwidth","bordercolor","主题文件错误,贴图样式","tileTexturesReady","texSide","texTop","matIndex","prodMatIdx","tileStylesMap","initRoadStylesByData","/upload/","linetype","modelLines","Line","clearcolor","roomStyle","setLights","model3DsRGB","roomstyle","color_","strokeColor_","materialList","floorstyle","floorStyleBase","floorOpacity_","baseheight",".png","fontStyle","fixAlpha","\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity; \n                varying float hideFlag;\n                ","getModelTheme","getPoiMaterialByType","poiStyle","/buildingImagelabel/","material_","updateBuildingTheme","randomIndex","RandomNum","topIndex","getTextures","ImageLoader","./assets/1.0.png","dataA","getRandomMat","rects_","collision_","height_","flashDelayId","flashId","flash3d","flashId1","flashId2","chain","isOver","rotateY","_stop","enabledUpdateSize","showLevel_","_lastScale","getPerspectiveScale","ESTextMarker","spritify_","firstGet","width_","meterperpixel","notAddImageHeight","Model3D","UserLabel","UserPOI","unspritify_","setY","makeTextSprite_","imageheight","imagewidth","isMarker","isTile","/buildingImagelabel","imageTexUrl_","imageTex_","applyImgTex","fontface",'"Microsoft Yahei","微软雅黑",Tahoma,Arial',"scaleRatio_","borderThickness","borderColor","rgba(150,150,150,1)","lineheight","imagespace","fontstyleid","platesize","platestorkcolor","fontspace","originPivot","pivot_","drawImage","iconPivot","pivottype","pivot","createdCallback","isCallbackExeced","shadow","shadowcolor","shadowblur","strokeStyle","roundRect","stroke","letterSpacingText","generateMipmaps","external","message","shadowoffset","3,3","setfontsize","setfillcolor","setfontstrokecolor","stopJump","_initY","zOffset","alias","_rotateID","fade","_isFading","out","_fadeID","fade3dOut","fade3dIn","pivotOffset","originPosition","vertex","spritify","computePosition","meterperpixel_","letterSpacing","strokeText","fillText","textAlign","restore","glowMat","noramlMat","glowColor","floating","_originCenter","_floatTween","_originalHeight","toggleGlow","genTexture","glowMode","size_","clip_","initActiveEffect","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC","activeSprite_","updateHandler","setUrl","alwaysShow","clip","strokeColor","strokeWidth","fixedAngle","initArrow","arrowColor","arrowSize","arrowGroup","PlaneGeometry","rotateZ","mapId_","minY_","ESGLTFLoader","initBase","tiles","centerX","centerY","disableViewCenter","controlsReseted","visibleFloorNums","Outdoor","meta_","addLayer","disposeInvisible","mapSceneData","calcInitCamera","collideLabel_","requireCollide_","forceVisible_","project_","loadTiles","floorEdge","addTask","handleFloors","floorBaseLayers","modelImages","model3Ds","postCount","navigator","createWorker","workers","workerStatus","receiveCount","bimMerged","bimInfos","onMessage","getTileFromCache","loadFloors","loadRooms","checkTstank","tsTank","postMessage","modelLineLayers","closeAll","baseLayers","layerType","pointGeometrys","modelLayer","toHandle","model3data","model3DData","types","lineTheme","groupIndex","lineIndex","drawOutline","getBuildingColorStaged","buildingsRandomFactor","highLightColorAttr","topTexIndex","normalizeUvs","rUv","buildingsHeight","randomFactor","sideTexIndex","lastGeoCount","appendAttribute","buildingsColor","_lodRecords","loadModelandImage","viewRank","viewrank","loadModel","rmodellayer","roomdata","MODEL_LINE","groupInfo","POSITIVE_INFINITY","NEGATIVE_INFINITY","lerp","mouseSelected_","selectedMaterial_","setDefaultTheme_","setSelectedTheme_","setGeoPoint","mapPicker_","enableMapPan_","enableMapRotate_","enableMapIncline_","enableMapPinch_","enableMapSingleTap_","enableCompassTap_","enableMapRotate","enableGestureRotate","enableCompassTap","enableMapZoom","enableMapSingleTap","ELEMENT","o3d","coord_","localToWorld","stopFloat","createMarker_","../image/user.png","canvasSize_","canvasSize","glow_","center_","name_","up_","glowColor_","onLevel","viewRadius","setColor","setSizeAnimId","id_","fixedAngle_","arrowColor_","arrowOffset_","arrowOffset","arrow_","arrowSize_","url_","mapLoaded","_visibleFloorNumsChanged","_onFloorHeightChanged","_update_","_update","hideBound","#30a3fb","initRadius","FULL","_geo","pickable","thickness","createBox","show","setImage","imageRepeat","imageAngle","_processUvs","processsedUv","computeBoundingBox","faceVertexUvs","uvsNeedUpdate","groupsNeedUpdate","initHeatMap","randomHeatPoints","clearHeatPoints","updateHeatMap","addHeatPoint","addPoint","removeModels","setLineWidth","_normalizePoints","_createPoints","rotateX","rectangle","ShapeGeometry","_createLine","contain","rgb(255,0,0)","putImageData","getTexture","addColorStop","colorize","XZY","params","imageSize","shadowOffset","style_","hooks","glowOpacity","cancelActiveEffect","marker_","img_","scale_","text","text_","angle_","pickPriority","setname","toggleLayers","getFirstLayer","removeLayer","removeLayersByTypes","removeLayersByNames","floorAlias","floorDesc","floorHeight","floorName","Only ESLayer acceptable!","STORE_IMAGE","webViewMarker","WEBVIEW_MARKER","boardMarker","BOARD_MARKER","CARD_MARKER","applyHeatMap","removeHeatMap","traverse_","disableColide","AUTHO_REQUIRED","loadManger","boardMark","请添加图层对应的marker!","_init_","loadMergeModels","load3dmarker","clickable","onError","checkViewRadius","setViewRadius","checkType","请使用图层类型对应的标注！","Map_CONTROL_NORMAL","EScontrolSize","Map_CONTROL_SMALL","allLayer","ESControlOffset","imgURL","expandSpan","tapedPos","isTapping","tapCount","triggerSkip","#1F6ED4","#FFF","disposed","$box","showBtnCount","showshowBtnCount","scrollMode","unset","\n                    ."," .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    ","  \n                    ."," .viewModeToggle , ."," .controlWrapper{\n                        background-color: ",";\n                        border-radius:","px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    ","textColor","\n                     ."," .floor-item .floor-item-devide{\n                        color:",";\n                    }\n                    ","toggleColor"," .layer , ."," .layers, ."," .view2d, ."," .exit{\n                        fill: ",";\n                    }","focusBgColor","focusTextColor"," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:","marginBottom"," .layersToggle , .","px;\n                    }\n                    "," .arrows {\n                        fill:","styleHash","getStyle","styleSheet","deleteRule","insertRule","updateBtnCount","buttonSize","$controlWrapper","createExpandBtn","$expands","padding","8px","cursor","pointer","layersToggle","flexDirection","column","view2d","inline-block","iconExpand","expandIcon","iconShrink","view3d","shrinkIcon","toggleExpanded","$expandToggle","updateFloorSpan","expanded",'<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>',"iconLayer",'<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',"iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>','<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>','<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>',"text/css"," .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        .",";\n            border-radius:","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:",";\n        }\n        ."," .view3d, .",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .floor-item-devide{\n            font-size: "," .arrows {\n            fill:",";\n        }\n    ","querySelector","999","block","scale(","boxSizing","iconLayers","$layersToggle","layersImage","layerImage","setAllFloorState","viewModeState","viewModeToggle","icon2d","icon3d","toggleViewModeState","expandBtn","exitBtn","createExitBtn","controlWrapper","1111.11rem","-webkit-perspective","tap-highlight-color","rgba(0,0,0,0)","-webkit-box-align","5px 0","transform-style","arrows","lineHeight","-webkit-transform","rotateX(","deg) translateZ(","backfaceVisibility","-webkit-backface-visibility","-ms-backface-visibility","rotate(90deg)","childNodes","40%","currentTarget","setTransformAngle","floor-item"," active","innerText","fontWeight","80%","pre-wrap","all .5s ease-in","floor-item-devide","toggleTargetClass","$maxAngle","onScroll","getElementsByClassName","toggleTargetClassByFnum","$scroller","ontouchmove","ontouchend","setViewModeState","reComputeHeight",".active","iconExit","allFloorsState","setMapViewMode","timer2","wheelDelta","deg)","taped","getActiveAngle","active","getCurrentAngle","limitValue","tapedAngle","checkPos","focusMode","margin_","init2D","initFloors_","initFloors","floors_","defaultPadding_","positon_","left_","right_","expand_","defaultShadow_","2px 2px 3px rgba(0,0,0, 0.3)","defaultRadius_","2px","imgURL_","tool-wrap","less.png) no-repeat 50% 50%","white url(","more.png) no-repeat 50% 50%","onclick","createTool_","tools-wrap","to-3d-view-btn","boxShadow","init2D_","controlViewMode","tool-floor-btn","marginTop","groups.png) no-repeat 50% 50%","container_","getElementsByTagName","setPosition_","controlPositionListener",".tool-wrap",".tools-wrap","top_","3D.png) no-repeat","MODE_3D","MouseEvents","2D.png) no-repeat","controlFloor","group.png) no-repeat","IsAllFloors","padding_","zoomin.png","zoom-out-btn","zoomout.png","hrEl",".zoom-wrap","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","alpha(opacity=100, finishopacity=0, style=3)","scalelevel","down","keepLeft","keepRight","arriving","appKey","navidistance","startMarkerLayer","_naviResult","toPassedFnum","startData","endData","startMarker","locMoveTimer","endMarker","navMode","timerDelta","naviDescriptions","lastAngle","isCrossingFuti","crossedFnum","curLadder","_isEnd_","moveTimer","lastNavCode","toSubDis","filterList","analysedData","blockList","curPathInfos","_toPos","_toRot","_allLen","_changeFnumIng","_animateFun","_rotateId","routePlanner","convert","ESARROW","audioPlay","setPreferCrosses","drawNavLineByIDs","dataList","navLine","_createMarker","image/start.png","endMarkerLayer","image/end.png","setView","setStartPoint","clearNaviLines","setEndPoint","reRoute","getRouteResult","outcome","setNaviData","clearAll","pointList","naviDescriptionsData","crossPoints","_getFloorsPoints","_groupsPoints","_getCrossPoints","getNavNodeById","queryByPoints","linkStartEnd","linkMinDistance","noGoingBack","multiLinesUsed","_naviDescriptions","drawRoute","des","outDoorNaviDescriptions","combinePoints","无法到达!请重新选点","_trs","clearLocationMarker","startmarker","clearMarkers","_drawLines","_drawlineByResults","lineObj","drawNaviLine","billboard","autoClearNaviLine","_linesVisible","playAudio","_setNavCode","_computeCameraStateByDistance","fitView","fitViewStage1","constraint","fitViewStage2","fitViewStage3","_broadcast","maxEnd","tipAlmosted","已到达目的地附近","audioPlayed","tipEnded","manModeTipStarted","tipDistance","manModeTipEnded","manWalkedCount","carModeTipStarted","carModeTipEnded","endDirection","carWalkedCount","navTip","_getDisToNextCross","point1","point2","dis2","routeCore","nearbyLine","lineList","has","_walkingfunction","ladderLen","crossFutiTime","ladderType","reRouteDis","_checkDeviated","deviateCount","surDistance","remain","backcount","walking","_gps","walk","arrivalCount","autoStop","parkDir","over","audioTipEnd","目的地在道路","导航结束","distanceToNext","segindex","instruction","restoreState","bestView","bestViewMinDistance","isSimulating","_animID","_viewID","_scaleLevelToID","_preGid","_preBid","isNaving","clearInterval","realNaviClock","dis2next","audioCountDown","_updateLinePass","passed","_index","inTime","_locMarkerToStartPoint","_needDrawLines_","_onstartNavi","_watchAudioPlay","simulate","_anim","_naviConstraint","naviinfoindex","坐标必须是数字","somthing error","totalDisntance","balanceValue","distonex","nexbid","_getTransformByLength","_getLadderType","crossSchemes","manModeAllScheme","allLineMap","relAngle","combineAsset","relField","进入 室内","_boo","_tailLen","relDesc","absDesc","继续直行","左前方直行","进入 ","isMultiFloors","getPosition","_groupPointsIndex","isNaviAnimating","_moveTo","minScale","changeTiltAngle","crossFloor","followGap","vvs","walkTo","_analyse","AMAP","_segindex","endFloor","getLineInfo","updateNavData","未找到线数据: ","preprocess","navidata","naviTip","locationMarkerOptions","locationMarkerUrl","image/pointer.png","locationMarkerSize","locationMarkerSpritify","locationMarkerSeeThough","splitLLStrToPoints","polyline","transLLPointsToWorldPosPoints","posList","computeDistance","requestAMapData","route","analyticRouteData","steps","getMapTypeData","driving","https://restapi.amap.com/v3/direction/driving","https://restapi.amap.com/v3/direction/walking","bicycling","getNaviResult","getPointById","setSourceData","getNaviResultBetbuildings","preferCrosses","roomPolygons","baseSceneId","nodeLinkMap","preprocessMain","preprocessTileNav","computeLinePoints","allPointMap","env","development","preprocess start","entryid","的入口","重复的线","man mode schemes error","pointids","lineids","fnumPoints","crosses","manModeScheme","carModeScheme","preprocessComplete","getSource","导航数据不存在","startFloorNum","getNearestNode","请重新选点","queryRoutes","noEntryPoint","getShortestPath","manhattenCost","walkPath","isMulti","walkLines","entries","起点与终点不能相同","costDistance","compare","JudgeCostDistance","updateNewShortestPathList","deepClone","error!id: 9920587","mapcoord","getAllGates","getNearestGate","getFloorNum","getLength","_modelObj","ESWall初始化失败:points不能未空","walls","_oriModelObj","updateByPoints","thickset","heightset","repeatset","数据错误，请检查是否有重复点 id:"," ,模型:","合并失败，取消合并","isMergedWall","asyncGetWallModel","wallModelPrefetch","modelPrefetchFailed","angle must be a object or number!","es3dmarker","ESModel3D","arcTo","dataList1","dataList2","areaToAreas","layerPoints","layerPToP","calculateAreaRelation","canGoAreas","calculativeCrossLayerLine","getCanRunPoint1","getCanRunPoint2","getLinePoint","pointIdListAdd","getSameId","calculatePath","opposite","updataOneTime","getOptimutic","getNumber","queryRoutesInBuilding","crossScheme","getNaviResult2","出入口到终点：","calculateAreaStartEnd","areaPoints","findAllPath","findLine","initDataList2","crossLine","getShortestPath2","updateNewShortestPathList2","box","11px","Arial,sans-serif","18px","rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px","textBox","#fff","5px","-1px","3px","7px","#000","1px","6px","barBox","&nbsp;米","&nbsp;公里","barBoxer","hideOnCreated","screenCoord","updateAlign","bindMarker","mapCoord_","transformOrigin_","center bottom","translateStyle_","translateStyle","-50%, -100%","new esmap.ESPopMarker: id不能重复: ","onVisibleCallBack","screenCoord_","IsScreenCoord","contentHeight_","content_","borderStyle_","borderStyle","1px solid rgba(0,0,0,.2)","rgba(0,0,0,.2)","maxScale","updateSize_","_tryInit","px;'>","</div>","es-control-popmarker","es-control-popmarker-bot","borderWidth"," transparent transparent","-40px","-39px","24px","border","bindCloseClick_","cssObject","setVisible","inLevel","bindchange","insertAdjacentHTML","beforeend","cssOnUpdate","getMapCoord_Z","closed","loadedFloorNums","thicks","animatingId_","animating_","floorSpanOffset","convertBuildingToWorld","getFloorNumByName","未找到楼层: ","getFloorBounds","floorBaseDatas","MAP_ROAD","asyncWaitTime","findRoomById","isSelect","isHide","hideGroup","hided","getO3dFloor","SINGLE","enteredStyle","focusAnimateMode","buildingHighLighted","未知的建筑聚焦模式,请参考esmap.showBuildingMode","originFloorHeights","focusFloor_","isInit","restoreFloorAlpha","notMove","Circular","loadFloorBase","floorTempData","asyncBuidExtents","loadFloor","modelsCount","putFloor","forEachFloor","theme_","addModel","updateFactor","loadRoad","asyncBuildPOIs","asyncBuildLabels","asyncLoadRoads","floorBases","poi","poiLayer","poilayers","pois","loadLayerComplete","labellayers","labels","callbackByFloor","preLoadComplete","initViewState","cameraFlyToHelper","floorNames","floorLoaded","updateScrollFloorsControl","visibleBuildings","blured","easeOutQuad","focusOnLoaded","naviData","userModelLoadStatus","hiddenFactor","buildingMergeModel3D","handleBims","bimModelsCount","addToQueue","marker3d","animNames","jpg","model load failed:",", error: ","sources","queues","allDataMap","queuesOther","bimNewQues","pages","loadedCount","tanks","bimSetData","mergeMode","controlstate","controlstart","handleTanks","bimLayerNot find","total","onQueueMerged","onQueueUnMerged","checkComplete","onGetBimInfo","IDBUpdateItem","IDBAddItem","bimLoadedAll","getBimSetFromIDB","bimSets","bimDatas","clearStores","ESBIM IDB初始化失败","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","clearCache","filetime","origin",".bin","-bim","getDesFromNlist","nlist","infos","cates","idx","bimid","bindBimInfo","bimInfo不存在:","bimId","模型数据为空","computeVertexNormals","getModelMaterial","collections","createIndex","myIndex","page","printDataSize","error in ","Why didn't you allow my web app to use IndexedDB?!","--------- "," - ","\t: ","TOTAL: ","printIndexDBSizes","dynamicShows","modelImageDatas","level","dynamicShowsModel","excludes","FLOOR_BASE","normals","uvs","themeList_","themeStyleLoaded","texture lost","addFloor","extent","scaleRateChanged","EXTENT_EPSILON_Y","mergeExcludes","tubes"];!function(x,a){!function(a){for(;--a;)x.push(x.shift())}(++a)}(_0x834c,148);var _0x37ca=function(x,a){return _0x834c[x-=0]};!function(x){function a(a){for(var _,i,n=a[0],r=a[1],s=a[2],l=0,u=[];l<n.length;l++)i=n[l],e[i]&&u[_0x37ca("0x0")](e[i][0]),e[i]=0;for(_ in r)Object.prototype[_0x37ca("0x1")].call(r,_)&&(x[_]=r[_]);for(o&&o(a);u.length;)u[_0x37ca("0x2")]()();return t[_0x37ca("0x0")][_0x37ca("0x3")](t,s||[]),c()}function c(){for(var x,a=0;a<t.length;a++){for(var c=t[a],_=!0,n=1;n<c[_0x37ca("0x4")];n++){var r=c[n];0!==e[r]&&(_=!1)}_&&(t[_0x37ca("0x5")](a--,1),x=i(i.s=c[0]))}return x}var _={},e={2:0},t=[];function i(a){if(_[a])return _[a].exports;var c=_[a]={i:a,l:!1,exports:{}};return x[a][_0x37ca("0x6")](c.exports,c,c[_0x37ca("0x7")],i),c.l=!0,c[_0x37ca("0x7")]}i.m=x,i.c=_,i.d=function(x,a,c){i.o(x,a)||Object.defineProperty(x,a,{enumerable:!0,get:c})},i.r=function(x){typeof Symbol!==_0x37ca("0x8")&&Symbol.toStringTag&&Object[_0x37ca("0x9")](x,Symbol.toStringTag,{value:_0x37ca("0xa")}),Object[_0x37ca("0x9")](x,_0x37ca("0xb"),{value:!0})},i.t=function(x,a){if(1&a&&(x=i(x)),8&a)return x;if(4&a&&typeof x===_0x37ca("0xc")&&x&&x[_0x37ca("0xb")])return x;var c=Object[_0x37ca("0xd")](null);if(i.r(c),Object[_0x37ca("0x9")](c,_0x37ca("0xe"),{enumerable:!0,value:x}),2&a&&typeof x!=_0x37ca("0xf"))for(var _ in x)i.d(c,_,function(a){return x[a]}[_0x37ca("0x10")](null,_));return c},i.n=function(x){var a=x&&x[_0x37ca("0xb")]?function(){return x.default}:function(){return x};return i.d(a,"a",a),a},i.o=function(x,a){return Object[_0x37ca("0x11")][_0x37ca("0x1")][_0x37ca("0x6")](x,a)},i.p=_0x37ca("0x12");var n=window[_0x37ca("0x13")]=window[_0x37ca("0x13")]||[],r=n[_0x37ca("0x0")][_0x37ca("0x10")](n);n[_0x37ca("0x0")]=a,n=n[_0x37ca("0x14")]();for(var s=0;s<n.length;s++)a(n[s]);var o=r;t[_0x37ca("0x0")]([144,1,4,0]),c()}(Array(19)[_0x37ca("0x15")]([function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=n(c(10)),e=n(c(16)),t=n(c(31)),i=n(c(27));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}a[_0x37ca("0x16")]=function(x,a,c){return x&&x.hasOwnProperty(a)?x[a]:c},a.getValues=function(x,a,c){for(var _,e=1;e<arguments[_0x37ca("0x4")]-1;e++)if(void 0!==(_=x[arguments[e]]))return _;return arguments[arguments.length-1]},a.dedupe=function(x){return(0,i[_0x37ca("0xe")])(new(t[_0x37ca("0xe")])(x))},a[_0x37ca("0x17")]=function(x){var a=0;for(var c in x)x.hasOwnProperty(c)&&a++;return a},a[_0x37ca("0x18")]=function(x){var a=this;(0,e[_0x37ca("0xe")])(x)[_0x37ca("0x1f")]((function(c){null==a[c]&&(a[c]=x[c])}))},a.exitInArray=function(x,a){for(var c=0;c<x[_0x37ca("0x4")];c++)if(x[c]==a)return!0;return!1},a.isObject=function(x){var a=typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x);return null!=x&&(a==_0x37ca("0xc")||"function"==a)},a[_0x37ca("0x19")]=function(x,a){if(!x)return;for(var c in x){if(!1===a(x[c],c,x))break}},a[_0x37ca("0x1a")]=function(x){if(!x)return x;var a={};for(var c in x)a[c]=x[c];return a},a[_0x37ca("0x1b")]=function(){var x=new Array;if(null!=window[_0x37ca("0x20")][_0x37ca("0x21")])x[0]=window[_0x37ca("0x20")][_0x37ca("0x21")],x[1]=window[_0x37ca("0x20")].deviceYDPI;else{var a=document[_0x37ca("0x22")](_0x37ca("0x23"));a[_0x37ca("0x24")][_0x37ca("0x25")]="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document[_0x37ca("0x26")][_0x37ca("0x27")](a),x[0]=parseInt(a.offsetWidth),x[1]=parseInt(a[_0x37ca("0x28")]),a[_0x37ca("0x29")][_0x37ca("0x2a")](a)}return x},a[_0x37ca("0x1c")]=function(x,a){return new RegExp("^"+a).test(x)},a[_0x37ca("0x1d")]=function(x){for(var a=x[_0x37ca("0x2b")](";base64,"),c=a[0][_0x37ca("0x2b")](":")[1],_=window[_0x37ca("0x2c")](a[1]),e=_.length,t=new Uint8Array(e),i=0;i<e;++i)t[i]=_[_0x37ca("0x2d")](i);return new Blob([t],{type:c})},a[_0x37ca("0x1e")]=function(x){return(0,i[_0x37ca("0xe")])(Array(Number(x)||24),(function(){return Math[_0x37ca("0x2e")](36*Math[_0x37ca("0x2f")]())[_0x37ca("0x30")](36)}))[_0x37ca("0x31")]("")}},,,,,function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=n(c(0)),e=n(c(1)),t=c(56),i=c(57);function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=function(){function x(){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x32")]={},window[_0x37ca("0x33")]("ESMapResolveReady",this.init[_0x37ca("0x10")](this))}return(0,e.default)(x,[{key:"init",value:function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=a[_0x37ca("0x36")],_=c.s&&c.k,e=c[_0x37ca("0x37")];if(this[_0x37ca("0x38")]=x.detail.id,this[_0x37ca("0x39")]=a,this[_0x37ca("0x3a")]=_,this[_0x37ca("0x3b")]=e,e==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]?this[_0x37ca("0x3e")]():this[_0x37ca("0x3f")](),1==window[_0x37ca("0x40")]){var t=new CustomEvent(_0x37ca("0x41"),{});window.EPathManager=this,window[_0x37ca("0x42")](t)}}},{key:_0x37ca("0x3e"),value:function(){var x=this.mapId,a=this[_0x37ca("0x39")][_0x37ca("0x36")],c=a[_0x37ca("0x43")],_=a.s,e=a[_0x37ca("0x44")];if(1==c){var n=(0,t[_0x37ca("0x45")])(_);this[_0x37ca("0x39")].options[_0x37ca("0x46")]=3==_?n:i[_0x37ca("0x47")].decode(n)}else this[_0x37ca("0x39")].options[_0x37ca("0x46")]=e+"/"+x;var r=this[_0x37ca("0x48")]();this[_0x37ca("0x49")]("lic",r[_0x37ca("0x4a")]),this.setPath(_0x37ca("0x4b"),this[_0x37ca("0x4c")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")]("remoteNotify",this[_0x37ca("0x4d")](r.query_sign)),this.setPath("building",this[_0x37ca("0x4e")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")]("searchJson",this[_0x37ca("0x4f")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")]("buildingSearchJson",this[_0x37ca("0x50")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")]("cityTheme",this[_0x37ca("0x51")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x52"),this.getCityBuildingThemePath[_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x53"),this[_0x37ca("0x54")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x55"),this[_0x37ca("0x56")].bind(this)),this[_0x37ca("0x49")](_0x37ca("0x57"),this[_0x37ca("0x58")].bind(this)),this[_0x37ca("0x49")](_0x37ca("0x59"),this[_0x37ca("0x5a")][_0x37ca("0x10")](this))}},{key:_0x37ca("0x3f"),value:function(){this[_0x37ca("0x49")](_0x37ca("0x5b"),this[_0x37ca("0x5c")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x52"),this[_0x37ca("0x5d")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x53"),this[_0x37ca("0x5e")][_0x37ca("0x10")](this)),this.setPath(_0x37ca("0x55"),this[_0x37ca("0x5f")][_0x37ca("0x10")](this)),this.setPath(_0x37ca("0x57"),this[_0x37ca("0x60")][_0x37ca("0x10")](this)),this[_0x37ca("0x49")](_0x37ca("0x61"),this.getIndoorSearchJsonPath[_0x37ca("0x10")](this))}},{key:_0x37ca("0x49"),value:function(x,a){this[_0x37ca("0x32")][x]=a}},{key:"getPath",value:function(x,a){var c=this[_0x37ca("0x32")][x];return"string"==typeof c?c:c(a)}},{key:"getIndoorMap",value:function(){var x=this.mapId,a=this[_0x37ca("0x39")][_0x37ca("0x36")],c=a[_0x37ca("0x44")],_=a.s,e=a.k,t=a[_0x37ca("0x62")],i=a[_0x37ca("0x63")],n=c+"/"+x+"/"+x+_0x37ca("0x64"),r=!1;if(this[_0x37ca("0x3a")]){r=!0;var s=_0x37ca("0x65");t&&(s="mapoff/mapoffdata!getmap.action?bids="),n=_+s+x+_0x37ca("0x66")+e+_0x37ca("0x67")+Date[_0x37ca("0x68")](new Date)}else i&&(n+=_0x37ca("0x69")+Date.parse(new Date));return{url:n,skMode:r}}},{key:_0x37ca("0x5e"),value:function(x){var a=x.themeID,c=x[_0x37ca("0x6a")],_=this[_0x37ca("0x38")],e=this[_0x37ca("0x39")][_0x37ca("0x36")],t=e[_0x37ca("0x44")],i=e.timestamp,n=e[_0x37ca("0x6b")],r=void 0;return r=n?n+"/"+a+"/"+c:t+"/"+_+_0x37ca("0x6c")+a+"/"+c,i&&(r=r+"?t="+Date[_0x37ca("0x68")](new Date)),r}},{key:_0x37ca("0x5d"),value:function(x){var a=x[_0x37ca("0x6d")],c=x[_0x37ca("0x6e")],_=this[_0x37ca("0x38")],e=this[_0x37ca("0x39")][_0x37ca("0x36")],t=e[_0x37ca("0x44")],i=e[_0x37ca("0x6f")],n=e[_0x37ca("0x6b")],r=void 0;return r=n?n+"/"+a+"/"+a+"."+c:t+"/"+_+_0x37ca("0x6c")+a+"/"+a+"."+c,i&&(r=r+"?t="+Date[_0x37ca("0x68")](new Date)),r}},{key:_0x37ca("0x5f"),value:function(x){var a=x[_0x37ca("0x6a")],c=x.type,_=this[_0x37ca("0x39")].options,e=_[_0x37ca("0x70")];return _[_0x37ca("0x44")]+"/"+this.mapId+"/"+c+((e?String(e):"")+"/")+a}},{key:_0x37ca("0x71"),value:function(x){var a=x[_0x37ca("0x6a")],c=this.map[_0x37ca("0x36")],_=c.s,e=c.k,t=(c.mapDataSrc,this[_0x37ca("0x38")]);return _+_0x37ca("0x72")+t+_0x37ca("0x73")+a+"&token="+e}},{key:_0x37ca("0x60"),value:function(x){var a=x[_0x37ca("0x6a")],c=this[_0x37ca("0x39")].options,_=c[_0x37ca("0x44")],e=c.s,t=c.k,i=this[_0x37ca("0x38")],n=void 0;this.skMode?n=e+_0x37ca("0x72")+i+_0x37ca("0x73")+a+_0x37ca("0x66")+t:n=_+"/"+i+_0x37ca("0x74")+a+".gltf";return n}},{key:_0x37ca("0x75"),value:function(){return this.map[_0x37ca("0x36")][_0x37ca("0x44")]+"/"+this.map.id+"/search.json"}},{key:_0x37ca("0x48"),value:function(){var x,a=this[_0x37ca("0x39")][_0x37ca("0x36")],c=this.mapId,_=a.version,e=a.s,n=a[_0x37ca("0x43")],r=window[_0x37ca("0x76")][_0x37ca("0x77")],s=parseInt((new Date)[_0x37ca("0x78")]()/1e3);x=a.s&&a.k?a.k:esmap.ESMapUtil.encode64(a[_0x37ca("0x79")]+_0x37ca("0x7a")+s);var o=esmap[_0x37ca("0x7b")].encode64(n+"&"+c+"&"+e+"&"+x+"&"+s+"&"+r+"&"+_),l=i.Base64[_0x37ca("0x7c")]((0,t[_0x37ca("0x7d")])(e)),u=void 0;if(3==n)u=a[_0x37ca("0x46")]+"/"+c+"_lic.esmap";else{var d=(0,t.gdbs)(e);u=(3==e?d:i[_0x37ca("0x47")][_0x37ca("0x7c")](d))+"/"+l+"/eslic/lic!getlic.action?cids="+c+"&s="+a.s+_0x37ca("0x7e")+x+_0x37ca("0x67")+s+_0x37ca("0x7f")+encodeURIComponent(r)+"&sign="+o+_0x37ca("0x80")+_+_0x37ca("0x81")+n}return{url:u,query_sign:o}}},{key:_0x37ca("0x4d"),value:function(x){var a=this.mapId,c=this[_0x37ca("0x39")][_0x37ca("0x36")],_=c.s,e=c.k,n=document[_0x37ca("0x82")],r=parseInt((new Date)[_0x37ca("0x78")]()/1e3);return i[_0x37ca("0x47")][_0x37ca("0x7c")](t[_0x37ca("0x83")][2803])+(_0x37ca("0x84")+a+_0x37ca("0x85")+_+_0x37ca("0x7e")+e+_0x37ca("0x67")+r+_0x37ca("0x7f")+n+_0x37ca("0x86")+x+_0x37ca("0x87"))}},{key:_0x37ca("0x4f"),value:function(){return this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x46")]+_0x37ca("0x88")}},{key:_0x37ca("0x50"),value:function(x){var a=x[_0x37ca("0x89")];return this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x46")]+_0x37ca("0x8a")+a+_0x37ca("0x88")}},{key:_0x37ca("0x4e"),value:function(x){var a=this[_0x37ca("0x39")][_0x37ca("0x36")],c=a[_0x37ca("0x43")],_=a[_0x37ca("0x46")],e=a.k,t=a.isRandom,i=a.s,n=x[_0x37ca("0x89")],r=void 0,s=!1;if(1!=c)r=_+_0x37ca("0x8a")+n+"/"+n+_0x37ca("0x64"),t&&(r+=_0x37ca("0x69")+Date[_0x37ca("0x68")](new Date));else{s=!0;var o=e[_0x37ca("0x2b")]("&"),l=esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](n+"AND2#"+o[0])+"worldeditor");r=_+(3==i?"/esmapoff/mapoff/mapoffdata!getmap.action?bids=":_0x37ca("0x8c"))+n+_0x37ca("0x8d")+e+"&p=2"+_0x37ca("0x66")+l+_0x37ca("0x81"),t&&(r+=_0x37ca("0x67")+Date[_0x37ca("0x68")](new Date))}return{url:r,skMode:s}}},{key:"getCityThemePath",value:function(x){var a=x.ext,c=x[_0x37ca("0x6d")],_=this[_0x37ca("0x38")],e=this[_0x37ca("0x39")][_0x37ca("0x36")],t=e[_0x37ca("0x63")],i=e[_0x37ca("0x44")]+"/"+_+_0x37ca("0x8e")+c+"/"+c+"."+a;return t&&(i+=_0x37ca("0x69")+Date[_0x37ca("0x68")](new Date)),i}},{key:_0x37ca("0x54"),value:function(x){var a=x[_0x37ca("0x6a")],c=x.themeID,_=this[_0x37ca("0x39")][_0x37ca("0x36")],e=_[_0x37ca("0x43")],t=_.serverUrl;return 1==e?t+_0x37ca("0x6c")+c+"/"+a:t+"/buildings/theme/"+c+"/"+a}},{key:_0x37ca("0x8f"),value:function(x){var a=x[_0x37ca("0x6e")],c=x.themeID,_=this.map[_0x37ca("0x36")],e=_[_0x37ca("0x43")],t=_[_0x37ca("0x46")];return 1==e?t+_0x37ca("0x6c")+c+"/"+c+"."+a:t+_0x37ca("0x90")+c+"/"+c+"."+a}},{key:_0x37ca("0x56"),value:function(x){var a=x[_0x37ca("0x6a")],c=x.type,_=x.buildingId,e=this[_0x37ca("0x39")][_0x37ca("0x36")],t=e[_0x37ca("0x43")],i=e.s,n=e.serverUrl,r=e[_0x37ca("0x70")],s="";1==t?s=n+_0x37ca(3==i?"0x91":"0x92")+_+"/":s=n+_0x37ca("0x8a")+_+"/";return s+c+((r?String(r):"")+"/")+a}},{key:_0x37ca("0x4c"),value:function(x){var a=x[_0x37ca("0x93")],c=x[_0x37ca("0x94")],_=this[_0x37ca("0x38")],e=this[_0x37ca("0x39")][_0x37ca("0x36")],n=e[_0x37ca("0x43")],r=e.s,s=e.k,o=e[_0x37ca("0x46")],l=e.token,u=e[_0x37ca("0x95")],d=e[_0x37ca("0x44")],f=e.isRandom,h=a[_0x37ca("0x2b")]("_"),g=h[0],b=h[1],v=s,p="";if(1!=n)p=d+"/"+_+_0x37ca("0x96")+g+"_"+b+"/"+g+"_"+b+_0x37ca("0x97")+(1==c?"":"nav")+_0x37ca("0x64"),f&&(p+="?t="+Date[_0x37ca("0x68")](new Date));else{2==n&&(v=esmap.ESMapUtil[_0x37ca("0x8b")](l+"worldeditor"));var A=esmap[_0x37ca("0x7b")].encode64(n+"&"+_+"&"+r+"&"+v+"&"+u+"&"+c+"&"+g+"&"+b);p=o+"/"+i.Base64.decode((0,t[_0x37ca("0x7d")])(r))+_0x37ca("0x98")+_+_0x37ca("0x7e")+v+_0x37ca("0x85")+r+_0x37ca("0x99")+c+_0x37ca("0x9a")+g+_0x37ca("0x9b")+b+_0x37ca("0x86")+A+_0x37ca("0x9c")+u+_0x37ca("0x81")+n,f&&(p+=_0x37ca("0x67")+Date[_0x37ca("0x68")](new Date))}return p}},{key:"getCityModelLibPath",value:function(x){var a=x[_0x37ca("0x6a")],c=(x.modeltoken,this[_0x37ca("0x39")][_0x37ca("0x36")]),_=c.s,e=(c.k,c[_0x37ca("0x46")]),n=this[_0x37ca("0x38")],r=this.map[_0x37ca("0x9d")],s=i[_0x37ca("0x47")].decode((0,t[_0x37ca("0x7d")])(_));url=e+"/"+s+_0x37ca("0x9e")+n+_0x37ca("0x73")+a+_0x37ca("0x9f")+r}},{key:"getCityBuildingModelsPath",value:function(x){var a=x[_0x37ca("0x6a")],c=x[_0x37ca("0x89")],_=x[_0x37ca("0xa0")],e=this.map[_0x37ca("0x36")],n=e.tid,r=e[_0x37ca("0x46")],s=e.s,o=void 0;this[_0x37ca("0x3a")]?o=r+"/"+i[_0x37ca("0x47")][_0x37ca("0x7c")]((0,t[_0x37ca("0x7d")])(s,!0))+_0x37ca("0x72")+c+_0x37ca("0x73")+a+_0x37ca("0x9f")+_+"&tid="+n:o=r+"/buildings/"+c+_0x37ca("0x74")+a+_0x37ca("0xa1");return o}},{key:"getCityTileModelPath",value:function(x){var a=x[_0x37ca("0x6a")],c=x[_0x37ca("0xa0")],_=this[_0x37ca("0x39")].options,e=_[_0x37ca("0x43")],n=_[_0x37ca("0x46")],r=_.s,s=this.mapId,o="";1!=e?o=n+"/buildingModels/"+a+"/"+a+".gltf":o=n+"/"+i[_0x37ca("0x47")][_0x37ca("0x7c")]((0,t[_0x37ca("0x7d")])(r))+_0x37ca("0x9e")+s+_0x37ca("0x73")+a+_0x37ca("0x66")+c+"&tid="+e;return o}}]),x}();a[_0x37ca("0xe")]=new r},,,,,,,,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a.doDispose=function x(a){if(null!==a){a.datas_&&a.datas_.o3d_&&(a[_0x37ca("0xa4")][_0x37ca("0xa5")]=void 0,a[_0x37ca("0xa4")]=void 0);for(var c=0;c<a.children.length;c++)x(a[_0x37ca("0xa6")][c]);a.geometry&&(a[_0x37ca("0xa7")][_0x37ca("0xa8")](),a[_0x37ca("0xa7")]=void 0),a[_0x37ca("0xa9")]&&(a[_0x37ca("0xa9")]instanceof Array?a.material[_0x37ca("0x1f")]((function(x){x[_0x37ca("0x39")]&&(x.map[_0x37ca("0xa8")](),x[_0x37ca("0x39")]=void 0),x[_0x37ca("0xa8")](),x=void 0})):(a[_0x37ca("0xa9")][_0x37ca("0xa8")](),a[_0x37ca("0xa9")]=void 0))}a=void 0},a.getTileBound=function(x,a,c,t){var i=e/Math.pow(2,c),n={minx:256*x*i-_,miny:256*a*i-_,maxx:256*(x+1)*i-_,maxy:256*(a+1)*i-_};if(t){var r=esmap[_0x37ca("0x7b")][_0x37ca("0xaa")](n[_0x37ca("0xab")],n[_0x37ca("0xac")]),s=esmap.ESMapUtil[_0x37ca("0xad")](r),o=esmap[_0x37ca("0x7b")].lonLat2Mercator(s[0],s[1]),l=esmap[_0x37ca("0x7b")][_0x37ca("0xaa")](n[_0x37ca("0xae")],n[_0x37ca("0xaf")]),u=esmap[_0x37ca("0x7b")][_0x37ca("0xad")](l),d=esmap[_0x37ca("0x7b")].lonLat2Mercator(u[0],u[1]);n[_0x37ca("0xae")]=d[0],n[_0x37ca("0xaf")]=d[1],n[_0x37ca("0xab")]=o[0],n.maxy=o[1]}return n},a.getTileFromMec=function(x,a,c){var t=e/Math[_0x37ca("0xb0")](2,c),i={},n=(x+_)/t,r=(a+_)/t;return i.x=Math.ceil(n/256)-1,i.y=Math.ceil(r/256)-1,i},a[_0x37ca("0xa2")]=function(x){var a=x[_0x37ca("0xb1")][_0x37ca("0xb2")][_0x37ca("0xb3")][_0x37ca("0x4")],c=x.parser[_0x37ca("0xb2")][_0x37ca("0xb4")][_0x37ca("0x4")],_=0;return x[_0x37ca("0xb5")][_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa7")]){var a=x[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")];_+=a}})),{materials:a,meshes:c,vertexes:_}},a[_0x37ca("0xa3")]=function(x){return function x(a,c){return a?a.name==_0x37ca("0xba")?a:x(a[_0x37ca("0xbb")],!1)||void 0:null}(x)},a.getChildByFaceIndex=function(x,a){for(var c=3*x,_=0;_<a[_0x37ca("0x4")];_++){var e=a[_];if(c>=e[_0x37ca("0xbc")][0]&&c<e[_0x37ca("0xbc")][1])return _}return-1};var _=20037508.342789244,e=156543.03392804062},,,,,,,,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(10)),e=n(c(16)),t=n(c(31)),i=n(c(27));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function r(x){return x<s&&x>-s}a[_0x37ca("0xbd")]=function(x,a){return Math.sqrt((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))},a.dedupe=function(x){return(0,i[_0x37ca("0xe")])(new t.default(x))},a[_0x37ca("0x7c")]=function(x,a,c){for(var _="",e=o(a+c),t=o(x),i=0;i<t[_0x37ca("0x4")];i++){for(var n=0;n<e[_0x37ca("0x4")];n++)t[i]=t[i]^e[n];_+=String.fromCharCode(t[i])}return _},a[_0x37ca("0xbe")]=function(x,a,c,_){var e=a.x,t=a.y,i=c.x,n=c.y,o=x.x,l=x.y,u=i-e,d=n-t,f=Math[_0x37ca("0xc4")](u*u+d*d),h=o-e,g=l-t,b=Math.sqrt(h*h+g*g);if(r(f))return r(b)?(_.x=a.x,_.y=a.y,0):(_.x=a.x,_.y=a.y,b);var v=u/f,p=d/f,A=v*h+p*g;if(m=A,!(m>s))return _.x=a.x,_.y=a.y,b;var m;if(E=A-f,!(E<-s)){var C=o-i,I=l-n,y=Math[_0x37ca("0xc4")](C*C+I*I);return _.x=c.x,_.y=c.y,y}var E;var w=e+A*v,T=t+A*p,k=o-w,S=l-T,M=Math[_0x37ca("0xc4")](k*k+S*S);return _.x=w,_.y=T,M},a[_0x37ca("0xbf")]=function(){for(var x="?t=",a=0;a<6;a++)x+=Math[_0x37ca("0x2e")](10*Math[_0x37ca("0x2f")]());return x},a[_0x37ca("0x18")]=function(x){var a=this;(0,e[_0x37ca("0xe")])(x)[_0x37ca("0x1f")]((function(c){null==a[c]&&(a[c]=x[c])}))},a[_0x37ca("0xc0")]=function(x,a){for(var c=0;c<x.length;c++)if(x[c]==a)return!0;return!1},a[_0x37ca("0xc1")]=function x(a){for(var c=arguments.length,t=Array(c>1?c-1:0),i=1;i<c;i++)t[i-1]=arguments[i];return t[_0x37ca("0xc6")]((function(a,c){return(0,e.default)(c)[_0x37ca("0xc6")]((function(a,e){var t=c[e];return u(t)?a[e]=t[_0x37ca("0x39")]((function(c,_){if(l(c)){var t=a[e]?a[e]:[];return x(t[_]?t[_]:{},c)}return c})):l(t)?d(t)?a[e]=t:a[e]=x(a[e]?a[e]:{},t):(typeof a===_0x37ca("0x8")?"undefined":(0,_[_0x37ca("0xe")])(a))==_0x37ca("0xc7")?(a={})[e]=t:void 0!==t&&(a[e]=t),a}),a)}),a)},a.isHTMLElement=d,a[_0x37ca("0xc2")]=function(x,a){for(var c in x)if(x[c]!=a[c])return!0;return!1},a[_0x37ca("0xc3")]=function(x){function a(x,a,c){if(x>255||a>255||c>255)throw"Invalid color component";var _=(x<<16|a<<8|c).toString(16);return _="#"+(_0x37ca("0xc9")+_).slice(-6)}if(typeof x!=_0x37ca("0xf"))return console[_0x37ca("0xca")](_0x37ca("0xcb")),_0x37ca("0xcc");if(x[_0x37ca("0xcd")]("#"))return x;if(x[_0x37ca("0xcd")](_0x37ca("0xce"))){var c=x[_0x37ca("0xcf")](/\d+/g);return a(c[0],c[1],c[2])}if(x[_0x37ca("0xcd")](_0x37ca("0xd0"))){var _=x[_0x37ca("0xcf")](/\d+/g);return a(_[0],_[1],_[2])}if(x[_0x37ca("0xcd")](",")){var e=x[_0x37ca("0x2b")](",");return a(e[0],e[1],e[2])}return console[_0x37ca("0xca")](_0x37ca("0xd1")),_0x37ca("0xcc")};var s=1e-5;function o(x){for(var a=[],c=0;c<x.length;c++)a[c]=x[_0x37ca("0x2d")](c);return a}function l(x){var a=typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_.default)(x);return null!=x&&(a==_0x37ca("0xc")||a==_0x37ca("0xc5"))}function u(x){return x instanceof Array}function d(x){if(x[_0x37ca("0xc8")])return 1==x[_0x37ca("0xc8")]}},,,,,,,,,,,,function(x,a,c){"use strict";function _(x){for(var a=[],c=0;c<x.length;c++)a[c]=x[_0x37ca("0x2d")](c);return a}Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a.decode=function(x,a,c){for(var e="",t=_(a+c),i=_(x),n=0;n<i.length;n++){for(var r=0;r<t[_0x37ca("0x4")];r++)i[n]=i[n]^t[r];e+=String[_0x37ca("0xd3")](i[n])}return e},a[_0x37ca("0xd2")]=function(x,a){for(var c=_(x),e=0;e<16;e++)for(var t=0;t<c[_0x37ca("0x4")];t++)a[e]=a[e]^c[t]},a.gdbs=function(x){if(1==x)return window[_0x37ca("0x76")][_0x37ca("0x77")][_0x37ca("0xda")](_0x37ca("0xdb"))>-1?e[2807]:e[2803];if(2==x)return e[2804];if(3==x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x36")][_0x37ca("0x44")];return a[_0x37ca("0xda")](_0x37ca("0xdc"))>-1?a+_0x37ca("0xdd"):""}return null},a[_0x37ca("0x7d")]=function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]&&arguments[1];if(1==x||2==x)return a?e[2809]:e[2805];if(3==x)return a?e[2808]:e[2806];return x},a.gsdbt=function(x){if(1==x||2==x)return e[2805];if(3==x)return e[2806];return null};var e=a[_0x37ca("0x83")]={2803:_0x37ca("0xd4"),2804:_0x37ca("0xd5"),2805:_0x37ca("0xd6"),2806:"ZXN3b3JsZG1hcG9mZg==",2807:_0x37ca("0xd7"),2808:_0x37ca("0xd8"),2809:_0x37ca("0xd9")}},,,,,,,,,,,function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=o(c(2)),e=o(c(4)),t=o(c(0)),i=o(c(1)),n=o(c(5)),r=o(c(6)),s=c(44);function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function l(x){if(x){if(x.datas_&&x.datas_[_0x37ca("0xa5")]&&(x.datas_[_0x37ca("0xa5")]=void 0,x[_0x37ca("0xa4")]=void 0),x.children)for(var a=0;a<x[_0x37ca("0xa6")][_0x37ca("0x4")];a++)l(x[_0x37ca("0xa6")][a]);x.geometry&&(x[_0x37ca("0xa7")][_0x37ca("0xa8")](),x.geometry=void 0),x[_0x37ca("0xa9")]&&(x.material instanceof Array?x[_0x37ca("0xa9")].forEach((function(x){x&&(x.map&&(x.map[_0x37ca("0xa8")](),x[_0x37ca("0x39")]=void 0),x.dispose(),x=void 0)})):(x.material[_0x37ca("0xa8")](),x[_0x37ca("0xa9")]=void 0))}x=void 0}var u=function(x){function a(x,c,_){(0,t[_0x37ca("0xe")])(this,a);var i={lineWidth:6,lineWidthMeter:!1,color:_0x37ca("0xcc"),lineType:esmap[_0x37ca("0xe1")].TEXTURE,offsetHeight:0,fixedWidth:!1,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.2,roughness:.5,light:!0,reverseAnimate:0,lineMode:"plane",repeat:1,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x37ca("0xe2")])(0,1,0),matSide:1,noAnimate:!1,cross:!1};(0,s[_0x37ca("0xc1")])(i,c),i[_0x37ca("0x1")](_0x37ca("0xe3"))&&(i.opacity=i[_0x37ca("0xe3")]);var r=(0,n[_0x37ca("0xe")])(this,(a.__proto__||(0,e[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this));r[_0x37ca("0xe4")]=_||!1,r[_0x37ca("0x24")]=i;var o=esmap[_0x37ca("0x34")].instance;r.bid=x[0].bid||o.id;var l=function(x){for(var a=0,c=x[0][_0x37ca("0xde")](),_=1;_<x[_0x37ca("0x4")];_++)a+=x[_][_0x37ca("0xdf")](x[_-1]),c[_0x37ca("0xe0")](x[_]);return{length:a,center:c.divideScalar(x[_0x37ca("0x4")])}}(x);return r.points=x,r.length=l.length,r[_0x37ca("0xe5")]=l.center,r[_0x37ca("0xe6")]=x[0][_0x37ca("0xe6")],r.type_=_0x37ca("0xe7"),r[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],r[_0x37ca("0xea")](),r}return(0,r[_0x37ca("0xe")])(a,x),(0,i[_0x37ca("0xe")])(a,[{key:_0x37ca("0xea"),value:function(){var x=this,a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=this,_=this;c[_0x37ca("0x39")]=a;var e,t=new(THREE[_0x37ca("0xeb")]),i=null;this[_0x37ca("0x24")][_0x37ca("0xec")]&&(a.getBuildingById(this.bid).visibleFloorNums[_0x37ca("0xda")](this.fnum)<0&&(this[_0x37ca("0xed")]=!1));if(this[_0x37ca("0xe4")]){var n=this[_0x37ca("0xee")][0][_0x37ca("0xef")],r=this[_0x37ca("0xee")][1][_0x37ca("0xef")],s=this[_0x37ca("0x39")][_0x37ca("0xf0")](n),o=this.map[_0x37ca("0xf0")](r);s&&s.on(_0x37ca("0xf1"),(function(a){var c=a[_0x37ca("0xe6")],_=a[_0x37ca("0xf2")];c==x[_0x37ca("0xee")][0][_0x37ca("0xe6")]&&(x[_0x37ca("0xee")][0].y=_),x[_0x37ca("0xf3")](x[_0x37ca("0xee")])})),o&&o.on("floorHeightChanged",(function(a){var c=a.fnum,_=a[_0x37ca("0xf2")];c==x.points[1][_0x37ca("0xe6")]&&(x.points[1].y=_),x[_0x37ca("0xf3")](x[_0x37ca("0xee")])}))}else{var l=a[_0x37ca("0xf0")](this[_0x37ca("0xef")]);l&&l.on(_0x37ca("0xf1"),(function(a){for(var c=a[_0x37ca("0xe6")],_=a[_0x37ca("0xf2")],e=0;e<x[_0x37ca("0xee")].length;e++)x[_0x37ca("0xee")][e].fnum&&c==x[_0x37ca("0xee")][e][_0x37ca("0xe6")]&&(x.points[e].y=_);x[_0x37ca("0xf3")](x.points)}))}if(c[_0x37ca("0x24")].isMapRoad)i=c[_0x37ca("0x24")][_0x37ca("0xf4")]>=20?a[_0x37ca("0xf5")][_0x37ca("0xf6")][_0x37ca("0xf7")][_0x37ca("0xde")]():a[_0x37ca("0xf5")][_0x37ca("0xf6")][_0x37ca("0xf8")][_0x37ca("0xde")]();else{(i=c[_0x37ca("0x24")][_0x37ca("0xf9")]?new THREE.MeshStandardMaterial({transparent:this[_0x37ca("0x24")][_0x37ca("0xfa")],opacity:this[_0x37ca("0x24")].opacity,color:16777215,wireframe:!1,metalness:this[_0x37ca("0x24")][_0x37ca("0xfb")],roughness:this[_0x37ca("0x24")].roughness}):new(THREE[_0x37ca("0xfc")])({transparent:this.style.transparent,opacity:this[_0x37ca("0x24")][_0x37ca("0xfd")],color:16777215})).color=new THREE.Color(this[_0x37ca("0x24")].color),i[_0x37ca("0xfe")]=function(x){x[_0x37ca("0xff")][_0x37ca("0x100")]={value:0},x[_0x37ca("0xff")].uvDistance={value:e.maxUvVal},x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x103"),"\n                    #include <clipping_planes_pars_vertex>\n                    varying vec2 nvUv;\n                    "),x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x104"),"\n                    #include <uv_vertex>\n                    nvUv = uv;\n                    "),x[_0x37ca("0x105")]=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x106"),_0x37ca("0x107")),x[_0x37ca("0x105")]=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x108"),_0x37ca("0x109")),_[_0x37ca("0x10a")]=x},this.style[_0x37ca("0x10b")]=[2,0],this[_0x37ca("0x10c")]=this[_0x37ca("0x24")][_0x37ca("0x10b")].reduce((function(x,a){return x+a}));var u=this[_0x37ca("0x10d")]();i[_0x37ca("0xfa")]=this.style.transparent,i[_0x37ca("0x10e")]=THREE[_0x37ca("0x10f")],u[_0x37ca("0x110")].x=this.style[_0x37ca("0x110")],i[_0x37ca("0x39")]=u,2==c.style[_0x37ca("0x111")]&&(i.side=THREE[_0x37ca("0x10f")])}if(this.style[_0x37ca("0x112")]==_0x37ca("0x113")){var d=this.style.lineWidth/8;if(this[_0x37ca("0x24")][_0x37ca("0x114")]&&(d=this.style[_0x37ca("0x115")]),this[_0x37ca("0x116")]=t,this[_0x37ca("0x116")].set(this[_0x37ca("0xee")],d,0,void 0,!1),e=new(THREE[_0x37ca("0x117")]),this[_0x37ca("0x24")].fixedWidth){var f=esmap[_0x37ca("0x7b")][_0x37ca("0x118")](a,this);e[_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:d/2*f*10,radialSegments:20,startRad:0}),e[_0x37ca("0x11a")][_0x37ca("0x11b")]=d/2*f*10}else e[_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:d/2,radialSegments:20,startRad:0}),e[_0x37ca("0x11a")].trueRadius=d/2}else{var h=this.style[_0x37ca("0x115")]/8;this[_0x37ca("0x24")][_0x37ca("0x114")]&&(h=this[_0x37ca("0x24")][_0x37ca("0x115")]),this.drawMode=1,e=new(THREE[_0x37ca("0x11c")]),this[_0x37ca("0x116")]=t;var g=!1,b=this[_0x37ca("0xee")][_0x37ca("0x4")]-1;if(this.points[0].x==this[_0x37ca("0xee")][b].x&&this[_0x37ca("0xee")][0].z==this[_0x37ca("0xee")][b].z&&(g=!0),this[_0x37ca("0x116")][_0x37ca("0x11d")](this[_0x37ca("0xee")],0,0,this[_0x37ca("0x24")].up,g),this[_0x37ca("0x24")][_0x37ca("0x11e")]){var v=esmap.ESMapUtil.getSpriteScale(a,this);e.update(this[_0x37ca("0x116")],{width:h*v*18,side:_0x37ca("0x11f"),arrow:this[_0x37ca("0x24")][_0x37ca("0x120")]}),e[_0x37ca("0x11a")].trueRadius=h*v*18}else e[_0x37ca("0x119")](this[_0x37ca("0x116")],{width:h,side:"both",arrow:this[_0x37ca("0x24")][_0x37ca("0x120")]}),e[_0x37ca("0x11a")][_0x37ca("0x11b")]=h}e[_0x37ca("0x121")]=1,e[_0x37ca("0x122")](),2==c.style[_0x37ca("0x111")]&&(i[_0x37ca("0x10e")]=THREE[_0x37ca("0x10f")]),c.style[_0x37ca("0x123")]&&(i.depthTest=!1),c.style.blend&&(i[_0x37ca("0x124")]=!1,i[_0x37ca("0x125")]=THREE[_0x37ca("0x126")]),this.material=i,this[_0x37ca("0xa7")]=e,this[_0x37ca("0x115")]=this[_0x37ca("0x24")][_0x37ca("0x115")],this[_0x37ca("0x127")]=esmap.ESRenderOrder[_0x37ca("0x128")],this[_0x37ca("0x129")]=this.onUpdate[_0x37ca("0x10")](this),this[_0x37ca("0x12a")]=this.onControlChange[_0x37ca("0x10")](this),this[_0x37ca("0x12b")]=this[_0x37ca("0x12c")][_0x37ca("0x10")](this),a.on("update",this._onUpdate),a.on(_0x37ca("0x12d"),this._onControlChange),this[_0x37ca("0x24")][_0x37ca("0xec")]&&a.on("visibleFloorNumsChanged",this[_0x37ca("0x12b")]),_[_0x37ca("0x24")][_0x37ca("0x11e")]&&_[_0x37ca("0x12e")]()}},{key:_0x37ca("0x12f"),value:function(x){this[_0x37ca("0xbb")]&&this[_0x37ca("0xbb")][_0x37ca("0xed")]&&!this[_0x37ca("0x24")][_0x37ca("0x130")]&&this.updateLineTextureOffset(x)}},{key:_0x37ca("0x131"),value:function(){this.parent&&this[_0x37ca("0xbb")][_0x37ca("0xed")]&&this.style[_0x37ca("0x11e")]&&this.updateLineWidth()}},{key:"updateGeometry",value:function(x){var a=this[_0x37ca("0xa7")][_0x37ca("0x11a")][_0x37ca("0x11b")];this[_0x37ca("0xee")]=x;var c=!1,_=this[_0x37ca("0xee")].length-1;this[_0x37ca("0xee")][0].x==this[_0x37ca("0xee")][_].x&&this[_0x37ca("0xee")][0].z==this[_0x37ca("0xee")][_].z&&(c=!0),this.style.lineMode==_0x37ca("0x113")?(this[_0x37ca("0x116")].set(x,a,0,void 0,!1),this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:a,radialSegments:20,startRad:0})):(this.pathPointList[_0x37ca("0x11d")](this[_0x37ca("0xee")],0,0,this[_0x37ca("0x24")].up,c),this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{width:a,side:_0x37ca("0x11f"),arrow:this[_0x37ca("0x24")][_0x37ca("0x120")]})),this[_0x37ca("0xa7")][_0x37ca("0x132")](),this[_0x37ca("0xa7")][_0x37ca("0x133")](0,this[_0x37ca("0xa7")].attributes[_0x37ca("0xb8")][_0x37ca("0xb9")],0)}},{key:_0x37ca("0x12e"),value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")],a=esmap[_0x37ca("0x7b")][_0x37ca("0x118")](x),c=this.style[_0x37ca("0x114")]?this[_0x37ca("0x115")]:this[_0x37ca("0x115")]/8;this.style.lineMode==_0x37ca("0x134")?this.geometry[_0x37ca("0x119")](this.pathPointList,{width:c*a*18,side:_0x37ca("0x11f"),arrow:this.style.arrow,progress:this.geometry[_0x37ca("0x121")]}):this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:c*a*10,radialSegments:20,startRad:0,progress:this[_0x37ca("0xa7")][_0x37ca("0x121")]})}},{key:_0x37ca("0x135"),value:function(x){if(this[_0x37ca("0xa9")]&&this.material[_0x37ca("0x39")]&&!this.style[_0x37ca("0x130")]){if(this[_0x37ca("0x24")][_0x37ca("0x136")]?this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x137")].x+=.5*x*this[_0x37ca("0x24")][_0x37ca("0x138")]:this[_0x37ca("0xa9")][_0x37ca("0x39")].offset.x-=.5*x*this[_0x37ca("0x24")][_0x37ca("0x138")],this.lineMaterialShader&&this[_0x37ca("0x4")]>0){this[_0x37ca("0x139")]=this[_0x37ca("0x139")]||0;var a=this[_0x37ca("0x139")]/this.length;this.lineMaterialShader[_0x37ca("0xff")][_0x37ca("0x100")].value=a}this[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0}}},{key:_0x37ca("0x13b"),value:function(x){this[_0x37ca("0xa9")][_0x37ca("0x13c")]=new(THREE[_0x37ca("0x13d")])(this[_0x37ca("0x13e")](x))}},{key:"_colorToStr",value:function(x){if("number"==typeof x){for(var a=x[_0x37ca("0x30")](16);a[_0x37ca("0x4")]<6;)a="0"+a;return"#"+a}return x}},{key:"createTexture",value:function(){var x=(new(THREE[_0x37ca("0x13f")]))[_0x37ca("0x140")](this[_0x37ca("0x24")][_0x37ca("0x4a")],(function(x){x[_0x37ca("0x13a")]=!0}));return x[_0x37ca("0x141")]=4,x[_0x37ca("0x110")].y=1,x[_0x37ca("0x137")].y=0,x.minFilter=THREE.LinearMipMapLinearFilter,x.wrapS=THREE[_0x37ca("0x142")],x.wrapT=THREE[_0x37ca("0x142")],x}},{key:"updateStyle",value:function(x){x[_0x37ca("0x13c")]&&_0x37ca("0x143")==typeof x[_0x37ca("0x13c")]&&(x[_0x37ca("0x13c")]=this._colorToStr(x[_0x37ca("0x13c")])),(0,_.default)(this[_0x37ca("0x24")],x),x.lineType&&!x.dashArray&&(this[_0x37ca("0x24")][_0x37ca("0x10b")]=[2,0]);var a=this[_0x37ca("0x10d")]();this.material[_0x37ca("0x39")][_0x37ca("0xa8")](),this[_0x37ca("0xa9")][_0x37ca("0x39")]=a,this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x13a")]=!0,this[_0x37ca("0xa9")].needsUpdate=!0}},{key:_0x37ca("0x12c"),value:function(x){if(x.bid==this[_0x37ca("0xef")]){var a=x[_0x37ca("0x144")],c=this[_0x37ca("0xe6")],_=!0;_0x37ca("0x143")==typeof c?-1==a[_0x37ca("0xda")](c)&&(_=!1):c instanceof Array&&c[_0x37ca("0x1f")]((function(x){-1==a.indexOf(x)&&(_=!1)})),this[_0x37ca("0xed")]=_}}},{key:"dispose",value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];x[_0x37ca("0x62")]("update",this._onUpdate),x.off(_0x37ca("0x145"),this[_0x37ca("0x12a")]),x.off(_0x37ca("0x12c"),this[_0x37ca("0x12b")]),this[_0x37ca("0xed")]=!1;var a=this[_0x37ca("0xbb")],c=x.mapPicker.watchingList;for(var _ in c){var e=c[_],t=e[_0x37ca("0xda")](this);if(t>-1){e[_0x37ca("0x5")](t,1);break}}var i=x[_0x37ca("0x146")][_0x37ca("0xda")](this[_0x37ca("0xa5")]);return i>-1&&x[_0x37ca("0x146")][_0x37ca("0x5")](i,1),a?(a[_0x37ca("0x147")](this),l(this),!0):void 0}}]),a}(THREE[_0x37ca("0x148")]);a[_0x37ca("0xe")]=u},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=s(c(2)),e=s(c(0)),t=s(c(1)),i=s(c(279)),n=s(c(283)),r=c(30);function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(){function x(a){(0,e[_0x37ca("0xe")])(this,x),this[_0x37ca("0x149")]={},this.id=a.id,this[_0x37ca("0x39")]=a[_0x37ca("0x39")],this[_0x37ca("0xa5")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0x14b")]=this[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x14b")],this.o3d_[_0x37ca("0xa4")]=this,this[_0x37ca("0x14d")]=0,this[_0x37ca("0x14e")]=new esmap.ESLayerManager(this[_0x37ca("0xa5")]),this.buildingType=1,this[_0x37ca("0x14f")]=new(i[_0x37ca("0xe")])(this),this[_0x37ca("0x150")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0x151")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0x152")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0xa5")][_0x37ca("0xe0")](this.lineLevel1),this[_0x37ca("0xa5")][_0x37ca("0xe0")](this[_0x37ca("0x151")]),this.o3d_.add(this[_0x37ca("0x152")]),this[_0x37ca("0x153")]=!1;var c=this;c.firstEmitLoaded=!1;var _=c[_0x37ca("0x39")][_0x37ca("0x154")].zoomLevel;_<16.5||(_<15?this.lineLevel2[_0x37ca("0xed")]=!1:_<14&&(this[_0x37ca("0x152")].visible=!1)),this[_0x37ca("0x39")].on(_0x37ca("0x155"),(function(){var x=c[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x156")],a=c[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x158")];c[_0x37ca("0x159")]&&(x>=16.5?a[_0x37ca("0xda")](c.id)>-1&&(c.tempDatas[2]&&c[_0x37ca("0x15a")](2),c.tempDatas[3]&&c.loadBuildings(3)):x>=14.5&&a[_0x37ca("0xda")](c.id)>-1&&c[_0x37ca("0x159")][2]&&c[_0x37ca("0x15a")](2)),c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x15b")]?(x<15?c.lineLevel2[_0x37ca("0xed")]&&(c[_0x37ca("0x151")][_0x37ca("0xed")]=!1):c[_0x37ca("0x151")][_0x37ca("0xed")]||(c[_0x37ca("0x151")][_0x37ca("0xed")]=!0),x<14?c[_0x37ca("0x152")][_0x37ca("0xed")]&&(c.lineLevel3.visible=!1):c.lineLevel3.visible||(c[_0x37ca("0x152")][_0x37ca("0xed")]=!0)):(c.lineLevel2[_0x37ca("0xed")]&&(c[_0x37ca("0x151")][_0x37ca("0xed")]=!1),c[_0x37ca("0x152")][_0x37ca("0xed")]&&(c[_0x37ca("0x152")][_0x37ca("0xed")]=!1))}))}return(0,t[_0x37ca("0xe")])(x,[{key:_0x37ca("0x15c"),value:function(){}},{key:_0x37ca("0x15d"),value:function(){this.firstEmitLoaded||(this.firstEmitLoaded=!0,this[_0x37ca("0x39")][_0x37ca("0x15e")](this))}},{key:_0x37ca("0x15f"),value:function(){}},{key:_0x37ca("0x160"),value:function(){this[_0x37ca("0x150")][_0x37ca("0xed")]=!1}},{key:_0x37ca("0x15b"),value:function(){this.lineLevel1.visible=!0}},{key:"loadBuildings",value:function(x){var a=this[_0x37ca("0x159")][x];this[_0x37ca("0x14f")][_0x37ca("0x161")][_0x37ca("0x162")]=a[_0x37ca("0x162")],this[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x164")]+=a[_0x37ca("0x162")],a[_0x37ca("0x165")]=x,this[_0x37ca("0x14b")][_0x37ca("0x166")](a,1,this,!0),this[_0x37ca("0x14b")][_0x37ca("0x167")](a,1,this,!0),this.tempDatas[x]=null}},{key:_0x37ca("0x168"),value:function(){var x=this[_0x37ca("0x169")];if(x){var a=x[_0x37ca("0x16a")],c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]);this[_0x37ca("0xa5")].add(c[_0x37ca("0xa5")]),c[_0x37ca("0xa5")][_0x37ca("0x16e")]=new(esmap[_0x37ca("0x16f")]);var _=this[_0x37ca("0x39")].id,e=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0x170")]);this[_0x37ca("0xa5")][_0x37ca("0xe0")](e[_0x37ca("0xa5")]),e[_0x37ca("0xa5")][_0x37ca("0x16e")]=new esmap.ESMapBoxCollision;var t=this[_0x37ca("0x39")][_0x37ca("0x14c")],i=this;for(var n in this.map.on("zoomed",(function(){i[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x156")]<=10?(c[_0x37ca("0xed")]&&(c.visible=!1),e[_0x37ca("0xed")]&&(e[_0x37ca("0xed")]=!1)):(!c[_0x37ca("0xed")]&&(c[_0x37ca("0xed")]=!0),!c.visible&&(e[_0x37ca("0xed")]=!0))})),a){var r=a[n],s=Math.floor(r.ipos/100),o=r[_0x37ca("0x171")]%100,l=_0x37ca("0x172");if(1==o?l=_0x37ca("0x173"):2==o?l=_0x37ca("0x174"):3==o&&(l=_0x37ca("0x175")),2==s||3==s||4==s){var u=r.SH||2.5,d={oid:r[_0x37ca("0x176")],Typeid:r.Tid,name:r.NA||"",fontstyleid:r[_0x37ca("0x177")],Height:r.SH,X:r.X,Y:r.Y,imagealign:l,image:r.image,w:r.w?r.w:32,h:r.h?r.h:32,ShowLevel:r.SL,texture:null},f=this.map[_0x37ca("0xf5")][_0x37ca("0x178")][d.fontstyleid]||this[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0x178")][0]||this[_0x37ca("0x39")].mapTheme[_0x37ca("0x179")],h=new esmap.ESMapLabel(1,d,f,!0),g=new(esmap[_0x37ca("0x17a")])(d,h,this);g.bid=this[_0x37ca("0x39")].id,g[_0x37ca("0x93")]=this.id,h[_0x37ca("0xed")]=!0,c[_0x37ca("0xa5")][_0x37ca("0xe0")](h),h[_0x37ca("0xa4")][_0x37ca("0x17b")][_0x37ca("0x17c")]=0,h[_0x37ca("0xa4")][_0x37ca("0x17d")]=1;var b=this[_0x37ca("0x39")][_0x37ca("0x17e")]({from:this[_0x37ca("0x39")][_0x37ca("0x17f")],to:this.map[_0x37ca("0x180")],coord:{x:r.X,y:r.Y}}),v=this.map[_0x37ca("0x181")](b);h.position[_0x37ca("0x11d")](v.x,u,v.z),h.center[_0x37ca("0x11d")](.5,0),this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](h,_),h[_0x37ca("0x184")][_0x37ca("0x185")](this.map[_0x37ca("0x186")].matrixWorldInverse,h[_0x37ca("0x187")])}else if(11==s){var p=new(esmap[_0x37ca("0x188")])(1,r,t[_0x37ca("0x189")],this[_0x37ca("0x39")][_0x37ca("0x36")].themeID,_,1);new(esmap[_0x37ca("0x18a")])(r,p,t,_),p.visible=!1,e[_0x37ca("0xa5")].add(p),p[_0x37ca("0xa4")][_0x37ca("0x17b")][_0x37ca("0x17c")]=1;var A=r.SH||3,m=this.map.transformCoord({from:this[_0x37ca("0x39")][_0x37ca("0x17f")],to:this[_0x37ca("0x39")].coordSystem,coord:{x:r.X,y:r.Y}}),C=this[_0x37ca("0x39")][_0x37ca("0x181")](m);p.position[_0x37ca("0x11d")](C.x,A,C.z),p.initY_=A,p[_0x37ca("0x18b")]=_0x37ca("0x18c"),p.datas_[_0x37ca("0x17d")]=1,p[_0x37ca("0xa4")].ShowLevel=r.SL,p[_0x37ca("0xa4")].tileId=this.id,p[_0x37ca("0x17b")].ShowLevel=r.SL,p[_0x37ca("0x184")].multiplyMatrices(this[_0x37ca("0x39")][_0x37ca("0x186")].matrixWorldInverse,p[_0x37ca("0x187")]),p[_0x37ca("0xe5")][_0x37ca("0x11d")](.5,0),this[_0x37ca("0x39")][_0x37ca("0x182")].addObject(p,this.id)}}}}},{key:"deleteRoadById",value:function(x){for(var a=this.lineLevel1.children,c=this[_0x37ca("0x39")].mapPicker[_0x37ca("0x18d")][this.id],_=0;_<a[_0x37ca("0x4")];_++)if(a[_][_0x37ca("0xa4")].ID==x){var e=a[_],t=c[_0x37ca("0xda")](e);t>-1&&c[_0x37ca("0x5")](t,1),e[_0x37ca("0xa7")][_0x37ca("0xa8")](),e[_0x37ca("0xa9")]=null,this.lineLevel1[_0x37ca("0x147")](e)}}},{key:_0x37ca("0x18e"),value:function(){if(!this[_0x37ca("0x153")]){var x=this,a=x.map.tileService[_0x37ca("0x18f")][x.id];if(a){var c=a[_0x37ca("0x190")];for(var _ in c)x[_0x37ca("0x191")](c[_]);this[_0x37ca("0x153")]=!0}}}},{key:"addLayer",value:function(x){this[_0x37ca("0x14e")].addLayer(x)}},{key:_0x37ca("0x192"),value:function(x,a){return this[_0x37ca("0x14e")].getOrCreateLayerByName(x,a)}},{key:_0x37ca("0x193"),value:function(x,a){return this[_0x37ca("0x14e")].getLayersByTypes(x,a)}},{key:_0x37ca("0x194"),value:function(x,a){return this[_0x37ca("0x14e")].getLayersByNames(x,a)}},{key:_0x37ca("0x195"),value:function(x){var a=this,c=(new THREE.Vector3(0,1,0),[]),_=new(THREE[_0x37ca("0x196")])({color:255,linewidth:2});for(var e in x){var t=x[e],i=a[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0x197")][t[_0x37ca("0x24")]];i||(i=a[_0x37ca("0x39")].mapTheme[_0x37ca("0x197")][0]);var n=t[_0x37ca("0x198")].substring(2,t[_0x37ca("0x198")][_0x37ca("0x4")]-2)[_0x37ca("0x2b")](/,/),s=[],o=a.map[_0x37ca("0x199")][_0x37ca("0x2b")](","),l={x:1*o[0],y:1*o[1],z:1*o[2]},u={x:0,y:0};if(0!=n[_0x37ca("0x4")]){for(var d=[],f=-a.map[_0x37ca("0x14c")][_0x37ca("0x19a")],h=a.map.mapScene[_0x37ca("0x19b")],g=0;g<n[_0x37ca("0x4")];g++){var b=n[g].split(" "),v=1*b[2]||0,p=new(THREE[_0x37ca("0xe2")])(-(1*b[0]+u.x+l.x)+f,l.z+1+v,1*b[1]+u.y+l.y-h);p.y=0,p.fnum=1,p[_0x37ca("0xef")]=0,p[_0x37ca("0x137")]=0,s.push(p),d[_0x37ca("0x0")]({x:1*b[0]+u.x,y:1*b[1]+u.y,offset:v}),0==g&&(u.x=1*b[0],u.y=1*b[1])}for(var A=[],m=0;m<s[_0x37ca("0x4")];m++){var C=s[m];A[_0x37ca("0x0")](new(THREE[_0x37ca("0xe2")])(C.x,C.z,0),new THREE.Vector3(C.x,C.z,0))}for(var I=(new THREE.BufferGeometry)[_0x37ca("0x19c")](A),y=[],E=I[_0x37ca("0x19d")]("position").array,w=E.length,T=0;T<=w-3;T+=3)0==T||T==w-3?y[_0x37ca("0x0")](E[T],E[T+1],E[T+2]):y[_0x37ca("0x0")](E[T],E[T+1],E[T+2]-0,E[T],E[T+1],E[T+2]-0);c[_0x37ca("0x0")](I)}}var k=r[_0x37ca("0x19e")].mergeBufferGeometries(c)[_0x37ca("0x19d")]("position")[_0x37ca("0x19f")],S=new THREE.BufferGeometry;S[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(k,3)),S[_0x37ca("0x133")](0,k/3,0);var M=new(THREE[_0x37ca("0x1a2")])(S,[_]);M[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),M[_0x37ca("0x127")]=100,a[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x1a5")][_0x37ca("0xe0")](M)}},{key:"drawRoad",value:function(x){var a=(0,_[_0x37ca("0xe")])({style:0,points:[],id:0,name:"",rank:10},x),c=this,e=(c.id,a[_0x37ca("0x24")]||0),t=c[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0x197")][e];t||(t=c[_0x37ca("0x39")].mapTheme[_0x37ca("0x197")][0]);for(var i=c[_0x37ca("0x39")],r=i.id,s=c.id,o=[],l=0;l<a[_0x37ca("0xee")][_0x37ca("0x4")];l++){var u=a[_0x37ca("0xee")][l],d=i.transformCoord({from:i[_0x37ca("0x17f")],to:i.coordSystem,coord:{x:u.x,y:u.y}}),f=i[_0x37ca("0x181")](d);f.bid=0,f.fnum=1,f.y+=u.offset||0,o[_0x37ca("0x0")](f)}var h=new(n[_0x37ca("0xe")])(o,{lineWidthMeter:!0,repeat:t[_0x37ca("0x110")]||0,lineWidth:t[_0x37ca("0x1a6")],noAnimate:0==t[_0x37ca("0x1a7")],randomOffset:!0,animateSpeed:t[_0x37ca("0x1a7")]/100,offsetHeight:.1*Math.random()+t[_0x37ca("0x1a8")],url:i.options[_0x37ca("0x1a9")].url},t[_0x37ca("0xa9")]);return h[_0x37ca("0x1aa")]=a[_0x37ca("0x1aa")],h.datas_={ID:a.id,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],name:a[_0x37ca("0x1aa")],o3d_:h,roadType:a[_0x37ca("0x1ab")],points:a.points,bid:r,tileId:s,bType:1},c[_0x37ca("0x150")][_0x37ca("0xe0")](h),i[_0x37ca("0x182")][_0x37ca("0x183")](h,c.id),h}},{key:_0x37ca("0x191"),value:function(x){var a=x.na,c=x.outline[_0x37ca("0x1ac")](2,x[_0x37ca("0x198")][_0x37ca("0x4")]-2)[_0x37ca("0x2b")](/,/),_={x:0,y:0},e=this[_0x37ca("0x39")].__ro[_0x37ca("0x2b")](","),t=1*e[0],i=1*e[1],n=1*e[2];if(0!=c[_0x37ca("0x4")]){for(var r=[],s=0;s<c[_0x37ca("0x4")];s++){var o=c[s].split(" "),l=1*o[2]||0;r[_0x37ca("0x0")]({x:1*o[0]+_.x+t,y:1*o[1]+_.y+i,offset:l+n}),0==s&&(_.x=1*o[0],_.y=1*o[1])}this.drawRoad({id:x._id,name:a,rank:x[_0x37ca("0x1ab")],points:r,style:x[_0x37ca("0x24")]||0})}}},{key:_0x37ca("0xed"),get:function(){return this[_0x37ca("0xa5")].visible},set:function(x){this.o3d_[_0x37ca("0xed")]=x}},{key:_0x37ca("0x1ad"),get:function(){for(var x=this[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")],a=this.id,c=0;c<x[_0x37ca("0x4")];c++)if(x[c][_0x37ca("0xa4")].id==a)return!0;return!1}}]),x}();a[_0x37ca("0xe")]=o},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0}),a[_0x37ca("0x1af")]=function(x){x._jumpID1&&x._jumpID1.stop(),x.o3d_[_0x37ca("0xb8")].y=x[_0x37ca("0x1b3")],x[_0x37ca("0x1b4")]=!1},a[_0x37ca("0x1b0")]=function(x,a){var c=x;a=a||{};var e=x[_0x37ca("0xa5")],t=c[_0x37ca("0xb8")].y;c[_0x37ca("0x1b4")]&&!a.force||(c[_0x37ca("0x1b4")]=!0,a[_0x37ca("0x1b5")]=(0,_.getValues)(a,_0x37ca("0x1b5"),1),0==a[_0x37ca("0x1b5")]&&(a.times=Number[_0x37ca("0x1b6")]),a[_0x37ca("0x1b7")]=(0,_[_0x37ca("0x1b8")])(a,_0x37ca("0x1b7"),0),a[_0x37ca("0x1a8")]=(0,_.getValues)(a,_0x37ca("0x1a8"),18),a[_0x37ca("0x1b9")]=(0,_[_0x37ca("0x1b8")])(a,_0x37ca("0x1ba"),_0x37ca("0x1b9"),1),c[_0x37ca("0x1bb")]&&c[_0x37ca("0x1bb")][_0x37ca("0x1bc")](),c[_0x37ca("0x1bb")]=new(esmap.TWEEN[_0x37ca("0x1bd")])(e[_0x37ca("0xb8")]).to({y:t+a[_0x37ca("0x1a8")]},.2*a.duration*1e3).easing(esmap.TWEEN.Easing[_0x37ca("0x1be")][_0x37ca("0x1bf")]).onComplete((function(){})),c[_0x37ca("0x1c0")]=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(e[_0x37ca("0xb8")]).to({y:t},.8*a[_0x37ca("0x1b9")]*1e3).easing(esmap.TWEEN[_0x37ca("0x1c2")].Bounce[_0x37ca("0x1c3")])[_0x37ca("0x1c4")]((function(){a[_0x37ca("0x1b5")]--,a[_0x37ca("0x1b5")]>0?c[_0x37ca("0x1b4")]&&(a[_0x37ca("0x1c5")]=!0,c[_0x37ca("0x1bb")][_0x37ca("0x1b7")](1e3*a[_0x37ca("0x1b7")])[_0x37ca("0x1c6")]()):(c[_0x37ca("0x1b4")]=!1,c[_0x37ca("0x1bb")][_0x37ca("0x1bc")](),a[_0x37ca("0x1c7")]&&a[_0x37ca("0x1c7")]())})),c[_0x37ca("0x1bb")].chain(c[_0x37ca("0x1c0")])[_0x37ca("0x1c6")]());return a},a[_0x37ca("0x1b1")]=function(x){var a=x[_0x37ca("0x1c8")],c=esmap.ESMap[_0x37ca("0x35")],_=(0,e.getTileFromMec)(a.x,a.y,15),t=[_.x+"_"+_.y],i=(0,e[_0x37ca("0x1c9")])(_.x,_.y,c[_0x37ca("0x36")][_0x37ca("0x1ca")],!0),n={x:(i[_0x37ca("0xab")]-i.minx)/2+i[_0x37ca("0xae")],y:(i.maxy-i[_0x37ca("0xaf")])/2+i.miny},r=c.transformCoord({from:c[_0x37ca("0x180")],to:"WGS84",coord:{x:n.x,y:n.y}});n=r,a.x>n.x&&a.y>n.y?(t[_0x37ca("0x0")](_.x+"_"+(_.y+1)),t[_0x37ca("0x0")](_.x+1+"_"+(_.y+1)),t.push(_.x+1+"_"+_.y)):a.x>n.x&&a.y<n.y?(t[_0x37ca("0x0")](_.x+1+"_"+_.y),t.push(_.x+1+"_"+(_.y-1)),t[_0x37ca("0x0")](_.x+"_"+(_.y-1))):a.x<n.x&&a.y>n.y?(t[_0x37ca("0x0")](_.x-1+"_"+_.y),t[_0x37ca("0x0")](_.x-1+"_"+(_.y+1)),t[_0x37ca("0x0")](_.x+"_"+(_.y+1))):a.x<n.x&&a.y<n.y&&(t[_0x37ca("0x0")](_.x+"_"+(_.y-1)),t[_0x37ca("0x0")](_.x-1+"_"+(_.y-1)),t[_0x37ca("0x0")](_.x-1+"_"+_.y));return t},a[_0x37ca("0x1b2")]=function x(a){var c=!(arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1])||arguments[1];if(a){if(a.datas_&&a.datas_[_0x37ca("0xa5")]&&(a[_0x37ca("0xa4")][_0x37ca("0xa5")]=void 0,a[_0x37ca("0xa4")]=void 0),a[_0x37ca("0xa6")])for(var _=0;_<a[_0x37ca("0xa6")][_0x37ca("0x4")];_++)x(a[_0x37ca("0xa6")][_],c);if(a[_0x37ca("0xa7")]&&(a[_0x37ca("0xa7")][_0x37ca("0xa8")](),a.geometry=null),a[_0x37ca("0xa9")])if(a[_0x37ca("0xa9")]instanceof Array)for(var e=0;e<a[_0x37ca("0xa9")][_0x37ca("0x4")];e++){var t=a[_0x37ca("0xa9")][e];t&&(c&&t[_0x37ca("0x39")]&&(t[_0x37ca("0x39")][_0x37ca("0xa8")](),t[_0x37ca("0x39")]=null),t[_0x37ca("0xa8")](),t=null)}else c&&a[_0x37ca("0xa9")][_0x37ca("0x39")]&&(a[_0x37ca("0xa9")].map.dispose(),a.material[_0x37ca("0x39")]=null),a.material[_0x37ca("0xa8")](),a[_0x37ca("0xa9")]=null}a=null};var _=c(11),e=c(34)},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a[_0x37ca("0xbd")]=function(x,a){return Math[_0x37ca("0xc4")]((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))},a[_0x37ca("0xbe")]=function(x,a,c,t){var i=a.x,n=a.y,r=c.x,s=c.y,o=x.x,l=x.y,u=r-i,d=s-n,f=Math[_0x37ca("0xc4")](u*u+d*d),h=o-i,g=l-n,b=Math.sqrt(h*h+g*g);if(e(f))return e(b)?(t.x=a.x,t.y=a.y,0):(t.x=a.x,t.y=a.y,b);var v=u/f,p=d/f,A=v*h+p*g;if(m=A,!(m>_))return t.x=a.x,t.y=a.y,b;var m;if(E=A-f,!(E<-1e-5)){var C=o-r,I=l-s,y=Math[_0x37ca("0xc4")](C*C+I*I);return t.x=c.x,t.y=c.y,y}var E;var w=i+A*v,T=n+A*p,k=o-w,S=l-T,M=Math[_0x37ca("0xc4")](k*k+S*S);return t.x=w,t.y=T,M},a[_0x37ca("0x1cb")]=function(x){var a=parseFloat(x);if(isNaN(a))return;return a=Math[_0x37ca("0x1cc")](1e5*x)/1e5};var _=1e-5;function e(x){return x<_&&x>-1e-5}},,,,,,,,,,,,,,,,,,,,,,,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=l(c(33)),e=l(c(4)),t=l(c(0)),i=l(c(1)),n=l(c(5)),r=l(c(6)),s=c(11),o=c(130);function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}a[_0x37ca("0xe")]=function(x){return function(x){function a(){return(0,t[_0x37ca("0xe")])(this,a),(0,n[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,e[_0x37ca("0xe")])(a)).apply(this,arguments))}return(0,r[_0x37ca("0xe")])(a,x),(0,i[_0x37ca("0xe")])(a,[{key:"on",value:function(x,a,c){if(!x||!a)return this;if(!(0,s[_0x37ca("0x1ce")])(x))return this[_0x37ca("0x1cf")]("on",x,a);this[_0x37ca("0x1d0")]||(this._eventMap={});var _=x[_0x37ca("0x1d1")]()[_0x37ca("0x2b")](" "),e=void 0;c||(c=this);for(var t=void 0,i=0,n=_[_0x37ca("0x4")];i<n;i++){e=_[i],(t=this[_0x37ca("0x1d0")][e])||(t=[],this._eventMap[e]=t);var r=t[_0x37ca("0x4")];if(r>0)for(var o=0;o<r;o++)if(a===t[o][_0x37ca("0x1d2")]&&t[o][_0x37ca("0x1d3")]===c)return this;t.push({handler:a,context:c})}return this}},{key:_0x37ca("0x33"),value:function(){return this.on[_0x37ca("0x3")](this,arguments)}},{key:_0x37ca("0x1d4"),value:function(x,a,c){if(!(0,s[_0x37ca("0x1ce")])(x)){var _={};for(var e in x)x[_0x37ca("0x1")](e)&&(_[e]=this[_0x37ca("0x1d5")](e,x[e],c));return this[_0x37ca("0x1cf")]("on",_)}for(var t=x[_0x37ca("0x2b")](" "),i=0,n=t[_0x37ca("0x4")];i<n;i++)this.on(t[i],this._wrapOnceHandler(t[i],a,c));return this}},{key:_0x37ca("0x62"),value:function(x,a,c){if(!x||!this[_0x37ca("0x1d0")]||!a)return this;if(!(0,s[_0x37ca("0x1ce")])(x))return this._switch(_0x37ca("0x62"),x,a);var _=x[_0x37ca("0x2b")](" "),e=void 0,t=void 0,i=void 0;c||(c=this);for(var n=0,r=_[_0x37ca("0x4")];n<r;n++){if(e=_[n][_0x37ca("0x1d1")](),i=_0x37ca("0x1d6")+e,!(t=this[_0x37ca("0x1d0")][e]))return this;for(var o=t.length-1;o>=0;o--){var l=t[o];a!==l.handler&&a!==l[_0x37ca("0x1d2")][i]||l[_0x37ca("0x1d3")]!==c||(delete l[_0x37ca("0x1d2")][i],t.splice(o,1))}}return this}},{key:"removeEventListener",value:function(){return this.off[_0x37ca("0x3")](this,arguments)}},{key:_0x37ca("0x1d7"),value:function(x,a,c){if(!this[_0x37ca("0x1d0")]||!(0,s[_0x37ca("0x1ce")])(x))return 0;var _=this[_0x37ca("0x1d0")][x[_0x37ca("0x1d1")]()];if(!_||!_.length)return 0;for(var e=0,t=0,i=_[_0x37ca("0x4")];t<i;t++)if(a){if(a===_[t][_0x37ca("0x1d2")]&&((0,s[_0x37ca("0x1d8")])(c)||_[t].context===c))return 1}else e++;return e}},{key:_0x37ca("0x1d9"),value:function(x){var a=x[_0x37ca("0x1d0")];if(!a)return this;var c=void 0;for(var _ in a)for(var e=0,t=(c=a[_]).length;e<t;e++)this.on(_,c[e][_0x37ca("0x1d2")],c[e][_0x37ca("0x1d3")]);return this}},{key:_0x37ca("0x1da"),value:function(){return this[_0x37ca("0x1db")]?this[_0x37ca("0x1db")].fire[_0x37ca("0x3")](this[_0x37ca("0x1db")],arguments):this[_0x37ca("0x1dc")][_0x37ca("0x3")](this,arguments)}},{key:_0x37ca("0x1d5"),value:function(x,a,c){var _=this,e=_0x37ca("0x1d6")+x,t=!1,i=function n(){t||(delete i[e],t=!0,c?a[_0x37ca("0x3")](c,arguments):a[_0x37ca("0x3")](this,arguments),_[_0x37ca("0x62")](x,n,this))};return i[e]=a,i}},{key:_0x37ca("0x1cf"),value:function(x,a,c){for(var _ in a)a.hasOwnProperty(_)&&this[x](_,a[_],c);return this}},{key:"_clearListeners",value:function(x){this[_0x37ca("0x1d0")]&&(0,s[_0x37ca("0x1ce")])(x)&&(this[_0x37ca("0x1d0")][x[_0x37ca("0x1d1")]()]&&(this[_0x37ca("0x1d0")][x]=null))}},{key:_0x37ca("0x1dd"),value:function(){this._eventMap=null}},{key:_0x37ca("0x1de"),value:function(x){return this[_0x37ca("0x1db")]=x,this}},{key:"_fire",value:function(x,a){if(!this[_0x37ca("0x1d0")])return this;var c=this[_0x37ca("0x1d0")][x[_0x37ca("0x1d1")]()];if(!c)return this;a||(a={});var e=Array.prototype[_0x37ca("0x14")].call(arguments);e=e.slice(1);for(var t=c[_0x37ca("0x14")](0),i=void 0,n=void 0,r=0,s=t.length;r<s;r++)if(t[r]){var l,u;if(n=!0,a,i=t[r][_0x37ca("0x1d3")])n=(l=t[r].handler)[_0x37ca("0x6")][_0x37ca("0x3")](l,[i][_0x37ca("0x15")]((0,_[_0x37ca("0xe")])(e)));else n=(u=t[r]).handler.apply(u,(0,_[_0x37ca("0xe")])(e));!1===n&&a[_0x37ca("0x1df")]&&(0,o.stopPropagation)(a.domEvent)}return this}}]),a}(x)}},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a[_0x37ca("0x1e0")]=a[_0x37ca("0x1e1")]=void 0;var _=r(c(0)),e=r(c(1)),t=c(276),i=c(277),n=c(44);function r(x){return x&&x.__esModule?x:{default:x}}var s={dataUrlPrefix:"data/",themeUrlPrefix:null},o=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this.mode=esmap[_0x37ca("0x3c")].Building,this.mapDataSrc=s[_0x37ca("0x1e2")],this[_0x37ca("0x6b")]=s.themeUrlPrefix,this[_0x37ca("0x1e3")]=[10,20],this[_0x37ca("0x1e4")]=60,this[_0x37ca("0x1e5")]="firebrick",this.scalerColor="#fff",this[_0x37ca("0x1e6")]=!1,this.userCrs=_0x37ca("0x1e7"),this[_0x37ca("0x95")]=1,this[_0x37ca("0x1e8")]=5,this[_0x37ca("0x1e9")]=!0,this[_0x37ca("0x1ea")]=!0,this[_0x37ca("0x1eb")]=!0,this[_0x37ca("0x1ec")]=!0,this[_0x37ca("0x1ed")]=document[_0x37ca("0x26")],this[_0x37ca("0xe5")]=null,this.showAxes=!0,this[_0x37ca("0x1ee")]=20,this.viewMode="3D",this[_0x37ca("0x1ef")]=!1,this[_0x37ca("0x1f0")]=null,this.compassBackgroundUrl=null,this[_0x37ca("0x1f1")]=null,this.cameraMode=esmap[_0x37ca("0x1f2")].NORMAL,this[_0x37ca("0x1f3")]=2048,this[_0x37ca("0x1f4")]=.6,this[_0x37ca("0x1f5")]=45,this[_0x37ca("0x1f6")]=45,this.defaultControlsPose=null,this[_0x37ca("0x1f7")]=.04,this.controlsScaleThreshold=.05,this[_0x37ca("0x1f8")]=null,this.defaultTiltAngle=null,this.perspective=!1,this[_0x37ca("0x1f9")]=!0,this.viewModeAnimateTime=.3,this[_0x37ca("0x1fa")]=!0,this[_0x37ca("0x1fb")]=.3,this.compassOffset=[10,20],this.compassSize=64,this.compassAngle=0,this.hoverMode=!1,this[_0x37ca("0x1fc")]="all",this.powerPreference=_0x37ca("0xe"),this[_0x37ca("0x1fd")]=0,this[_0x37ca("0x1fe")]=null,this[_0x37ca("0x1ff")]=null,this[_0x37ca("0x200")]=!0,this.naviLineAnimation=!0,this.zoomLevel=null,this[_0x37ca("0x6d")]=null,this[_0x37ca("0x201")]=0,this.loadModel3D=1,this[_0x37ca("0x202")]=1,this[_0x37ca("0x203")]=1,this[_0x37ca("0x204")]=!0,this.lineSelectedEffect=!0,this[_0x37ca("0x205")]=!0,this.editMode=!1,this.closeComposer=!1,this[_0x37ca("0x63")]=!0,this[_0x37ca("0x206")]=null,this.mapAudioSrc="./",this[_0x37ca("0x207")]=!0,this[_0x37ca("0x208")]=!1,this.quality=_0x37ca("0xf8"),this[_0x37ca("0x209")]=!0,this.compatibleMode=!1,this[_0x37ca("0x70")]=0,this[_0x37ca("0x20a")]=null,this[_0x37ca("0x20b")]=null,this[_0x37ca("0x20c")]=0,this[_0x37ca("0x20d")]=!1;var c=esmap[_0x37ca("0x7b")][_0x37ca("0x20e")]()[_0x37ca("0x20f")];this[_0x37ca("0x1e4")]=c?this[_0x37ca("0x1e4")]:"50",this[_0x37ca("0x63")]&&(THREE[_0x37ca("0x63")]=!0),a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?this[_0x37ca("0x211")](a):(this[_0x37ca("0x212")](a),this[_0x37ca("0x213")]>=5&&(this[_0x37ca("0x213")]=5))}return(0,e.default)(x,[{key:_0x37ca("0x211"),value:function(x){(0,n[_0x37ca("0xc1")])(this,i[_0x37ca("0x214")]),(0,n.merge)(this,x)}},{key:_0x37ca("0x212"),value:function(x){(0,n[_0x37ca("0xc1")])(this,t[_0x37ca("0x215")]),(0,n[_0x37ca("0xc1")])(this,x)}}]),x}();a[_0x37ca("0x1e1")]=o,a[_0x37ca("0x1e0")]=function(x){var a=(0,n[_0x37ca("0xc1")])({},i[_0x37ca("0x214")]);for(var c in a)x[_0x37ca("0x1")](c)&&void 0!==x[c]&&(a[c]=x[c]);return a}},,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _,e=v(c(12)),t=v(c(13)),i=v(c(8)),n=v(c(2)),r=v(c(4)),s=v(c(0)),o=v(c(1)),l=v(c(5)),u=v(c(6)),d=v(c(133)),f=c(69),h=c(11),g=c(44),b=v(c(134));function v(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var p=null,A=null,m=function(x){function a(x){(0,s[_0x37ca("0xe")])(this,a);var c=new(THREE[_0x37ca("0x216")]),_=(0,l[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,r[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")][_0x37ca("0x217")],{},c));em[_0x37ca("0x218")].convert(_),_[_0x37ca("0x39")]=_[_0x37ca("0x14c")][_0x37ca("0x39")];var e=_[_0x37ca("0x39")][_0x37ca("0x37")]==esmap.MapMode.Building?20:12;return(0,n.default)(_,{diableClickEffect:!1,ID:Math.random().toString(36)[_0x37ca("0x14")](-8),name:_0x37ca("0x219"),model:"",alias:"model3d",bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,showLevel:e,configs:!1,clickAnimation:!0,status:0,callback:null},x),_[_0x37ca("0x21a")]=!1,_.movePathLoopCount=0,_[_0x37ca("0x21b")]=new(THREE[_0x37ca("0x21c")]),_[_0x37ca("0x21d")]=[],_[_0x37ca("0x21e")]=0,_._directionVolume=0,_._lodLevel=0,_[_0x37ca("0x21f")]=null,_[_0x37ca("0x220")]=!1,_._lodManager=_.map[_0x37ca("0x163")][_0x37ca("0x221")],_}var c;return(0,u[_0x37ca("0xe")])(a,x),(0,o.default)(a,[{key:_0x37ca("0x222"),value:function(x){this[_0x37ca("0xa5")].add(x[_0x37ca("0xa5")]),x[_0x37ca("0xa5")][_0x37ca("0xb8")].x=0,x[_0x37ca("0xa5")].position.z=0,x[_0x37ca("0xa5")][_0x37ca("0x11a")].computePosition=this[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0xde")](),this[_0x37ca("0x21d")].push(x)}},{key:_0x37ca("0xea"),value:function(){this[_0x37ca("0x14c")].map[_0x37ca("0x36")].editMode||(this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]?this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x156")]<this[_0x37ca("0x223")]&&(this.child.visible=!1):this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x224")]>this[_0x37ca("0x223")]&&(this[_0x37ca("0x225")][_0x37ca("0xed")]=!1));this[_0x37ca("0xa5")][_0x37ca("0x1aa")]=this[_0x37ca("0x226")]?"":_0x37ca("0xba"),this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x227")]={},this.o3d_.userData[_0x37ca("0x228")]=[],this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x229")]=null,this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x22a")]=_0x37ca("0x22b"),this[_0x37ca("0xa5")][_0x37ca("0x127")]=esmap.ESRenderOrder.model3D,this[_0x37ca("0x225")][_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].model3D,this[_0x37ca("0xa5")].add(this[_0x37ca("0x225")]),this.o3d_[_0x37ca("0x22d")]=this[_0x37ca("0x22d")];var x=this[_0x37ca("0x22e")];this[_0x37ca("0xa5")][_0x37ca("0x22e")].set(x.x,x.y,x.z);var a=this[_0x37ca("0x1a3")]||new(THREE[_0x37ca("0xe2")])(0,0,0),c=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x230")](new(THREE[_0x37ca("0x231")])(a.x,a.y,a.z,"ZXY"));this[_0x37ca("0xa5")][_0x37ca("0x232")][_0x37ca("0x11d")](c.x,c.y,c.z,c.w);var _=this[_0x37ca("0xb8")];this.o3d_[_0x37ca("0xb8")].x=_.x,this[_0x37ca("0xa5")][_0x37ca("0xb8")].y=_.y,this[_0x37ca("0xa5")][_0x37ca("0xb8")].z=_.z,this[_0x37ca("0x233")]=this.map[_0x37ca("0x234")](this.o3d_[_0x37ca("0xb8")]),this[_0x37ca("0x235")][_0x37ca("0xe0")](this.o3d_),this[_0x37ca("0x2e")]&&(this[_0x37ca("0xe6")]=this[_0x37ca("0x2e")][_0x37ca("0x236")]),this[_0x37ca("0x237")](),this[_0x37ca("0x1c7")]&&this[_0x37ca("0x1c7")](this[_0x37ca("0x238")]?this.callbackparams:this),this[_0x37ca("0x220")]=!0}},{key:_0x37ca("0x239"),value:function(x){this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]?x<this.showLevel?this.child[_0x37ca("0xed")]&&(this.child[_0x37ca("0xed")]=!1):this[_0x37ca("0x225")][_0x37ca("0xed")]||(this.child[_0x37ca("0xed")]=!0):(x=this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x224")])>=this[_0x37ca("0x223")]?this[_0x37ca("0x225")][_0x37ca("0xed")]&&(this[_0x37ca("0x225")].visible=!1):this[_0x37ca("0x225")][_0x37ca("0xed")]||(this[_0x37ca("0x225")][_0x37ca("0xed")]=!0)}},{key:_0x37ca("0x23a"),value:function(x){var a=this[_0x37ca("0x39")],c="ANCHOR_"+x,_=this[_0x37ca("0x225")].getObjectByName(c);if(_){console[_0x37ca("0x23b")](_0x37ca("0x23c")+x,_);var e=_[_0x37ca("0x23d")](new THREE.Vector3);return a[_0x37ca("0x234")](e)}console[_0x37ca("0xca")]("can not find anchor "+c)}},{key:_0x37ca("0x237"),value:function(){var x=this,a=x[_0x37ca("0x14c")][_0x37ca("0x39")],c=x.onUpdate[_0x37ca("0x10")](x);a.on(_0x37ca("0x119"),c);var _=x[_0x37ca("0x239")][_0x37ca("0x10")](this);a[_0x37ca("0x36")][_0x37ca("0x23e")]||a.on("zoomed",_),this.o3d_[_0x37ca("0x33")](_0x37ca("0x23f"),(function(){for(;x[_0x37ca("0x21d")].length>0;){var e=x[_0x37ca("0x21d")].shift();e[_0x37ca("0x240")]&&(a[_0x37ca("0x62")]("update",e[_0x37ca("0x240")]),e[_0x37ca("0xa8")]())}a[_0x37ca("0x62")](_0x37ca("0x119"),c),a[_0x37ca("0x36")][_0x37ca("0x23e")]||a.off(_0x37ca("0x12d"),_),x[_0x37ca("0x241")](),x[_0x37ca("0x242")](_0x37ca("0x23f"))}))}},{key:"onUpdate",value:function(){var x=this,a=x[_0x37ca("0x14c")].map;if(x[_0x37ca("0xa5")]){var c=x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x243")],_=x[_0x37ca("0xa5")][_0x37ca("0x11a")].needRotateCamera;if(c&&(x[_0x37ca("0xa5")].quaternion[_0x37ca("0x244")](c,.08),_)){var e=new(THREE[_0x37ca("0xe2")])(1,0,0),t=e.clone(),i=x.o3d_[_0x37ca("0x245")].clone();i[_0x37ca("0x246")](new(THREE[_0x37ca("0xe2")])),t[_0x37ca("0x247")](i);var n=(n=t[_0x37ca("0xde")]().cross(e)).y<0?-1:1,r=e[_0x37ca("0x248")](t),s=THREE[_0x37ca("0x249")][_0x37ca("0x24a")](r*n);a[_0x37ca("0x182")][_0x37ca("0x24b")]?x[_0x37ca("0x24c")]=!0:x[_0x37ca("0x24c")]?(s<0&&(s=360+s),a[_0x37ca("0x24d")]>s?a[_0x37ca("0x24d")]-=1:a.rotateAngle+=1,Math[_0x37ca("0x24e")](a[_0x37ca("0x24d")]-s)<=3&&(x[_0x37ca("0x24c")]=!1)):a[_0x37ca("0x24d")]=s}x[_0x37ca("0x24f")]()}}},{key:_0x37ca("0x250"),value:function(x){var a=x;if(!this.o3d_[_0x37ca("0x11a")].movePathing){var c=this,_=(0,h.getValues)(a,_0x37ca("0x1ba"),_0x37ca("0x1b9"),1),e=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x14c")];c[_0x37ca("0x1b4")]=!0,c._moveToID&&c[_0x37ca("0x251")][_0x37ca("0x1bc")]();var t=this,i=e[_0x37ca("0x39")],n=t[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0xde")](),r=a.hasOwnProperty("angle")?a[_0x37ca("0x252")]:0,s=a[_0x37ca("0x1")]("z")?a.z:t[_0x37ca("0xa5")][_0x37ca("0xb8")].y,o=a[_0x37ca("0x1")]("threshold")?a.threshold:null,l=i[_0x37ca("0x253")](n,!0);a.hasOwnProperty("x")||(a.x=l.x),a.hasOwnProperty("y")||(a.y=l.y);var u=i[_0x37ca("0x254")]({x:a.x,y:a.y,z:s},!0),d=esmap[_0x37ca("0x7b")][_0x37ca("0x255")]({x:n.x,y:n.z},{x:u.x,y:u.z}),f=!1;if(a[_0x37ca("0x1")](_0x37ca("0x256"))&&(f=a[_0x37ca("0x256")]),f&&null!=o&&null!=this[_0x37ca("0xa5")].userData[_0x37ca("0x257")])if(u[_0x37ca("0xdf")](n)<=o[_0x37ca("0x258")]){var g=Math[_0x37ca("0x24e")](d-this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x257")]);g>360&&(g-=360),g>=o.forward[0]&&g<=o.forward[1]||g>=o[_0x37ca("0x259")][0]&&g<=o.backward[1]&&(r=180)}if(null==this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x257")]||f){var b=d+r;this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x257")]=b>360?b-360:b}if(f){var v=new(THREE[_0x37ca("0x25a")]);if(n.x!=u.x||n.z!=u.z){v[_0x37ca("0x25b")](u,n,this[_0x37ca("0xa5")].up),v.multiply((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,THREE[_0x37ca("0x249")].degToRad(r),0)));var p=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x25d")](v);t[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")]&&t[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")][_0x37ca("0x1bc")]();var A=(new(THREE[_0x37ca("0x22f")])).copy(t[_0x37ca("0xa5")][_0x37ca("0x232")]),m=new THREE.Quaternion,C={value:0};t[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")]=new esmap.TWEEN.Tween(C).to({value:1},500).easing(esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")]).onUpdate((function(x,a){THREE.Quaternion.slerp(A,p,m,C[_0x37ca("0xf2")]),t.o3d_[_0x37ca("0x232")][_0x37ca("0x11d")](m.x,m.y,m.z,m.w)}))[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]()}}c._moveToID=new(esmap.TWEEN[_0x37ca("0x1bd")])(this[_0x37ca("0xa5")][_0x37ca("0xb8")]).to(u,1e3*_)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(x,c){if(a[_0x37ca("0x262")]){var _=i[_0x37ca("0x234")](x);a[_0x37ca("0x262")]({position:{x:_.x,y:_.y},progress:c,angle:d})}}))[_0x37ca("0x1c4")]((function(){t._isAnimating=!1,a[_0x37ca("0x1c7")]&&a[_0x37ca("0x1c7")](t)}))[_0x37ca("0x1c6")]()}}},{key:_0x37ca("0xe0"),value:function(x){this.o3d_[_0x37ca("0xe0")](x)}},{key:_0x37ca("0x263"),value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x264")]||(0,f[_0x37ca("0x1b0")])(this,x)}},{key:"stopJump",value:function(){(0,f[_0x37ca("0x1af")])(this)}},{key:_0x37ca("0x265"),value:function(){}},{key:_0x37ca("0x266"),value:function(){}},{key:_0x37ca("0x24f"),value:function(){}},{key:"restoreScale",value:function(){var x=this[_0x37ca("0xa5")];x[_0x37ca("0x11a")][_0x37ca("0x267")]&&(x.scale[_0x37ca("0x268")](x.userData[_0x37ca("0x267")]),x[_0x37ca("0x11a")][_0x37ca("0x267")]=null)}},{key:"show",value:function(){this[_0x37ca("0xed")]=!0}},{key:_0x37ca("0x269"),value:function(){this[_0x37ca("0xed")]=!1}},{key:_0x37ca("0x26a"),value:function(x){var a=this[_0x37ca("0xa5")];a[_0x37ca("0x11a")][_0x37ca("0x267")]||(a.userData.originalScale=a[_0x37ca("0x22e")].clone()),a[_0x37ca("0x22e")][_0x37ca("0x26b")](x)}},{key:_0x37ca("0x26c"),value:function(x){var a=this[_0x37ca("0xa5")];isNaN(x)||(x={angle:x});var c=(0,n[_0x37ca("0xe")])({time:1e3,angle:0,onComplete:null},x),_={x:0,y:0,z:0};c[_0x37ca("0x252")]instanceof Object?(0,n[_0x37ca("0xe")])(_,c.angle):_.z=1*c[_0x37ca("0x252")];var e=(new THREE.Quaternion)[_0x37ca("0x230")](new(THREE[_0x37ca("0x231")])(THREE[_0x37ca("0x249")].degToRad(_.x),THREE[_0x37ca("0x249")].degToRad(_.z),THREE[_0x37ca("0x249")][_0x37ca("0x26d")](_.y),_0x37ca("0x26e"))),t={value:0},i=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x268")](a[_0x37ca("0x232")]),r=new(THREE[_0x37ca("0x22f")]);a[_0x37ca("0x11a")][_0x37ca("0x26f")]&&a[_0x37ca("0x11a")][_0x37ca("0x26f")].stop();var s=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(t).to({value:1},c[_0x37ca("0x1ba")])[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Circular.Out)[_0x37ca("0x12f")]((function(x){THREE[_0x37ca("0x22f")][_0x37ca("0x244")](i,e,r,t[_0x37ca("0xf2")]),a.quaternion[_0x37ca("0x11d")](r.x,r.y,r.z,r.w)}))[_0x37ca("0x1c4")](c.onComplete).start();a[_0x37ca("0x11a")][_0x37ca("0x26f")]=s}},{key:_0x37ca("0x270"),value:function(){this[_0x37ca("0x271")]=!1,map[_0x37ca("0x272")][_0x37ca("0x273")]=!0,this[_0x37ca("0xa5")][_0x37ca("0x11a")].needRotateCamera=!1}},{key:_0x37ca("0x274"),value:function(x){var a=this;x=x||{};var c=esmap[_0x37ca("0x34")][_0x37ca("0x35")];c[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0x268")](a[_0x37ca("0xa5")].getWorldPosition(new(THREE[_0x37ca("0xe2")]))),c[_0x37ca("0x275")][_0x37ca("0x277")](c.scaleLevels[1]);var e=null!=x.followAngle,t=!1,i=!1,n=!1,r=!1;a[_0x37ca("0x271")]=!0,a[_0x37ca("0xa5")][_0x37ca("0x11a")].needRotateCamera=e;c.gestureController[_0x37ca("0x273")]=!1;var s=a[_0x37ca("0xa5")][_0x37ca("0xb8")].y;a[_0x37ca("0x279")]||(document.addEventListener(_0x37ca("0x27a"),(function(x){switch(x.keyCode){case 38:case 87:t=!0;break;case 37:case 65:i=!0;break;case 40:case 83:r=!0;break;case 39:case 68:n=!0}}),!1),document.addEventListener("keyup",(function(x){switch(x[_0x37ca("0x278")]){case 38:case 87:t=!1;break;case 37:case 65:i=!1;break;case 40:case 83:r=!1;break;case 39:case 68:n=!1}}),!1),a[_0x37ca("0x279")]=!0,c.on("update",(function(){if(a[_0x37ca("0x271")])if(t||i||n||r){var x=c[_0x37ca("0x275")].target[_0x37ca("0xde")]();x.y=s,c[_0x37ca("0x272")].enableMapPan=!0;var e=0;i?e=90:n?e=-90:r&&(e=180),!a[_0x37ca("0x27b")]&&a[_0x37ca("0x27c")]({name:"walk"});var o=c[_0x37ca("0x27d")][_0x37ca("0xb8")].clone();o.y=s,_||(_=setTimeout((function(){a[_0x37ca("0x14c")].map[_0x37ca("0x27e")]=!0,a[_0x37ca("0x14f")][_0x37ca("0x27f")]=!1,a[_0x37ca("0x14f")][_0x37ca("0x280")]=!1,window.clearTimeout(_),_=null}),800)),a[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0x268")](x);var l=new THREE.Matrix4;l[_0x37ca("0x25b")](x,o,a[_0x37ca("0xa5")].up),l[_0x37ca("0x281")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,THREE[_0x37ca("0x249")][_0x37ca("0x26d")](e),0))),a.o3d_[_0x37ca("0x11a")][_0x37ca("0x243")]=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x25d")](l)}else c[_0x37ca("0x272")][_0x37ca("0x273")]&&(c[_0x37ca("0x272")][_0x37ca("0x273")]=!1)})))}},{key:_0x37ca("0x282"),value:function(x){x=x||1,this.o3d_.traverse((function(x){x[_0x37ca("0xa9")]&&x.material[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x283"))&&(x[_0x37ca("0xa9")][_0x37ca("0xfa")]=x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x283")],x[_0x37ca("0xa9")][_0x37ca("0xfd")]=x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xfd")],delete x.material.userData[_0x37ca("0x283")],delete x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xfd")])}))}},{key:_0x37ca("0x284"),value:function(x){var a,c,_;typeof x==_0x37ca("0x143")?(a=x,c=1,_=!1):(a=x[_0x37ca("0xe3")],c=null==x[_0x37ca("0x1ba")]?1:x.time,_=null!=x[_0x37ca("0x285")]&&x[_0x37ca("0x285")]),this[_0x37ca("0xa5")][_0x37ca("0xb6")]((function(x){x[_0x37ca("0xa9")]&&!x[_0x37ca("0xa9")].userData.changed&&(_&&(x[_0x37ca("0xa9")]=x[_0x37ca("0xa9")][_0x37ca("0xde")]()),x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x283"))||(x.material[_0x37ca("0x11a")].istransparent=x[_0x37ca("0xa9")][_0x37ca("0xfa")],x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xfd")]=x[_0x37ca("0xa9")][_0x37ca("0xfd")]),x.material[_0x37ca("0xfa")]=!0,x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x286")]=!0,new(esmap[_0x37ca("0x1c1")].Tween)(x[_0x37ca("0xa9")]).to({opacity:a},1e3*c).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")]).onComplete((function(){x.material[_0x37ca("0x11a")][_0x37ca("0x286")]=!1}))[_0x37ca("0x1c6")]())}))}},{key:_0x37ca("0x287"),value:function(){this[_0x37ca("0x288")]&&(this.glowSprite[_0x37ca("0xed")]=!1,this[_0x37ca("0x288")][_0x37ca("0x22e")][_0x37ca("0x11d")](.01,.01,1),esmap[_0x37ca("0x289")][_0x37ca("0x11")].stopFlash[_0x37ca("0x6")](this.glowSprite),this[_0x37ca("0x21a")]=!1)}},{key:_0x37ca("0x28a"),value:function(x){var a=this,c=x||{};if(c[_0x37ca("0x13c")]=null==c[_0x37ca("0x13c")]?_0x37ca("0x28b"):c[_0x37ca("0x13c")],c[_0x37ca("0x1a8")]=null==c.height?0:c[_0x37ca("0x1a8")],c[_0x37ca("0x28c")]=null==c[_0x37ca("0x28c")]||c.fixedSize,c[_0x37ca("0x123")]=null==c[_0x37ca("0x123")]||c[_0x37ca("0x123")],!this[_0x37ca("0x288")]){var _=_0x37ca("0x28d"),e=(new(THREE[_0x37ca("0x13f")]))[_0x37ca("0x140")](_),t=new(THREE[_0x37ca("0x28e")])({map:e,depthWrite:!0,transparent:!0,blending:THREE[_0x37ca("0x126")],sizeAttenuation:!c.fixedSize});c[_0x37ca("0x123")]&&(t[_0x37ca("0x28f")]=!1),t.color=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](c.color||_0x37ca("0xcc"));var i=new(THREE[_0x37ca("0x291")])(t);i[_0x37ca("0x22e")][_0x37ca("0x11d")](.001,.001,1),i[_0x37ca("0x1aa")]=_0x37ca("0x292"),i[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],i[_0x37ca("0x11a")].enableScaling=!0,i[_0x37ca("0x11a")][_0x37ca("0x1b5")]=1e3,a[_0x37ca("0xa5")][_0x37ca("0xe0")](i),a[_0x37ca("0x288")]=i}this[_0x37ca("0x287")](),this[_0x37ca("0x288")][_0x37ca("0xed")]=!0,c[_0x37ca("0x22e")]=null==c[_0x37ca("0x22e")]?2:c[_0x37ca("0x22e")],c[_0x37ca("0x1b5")]=null==c.times?0:c[_0x37ca("0x1b5")],a[_0x37ca("0x288")][_0x37ca("0xb8")].y=c[_0x37ca("0x1a8")],esmap[_0x37ca("0x289")][_0x37ca("0x11")].flash3d.call(a[_0x37ca("0x288")],c),a[_0x37ca("0x21a")]=!0}},{key:"faceTo",value:function(x,a,c){var _=new THREE.Vector3(this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xe5")][0]-x,this[_0x37ca("0xa5")][_0x37ca("0xb8")].y,a-this[_0x37ca("0x39")].options[_0x37ca("0xe5")][1]),e=new(THREE[_0x37ca("0x25a")]),t=this;e[_0x37ca("0x25b")](this[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0xde")](),_,this[_0x37ca("0xa5")].up),e.multiply((new THREE.Matrix4)[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,THREE[_0x37ca("0x249")][_0x37ca("0x26d")](c||0),0))),this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x243")]=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x25d")](e),this.o3d_.position.x=_.x,this[_0x37ca("0xa5")][_0x37ca("0xb8")].z=_.z,this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x294")]||(this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x294")]=!0,this[_0x37ca("0x39")].on(_0x37ca("0x119"),(function(){var x=t[_0x37ca("0xa5")][_0x37ca("0x11a")].toRot;x&&t[_0x37ca("0xa5")].quaternion[_0x37ca("0x244")](x,.1)})))}},{key:"stopAnimation",value:function(x){if(x&&x[_0x37ca("0x1b9")])for(var a in this[_0x37ca("0xa5")].userData.actions)this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x227")][a][_0x37ca("0x295")](x[_0x37ca("0x1b9")]);else for(var c in this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x227")])this[_0x37ca("0xa5")].userData.actions[c].stop();this[_0x37ca("0x27b")]=!1}},{key:_0x37ca("0x296"),value:function(){this[_0x37ca("0xa8")]()}},{key:"playAnimation",value:function(x){var a,c=this,_={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new i.default((a=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function a(t){var r,s,o,l,u,d,f,h,g,b,v,p,A,m;return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(a){for(;;)switch(a[_0x37ca("0x299")]=a[_0x37ca("0x29a")]){case 0:if(typeof x===_0x37ca("0xf")?_[_0x37ca("0x1aa")]=x:(0,n[_0x37ca("0xe")])(_,x),r=c[_0x37ca("0x4a")],s=c,o=r[_0x37ca("0x29b")]("/"),r.substring(o),l=c.o3d_[_0x37ca("0x11a")].actions,u=c[_0x37ca("0xa5")][_0x37ca("0xa6")][0],d=c[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x29c")][s[_0x37ca("0x219")]]){a[_0x37ca("0x29a")]=11;break}return console[_0x37ca("0x29d")](esmap[_0x37ca("0x29e")].MODEL3D_LOADING),a[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 11:return f=c.mapScene[_0x37ca("0x39")],h=s[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x229")],_.loop&&(_.repeat=1/0),h||(h=new(THREE[_0x37ca("0x2a1")])(u),d[_0x37ca("0x2a2")][_0x37ca("0x1f")]((function(x){var a=h[_0x37ca("0x2a3")](x);a[_0x37ca("0x2a4")]=!0,a[_0x37ca("0x2a5")]=_[_0x37ca("0x110")],l[x[_0x37ca("0x1aa")][_0x37ca("0x2a6")]()]=a})),c.o3d_.userData[_0x37ca("0x229")]=h),a[_0x37ca("0x29a")]=17,new i.default((function(x){setTimeout(x,1e3*_.delay)}));case 17:if(g=l[_[_0x37ca("0x1aa")]]){a[_0x37ca("0x29a")]=22;break}return console.info(_[_0x37ca("0x1aa")]+_0x37ca("0x2a7")+esmap[_0x37ca("0x29e")].MODEL3D_ACTION_ERR),console[_0x37ca("0x29d")](c[_0x37ca("0x2a2")]),a[_0x37ca("0x29f")]("return");case 22:if(b=c[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2a8")],_[_0x37ca("0x2a9")]?g[_0x37ca("0x2a9")]=THREE[_0x37ca("0x2aa")]:1===_.repeat?g.loop=THREE[_0x37ca("0x2ab")]:g[_0x37ca("0x2a9")]=THREE[_0x37ca("0x2aa")],g[_0x37ca("0x2a5")]=_[_0x37ca("0x110")],g.clampWhenFinished=_[_0x37ca("0x2a4")],_[_0x37ca("0x2ac")])for(v in l)l[v].fadeOut(_[_0x37ca("0x1ba")]);else _[_0x37ca("0x2ad")]&&b&&b[_0x37ca("0x295")](_[_0x37ca("0x1ba")]);g[_0x37ca("0x2ae")]()[_0x37ca("0x2af")](1).setEffectiveWeight(1)[_0x37ca("0x2b0")](_[_0x37ca("0x1ba")]).play(),h[_0x37ca("0x2b1")]||(h.watching=!0,p=new(THREE[_0x37ca("0x21c")]),A=function(){h.update(p[_0x37ca("0x2b2")]())},f.on(_0x37ca("0x119"),A),h.bindedUpdate=A),s[_0x37ca("0x27b")]=!0,s[_0x37ca("0xa5")].userData[_0x37ca("0x2a8")]=g,_[_0x37ca("0x2a9")]?t():(m=function x(a){_[_0x37ca("0x1c7")]&&_.callback(s),s[_0x37ca("0x27b")]=!1,h[_0x37ca("0x2b3")](_0x37ca("0x2b4"),x),h[_0x37ca("0x2b5")]=null,t()},h[_0x37ca("0x33")]("finished",m),h[_0x37ca("0x2b5")]=m);case 32:case"end":return a[_0x37ca("0x1bc")]()}}),a,c)}))),function(x){return a[_0x37ca("0x3")](this,arguments)}))}},{key:"playAnimationPre",value:function(x){var a={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof x===_0x37ca("0xf")?a.name=x:(0,n[_0x37ca("0xe")])(a,x);var c=this[_0x37ca("0x4a")],_=this,e=c[_0x37ca("0x29b")]("/"),t=(c[_0x37ca("0x1ac")](e),this[_0x37ca("0xa5")].userData[_0x37ca("0x227")]),i=this[_0x37ca("0xa5")][_0x37ca("0xa6")][0],r=this[_0x37ca("0x14f")].modelStore[_[_0x37ca("0x219")]];if(r){var s=this.mapScene[_0x37ca("0x39")],o=this[_0x37ca("0xa5")][_0x37ca("0x11a")].mixer;a[_0x37ca("0x2a9")]&&(a[_0x37ca("0x110")]=1/0),o||(o=new THREE.AnimationMixer(i),r.animations[_0x37ca("0x1f")]((function(x){var c=o[_0x37ca("0x2a3")](x);c[_0x37ca("0x2a4")]=!0,c.repetitions=a[_0x37ca("0x110")],t[x[_0x37ca("0x1aa")][_0x37ca("0x2a6")]()]=c})),this.o3d_.userData[_0x37ca("0x229")]=o);var l=t[a[_0x37ca("0x1aa")]];if(l){var u=this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2a8")];if(u||(this[_0x37ca("0xa5")].userData[_0x37ca("0x2a8")]=l,u=l),a[_0x37ca("0x2a9")]?(l[_0x37ca("0x2a9")]=THREE[_0x37ca("0x2aa")],a[_0x37ca("0x2b8")]&&(l.loop=THREE[_0x37ca("0x2b9")])):l[_0x37ca("0x2a9")]=THREE[_0x37ca("0x2ab")],l.repetitions=a.repeat,l[_0x37ca("0x2a4")]=a[_0x37ca("0x2a4")],a[_0x37ca("0x2ad")])u!=l?(l[_0x37ca("0x2ae")]()[_0x37ca("0x2b0")](a[_0x37ca("0x1ba")])[_0x37ca("0x2ba")](),u[_0x37ca("0x2bb")](l,0)):l[_0x37ca("0x2ae")]()[_0x37ca("0x2af")](1)[_0x37ca("0x2bc")](1).setDuration(a[_0x37ca("0x1ba")])[_0x37ca("0x2ba")]();else{var d=a[_0x37ca("0x1aa")].match(/^[A-Za-z0-9]+\-/);if(d){var f=d[0];for(var h in t)h[_0x37ca("0xcf")](/^[A-Za-z0-9]+\-/)[0]==f&&t[h].stop()[_0x37ca("0x2ae")]()}l[_0x37ca("0x2ba")]()}if(!o.watching){o.watching=!0;var g=new(THREE[_0x37ca("0x21c")]);s.on("update",(function(){o[_0x37ca("0x119")](g[_0x37ca("0x2b2")]())}))}_[_0x37ca("0x27b")]=!0,_[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2a8")]=l;o.addEventListener("finished",(function x(c){a.callback&&a[_0x37ca("0x1c7")](),_[_0x37ca("0x27b")]=!1,o[_0x37ca("0x2b3")]("finished",x)}))}else console[_0x37ca("0x29d")](esmap[_0x37ca("0x29e")][_0x37ca("0x2b7")])}else console[_0x37ca("0x29d")](esmap.ESInfo[_0x37ca("0x2b6")])}},{key:_0x37ca("0x2bd"),value:function(){this[_0x37ca("0x2be")](!1)}},{key:"changeColor",value:function(x){this[_0x37ca("0xa5")][_0x37ca("0xb6")]((function(a){if(a[_0x37ca("0xa9")])if(a[_0x37ca("0xa9")]instanceof Array)a[_0x37ca("0xa9")][_0x37ca("0x1f")]((function(a){var c=a[_0x37ca("0xde")]();x?(c[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x2bf"))||(c.userData.oriEmissive=c.emissive[_0x37ca("0x2c0")]()),c[_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(esmap.ESMapUtil[_0x37ca("0x2c2")](esmap[_0x37ca("0x7b")][_0x37ca("0x2c3")](x))),c[_0x37ca("0x2c4")]=1):c.userData[_0x37ca("0x1")](_0x37ca("0x2bf"))&&(c.emissive=new(THREE[_0x37ca("0x13d")])(c[_0x37ca("0x11a")][_0x37ca("0x2bf")])),a=c}));else{var c=a.material[_0x37ca("0xde")]();x?(c[_0x37ca("0x11a")].hasOwnProperty(_0x37ca("0x2bf"))||(c[_0x37ca("0x11a")][_0x37ca("0x2bf")]=c.emissive.getHex()),c[_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](esmap[_0x37ca("0x7b")].hexToRgb(x))),c[_0x37ca("0x2c4")]=1,c.userData[_0x37ca("0x2c5")]=!0):(c[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x2bf"))&&(c[_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(c.userData[_0x37ca("0x2bf")])),c[_0x37ca("0x11a")].changedColors=!1,c[_0x37ca("0x13a")]=!0),a[_0x37ca("0xa9")]=c}}))}},{key:_0x37ca("0x2c6"),value:function(){var x=this.o3d_[_0x37ca("0x11a")].movePathingTween;x&&x[_0x37ca("0x2c7")]()}},{key:_0x37ca("0x2c8"),value:function(){var x=this.o3d_[_0x37ca("0x11a")][_0x37ca("0x2c9")];x&&x[_0x37ca("0x2ca")]()}},{key:_0x37ca("0x241"),value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this;if(x&&(a[_0x37ca("0x2cb")]=0),a[_0x37ca("0xa5")]){var c=a[_0x37ca("0x14c")][_0x37ca("0x39")];this[_0x37ca("0x2cc")]&&this.movePathController.followPosition&&(p&&(c[_0x37ca("0x275")][_0x37ca("0x2cd")]=p,p=null),A&&(c[_0x37ca("0x275")].minDistance=A,A=null),c.gestureController[_0x37ca("0x273")]||(c[_0x37ca("0x272")].enableMapPan=!0),a[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2ce")]=!1),a[_0x37ca("0xa5")][_0x37ca("0x11a")].toRot=null,this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x264")]=!1,a[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")]&&(a[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")][_0x37ca("0x1bc")](),a[_0x37ca("0xa5")][_0x37ca("0x11a")].lastRotateAction=null),a[_0x37ca("0xa5")].userData[_0x37ca("0x228")]&&a[_0x37ca("0xa5")].userData[_0x37ca("0x228")][_0x37ca("0x1f")]((function(x){x[_0x37ca("0x1bc")]()})),a[_0x37ca("0xa5")].userData[_0x37ca("0x2c9")]&&(a.o3d_[_0x37ca("0x11a")][_0x37ca("0x2c9")][_0x37ca("0x1bc")](),a[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2c9")]=null),a[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x228")]=[],c[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x2cf")]()}}},{key:"fadeIn",value:function(){var x=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},a=this[_0x37ca("0xa5")],c=null==x[_0x37ca("0x1ba")]?1:x.time;a[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")]){var a=x.material;if(a instanceof Array&&(a=x[_0x37ca("0xa9")][0]),a[_0x37ca("0x11a")].faded){a.userData[_0x37ca("0x2d0")]=!1;var _=a.userData[_0x37ca("0xfd")];new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a).to({opacity:_},1e3*c)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){a[_0x37ca("0xfa")]=a[_0x37ca("0x11a")][_0x37ca("0x283")]})).start()}}}))}},{key:_0x37ca("0x295"),value:function(){var x=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},a=this[_0x37ca("0xa5")],c=x[_0x37ca("0x1ba")];a.traverse((function(x){if(x[_0x37ca("0xa9")]){var a=x.material;a instanceof Array&&(a=x[_0x37ca("0xa9")][0]),a[_0x37ca("0x11a")][_0x37ca("0x2d0")]||(a[_0x37ca("0x11a")][_0x37ca("0x2d0")]=!0,!a[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0xfd"))&&(a[_0x37ca("0x11a")][_0x37ca("0xfd")]=a[_0x37ca("0xfd")]),!a[_0x37ca("0x11a")].hasOwnProperty(_0x37ca("0x283"))&&(a[_0x37ca("0x11a")][_0x37ca("0x283")]=a[_0x37ca("0xfa")]),a[_0x37ca("0xfa")]=!0,new(esmap.TWEEN[_0x37ca("0x1bd")])(a).to({opacity:0},1e3*c)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]())}}))}},{key:_0x37ca("0x2d1"),value:function(x){var a=this,c=a.mapScene[_0x37ca("0x39")],_=new(THREE[_0x37ca("0xe2")])(0,1,0),e=_.clone(),t=a[_0x37ca("0xa5")].matrix.clone();t[_0x37ca("0x246")](new(THREE[_0x37ca("0xe2")])),e[_0x37ca("0x247")](t);e.clone()[_0x37ca("0x2d2")](_).y,_[_0x37ca("0x248")](e);a.o3d_[_0x37ca("0x11a")].rotated||(a.o3d_[_0x37ca("0x11a")][_0x37ca("0x2d3")]=!0);Math.PI;c.mapPicker[_0x37ca("0x24b")]?(a[_0x37ca("0x2d4")]=!0,this.o3d_[_0x37ca("0x11a")][_0x37ca("0x2d5")].start()):a[_0x37ca("0x2d4")]&&this.o3d_[_0x37ca("0x11a")].clock[_0x37ca("0x2d6")]()>3&&(this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x2d5")][_0x37ca("0x1bc")](),a[_0x37ca("0x2d4")]=!1)}},{key:"rotateMap",value:function(x){var a=this[_0x37ca("0x14c")][_0x37ca("0x39")];a[_0x37ca("0x182")].isStaping||a[_0x37ca("0x26c")](x)}},{key:_0x37ca("0x255"),value:function(x,a){var c=new(THREE[_0x37ca("0xe2")])(0,0,1),_=new THREE.Vector3(x.x,0,x.y),e=new(THREE[_0x37ca("0xe2")])(a.x,0,a.y).clone()[_0x37ca("0x2d7")](_)[_0x37ca("0x2d8")](),t=e[_0x37ca("0x248")](c)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")];return isNaN(t)&&(t=0),e[_0x37ca("0xde")]()[_0x37ca("0x2d2")](c).y>0?360-t:t}},{key:_0x37ca("0x2da"),value:function(x,a){var c,r,s=this,o=(c=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var a;return e.default[_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x.next){case 0:a=r.startPathIndex;case 1:if(!(a<C[_0x37ca("0x4")])){x[_0x37ca("0x29a")]=9;break}return new(THREE[_0x37ca("0xe2")])(-C[a].from.x,C[a][_0x37ca("0x2db")].offset||0,C[a][_0x37ca("0x2db")].y).y+=3,x[_0x37ca("0x29a")]=6,u(C[a],a,a==C[_0x37ca("0x4")]-1);case 6:a++,x[_0x37ca("0x29a")]=1;break;case 9:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return c.apply(this,arguments)}),l=this,u=function(x,a,c){return new(i[_0x37ca("0xe")])((function(e){var t=r[_0x37ca("0x28")];if(a==r.startPathIndex){var i=d[_0x37ca("0x181")](x.from,!0);l[_0x37ca("0xa5")][_0x37ca("0xb8")].x=i.x,l[_0x37ca("0xa5")][_0x37ca("0xb8")].z=i.z,l.o3d_[_0x37ca("0xb8")].y=(x[_0x37ca("0x2db")][_0x37ca("0x2dd")]||0)+t,r.followPosition&&(d[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]&&d.tileService[_0x37ca("0x2de")](),d.controls.target[_0x37ca("0x268")](l[_0x37ca("0xa5")][_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")]))))}var n=(x.to[_0x37ca("0x2dd")]||0)+t,o=l.o3d_[_0x37ca("0xb8")][_0x37ca("0xde")](),u=d[_0x37ca("0x181")](x.to,!0);u.y=n;var h=l[_0x37ca("0x255")](x[_0x37ca("0x2db")],x.to);if(r[_0x37ca("0x256")]){r[_0x37ca("0x2df")]||(u.y=o.y);var b=new THREE.Matrix4;if(o.x!=u.x||o.z!=u.z){b[_0x37ca("0x25b")](u,o,s[_0x37ca("0xa5")].up),b[_0x37ca("0x281")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,THREE[_0x37ca("0x249")][_0x37ca("0x26d")](r[_0x37ca("0x252")]),0)));var v=(new THREE.Quaternion)[_0x37ca("0x25d")](b);l[_0x37ca("0xa5")].userData[_0x37ca("0x25e")]&&l[_0x37ca("0xa5")].userData[_0x37ca("0x25e")].stop();var p=(new THREE.Quaternion)[_0x37ca("0x268")](l[_0x37ca("0xa5")][_0x37ca("0x232")]),A=new(THREE[_0x37ca("0x22f")]),m={value:0},C=void 0;if(C=x[_0x37ca("0x1ba")]<.2?1e3*x[_0x37ca("0x1ba")]:x[_0x37ca("0x1ba")]<.5?200:x[_0x37ca("0x1ba")]<.8?500:800,l[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x25e")]=new(esmap.TWEEN[_0x37ca("0x1bd")])(m).to({value:1},C*r[_0x37ca("0x2e0")]).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Circular.Out)[_0x37ca("0x12f")]((function(x,a){THREE[_0x37ca("0x22f")][_0x37ca("0x244")](p,v,A,m.value),l[_0x37ca("0xa5")].quaternion[_0x37ca("0x11d")](A.x,A.y,A.z,A.w)}))[_0x37ca("0x1c4")]((function(){})).start(),r[_0x37ca("0x2e1")]){var E=C/1e3*r[_0x37ca("0x2e2")];l[_0x37ca("0x2e3")]({angle:h,time:E})}}}else if(null!=x[_0x37ca("0x2e4")]&&null!=x.fromAngle)if(o.y!=u.y){var w=new(THREE[_0x37ca("0x25a")]);w[_0x37ca("0x25b")](u,o,s[_0x37ca("0xa5")].up),w.multiply((new THREE.Matrix4)[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,THREE[_0x37ca("0x249")][_0x37ca("0x26d")](0),0))),l[_0x37ca("0xa5")][_0x37ca("0x11a")].toRot=(new(THREE[_0x37ca("0x22f")])).setFromRotationMatrix(w)}else l[_0x37ca("0x26c")]({angle:x.toAngle,time:1e3*x[_0x37ca("0x1ba")]});d[_0x37ca("0x275")].target[_0x37ca("0xde")]();var T=d[_0x37ca("0x181")](x.to,!0),k=new(esmap[_0x37ca("0x1c1")].Tween)(l[_0x37ca("0xa5")].position).to({x:T.x,z:T.z,y:n},1e3*x[_0x37ca("0x1ba")])[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(x,c,e){var t=l[_0x37ca("0xa5")][_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")]));if(r.followPosition){if(f&&(f[_0x37ca("0xde")](),f=null),l.map.mode==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]){var i=l._clockMovePath[_0x37ca("0x2d6")](),n=l[_0x37ca("0x39")][_0x37ca("0x157")].tileBaseFrozen;i>=3&&n&&l[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x2cf")](),i>=4&&!n&&(l[_0x37ca("0x21b")].start(),l[_0x37ca("0x39")][_0x37ca("0x157")].disableTileBaseMap()),d[_0x37ca("0x2e6")]()}d[_0x37ca("0x275")].target[_0x37ca("0x268")](t),d[_0x37ca("0x275")][_0x37ca("0x119")]({forceTheta:d[_0x37ca("0x275")].getAzimuthalAngle(),forcePhi:d[_0x37ca("0x275")][_0x37ca("0x2e7")]()})}var s={x:l.o3d_[_0x37ca("0xb8")].x,y:l[_0x37ca("0xa5")][_0x37ca("0xb8")].z},o=d[_0x37ca("0x253")]({x:s.x,z:s.y,y:0}),u=function(x,a){for(var c=x[_0x37ca("0x2e5")],_=0,e=g[_0x37ca("0x4")]-1;e>c;e--)if(e-1>c){var t=g[e],i=g[e-1],n=t[_0x37ca("0x137")]||0,r=i.offset||0,s=d[_0x37ca("0x181")]({x:t.x,y:t.y,z:n}),o=d[_0x37ca("0x181")]({x:i.x,y:i.y,z:r});_+=s[_0x37ca("0xdf")](o)}var l=g[x.index+1],u=l[_0x37ca("0x137")]||0,f=d[_0x37ca("0x181")]({x:l.x,y:l.y,z:u});return _+a[_0x37ca("0xdf")](f)}({x:o.x,y:o.y,index:a},x[_0x37ca("0xde")]()),h=d[_0x37ca("0x234")]({x:s.x,z:s.y,y:0}),b={x:h.x,y:h.y,z:l.o3d_.position.y,index:a},v=(I-u)/I;r.onMoving&&r[_0x37ca("0x262")]({position:b,progress:v,angle:r.angle,loopDirection:y}),_||(_=setTimeout((function(){l[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x27e")]=!0,l.modelLoadManager.queueRanked=!1,l[_0x37ca("0x14f")][_0x37ca("0x280")]=!1,window[_0x37ca("0x2e8")](_),_=null}),800))}))[_0x37ca("0x1c4")]((function(){c&&r.loop&&r.complete&&r[_0x37ca("0x2e9")](l),e()}))[_0x37ca("0x1c6")]();l[_0x37ca("0xa5")].userData[_0x37ca("0x228")]&&l[_0x37ca("0xa5")].userData[_0x37ca("0x228")].push(k),l.o3d_.userData[_0x37ca("0x2c9")]=k}))};l[_0x37ca("0x241")](!1);var d=l[_0x37ca("0x14c")][_0x37ca("0x39")];if(a)(r=x)[_0x37ca("0x2ed")]=0;else{var f=null;(r={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]})[_0x37ca("0x2ea")]=!1,Object.defineProperty(r,"followPosition",{get:function(){return this[_0x37ca("0x2ea")]},set:function(x){if(l[_0x37ca("0xa5")].userData[_0x37ca("0x264")]){var a=l[_0x37ca("0xa5")][_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")]));d[_0x37ca("0x275")][_0x37ca("0x276")].copy(a),f=d[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xde")]()}x?(null==p&&(p=d[_0x37ca("0x275")][_0x37ca("0x2cd")]),null==A&&(A=d[_0x37ca("0x275")][_0x37ca("0x2eb")]),d[_0x37ca("0x275")][_0x37ca("0x2cd")]=r[_0x37ca("0x2ec")],d.controls[_0x37ca("0x2eb")]=r.minViewDistance,d[_0x37ca("0x272")][_0x37ca("0x273")]=!1):this[_0x37ca("0x2ea")]&&(p&&(d[_0x37ca("0x275")].maxDistance=p,p=null),A&&(d[_0x37ca("0x275")].minDistance=A,A=null),d[_0x37ca("0x272")].enableMapPan||(d.gestureController[_0x37ca("0x273")]=!0)),this[_0x37ca("0x2ea")]=x}}),(0,n[_0x37ca("0xe")])(r,{followPosition:!1},x)}var h=r[_0x37ca("0x2ee")],g=[];if(0!=h[_0x37ca("0x4")]){for(var b=0;b<h.length;b++){var v=h[b],m=d[_0x37ca("0x17e")]({from:d[_0x37ca("0x36")][_0x37ca("0x2ef")],to:d[_0x37ca("0x180")],coord:v});g[b]=m}if(1!=g.length){var C=[],I=0,y=l[_0x37ca("0x2cb")]%2;l[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x243")]=null,r[_0x37ca("0x2f0")]&&(null==p&&(p=d.controls[_0x37ca("0x2cd")]),null==A&&(A=d[_0x37ca("0x275")][_0x37ca("0x2eb")]),d[_0x37ca("0x275")][_0x37ca("0x2cd")]=r[_0x37ca("0x2ec")],d[_0x37ca("0x275")][_0x37ca("0x2eb")]=r[_0x37ca("0x1ee")],d[_0x37ca("0x272")][_0x37ca("0x273")]=!1),r[_0x37ca("0x2f1")]&&r[_0x37ca("0x2f1")]();for(var E=0;E<g[_0x37ca("0x4")];E++){var w=g[E];if(w.bid||(w.bid=d.id),g[E][_0x37ca("0x137")]=1*g[E].offset||0,g[E].elevation=g[E][_0x37ca("0x137")],this[_0x37ca("0x236")]&&w.bid&&w[_0x37ca("0xe6")]&&d[_0x37ca("0xf0")](w[_0x37ca("0xef")])&&this[_0x37ca("0x236")]!=w.fnum){var T=d[_0x37ca("0xf0")](w[_0x37ca("0xef")])[_0x37ca("0x2f2")](this[_0x37ca("0x236")]),k=d.getBuildingById(w[_0x37ca("0xef")]).getFloorHeight(w[_0x37ca("0xe6")]);g[E][_0x37ca("0x2dd")]+=k-T}}for(var S=0;S<g[_0x37ca("0x4")]-1;S++)if(g[S+1]){var M=d.coordMapToThree(g[S]),R=d.coordMapToThree(g[S+1]),L=M[_0x37ca("0xdf")](R);I+=L,g[S]&&C[_0x37ca("0x0")]({distance:L,fnum:g[S].fnum||1,from:g[S],fromAngle:g[S][_0x37ca("0x1")](_0x37ca("0x252"))?g[S][_0x37ca("0x252")]:null,to:g[S+1],toAngle:g[S+1][_0x37ca("0x1")](_0x37ca("0x252"))?g[S+1][_0x37ca("0x252")]:null})}if(r.speed&&(r[_0x37ca("0x1ba")]=I/(1.62*r[_0x37ca("0x2f3")])),!isNaN(r[_0x37ca("0x1ba")]))return C.forEach((function(x){x[_0x37ca("0x1ba")]=0==x[_0x37ca("0x258")]?0:x.distance/I*r.time})),l.o3d_[_0x37ca("0x11a")][_0x37ca("0x264")]=!0,r[_0x37ca("0x2f0")]&&null!=r[_0x37ca("0x2f5")]&&(d[_0x37ca("0x2f6")]=r.viewTiltAngle),l[_0x37ca("0x2cc")]=r,o().then((function(){r[_0x37ca("0x2a9")]?(r[_0x37ca("0x2ed")]=0,r[_0x37ca("0x2b8")]&&(l[_0x37ca("0x2cb")]++,r.path[_0x37ca("0x2f7")]()),l[_0x37ca("0x2da")](r,!0)):(l.o3d_[_0x37ca("0x11a")][_0x37ca("0x264")]=!1,l[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x243")]=null,l.o3d_.userData[_0x37ca("0x2ce")]=!1,d[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x2cf")](),r[_0x37ca("0x2e9")]&&r[_0x37ca("0x2e9")](),p&&(d[_0x37ca("0x275")][_0x37ca("0x2cd")]=p,p=null),A&&(d[_0x37ca("0x275")][_0x37ca("0x2eb")]=A,A=null),d[_0x37ca("0x272")].enableMapPan||(d[_0x37ca("0x272")].enableMapPan=!0))})),r;console[_0x37ca("0xca")](_0x37ca("0x2f4"))}else{var H=d[_0x37ca("0x181")](g[0],!0);if(l[_0x37ca("0xa5")].position.x=H.x,l[_0x37ca("0xa5")][_0x37ca("0xb8")].z=H.z,l[_0x37ca("0xa5")].position.y=(1*g[0][_0x37ca("0x137")]||0)+r[_0x37ca("0x28")],r[_0x37ca("0x262")]){var P={x:l[_0x37ca("0xa5")][_0x37ca("0xb8")].x,y:l[_0x37ca("0xa5")][_0x37ca("0xb8")].z},D=d[_0x37ca("0x234")]({x:P.x,z:P.y,y:0}),O={x:D.x,y:D.y,index:0};r[_0x37ca("0x262")]({position:O,progress:1,angle:0,loopDirection:0})}r[_0x37ca("0x2e9")]&&r[_0x37ca("0x2e9")]()}}}},{key:_0x37ca("0x2f8"),value:function(){var x=this;if(!this[_0x37ca("0x27b")]){var a,c=this[_0x37ca("0x2a2")];this.status?(a=c[_0x37ca("0x2f9")]((function(x){return x[_0x37ca("0xda")](_0x37ca("0x2fa"))>-1})))[_0x37ca("0x4")]>0&&this[_0x37ca("0x27c")]({name:a[0],stopLastAction:!0,callback:function(){x[_0x37ca("0x2fb")]=0}}):(a=c[_0x37ca("0x2f9")]((function(x){return x[_0x37ca("0xda")](_0x37ca("0x2fc"))>-1})))[_0x37ca("0x4")]>0&&this[_0x37ca("0x27c")]({name:a[0],stopLastAction:!0,callback:function(){x.status=1}})}}},{key:"getChildPosition",value:function(x,a){var c=this;setTimeout((function(){var _=c[_0x37ca("0xa5")].getObjectByName(x);if(_){var e=_[_0x37ca("0x23d")](new THREE.Vector3);e={x:-c[_0x37ca("0xb5")].sceneX_-e.x,y:e.z+c[_0x37ca("0xb5")].sceneZ_},a&&a(e)}else a&&a(null)}),10)}},{key:"getChildObject",value:function(x){return this[_0x37ca("0xa5")][_0x37ca("0x2fd")](x)}},{key:_0x37ca("0x2fe"),value:function(){this[_0x37ca("0x2ff")][_0x37ca("0xe0")](this)}},{key:"_lod",value:function(x){var a=this;if(!(x<0||x>2)&&x!==this[_0x37ca("0x300")]){0==x&&(x="");var c=this[_0x37ca("0x21f")]+"lod"+x+_0x37ca("0xa1"),_=this.map[_0x37ca("0x163")][_0x37ca("0x29c")][c];if(_){this[_0x37ca("0x225")][_0x37ca("0xbb")][_0x37ca("0x147")](this[_0x37ca("0x225")]);var e=_[_0x37ca("0x301")][_0x37ca("0xb5")][_0x37ca("0xde")](!0);(new(THREE[_0x37ca("0x302")])).setFromObject(e)[_0x37ca("0x303")](e[_0x37ca("0xb8")]),e.position[_0x37ca("0x26b")](-1),this[_0x37ca("0x225")]=e,this[_0x37ca("0xa5")][_0x37ca("0xe0")](e),this._lodLevel=x}else{var t=this[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xa1"),""),i=this[_0x37ca("0x21f")]+_0x37ca("0x165")+x,n=this[_0x37ca("0x4a")].replaceAll(t,i);this[_0x37ca("0x14f")][_0x37ca("0x304")][c]||this[_0x37ca("0x14f")][_0x37ca("0x305")](c,n,(function(c){a[_0x37ca("0x225")][_0x37ca("0xbb")][_0x37ca("0x147")](a[_0x37ca("0x225")]),a[_0x37ca("0x225")]=null;var _=c[_0x37ca("0xb5")].clone(!0);(new(THREE[_0x37ca("0x302")])).setFromObject(_)[_0x37ca("0x303")](_.position),_[_0x37ca("0xb8")][_0x37ca("0x26b")](-1),a.child=_,a[_0x37ca("0xa5")][_0x37ca("0xe0")](_),a[_0x37ca("0x300")]=x}))}}}},{key:_0x37ca("0x306"),value:(c=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c,_,t,n,r,s,o,l,u,d,f,h,v,p,A,m,C,I,y,E,w,T,k,S,M,R;return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(c=this,_=esmap[_0x37ca("0x34")][_0x37ca("0x35")],t=this[_0x37ca("0xa5")],n=_.coordMapToThree({x:a.x,y:a.y}),r={x:n.x,z:n.z},s={x:t[_0x37ca("0xb8")].x,z:t.position.z},o=null==a[_0x37ca("0x1ba")]?1:a.time,a[_0x37ca("0x256")]=null==a[_0x37ca("0x256")]||a[_0x37ca("0x256")],l=null==a[_0x37ca("0x307")]?0:a.raycastTime,u=a[_0x37ca("0x137")]||0,d=a[_0x37ca("0x2e9")],f=a[_0x37ca("0x308")],h=!a[_0x37ca("0x1")](_0x37ca("0x309"))||a[_0x37ca("0x309")],v=a.angle||0,p=a[_0x37ca("0x262")],A=a[_0x37ca("0x30a")]||100,m=null,C=[],I=(t[_0x37ca("0x11a")][_0x37ca("0x30b")][_0x37ca("0x30c")][_0x37ca("0x30d")].y-t[_0x37ca("0x11a")][_0x37ca("0x30b")].box3[_0x37ca("0x30e")].y)/2+u,y=function(){return new(i[_0x37ca("0xe")])((function(x){var a=void 0;if(0==l){if(C[_0x37ca("0x0")](t[_0x37ca("0xb8")][_0x37ca("0xde")]()),!(a=E[_0x37ca("0x30f")](r)))return;a.y+=I,C[_0x37ca("0x0")](a[_0x37ca("0xde")]()),x()}else var c=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(s).to(r,1e3*l)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(x,_,e){if(a=E[_0x37ca("0x30f")](x)){if(m){var t=(0,g[_0x37ca("0xbd")])({x:m.x,y:m.z},{x:a.x,y:a.z}),i=a.y-m.y>0?1:-1;Math[_0x37ca("0x310")](Math[_0x37ca("0x24e")](a.y-m.y)/t)>Math.PI/6&&(a.y=i*Math[_0x37ca("0x311")](Math.PI/6)*t+m.y)}m=a[_0x37ca("0xde")](),a.y+=I,C[_0x37ca("0x0")](a[_0x37ca("0xde")]())}else c[_0x37ca("0x1bc")]()}))[_0x37ca("0x1c4")](x)[_0x37ca("0x1c6")]()}))},this[_0x37ca("0x312")]||(this[_0x37ca("0x313")]=new(b[_0x37ca("0xe")])({depth:A,inverse:!1}),this[_0x37ca("0x313")].ignoreTarget=t),E=this[_0x37ca("0x313")],!h){x[_0x37ca("0x29a")]=27;break}return x[_0x37ca("0x29a")]=25,y();case 25:x[_0x37ca("0x29a")]=30;break;case 27:C[_0x37ca("0x0")](t[_0x37ca("0xb8")][_0x37ca("0xde")]()),n.y=t[_0x37ca("0xb8")].y,C[_0x37ca("0x0")](n[_0x37ca("0xde")]());case 30:for(w=C,T=[],k=0,S=0;S<w[_0x37ca("0x4")];S++)0==S||S==w[_0x37ca("0x4")]-1?(f&&c[_0x37ca("0x314")](w[S],65280,0),M=_.coordThreeToMap(w[S]),T.push({x:M.x,y:M.y,offset:w[S].y})):k>-1?(f&&c[_0x37ca("0x314")](w[S],65280,0),R=_[_0x37ca("0x234")](w[S]),T[_0x37ca("0x0")]({x:R.x,y:R.y,offset:w[S].y}),k=0):k++;this[_0x37ca("0x2da")]({followPosition:a[_0x37ca("0x2f0")]||!1,path:T,time:o-l,maxViewDistance:a[_0x37ca("0x2ec")]||200,minViewDistance:a[_0x37ca("0x1ee")]||10,angle:v,orientToPath:a.orientToPath,complete:d,onMoving:p});case 36:case"end":return x.stop()}}),x,this)}))),function(x){return c.apply(this,arguments)})},{key:"modelLoadManager",get:function(){var x=this[_0x37ca("0x14c")].map,a=x.getBuildingById(this[_0x37ca("0xef")]);return a||(a=x[_0x37ca("0x315")](this.bid)),a.modelLoadManager}},{key:_0x37ca("0x316"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xb8")].y}},{key:_0x37ca("0x252"),get:function(){var x=new(THREE[_0x37ca("0xe2")])(1,0,0),a=x.clone(),c=this[_0x37ca("0xa5")][_0x37ca("0x245")][_0x37ca("0xde")]();c[_0x37ca("0x246")](new(THREE[_0x37ca("0xe2")])),a[_0x37ca("0x247")](c);var _=(_=a.clone()[_0x37ca("0x2d2")](x)).y<0?-1:1,e=x.angleTo(a),t=THREE[_0x37ca("0x249")].radToDeg(e*_);return t=t>0?360-t:-t}}]),a}(d[_0x37ca("0xe")]);a[_0x37ca("0xe")]=m},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a[_0x37ca("0x317")]=void 0;var _=i(c(0)),e=i(c(1)),t=c(292);function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}a[_0x37ca("0x317")]=function(){function x(){(0,_.default)(this,x)}return(0,e.default)(x,null,[{key:_0x37ca("0x318"),value:function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=a[_0x37ca("0x154")][_0x37ca("0x319")][_0x37ca("0x31a")],_=void 0,e="";"[object Object]"===Object[_0x37ca("0x11")][_0x37ca("0x30")][_0x37ca("0x6")](x)?(_=x.code,e=function(x,a){if(a&&a[_0x37ca("0x4")])for(var c=0;c<a[_0x37ca("0x4")];c++)x=x.replace("${"+(c+1)+"}",a[c]);return x}(t.ERRORS[_],x[_0x37ca("0x31b")])):e=t[_0x37ca("0x31c")][_],e||(e=_0x37ca("0x31d"));var i=document.createElement("div");i[_0x37ca("0x24")].width=_0x37ca("0x31e"),i[_0x37ca("0x24")].height=_0x37ca("0x31e"),i[_0x37ca("0x24")].display=_0x37ca("0x31f"),i[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),i[_0x37ca("0x24")][_0x37ca("0x321")]=_0x37ca("0xe5"),i[_0x37ca("0x24")].backgroundColor=_0x37ca("0x322"),i[_0x37ca("0x24")][_0x37ca("0x13c")]="white",i[_0x37ca("0x24")].padding="20px",i[_0x37ca("0x24")].boxSizing=_0x37ca("0x323"),i[_0x37ca("0x324")]=e,i.setAttribute(_0x37ca("0x325"),"mapError"),c[_0x37ca("0x324")]="",c[_0x37ca("0x27")](i),console[_0x37ca("0xca")](_,e),a[_0x37ca("0x1da")]("error",{code:_,message:e});var n=new CustomEvent(_0x37ca("0x326"),{detail:{code:_,message:e}});window[_0x37ca("0x42")](n)}}]),x}()},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1));a[_0x37ca("0xe")]=function(x,a,c){return new n(x,a,c)};var t=c(11);function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a,c,e,t){if((0,_[_0x37ca("0xe")])(this,x),x.isElement(a))this[_0x37ca("0x328")]=a;else{if(a instanceof x)return a;this.element=document[_0x37ca("0x22")](a)}this[_0x37ca("0x329")](c),this[_0x37ca("0x24")](e),this.addEvent(t)}return(0,e.default)(x,null,[{key:"isElement",value:function(x){return!(!x||1!==x[_0x37ca("0xc8")]||void 0===x[_0x37ca("0x327")])}}]),(0,e.default)(x,[{key:_0x37ca("0x24"),value:function(x,a){var c=this;return x?typeof x===_0x37ca("0xf")&&void 0===a?this[_0x37ca("0x328")][_0x37ca("0x24")][x]:((0,t[_0x37ca("0x32a")])(x)?(0,t[_0x37ca("0x19")])(x,(function(x,a){c.element[_0x37ca("0x24")][a]=x})):this[_0x37ca("0x328")].style[x]=a,this):this}},{key:_0x37ca("0x329"),value:function(x,a){var c=this;return x?typeof x===_0x37ca("0xf")&&void 0===a?this[_0x37ca("0x328")][_0x37ca("0x19d")](x):((0,t.isObject)(x)?(0,t[_0x37ca("0x19")])(x,(function(x,a){c[_0x37ca("0x328")][_0x37ca("0x32b")](a,x)})):this[_0x37ca("0x328")][_0x37ca("0x32b")](x,a),this):this}},{key:_0x37ca("0x32c"),value:function(x,a){var c=this;if(!x)return this;function _(x){return(0,t.startWith)(x,"on")?x:"on"+x}return(0,t[_0x37ca("0x32a")])(x)?(0,t[_0x37ca("0x19")])(x,(function(x,a){c[_0x37ca("0x328")][_(a)]=x})):this[_0x37ca("0x328")][_(x)]=a,this}}]),x}()},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}Array[_0x37ca("0x11")][_0x37ca("0x32d")]||Object[_0x37ca("0x9")](Array[_0x37ca("0x11")],_0x37ca("0x32d"),{value:function(x){if(null==this)throw new TypeError(_0x37ca("0x32e"));for(var a=Object(this),c=a[_0x37ca("0x4")]>>>0,_=arguments[1],e=_>>0,t=e<0?Math[_0x37ca("0x30d")](c+e,0):Math.min(e,c),i=arguments[2],n=void 0===i?c:i>>0,r=n<0?Math[_0x37ca("0x30d")](c+n,0):Math[_0x37ca("0x30e")](n,c);t<r;)a[t]=x,t++;return a}});var i=function(){function x(a){var c=a.colorStr,e=void 0===c?_0x37ca("0xcc"):c;(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x32f")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](e),this[_0x37ca("0xa9")]=null}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x330"),value:function(x){var a=x[_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x4")];if(a>0){for(var c=x[_0x37ca("0xa7")][_0x37ca("0x19d")](_0x37ca("0xb8")),_=new Array(c[_0x37ca("0xb9")]),e=0;e<a;e++){var t=x[_0x37ca("0xa4")][_0x37ca("0x331")][e].faceRange[0],i=x.datas_[_0x37ca("0x331")][e].sideRange[0],n=x.datas_[_0x37ca("0x331")][e][_0x37ca("0xbc")][1];_[_0x37ca("0x32d")](1,t,i),_[_0x37ca("0x32d")](0,i,n)}x.geometry[_0x37ca("0x1a0")](_0x37ca("0x332"),new(THREE[_0x37ca("0x1a1")])(new Float32Array(_),1))}}},{key:_0x37ca("0x333"),value:function(x){var a=x[_0x37ca("0x334")],c=x.sideTexture;a&&a[_0x37ca("0x335")](),c&&c.updateMatrix(),this[_0x37ca("0xa9")]=new(THREE[_0x37ca("0x336")])({color:this[_0x37ca("0x32f")]}),this.material[_0x37ca("0x1aa")]="roomTextureMaterial";var _=this;return this.material[_0x37ca("0xfe")]=function(x){x[_0x37ca("0xff")][_0x37ca("0x337")]={value:0},a&&(x[_0x37ca("0xff")][_0x37ca("0x337")].value=1,x.uniforms[_0x37ca("0x338")]={value:a},x[_0x37ca("0xff")][_0x37ca("0x339")]={value:a[_0x37ca("0x245")]}),x[_0x37ca("0xff")][_0x37ca("0x33a")]={value:0},c&&(x.uniforms[_0x37ca("0x33a")][_0x37ca("0xf2")]=1,x.uniforms[_0x37ca("0x33b")]={value:c},x[_0x37ca("0xff")][_0x37ca("0x33c")]={value:c[_0x37ca("0x245")]}),x.vertexShader=x.vertexShader.replace(_0x37ca("0x33d"),_0x37ca("0x33e")),x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")]("#include <uv_vertex>",_0x37ca("0x33f")),x.fragmentShader=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x106"),_0x37ca("0x340")),x[_0x37ca("0x105")]=x.fragmentShader.replace(_0x37ca("0x341"),"   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    "),_[_0x37ca("0x342")]=x},this[_0x37ca("0xa9")]}}]),x}();a.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=i(c(0)),e=i(c(1)),t=c(11);function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x4a")]=a[_0x37ca("0x4a")];var c=this[_0x37ca("0x4a")],e=a[_0x37ca("0x34f")];this[_0x37ca("0x22a")]=a[_0x37ca("0x22a")]||(e?"POST":_0x37ca("0x350"));var i=this[_0x37ca("0x22a")],n=null==a[_0x37ca("0x34c")]||a[_0x37ca("0x34c")];this[_0x37ca("0x351")]=a.isArrayBuffer||!1,this[_0x37ca("0x346")]=!1,this[_0x37ca("0x348")],this._responseData,this[_0x37ca("0x352")],this[_0x37ca("0x343")]=new(t[_0x37ca("0x353")]),this[_0x37ca("0x345")]=new(t[_0x37ca("0x353")]),this[_0x37ca("0x349")]=new(t[_0x37ca("0x353")]),this[_0x37ca("0x354")],this[_0x37ca("0x355")](),this[_0x37ca("0x354")][_0x37ca("0x2fc")](i,c,n),this[_0x37ca("0x354")][_0x37ca("0x356")]=this._httpStateChange[_0x37ca("0x10")](this),i==_0x37ca("0x350")&&(this.isArrayBuffer||this.url[_0x37ca("0xda")](_0x37ca("0x357"))>0)&&this[_0x37ca("0x351")]&&(this[_0x37ca("0x354")].responseType="arraybuffer"),"POST"===i&&(this[_0x37ca("0x354")][_0x37ca("0x358")]("X-Requested-With",_0x37ca("0x359")),this[_0x37ca("0x354")][_0x37ca("0x358")](_0x37ca("0x35a"),_0x37ca("0x35b")),this[_0x37ca("0x354")][_0x37ca("0x358")](_0x37ca("0x35c"),"close"));try{this._httpServer[_0x37ca("0x35d")](e)}catch(x){console[_0x37ca("0x23b")](x)}}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x2e9"),value:function(x){return this[_0x37ca("0x343")][_0x37ca("0xe0")](x),this._isComplete&&this[_0x37ca("0x343")][_0x37ca("0x1da")](this[_0x37ca("0x344")],this._status),this}},{key:"success",value:function(x){return this[_0x37ca("0x345")][_0x37ca("0xe0")](x),this[_0x37ca("0x346")]&&this._status===_0x37ca("0x347")&&this[_0x37ca("0x345")].fire(this[_0x37ca("0x344")]),this}},{key:_0x37ca("0xca"),value:function(x){return this._errorCallbacks.add(x),this._isComplete&&this[_0x37ca("0x348")]===_0x37ca("0xca")&&this[_0x37ca("0x349")][_0x37ca("0x1da")](this[_0x37ca("0x344")]),this}}],[{key:_0x37ca("0x34a"),value:function(a){return new x({url:a[_0x37ca("0x4a")],isArrayBuffer:a.isArrayBuffer,async:a.async})}},{key:_0x37ca("0x34b"),value:function(a){var c=new x({url:a[_0x37ca("0x4a")],async:a[_0x37ca("0x34c")]});return c[_0x37ca("0x347")](function(x){var a;try{a=JSON[_0x37ca("0x68")](x)}catch(x){console[_0x37ca("0x23b")](x),console[_0x37ca("0xca")](_0x37ca("0x34d")+this.url),c._errorCallback()}return[a]}[_0x37ca("0x10")](c)),c}},{key:_0x37ca("0x34e"),value:function(a,c){return new x({url:a,data:c})}}]),(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x355"),value:function(){window.ActiveXObject?this._httpServer=new ActiveXObject(_0x37ca("0x35e")):window[_0x37ca("0x359")]?this._httpServer=new XMLHttpRequest:console[_0x37ca("0xca")](_0x37ca("0x35f"))}},{key:_0x37ca("0x360"),value:function(){4===this._httpServer.readyState&&(this[_0x37ca("0x346")]=!0,this[_0x37ca("0x361")]())}},{key:_0x37ca("0x362"),value:function(){this[_0x37ca("0x343")][_0x37ca("0x1da")](this[_0x37ca("0x344")],this[_0x37ca("0x348")]),this._successCallbacks.fire(this._responseData)}},{key:_0x37ca("0x361"),value:function(){200==this[_0x37ca("0x354")][_0x37ca("0x2fb")]||0==this[_0x37ca("0x354")][_0x37ca("0x2fb")]&&_0x37ca("0x363")==window[_0x37ca("0x76")].protocol?(this[_0x37ca("0x348")]=_0x37ca("0x347"),this[_0x37ca("0x22a")]==_0x37ca("0x350")&&(this[_0x37ca("0x351")]||this.url[_0x37ca("0xda")](".loc")>0)?this[_0x37ca("0x344")]=this[_0x37ca("0x354")][_0x37ca("0x364")]:this._responseData=this._httpServer.responseText,this[_0x37ca("0x362")]()):(this._status=_0x37ca("0xca"),this._responseData=this[_0x37ca("0x354")][_0x37ca("0x364")],this[_0x37ca("0x352")]=this[_0x37ca("0x354")][_0x37ca("0x2fb")],this[_0x37ca("0x365")]())}},{key:_0x37ca("0x365"),value:function(){this[_0x37ca("0x343")][_0x37ca("0x1da")](this._responseData,this._status),this[_0x37ca("0x349")][_0x37ca("0x1da")](this[_0x37ca("0x344")])}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a.off=a.on=a[_0x37ca("0x366")]=a[_0x37ca("0x367")]=a[_0x37ca("0x368")]=a[_0x37ca("0x369")]=void 0,a[_0x37ca("0x36a")]=l,a.createElOn=function(x,a,c){var _=l(x);a&&b(_,a);c&&c[_0x37ca("0x27")](_);return _},a[_0x37ca("0x36b")]=u,a[_0x37ca("0x36c")]=d,a[_0x37ca("0x36d")]=f,a[_0x37ca("0x36e")]=h,a[_0x37ca("0x36f")]=function(x){x[_0x37ca("0x36f")]?x[_0x37ca("0x36f")]():x.returnValue=!1;return this},a[_0x37ca("0x370")]=function(x){x[_0x37ca("0x370")]?x[_0x37ca("0x370")]():x[_0x37ca("0x391")]=!0;return this},a[_0x37ca("0x371")]=function(x){return x.onselectstart=function(){return!1},x[_0x37ca("0x392")]=function(){return!1},x[_0x37ca("0x32b")]("unselectable","on"),this},a[_0x37ca("0x372")]=function(x,a){if(!x)return null;t[_0x37ca("0xe")].any3d?m(x,a):(x.style[_0x37ca("0x172")]=a.x+"px",x[_0x37ca("0x24")][_0x37ca("0x173")]=a.y+"px");return a},a[_0x37ca("0x373")]=g,a[_0x37ca("0x374")]=function(x,a){x||(x=window[_0x37ca("0x38d")]);var c=a.__position;c||(c=g(a));return new Point(x.clientX/c[2]-c[0]-a[_0x37ca("0x399")],x[_0x37ca("0x39a")]/c[3]-c[1]-a[_0x37ca("0x39b")])},a[_0x37ca("0x290")]=b,a.hasClass=v,a.addClass=function(x,a){if(void 0===x.classList||v(x,a)){var c=A(x);p(x,(c?c+" ":"")+a)}else for(var _=(0,r.splitWords)(a),e=0,t=_.length;e<t;e++)x[_0x37ca("0x39c")][_0x37ca("0xe0")](_[e]);return this},a[_0x37ca("0x375")]=p,a.getClass=A,a[_0x37ca("0x376")]=function(x,a){return x[_0x37ca("0x24")][_0x37ca("0xfd")]=a,this},a[_0x37ca("0x377")]=m,a[_0x37ca("0x378")]=function(x,a){var c=_0x37ca("0x3a3")+((0,n[_0x37ca("0x1ce")])(a)?a:a[_0x37ca("0x31")]())+")";x[_0x37ca("0x24")][o]!==c&&(x[_0x37ca("0x24")][o]=c);return this},a[_0x37ca("0x379")]=function(x){x[_0x37ca("0x24")][o]&&(x[_0x37ca("0x24")][o]="");return this},a[_0x37ca("0x37a")]=function(x){return/<[a-z\][\s\S]*>/i[_0x37ca("0x3a4")](x)},a[_0x37ca("0x37b")]=function(x,a){var c=C(x);(0,n[_0x37ca("0x1ce")])(a)?c[_0x37ca("0x324")]=a:c[_0x37ca("0x27")](a);var _=new Size(c[_0x37ca("0x3a5")],c[_0x37ca("0x3a6")]);return u(c),_},a.getDomRuler=C;var _,e=c(272),t=(_=e)&&_.__esModule?_:{default:_},i=c(131),n=c(11),r=c(273);var s=i[_0x37ca("0x37c")]?function(x){return x[0]}:function(x){for(var a=document[_0x37ca("0x37d")][_0x37ca("0x24")],c=0;c<x.length;c++)if(x[c]in a)return x[c];return!1},o=a[_0x37ca("0x369")]=s(["transform","WebkitTransform",_0x37ca("0x37e"),_0x37ca("0x37f"),"msTransform"]);a[_0x37ca("0x368")]=s([_0x37ca("0x380"),_0x37ca("0x381"),_0x37ca("0x382"),_0x37ca("0x383"),"msTransformOrigin"]),a[_0x37ca("0x367")]=s([_0x37ca("0x384"),_0x37ca("0x385"),_0x37ca("0x386"),_0x37ca("0x387"),_0x37ca("0x388")]),a.CSSFILTER=s([_0x37ca("0x2f9"),"WebkitFilter","OFilter",_0x37ca("0x389"),_0x37ca("0x38a")]);function l(x,a){var c=document[_0x37ca("0x22")](x);return a&&p(c,a),c}function u(x){if(!x)return this;if(t.default.ielt9||t[_0x37ca("0xe")][_0x37ca("0x38b")]){var a=l(_0x37ca("0x38c"));a.appendChild(x),a[_0x37ca("0x324")]="",a=null}else x[_0x37ca("0x29")]&&x[_0x37ca("0x29")].removeChild(x);return this}function d(x,a,c,_){if(!(x&&x[_0x37ca("0x33")]&&a&&c))return this;for(var e=function(a){a||(a=window[_0x37ca("0x38d")]),c[_0x37ca("0x6")](_||x,a)},i=a[_0x37ca("0x2b")](" "),n=i[_0x37ca("0x4")]-1;n>=0;n--){var r=i[n];if(r)x[_0x37ca("0x1d6")+r]||(x[_0x37ca("0x1d6")+r]=[]),h(x,r,c)>=0&&f(x,r,c),x["Z__"+r].push({callback:e,src:c}),r===_0x37ca("0x38e")&&t[_0x37ca("0xe")][_0x37ca("0x38f")]&&(r=_0x37ca("0x390")),x[_0x37ca("0x33")](r,e,!1)}return this}function f(x,a,c){function _(a,c){a===_0x37ca("0x38e")&&t[_0x37ca("0xe")].gecko&&(a=_0x37ca("0x390")),x[_0x37ca("0x2b3")](a,c,!1)}if(!x||!x[_0x37ca("0x2b3")]||!a)return this;for(var e=a.split(" "),i=e[_0x37ca("0x4")]-1;i>=0;i--){var n=e[i];if(n){if(!c&&x[_0x37ca("0x1d6")+n]){for(var r=x[_0x37ca("0x1d6")+n],s=0,o=r.length;s<o;s++)_(r[s][_0x37ca("0x1c7")]);return delete x[_0x37ca("0x1d6")+n],this}var l=h(x,n,c);if(l<0)return this;_(n,x[_0x37ca("0x1d6")+n][l][_0x37ca("0x1c7")]),x[_0x37ca("0x1d6")+n].splice(l,1)}}return this}function h(x,a,c){if(!x||!x[_0x37ca("0x1d6")+a]||!c)return-1;for(var _=x[_0x37ca("0x1d6")+a],e=0,t=_.length;e<t;e++)if(_[e].src===c)return e;return-1}function g(x){var a=window[_0x37ca("0x393")](x),c=[parseInt(a[_0x37ca("0x394")]),parseInt(a[_0x37ca("0x395")])],_=x[_0x37ca("0x396")](),e=x[_0x37ca("0x397")],t=x[_0x37ca("0x28")],i=e?_[_0x37ca("0x398")]/e:1,n=t?_[_0x37ca("0x1a8")]/t:1;return x.__position=[_[_0x37ca("0x172")]+c[0],_[_0x37ca("0x173")]+c[1],i,n],x.__position}function b(x,a){var c,_,e,t=x[_0x37ca("0x24")][_0x37ca("0x25")];return _=";",(e=(c=t).length-_[_0x37ca("0x4")])>=0&&c[_0x37ca("0xda")](_,e)===e||(t+=";"),x.style.cssText=t+a,this}function v(x,a){if(void 0!==x[_0x37ca("0x39c")])return x[_0x37ca("0x39c")].contains(a);var c=A(x);return c.length>0&&new RegExp("(^|\\s)"+a+_0x37ca("0x39d")).test(c)}function p(x,a){return(0,n[_0x37ca("0x1d8")])(x[_0x37ca("0x39e")][_0x37ca("0x39f")])?x.className=a:x[_0x37ca("0x39e")].baseVal=a,this}function A(x){return(0,n[_0x37ca("0x1d8")])(x.className[_0x37ca("0x39f")])?x.className:x[_0x37ca("0x39e")][_0x37ca("0x39f")]}function m(x,a){var c=a||new Point(0,0);return x[_0x37ca("0x24")][o]=t[_0x37ca("0xe")][_0x37ca("0x3a0")]?"translate3d("+c.x+"px,"+c.y+_0x37ca("0x3a1"):_0x37ca("0x3a2")+c.x+"px,"+c.y+"px)",this}function C(x){var a=document.createElement(x);return a[_0x37ca("0x24")][_0x37ca("0x25")]=_0x37ca("0x3a7"),document[_0x37ca("0x26")][_0x37ca("0x27")](a),a}a.on=d,a[_0x37ca("0x62")]=f},function(x,a,c){"use strict";(function(x){Object[_0x37ca("0x9")](a,"__esModule",{value:!0});a.IS_NODE=Object[_0x37ca("0x11")][_0x37ca("0x30")][_0x37ca("0x6")](typeof x!==_0x37ca("0x8")?x:0)===_0x37ca("0x3a8")&&!x[_0x37ca("0x3a9")][_0x37ca("0x3aa")]})[_0x37ca("0x6")](this,c(66))},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=s(c(18)),e=s(c(4)),t=s(c(0)),i=s(c(1)),n=c(11),r=s(c(274));function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(){function x(a){if((0,t.default)(this,x),!this||!this[_0x37ca("0x3ab")])throw new Error(_0x37ca("0x3ac"));this[_0x37ca("0x3ab")](a),this[_0x37ca("0x3ad")]()}return(0,i.default)(x,[{key:_0x37ca("0x3ad"),value:function(){var x=(0,e.default)(this);return this[_0x37ca("0x3ae")](x),this}},{key:_0x37ca("0x3ab"),value:function(x){if(this[_0x37ca("0x1")]("options")||(this[_0x37ca("0x36")]=this.options?(0,_.default)(this.options):{}),!x)return this;for(var a in x)this[_0x37ca("0x36")][a]=x[a];return this}},{key:_0x37ca("0x3af"),value:function(x){if(!x){var a={};for(var c in this.options)this[_0x37ca("0x36")].hasOwnProperty(c)&&(a[c]=this[_0x37ca("0x36")][c]);return a}if(2===arguments.length){var _={};_[x]=arguments[1],x=_}for(var e in x)this.options[e]=x[e],this[e]&&this[e]instanceof r[_0x37ca("0xe")]&&(x[e]?this[e].enable():this[e][_0x37ca("0x3b0")]());return this[_0x37ca("0x3b1")](x),this}},{key:"onConfig",value:function(){}},{key:_0x37ca("0x3ae"),value:function(x){if(!this[_0x37ca("0x3b2")]){var a=(0,e[_0x37ca("0xe")])(x);a[_0x37ca("0x3ae")]&&a[_0x37ca("0x3ae")][_0x37ca("0x6")](this,a),this._initHooksCalled=!0;var c=x[_0x37ca("0x3b3")];if(c&&c!==a._initHooks)for(var _=0;_<c[_0x37ca("0x4")];_++)c[_][_0x37ca("0x6")](this)}}}],[{key:_0x37ca("0x3b4"),value:function(x){for(var a=arguments[_0x37ca("0x4")],c=Array(a>1?a-1:0),_=1;_<a;_++)c[_-1]=arguments[_];var t=typeof x===_0x37ca("0xc5")?x:function(){this[x][_0x37ca("0x3")](this,c)},i=this[_0x37ca("0x11")],n=(0,e[_0x37ca("0xe")])(i);return i[_0x37ca("0x3b3")]&&i[_0x37ca("0x3b3")]!==n[_0x37ca("0x3b3")]||(i[_0x37ca("0x3b3")]=[]),i[_0x37ca("0x3b3")][_0x37ca("0x0")](t),this}},{key:"include",value:function(){for(var x=arguments[_0x37ca("0x4")],a=Array(x),c=0;c<x;c++)a[c]=arguments[c];for(var _=0;_<a[_0x37ca("0x4")];_++)(0,n.extend)(this[_0x37ca("0x11")],a[_]);return this}},{key:_0x37ca("0x3b5"),value:function(x){var a=this.prototype,c=(0,e[_0x37ca("0xe")])(a);return a.options&&a[_0x37ca("0x36")]!==c[_0x37ca("0x36")]||(a[_0x37ca("0x36")]=a[_0x37ca("0x36")]?(0,_[_0x37ca("0xe")])(a[_0x37ca("0x36")]):{}),(0,n[_0x37ca("0x3b6")])(a[_0x37ca("0x36")],x),this}}]),x}();a.default=o},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(55)),e=i(c(0)),t=i(c(1));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function n(x){if(x){if(x[_0x37ca("0xa4")]&&x[_0x37ca("0xa4")][_0x37ca("0xa5")]&&(x.datas_[_0x37ca("0xa5")]=void 0,x.datas_=void 0),x[_0x37ca("0xa6")])for(var a=0;a<x[_0x37ca("0xa6")][_0x37ca("0x4")];a++)n(x[_0x37ca("0xa6")][a]);x.geometry&&x[_0x37ca("0xa7")][_0x37ca("0xa8")](),x[_0x37ca("0xa9")]&&(x[_0x37ca("0xa9")]instanceof Array?x[_0x37ca("0xa9")].forEach((function(x){x&&x[_0x37ca("0xa8")]()})):x[_0x37ca("0xa9")][_0x37ca("0xa8")]())}}var r=function(){function x(a,c,t,i){(0,e[_0x37ca("0xe")])(this,x),t[_0x37ca("0xa4")]=this,(0,_[_0x37ca("0xe")])(this,{nodeType:{enumerable:!0,get:function(){return a}},mapScene:{get:function(){return esmap[_0x37ca("0x34")][_0x37ca("0x35")].mapScene},set:function(x){}},o3d_:{get:function(){return t},set:function(x){t=x},configurable:!0,enumerable:!1},data_:{enumerable:!0,get:function(){return c}}})}return(0,t[_0x37ca("0xe")])(x,[{key:"x",get:function(){return this[_0x37ca("0x14c")]?-this[_0x37ca("0xa5")].position.x-this[_0x37ca("0x14c")].sceneX_:0},set:function(x){this[_0x37ca("0x14c")]?this[_0x37ca("0xa5")].position[_0x37ca("0x3b7")](-x-this[_0x37ca("0x14c")][_0x37ca("0x19a")]):(this[_0x37ca("0x3b8")]=this[_0x37ca("0x3b8")]||{},this[_0x37ca("0x3b8")].x=x)}},{key:"y",get:function(){return this[_0x37ca("0x14c")]?this[_0x37ca("0xa5")].position.z+this.mapScene[_0x37ca("0x19b")]:0},set:function(x){this[_0x37ca("0x14c")]?this[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0x3b9")](x-this.mapScene[_0x37ca("0x19b")]):(this[_0x37ca("0x3b8")]=this[_0x37ca("0x3b8")]||{},this[_0x37ca("0x3b8")].y=x)}},{key:"z",get:function(){return this[_0x37ca("0x14c")]?this[_0x37ca("0xa5")].position.y:0},set:function(x){}},{key:_0x37ca("0x3ba"),get:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")],a=new(esmap[_0x37ca("0x3bb")])(this.x,this.y,this.z),c=x[_0x37ca("0x17e")]({from:x.coordSystem,to:x[_0x37ca("0x36")].userCrs,coord:{x:a.x,y:a.y}});return c.z=this.z,c}},{key:_0x37ca("0xbb"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xbb")]?this.o3d_.parent[_0x37ca("0xa4")]:null}},{key:"visible",set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xed")]=x},get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xed")]}},{key:"floor",get:function(){if(this instanceof esmap[_0x37ca("0x3bc")])return this;var x=this[_0x37ca("0xbb")];if(x){if(x instanceof esmap[_0x37ca("0x3bc")])return x;var a=x[_0x37ca("0xbb")];if(a&&a instanceof esmap[_0x37ca("0x3bc")])return a}return null}},{key:"FloorNum",get:function(){return this[_0x37ca("0x2e")]?this[_0x37ca("0x2e")][_0x37ca("0x236")]:null}}]),(0,t.default)(x,[{key:_0x37ca("0xa8"),value:function(){if(this[_0x37ca("0xa5")]){this[_0x37ca("0xa5")][_0x37ca("0xed")]=!1,this[_0x37ca("0xa5")][_0x37ca("0x3bd")]&&this[_0x37ca("0xa5")][_0x37ca("0x3bd")]();var x=this[_0x37ca("0xa5")][_0x37ca("0xbb")],a=this[_0x37ca("0x14c")][_0x37ca("0x39")].mapPicker[_0x37ca("0x18d")];for(var c in a){var _=a[c],e=_[_0x37ca("0xda")](this[_0x37ca("0xa5")]);if(e>-1){_.splice(e,1);break}}var t=this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x3be")].indexOf(this[_0x37ca("0xa5")]);return t>-1&&this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0x3be")].splice(t,1),x?(x[_0x37ca("0x147")](this[_0x37ca("0xa5")]),n(this[_0x37ca("0xa5")]),!0):void 0}}},{key:"flash",value:function(x,a){this[_0x37ca("0xa5")][_0x37ca("0x265")]&&this[_0x37ca("0xa5")][_0x37ca("0x265")]({scale:a,time:x})}}]),x}();a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1};(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x3bf")]=a;var c=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this[_0x37ca("0x3c0")]=new(THREE[_0x37ca("0x3c1")]),this.watchingList=c[_0x37ca("0x182")][_0x37ca("0x18d")],this.testMat=new(THREE[_0x37ca("0xfc")])({color:16711680}),this.map=c,this.ignoredUuids={},this.meshList=null}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x3c2"),value:function(x,a){var c=a.clone()[_0x37ca("0x2d7")](x[_0x37ca("0xde")]())[_0x37ca("0x2d8")]();this[_0x37ca("0x3c0")].set(x,c);var _=x.distanceTo(a);this[_0x37ca("0x3c0")][_0x37ca("0x3c3")]=_;var e=[];if(!this.meshList){var t=[],i=this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0xb5")],n=this[_0x37ca("0x39")][_0x37ca("0x3c4")][_0x37ca("0x3c5")];i[_0x37ca("0xb6")]((function(x){x[_0x37ca("0x22a")]==_0x37ca("0x148")&&x[_0x37ca("0x3c5")]!=n&&t.push(x)})),this[_0x37ca("0x3c6")]=t}for(var r=0;r<this[_0x37ca("0x3c6")].length;r++){var s=this[_0x37ca("0x3c6")][r];this.ignoredUuids[s[_0x37ca("0x3c5")]]||e.push(s)}var o=this[_0x37ca("0x3c0")].intersectObjects(e,!0);return o[_0x37ca("0x4")]>0?o[0]:null}},{key:_0x37ca("0x30f"),value:function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]?arguments[1]:_0x37ca("0x1a8"),c=this[_0x37ca("0x3bf")][_0x37ca("0x3c7")]?1:-1,_=new(THREE[_0x37ca("0xe2")])(x.x,this[_0x37ca("0x3bf")].depth,x.z),e=new THREE.Vector3(x.x,-this.configs[_0x37ca("0x30a")],x.z),t=new(THREE[_0x37ca("0xe2")])(0,c,0),i=_[_0x37ca("0xdf")](e);this.ray[_0x37ca("0x11d")](this[_0x37ca("0x3bf")][_0x37ca("0x3c7")]?e:_,t),this.ray[_0x37ca("0x3c3")]=i;var n=[];if(a==_0x37ca("0x1a8"))for(var r in this.watchingList)for(var s=this[_0x37ca("0x18d")][r],o=0;o<s.length;o++)s[o][_0x37ca("0x22a")]!=_0x37ca("0x291")&&(this[_0x37ca("0x3c8")]&&s[o]==this[_0x37ca("0x3c8")]||n[_0x37ca("0x0")](s[o]));else{if(!this.meshList){var l=[],u=this.map[_0x37ca("0x154")][_0x37ca("0xb5")],d=this.map[_0x37ca("0x3c4")].uuid;u[_0x37ca("0xb6")]((function(x){"Mesh"==x[_0x37ca("0x22a")]&&x[_0x37ca("0x3c5")]!=d&&l[_0x37ca("0x0")](x)})),this.meshList=l}for(var f=0;f<this[_0x37ca("0x3c6")][_0x37ca("0x4")];f++){var h=this[_0x37ca("0x3c6")][f];this[_0x37ca("0x3c9")][h[_0x37ca("0x3c5")]]||n[_0x37ca("0x0")](h)}}var g=this.ray.intersectObjects(n,!0);if(g[_0x37ca("0x4")]>0){if(a==_0x37ca("0x1a8")){var b=g[0][_0x37ca("0x3ca")];return b}return g[0]}return null}}]),x}();a.default=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(8)),e=r(c(43)),t=r(c(0)),i=r(c(1)),n=c(30);function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(){function x(){(0,t.default)(this,x),this[_0x37ca("0xb3")]=[],this[_0x37ca("0x3cb")]=[],this[_0x37ca("0x3cc")]=null}return(0,i[_0x37ca("0xe")])(x,[{key:"getTransformMatrix",value:function(x,a,c){var _=new(THREE[_0x37ca("0x231")])(a.x,a.y,a.z,"XYZ"),e=(new THREE.Quaternion)[_0x37ca("0x230")](_),t=new(THREE[_0x37ca("0xe2")])(x.x,x.y,x.z),i=new(THREE[_0x37ca("0xe2")])(c.x,c.y,c.z);return(new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x3cd")](t,e,i)}},{key:_0x37ca("0x3ce"),value:function(x,a,c){var _=new THREE.Object3D;return _[_0x37ca("0xb8")][_0x37ca("0x3cf")](x||[0,0,0]),_.quaternion[_0x37ca("0x3cf")](a||[0,0,0,1]),_[_0x37ca("0x22e")][_0x37ca("0x3cf")](c||[1,1,1]),_.updateMatrix(),_[_0x37ca("0x245")][_0x37ca("0xde")]()}},{key:"getParentList",value:function(x){var a=this,c=[],_=new THREE.Vector3;return function x(t){if(t[_0x37ca("0xbb")]&&t[_0x37ca("0xbb")].type!=_0x37ca("0x3d0")){_.x+=t.parent[_0x37ca("0xb8")].x,_.y+=t[_0x37ca("0xbb")][_0x37ca("0xb8")].y,_.z+=t[_0x37ca("0xbb")].position.z;var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x37ca("0xe")])(a[_0x37ca("0x3cb")]);!(i=(s=o[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);i=!0){var l=s.value;if(l.name==t.parent[_0x37ca("0x1aa")]){l[_0x37ca("0x3d2")]=_,c.push(l);break}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x37ca("0x2a0")]&&o[_0x37ca("0x2a0")]()}finally{if(n)throw r}}x(t.parent)}}(x),c}},{key:_0x37ca("0x3d3"),value:function(x,a){var c=this,t=this,i=new(THREE[_0x37ca("0x14a")]);if(this[_0x37ca("0xb3")]=x[_0x37ca("0xb1")][_0x37ca("0xb2")][_0x37ca("0xb3")],this[_0x37ca("0x3cb")]=x[_0x37ca("0xb1")][_0x37ca("0xb2")][_0x37ca("0x3cb")],!this[_0x37ca("0xb3")])return!1;if(this[_0x37ca("0xb3")]instanceof Array&&0==this[_0x37ca("0xb3")][_0x37ca("0x4")])return!1;var n=!0,r=!1,s=void 0;try{for(var o,l=(0,e[_0x37ca("0xe")])(this[_0x37ca("0xb3")]);!(n=(o=l[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);n=!0){var u=o[_0x37ca("0xf2")];u.geometries=[],u[_0x37ca("0xa9")]=null}}catch(x){r=!0,s=x}finally{try{!n&&l[_0x37ca("0x2a0")]&&l[_0x37ca("0x2a0")]()}finally{if(r)throw s}}var d=x[_0x37ca("0xb5")].position[_0x37ca("0xde")]();(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](x[_0x37ca("0xb5")])[_0x37ca("0x303")](d),d[_0x37ca("0x26b")](-1);var f=[d.x,d.y,d.z];return new(_[_0x37ca("0xe")])((function(_){x[_0x37ca("0xb5")][_0x37ca("0xb6")]((function(x){if(x instanceof THREE[_0x37ca("0x148")]){var a=t[_0x37ca("0x3d5")](x),c=!0,_=!1,i=void 0;try{for(var n,r=(0,e[_0x37ca("0xe")])(t[_0x37ca("0xb3")]);!(c=(n=r[_0x37ca("0x29a")]()).done);c=!0){var s=n[_0x37ca("0xf2")];if(x.material[_0x37ca("0x1aa")]==s.name){var o=x.geometry[_0x37ca("0xde")]();o[_0x37ca("0x3d6")]=x[_0x37ca("0x1aa")],o[_0x37ca("0x11a")].pos=x[_0x37ca("0xb8")][_0x37ca("0xde")]();var l=void 0,u=!0,d=!1,h=void 0;try{for(var g,b=(0,e[_0x37ca("0xe")])(t[_0x37ca("0x3cb")]);!(u=(g=b[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);u=!0){var v=g[_0x37ca("0xf2")];v[_0x37ca("0x1aa")]==x.name?(l=t[_0x37ca("0x3ce")](v[_0x37ca("0x3d7")],v[_0x37ca("0x1a3")],v[_0x37ca("0x22e")]),o[_0x37ca("0x3d8")](l)):x.parent.name==v[_0x37ca("0x1aa")]&&v}}catch(x){d=!0,h=x}finally{try{!u&&b[_0x37ca("0x2a0")]&&b.return()}finally{if(d)throw h}}if(a.length>0)for(var p in a){var A=a[p],m=t[_0x37ca("0x3ce")](A[_0x37ca("0x3d7")],A[_0x37ca("0x1a3")],A[_0x37ca("0x22e")]);o[_0x37ca("0x3d8")](m)}var C=new(THREE[_0x37ca("0x14a")]);C[_0x37ca("0xb8")][_0x37ca("0x3cf")](f),C[_0x37ca("0x335")](),o[_0x37ca("0x3d8")](C[_0x37ca("0x245")].clone()),s[_0x37ca("0x3d9")][_0x37ca("0x0")](o),s[_0x37ca("0xa9")]=x[_0x37ca("0xa9")],s[_0x37ca("0x3da")]=x.name;break}}}catch(x){_=!0,i=x}finally{try{!c&&r[_0x37ca("0x2a0")]&&r[_0x37ca("0x2a0")]()}finally{if(_)throw i}}}}));var n=esmap.ESMap.instance,r=!0,s=!1,o=void 0;try{for(var l,u=(0,e.default)(c.materials);!(r=(l=u[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);r=!0){var d=l[_0x37ca("0xf2")];if(d.geometries[_0x37ca("0x4")]>0){d[_0x37ca("0xa9")][_0x37ca("0x39")]&&n.options[_0x37ca("0x3db")]&&c.checkGeoIsHaveUv(d[_0x37ca("0x3d9")],a[0][_0x37ca("0x219")]);var h=c.mergeGeometry(d[_0x37ca("0x3d9")],!1,x[_0x37ca("0xb1")].json[_0x37ca("0x3dc")][0][_0x37ca("0x3dd")]),g=c[_0x37ca("0x3de")](h,a),b=c[_0x37ca("0x3df")](g,!0,x[_0x37ca("0xb1")].json[_0x37ca("0x3dc")][0][_0x37ca("0x3dd")]);d[_0x37ca("0x3e0")]==_0x37ca("0x3e1")&&(d[_0x37ca("0xa9")].side=THREE.DoubleSide),d[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x3e2")]=!0;var v=d.material.clone();n[_0x37ca("0x36")][_0x37ca("0x3e3")]&&n[_0x37ca("0x36")].selectedColor.model3d?(n[_0x37ca("0x36")][_0x37ca("0x3e3")][_0x37ca("0x3e4")][_0x37ca("0x13c")]?v[_0x37ca("0x13c")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](n[_0x37ca("0x36")][_0x37ca("0x3e3")].model3d[_0x37ca("0x13c")]):v.color=n[_0x37ca("0xf5")][_0x37ca("0x3e5")][_0x37ca("0x13c")][_0x37ca("0xde")](),v[_0x37ca("0x2c1")]=v[_0x37ca("0x13c")][_0x37ca("0xde")](),v[_0x37ca("0x2c4")]=null==n.options[_0x37ca("0x3e3")][_0x37ca("0x3e4")].intensity?.3:n[_0x37ca("0x36")][_0x37ca("0x3e3")][_0x37ca("0x3e4")].intensity):(v[_0x37ca("0x2c1")]=n[_0x37ca("0xf5")][_0x37ca("0x3e5")][_0x37ca("0x13c")][_0x37ca("0xde")](),v.emissiveIntensity=.3);var p=d[_0x37ca("0xa9")][_0x37ca("0xde")]();p[_0x37ca("0xed")]=!1;var A=new(THREE[_0x37ca("0x148")])(b,[d.material,v,p]);A[_0x37ca("0x1aa")]=d[_0x37ca("0x3da")],A[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],i[_0x37ca("0xe0")](A)}else _0x37ca("0x3e6"),d[_0x37ca("0x1aa")],_0x37ca("0x3e7")}}catch(x){s=!0,o=x}finally{try{!r&&u[_0x37ca("0x2a0")]&&u.return()}finally{if(s)throw o}}_(i)}))}},{key:_0x37ca("0xc1"),value:function(x,a){var c=this,_=new(THREE[_0x37ca("0x14a")]);if(this.materials=x[_0x37ca("0xb1")].json.materials,this[_0x37ca("0x3cb")]=x.parser[_0x37ca("0xb2")][_0x37ca("0x3cb")],!this[_0x37ca("0xb3")])return!1;if(this[_0x37ca("0xb3")]instanceof Array&&0==this[_0x37ca("0xb3")][_0x37ca("0x4")])return!1;var t=!0,i=!1,n=void 0;try{for(var r,s=(0,e[_0x37ca("0xe")])(this[_0x37ca("0xb3")]);!(t=(r=s.next()).done);t=!0){var o=r[_0x37ca("0xf2")];o[_0x37ca("0x3d9")]=[],o[_0x37ca("0xa9")]=null}}catch(x){i=!0,n=x}finally{try{!t&&s[_0x37ca("0x2a0")]&&s.return()}finally{if(i)throw n}}var l=x[_0x37ca("0xb5")].position.clone();(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](x[_0x37ca("0xb5")])[_0x37ca("0x303")](l),l[_0x37ca("0x26b")](-1);var u=[l.x,l.y,l.z];x.scene[_0x37ca("0xb6")]((function(x){if(x instanceof THREE[_0x37ca("0x148")]){var a=c[_0x37ca("0x3d5")](x),_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x37ca("0xe")])(c.materials);!(_=(n=r.next())[_0x37ca("0x3d1")]);_=!0){var s=n[_0x37ca("0xf2")];if(x[_0x37ca("0xa9")][_0x37ca("0x1aa")]==s.name){var o=x.geometry[_0x37ca("0xde")]();o._meshName=x[_0x37ca("0x1aa")],o[_0x37ca("0x11a")][_0x37ca("0x3e8")]=x[_0x37ca("0xb8")][_0x37ca("0xde")]();var l=void 0,d=!0,f=!1,h=void 0;try{for(var g,b=(0,e[_0x37ca("0xe")])(c.nodes);!(d=(g=b.next())[_0x37ca("0x3d1")]);d=!0){var v=g[_0x37ca("0xf2")];v[_0x37ca("0x1aa")]==x[_0x37ca("0x1aa")]?(l=c[_0x37ca("0x3ce")](v[_0x37ca("0x3d7")],v[_0x37ca("0x1a3")],v[_0x37ca("0x22e")]),o[_0x37ca("0x3d8")](l)):x[_0x37ca("0xbb")].name==v[_0x37ca("0x1aa")]&&v}}catch(x){f=!0,h=x}finally{try{!d&&b.return&&b.return()}finally{if(f)throw h}}if(a[_0x37ca("0x4")]>0)for(var p in a){var A=a[p],m=c[_0x37ca("0x3ce")](A[_0x37ca("0x3d7")],A[_0x37ca("0x1a3")],A[_0x37ca("0x22e")]);o[_0x37ca("0x3d8")](m)}var C=new THREE.Object3D;C[_0x37ca("0xb8")][_0x37ca("0x3cf")](u),C[_0x37ca("0x335")](),o[_0x37ca("0x3d8")](C.matrix[_0x37ca("0xde")]()),s[_0x37ca("0x3d9")][_0x37ca("0x0")](o),s[_0x37ca("0xa9")]=x[_0x37ca("0xa9")],s[_0x37ca("0x3da")]=x[_0x37ca("0x1aa")];break}}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x37ca("0x2a0")]&&r[_0x37ca("0x2a0")]()}finally{if(t)throw i}}}}));var d=esmap[_0x37ca("0x34")][_0x37ca("0x35")],f=!0,h=!1,g=void 0;try{for(var b,v=(0,e.default)(this.materials);!(f=(b=v[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);f=!0){var p=b[_0x37ca("0xf2")];if(p[_0x37ca("0x3d9")][_0x37ca("0x4")]>0){p[_0x37ca("0xa9")][_0x37ca("0x39")]&&d[_0x37ca("0x36")].showModel3DErrorMsg&&this[_0x37ca("0x3e9")](p[_0x37ca("0x3d9")],a[0].model);var A=this[_0x37ca("0x3df")](p[_0x37ca("0x3d9")],!1,x[_0x37ca("0xb1")][_0x37ca("0xb2")].buffers[0].uri),m=this.mergeTranformGroup(A,a),C=this[_0x37ca("0x3df")](m,!0,x[_0x37ca("0xb1")].json[_0x37ca("0x3dc")][0].uri);"OPAQUE"==p[_0x37ca("0x3e0")]&&(p[_0x37ca("0xa9")][_0x37ca("0x10e")]=THREE[_0x37ca("0x10f")]),p[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x3e2")]=!0;var I=p.material[_0x37ca("0xde")]();d[_0x37ca("0x36")][_0x37ca("0x3e3")]&&d.options[_0x37ca("0x3e3")].model3d?(d.options.selectedColor[_0x37ca("0x3e4")].color?I[_0x37ca("0x13c")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](d[_0x37ca("0x36")][_0x37ca("0x3e3")][_0x37ca("0x3e4")][_0x37ca("0x13c")]):I[_0x37ca("0x13c")]=d[_0x37ca("0xf5")].selectModelMat[_0x37ca("0x13c")][_0x37ca("0xde")](),I[_0x37ca("0x2c1")]=I[_0x37ca("0x13c")][_0x37ca("0xde")](),I[_0x37ca("0x2c4")]=null==d[_0x37ca("0x36")][_0x37ca("0x3e3")].model3d[_0x37ca("0x3ea")]?.3:d[_0x37ca("0x36")][_0x37ca("0x3e3")][_0x37ca("0x3e4")][_0x37ca("0x3ea")]):(I.emissive=d[_0x37ca("0xf5")][_0x37ca("0x3e5")].color[_0x37ca("0xde")](),I[_0x37ca("0x2c4")]=.3);var y=p[_0x37ca("0xa9")][_0x37ca("0xde")]();y[_0x37ca("0xed")]=!1;var E=new THREE.Mesh(C,[p.material,I,y]);E[_0x37ca("0x1aa")]=p[_0x37ca("0x3da")],E[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].model3D,_[_0x37ca("0xe0")](E)}else console[_0x37ca("0x3eb")](_0x37ca("0x3e6")+p.name+_0x37ca("0x3e7"))}}catch(x){h=!0,g=x}finally{try{!f&&v.return&&v[_0x37ca("0x2a0")]()}finally{if(h)throw g}}return _}},{key:_0x37ca("0x3e9"),value:function(x,a){var c=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e.default)(x);!(_=(n=r[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);_=!0){var s=n[_0x37ca("0xf2")];s[_0x37ca("0xb7")].uv||c[_0x37ca("0x0")](s[_0x37ca("0x3d6")])}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x37ca("0x2a0")]&&r[_0x37ca("0x2a0")]()}finally{if(t)throw i}}c.length>0&&console[_0x37ca("0x29d")](a+" data error !! Erro Code: 2501; object:",c)}},{key:_0x37ca("0x3ec"),value:function(x,a){return!(Math[_0x37ca("0x24e")](x.x)>a||Math[_0x37ca("0x24e")](x.y)>a||Math[_0x37ca("0x24e")](x.z)>a)}},{key:_0x37ca("0x3de"),value:function(x,a){var c=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x37ca("0xe")])(a);!(_=(n=r[_0x37ca("0x29a")]()).done);_=!0){var s=n[_0x37ca("0xf2")];s[_0x37ca("0x1a3")]||(s[_0x37ca("0x1a3")]={x:0,y:0,z:0});var o=this[_0x37ca("0x3ed")]({x:s[_0x37ca("0xb8")].x,y:s.position.y,z:s.position.z},{x:s[_0x37ca("0x1a3")].x,y:s.rotation.y,z:s.rotation.z},{x:s[_0x37ca("0x22e")].x,y:s[_0x37ca("0x22e")].y,z:s.scale.z}),l=x.clone();l[_0x37ca("0x1aa")]=s.id,l[_0x37ca("0x3d8")](o),c[_0x37ca("0x0")](l)}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x37ca("0x2a0")]&&r.return()}finally{if(t)throw i}}return x[_0x37ca("0xa8")](),x=null,c}},{key:_0x37ca("0x3df"),value:function(x,a,c){var _=new(THREE[_0x37ca("0x3ee")]),t=[],i=[],r=[],s=[],o=[],l=[],u=0,d=[],f=!1,h=!1,g=!1,b=!1,v=0,p=!0,A=!1,m=void 0;try{for(var C,I=(0,e[_0x37ca("0xe")])(x);!(p=(C=I.next())[_0x37ca("0x3d1")]);p=!0){var y=C[_0x37ca("0xf2")],E=y[_0x37ca("0x11a")][_0x37ca("0x3e8")];E&&(0!=E.x||0!=E.y||E.z);var w=y.getAttribute("uv"),T=y.getAttribute(_0x37ca("0x3ef")),k=y[_0x37ca("0x19d")](_0x37ca("0x13c")),S=y[_0x37ca("0x2e5")]?y[_0x37ca("0x2e5")]:null;if(w&&(t[_0x37ca("0x0")](w),f=!0),T&&(s[_0x37ca("0x0")](T),h=!0),k&&(o.push(k),g=!0),S){for(var M=0;M<S[_0x37ca("0xb9")];++M)l.push(S[_0x37ca("0x3f0")](M)+v);b=!0}i[_0x37ca("0x0")](y[_0x37ca("0x19d")](_0x37ca("0xb8"))),r[_0x37ca("0x0")](y[_0x37ca("0x19d")](_0x37ca("0xf8")));var R=y[_0x37ca("0xb7")][_0x37ca("0xb8")].count,L=void 0;S&&(L=S[_0x37ca("0xb9")]),a&&d.push({id:y.name,start:u,count:S?L:R,materialIndex:0}),u+=L,v+=R}}catch(x){A=!0,m=x}finally{try{!p&&I[_0x37ca("0x2a0")]&&I[_0x37ca("0x2a0")]()}finally{if(A)throw m}}var H=new Float32Array,P=new Float32Array,D=new Float32Array,O=new Float32Array,B=new Float32Array;new Uint16Array;f&&(H=n[_0x37ca("0x19e")].mergeBufferAttributes(t)[_0x37ca("0x19f")]),h&&(P=n[_0x37ca("0x19e")][_0x37ca("0x3f1")](s)[_0x37ca("0x19f")]),g&&(B=n[_0x37ca("0x19e")][_0x37ca("0x3f1")](o).array),D=n[_0x37ca("0x19e")][_0x37ca("0x3f1")](i).array,O=n[_0x37ca("0x19e")][_0x37ca("0x3f1")](r)[_0x37ca("0x19f")],_[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(D,3)),_.addAttribute(_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])(O,3)),f&&_[_0x37ca("0x1a0")]("uv",new(THREE[_0x37ca("0x1a1")])(H,2)),h&&_.addAttribute(_0x37ca("0x3ef"),new THREE.BufferAttribute(P,2)),g&&_[_0x37ca("0x1a0")](_0x37ca("0x13c"),new(THREE[_0x37ca("0x1a1")])(B,3)),b?(_[_0x37ca("0x3f2")](l),_[_0x37ca("0x133")](0,_.index.count,0)):_[_0x37ca("0x133")](0,_[_0x37ca("0xb7")][_0x37ca("0xb8")].count,0),a&&(_.userData[_0x37ca("0x3f3")]=d);var N=!0,F=!1,z=void 0;try{for(var j,X=(0,e[_0x37ca("0xe")])(x);!(N=(j=X[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);N=!0){var Y=j[_0x37ca("0xf2")];Y[_0x37ca("0xa8")](),Y=null}}catch(x){F=!0,z=x}finally{try{!N&&X[_0x37ca("0x2a0")]&&X[_0x37ca("0x2a0")]()}finally{if(F)throw z}}return x[_0x37ca("0x4")]=0,t[_0x37ca("0x4")]=0,i[_0x37ca("0x4")]=0,r.length=0,s[_0x37ca("0x4")]=0,o[_0x37ca("0x4")]=0,l[_0x37ca("0x4")]=0,_}},{key:_0x37ca("0x3f4"),value:function(x,a,c){if(a.geometry[_0x37ca("0x11a")].groupData){if(a[_0x37ca("0xbb")][_0x37ca("0x11a")][_0x37ca("0x3f5")])return;var _=this.getFaceIndexToGroup(x,a[_0x37ca("0xa7")][_0x37ca("0x11a")][_0x37ca("0x3f3")],a[_0x37ca("0xa7")].index);_||console[_0x37ca("0x29d")](_0x37ca("0x3f6")),this[_0x37ca("0x3f7")](a,_.id,!0),this.lastSelectNode={mesh:a,id:_.id,lastSelectMatIndex:c}}}},{key:"changeModelAlphaById",value:function(x,a,c,_,t){var i=a,n=[],r=function(x){if(!x.userData[_0x37ca("0x3f8")]){var a=c;!1===c?(a=x[_0x37ca("0x11a")][_0x37ca("0xfd")],x.userData.hasOwnProperty(_0x37ca("0x283"))&&(x.transparent=x[_0x37ca("0x11a")][_0x37ca("0x283")])):(x.userData[_0x37ca("0x1")](_0x37ca("0x283"))||(x[_0x37ca("0x11a")][_0x37ca("0x283")]=x.transparent,x[_0x37ca("0x11a")].opacity=x.opacity),x.transparent=!0),x[_0x37ca("0x11a")]._settedAlpha=!0,n.push(x),x.opacity=a}};if(i&&i.children[_0x37ca("0x4")]>0){var s=!0,o=!1,l=void 0;try{for(var u,d=(0,e[_0x37ca("0xe")])(i.children);!(s=(u=d[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);s=!0){var f=u.value,h=!0,g=!1,b=void 0;try{for(var v,p=(0,e[_0x37ca("0xe")])(f[_0x37ca("0xa7")][_0x37ca("0x11a")][_0x37ca("0x3f3")]);!(h=(v=p[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);h=!0){var A=v[_0x37ca("0xf2")];if(x===A.id){var m=0;if(0!=c){var C=f[_0x37ca("0xa9")][0].clone();C.visible||(C[_0x37ca("0xed")]=!0),f.material.push(C),m=f[_0x37ca("0xa9")][_0x37ca("0x4")]-1,f.geometry[_0x37ca("0x11a")][_0x37ca("0x3f9")]||(f[_0x37ca("0xa7")].userData[_0x37ca("0x3f9")]={}),f[_0x37ca("0xa7")].userData[_0x37ca("0x3f9")][x]=m,r(C)}else{if(f[_0x37ca("0xa7")].userData[_0x37ca("0x3f9")]){var I=f[_0x37ca("0xa7")][_0x37ca("0x11a")].matRecord[x];null!=I&&f[_0x37ca("0xa9")][I]&&(f[_0x37ca("0xa9")][I].dispose(),f[_0x37ca("0xa9")][I]=null)}m=0}var y=f[_0x37ca("0xa7")].groups,E=this.splitGroup(A[_0x37ca("0x1c6")],A[_0x37ca("0x1c6")]+A[_0x37ca("0xb9")],m,y);f[_0x37ca("0xa7")][_0x37ca("0x132")]();var w=!0,T=!1,k=void 0;try{for(var S,M=(0,e[_0x37ca("0xe")])(E);!(w=(S=M[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);w=!0){var R=S[_0x37ca("0xf2")];f[_0x37ca("0xa7")][_0x37ca("0x133")](R.start,R[_0x37ca("0xb9")],R.materialIndex)}}catch(x){T=!0,k=x}finally{try{!w&&M.return&&M[_0x37ca("0x2a0")]()}finally{if(T)throw k}}break}}}catch(x){g=!0,b=x}finally{try{!h&&p[_0x37ca("0x2a0")]&&p.return()}finally{if(g)throw b}}}}catch(x){o=!0,l=x}finally{try{!s&&d.return&&d[_0x37ca("0x2a0")]()}finally{if(o)throw l}}}for(var L in n){n[L][_0x37ca("0x11a")][_0x37ca("0x3f8")]=!1}a.userData[_0x37ca("0x3fa")]=!1}},{key:_0x37ca("0x3fb"),value:function(x,a,c,_){var t=a;if(t&&t[_0x37ca("0xa6")][_0x37ca("0x4")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x37ca("0xe")])(t.children);!(i=(s=o.next()).done);i=!0){var l=s[_0x37ca("0xf2")],u=!0,d=!1,f=void 0;try{for(var h,g=(0,e[_0x37ca("0xe")])(l[_0x37ca("0xa7")].userData[_0x37ca("0x3f3")]);!(u=(h=g.next())[_0x37ca("0x3d1")]);u=!0){var b=h[_0x37ca("0xf2")];if(x===b.id){var v=0;if(c){var p=l.material[0][_0x37ca("0xde")]();p.color=new THREE.Color(esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](c)),p[_0x37ca("0x2c1")]=p[_0x37ca("0x13c")][_0x37ca("0xde")](),p[_0x37ca("0x2c4")]=_,l[_0x37ca("0xa9")][_0x37ca("0x0")](p),v=l[_0x37ca("0xa9")].length-1}else v=0,l[_0x37ca("0xa9")]=l[_0x37ca("0xa9")][_0x37ca("0x14")](0,3);var A=l[_0x37ca("0xa7")].groups,m=this[_0x37ca("0x3fc")](b.start,b[_0x37ca("0x1c6")]+b.count,v,A);l[_0x37ca("0xa7")][_0x37ca("0x132")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e.default)(m);!(C=(E=w[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);C=!0){var T=E.value;l[_0x37ca("0xa7")][_0x37ca("0x133")](T[_0x37ca("0x1c6")],T[_0x37ca("0xb9")],T[_0x37ca("0x3fd")])}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x37ca("0x2a0")]&&w.return()}finally{if(I)throw y}}break}}}catch(x){d=!0,f=x}finally{try{!u&&g[_0x37ca("0x2a0")]&&g.return()}finally{if(d)throw f}}}}catch(x){n=!0,r=x}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"unSelectLast",value:function(){this[_0x37ca("0x3cc")]&&(this[_0x37ca("0x3f7")](this[_0x37ca("0x3cc")][_0x37ca("0x3fe")],this[_0x37ca("0x3cc")].id,!1,this[_0x37ca("0x3cc")][_0x37ca("0x3ff")]),this[_0x37ca("0x3cc")]=null)}},{key:_0x37ca("0x400"),value:function(x,a){var c=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x37ca("0xe")])(a);!(c=(i=n.next())[_0x37ca("0x3d1")]);c=!0){var r=i[_0x37ca("0xf2")];if(x>=r[_0x37ca("0x1c6")]&&x<r[_0x37ca("0x1c6")]+r[_0x37ca("0xb9")])return r[_0x37ca("0x3fd")]}}catch(x){_=!0,t=x}finally{try{!c&&n[_0x37ca("0x2a0")]&&n[_0x37ca("0x2a0")]()}finally{if(_)throw t}}return 0}},{key:_0x37ca("0x401"),value:function(x,a,c){var _=!!x[_0x37ca("0xa7")][_0x37ca("0x2e5")],t=!0,i=!1,n=void 0;try{for(var r,s=(0,e[_0x37ca("0xe")])(x[_0x37ca("0xa7")][_0x37ca("0x11a")][_0x37ca("0x3f3")]);!(t=(r=s[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);t=!0){var o=r[_0x37ca("0xf2")];if(a===o.id){var l=0;l=_?x.geometry.index[_0x37ca("0xb9")]:x[_0x37ca("0xa7")].attributes.position[_0x37ca("0xb9")];var u=x[_0x37ca("0xa7")][_0x37ca("0x402")];0==u[_0x37ca("0x4")]&&(u=[{start:0,count:l,materialIndex:2}]);var d=this[_0x37ca("0x3fc")](o[_0x37ca("0x1c6")],o[_0x37ca("0x1c6")]+o.count,c?0:2,u);x[_0x37ca("0xa7")].clearGroups();var f=!0,h=!1,g=void 0;try{for(var b,v=(0,e[_0x37ca("0xe")])(d);!(f=(b=v[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);f=!0){var p=b[_0x37ca("0xf2")];x.geometry[_0x37ca("0x133")](p[_0x37ca("0x1c6")],p[_0x37ca("0xb9")],p[_0x37ca("0x3fd")])}}catch(x){h=!0,g=x}finally{try{!f&&v[_0x37ca("0x2a0")]&&v[_0x37ca("0x2a0")]()}finally{if(h)throw g}}break}}}catch(x){i=!0,n=x}finally{try{!t&&s[_0x37ca("0x2a0")]&&s[_0x37ca("0x2a0")]()}finally{if(i)throw n}}}},{key:_0x37ca("0x3f7"),value:function(x,a,c){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t=x[_0x37ca("0xbb")];if(t&&t[_0x37ca("0xa6")].length>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x37ca("0xe")])(t[_0x37ca("0xa6")]);!(i=(s=o.next())[_0x37ca("0x3d1")]);i=!0){var l=s.value,u=!!l[_0x37ca("0xa7")][_0x37ca("0x2e5")];if(!(l[_0x37ca("0x1aa")].indexOf("_hidden")>-1)){var d=!0,f=!1,h=void 0;try{for(var g,b=(0,e[_0x37ca("0xe")])(l.geometry.userData[_0x37ca("0x3f3")]);!(d=(g=b.next())[_0x37ca("0x3d1")]);d=!0){var v=g[_0x37ca("0xf2")];if(a===v.id){var p=0;p=u?l[_0x37ca("0xa7")][_0x37ca("0x2e5")][_0x37ca("0xb9")]:l[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0xb8")].count;var A=this.splitGroup(v[_0x37ca("0x1c6")],v[_0x37ca("0x1c6")]+v[_0x37ca("0xb9")],c?1:_,[{start:0,count:p,materialIndex:0}]);l[_0x37ca("0xa7")].clearGroups();var m=!0,C=!1,I=void 0;try{for(var y,E=(0,e[_0x37ca("0xe")])(A);!(m=(y=E[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);m=!0){var w=y[_0x37ca("0xf2")];l[_0x37ca("0xa7")][_0x37ca("0x133")](w[_0x37ca("0x1c6")],w.count,w[_0x37ca("0x3fd")])}}catch(x){C=!0,I=x}finally{try{!m&&E.return&&E[_0x37ca("0x2a0")]()}finally{if(C)throw I}}break}}}catch(x){f=!0,h=x}finally{try{!d&&b[_0x37ca("0x2a0")]&&b[_0x37ca("0x2a0")]()}finally{if(f)throw h}}}}}catch(x){n=!0,r=x}finally{try{!i&&o.return&&o[_0x37ca("0x2a0")]()}finally{if(n)throw r}}}}},{key:_0x37ca("0x403"),value:function(x,a){var c=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x37ca("0xe")])(a);!(c=(i=n.next())[_0x37ca("0x3d1")]);c=!0){var r=i[_0x37ca("0xf2")],s=3*x;if(s>=r[_0x37ca("0x1c6")]&&s<r[_0x37ca("0x1c6")]+r[_0x37ca("0xb9")])return r}}catch(x){_=!0,t=x}finally{try{!c&&n[_0x37ca("0x2a0")]&&n[_0x37ca("0x2a0")]()}finally{if(_)throw t}}}},{key:_0x37ca("0x404"),value:function(){this[_0x37ca("0xb3")][_0x37ca("0x4")]=0,this[_0x37ca("0x3cb")].length=0}},{key:_0x37ca("0x405"),value:function(x,a,c){if(x&&x.children[_0x37ca("0x4")]>0){var _=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x37ca("0xe")])(x.children);!(_=(n=r[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);_=!0){var s=n.value;if(!s.geometry.userData.groupData)return!1;var o=!0,l=!1,u=void 0;try{for(var d,f=(0,e[_0x37ca("0xe")])(s[_0x37ca("0xa7")].userData[_0x37ca("0x3f3")]);!(o=(d=f[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);o=!0){var h=d[_0x37ca("0xf2")],g=!0,b=!1,v=void 0;try{for(var p,A=(0,e[_0x37ca("0xe")])(a);!(g=(p=A[_0x37ca("0x29a")]()).done);g=!0){if(p[_0x37ca("0xf2")]===h.id){var m=this[_0x37ca("0x3fc")](h[_0x37ca("0x1c6")],h[_0x37ca("0x1c6")]+h[_0x37ca("0xb9")],c?0:2,s[_0x37ca("0xa7")][_0x37ca("0x402")]);s[_0x37ca("0xa7")][_0x37ca("0x132")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e[_0x37ca("0xe")])(m);!(C=(E=w[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);C=!0){var T=E[_0x37ca("0xf2")];s[_0x37ca("0xa7")][_0x37ca("0x133")](T.start,T[_0x37ca("0xb9")],T.materialIndex)}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x37ca("0x2a0")]&&w[_0x37ca("0x2a0")]()}finally{if(I)throw y}}}}}catch(x){b=!0,v=x}finally{try{!g&&A[_0x37ca("0x2a0")]&&A[_0x37ca("0x2a0")]()}finally{if(b)throw v}}}}catch(x){l=!0,u=x}finally{try{!o&&f.return&&f[_0x37ca("0x2a0")]()}finally{if(l)throw u}}}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x37ca("0x2a0")]&&r[_0x37ca("0x2a0")]()}finally{if(t)throw i}}}}},{key:_0x37ca("0x406"),value:function(x,a){if(x&&x[_0x37ca("0xa6")][_0x37ca("0x4")]>0){var c=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x37ca("0xe")])(x[_0x37ca("0xa6")]);!(c=(i=n[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);c=!0){var r=i.value;if(!r[_0x37ca("0xa7")].userData[_0x37ca("0x3f3")])return!1;var s=!0,o=!1,l=void 0;try{for(var u,d=(0,e[_0x37ca("0xe")])(r.geometry[_0x37ca("0x11a")][_0x37ca("0x3f3")]);!(s=(u=d[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);s=!0){var f=u[_0x37ca("0xf2")];if(a===f.id)for(var h=f[_0x37ca("0x1c6")],g=0;g<r.geometry[_0x37ca("0x402")][_0x37ca("0x4")];g++)if(r[_0x37ca("0xa7")][_0x37ca("0x402")][g][_0x37ca("0x1c6")]+r[_0x37ca("0xa7")].groups[g][_0x37ca("0xb9")]>h)return 0==r.geometry[_0x37ca("0x402")][g].materialIndex}}catch(x){o=!0,l=x}finally{try{!s&&d[_0x37ca("0x2a0")]&&d[_0x37ca("0x2a0")]()}finally{if(o)throw l}}}}catch(x){_=!0,t=x}finally{try{!c&&n[_0x37ca("0x2a0")]&&n.return()}finally{if(_)throw t}}}}},{key:_0x37ca("0x3fc"),value:function(x,a,c,_,e){var t=this,i=[];_.forEach((function(x){i.push({start:x[_0x37ca("0x1c6")],count:x[_0x37ca("0xb9")],materialIndex:x.materialIndex}),e&&t[_0x37ca("0x407")][_0x37ca("0x0")]({start:x[_0x37ca("0x1c6")],end:x[_0x37ca("0x1c6")]+x[_0x37ca("0xb9")],materialIndex:x[_0x37ca("0x3fd")]})}));for(var n,r=[],s=0;s<i[_0x37ca("0x4")];s++){var o=i[s],l=o.start+o[_0x37ca("0xb9")],u=x>=o[_0x37ca("0x1c6")]&&x<l,d=a<=l&&a>o.start;(u||d)&&o.materialIndex!=c?u&&d?(e&&(t[_0x37ca("0x3ff")]=o[_0x37ca("0x3fd")]),x>o.start&&r[_0x37ca("0x0")]({start:o.start,count:x-o[_0x37ca("0x1c6")],materialIndex:o[_0x37ca("0x3fd")]}),r[_0x37ca("0x0")]({start:x,count:a-x,materialIndex:c}),a<l&&r[_0x37ca("0x0")]({start:a,count:l-a,materialIndex:o[_0x37ca("0x3fd")]})):u?(e&&(t[_0x37ca("0x3ff")]=o[_0x37ca("0x3fd")]),x>o[_0x37ca("0x1c6")]&&r[_0x37ca("0x0")]({start:o[_0x37ca("0x1c6")],count:x-o.start,materialIndex:o[_0x37ca("0x3fd")]}),r.push({start:x,count:l-x,materialIndex:c})):d&&(a<l&&r[_0x37ca("0x0")]({start:a,count:l-a,materialIndex:o[_0x37ca("0x3fd")]}),r.push({start:o[_0x37ca("0x1c6")],count:a-o[_0x37ca("0x1c6")],materialIndex:c})):(x<=o.start&&o[_0x37ca("0x1c6")]+o[_0x37ca("0xb9")]<=a&&(o[_0x37ca("0x3fd")]=c),r[_0x37ca("0x0")](o))}r[_0x37ca("0x408")]((n=_0x37ca("0x1c6"),function(x,a){return x[n]-a[n]}));for(var f=0;f<r[_0x37ca("0x4")]-1;f++)r[f][_0x37ca("0x3fd")]==r[f+1][_0x37ca("0x3fd")]&&(r[f][_0x37ca("0xb9")]+=r[f+1].count,r.splice(f+1,1),f--);return r}}]),x}();a.default=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(2)),e=i(c(0)),t=i(c(1));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a,c,_){(0,e[_0x37ca("0xe")])(this,x),this[_0x37ca("0x409")]=_,this.sprite_=null,this.visible_=a,this[_0x37ca("0x40a")]=c,this.w_,this.h_,this.margin_horiz=8,this[_0x37ca("0x40b")]=15}return(0,t.default)(x,[{key:"sl",value:function(x){for(var a=x[_0x37ca("0x4")],c=0,_=0;_<a;_++)c+=x[_].charCodeAt();return parseInt(c,16)}},{key:_0x37ca("0x40c"),value:function(x,a){if(esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x163")].getState(_0x37ca("0x40d"))||(this.sprite_[_0x37ca("0xed")]=!1,this[_0x37ca("0x40e")][_0x37ca("0x11a")][_0x37ca("0xed")]=!1),null!=this[_0x37ca("0x40e")]){var c=x/2,_=a/2;this.sprite_[_0x37ca("0xb8")][_0x37ca("0x11d")](c-this.w_/2-this[_0x37ca("0x40f")],-_+this.h_/2+this[_0x37ca("0x40b")],1),this[_0x37ca("0x40e")][_0x37ca("0x11a")][_0x37ca("0xed")]?this[_0x37ca("0x40e")][_0x37ca("0xed")]=!0:this[_0x37ca("0x40e")][_0x37ca("0xed")]=!1}this[_0x37ca("0x410")]&&null==this[_0x37ca("0x40e")]&&(this[_0x37ca("0xea")](),this.sprite_[_0x37ca("0xed")]=!0)}},{key:"updateHUD2",value:function(x,a,c,_){if(null!=this[_0x37ca("0x411")]){var e=x/2,t=a/2;this.sprite_2[_0x37ca("0xb8")][_0x37ca("0x11d")](e-this.w_/2-this[_0x37ca("0x40f")]+c,-t+this.h_/2+this.margin_verti+_,1)}this.visible_&&null==this[_0x37ca("0x411")]&&(this[_0x37ca("0x412")](),this[_0x37ca("0x411")].visible=!0)}},{key:_0x37ca("0xea"),value:function(){if(null==this.sprite_){var x=document[_0x37ca("0x22")](_0x37ca("0x413"));x[_0x37ca("0x414")]=_0x37ca("0x415");var a=new(THREE[_0x37ca("0x416")])(x),c=esmap.ESMapUtil[_0x37ca("0x20e")]()[_0x37ca("0x20f")];this.w_=c?96:60,this.h_=c?25:15,a.minFilter=THREE.LinearFilter,a[_0x37ca("0x13a")]=!0,this.sprite_=new THREE.Sprite(new THREE.SpriteMaterial({map:a})),this[_0x37ca("0x40e")].userData[_0x37ca("0xed")]=20,this[_0x37ca("0x40e")].scale.set(this.w_,this.h_,1),this.sceneOrtho_.add(this.sprite_);var _=this[_0x37ca("0x409")].container,e=_[_0x37ca("0x3a5")]-_[_0x37ca("0x417")],t=_[_0x37ca("0x3a6")]+_[_0x37ca("0x418")];this[_0x37ca("0x40c")](e,t)}}},{key:_0x37ca("0x412"),value:function(){var x=1&esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x163")][_0x37ca("0x419")];if(window[_0x37ca("0x41a")]&&window[_0x37ca("0x41b")]&&x){var a=document[_0x37ca("0x22")](_0x37ca("0x413")),c=userLogoBase64[_0x37ca("0x2b")](","),e=this.sl(c[2]),t=c[0];if(1==t)if(esmap[_0x37ca("0x7b")].encode64(t+e+window[_0x37ca("0x41a")]+_0x37ca("0x41c"))!=c[1])return;a[_0x37ca("0x414")]=_0x37ca("0x41d")+c[2];var i=new(THREE[_0x37ca("0x416")])(a),n=esmap[_0x37ca("0x7b")].getPlatform()[_0x37ca("0x20f")],r={w_:this.w_,h_:this.h_,x:0,y:0};window.userLogoConfig&&(0,_[_0x37ca("0xe")])(r,window[_0x37ca("0x41e")]),window[_0x37ca("0x41e")]&&(r.w_=n?r.w_:.7*r.w_,r.h_=n?r.h_:.7*r.h_,r.x=n?r.x:.7*r.x,r.y=n?r.y:.7*r.y),i[_0x37ca("0x41f")]=THREE[_0x37ca("0x420")],i[_0x37ca("0x13a")]=!0,this[_0x37ca("0x411")]=new(THREE[_0x37ca("0x291")])(new(THREE[_0x37ca("0x28e")])({map:i})),this.sprite_2[_0x37ca("0x22e")][_0x37ca("0x11d")](r.w_,r.h_,1),this.sprite_2[_0x37ca("0x1aa")]=_0x37ca("0x421"),this[_0x37ca("0x40a")].add(this.sprite_2);var s=this[_0x37ca("0x409")][_0x37ca("0x1ed")],o=s[_0x37ca("0x3a5")],l=s[_0x37ca("0x3a6")]+20;this[_0x37ca("0x422")](n?o-180:o-120,l-25,r.x,r.y)}}},{key:_0x37ca("0xed"),set:function(x){x!=this.visible_&&(this[_0x37ca("0x410")]=x,x?(this[_0x37ca("0xea")](),this[_0x37ca("0x40e")][_0x37ca("0xed")]=!0):null!=this[_0x37ca("0x40e")]&&(this[_0x37ca("0x40e")][_0x37ca("0xed")]=!1))},get:function(){return this[_0x37ca("0x410")]}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x423")],this[_0x37ca("0x424")]}return(0,e.default)(x,[{key:_0x37ca("0x425"),value:function(x){if(this[_0x37ca("0x423")]=[],this[_0x37ca("0x424")]=[],x.indexOf("((")>=0)for(var a=x[_0x37ca("0x1ac")](2,x[_0x37ca("0x4")]-2)[_0x37ca("0x2b")](/\)\)&&\(\(/),c=0;c<a.length;c++){for(var _=a[c].split(/,/),e=[],t={},i=0;i<_[_0x37ca("0x4")];i++){var n=_[i][_0x37ca("0x2b")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e[_0x37ca("0x0")](r)}this[_0x37ca("0x423")][_0x37ca("0x0")](e)}return this}},{key:_0x37ca("0x68"),value:function(x){if(this[_0x37ca("0x423")]=[],this[_0x37ca("0x424")]=[],x[_0x37ca("0xda")]("((")>=0)for(var a=x.substring(2,x[_0x37ca("0x4")]-2)[_0x37ca("0x2b")](/\),\(/),c=0;c<a[_0x37ca("0x4")];c++){for(var _=a[c][_0x37ca("0x2b")](/,/),e=[],t={},i=0;i<_.length;i++){var n=_[i][_0x37ca("0x2b")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e.push(r)}0==c?this[_0x37ca("0x423")][_0x37ca("0x0")](e):this[_0x37ca("0x424")][_0x37ca("0x0")](e)}return this}},{key:_0x37ca("0x426"),value:function(x,a,c){if(this[_0x37ca("0x423")]=[],this[_0x37ca("0x424")]=[],x[_0x37ca("0xda")]("MULTIPOLYGON(((")>=0)for(var _=x[_0x37ca("0x1ac")](n[_0x37ca("0x427")],x.length-3)[_0x37ca("0x2b")](/\),\(/),e=0;e<_[_0x37ca("0x4")];e++){var t=_[e][_0x37ca("0x2b")](/,/);if(0==e)for(var i=0;i<t.length;i++){var r=t[i][_0x37ca("0x2b")](" "),s={x:-parseFloat(r[0])-a,y:parseFloat(r[1])+c};this[_0x37ca("0x423")].push(s)}else{var o=[];for(i=0;i<t[_0x37ca("0x4")];i++){r=t[i][_0x37ca("0x2b")](" "),s={x:-parseFloat(r[0])-a,y:parseFloat(r[1])+c};o.push(s)}this[_0x37ca("0x424")][_0x37ca("0x0")](o)}}else if(x[_0x37ca("0xda")](_0x37ca("0x428"))>=0)for(_=x[_0x37ca("0x1ac")](n[_0x37ca("0x429")],x[_0x37ca("0x4")]-3)[_0x37ca("0x2b")](/\),\(/),e=0;e<_.length;e++){t=_[e][_0x37ca("0x2b")](/,/);if(0==e)for(i=0;i<t.length;i++){r=t[i].split(" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};this[_0x37ca("0x423")].push(s)}else{for(o=[],i=0;i<t.length;i++){r=t[i].split(" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};o[_0x37ca("0x0")](s)}this.holes_.push(o)}}return this}},{key:_0x37ca("0x42a"),value:function(){return null!=this[_0x37ca("0x424")]&&this[_0x37ca("0x424")].length>0}}]),x}(),n=function x(){(0,_[_0x37ca("0xe")])(this,x)};n.GLEN1=_0x37ca("0x42b").length,n[_0x37ca("0x429")]=_0x37ca("0x428")[_0x37ca("0x4")],n.GData=i,a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";var _=t(c(10)),e=t(c(16));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i,n=c(65),r=n.Reader,s=n[_0x37ca("0x42c")],o=n.util,l=n[_0x37ca("0x42d")][_0x37ca("0xe")]||(n.roots[_0x37ca("0xe")]={});l.ESMap=((i={}).ESMapSet=function(){function x(x){if(this.floors=[],this[_0x37ca("0x42e")]=[],this.panos=[],x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x95")]=0,x[_0x37ca("0x11")][_0x37ca("0x42f")]=0,x.prototype[_0x37ca("0x430")]="",x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")].Type=0,x[_0x37ca("0x11")][_0x37ca("0x1aa")]="",x.prototype[_0x37ca("0x431")]="",x[_0x37ca("0x11")][_0x37ca("0x432")]="",x[_0x37ca("0x11")][_0x37ca("0x433")]="",x[_0x37ca("0x11")][_0x37ca("0x434")]="",x.prototype.AS=0,x[_0x37ca("0x11")][_0x37ca("0x435")]=0,x.prototype[_0x37ca("0x436")]="",x[_0x37ca("0x11")][_0x37ca("0x437")]=0,x.prototype[_0x37ca("0x438")]=0,x[_0x37ca("0x11")][_0x37ca("0x439")]=0,x[_0x37ca("0x11")][_0x37ca("0x43a")]=0,x[_0x37ca("0x11")][_0x37ca("0x43b")]=0,x.prototype[_0x37ca("0x43c")]=0,x[_0x37ca("0x11")][_0x37ca("0x43d")]=0,x[_0x37ca("0x11")].DefaultCenZ=0,x[_0x37ca("0x11")].x=0,x[_0x37ca("0x11")].y=0,x[_0x37ca("0x11")].z=0,x[_0x37ca("0x11")][_0x37ca("0x43e")]=0,x[_0x37ca("0x11")][_0x37ca("0x43f")]=0,x[_0x37ca("0x11")].maxX=0,x[_0x37ca("0x11")][_0x37ca("0x440")]=0,x[_0x37ca("0x11")][_0x37ca("0x441")]="",x.prototype[_0x37ca("0x442")]="",x.prototype[_0x37ca("0x443")]="",x[_0x37ca("0x11")][_0x37ca("0x444")]=0,x[_0x37ca("0x11")][_0x37ca("0x445")]=o[_0x37ca("0x446")],x.prototype.navs=o[_0x37ca("0x446")],x[_0x37ca("0x11")][_0x37ca("0x447")]=o[_0x37ca("0x446")],x[_0x37ca("0x11")][_0x37ca("0x448")]="",x[_0x37ca("0x11")][_0x37ca("0x79")]="",x.prototype[_0x37ca("0xef")]="",x[_0x37ca("0x11")][_0x37ca("0x449")]="",x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x[_0x37ca("0x11")].o1=0,x[_0x37ca("0x11")][_0x37ca("0x44b")]="",x[_0x37ca("0x11")].o2=0,x[_0x37ca("0x11")].ul=0,x[_0x37ca("0x11")].t1="",x.create=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){if(a||(a=s.create()),null!=x[_0x37ca("0x95")]&&x[_0x37ca("0x1")](_0x37ca("0x95"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x95")]),null!=x[_0x37ca("0x42f")]&&x.hasOwnProperty("maptime")&&a[_0x37ca("0x44d")](16).int32(x[_0x37ca("0x42f")]),null!=x.Hash&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&a.uint32(26)[_0x37ca("0xf")](x[_0x37ca("0x430")]),null!=x._id&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](32).int32(x._id),null!=x[_0x37ca("0x44f")]&&x.hasOwnProperty(_0x37ca("0x44f"))&&a[_0x37ca("0x44d")](40)[_0x37ca("0x44e")](x[_0x37ca("0x44f")]),null!=x[_0x37ca("0x1aa")]&&x.hasOwnProperty(_0x37ca("0x1aa"))&&a[_0x37ca("0x44d")](50)[_0x37ca("0xf")](x[_0x37ca("0x1aa")]),null!=x.nameEn&&x[_0x37ca("0x1")](_0x37ca("0x431"))&&a[_0x37ca("0x44d")](58)[_0x37ca("0xf")](x[_0x37ca("0x431")]),null!=x[_0x37ca("0x432")]&&x.hasOwnProperty(_0x37ca("0x432"))&&a.uint32(66).string(x[_0x37ca("0x432")]),null!=x.adcode&&x[_0x37ca("0x1")]("adcode")&&a.uint32(74).string(x[_0x37ca("0x433")]),null!=x[_0x37ca("0x434")]&&x.hasOwnProperty(_0x37ca("0x434"))&&a[_0x37ca("0x44d")](82).string(x.address),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&a[_0x37ca("0x44d")](89).double(x.AS),null!=x[_0x37ca("0x435")]&&x[_0x37ca("0x1")]("BuildingHigh")&&a[_0x37ca("0x44d")](101)[_0x37ca("0x450")](x[_0x37ca("0x435")]),null!=x[_0x37ca("0x436")]&&x[_0x37ca("0x1")](_0x37ca("0x436"))&&a[_0x37ca("0x44d")](106).string(x.Tel),null!=x[_0x37ca("0x437")]&&x[_0x37ca("0x1")](_0x37ca("0x437"))&&a[_0x37ca("0x44d")](113)[_0x37ca("0x451")](x.FirstRotateAngleX),null!=x[_0x37ca("0x438")]&&x[_0x37ca("0x1")]("FirstRotateAngleY")&&a[_0x37ca("0x44d")](121)[_0x37ca("0x451")](x.FirstRotateAngleY),null!=x[_0x37ca("0x439")]&&x[_0x37ca("0x1")](_0x37ca("0x439"))&&a[_0x37ca("0x44d")](129).double(x[_0x37ca("0x439")]),null!=x[_0x37ca("0x43a")]&&x[_0x37ca("0x1")](_0x37ca("0x43a"))&&a.uint32(137)[_0x37ca("0x451")](x[_0x37ca("0x43a")]),null!=x.DefaultFnum&&x[_0x37ca("0x1")](_0x37ca("0x43b"))&&a[_0x37ca("0x44d")](144)[_0x37ca("0x44e")](x[_0x37ca("0x43b")]),null!=x.DefaultCenX&&x.hasOwnProperty(_0x37ca("0x43c"))&&a[_0x37ca("0x44d")](153)[_0x37ca("0x451")](x.DefaultCenX),null!=x[_0x37ca("0x43d")]&&x[_0x37ca("0x1")](_0x37ca("0x43d"))&&a[_0x37ca("0x44d")](161)[_0x37ca("0x451")](x[_0x37ca("0x43d")]),null!=x[_0x37ca("0x452")]&&x[_0x37ca("0x1")]("DefaultCenZ")&&a.uint32(169)[_0x37ca("0x451")](x[_0x37ca("0x452")]),null!=x.x&&x[_0x37ca("0x1")]("x")&&a[_0x37ca("0x44d")](177)[_0x37ca("0x451")](x.x),null!=x.y&&x.hasOwnProperty("y")&&a.uint32(185)[_0x37ca("0x451")](x.y),null!=x.z&&x[_0x37ca("0x1")]("z")&&a[_0x37ca("0x44d")](193)[_0x37ca("0x451")](x.z),null!=x[_0x37ca("0x43e")]&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&a[_0x37ca("0x44d")](201).double(x[_0x37ca("0x43e")]),null!=x.minY&&x[_0x37ca("0x1")](_0x37ca("0x43f"))&&a[_0x37ca("0x44d")](209)[_0x37ca("0x451")](x[_0x37ca("0x43f")]),null!=x[_0x37ca("0x453")]&&x[_0x37ca("0x1")]("maxX")&&a[_0x37ca("0x44d")](217).double(x[_0x37ca("0x453")]),null!=x[_0x37ca("0x440")]&&x.hasOwnProperty("maxY")&&a[_0x37ca("0x44d")](225).double(x[_0x37ca("0x440")]),null!=x[_0x37ca("0x441")]&&x[_0x37ca("0x1")](_0x37ca("0x441"))&&a.uint32(234)[_0x37ca("0xf")](x.ScaleLevel),null!=x[_0x37ca("0x442")]&&x[_0x37ca("0x1")](_0x37ca("0x442"))&&a[_0x37ca("0x44d")](242)[_0x37ca("0xf")](x[_0x37ca("0x442")]),null!=x[_0x37ca("0x443")]&&x[_0x37ca("0x1")]("FloorBarName")&&a[_0x37ca("0x44d")](250)[_0x37ca("0xf")](x[_0x37ca("0x443")]),null!=x[_0x37ca("0x444")]&&x[_0x37ca("0x1")](_0x37ca("0x444"))&&a[_0x37ca("0x44d")](256)[_0x37ca("0x44e")](x[_0x37ca("0x444")]),null!=x[_0x37ca("0x445")]&&x[_0x37ca("0x445")][_0x37ca("0x4")])for(var c=0;c<x[_0x37ca("0x445")][_0x37ca("0x4")];++c)l.ESMap[_0x37ca("0x454")][_0x37ca("0x44c")](x.floors[c],a[_0x37ca("0x44d")](266)[_0x37ca("0x455")]()).ldelim();if(null!=x.navs&&x[_0x37ca("0x42e")][_0x37ca("0x4")])for(c=0;c<x[_0x37ca("0x42e")].length;++c)l[_0x37ca("0x34")][_0x37ca("0x456")][_0x37ca("0x44c")](x[_0x37ca("0x42e")][c],a.uint32(274)[_0x37ca("0x455")]())[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x447")]&&x.panos[_0x37ca("0x4")])for(c=0;c<x[_0x37ca("0x447")][_0x37ca("0x4")];++c)l.ESMap.PicSet[_0x37ca("0x44c")](x.panos[c],a.uint32(282).fork())[_0x37ca("0x457")]();return null!=x[_0x37ca("0x448")]&&x[_0x37ca("0x1")](_0x37ca("0x448"))&&a[_0x37ca("0x44d")](290)[_0x37ca("0xf")](x[_0x37ca("0x448")]),null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&a.uint32(298).string(x[_0x37ca("0x79")]),null!=x[_0x37ca("0xef")]&&x[_0x37ca("0x1")]("bid")&&a[_0x37ca("0x44d")](306)[_0x37ca("0xf")](x.bid),null!=x[_0x37ca("0x449")]&&x[_0x37ca("0x1")](_0x37ca("0x449"))&&a[_0x37ca("0x44d")](314)[_0x37ca("0xf")](x[_0x37ca("0x449")]),null!=x.other1&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](322).string(x[_0x37ca("0x44a")]),null!=x.o1&&x.hasOwnProperty("o1")&&a.uint32(328)[_0x37ca("0x44e")](x.o1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&a[_0x37ca("0x44d")](338)[_0x37ca("0xf")](x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&a.uint32(344)[_0x37ca("0x44e")](x.o2),null!=x.ul&&x.hasOwnProperty("ul")&&a[_0x37ca("0x44d")](352)[_0x37ca("0x44e")](x.ul),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&a[_0x37ca("0x44d")](362).string(x.t1),a},x[_0x37ca("0x458")]=function(x,a){return this.encode(x,a).ldelim()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x.len:x[_0x37ca("0x3e8")]+a,_=new(l[_0x37ca("0x34")].ESMapSet);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x95")]=x.int32();break;case 2:_.maptime=x[_0x37ca("0x44e")]();break;case 3:_.Hash=x[_0x37ca("0xf")]();break;case 4:_._id=x[_0x37ca("0x44e")]();break;case 5:_[_0x37ca("0x44f")]=x[_0x37ca("0x44e")]();break;case 6:_[_0x37ca("0x1aa")]=x[_0x37ca("0xf")]();break;case 7:_[_0x37ca("0x431")]=x[_0x37ca("0xf")]();break;case 8:_[_0x37ca("0x432")]=x.string();break;case 9:_[_0x37ca("0x433")]=x[_0x37ca("0xf")]();break;case 10:_[_0x37ca("0x434")]=x[_0x37ca("0xf")]();break;case 11:_.AS=x[_0x37ca("0x451")]();break;case 12:_.BuildingHigh=x[_0x37ca("0x450")]();break;case 13:_[_0x37ca("0x436")]=x[_0x37ca("0xf")]();break;case 14:_[_0x37ca("0x437")]=x[_0x37ca("0x451")]();break;case 15:_.FirstRotateAngleY=x.double();break;case 16:_.FirstRotateAngleZ=x[_0x37ca("0x451")]();break;case 17:_[_0x37ca("0x43a")]=x[_0x37ca("0x451")]();break;case 18:_[_0x37ca("0x43b")]=x[_0x37ca("0x44e")]();break;case 19:_[_0x37ca("0x43c")]=x.double();break;case 20:_[_0x37ca("0x43d")]=x.double();break;case 21:_[_0x37ca("0x452")]=x[_0x37ca("0x451")]();break;case 22:_.x=x[_0x37ca("0x451")]();break;case 23:_.y=x[_0x37ca("0x451")]();break;case 24:_.z=x[_0x37ca("0x451")]();break;case 25:_[_0x37ca("0x43e")]=x.double();break;case 26:_[_0x37ca("0x43f")]=x[_0x37ca("0x451")]();break;case 27:_.maxX=x[_0x37ca("0x451")]();break;case 28:_[_0x37ca("0x440")]=x[_0x37ca("0x451")]();break;case 29:_.ScaleLevel=x[_0x37ca("0xf")]();break;case 30:_[_0x37ca("0x442")]=x[_0x37ca("0xf")]();break;case 31:_[_0x37ca("0x443")]=x[_0x37ca("0xf")]();break;case 32:_[_0x37ca("0x444")]=x[_0x37ca("0x44e")]();break;case 33:_[_0x37ca("0x445")]&&_.floors[_0x37ca("0x4")]||(_[_0x37ca("0x445")]=[]),_[_0x37ca("0x445")].push(l.ESMap[_0x37ca("0x454")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]()));break;case 34:_[_0x37ca("0x42e")]&&_.navs[_0x37ca("0x4")]||(_.navs=[]),_[_0x37ca("0x42e")][_0x37ca("0x0")](l[_0x37ca("0x34")].NavSet[_0x37ca("0x7c")](x,x.uint32()));break;case 35:_[_0x37ca("0x447")]&&_.panos[_0x37ca("0x4")]||(_[_0x37ca("0x447")]=[]),_[_0x37ca("0x447")][_0x37ca("0x0")](l[_0x37ca("0x34")][_0x37ca("0x459")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]()));break;case 36:_[_0x37ca("0x448")]=x[_0x37ca("0xf")]();break;case 37:_.token=x[_0x37ca("0xf")]();break;case 38:_[_0x37ca("0xef")]=x[_0x37ca("0xf")]();break;case 39:_[_0x37ca("0x449")]=x.string();break;case 40:_[_0x37ca("0x44a")]=x[_0x37ca("0xf")]();break;case 41:_.o1=x[_0x37ca("0x44e")]();break;case 42:_[_0x37ca("0x44b")]=x[_0x37ca("0xf")]();break;case 43:_.o2=x[_0x37ca("0x44e")]();break;case 44:_.ul=x.int32();break;case 45:_.t1=x[_0x37ca("0xf")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){if("object"!==(typeof x===_0x37ca("0x8")?"undefined":(0,_[_0x37ca("0xe")])(x))||null===x)return _0x37ca("0x45d");if(null!=x.version&&x[_0x37ca("0x1")](_0x37ca("0x95"))&&!o.isInteger(x[_0x37ca("0x95")]))return"version: integer expected";if(null!=x.maptime&&x[_0x37ca("0x1")](_0x37ca("0x42f"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x42f")]))return"maptime: integer expected";if(null!=x[_0x37ca("0x430")]&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&!o[_0x37ca("0x1ce")](x.Hash))return"Hash: string expected";if(null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")]))return"_id: integer expected";if(null!=x[_0x37ca("0x44f")]&&x[_0x37ca("0x1")](_0x37ca("0x44f"))&&!o.isInteger(x[_0x37ca("0x44f")]))return _0x37ca("0x45f");if(null!=x.name&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&!o[_0x37ca("0x1ce")](x.name))return _0x37ca("0x460");if(null!=x[_0x37ca("0x431")]&&x.hasOwnProperty(_0x37ca("0x431"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x431")]))return _0x37ca("0x461");if(null!=x.Brief&&x[_0x37ca("0x1")]("Brief")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x432")]))return _0x37ca("0x462");if(null!=x[_0x37ca("0x433")]&&x[_0x37ca("0x1")](_0x37ca("0x433"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x433")]))return _0x37ca("0x463");if(null!=x.address&&x[_0x37ca("0x1")]("address")&&!o.isString(x[_0x37ca("0x434")]))return _0x37ca("0x464");if(null!=x.AS&&x[_0x37ca("0x1")]("AS")&&typeof x.AS!==_0x37ca("0x143"))return"AS: number expected";if(null!=x[_0x37ca("0x435")]&&x.hasOwnProperty("BuildingHigh")&&typeof x[_0x37ca("0x435")]!==_0x37ca("0x143"))return"BuildingHigh: number expected";if(null!=x[_0x37ca("0x436")]&&x.hasOwnProperty("Tel")&&!o.isString(x[_0x37ca("0x436")]))return"Tel: string expected";if(null!=x[_0x37ca("0x437")]&&x.hasOwnProperty("FirstRotateAngleX")&&"number"!=typeof x[_0x37ca("0x437")])return _0x37ca("0x465");if(null!=x[_0x37ca("0x438")]&&x[_0x37ca("0x1")](_0x37ca("0x438"))&&typeof x.FirstRotateAngleY!==_0x37ca("0x143"))return _0x37ca("0x466");if(null!=x[_0x37ca("0x439")]&&x.hasOwnProperty(_0x37ca("0x439"))&&typeof x.FirstRotateAngleZ!==_0x37ca("0x143"))return _0x37ca("0x467");if(null!=x[_0x37ca("0x43a")]&&x[_0x37ca("0x1")]("Firstscale")&&"number"!=typeof x[_0x37ca("0x43a")])return"Firstscale: number expected";if(null!=x[_0x37ca("0x43b")]&&x[_0x37ca("0x1")](_0x37ca("0x43b"))&&!o.isInteger(x[_0x37ca("0x43b")]))return _0x37ca("0x468");if(null!=x[_0x37ca("0x43c")]&&x.hasOwnProperty(_0x37ca("0x43c"))&&typeof x.DefaultCenX!==_0x37ca("0x143"))return _0x37ca("0x469");if(null!=x[_0x37ca("0x43d")]&&x[_0x37ca("0x1")]("DefaultCenY")&&typeof x[_0x37ca("0x43d")]!==_0x37ca("0x143"))return _0x37ca("0x46a");if(null!=x.DefaultCenZ&&x[_0x37ca("0x1")]("DefaultCenZ")&&typeof x[_0x37ca("0x452")]!==_0x37ca("0x143"))return"DefaultCenZ: number expected";if(null!=x.x&&x[_0x37ca("0x1")]("x")&&typeof x.x!==_0x37ca("0x143"))return _0x37ca("0x46b");if(null!=x.y&&x[_0x37ca("0x1")]("y")&&typeof x.y!==_0x37ca("0x143"))return _0x37ca("0x46c");if(null!=x.z&&x[_0x37ca("0x1")]("z")&&typeof x.z!==_0x37ca("0x143"))return _0x37ca("0x46d");if(null!=x[_0x37ca("0x43e")]&&x.hasOwnProperty(_0x37ca("0x43e"))&&typeof x[_0x37ca("0x43e")]!==_0x37ca("0x143"))return"minX: number expected";if(null!=x[_0x37ca("0x43f")]&&x[_0x37ca("0x1")](_0x37ca("0x43f"))&&"number"!=typeof x.minY)return _0x37ca("0x46e");if(null!=x.maxX&&x[_0x37ca("0x1")](_0x37ca("0x453"))&&"number"!=typeof x[_0x37ca("0x453")])return _0x37ca("0x46f");if(null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")](_0x37ca("0x440"))&&"number"!=typeof x[_0x37ca("0x440")])return _0x37ca("0x470");if(null!=x[_0x37ca("0x441")]&&x[_0x37ca("0x1")](_0x37ca("0x441"))&&!o.isString(x.ScaleLevel))return _0x37ca("0x471");if(null!=x[_0x37ca("0x442")]&&x[_0x37ca("0x1")](_0x37ca("0x442"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x442")]))return _0x37ca("0x472");if(null!=x[_0x37ca("0x443")]&&x[_0x37ca("0x1")](_0x37ca("0x443"))&&!o.isString(x[_0x37ca("0x443")]))return"FloorBarName: string expected";if(null!=x.FloorHigh&&x.hasOwnProperty(_0x37ca("0x444"))&&!o.isInteger(x.FloorHigh))return _0x37ca("0x473");if(null!=x[_0x37ca("0x445")]&&x[_0x37ca("0x1")](_0x37ca("0x445"))){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x445")]))return _0x37ca("0x475");for(var a=0;a<x[_0x37ca("0x445")][_0x37ca("0x4")];++a)if(c=l[_0x37ca("0x34")][_0x37ca("0x454")][_0x37ca("0x45c")](x[_0x37ca("0x445")][a]))return _0x37ca("0x476")+c}if(null!=x[_0x37ca("0x42e")]&&x.hasOwnProperty(_0x37ca("0x42e"))){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x42e")]))return"navs: array expected";for(a=0;a<x[_0x37ca("0x42e")][_0x37ca("0x4")];++a)if(c=l[_0x37ca("0x34")].NavSet[_0x37ca("0x45c")](x.navs[a]))return _0x37ca("0x477")+c}if(null!=x[_0x37ca("0x447")]&&x[_0x37ca("0x1")](_0x37ca("0x447"))){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x447")]))return _0x37ca("0x478");for(a=0;a<x[_0x37ca("0x447")].length;++a){var c;if(c=l.ESMap[_0x37ca("0x459")][_0x37ca("0x45c")](x[_0x37ca("0x447")][a]))return _0x37ca("0x479")+c}}return null!=x[_0x37ca("0x448")]&&x[_0x37ca("0x1")](_0x37ca("0x448"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x448")])?_0x37ca("0x47a"):null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x79")])?_0x37ca("0x47b"):null!=x[_0x37ca("0xef")]&&x[_0x37ca("0x1")]("bid")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0xef")])?"bid: string expected":null!=x[_0x37ca("0x449")]&&x[_0x37ca("0x1")](_0x37ca("0x449"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x449")])?_0x37ca("0x47c"):null!=x.other1&&x.hasOwnProperty(_0x37ca("0x44a"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null!=x.o1&&x[_0x37ca("0x1")]("o1")&&!o[_0x37ca("0x45e")](x.o1)?_0x37ca("0x47e"):null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")]("other2")&&!o.isString(x[_0x37ca("0x44b")])?"other2: string expected":null!=x.o2&&x[_0x37ca("0x1")]("o2")&&!o[_0x37ca("0x45e")](x.o2)?"o2: integer expected":null!=x.ul&&x[_0x37ca("0x1")]("ul")&&!o.isInteger(x.ul)?"ul: integer expected":null!=x.t1&&x.hasOwnProperty("t1")&&!o[_0x37ca("0x1ce")](x.t1)?_0x37ca("0x47f"):null},x.fromObject=function(x){if(x instanceof l[_0x37ca("0x34")][_0x37ca("0x480")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x480")]);if(null!=x[_0x37ca("0x95")]&&(a[_0x37ca("0x95")]=0|x[_0x37ca("0x95")]),null!=x[_0x37ca("0x42f")]&&(a[_0x37ca("0x42f")]=0|x[_0x37ca("0x42f")]),null!=x[_0x37ca("0x430")]&&(a.Hash=String(x[_0x37ca("0x430")])),null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x.Type&&(a.Type=0|x[_0x37ca("0x44f")]),null!=x[_0x37ca("0x1aa")]&&(a[_0x37ca("0x1aa")]=String(x[_0x37ca("0x1aa")])),null!=x[_0x37ca("0x431")]&&(a[_0x37ca("0x431")]=String(x[_0x37ca("0x431")])),null!=x.Brief&&(a[_0x37ca("0x432")]=String(x.Brief)),null!=x[_0x37ca("0x433")]&&(a[_0x37ca("0x433")]=String(x[_0x37ca("0x433")])),null!=x[_0x37ca("0x434")]&&(a[_0x37ca("0x434")]=String(x[_0x37ca("0x434")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x37ca("0x435")]&&(a[_0x37ca("0x435")]=Number(x[_0x37ca("0x435")])),null!=x.Tel&&(a[_0x37ca("0x436")]=String(x[_0x37ca("0x436")])),null!=x[_0x37ca("0x437")]&&(a[_0x37ca("0x437")]=Number(x[_0x37ca("0x437")])),null!=x[_0x37ca("0x438")]&&(a[_0x37ca("0x438")]=Number(x.FirstRotateAngleY)),null!=x[_0x37ca("0x439")]&&(a[_0x37ca("0x439")]=Number(x[_0x37ca("0x439")])),null!=x[_0x37ca("0x43a")]&&(a[_0x37ca("0x43a")]=Number(x[_0x37ca("0x43a")])),null!=x.DefaultFnum&&(a[_0x37ca("0x43b")]=0|x[_0x37ca("0x43b")]),null!=x[_0x37ca("0x43c")]&&(a[_0x37ca("0x43c")]=Number(x[_0x37ca("0x43c")])),null!=x.DefaultCenY&&(a.DefaultCenY=Number(x[_0x37ca("0x43d")])),null!=x[_0x37ca("0x452")]&&(a[_0x37ca("0x452")]=Number(x[_0x37ca("0x452")])),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x[_0x37ca("0x43e")]&&(a[_0x37ca("0x43e")]=Number(x[_0x37ca("0x43e")])),null!=x[_0x37ca("0x43f")]&&(a[_0x37ca("0x43f")]=Number(x.minY)),null!=x.maxX&&(a[_0x37ca("0x453")]=Number(x.maxX)),null!=x[_0x37ca("0x440")]&&(a.maxY=Number(x[_0x37ca("0x440")])),null!=x.ScaleLevel&&(a[_0x37ca("0x441")]=String(x[_0x37ca("0x441")])),null!=x[_0x37ca("0x442")]&&(a[_0x37ca("0x442")]=String(x[_0x37ca("0x442")])),null!=x[_0x37ca("0x443")]&&(a[_0x37ca("0x443")]=String(x[_0x37ca("0x443")])),null!=x[_0x37ca("0x444")]&&(a[_0x37ca("0x444")]=0|x[_0x37ca("0x444")]),x[_0x37ca("0x445")]){if(!Array.isArray(x.floors))throw TypeError(_0x37ca("0x481"));a.floors=[];for(var c=0;c<x.floors[_0x37ca("0x4")];++c){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x445")][c])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x482"));a[_0x37ca("0x445")][c]=l[_0x37ca("0x34")][_0x37ca("0x454")][_0x37ca("0x483")](x[_0x37ca("0x445")][c])}}if(x.navs){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x42e")]))throw TypeError(_0x37ca("0x484"));for(a[_0x37ca("0x42e")]=[],c=0;c<x[_0x37ca("0x42e")][_0x37ca("0x4")];++c){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x42e")][c])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x485"));a[_0x37ca("0x42e")][c]=l[_0x37ca("0x34")][_0x37ca("0x456")].fromObject(x[_0x37ca("0x42e")][c])}}if(x.panos){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x447")]))throw TypeError(_0x37ca("0x486"));for(a.panos=[],c=0;c<x[_0x37ca("0x447")].length;++c){if((0,_.default)(x.panos[c])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x487"));a[_0x37ca("0x447")][c]=l[_0x37ca("0x34")][_0x37ca("0x459")].fromObject(x[_0x37ca("0x447")][c])}}return null!=x[_0x37ca("0x448")]&&(a[_0x37ca("0x448")]=String(x.styleid)),null!=x[_0x37ca("0x79")]&&(a.token=String(x[_0x37ca("0x79")])),null!=x[_0x37ca("0xef")]&&(a[_0x37ca("0xef")]=String(x.bid)),null!=x[_0x37ca("0x449")]&&(a[_0x37ca("0x449")]=String(x[_0x37ca("0x449")])),null!=x[_0x37ca("0x44a")]&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),null!=x.o1&&(a.o1=0|x.o1),null!=x[_0x37ca("0x44b")]&&(a[_0x37ca("0x44b")]=String(x[_0x37ca("0x44b")])),null!=x.o2&&(a.o2=0|x.o2),null!=x.ul&&(a.ul=0|x.ul),null!=x.t1&&(a.t1=String(x.t1)),a},x.from=x.fromObject,x.toObject=function(x,a){a||(a={});var c={};if((a[_0x37ca("0x488")]||a[_0x37ca("0x489")])&&(c.floors=[],c[_0x37ca("0x42e")]=[],c[_0x37ca("0x447")]=[]),a[_0x37ca("0x489")]&&(c.version=0,c.maptime=0,c.Hash="",c[_0x37ca("0x176")]=0,c[_0x37ca("0x44f")]=0,c[_0x37ca("0x1aa")]="",c[_0x37ca("0x431")]="",c[_0x37ca("0x432")]="",c[_0x37ca("0x433")]="",c.address="",c.AS=0,c[_0x37ca("0x435")]=0,c[_0x37ca("0x436")]="",c[_0x37ca("0x437")]=0,c[_0x37ca("0x438")]=0,c[_0x37ca("0x439")]=0,c[_0x37ca("0x43a")]=0,c.DefaultFnum=0,c[_0x37ca("0x43c")]=0,c[_0x37ca("0x43d")]=0,c.DefaultCenZ=0,c.x=0,c.y=0,c.z=0,c[_0x37ca("0x43e")]=0,c[_0x37ca("0x43f")]=0,c[_0x37ca("0x453")]=0,c[_0x37ca("0x440")]=0,c[_0x37ca("0x441")]="",c.Remark="",c[_0x37ca("0x443")]="",c[_0x37ca("0x444")]=0,c[_0x37ca("0x448")]="",c[_0x37ca("0x79")]="",c[_0x37ca("0xef")]="",c[_0x37ca("0x449")]="",c[_0x37ca("0x44a")]="",c.o1=0,c[_0x37ca("0x44b")]="",c.o2=0,c.ul=0,c.t1=""),null!=x.version&&x.hasOwnProperty("version")&&(c[_0x37ca("0x95")]=x[_0x37ca("0x95")]),null!=x.maptime&&x[_0x37ca("0x1")](_0x37ca("0x42f"))&&(c.maptime=x[_0x37ca("0x42f")]),null!=x.Hash&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&(c[_0x37ca("0x430")]=x[_0x37ca("0x430")]),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x[_0x37ca("0x44f")]&&x[_0x37ca("0x1")](_0x37ca("0x44f"))&&(c.Type=x[_0x37ca("0x44f")]),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&(c[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x431")]&&x[_0x37ca("0x1")](_0x37ca("0x431"))&&(c.nameEn=x.nameEn),null!=x[_0x37ca("0x432")]&&x[_0x37ca("0x1")](_0x37ca("0x432"))&&(c[_0x37ca("0x432")]=x[_0x37ca("0x432")]),null!=x[_0x37ca("0x433")]&&x[_0x37ca("0x1")]("adcode")&&(c.adcode=x.adcode),null!=x.address&&x[_0x37ca("0x1")](_0x37ca("0x434"))&&(c[_0x37ca("0x434")]=x[_0x37ca("0x434")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&(c.AS=x.AS),null!=x[_0x37ca("0x435")]&&x[_0x37ca("0x1")]("BuildingHigh")&&(c[_0x37ca("0x435")]=x[_0x37ca("0x435")]),null!=x[_0x37ca("0x436")]&&x.hasOwnProperty(_0x37ca("0x436"))&&(c.Tel=x[_0x37ca("0x436")]),null!=x.FirstRotateAngleX&&x[_0x37ca("0x1")](_0x37ca("0x437"))&&(c[_0x37ca("0x437")]=x[_0x37ca("0x437")]),null!=x.FirstRotateAngleY&&x[_0x37ca("0x1")](_0x37ca("0x438"))&&(c[_0x37ca("0x438")]=x.FirstRotateAngleY),null!=x[_0x37ca("0x439")]&&x[_0x37ca("0x1")](_0x37ca("0x439"))&&(c[_0x37ca("0x439")]=x[_0x37ca("0x439")]),null!=x[_0x37ca("0x43a")]&&x.hasOwnProperty(_0x37ca("0x43a"))&&(c[_0x37ca("0x43a")]=x[_0x37ca("0x43a")]),null!=x[_0x37ca("0x43b")]&&x[_0x37ca("0x1")](_0x37ca("0x43b"))&&(c[_0x37ca("0x43b")]=x[_0x37ca("0x43b")]),null!=x.DefaultCenX&&x[_0x37ca("0x1")]("DefaultCenX")&&(c[_0x37ca("0x43c")]=x[_0x37ca("0x43c")]),null!=x[_0x37ca("0x43d")]&&x[_0x37ca("0x1")](_0x37ca("0x43d"))&&(c[_0x37ca("0x43d")]=x.DefaultCenY),null!=x[_0x37ca("0x452")]&&x.hasOwnProperty(_0x37ca("0x452"))&&(c[_0x37ca("0x452")]=x[_0x37ca("0x452")]),null!=x.x&&x[_0x37ca("0x1")]("x")&&(c.x=x.x),null!=x.y&&x[_0x37ca("0x1")]("y")&&(c.y=x.y),null!=x.z&&x[_0x37ca("0x1")]("z")&&(c.z=x.z),null!=x[_0x37ca("0x43e")]&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&(c[_0x37ca("0x43e")]=x[_0x37ca("0x43e")]),null!=x.minY&&x[_0x37ca("0x1")](_0x37ca("0x43f"))&&(c[_0x37ca("0x43f")]=x[_0x37ca("0x43f")]),null!=x[_0x37ca("0x453")]&&x[_0x37ca("0x1")]("maxX")&&(c.maxX=x[_0x37ca("0x453")]),null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")](_0x37ca("0x440"))&&(c[_0x37ca("0x440")]=x[_0x37ca("0x440")]),null!=x.ScaleLevel&&x[_0x37ca("0x1")](_0x37ca("0x441"))&&(c[_0x37ca("0x441")]=x[_0x37ca("0x441")]),null!=x[_0x37ca("0x442")]&&x[_0x37ca("0x1")](_0x37ca("0x442"))&&(c[_0x37ca("0x442")]=x[_0x37ca("0x442")]),null!=x.FloorBarName&&x[_0x37ca("0x1")](_0x37ca("0x443"))&&(c.FloorBarName=x[_0x37ca("0x443")]),null!=x[_0x37ca("0x444")]&&x[_0x37ca("0x1")](_0x37ca("0x444"))&&(c.FloorHigh=x[_0x37ca("0x444")]),x.floors&&x[_0x37ca("0x445")][_0x37ca("0x4")]){c[_0x37ca("0x445")]=[];for(var _=0;_<x[_0x37ca("0x445")][_0x37ca("0x4")];++_)c[_0x37ca("0x445")][_]=l[_0x37ca("0x34")][_0x37ca("0x454")].toObject(x[_0x37ca("0x445")][_],a)}if(x.navs&&x[_0x37ca("0x42e")][_0x37ca("0x4")])for(c[_0x37ca("0x42e")]=[],_=0;_<x[_0x37ca("0x42e")].length;++_)c[_0x37ca("0x42e")][_]=l.ESMap[_0x37ca("0x456")][_0x37ca("0x48a")](x[_0x37ca("0x42e")][_],a);if(x[_0x37ca("0x447")]&&x.panos[_0x37ca("0x4")])for(c[_0x37ca("0x447")]=[],_=0;_<x[_0x37ca("0x447")][_0x37ca("0x4")];++_)c[_0x37ca("0x447")][_]=l.ESMap[_0x37ca("0x459")][_0x37ca("0x48a")](x[_0x37ca("0x447")][_],a);return null!=x[_0x37ca("0x448")]&&x[_0x37ca("0x1")](_0x37ca("0x448"))&&(c[_0x37ca("0x448")]=x[_0x37ca("0x448")]),null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&(c.token=x[_0x37ca("0x79")]),null!=x[_0x37ca("0xef")]&&x[_0x37ca("0x1")](_0x37ca("0xef"))&&(c.bid=x[_0x37ca("0xef")]),null!=x[_0x37ca("0x449")]&&x.hasOwnProperty(_0x37ca("0x449"))&&(c[_0x37ca("0x449")]=x.logotoken),null!=x.other1&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c.other1=x[_0x37ca("0x44a")]),null!=x.o1&&x.hasOwnProperty("o1")&&(c.o1=x.o1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&(c[_0x37ca("0x44b")]=x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&(c.o2=x.o2),null!=x.ul&&x[_0x37ca("0x1")]("ul")&&(c.ul=x.ul),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&(c.t1=x.t1),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")].toObject(this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x454")]=function(){function x(x){if(this.Rooms={},this[_0x37ca("0x48e")]={},this[_0x37ca("0x16a")]={},this.Lifts={},x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")][_0x37ca("0x48f")]=0,x[_0x37ca("0x11")][_0x37ca("0x490")]=0,x[_0x37ca("0x11")].name="",x[_0x37ca("0x11")].NameEn="",x[_0x37ca("0x11")].AS=0,x[_0x37ca("0x11")][_0x37ca("0x316")]=0,x[_0x37ca("0x11")][_0x37ca("0x491")]=0,x[_0x37ca("0x11")][_0x37ca("0x492")]="",x[_0x37ca("0x11")][_0x37ca("0x493")]="",x[_0x37ca("0x11")][_0x37ca("0x494")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x48e")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x16a")]=o[_0x37ca("0x495")],x.prototype[_0x37ca("0x496")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x497")]="",x[_0x37ca("0x11")].imagesize="",x.prototype[_0x37ca("0x44a")]="",x[_0x37ca("0x11")][_0x37ca("0x44b")]="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){if(a||(a=s[_0x37ca("0xd")]()),null!=x._id&&x.hasOwnProperty(_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&a[_0x37ca("0x44d")](16).int32(x[_0x37ca("0x48f")]),null!=x[_0x37ca("0x490")]&&x[_0x37ca("0x1")](_0x37ca("0x490"))&&a[_0x37ca("0x44d")](24).int32(x.floornumtext),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&a[_0x37ca("0x44d")](34)[_0x37ca("0xf")](x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&a[_0x37ca("0x44d")](42).string(x[_0x37ca("0x498")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&a[_0x37ca("0x44d")](49)[_0x37ca("0x451")](x.AS),null!=x[_0x37ca("0x316")]&&x[_0x37ca("0x1")](_0x37ca("0x316"))&&a[_0x37ca("0x44d")](56)[_0x37ca("0x44e")](x[_0x37ca("0x316")]),null!=x.Elevation&&x[_0x37ca("0x1")](_0x37ca("0x491"))&&a[_0x37ca("0x44d")](64)[_0x37ca("0x44e")](x[_0x37ca("0x491")]),null!=x[_0x37ca("0x492")]&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&a[_0x37ca("0x44d")](74)[_0x37ca("0xf")](x[_0x37ca("0x492")]),null!=x[_0x37ca("0x493")]&&x.hasOwnProperty(_0x37ca("0x493"))&&a[_0x37ca("0x44d")](82)[_0x37ca("0xf")](x[_0x37ca("0x493")]),null!=x[_0x37ca("0x494")]&&x.hasOwnProperty("Rooms"))for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x494")]),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](90)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")][_0x37ca("0x499")][_0x37ca("0x44c")](x[_0x37ca("0x494")][c[_]],a[_0x37ca("0x44d")](18).fork())[_0x37ca("0x457")]()[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x48e")]&&x[_0x37ca("0x1")]("Facility"))for(c=(0,e[_0x37ca("0xe")])(x.Facility),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](98)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8).int32(c[_]),l[_0x37ca("0x34")][_0x37ca("0x49a")][_0x37ca("0x44c")](x[_0x37ca("0x48e")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]()[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x16a")]&&x[_0x37ca("0x1")](_0x37ca("0x16a")))for(c=(0,e[_0x37ca("0xe")])(x.Labels),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](106)[_0x37ca("0x455")]().uint32(8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")].POISet[_0x37ca("0x44c")](x.Labels[c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]().ldelim();if(null!=x[_0x37ca("0x496")]&&x[_0x37ca("0x1")]("Lifts"))for(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x496")]),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](114).fork()[_0x37ca("0x44d")](8).int32(c[_]),l[_0x37ca("0x34")][_0x37ca("0x49b")][_0x37ca("0x44c")](x[_0x37ca("0x496")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]().ldelim();return null!=x[_0x37ca("0x497")]&&x[_0x37ca("0x1")]("image")&&a.uint32(122).string(x.image),null!=x[_0x37ca("0x49c")]&&x[_0x37ca("0x1")](_0x37ca("0x49c"))&&a.uint32(130)[_0x37ca("0xf")](x[_0x37ca("0x49c")]),null!=x.other1&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](138)[_0x37ca("0xf")](x[_0x37ca("0x44a")]),null!=x[_0x37ca("0x44b")]&&x.hasOwnProperty(_0x37ca("0x44b"))&&a.uint32(146)[_0x37ca("0xf")](x[_0x37ca("0x44b")]),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r.create(x));for(var c,_=void 0===a?x.len:x.pos+a,e=new(l[_0x37ca("0x34")].FloorSet);x[_0x37ca("0x3e8")]<_;){var t=x[_0x37ca("0x44d")]();switch(t>>>3){case 1:e[_0x37ca("0x176")]=x.int32();break;case 2:e[_0x37ca("0x48f")]=x[_0x37ca("0x44e")]();break;case 3:e.floornumtext=x[_0x37ca("0x44e")]();break;case 4:e[_0x37ca("0x1aa")]=x[_0x37ca("0xf")]();break;case 5:e.NameEn=x.string();break;case 6:e.AS=x[_0x37ca("0x451")]();break;case 7:e[_0x37ca("0x316")]=x[_0x37ca("0x44e")]();break;case 8:e[_0x37ca("0x491")]=x[_0x37ca("0x44e")]();break;case 9:e[_0x37ca("0x492")]=x[_0x37ca("0xf")]();break;case 10:e[_0x37ca("0x493")]=x.string();break;case 11:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e[_0x37ca("0x494")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x494")]={}),c=x.int32(),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x494")][c]=l.ESMap[_0x37ca("0x499")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]());break;case 12:x[_0x37ca("0x49d")]().pos++,e.Facility===o[_0x37ca("0x495")]&&(e[_0x37ca("0x48e")]={}),c=x[_0x37ca("0x44e")](),x[_0x37ca("0x3e8")]++,e.Facility[c]=l[_0x37ca("0x34")][_0x37ca("0x49a")][_0x37ca("0x7c")](x,x.uint32());break;case 13:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e.Labels===o[_0x37ca("0x495")]&&(e[_0x37ca("0x16a")]={}),c=x[_0x37ca("0x44e")](),x.pos++,e[_0x37ca("0x16a")][c]=l.ESMap[_0x37ca("0x49a")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]());break;case 14:x[_0x37ca("0x49d")]().pos++,e.Lifts===o[_0x37ca("0x495")]&&(e.Lifts={}),c=x.int32(),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x496")][c]=l[_0x37ca("0x34")][_0x37ca("0x49b")][_0x37ca("0x7c")](x,x.uint32());break;case 15:e[_0x37ca("0x497")]=x[_0x37ca("0xf")]();break;case 16:e[_0x37ca("0x49c")]=x[_0x37ca("0xf")]();break;case 17:e[_0x37ca("0x44a")]=x.string();break;case 18:e.other2=x.string();break;default:x.skipType(7&t)}}return e},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x.uint32())},x.verify=function(x){if("object"!==(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))||null===x)return _0x37ca("0x45d");if(null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o.isInteger(x[_0x37ca("0x176")]))return _0x37ca("0x49e");if(null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")]("floornum")&&!o[_0x37ca("0x45e")](x[_0x37ca("0x48f")]))return"floornum: integer expected";if(null!=x[_0x37ca("0x490")]&&x.hasOwnProperty(_0x37ca("0x490"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x490")]))return _0x37ca("0x49f");if(null!=x.name&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&!o[_0x37ca("0x1ce")](x.name))return _0x37ca("0x460");if(null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&!o.isString(x[_0x37ca("0x498")]))return _0x37ca("0x4a0");if(null!=x.AS&&x.hasOwnProperty("AS")&&typeof x.AS!==_0x37ca("0x143"))return"AS: number expected";if(null!=x[_0x37ca("0x316")]&&x.hasOwnProperty(_0x37ca("0x316"))&&!o.isInteger(x[_0x37ca("0x316")]))return _0x37ca("0x4a1");if(null!=x[_0x37ca("0x491")]&&x[_0x37ca("0x1")](_0x37ca("0x491"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x491")]))return _0x37ca("0x4a2");if(null!=x[_0x37ca("0x492")]&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&!o.isString(x[_0x37ca("0x492")]))return"Outline: string expected";if(null!=x.Alias&&x[_0x37ca("0x1")]("Alias")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x493")]))return _0x37ca("0x4a3");if(null!=x[_0x37ca("0x494")]&&x[_0x37ca("0x1")](_0x37ca("0x494"))){if(!o[_0x37ca("0x32a")](x.Rooms))return _0x37ca("0x4a4");for(var a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x494")]),c=0;c<a.length;++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return"Rooms: integer key{k:int32} expected";if(t=l.ESMap[_0x37ca("0x499")][_0x37ca("0x45c")](x.Rooms[a[c]]))return _0x37ca("0x4a6")+t}}if(null!=x.Facility&&x[_0x37ca("0x1")]("Facility")){if(!o[_0x37ca("0x32a")](x[_0x37ca("0x48e")]))return _0x37ca("0x4a7");for(a=(0,e.default)(x.Facility),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")].test(a[c]))return"Facility: integer key{k:int32} expected";if(t=l.ESMap[_0x37ca("0x49a")][_0x37ca("0x45c")](x[_0x37ca("0x48e")][a[c]]))return"Facility."+t}}if(null!=x[_0x37ca("0x16a")]&&x[_0x37ca("0x1")]("Labels")){if(!o[_0x37ca("0x32a")](x[_0x37ca("0x16a")]))return _0x37ca("0x4a8");for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")].test(a[c]))return _0x37ca("0x4a9");if(t=l.ESMap[_0x37ca("0x49a")][_0x37ca("0x45c")](x.Labels[a[c]]))return"Labels."+t}}if(null!=x[_0x37ca("0x496")]&&x[_0x37ca("0x1")](_0x37ca("0x496"))){if(!o.isObject(x[_0x37ca("0x496")]))return _0x37ca("0x4aa");for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x496")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")].test(a[c]))return _0x37ca("0x4ab");var t;if(t=l[_0x37ca("0x34")][_0x37ca("0x49b")][_0x37ca("0x45c")](x[_0x37ca("0x496")][a[c]]))return"Lifts."+t}}return null!=x.image&&x[_0x37ca("0x1")]("image")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x497")])?_0x37ca("0x4ac"):null!=x[_0x37ca("0x49c")]&&x[_0x37ca("0x1")](_0x37ca("0x49c"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x49c")])?_0x37ca("0x4ad"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o.isString(x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")]("other2")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44b")])?_0x37ca("0x4ae"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l.ESMap[_0x37ca("0x454")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x454")]);if(null!=x[_0x37ca("0x176")]&&(a._id=0|x[_0x37ca("0x176")]),null!=x.floornum&&(a[_0x37ca("0x48f")]=0|x[_0x37ca("0x48f")]),null!=x[_0x37ca("0x490")]&&(a[_0x37ca("0x490")]=0|x.floornumtext),null!=x[_0x37ca("0x1aa")]&&(a[_0x37ca("0x1aa")]=String(x.name)),null!=x[_0x37ca("0x498")]&&(a[_0x37ca("0x498")]=String(x[_0x37ca("0x498")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x37ca("0x316")]&&(a[_0x37ca("0x316")]=0|x[_0x37ca("0x316")]),null!=x[_0x37ca("0x491")]&&(a.Elevation=0|x[_0x37ca("0x491")]),null!=x[_0x37ca("0x492")]&&(a[_0x37ca("0x492")]=String(x.Outline)),null!=x[_0x37ca("0x493")]&&(a.Alias=String(x[_0x37ca("0x493")])),x[_0x37ca("0x494")]){if((0,_[_0x37ca("0xe")])(x.Rooms)!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4af"));a.Rooms={};for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x494")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x.Rooms[c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4af"));a[_0x37ca("0x494")][c[t]]=l.ESMap.RoomSet[_0x37ca("0x483")](x[_0x37ca("0x494")][c[t]])}}if(x.Facility){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x48e")])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4b0"));for(a[_0x37ca("0x48e")]={},c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x48e")]),t=0;t<c.length;++t){if((0,_[_0x37ca("0xe")])(x.Facility[c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4b0"));a[_0x37ca("0x48e")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x49a")].fromObject(x[_0x37ca("0x48e")][c[t]])}}if(x.Labels){if((0,_[_0x37ca("0xe")])(x.Labels)!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4b1"));for(a.Labels={},c=(0,e[_0x37ca("0xe")])(x.Labels),t=0;t<c[_0x37ca("0x4")];++t){if((0,_.default)(x.Labels[c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4b1"));a.Labels[c[t]]=l.ESMap.POISet[_0x37ca("0x483")](x[_0x37ca("0x16a")][c[t]])}}if(x[_0x37ca("0x496")]){if("object"!==(0,_[_0x37ca("0xe")])(x.Lifts))throw TypeError(_0x37ca("0x4b2"));for(a[_0x37ca("0x496")]={},c=(0,e.default)(x[_0x37ca("0x496")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x496")][c[t]])!==_0x37ca("0xc"))throw TypeError(".ESMap.FloorSet.Lifts: object expected");a[_0x37ca("0x496")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x49b")][_0x37ca("0x483")](x.Lifts[c[t]])}}return null!=x[_0x37ca("0x497")]&&(a[_0x37ca("0x497")]=String(x[_0x37ca("0x497")])),null!=x[_0x37ca("0x49c")]&&(a[_0x37ca("0x49c")]=String(x.imagesize)),null!=x[_0x37ca("0x44a")]&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),null!=x.other2&&(a[_0x37ca("0x44b")]=String(x[_0x37ca("0x44b")])),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c,_={};if((a[_0x37ca("0x4b3")]||a[_0x37ca("0x489")])&&(_[_0x37ca("0x494")]={},_.Facility={},_[_0x37ca("0x16a")]={},_[_0x37ca("0x496")]={}),a[_0x37ca("0x489")]&&(_[_0x37ca("0x176")]=0,_[_0x37ca("0x48f")]=0,_[_0x37ca("0x490")]=0,_[_0x37ca("0x1aa")]="",_[_0x37ca("0x498")]="",_.AS=0,_[_0x37ca("0x316")]=0,_[_0x37ca("0x491")]=0,_[_0x37ca("0x492")]="",_[_0x37ca("0x493")]="",_[_0x37ca("0x497")]="",_[_0x37ca("0x49c")]="",_.other1="",_[_0x37ca("0x44b")]=""),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(_._id=x[_0x37ca("0x176")]),null!=x.floornum&&x.hasOwnProperty(_0x37ca("0x48f"))&&(_[_0x37ca("0x48f")]=x[_0x37ca("0x48f")]),null!=x.floornumtext&&x.hasOwnProperty(_0x37ca("0x490"))&&(_[_0x37ca("0x490")]=x[_0x37ca("0x490")]),null!=x[_0x37ca("0x1aa")]&&x.hasOwnProperty(_0x37ca("0x1aa"))&&(_[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&(_.NameEn=x[_0x37ca("0x498")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&(_.AS=x.AS),null!=x[_0x37ca("0x316")]&&x[_0x37ca("0x1")](_0x37ca("0x316"))&&(_[_0x37ca("0x316")]=x.Height),null!=x[_0x37ca("0x491")]&&x.hasOwnProperty(_0x37ca("0x491"))&&(_.Elevation=x.Elevation),null!=x[_0x37ca("0x492")]&&x.hasOwnProperty("Outline")&&(_[_0x37ca("0x492")]=x[_0x37ca("0x492")]),null!=x.Alias&&x.hasOwnProperty(_0x37ca("0x493"))&&(_.Alias=x.Alias),x[_0x37ca("0x494")]&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x494")])).length){_.Rooms={};for(var t=0;t<c.length;++t)_.Rooms[c[t]]=l.ESMap[_0x37ca("0x499")].toObject(x[_0x37ca("0x494")][c[t]],a)}if(x[_0x37ca("0x48e")]&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x48e")])).length)for(_[_0x37ca("0x48e")]={},t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x48e")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x49a")][_0x37ca("0x48a")](x[_0x37ca("0x48e")][c[t]],a);if(x[_0x37ca("0x16a")]&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")]))[_0x37ca("0x4")])for(_.Labels={},t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x16a")][c[t]]=l[_0x37ca("0x34")].POISet.toObject(x[_0x37ca("0x16a")][c[t]],a);if(x[_0x37ca("0x496")]&&(c=(0,e.default)(x.Lifts))[_0x37ca("0x4")])for(_[_0x37ca("0x496")]={},t=0;t<c.length;++t)_[_0x37ca("0x496")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x49b")][_0x37ca("0x48a")](x[_0x37ca("0x496")][c[t]],a);return null!=x[_0x37ca("0x497")]&&x[_0x37ca("0x1")](_0x37ca("0x497"))&&(_.image=x[_0x37ca("0x497")]),null!=x[_0x37ca("0x49c")]&&x[_0x37ca("0x1")](_0x37ca("0x49c"))&&(_[_0x37ca("0x49c")]=x[_0x37ca("0x49c")]),null!=x.other1&&x.hasOwnProperty(_0x37ca("0x44a"))&&(_.other1=x[_0x37ca("0x44a")]),null!=x[_0x37ca("0x44b")]&&x.hasOwnProperty(_0x37ca("0x44b"))&&(_[_0x37ca("0x44b")]=x[_0x37ca("0x44b")]),_},x[_0x37ca("0x11")].toObject=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x499")]=function(){function x(x){if(x)for(var a=(0,e.default)(x),c=0;c<a.length;++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")]._id=0,x.prototype.name="",x.prototype[_0x37ca("0x498")]="",x[_0x37ca("0x11")].Brief="",x[_0x37ca("0x11")].Tid=0,x[_0x37ca("0x11")].RL="",x[_0x37ca("0x11")].RLSize="",x[_0x37ca("0x11")].BC=0,x[_0x37ca("0x11")].RC="",x[_0x37ca("0x11")].RH=0,x[_0x37ca("0x11")].RM="",x.prototype[_0x37ca("0x4b4")]="",x.prototype[_0x37ca("0x4b5")]="",x[_0x37ca("0x11")][_0x37ca("0x4b6")]="",x[_0x37ca("0x11")].RS=0,x[_0x37ca("0x11")].SL=0,x[_0x37ca("0x11")][_0x37ca("0x4b7")]=0,x[_0x37ca("0x11")][_0x37ca("0x4b8")]=0,x.prototype.AS=0,x[_0x37ca("0x11")][_0x37ca("0x492")]="",x[_0x37ca("0x11")].PointID=0,x.prototype[_0x37ca("0x4b9")]=0,x[_0x37ca("0x11")].FS=0,x[_0x37ca("0x11")].FC="",x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x._id),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&a[_0x37ca("0x44d")](18)[_0x37ca("0xf")](x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x.hasOwnProperty("NameEn")&&a.uint32(26)[_0x37ca("0xf")](x[_0x37ca("0x498")]),null!=x[_0x37ca("0x432")]&&x[_0x37ca("0x1")](_0x37ca("0x432"))&&a[_0x37ca("0x44d")](34).string(x.Brief),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&a.uint32(40)[_0x37ca("0x44e")](x[_0x37ca("0x4ba")]),null!=x.RL&&x[_0x37ca("0x1")]("RL")&&a.uint32(50)[_0x37ca("0xf")](x.RL),null!=x[_0x37ca("0x4bb")]&&x[_0x37ca("0x1")](_0x37ca("0x4bb"))&&a[_0x37ca("0x44d")](58).string(x[_0x37ca("0x4bb")]),null!=x.BC&&x[_0x37ca("0x1")]("BC")&&a[_0x37ca("0x44d")](64)[_0x37ca("0x44e")](x.BC),null!=x.RC&&x.hasOwnProperty("RC")&&a[_0x37ca("0x44d")](74).string(x.RC),null!=x.RH&&x.hasOwnProperty("RH")&&a[_0x37ca("0x44d")](81)[_0x37ca("0x451")](x.RH),null!=x.RM&&x[_0x37ca("0x1")]("RM")&&a[_0x37ca("0x44d")](90)[_0x37ca("0xf")](x.RM),null!=x[_0x37ca("0x4b4")]&&x[_0x37ca("0x1")]("RMS")&&a[_0x37ca("0x44d")](98)[_0x37ca("0xf")](x[_0x37ca("0x4b4")]),null!=x[_0x37ca("0x4b5")]&&x.hasOwnProperty(_0x37ca("0x4b5"))&&a[_0x37ca("0x44d")](106)[_0x37ca("0xf")](x[_0x37ca("0x4b5")]),null!=x[_0x37ca("0x4b6")]&&x[_0x37ca("0x1")]("RMO")&&a[_0x37ca("0x44d")](114)[_0x37ca("0xf")](x.RMO),null!=x.RS&&x[_0x37ca("0x1")]("RS")&&a[_0x37ca("0x44d")](120)[_0x37ca("0x44e")](x.RS),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&a[_0x37ca("0x44d")](128)[_0x37ca("0x44e")](x.SL),null!=x[_0x37ca("0x4b7")]&&x[_0x37ca("0x1")](_0x37ca("0x4b7"))&&a[_0x37ca("0x44d")](137)[_0x37ca("0x451")](x[_0x37ca("0x4b7")]),null!=x.CenY&&x.hasOwnProperty(_0x37ca("0x4b8"))&&a[_0x37ca("0x44d")](145)[_0x37ca("0x451")](x.CenY),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&a.uint32(153).double(x.AS),null!=x[_0x37ca("0x492")]&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&a.uint32(162)[_0x37ca("0xf")](x[_0x37ca("0x492")]),null!=x[_0x37ca("0x4bc")]&&x[_0x37ca("0x1")](_0x37ca("0x4bc"))&&a[_0x37ca("0x44d")](168)[_0x37ca("0x44e")](x[_0x37ca("0x4bc")]),null!=x[_0x37ca("0x4b9")]&&x[_0x37ca("0x1")](_0x37ca("0x4b9"))&&a[_0x37ca("0x44d")](176)[_0x37ca("0x44e")](x[_0x37ca("0x4b9")]),null!=x.FS&&x[_0x37ca("0x1")]("FS")&&a[_0x37ca("0x44d")](184).int32(x.FS),null!=x.FC&&x[_0x37ca("0x1")]("FC")&&a[_0x37ca("0x44d")](194)[_0x37ca("0xf")](x.FC),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")]("other1")&&a[_0x37ca("0x44d")](202)[_0x37ca("0xf")](x.other1),a},x[_0x37ca("0x458")]=function(x,a){return this.encode(x,a)[_0x37ca("0x457")]()},x.decode=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,_=new(l[_0x37ca("0x34")].RoomSet);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 2:_.name=x.string();break;case 3:_[_0x37ca("0x498")]=x[_0x37ca("0xf")]();break;case 4:_[_0x37ca("0x432")]=x.string();break;case 5:_[_0x37ca("0x4ba")]=x[_0x37ca("0x44e")]();break;case 6:_.RL=x[_0x37ca("0xf")]();break;case 7:_[_0x37ca("0x4bb")]=x.string();break;case 8:_.BC=x[_0x37ca("0x44e")]();break;case 9:_.RC=x[_0x37ca("0xf")]();break;case 10:_.RH=x[_0x37ca("0x451")]();break;case 11:_.RM=x[_0x37ca("0xf")]();break;case 12:_.RMS=x[_0x37ca("0xf")]();break;case 13:_[_0x37ca("0x4b5")]=x[_0x37ca("0xf")]();break;case 14:_[_0x37ca("0x4b6")]=x.string();break;case 15:_.RS=x[_0x37ca("0x44e")]();break;case 16:_.SL=x[_0x37ca("0x44e")]();break;case 17:_[_0x37ca("0x4b7")]=x[_0x37ca("0x451")]();break;case 18:_[_0x37ca("0x4b8")]=x.double();break;case 19:_.AS=x[_0x37ca("0x451")]();break;case 20:_[_0x37ca("0x492")]=x[_0x37ca("0xf")]();break;case 21:_[_0x37ca("0x4bc")]=x[_0x37ca("0x44e")]();break;case 22:_.ShopID=x[_0x37ca("0x44e")]();break;case 23:_.FS=x[_0x37ca("0x44e")]();break;case 24:_.FC=x[_0x37ca("0xf")]();break;case 25:_[_0x37ca("0x44a")]=x.string();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x.verify=function(x){return(typeof x===_0x37ca("0x8")?"undefined":(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?"object expected":null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x._id)?_0x37ca("0x49e"):null!=x.name&&x[_0x37ca("0x1")]("name")&&!o.isString(x.name)?"name: string expected":null!=x.NameEn&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x498")])?_0x37ca("0x4a0"):null!=x[_0x37ca("0x432")]&&x.hasOwnProperty(_0x37ca("0x432"))&&!o.isString(x.Brief)?"Brief: string expected":null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&!o.isInteger(x[_0x37ca("0x4ba")])?_0x37ca("0x4be"):null!=x.RL&&x[_0x37ca("0x1")]("RL")&&!o[_0x37ca("0x1ce")](x.RL)?_0x37ca("0x4bf"):null!=x.RLSize&&x[_0x37ca("0x1")](_0x37ca("0x4bb"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4bb")])?_0x37ca("0x4c0"):null!=x.BC&&x[_0x37ca("0x1")]("BC")&&!o[_0x37ca("0x45e")](x.BC)?"BC: integer expected":null!=x.RC&&x[_0x37ca("0x1")]("RC")&&!o.isString(x.RC)?_0x37ca("0x4c1"):null!=x.RH&&x.hasOwnProperty("RH")&&typeof x.RH!==_0x37ca("0x143")?_0x37ca("0x4c2"):null!=x.RM&&x[_0x37ca("0x1")]("RM")&&!o[_0x37ca("0x1ce")](x.RM)?_0x37ca("0x4c3"):null!=x[_0x37ca("0x4b4")]&&x[_0x37ca("0x1")]("RMS")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b4")])?"RMS: string expected":null!=x.RMR&&x[_0x37ca("0x1")](_0x37ca("0x4b5"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b5")])?"RMR: string expected":null!=x[_0x37ca("0x4b6")]&&x[_0x37ca("0x1")](_0x37ca("0x4b6"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b6")])?_0x37ca("0x4c4"):null!=x.RS&&x[_0x37ca("0x1")]("RS")&&!o[_0x37ca("0x45e")](x.RS)?_0x37ca("0x4c5"):null!=x.SL&&x[_0x37ca("0x1")]("SL")&&!o[_0x37ca("0x45e")](x.SL)?_0x37ca("0x4c6"):null!=x[_0x37ca("0x4b7")]&&x[_0x37ca("0x1")](_0x37ca("0x4b7"))&&typeof x.CenX!==_0x37ca("0x143")?_0x37ca("0x4c7"):null!=x[_0x37ca("0x4b8")]&&x.hasOwnProperty(_0x37ca("0x4b8"))&&"number"!=typeof x[_0x37ca("0x4b8")]?_0x37ca("0x4c8"):null!=x.AS&&x[_0x37ca("0x1")]("AS")&&typeof x.AS!==_0x37ca("0x143")?_0x37ca("0x4c9"):null!=x[_0x37ca("0x492")]&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x492")])?_0x37ca("0x4ca"):null!=x[_0x37ca("0x4bc")]&&x.hasOwnProperty(_0x37ca("0x4bc"))&&!o[_0x37ca("0x45e")](x.PointID)?"PointID: integer expected":null!=x[_0x37ca("0x4b9")]&&x[_0x37ca("0x1")](_0x37ca("0x4b9"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4b9")])?_0x37ca("0x4cb"):null!=x.FS&&x[_0x37ca("0x1")]("FS")&&!o[_0x37ca("0x45e")](x.FS)?_0x37ca("0x4cc"):null!=x.FC&&x[_0x37ca("0x1")]("FC")&&!o.isString(x.FC)?_0x37ca("0x4cd"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l.ESMap[_0x37ca("0x499")])return x;var a=new(l[_0x37ca("0x34")].RoomSet);return null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x.name&&(a.name=String(x[_0x37ca("0x1aa")])),null!=x[_0x37ca("0x498")]&&(a[_0x37ca("0x498")]=String(x[_0x37ca("0x498")])),null!=x[_0x37ca("0x432")]&&(a.Brief=String(x.Brief)),null!=x[_0x37ca("0x4ba")]&&(a[_0x37ca("0x4ba")]=0|x.Tid),null!=x.RL&&(a.RL=String(x.RL)),null!=x[_0x37ca("0x4bb")]&&(a[_0x37ca("0x4bb")]=String(x[_0x37ca("0x4bb")])),null!=x.BC&&(a.BC=0|x.BC),null!=x.RC&&(a.RC=String(x.RC)),null!=x.RH&&(a.RH=Number(x.RH)),null!=x.RM&&(a.RM=String(x.RM)),null!=x[_0x37ca("0x4b4")]&&(a[_0x37ca("0x4b4")]=String(x[_0x37ca("0x4b4")])),null!=x.RMR&&(a[_0x37ca("0x4b5")]=String(x.RMR)),null!=x[_0x37ca("0x4b6")]&&(a[_0x37ca("0x4b6")]=String(x[_0x37ca("0x4b6")])),null!=x.RS&&(a.RS=0|x.RS),null!=x.SL&&(a.SL=0|x.SL),null!=x[_0x37ca("0x4b7")]&&(a[_0x37ca("0x4b7")]=Number(x.CenX)),null!=x[_0x37ca("0x4b8")]&&(a.CenY=Number(x.CenY)),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x37ca("0x492")]&&(a[_0x37ca("0x492")]=String(x[_0x37ca("0x492")])),null!=x[_0x37ca("0x4bc")]&&(a[_0x37ca("0x4bc")]=0|x.PointID),null!=x[_0x37ca("0x4b9")]&&(a[_0x37ca("0x4b9")]=0|x.ShopID),null!=x.FS&&(a.FS=0|x.FS),null!=x.FC&&(a.FC=String(x.FC)),null!=x[_0x37ca("0x44a")]&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c._id=0,c.name="",c.NameEn="",c.Brief="",c[_0x37ca("0x4ba")]=0,c.RL="",c[_0x37ca("0x4bb")]="",c.BC=0,c.RC="",c.RH=0,c.RM="",c.RMS="",c.RMR="",c.RMO="",c.RS=0,c.SL=0,c.CenX=0,c[_0x37ca("0x4b8")]=0,c.AS=0,c[_0x37ca("0x492")]="",c[_0x37ca("0x4bc")]=0,c[_0x37ca("0x4b9")]=0,c.FS=0,c.FC="",c.other1=""),null!=x._id&&x.hasOwnProperty(_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x[_0x37ca("0x1aa")]&&x.hasOwnProperty(_0x37ca("0x1aa"))&&(c[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")]("NameEn")&&(c[_0x37ca("0x498")]=x[_0x37ca("0x498")]),null!=x.Brief&&x[_0x37ca("0x1")](_0x37ca("0x432"))&&(c[_0x37ca("0x432")]=x.Brief),null!=x[_0x37ca("0x4ba")]&&x.hasOwnProperty("Tid")&&(c[_0x37ca("0x4ba")]=x[_0x37ca("0x4ba")]),null!=x.RL&&x[_0x37ca("0x1")]("RL")&&(c.RL=x.RL),null!=x.RLSize&&x[_0x37ca("0x1")]("RLSize")&&(c[_0x37ca("0x4bb")]=x[_0x37ca("0x4bb")]),null!=x.BC&&x[_0x37ca("0x1")]("BC")&&(c.BC=x.BC),null!=x.RC&&x[_0x37ca("0x1")]("RC")&&(c.RC=x.RC),null!=x.RH&&x[_0x37ca("0x1")]("RH")&&(c.RH=x.RH),null!=x.RM&&x[_0x37ca("0x1")]("RM")&&(c.RM=x.RM),null!=x.RMS&&x[_0x37ca("0x1")](_0x37ca("0x4b4"))&&(c[_0x37ca("0x4b4")]=x[_0x37ca("0x4b4")]),null!=x[_0x37ca("0x4b5")]&&x.hasOwnProperty(_0x37ca("0x4b5"))&&(c.RMR=x[_0x37ca("0x4b5")]),null!=x[_0x37ca("0x4b6")]&&x[_0x37ca("0x1")](_0x37ca("0x4b6"))&&(c[_0x37ca("0x4b6")]=x[_0x37ca("0x4b6")]),null!=x.RS&&x.hasOwnProperty("RS")&&(c.RS=x.RS),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&(c.SL=x.SL),null!=x[_0x37ca("0x4b7")]&&x[_0x37ca("0x1")]("CenX")&&(c[_0x37ca("0x4b7")]=x.CenX),null!=x[_0x37ca("0x4b8")]&&x[_0x37ca("0x1")](_0x37ca("0x4b8"))&&(c.CenY=x[_0x37ca("0x4b8")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&(c.AS=x.AS),null!=x.Outline&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&(c[_0x37ca("0x492")]=x[_0x37ca("0x492")]),null!=x[_0x37ca("0x4bc")]&&x[_0x37ca("0x1")](_0x37ca("0x4bc"))&&(c[_0x37ca("0x4bc")]=x.PointID),null!=x.ShopID&&x[_0x37ca("0x1")]("ShopID")&&(c.ShopID=x.ShopID),null!=x.FS&&x[_0x37ca("0x1")]("FS")&&(c.FS=x.FS),null!=x.FC&&x.hasOwnProperty("FC")&&(c.FC=x.FC),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),c},x.prototype[_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")].toObject(this,x)},x.prototype[_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x49a")]=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x.prototype[_0x37ca("0x176")]=0,x[_0x37ca("0x11")][_0x37ca("0x1aa")]="",x.prototype.NameEn="",x[_0x37ca("0x11")][_0x37ca("0x432")]="",x[_0x37ca("0x11")][_0x37ca("0x4ba")]=0,x[_0x37ca("0x11")].X=0,x[_0x37ca("0x11")].Y=0,x[_0x37ca("0x11")].SL=0,x[_0x37ca("0x11")].SH=0,x[_0x37ca("0x11")].w=0,x.prototype.h=0,x.prototype.image="",x[_0x37ca("0x11")][_0x37ca("0x4cf")]=0,x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x[_0x37ca("0x11")].ipos=0,x[_0x37ca("0xd")]=function(a){return new x(a)},x.encode=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&a.uint32(18)[_0x37ca("0xf")](x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x.NameEn),null!=x[_0x37ca("0x432")]&&x.hasOwnProperty("Brief")&&a[_0x37ca("0x44d")](34)[_0x37ca("0xf")](x[_0x37ca("0x432")]),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&a.uint32(40)[_0x37ca("0x44e")](x.Tid),null!=x.X&&x[_0x37ca("0x1")]("X")&&a[_0x37ca("0x44d")](49).double(x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a.uint32(57)[_0x37ca("0x451")](x.Y),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&a[_0x37ca("0x44d")](64)[_0x37ca("0x44e")](x.SL),null!=x.SH&&x.hasOwnProperty("SH")&&a[_0x37ca("0x44d")](77)[_0x37ca("0x450")](x.SH),null!=x.w&&x[_0x37ca("0x1")]("w")&&a.uint32(85)[_0x37ca("0x450")](x.w),null!=x.h&&x[_0x37ca("0x1")]("h")&&a[_0x37ca("0x44d")](93).float(x.h),null!=x.image&&x[_0x37ca("0x1")](_0x37ca("0x497"))&&a[_0x37ca("0x44d")](98)[_0x37ca("0xf")](x[_0x37ca("0x497")]),null!=x[_0x37ca("0x4cf")]&&x[_0x37ca("0x1")](_0x37ca("0x4cf"))&&a[_0x37ca("0x44d")](104)[_0x37ca("0x44e")](x.FSId),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a.uint32(114)[_0x37ca("0xf")](x.other1),null!=x[_0x37ca("0x171")]&&x[_0x37ca("0x1")](_0x37ca("0x171"))&&a.uint32(120)[_0x37ca("0x44e")](x[_0x37ca("0x171")]),a},x[_0x37ca("0x458")]=function(x,a){return this.encode(x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x.len:x[_0x37ca("0x3e8")]+a,_=new(l.ESMap[_0x37ca("0x49a")]);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x.int32();break;case 2:_[_0x37ca("0x1aa")]=x[_0x37ca("0xf")]();break;case 3:_[_0x37ca("0x498")]=x[_0x37ca("0xf")]();break;case 4:_.Brief=x[_0x37ca("0xf")]();break;case 5:_[_0x37ca("0x4ba")]=x[_0x37ca("0x44e")]();break;case 6:_.X=x.double();break;case 7:_.Y=x[_0x37ca("0x451")]();break;case 8:_.SL=x.int32();break;case 9:_.SH=x[_0x37ca("0x450")]();break;case 10:_.w=x.float();break;case 11:_.h=x[_0x37ca("0x450")]();break;case 12:_[_0x37ca("0x497")]=x[_0x37ca("0xf")]();break;case 13:_[_0x37ca("0x4cf")]=x[_0x37ca("0x44e")]();break;case 14:_[_0x37ca("0x44a")]=x[_0x37ca("0xf")]();break;case 15:_[_0x37ca("0x171")]=x[_0x37ca("0x44e")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x.verify=function(x){return(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x[_0x37ca("0x1aa")]&&x.hasOwnProperty(_0x37ca("0x1aa"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x1aa")])?_0x37ca("0x460"):null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")]("NameEn")&&!o.isString(x.NameEn)?_0x37ca("0x4a0"):null!=x[_0x37ca("0x432")]&&x[_0x37ca("0x1")]("Brief")&&!o.isString(x[_0x37ca("0x432")])?_0x37ca("0x462"):null!=x[_0x37ca("0x4ba")]&&x.hasOwnProperty(_0x37ca("0x4ba"))&&!o.isInteger(x[_0x37ca("0x4ba")])?"Tid: integer expected":null!=x.X&&x[_0x37ca("0x1")]("X")&&typeof x.X!==_0x37ca("0x143")?"X: number expected":null!=x.Y&&x[_0x37ca("0x1")]("Y")&&typeof x.Y!==_0x37ca("0x143")?_0x37ca("0x4d0"):null!=x.SL&&x[_0x37ca("0x1")]("SL")&&!o[_0x37ca("0x45e")](x.SL)?"SL: integer expected":null!=x.SH&&x.hasOwnProperty("SH")&&typeof x.SH!==_0x37ca("0x143")?_0x37ca("0x4d1"):null!=x.w&&x[_0x37ca("0x1")]("w")&&typeof x.w!==_0x37ca("0x143")?_0x37ca("0x4d2"):null!=x.h&&x[_0x37ca("0x1")]("h")&&typeof x.h!==_0x37ca("0x143")?"h: number expected":null!=x.image&&x.hasOwnProperty(_0x37ca("0x497"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x497")])?_0x37ca("0x4ac"):null!=x[_0x37ca("0x4cf")]&&x[_0x37ca("0x1")](_0x37ca("0x4cf"))&&!o.isInteger(x[_0x37ca("0x4cf")])?_0x37ca("0x4d3"):null!=x.other1&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o.isString(x.other1)?_0x37ca("0x47d"):null!=x.ipos&&x.hasOwnProperty("ipos")&&!o[_0x37ca("0x45e")](x[_0x37ca("0x171")])?_0x37ca("0x4d4"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l.ESMap[_0x37ca("0x49a")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x49a")]);return null!=x._id&&(a._id=0|x[_0x37ca("0x176")]),null!=x.name&&(a[_0x37ca("0x1aa")]=String(x[_0x37ca("0x1aa")])),null!=x[_0x37ca("0x498")]&&(a.NameEn=String(x[_0x37ca("0x498")])),null!=x[_0x37ca("0x432")]&&(a.Brief=String(x[_0x37ca("0x432")])),null!=x[_0x37ca("0x4ba")]&&(a[_0x37ca("0x4ba")]=0|x[_0x37ca("0x4ba")]),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.SL&&(a.SL=0|x.SL),null!=x.SH&&(a.SH=Number(x.SH)),null!=x.w&&(a.w=Number(x.w)),null!=x.h&&(a.h=Number(x.h)),null!=x[_0x37ca("0x497")]&&(a[_0x37ca("0x497")]=String(x.image)),null!=x[_0x37ca("0x4cf")]&&(a[_0x37ca("0x4cf")]=0|x.FSId),null!=x.other1&&(a[_0x37ca("0x44a")]=String(x.other1)),null!=x[_0x37ca("0x171")]&&(a.ipos=0|x[_0x37ca("0x171")]),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c._id=0,c[_0x37ca("0x1aa")]="",c[_0x37ca("0x498")]="",c[_0x37ca("0x432")]="",c[_0x37ca("0x4ba")]=0,c.X=0,c.Y=0,c.SL=0,c.SH=0,c.w=0,c.h=0,c[_0x37ca("0x497")]="",c[_0x37ca("0x4cf")]=0,c[_0x37ca("0x44a")]="",c[_0x37ca("0x171")]=0),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x.name&&x.hasOwnProperty(_0x37ca("0x1aa"))&&(c[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x498")]&&x[_0x37ca("0x1")](_0x37ca("0x498"))&&(c[_0x37ca("0x498")]=x.NameEn),null!=x[_0x37ca("0x432")]&&x[_0x37ca("0x1")]("Brief")&&(c[_0x37ca("0x432")]=x[_0x37ca("0x432")]),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&(c[_0x37ca("0x4ba")]=x[_0x37ca("0x4ba")]),null!=x.X&&x.hasOwnProperty("X")&&(c.X=x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&(c.Y=x.Y),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&(c.SL=x.SL),null!=x.SH&&x[_0x37ca("0x1")]("SH")&&(c.SH=x.SH),null!=x.w&&x[_0x37ca("0x1")]("w")&&(c.w=x.w),null!=x.h&&x.hasOwnProperty("h")&&(c.h=x.h),null!=x[_0x37ca("0x497")]&&x[_0x37ca("0x1")](_0x37ca("0x497"))&&(c[_0x37ca("0x497")]=x[_0x37ca("0x497")]),null!=x[_0x37ca("0x4cf")]&&x.hasOwnProperty("FSId")&&(c[_0x37ca("0x4cf")]=x[_0x37ca("0x4cf")]),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),null!=x.ipos&&x[_0x37ca("0x1")](_0x37ca("0x171"))&&(c[_0x37ca("0x171")]=x.ipos),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this.constructor[_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x49b")]=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a.length;++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")]._id=0,x.prototype.name="",x[_0x37ca("0x11")][_0x37ca("0x4ba")]=0,x[_0x37ca("0x11")].F1=0,x[_0x37ca("0x11")].F2=0,x.prototype.ST=0,x[_0x37ca("0x11")].LT=0,x[_0x37ca("0x11")].LH=0,x[_0x37ca("0x11")].LM="",x[_0x37ca("0x11")].LS="",x[_0x37ca("0x11")].LR="",x[_0x37ca("0x11")].LO="",x.prototype.X1=0,x[_0x37ca("0x11")].X2=0,x[_0x37ca("0x11")].Y1=0,x[_0x37ca("0x11")].Y2=0,x[_0x37ca("0x11")].O1="",x[_0x37ca("0x11")].O2="",x.prototype[_0x37ca("0x44a")]="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8).int32(x[_0x37ca("0x176")]),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&a[_0x37ca("0x44d")](18).string(x.name),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")]("Tid")&&a[_0x37ca("0x44d")](24)[_0x37ca("0x44e")](x[_0x37ca("0x4ba")]),null!=x.F1&&x[_0x37ca("0x1")]("F1")&&a[_0x37ca("0x44d")](32).int32(x.F1),null!=x.F2&&x[_0x37ca("0x1")]("F2")&&a[_0x37ca("0x44d")](40)[_0x37ca("0x44e")](x.F2),null!=x.ST&&x[_0x37ca("0x1")]("ST")&&a[_0x37ca("0x44d")](48).int32(x.ST),null!=x.LT&&x[_0x37ca("0x1")]("LT")&&a[_0x37ca("0x44d")](56)[_0x37ca("0x44e")](x.LT),null!=x.LH&&x[_0x37ca("0x1")]("LH")&&a[_0x37ca("0x44d")](64)[_0x37ca("0x44e")](x.LH),null!=x.LM&&x[_0x37ca("0x1")]("LM")&&a[_0x37ca("0x44d")](74)[_0x37ca("0xf")](x.LM),null!=x.LS&&x.hasOwnProperty("LS")&&a[_0x37ca("0x44d")](82)[_0x37ca("0xf")](x.LS),null!=x.LR&&x[_0x37ca("0x1")]("LR")&&a[_0x37ca("0x44d")](90).string(x.LR),null!=x.LO&&x[_0x37ca("0x1")]("LO")&&a.uint32(98)[_0x37ca("0xf")](x.LO),null!=x.X1&&x[_0x37ca("0x1")]("X1")&&a.uint32(105)[_0x37ca("0x451")](x.X1),null!=x.X2&&x[_0x37ca("0x1")]("X2")&&a.uint32(113)[_0x37ca("0x451")](x.X2),null!=x.Y1&&x[_0x37ca("0x1")]("Y1")&&a[_0x37ca("0x44d")](121)[_0x37ca("0x451")](x.Y1),null!=x.Y2&&x[_0x37ca("0x1")]("Y2")&&a.uint32(129).double(x.Y2),null!=x.O1&&x[_0x37ca("0x1")]("O1")&&a[_0x37ca("0x44d")](138)[_0x37ca("0xf")](x.O1),null!=x.O2&&x[_0x37ca("0x1")]("O2")&&a.uint32(146)[_0x37ca("0xf")](x.O2),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](154)[_0x37ca("0xf")](x[_0x37ca("0x44a")]),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a).ldelim()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r.create(x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,_=new(l[_0x37ca("0x34")][_0x37ca("0x49b")]);x[_0x37ca("0x3e8")]<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_._id=x[_0x37ca("0x44e")]();break;case 2:_[_0x37ca("0x1aa")]=x[_0x37ca("0xf")]();break;case 3:_[_0x37ca("0x4ba")]=x[_0x37ca("0x44e")]();break;case 4:_.F1=x[_0x37ca("0x44e")]();break;case 5:_.F2=x[_0x37ca("0x44e")]();break;case 6:_.ST=x.int32();break;case 7:_.LT=x[_0x37ca("0x44e")]();break;case 8:_.LH=x[_0x37ca("0x44e")]();break;case 9:_.LM=x[_0x37ca("0xf")]();break;case 10:_.LS=x[_0x37ca("0xf")]();break;case 11:_.LR=x[_0x37ca("0xf")]();break;case 12:_.LO=x[_0x37ca("0xf")]();break;case 13:_.X1=x.double();break;case 14:_.X2=x[_0x37ca("0x451")]();break;case 15:_.Y1=x[_0x37ca("0x451")]();break;case 16:_.Y2=x[_0x37ca("0x451")]();break;case 17:_.O1=x[_0x37ca("0xf")]();break;case 18:_.O2=x.string();break;case 19:_[_0x37ca("0x44a")]=x.string();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(void 0===x?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x._id&&x.hasOwnProperty(_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x._id)?"_id: integer expected":null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&!o.isString(x[_0x37ca("0x1aa")])?_0x37ca("0x460"):null!=x.Tid&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4ba")])?_0x37ca("0x4be"):null!=x.F1&&x[_0x37ca("0x1")]("F1")&&!o[_0x37ca("0x45e")](x.F1)?_0x37ca("0x4d5"):null!=x.F2&&x[_0x37ca("0x1")]("F2")&&!o[_0x37ca("0x45e")](x.F2)?_0x37ca("0x4d6"):null!=x.ST&&x.hasOwnProperty("ST")&&!o[_0x37ca("0x45e")](x.ST)?"ST: integer expected":null!=x.LT&&x[_0x37ca("0x1")]("LT")&&!o.isInteger(x.LT)?_0x37ca("0x4d7"):null!=x.LH&&x[_0x37ca("0x1")]("LH")&&!o[_0x37ca("0x45e")](x.LH)?"LH: integer expected":null!=x.LM&&x[_0x37ca("0x1")]("LM")&&!o[_0x37ca("0x1ce")](x.LM)?_0x37ca("0x4d8"):null!=x.LS&&x[_0x37ca("0x1")]("LS")&&!o[_0x37ca("0x1ce")](x.LS)?_0x37ca("0x4d9"):null!=x.LR&&x.hasOwnProperty("LR")&&!o[_0x37ca("0x1ce")](x.LR)?_0x37ca("0x4da"):null!=x.LO&&x[_0x37ca("0x1")]("LO")&&!o[_0x37ca("0x1ce")](x.LO)?_0x37ca("0x4db"):null!=x.X1&&x[_0x37ca("0x1")]("X1")&&typeof x.X1!==_0x37ca("0x143")?_0x37ca("0x4dc"):null!=x.X2&&x[_0x37ca("0x1")]("X2")&&"number"!=typeof x.X2?"X2: number expected":null!=x.Y1&&x.hasOwnProperty("Y1")&&typeof x.Y1!==_0x37ca("0x143")?_0x37ca("0x4dd"):null!=x.Y2&&x.hasOwnProperty("Y2")&&typeof x.Y2!==_0x37ca("0x143")?"Y2: number expected":null!=x.O1&&x[_0x37ca("0x1")]("O1")&&!o[_0x37ca("0x1ce")](x.O1)?"O1: string expected":null!=x.O2&&x.hasOwnProperty("O2")&&!o[_0x37ca("0x1ce")](x.O2)?_0x37ca("0x4de"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o[_0x37ca("0x1ce")](x.other1)?_0x37ca("0x47d"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0x34")][_0x37ca("0x49b")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x49b")]);return null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x[_0x37ca("0x1aa")]&&(a[_0x37ca("0x1aa")]=String(x.name)),null!=x[_0x37ca("0x4ba")]&&(a[_0x37ca("0x4ba")]=0|x[_0x37ca("0x4ba")]),null!=x.F1&&(a.F1=0|x.F1),null!=x.F2&&(a.F2=0|x.F2),null!=x.ST&&(a.ST=0|x.ST),null!=x.LT&&(a.LT=0|x.LT),null!=x.LH&&(a.LH=0|x.LH),null!=x.LM&&(a.LM=String(x.LM)),null!=x.LS&&(a.LS=String(x.LS)),null!=x.LR&&(a.LR=String(x.LR)),null!=x.LO&&(a.LO=String(x.LO)),null!=x.X1&&(a.X1=Number(x.X1)),null!=x.X2&&(a.X2=Number(x.X2)),null!=x.Y1&&(a.Y1=Number(x.Y1)),null!=x.Y2&&(a.Y2=Number(x.Y2)),null!=x.O1&&(a.O1=String(x.O1)),null!=x.O2&&(a.O2=String(x.O2)),null!=x[_0x37ca("0x44a")]&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),a},x.from=x.fromObject,x.toObject=function(x,a){a||(a={});var c={};return a.defaults&&(c[_0x37ca("0x176")]=0,c[_0x37ca("0x1aa")]="",c[_0x37ca("0x4ba")]=0,c.F1=0,c.F2=0,c.ST=0,c.LT=0,c.LH=0,c.LM="",c.LS="",c.LR="",c.LO="",c.X1=0,c.X2=0,c.Y1=0,c.Y2=0,c.O1="",c.O2="",c.other1=""),null!=x._id&&x.hasOwnProperty(_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1")](_0x37ca("0x1aa"))&&(c.name=x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&(c.Tid=x[_0x37ca("0x4ba")]),null!=x.F1&&x[_0x37ca("0x1")]("F1")&&(c.F1=x.F1),null!=x.F2&&x[_0x37ca("0x1")]("F2")&&(c.F2=x.F2),null!=x.ST&&x[_0x37ca("0x1")]("ST")&&(c.ST=x.ST),null!=x.LT&&x[_0x37ca("0x1")]("LT")&&(c.LT=x.LT),null!=x.LH&&x[_0x37ca("0x1")]("LH")&&(c.LH=x.LH),null!=x.LM&&x[_0x37ca("0x1")]("LM")&&(c.LM=x.LM),null!=x.LS&&x[_0x37ca("0x1")]("LS")&&(c.LS=x.LS),null!=x.LR&&x.hasOwnProperty("LR")&&(c.LR=x.LR),null!=x.LO&&x[_0x37ca("0x1")]("LO")&&(c.LO=x.LO),null!=x.X1&&x[_0x37ca("0x1")]("X1")&&(c.X1=x.X1),null!=x.X2&&x[_0x37ca("0x1")]("X2")&&(c.X2=x.X2),null!=x.Y1&&x[_0x37ca("0x1")]("Y1")&&(c.Y1=x.Y1),null!=x.Y2&&x.hasOwnProperty("Y2")&&(c.Y2=x.Y2),null!=x.O1&&x[_0x37ca("0x1")]("O1")&&(c.O1=x.O1),null!=x.O2&&x[_0x37ca("0x1")]("O2")&&(c.O2=x.O2),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n.util[_0x37ca("0x48d")])},x}(),i[_0x37ca("0x456")]=function(){function x(x){if(this[_0x37ca("0x4df")]={},this.Lines={},x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x48f")]=0,x.prototype[_0x37ca("0x4df")]=o.emptyObject,x[_0x37ca("0x11")].Lines=o[_0x37ca("0x495")],x[_0x37ca("0xd")]=function(a){return new x(a)},x.encode=function(x,a){if(a||(a=s[_0x37ca("0xd")]()),null!=x.floornum&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x48f")]),null!=x[_0x37ca("0x4df")]&&x[_0x37ca("0x1")](_0x37ca("0x4df")))for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")]),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")].NavNodeSet[_0x37ca("0x44c")](x[_0x37ca("0x4df")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]()[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x190")]&&x.hasOwnProperty(_0x37ca("0x190")))for(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x190")]),_=0;_<c[_0x37ca("0x4")];++_)a.uint32(26).fork()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")][_0x37ca("0x4e0")].encode(x[_0x37ca("0x190")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]()[_0x37ca("0x457")]();return a},x[_0x37ca("0x458")]=function(x,a){return this.encode(x,a).ldelim()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c,_=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,e=new(l.ESMap[_0x37ca("0x456")]);x[_0x37ca("0x3e8")]<_;){var t=x[_0x37ca("0x44d")]();switch(t>>>3){case 1:e[_0x37ca("0x48f")]=x[_0x37ca("0x44e")]();break;case 2:x.skip().pos++,e[_0x37ca("0x4df")]===o[_0x37ca("0x495")]&&(e.Nodes={}),c=x[_0x37ca("0x44e")](),x.pos++,e[_0x37ca("0x4df")][c]=l[_0x37ca("0x34")][_0x37ca("0x4e1")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]());break;case 3:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e[_0x37ca("0x190")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x190")]={}),c=x.int32(),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x190")][c]=l.ESMap[_0x37ca("0x4e0")].decode(x,x[_0x37ca("0x44d")]());break;default:x[_0x37ca("0x45a")](7&t)}}return e},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x.uint32())},x.verify=function(x){if((void 0===x?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x)return"object expected";if(null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x48f")]))return"floornum: integer expected";if(null!=x.Nodes&&x[_0x37ca("0x1")](_0x37ca("0x4df"))){if(!o[_0x37ca("0x32a")](x[_0x37ca("0x4df")]))return"Nodes: object expected";for(var a=(0,e[_0x37ca("0xe")])(x.Nodes),c=0;c<a.length;++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return _0x37ca("0x4e2");if(t=l.ESMap.NavNodeSet[_0x37ca("0x45c")](x.Nodes[a[c]]))return _0x37ca("0x4e3")+t}}if(null!=x[_0x37ca("0x190")]&&x[_0x37ca("0x1")](_0x37ca("0x190"))){if(!o[_0x37ca("0x32a")](x.Lines))return _0x37ca("0x4e4");for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x190")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o.key32Re[_0x37ca("0x3a4")](a[c]))return"Lines: integer key{k:int32} expected";var t;if(t=l[_0x37ca("0x34")][_0x37ca("0x4e0")].verify(x[_0x37ca("0x190")][a[c]]))return _0x37ca("0x4e5")+t}}return null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0x34")][_0x37ca("0x456")])return x;var a=new(l[_0x37ca("0x34")].NavSet);if(null!=x[_0x37ca("0x48f")]&&(a[_0x37ca("0x48f")]=0|x[_0x37ca("0x48f")]),x.Nodes){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4df")])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4e6"));a[_0x37ca("0x4df")]={};for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4df")][c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4e6"));a[_0x37ca("0x4df")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x4e1")].fromObject(x.Nodes[c[t]])}}if(x[_0x37ca("0x190")]){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x190")])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x4e7"));for(a[_0x37ca("0x190")]={},c=(0,e.default)(x[_0x37ca("0x190")]),t=0;t<c[_0x37ca("0x4")];++t){if("object"!==(0,_[_0x37ca("0xe")])(x[_0x37ca("0x190")][c[t]]))throw TypeError(_0x37ca("0x4e7"));a[_0x37ca("0x190")][c[t]]=l[_0x37ca("0x34")].NavLineSet[_0x37ca("0x483")](x.Lines[c[t]])}}return a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c,_={};if((a.objects||a[_0x37ca("0x489")])&&(_[_0x37ca("0x4df")]={},_[_0x37ca("0x190")]={}),a[_0x37ca("0x489")]&&(_.floornum=0),null!=x[_0x37ca("0x48f")]&&x.hasOwnProperty("floornum")&&(_[_0x37ca("0x48f")]=x.floornum),x.Nodes&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")])).length){_[_0x37ca("0x4df")]={};for(var t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x4df")][c[t]]=l.ESMap[_0x37ca("0x4e1")][_0x37ca("0x48a")](x[_0x37ca("0x4df")][c[t]],a)}if(x[_0x37ca("0x190")]&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x190")]))[_0x37ca("0x4")])for(_.Lines={},t=0;t<c.length;++t)_[_0x37ca("0x190")][c[t]]=l[_0x37ca("0x34")].NavLineSet[_0x37ca("0x48a")](x[_0x37ca("0x190")][c[t]],a);return _},x[_0x37ca("0x11")].toObject=function(x){return this.constructor[_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x4e1")]=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")][_0x37ca("0x43")]=0,x[_0x37ca("0x11")][_0x37ca("0x4e8")]=0,x[_0x37ca("0x11")].X=0,x.prototype.Y=0,x.prototype[_0x37ca("0x4e9")]=0,x[_0x37ca("0x11")].Z=0,x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x176")]&&x.hasOwnProperty("_id")&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&a[_0x37ca("0x44d")](16)[_0x37ca("0x44e")](x[_0x37ca("0x43")]),null!=x[_0x37ca("0x4e8")]&&x[_0x37ca("0x1")](_0x37ca("0x4e8"))&&a.uint32(24).int32(x[_0x37ca("0x4e8")]),null!=x.X&&x[_0x37ca("0x1")]("X")&&a[_0x37ca("0x44d")](33)[_0x37ca("0x451")](x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a[_0x37ca("0x44d")](41)[_0x37ca("0x451")](x.Y),null!=x[_0x37ca("0x4e9")]&&x.hasOwnProperty(_0x37ca("0x4e9"))&&a[_0x37ca("0x44d")](48)[_0x37ca("0x44e")](x[_0x37ca("0x4e9")]),null!=x.Z&&x.hasOwnProperty("Z")&&a[_0x37ca("0x44d")](57).double(x.Z),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r.create(x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,_=new(l.ESMap[_0x37ca("0x4e1")]);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 2:_.tid=x[_0x37ca("0x44e")]();break;case 3:_[_0x37ca("0x4e8")]=x[_0x37ca("0x44e")]();break;case 4:_.X=x[_0x37ca("0x451")]();break;case 5:_.Y=x.double();break;case 6:_[_0x37ca("0x4e9")]=x.int32();break;case 7:_.Z=x[_0x37ca("0x451")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&!o[_0x37ca("0x45e")](x._id)?_0x37ca("0x49e"):null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x43")])?_0x37ca("0x4ea"):null!=x[_0x37ca("0x4e8")]&&x.hasOwnProperty(_0x37ca("0x4e8"))&&!o[_0x37ca("0x45e")](x.rid)?"rid: integer expected":null!=x.X&&x[_0x37ca("0x1")]("X")&&"number"!=typeof x.X?_0x37ca("0x4eb"):null!=x.Y&&x[_0x37ca("0x1")]("Y")&&typeof x.Y!==_0x37ca("0x143")?_0x37ca("0x4d0"):null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4e9")])?_0x37ca("0x4ec"):null!=x.Z&&x.hasOwnProperty("Z")&&typeof x.Z!==_0x37ca("0x143")?_0x37ca("0x4ed"):null},x.fromObject=function(x){if(x instanceof l.ESMap[_0x37ca("0x4e1")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x4e1")]);return null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x[_0x37ca("0x43")]&&(a.tid=0|x.tid),null!=x[_0x37ca("0x4e8")]&&(a[_0x37ca("0x4e8")]=0|x[_0x37ca("0x4e8")]),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x[_0x37ca("0x4e9")]&&(a[_0x37ca("0x4e9")]=0|x[_0x37ca("0x4e9")]),null!=x.Z&&(a.Z=Number(x.Z)),a},x.from=x[_0x37ca("0x483")],x.toObject=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x176")]=0,c.tid=0,c.rid=0,c.X=0,c.Y=0,c[_0x37ca("0x4e9")]=0,c.Z=0),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x._id),null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&(c.tid=x.tid),null!=x[_0x37ca("0x4e8")]&&x[_0x37ca("0x1")](_0x37ca("0x4e8"))&&(c.rid=x.rid),null!=x.X&&x.hasOwnProperty("X")&&(c.X=x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&(c.Y=x.Y),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")]("sid")&&(c[_0x37ca("0x4e9")]=x.sid),null!=x.Z&&x.hasOwnProperty("Z")&&(c.Z=x.Z),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")].toObject(this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x4e0")]=function(){function x(x){if(x)for(var a=(0,e.default)(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")][_0x37ca("0x4e9")]=0,x[_0x37ca("0x11")][_0x37ca("0x4ee")]=0,x[_0x37ca("0x11")][_0x37ca("0x4ef")]=0,x[_0x37ca("0x11")][_0x37ca("0x1ab")]=0,x[_0x37ca("0x11")].length=0,x[_0x37ca("0x11")].direction="",x.prototype[_0x37ca("0x4f0")]="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s.create()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&a.uint32(16)[_0x37ca("0x44e")](x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")]("eid")&&a[_0x37ca("0x44d")](24)[_0x37ca("0x44e")](x[_0x37ca("0x4ee")]),null!=x[_0x37ca("0x4ef")]&&x[_0x37ca("0x1")](_0x37ca("0x4ef"))&&a.uint32(32)[_0x37ca("0x44e")](x[_0x37ca("0x4ef")]),null!=x[_0x37ca("0x1ab")]&&x[_0x37ca("0x1")]("rank")&&a[_0x37ca("0x44d")](40)[_0x37ca("0x44e")](x[_0x37ca("0x1ab")]),null!=x.length&&x[_0x37ca("0x1")](_0x37ca("0x4"))&&a[_0x37ca("0x44d")](49)[_0x37ca("0x451")](x.length),null!=x[_0x37ca("0x4f1")]&&x[_0x37ca("0x1")](_0x37ca("0x4f1"))&&a[_0x37ca("0x44d")](58)[_0x37ca("0xf")](x[_0x37ca("0x4f1")]),null!=x.bstair&&x[_0x37ca("0x1")](_0x37ca("0x4f0"))&&a[_0x37ca("0x44d")](66).string(x[_0x37ca("0x4f0")]),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,_=new(l[_0x37ca("0x34")].NavLineSet);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 2:_.sid=x[_0x37ca("0x44e")]();break;case 3:_[_0x37ca("0x4ee")]=x.int32();break;case 4:_[_0x37ca("0x4ef")]=x.int32();break;case 5:_[_0x37ca("0x1ab")]=x[_0x37ca("0x44e")]();break;case 6:_[_0x37ca("0x4")]=x[_0x37ca("0x451")]();break;case 7:_[_0x37ca("0x4f1")]=x[_0x37ca("0xf")]();break;case 8:_[_0x37ca("0x4f0")]=x[_0x37ca("0xf")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x.verify=function(x){return(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x._id&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o.isInteger(x[_0x37ca("0x176")])?"_id: integer expected":null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&!o.isInteger(x.sid)?_0x37ca("0x4ec"):null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&!o.isInteger(x.eid)?_0x37ca("0x4f2"):null!=x[_0x37ca("0x4ef")]&&x[_0x37ca("0x1")]("efnum")&&!o[_0x37ca("0x45e")](x.efnum)?_0x37ca("0x4f3"):null!=x[_0x37ca("0x1ab")]&&x[_0x37ca("0x1")](_0x37ca("0x1ab"))&&!o[_0x37ca("0x45e")](x.rank)?_0x37ca("0x4f4"):null!=x.length&&x[_0x37ca("0x1")](_0x37ca("0x4"))&&typeof x[_0x37ca("0x4")]!==_0x37ca("0x143")?_0x37ca("0x4f5"):null!=x[_0x37ca("0x4f1")]&&x[_0x37ca("0x1")]("direction")&&!o[_0x37ca("0x1ce")](x.direction)?_0x37ca("0x4f6"):null!=x[_0x37ca("0x4f0")]&&x.hasOwnProperty(_0x37ca("0x4f0"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4f0")])?_0x37ca("0x4f7"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l.ESMap[_0x37ca("0x4e0")])return x;var a=new(l[_0x37ca("0x34")][_0x37ca("0x4e0")]);return null!=x._id&&(a._id=0|x._id),null!=x.sid&&(a[_0x37ca("0x4e9")]=0|x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0x4ee")]&&(a[_0x37ca("0x4ee")]=0|x.eid),null!=x[_0x37ca("0x4ef")]&&(a[_0x37ca("0x4ef")]=0|x[_0x37ca("0x4ef")]),null!=x[_0x37ca("0x1ab")]&&(a[_0x37ca("0x1ab")]=0|x.rank),null!=x[_0x37ca("0x4")]&&(a.length=Number(x[_0x37ca("0x4")])),null!=x[_0x37ca("0x4f1")]&&(a.direction=String(x[_0x37ca("0x4f1")])),null!=x.bstair&&(a.bstair=String(x[_0x37ca("0x4f0")])),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a.defaults&&(c[_0x37ca("0x176")]=0,c[_0x37ca("0x4e9")]=0,c[_0x37ca("0x4ee")]=0,c[_0x37ca("0x4ef")]=0,c.rank=0,c[_0x37ca("0x4")]=0,c[_0x37ca("0x4f1")]="",c[_0x37ca("0x4f0")]=""),null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x.sid&&x.hasOwnProperty(_0x37ca("0x4e9"))&&(c[_0x37ca("0x4e9")]=x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0x4ee")]&&x.hasOwnProperty("eid")&&(c[_0x37ca("0x4ee")]=x[_0x37ca("0x4ee")]),null!=x[_0x37ca("0x4ef")]&&x[_0x37ca("0x1")](_0x37ca("0x4ef"))&&(c.efnum=x[_0x37ca("0x4ef")]),null!=x.rank&&x[_0x37ca("0x1")](_0x37ca("0x1ab"))&&(c[_0x37ca("0x1ab")]=x[_0x37ca("0x1ab")]),null!=x[_0x37ca("0x4")]&&x[_0x37ca("0x1")](_0x37ca("0x4"))&&(c[_0x37ca("0x4")]=x[_0x37ca("0x4")]),null!=x[_0x37ca("0x4f1")]&&x.hasOwnProperty(_0x37ca("0x4f1"))&&(c.direction=x.direction),null!=x.bstair&&x[_0x37ca("0x1")]("bstair")&&(c[_0x37ca("0x4f0")]=x[_0x37ca("0x4f0")]),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this.constructor.toObject(this,x)},x.prototype.toJSON=function(){return this.constructor[_0x37ca("0x48a")](this,n.util[_0x37ca("0x48d")])},x}(),i[_0x37ca("0x459")]=function(){function x(x){if(this[_0x37ca("0x4df")]={},this[_0x37ca("0x4f8")]={},x)for(var a=(0,e.default)(x),c=0;c<a.length;++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x4f9")]="",x[_0x37ca("0x11")][_0x37ca("0x4fa")]="",x.prototype.bgaudioplay=0,x[_0x37ca("0x11")][_0x37ca("0x4fb")]="",x[_0x37ca("0x11")][_0x37ca("0x4fc")]="",x.prototype[_0x37ca("0x4df")]=o[_0x37ca("0x495")],x.prototype.Infos=o[_0x37ca("0x495")],x.create=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){if(a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x4f9")]&&x[_0x37ca("0x1")](_0x37ca("0x4f9"))&&a[_0x37ca("0x44d")](10).string(x.serverurl),null!=x.bgaudio&&x[_0x37ca("0x1")](_0x37ca("0x4fa"))&&a.uint32(18)[_0x37ca("0xf")](x[_0x37ca("0x4fa")]),null!=x[_0x37ca("0x4fd")]&&x.hasOwnProperty(_0x37ca("0x4fd"))&&a[_0x37ca("0x44d")](24)[_0x37ca("0x44e")](x[_0x37ca("0x4fd")]),null!=x[_0x37ca("0x4fb")]&&x[_0x37ca("0x1")]("picscale")&&a.uint32(34)[_0x37ca("0xf")](x[_0x37ca("0x4fb")]),null!=x.msgscale&&x[_0x37ca("0x1")](_0x37ca("0x4fc"))&&a[_0x37ca("0x44d")](42)[_0x37ca("0xf")](x.msgscale),null!=x.Nodes&&x.hasOwnProperty(_0x37ca("0x4df")))for(var c=(0,e.default)(x[_0x37ca("0x4df")]),_=0;_<c[_0x37ca("0x4")];++_)a.uint32(50)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")][_0x37ca("0x4fe")][_0x37ca("0x44c")](x[_0x37ca("0x4df")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]().ldelim();if(null!=x.Infos&&x[_0x37ca("0x1")]("Infos"))for(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4f8")]),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](58)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l[_0x37ca("0x34")][_0x37ca("0x4ff")][_0x37ca("0x44c")](x[_0x37ca("0x4f8")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]().ldelim();return a},x.encodeDelimited=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c,_=void 0===a?x[_0x37ca("0x4bd")]:x[_0x37ca("0x3e8")]+a,e=new(l[_0x37ca("0x34")].PicSet);x[_0x37ca("0x3e8")]<_;){var t=x.uint32();switch(t>>>3){case 1:e.serverurl=x[_0x37ca("0xf")]();break;case 2:e[_0x37ca("0x4fa")]=x.string();break;case 3:e[_0x37ca("0x4fd")]=x[_0x37ca("0x44e")]();break;case 4:e[_0x37ca("0x4fb")]=x.string();break;case 5:e.msgscale=x[_0x37ca("0xf")]();break;case 6:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e[_0x37ca("0x4df")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x4df")]={}),c=x[_0x37ca("0x44e")](),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x4df")][c]=l[_0x37ca("0x34")][_0x37ca("0x4fe")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]());break;case 7:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e[_0x37ca("0x4f8")]===o[_0x37ca("0x495")]&&(e.Infos={}),c=x[_0x37ca("0x44e")](),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x4f8")][c]=l[_0x37ca("0x34")].PicClickSet.decode(x,x[_0x37ca("0x44d")]());break;default:x[_0x37ca("0x45a")](7&t)}}return e},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){if((typeof x===_0x37ca("0x8")?"undefined":(0,_.default)(x))!==_0x37ca("0xc")||null===x)return"object expected";if(null!=x[_0x37ca("0x4f9")]&&x[_0x37ca("0x1")](_0x37ca("0x4f9"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4f9")]))return _0x37ca("0x500");if(null!=x[_0x37ca("0x4fa")]&&x.hasOwnProperty("bgaudio")&&!o.isString(x.bgaudio))return _0x37ca("0x501");if(null!=x.bgaudioplay&&x[_0x37ca("0x1")](_0x37ca("0x4fd"))&&!o[_0x37ca("0x45e")](x.bgaudioplay))return _0x37ca("0x502");if(null!=x[_0x37ca("0x4fb")]&&x[_0x37ca("0x1")]("picscale")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4fb")]))return _0x37ca("0x503");if(null!=x.msgscale&&x[_0x37ca("0x1")](_0x37ca("0x4fc"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4fc")]))return"msgscale: string expected";if(null!=x[_0x37ca("0x4df")]&&x[_0x37ca("0x1")](_0x37ca("0x4df"))){if(!o[_0x37ca("0x32a")](x[_0x37ca("0x4df")]))return _0x37ca("0x504");for(var a=(0,e.default)(x.Nodes),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return _0x37ca("0x4e2");if(t=l[_0x37ca("0x34")].PicNodeSet[_0x37ca("0x45c")](x[_0x37ca("0x4df")][a[c]]))return _0x37ca("0x4e3")+t}}if(null!=x[_0x37ca("0x4f8")]&&x[_0x37ca("0x1")](_0x37ca("0x4f8"))){if(!o.isObject(x[_0x37ca("0x4f8")]))return"Infos: object expected";for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4f8")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return _0x37ca("0x505");var t;if(t=l[_0x37ca("0x34")].PicClickSet.verify(x[_0x37ca("0x4f8")][a[c]]))return _0x37ca("0x506")+t}}return null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0x34")][_0x37ca("0x459")])return x;var a=new(l[_0x37ca("0x34")].PicSet);if(null!=x.serverurl&&(a[_0x37ca("0x4f9")]=String(x[_0x37ca("0x4f9")])),null!=x[_0x37ca("0x4fa")]&&(a[_0x37ca("0x4fa")]=String(x.bgaudio)),null!=x.bgaudioplay&&(a.bgaudioplay=0|x[_0x37ca("0x4fd")]),null!=x[_0x37ca("0x4fb")]&&(a[_0x37ca("0x4fb")]=String(x[_0x37ca("0x4fb")])),null!=x[_0x37ca("0x4fc")]&&(a[_0x37ca("0x4fc")]=String(x[_0x37ca("0x4fc")])),x.Nodes){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4df")])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x507"));a[_0x37ca("0x4df")]={};for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")]),t=0;t<c.length;++t){if((0,_.default)(x[_0x37ca("0x4df")][c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x507"));a[_0x37ca("0x4df")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x4fe")][_0x37ca("0x483")](x[_0x37ca("0x4df")][c[t]])}}if(x[_0x37ca("0x4f8")]){if("object"!==(0,_[_0x37ca("0xe")])(x[_0x37ca("0x4f8")]))throw TypeError(_0x37ca("0x508"));for(a[_0x37ca("0x4f8")]={},c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4f8")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4f8")][c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0x508"));a[_0x37ca("0x4f8")][c[t]]=l[_0x37ca("0x34")].PicClickSet.fromObject(x[_0x37ca("0x4f8")][c[t]])}}return a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c,_={};if((a[_0x37ca("0x4b3")]||a[_0x37ca("0x489")])&&(_[_0x37ca("0x4df")]={},_[_0x37ca("0x4f8")]={}),a.defaults&&(_[_0x37ca("0x4f9")]="",_[_0x37ca("0x4fa")]="",_[_0x37ca("0x4fd")]=0,_.picscale="",_[_0x37ca("0x4fc")]=""),null!=x.serverurl&&x[_0x37ca("0x1")]("serverurl")&&(_[_0x37ca("0x4f9")]=x[_0x37ca("0x4f9")]),null!=x.bgaudio&&x[_0x37ca("0x1")](_0x37ca("0x4fa"))&&(_[_0x37ca("0x4fa")]=x[_0x37ca("0x4fa")]),null!=x[_0x37ca("0x4fd")]&&x[_0x37ca("0x1")](_0x37ca("0x4fd"))&&(_[_0x37ca("0x4fd")]=x[_0x37ca("0x4fd")]),null!=x[_0x37ca("0x4fb")]&&x.hasOwnProperty(_0x37ca("0x4fb"))&&(_.picscale=x[_0x37ca("0x4fb")]),null!=x[_0x37ca("0x4fc")]&&x[_0x37ca("0x1")](_0x37ca("0x4fc"))&&(_[_0x37ca("0x4fc")]=x[_0x37ca("0x4fc")]),x.Nodes&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")]))[_0x37ca("0x4")]){_.Nodes={};for(var t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x4df")][c[t]]=l[_0x37ca("0x34")][_0x37ca("0x4fe")][_0x37ca("0x48a")](x.Nodes[c[t]],a)}if(x.Infos&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4f8")]))[_0x37ca("0x4")])for(_[_0x37ca("0x4f8")]={},t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x4f8")][c[t]]=l.ESMap[_0x37ca("0x4ff")][_0x37ca("0x48a")](x.Infos[c[t]],a);return _},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this.constructor.toObject(this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x4fe")]=function(){function x(x){if(this[_0x37ca("0x509")]=[],this[_0x37ca("0x50a")]=[],x)for(var a=(0,e.default)(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x.prototype[_0x37ca("0x48f")]=0,x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")].url="",x.prototype[_0x37ca("0x50b")]=0,x.prototype.X=0,x.prototype.Y=0,x[_0x37ca("0x11")][_0x37ca("0x509")]=o.emptyArray,x[_0x37ca("0x11")][_0x37ca("0x50a")]=o[_0x37ca("0x446")],x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){if(a||(a=s[_0x37ca("0xd")]()),null!=x.floornum&&x.hasOwnProperty(_0x37ca("0x48f"))&&a[_0x37ca("0x44d")](8).int32(x[_0x37ca("0x48f")]),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a.uint32(16)[_0x37ca("0x44e")](x._id),null!=x[_0x37ca("0x4a")]&&x.hasOwnProperty(_0x37ca("0x4a"))&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x.url),null!=x[_0x37ca("0x50b")]&&x[_0x37ca("0x1")](_0x37ca("0x50b"))&&a[_0x37ca("0x44d")](32).int32(x[_0x37ca("0x50b")]),null!=x.X&&x[_0x37ca("0x1")]("X")&&a[_0x37ca("0x44d")](41).double(x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a[_0x37ca("0x44d")](49)[_0x37ca("0x451")](x.Y),null!=x.idlist1&&x[_0x37ca("0x509")][_0x37ca("0x4")]){a[_0x37ca("0x44d")](58).fork();for(var c=0;c<x[_0x37ca("0x509")][_0x37ca("0x4")];++c)a[_0x37ca("0x44e")](x.idlist1[c]);a[_0x37ca("0x457")]()}if(null!=x[_0x37ca("0x50a")]&&x.idlist2.length){for(a[_0x37ca("0x44d")](66)[_0x37ca("0x455")](),c=0;c<x[_0x37ca("0x50a")][_0x37ca("0x4")];++c)a[_0x37ca("0x44e")](x[_0x37ca("0x50a")][c]);a.ldelim()}return a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a).ldelim()},x.decode=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x.len:x[_0x37ca("0x3e8")]+a,_=new(l.ESMap[_0x37ca("0x4fe")]);x[_0x37ca("0x3e8")]<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_.floornum=x[_0x37ca("0x44e")]();break;case 2:_[_0x37ca("0x176")]=x.int32();break;case 3:_.url=x.string();break;case 4:_[_0x37ca("0x50b")]=x[_0x37ca("0x44e")]();break;case 5:_.X=x[_0x37ca("0x451")]();break;case 6:_.Y=x[_0x37ca("0x451")]();break;case 7:if(_[_0x37ca("0x509")]&&_.idlist1[_0x37ca("0x4")]||(_.idlist1=[]),2==(7&e))for(var t=x[_0x37ca("0x44d")]()+x.pos;x[_0x37ca("0x3e8")]<t;)_[_0x37ca("0x509")][_0x37ca("0x0")](x.int32());else _[_0x37ca("0x509")][_0x37ca("0x0")](x[_0x37ca("0x44e")]());break;case 8:if(_[_0x37ca("0x50a")]&&_[_0x37ca("0x50a")][_0x37ca("0x4")]||(_[_0x37ca("0x50a")]=[]),2==(7&e))for(t=x[_0x37ca("0x44d")]()+x.pos;x[_0x37ca("0x3e8")]<t;)_[_0x37ca("0x50a")][_0x37ca("0x0")](x[_0x37ca("0x44e")]());else _[_0x37ca("0x50a")][_0x37ca("0x0")](x[_0x37ca("0x44e")]());break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){if("object"!==(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))||null===x)return"object expected";if(null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x48f")]))return"floornum: integer expected";if(null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x._id))return _0x37ca("0x49e");if(null!=x[_0x37ca("0x4a")]&&x[_0x37ca("0x1")]("url")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4a")]))return"url: string expected";if(null!=x[_0x37ca("0x50b")]&&x.hasOwnProperty(_0x37ca("0x50b"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x50b")]))return _0x37ca("0x50c");if(null!=x.X&&x[_0x37ca("0x1")]("X")&&typeof x.X!==_0x37ca("0x143"))return"X: number expected";if(null!=x.Y&&x[_0x37ca("0x1")]("Y")&&typeof x.Y!==_0x37ca("0x143"))return _0x37ca("0x4d0");if(null!=x[_0x37ca("0x509")]&&x[_0x37ca("0x1")](_0x37ca("0x509"))){if(!Array[_0x37ca("0x474")](x.idlist1))return"idlist1: array expected";for(var a=0;a<x[_0x37ca("0x509")][_0x37ca("0x4")];++a)if(!o[_0x37ca("0x45e")](x[_0x37ca("0x509")][a]))return _0x37ca("0x50d")}if(null!=x.idlist2&&x.hasOwnProperty(_0x37ca("0x50a"))){if(!Array.isArray(x.idlist2))return _0x37ca("0x50e");for(a=0;a<x.idlist2[_0x37ca("0x4")];++a)if(!o.isInteger(x[_0x37ca("0x50a")][a]))return"idlist2: integer[] expected"}return null},x.fromObject=function(x){if(x instanceof l[_0x37ca("0x34")][_0x37ca("0x4fe")])return x;var a=new(l[_0x37ca("0x34")].PicNodeSet);if(null!=x[_0x37ca("0x48f")]&&(a[_0x37ca("0x48f")]=0|x[_0x37ca("0x48f")]),null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x[_0x37ca("0x4a")]&&(a[_0x37ca("0x4a")]=String(x[_0x37ca("0x4a")])),null!=x[_0x37ca("0x50b")]&&(a[_0x37ca("0x50b")]=0|x[_0x37ca("0x50b")]),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),x[_0x37ca("0x509")]){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x509")]))throw TypeError(_0x37ca("0x50f"));a[_0x37ca("0x509")]=[];for(var c=0;c<x[_0x37ca("0x509")].length;++c)a[_0x37ca("0x509")][c]=0|x[_0x37ca("0x509")][c]}if(x[_0x37ca("0x50a")]){if(!Array[_0x37ca("0x474")](x[_0x37ca("0x50a")]))throw TypeError(_0x37ca("0x510"));for(a[_0x37ca("0x50a")]=[],c=0;c<x[_0x37ca("0x50a")].length;++c)a.idlist2[c]=0|x[_0x37ca("0x50a")][c]}return a},x[_0x37ca("0x2db")]=x.fromObject,x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};if((a[_0x37ca("0x488")]||a[_0x37ca("0x489")])&&(c.idlist1=[],c[_0x37ca("0x50a")]=[]),a[_0x37ca("0x489")]&&(c[_0x37ca("0x48f")]=0,c[_0x37ca("0x176")]=0,c.url="",c.base=0,c.X=0,c.Y=0),null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&(c[_0x37ca("0x48f")]=x.floornum),null!=x._id&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c._id=x[_0x37ca("0x176")]),null!=x.url&&x[_0x37ca("0x1")](_0x37ca("0x4a"))&&(c[_0x37ca("0x4a")]=x[_0x37ca("0x4a")]),null!=x[_0x37ca("0x50b")]&&x[_0x37ca("0x1")](_0x37ca("0x50b"))&&(c[_0x37ca("0x50b")]=x.base),null!=x.X&&x.hasOwnProperty("X")&&(c.X=x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&(c.Y=x.Y),x.idlist1&&x[_0x37ca("0x509")][_0x37ca("0x4")]){c[_0x37ca("0x509")]=[];for(var _=0;_<x.idlist1[_0x37ca("0x4")];++_)c.idlist1[_]=x[_0x37ca("0x509")][_]}if(x.idlist2&&x[_0x37ca("0x50a")][_0x37ca("0x4")])for(c.idlist2=[],_=0;_<x[_0x37ca("0x50a")][_0x37ca("0x4")];++_)c[_0x37ca("0x50a")][_]=x.idlist2[_];return c},x.prototype[_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this.constructor[_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i[_0x37ca("0x4ff")]=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x48f")]=0,x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")][_0x37ca("0x511")]="",x.prototype[_0x37ca("0x512")]="",x[_0x37ca("0x11")][_0x37ca("0x513")]="",x[_0x37ca("0x11")].msgc="",x.prototype.X=0,x[_0x37ca("0x11")].Y=0,x[_0x37ca("0x11")].Z=0,x[_0x37ca("0x11")][_0x37ca("0x514")]="",x[_0x37ca("0x11")].csize="",x.create=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")]("floornum")&&a.uint32(8)[_0x37ca("0x44e")](x.floornum),null!=x[_0x37ca("0x176")]&&x.hasOwnProperty("_id")&&a[_0x37ca("0x44d")](16)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x.purl&&x[_0x37ca("0x1")](_0x37ca("0x511"))&&a.uint32(26)[_0x37ca("0xf")](x.purl),null!=x[_0x37ca("0x512")]&&x[_0x37ca("0x1")](_0x37ca("0x512"))&&a[_0x37ca("0x44d")](34).string(x.aurl),null!=x[_0x37ca("0x513")]&&x[_0x37ca("0x1")](_0x37ca("0x513"))&&a.uint32(42).string(x[_0x37ca("0x513")]),null!=x.msgc&&x[_0x37ca("0x1")](_0x37ca("0x515"))&&a.uint32(50)[_0x37ca("0xf")](x[_0x37ca("0x515")]),null!=x.X&&x.hasOwnProperty("X")&&a[_0x37ca("0x44d")](57).double(x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a.uint32(65).double(x.Y),null!=x.Z&&x[_0x37ca("0x1")]("Z")&&a[_0x37ca("0x44d")](73).double(x.Z),null!=x[_0x37ca("0x514")]&&x[_0x37ca("0x1")]("curl")&&a.uint32(82)[_0x37ca("0xf")](x.curl),null!=x[_0x37ca("0x516")]&&x[_0x37ca("0x1")](_0x37ca("0x516"))&&a.uint32(90)[_0x37ca("0xf")](x[_0x37ca("0x516")]),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,_=new(l[_0x37ca("0x34")][_0x37ca("0x4ff")]);x[_0x37ca("0x3e8")]<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_.floornum=x[_0x37ca("0x44e")]();break;case 2:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 3:_[_0x37ca("0x511")]=x[_0x37ca("0xf")]();break;case 4:_[_0x37ca("0x512")]=x[_0x37ca("0xf")]();break;case 5:_[_0x37ca("0x513")]=x[_0x37ca("0xf")]();break;case 6:_[_0x37ca("0x515")]=x[_0x37ca("0xf")]();break;case 7:_.X=x.double();break;case 8:_.Y=x[_0x37ca("0x451")]();break;case 9:_.Z=x[_0x37ca("0x451")]();break;case 10:_[_0x37ca("0x514")]=x[_0x37ca("0xf")]();break;case 11:_.csize=x[_0x37ca("0xf")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(void 0===x?_0x37ca("0x8"):(0,_.default)(x))!==_0x37ca("0xc")||null===x?"object expected":null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x48f")])?_0x37ca("0x517"):null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o.isInteger(x[_0x37ca("0x176")])?"_id: integer expected":null!=x[_0x37ca("0x511")]&&x[_0x37ca("0x1")](_0x37ca("0x511"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x511")])?_0x37ca("0x518"):null!=x[_0x37ca("0x512")]&&x[_0x37ca("0x1")](_0x37ca("0x512"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x512")])?"aurl: string expected":null!=x[_0x37ca("0x513")]&&x[_0x37ca("0x1")](_0x37ca("0x513"))&&!o.isString(x[_0x37ca("0x513")])?_0x37ca("0x519"):null!=x[_0x37ca("0x515")]&&x[_0x37ca("0x1")](_0x37ca("0x515"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x515")])?"msgc: string expected":null!=x.X&&x[_0x37ca("0x1")]("X")&&typeof x.X!==_0x37ca("0x143")?_0x37ca("0x4eb"):null!=x.Y&&x.hasOwnProperty("Y")&&typeof x.Y!==_0x37ca("0x143")?_0x37ca("0x4d0"):null!=x.Z&&x[_0x37ca("0x1")]("Z")&&typeof x.Z!==_0x37ca("0x143")?_0x37ca("0x4ed"):null!=x[_0x37ca("0x514")]&&x[_0x37ca("0x1")](_0x37ca("0x514"))&&!o[_0x37ca("0x1ce")](x.curl)?_0x37ca("0x51a"):null!=x[_0x37ca("0x516")]&&x[_0x37ca("0x1")]("csize")&&!o[_0x37ca("0x1ce")](x.csize)?_0x37ca("0x51b"):null},x.fromObject=function(x){if(x instanceof l[_0x37ca("0x34")].PicClickSet)return x;var a=new(l[_0x37ca("0x34")].PicClickSet);return null!=x[_0x37ca("0x48f")]&&(a[_0x37ca("0x48f")]=0|x.floornum),null!=x._id&&(a._id=0|x[_0x37ca("0x176")]),null!=x.purl&&(a[_0x37ca("0x511")]=String(x[_0x37ca("0x511")])),null!=x[_0x37ca("0x512")]&&(a[_0x37ca("0x512")]=String(x[_0x37ca("0x512")])),null!=x[_0x37ca("0x513")]&&(a[_0x37ca("0x513")]=String(x[_0x37ca("0x513")])),null!=x[_0x37ca("0x515")]&&(a.msgc=String(x.msgc)),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.Z&&(a.Z=Number(x.Z)),null!=x[_0x37ca("0x514")]&&(a.curl=String(x[_0x37ca("0x514")])),null!=x.csize&&(a.csize=String(x[_0x37ca("0x516")])),a},x.from=x.fromObject,x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x48f")]=0,c[_0x37ca("0x176")]=0,c[_0x37ca("0x511")]="",c.aurl="",c[_0x37ca("0x513")]="",c.msgc="",c.X=0,c.Y=0,c.Z=0,c[_0x37ca("0x514")]="",c[_0x37ca("0x516")]=""),null!=x[_0x37ca("0x48f")]&&x[_0x37ca("0x1")](_0x37ca("0x48f"))&&(c[_0x37ca("0x48f")]=x.floornum),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x.purl&&x[_0x37ca("0x1")]("purl")&&(c[_0x37ca("0x511")]=x[_0x37ca("0x511")]),null!=x[_0x37ca("0x512")]&&x[_0x37ca("0x1")](_0x37ca("0x512"))&&(c[_0x37ca("0x512")]=x[_0x37ca("0x512")]),null!=x[_0x37ca("0x513")]&&x.hasOwnProperty("msgt")&&(c[_0x37ca("0x513")]=x[_0x37ca("0x513")]),null!=x.msgc&&x[_0x37ca("0x1")](_0x37ca("0x515"))&&(c[_0x37ca("0x515")]=x[_0x37ca("0x515")]),null!=x.X&&x[_0x37ca("0x1")]("X")&&(c.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(c.Y=x.Y),null!=x.Z&&x[_0x37ca("0x1")]("Z")&&(c.Z=x.Z),null!=x[_0x37ca("0x514")]&&x.hasOwnProperty(_0x37ca("0x514"))&&(c[_0x37ca("0x514")]=x.curl),null!=x.csize&&x[_0x37ca("0x1")](_0x37ca("0x516"))&&(c[_0x37ca("0x516")]=x[_0x37ca("0x516")]),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")].toObject(this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i),x[_0x37ca("0x7")]=l},function(x,a,c){"use strict";var _=t(c(10)),e=t(c(16));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=c(65),n=i[_0x37ca("0x51c")],r=i[_0x37ca("0x42c")],s=i[_0x37ca("0x48c")],o=i[_0x37ca("0x42d")][_0x37ca("0xe")]||(i[_0x37ca("0x42d")].default={});o[_0x37ca("0x51d")]=function(){var x=null,a=null;function c(x){if(x)for(var a=(0,e.default)(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return c[_0x37ca("0x11")].v=0,c.prototype[_0x37ca("0x51e")]=0,c[_0x37ca("0x11")][_0x37ca("0x51f")]="",c[_0x37ca("0x11")][_0x37ca("0x430")]="",c[_0x37ca("0x11")]._id=0,c[_0x37ca("0x11")][_0x37ca("0x43")]=0,c[_0x37ca("0x11")][_0x37ca("0x1aa")]="",c[_0x37ca("0x11")][_0x37ca("0x431")]="",c[_0x37ca("0x11")].adcode="",c[_0x37ca("0x11")].AS=0,c.prototype[_0x37ca("0x520")]=0,c[_0x37ca("0x11")].AngleY=0,c[_0x37ca("0x11")].AngleZ=0,c[_0x37ca("0x11")].x=0,c[_0x37ca("0x11")].y=0,c[_0x37ca("0x11")].z=0,c[_0x37ca("0x11")][_0x37ca("0x43e")]=s[_0x37ca("0x521")]?s[_0x37ca("0x521")].fromBits(0,0,!1):0,c[_0x37ca("0x11")][_0x37ca("0x43f")]=s[_0x37ca("0x521")]?s[_0x37ca("0x521")][_0x37ca("0x522")](0,0,!1):0,c.prototype[_0x37ca("0x453")]=s.Long?s[_0x37ca("0x521")][_0x37ca("0x522")](0,0,!1):0,c[_0x37ca("0x11")][_0x37ca("0x440")]=s.Long?s[_0x37ca("0x521")][_0x37ca("0x522")](0,0,!1):0,c.prototype[_0x37ca("0x523")]="",c[_0x37ca("0x11")][_0x37ca("0x524")]="",c.prototype[_0x37ca("0x525")]="",c[_0x37ca("0x11")][_0x37ca("0x526")]=0,c.prototype[_0x37ca("0x527")]=0,c.prototype.Remark="",c[_0x37ca("0x11")].styleid="",c[_0x37ca("0x11")][_0x37ca("0x79")]="",c[_0x37ca("0x11")][_0x37ca("0x528")]="",c.prototype[_0x37ca("0x449")]="",c.prototype[_0x37ca("0x529")]="",c[_0x37ca("0x11")].o1=0,c[_0x37ca("0x11")].o2=0,c.prototype.ul=0,c[_0x37ca("0x11")][_0x37ca("0x44a")]="",c.prototype[_0x37ca("0x44b")]="",c[_0x37ca("0x11")].l1=0,c[_0x37ca("0x11")].l2=0,c[_0x37ca("0x11")].l3=0,c.prototype.l4=0,c[_0x37ca("0x11")][_0x37ca("0x52a")]="",c.prototype.eid="",c.prototype[_0x37ca("0x52b")]="",c.create=function(x){return new c(x)},c[_0x37ca("0x44c")]=function(x,a){return a||(a=r.create()),null!=x.v&&x[_0x37ca("0x1")]("v")&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x.v),null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")]("mtime")&&a[_0x37ca("0x44d")](16)[_0x37ca("0x44e")](x[_0x37ca("0x51e")]),null!=x[_0x37ca("0x51f")]&&x[_0x37ca("0x1")](_0x37ca("0x51f"))&&a[_0x37ca("0x44d")](26).string(x.ltime),null!=x.Hash&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&a[_0x37ca("0x44d")](34)[_0x37ca("0xf")](x[_0x37ca("0x430")]),null!=x[_0x37ca("0x176")]&&x.hasOwnProperty("_id")&&a[_0x37ca("0x44d")](40).int32(x[_0x37ca("0x176")]),null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&a.uint32(48)[_0x37ca("0x44e")](x[_0x37ca("0x43")]),null!=x.name&&x.hasOwnProperty("name")&&a[_0x37ca("0x44d")](58)[_0x37ca("0xf")](x[_0x37ca("0x1aa")]),null!=x[_0x37ca("0x431")]&&x[_0x37ca("0x1")](_0x37ca("0x431"))&&a[_0x37ca("0x44d")](66)[_0x37ca("0xf")](x[_0x37ca("0x431")]),null!=x.adcode&&x[_0x37ca("0x1")](_0x37ca("0x433"))&&a[_0x37ca("0x44d")](74).string(x[_0x37ca("0x433")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&a[_0x37ca("0x44d")](81)[_0x37ca("0x451")](x.AS),null!=x[_0x37ca("0x520")]&&x[_0x37ca("0x1")](_0x37ca("0x520"))&&a[_0x37ca("0x44d")](89)[_0x37ca("0x451")](x[_0x37ca("0x520")]),null!=x.AngleY&&x[_0x37ca("0x1")](_0x37ca("0x52c"))&&a.uint32(97)[_0x37ca("0x451")](x[_0x37ca("0x52c")]),null!=x[_0x37ca("0x52d")]&&x[_0x37ca("0x1")]("AngleZ")&&a[_0x37ca("0x44d")](105).double(x.AngleZ),null!=x.x&&x[_0x37ca("0x1")]("x")&&a[_0x37ca("0x44d")](113)[_0x37ca("0x451")](x.x),null!=x.y&&x[_0x37ca("0x1")]("y")&&a.uint32(121).double(x.y),null!=x.z&&x[_0x37ca("0x1")]("z")&&a[_0x37ca("0x44d")](129)[_0x37ca("0x451")](x.z),null!=x.minX&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&a[_0x37ca("0x44d")](136)[_0x37ca("0x52e")](x[_0x37ca("0x43e")]),null!=x[_0x37ca("0x43f")]&&x[_0x37ca("0x1")]("minY")&&a.uint32(144)[_0x37ca("0x52e")](x[_0x37ca("0x43f")]),null!=x.maxX&&x[_0x37ca("0x1")](_0x37ca("0x453"))&&a[_0x37ca("0x44d")](152)[_0x37ca("0x52e")](x[_0x37ca("0x453")]),null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")](_0x37ca("0x440"))&&a.uint32(160)[_0x37ca("0x52e")](x.maxY),null!=x[_0x37ca("0x523")]&&x.hasOwnProperty(_0x37ca("0x523"))&&a[_0x37ca("0x44d")](170).string(x[_0x37ca("0x523")]),null!=x.offsetroad&&x.hasOwnProperty(_0x37ca("0x524"))&&a.uint32(178).string(x.offsetroad),null!=x[_0x37ca("0x525")]&&x[_0x37ca("0x1")](_0x37ca("0x525"))&&a[_0x37ca("0x44d")](186).string(x.tileurl),null!=x[_0x37ca("0x526")]&&x[_0x37ca("0x1")](_0x37ca("0x526"))&&a[_0x37ca("0x44d")](192)[_0x37ca("0x44e")](x[_0x37ca("0x526")]),null!=x[_0x37ca("0x527")]&&x[_0x37ca("0x1")]("modnums")&&a.uint32(200)[_0x37ca("0x44e")](x[_0x37ca("0x527")]),null!=x[_0x37ca("0x442")]&&x[_0x37ca("0x1")](_0x37ca("0x442"))&&a[_0x37ca("0x44d")](210)[_0x37ca("0xf")](x[_0x37ca("0x442")]),null!=x.styleid&&x.hasOwnProperty(_0x37ca("0x448"))&&a[_0x37ca("0x44d")](218)[_0x37ca("0xf")](x[_0x37ca("0x448")]),null!=x[_0x37ca("0x79")]&&x.hasOwnProperty(_0x37ca("0x79"))&&a[_0x37ca("0x44d")](226).string(x[_0x37ca("0x79")]),null!=x[_0x37ca("0x528")]&&x.hasOwnProperty(_0x37ca("0x528"))&&a.uint32(234)[_0x37ca("0xf")](x[_0x37ca("0x528")]),null!=x.logotoken&&x.hasOwnProperty(_0x37ca("0x449"))&&a[_0x37ca("0x44d")](242).string(x[_0x37ca("0x449")]),null!=x[_0x37ca("0x529")]&&x[_0x37ca("0x1")]("tiletoken")&&a[_0x37ca("0x44d")](250)[_0x37ca("0xf")](x[_0x37ca("0x529")]),null!=x.o1&&x[_0x37ca("0x1")]("o1")&&a[_0x37ca("0x44d")](256)[_0x37ca("0x44e")](x.o1),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&a[_0x37ca("0x44d")](264)[_0x37ca("0x44e")](x.o2),null!=x.ul&&x[_0x37ca("0x1")]("ul")&&a[_0x37ca("0x44d")](272).int32(x.ul),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](282)[_0x37ca("0xf")](x.other1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&a.uint32(290)[_0x37ca("0xf")](x[_0x37ca("0x44b")]),null!=x.l1&&x.hasOwnProperty("l1")&&a[_0x37ca("0x44d")](296)[_0x37ca("0x44e")](x.l1),null!=x.l2&&x[_0x37ca("0x1")]("l2")&&a.uint32(304)[_0x37ca("0x44e")](x.l2),null!=x.l3&&x[_0x37ca("0x1")]("l3")&&a.uint32(312)[_0x37ca("0x44e")](x.l3),null!=x.l4&&x.hasOwnProperty("l4")&&a[_0x37ca("0x44d")](320)[_0x37ca("0x44e")](x.l4),null!=x[_0x37ca("0x52a")]&&x[_0x37ca("0x1")](_0x37ca("0x52a"))&&a[_0x37ca("0x44d")](330).string(x.alist),null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&a[_0x37ca("0x44d")](338)[_0x37ca("0xf")](x[_0x37ca("0x4ee")]),null!=x[_0x37ca("0x52b")]&&x[_0x37ca("0x1")]("bidlist")&&a[_0x37ca("0x44d")](346).string(x[_0x37ca("0x52b")]),a},c[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},c[_0x37ca("0x7c")]=function(c,_){c instanceof n||(c=n[_0x37ca("0xd")](c));for(var e=void 0===_?c[_0x37ca("0x4bd")]:c.pos+_,t=new o.ESCityLicSet;c[_0x37ca("0x3e8")]<e;){var i=c[_0x37ca("0x44d")]();switch(i>>>3){case 1:t.v=c[_0x37ca("0x44e")]();break;case 2:t.mtime=c[_0x37ca("0x44e")]();break;case 3:t[_0x37ca("0x51f")]=c[_0x37ca("0xf")]();break;case 4:t[_0x37ca("0x430")]=c[_0x37ca("0xf")]();break;case 5:t._id=c[_0x37ca("0x44e")]();break;case 6:t[_0x37ca("0x43")]=c[_0x37ca("0x44e")]();break;case 7:t[_0x37ca("0x1aa")]=c[_0x37ca("0xf")]();break;case 8:t[_0x37ca("0x431")]=c[_0x37ca("0xf")]();break;case 9:t.adcode=c[_0x37ca("0xf")]();break;case 10:t.AS=c[_0x37ca("0x451")]();break;case 11:t[_0x37ca("0x520")]=c.double();break;case 12:t.AngleY=c.double();break;case 13:t.AngleZ=c.double();break;case 14:t.x=c[_0x37ca("0x451")]();break;case 15:t.y=c[_0x37ca("0x451")]();break;case 16:t.z=c[_0x37ca("0x451")]();break;case 17:t[_0x37ca("0x43e")]=c[_0x37ca("0x52e")]();break;case 18:t[_0x37ca("0x43f")]=c.int64();break;case 19:t[_0x37ca("0x453")]=c[_0x37ca("0x52e")]();break;case 20:t[_0x37ca("0x440")]=c[_0x37ca("0x52e")]();break;case 21:t[_0x37ca("0x523")]=c[_0x37ca("0xf")]();break;case 22:t[_0x37ca("0x524")]=c[_0x37ca("0xf")]();break;case 23:t[_0x37ca("0x525")]=c.string();break;case 24:t[_0x37ca("0x526")]=c[_0x37ca("0x44e")]();break;case 25:t[_0x37ca("0x527")]=c[_0x37ca("0x44e")]();break;case 26:t[_0x37ca("0x442")]=c[_0x37ca("0xf")]();break;case 27:t.styleid=c[_0x37ca("0xf")]();break;case 28:t[_0x37ca("0x79")]=c[_0x37ca("0xf")]();break;case 29:t.cids=c[_0x37ca("0xf")]();break;case 30:t[_0x37ca("0x449")]=c.string();break;case 31:t[_0x37ca("0x529")]=c[_0x37ca("0xf")]();break;case 32:t.o1=c[_0x37ca("0x44e")]();break;case 33:t.o2=c[_0x37ca("0x44e")]();break;case 34:t.ul=c.int32();break;case 35:t[_0x37ca("0x44a")]=c.string();break;case 36:t[_0x37ca("0x44b")]=c[_0x37ca("0xf")]();break;case 37:t.l1=c[_0x37ca("0x44e")]();break;case 38:t.l2=c.int32();break;case 39:t.l3=c[_0x37ca("0x44e")]();break;case 40:t.l4=c[_0x37ca("0x44e")]();break;case 41:t[_0x37ca("0x52a")]=c[_0x37ca("0xf")]();break;case 42:t[_0x37ca("0x4ee")]=c[_0x37ca("0xf")]();break;case 43:t[_0x37ca("0x52b")]=c[_0x37ca("0xf")]();break;default:c[_0x37ca("0x45a")](7&i)}}return a=t.Hash+t[_0x37ca("0x79")]+t[_0x37ca("0x449")]+t.ul+t.o1+t.o2+t[_0x37ca("0x529")],x=t,t},c.comparehs=function(){var c=x[_0x37ca("0x430")]+x[_0x37ca("0x79")]+x[_0x37ca("0x449")]+x.ul+x.o1+x.o2+x[_0x37ca("0x529")];return a===c},c[_0x37ca("0x45b")]=function(x){return x instanceof n||(x=n(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},c[_0x37ca("0x45c")]=function(x){return(typeof x===_0x37ca("0x8")?"undefined":(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?"object expected":null!=x.v&&x[_0x37ca("0x1")]("v")&&!s[_0x37ca("0x45e")](x.v)?"v: integer expected":null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")]("mtime")&&!s.isInteger(x[_0x37ca("0x51e")])?_0x37ca("0x52f"):null!=x[_0x37ca("0x51f")]&&x[_0x37ca("0x1")](_0x37ca("0x51f"))&&!s[_0x37ca("0x1ce")](x.ltime)?_0x37ca("0x530"):null!=x[_0x37ca("0x430")]&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x430")])?_0x37ca("0x531"):null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!s[_0x37ca("0x45e")](x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x[_0x37ca("0x43")]&&x.hasOwnProperty(_0x37ca("0x43"))&&!s[_0x37ca("0x45e")](x.tid)?_0x37ca("0x4ea"):null!=x.name&&x.hasOwnProperty(_0x37ca("0x1aa"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x1aa")])?"name: string expected":null!=x.nameEn&&x.hasOwnProperty(_0x37ca("0x431"))&&!s[_0x37ca("0x1ce")](x.nameEn)?_0x37ca("0x461"):null!=x.adcode&&x[_0x37ca("0x1")](_0x37ca("0x433"))&&!s[_0x37ca("0x1ce")](x.adcode)?_0x37ca("0x463"):null!=x.AS&&x[_0x37ca("0x1")]("AS")&&typeof x.AS!==_0x37ca("0x143")?_0x37ca("0x4c9"):null!=x[_0x37ca("0x520")]&&x[_0x37ca("0x1")]("AngleX")&&typeof x.AngleX!==_0x37ca("0x143")?_0x37ca("0x532"):null!=x.AngleY&&x[_0x37ca("0x1")](_0x37ca("0x52c"))&&typeof x[_0x37ca("0x52c")]!==_0x37ca("0x143")?_0x37ca("0x533"):null!=x[_0x37ca("0x52d")]&&x[_0x37ca("0x1")]("AngleZ")&&typeof x[_0x37ca("0x52d")]!==_0x37ca("0x143")?_0x37ca("0x534"):null!=x.x&&x[_0x37ca("0x1")]("x")&&typeof x.x!==_0x37ca("0x143")?_0x37ca("0x46b"):null!=x.y&&x[_0x37ca("0x1")]("y")&&typeof x.y!==_0x37ca("0x143")?"y: number expected":null!=x.z&&x[_0x37ca("0x1")]("z")&&typeof x.z!==_0x37ca("0x143")?_0x37ca("0x46d"):null!=x.minX&&x.hasOwnProperty(_0x37ca("0x43e"))&&!(s[_0x37ca("0x45e")](x[_0x37ca("0x43e")])||x[_0x37ca("0x43e")]&&s.isInteger(x[_0x37ca("0x43e")].low)&&s.isInteger(x[_0x37ca("0x43e")].high))?_0x37ca("0x535"):null!=x[_0x37ca("0x43f")]&&x.hasOwnProperty(_0x37ca("0x43f"))&&!(s[_0x37ca("0x45e")](x[_0x37ca("0x43f")])||x.minY&&s[_0x37ca("0x45e")](x[_0x37ca("0x43f")][_0x37ca("0x536")])&&s[_0x37ca("0x45e")](x[_0x37ca("0x43f")][_0x37ca("0x537")]))?_0x37ca("0x538"):null!=x[_0x37ca("0x453")]&&x[_0x37ca("0x1")](_0x37ca("0x453"))&&!(s[_0x37ca("0x45e")](x[_0x37ca("0x453")])||x[_0x37ca("0x453")]&&s[_0x37ca("0x45e")](x[_0x37ca("0x453")][_0x37ca("0x536")])&&s.isInteger(x[_0x37ca("0x453")][_0x37ca("0x537")]))?_0x37ca("0x539"):null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")](_0x37ca("0x440"))&&!(s[_0x37ca("0x45e")](x.maxY)||x.maxY&&s[_0x37ca("0x45e")](x[_0x37ca("0x440")][_0x37ca("0x536")])&&s[_0x37ca("0x45e")](x.maxY.high))?_0x37ca("0x53a"):null!=x[_0x37ca("0x523")]&&x[_0x37ca("0x1")](_0x37ca("0x523"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x523")])?_0x37ca("0x53b"):null!=x.offsetroad&&x.hasOwnProperty(_0x37ca("0x524"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x524")])?_0x37ca("0x53c"):null!=x[_0x37ca("0x525")]&&x.hasOwnProperty(_0x37ca("0x525"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x525")])?"tileurl: string expected":null!=x[_0x37ca("0x526")]&&x[_0x37ca("0x1")]("bidnums")&&!s[_0x37ca("0x45e")](x[_0x37ca("0x526")])?_0x37ca("0x53d"):null!=x[_0x37ca("0x527")]&&x[_0x37ca("0x1")](_0x37ca("0x527"))&&!s[_0x37ca("0x45e")](x[_0x37ca("0x527")])?_0x37ca("0x53e"):null!=x[_0x37ca("0x442")]&&x.hasOwnProperty(_0x37ca("0x442"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x442")])?_0x37ca("0x472"):null!=x[_0x37ca("0x448")]&&x[_0x37ca("0x1")](_0x37ca("0x448"))&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x448")])?_0x37ca("0x47a"):null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&!s.isString(x[_0x37ca("0x79")])?_0x37ca("0x47b"):null!=x[_0x37ca("0x528")]&&x[_0x37ca("0x1")](_0x37ca("0x528"))&&!s.isString(x.cids)?_0x37ca("0x53f"):null!=x[_0x37ca("0x449")]&&x.hasOwnProperty("logotoken")&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x449")])?_0x37ca("0x47c"):null!=x[_0x37ca("0x529")]&&x[_0x37ca("0x1")](_0x37ca("0x529"))&&!s.isString(x[_0x37ca("0x529")])?"tiletoken: string expected":null!=x.o1&&x[_0x37ca("0x1")]("o1")&&!s[_0x37ca("0x45e")](x.o1)?_0x37ca("0x47e"):null!=x.o2&&x[_0x37ca("0x1")]("o2")&&!s[_0x37ca("0x45e")](x.o2)?_0x37ca("0x540"):null!=x.ul&&x[_0x37ca("0x1")]("ul")&&!s[_0x37ca("0x45e")](x.ul)?_0x37ca("0x541"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")]("other1")&&!s[_0x37ca("0x1ce")](x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&!s[_0x37ca("0x1ce")](x.other2)?_0x37ca("0x4ae"):null!=x.l1&&x[_0x37ca("0x1")]("l1")&&!s[_0x37ca("0x45e")](x.l1)?_0x37ca("0x542"):null!=x.l2&&x.hasOwnProperty("l2")&&!s[_0x37ca("0x45e")](x.l2)?_0x37ca("0x543"):null!=x.l3&&x[_0x37ca("0x1")]("l3")&&!s[_0x37ca("0x45e")](x.l3)?_0x37ca("0x544"):null!=x.l4&&x.hasOwnProperty("l4")&&!s[_0x37ca("0x45e")](x.l4)?_0x37ca("0x545"):null!=x[_0x37ca("0x52a")]&&x[_0x37ca("0x1")](_0x37ca("0x52a"))&&!s.isString(x[_0x37ca("0x52a")])?"alist: string expected":null!=x.eid&&x.hasOwnProperty("eid")&&!s.isString(x.eid)?_0x37ca("0x546"):null!=x[_0x37ca("0x52b")]&&x[_0x37ca("0x1")](_0x37ca("0x52b"))&&!s[_0x37ca("0x1ce")](x.bidlist)?"bidlist: string expected":null},c[_0x37ca("0x483")]=function(x){if(x instanceof o[_0x37ca("0x51d")])return x;var a=new(o[_0x37ca("0x51d")]);return null!=x.v&&(a.v=0|x.v),null!=x[_0x37ca("0x51e")]&&(a.mtime=0|x[_0x37ca("0x51e")]),null!=x[_0x37ca("0x51f")]&&(a.ltime=String(x.ltime)),null!=x.Hash&&(a.Hash=String(x[_0x37ca("0x430")])),null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x._id),null!=x[_0x37ca("0x43")]&&(a[_0x37ca("0x43")]=0|x[_0x37ca("0x43")]),null!=x.name&&(a[_0x37ca("0x1aa")]=String(x[_0x37ca("0x1aa")])),null!=x[_0x37ca("0x431")]&&(a[_0x37ca("0x431")]=String(x.nameEn)),null!=x[_0x37ca("0x433")]&&(a[_0x37ca("0x433")]=String(x[_0x37ca("0x433")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x37ca("0x520")]&&(a.AngleX=Number(x[_0x37ca("0x520")])),null!=x[_0x37ca("0x52c")]&&(a.AngleY=Number(x.AngleY)),null!=x[_0x37ca("0x52d")]&&(a[_0x37ca("0x52d")]=Number(x[_0x37ca("0x52d")])),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x[_0x37ca("0x43e")]&&(s.Long?(a[_0x37ca("0x43e")]=s[_0x37ca("0x521")][_0x37ca("0x547")](x[_0x37ca("0x43e")])).unsigned=!1:typeof x.minX===_0x37ca("0xf")?a.minX=parseInt(x[_0x37ca("0x43e")],10):typeof x[_0x37ca("0x43e")]===_0x37ca("0x143")?a[_0x37ca("0x43e")]=x.minX:"object"===(0,_[_0x37ca("0xe")])(x.minX)&&(a[_0x37ca("0x43e")]=new s.LongBits(x[_0x37ca("0x43e")][_0x37ca("0x536")]>>>0,x.minX[_0x37ca("0x537")]>>>0)[_0x37ca("0x548")]())),null!=x[_0x37ca("0x43f")]&&(s[_0x37ca("0x521")]?(a[_0x37ca("0x43f")]=s[_0x37ca("0x521")][_0x37ca("0x547")](x[_0x37ca("0x43f")]))[_0x37ca("0x549")]=!1:typeof x[_0x37ca("0x43f")]===_0x37ca("0xf")?a[_0x37ca("0x43f")]=parseInt(x.minY,10):"number"==typeof x.minY?a[_0x37ca("0x43f")]=x[_0x37ca("0x43f")]:(0,_[_0x37ca("0xe")])(x[_0x37ca("0x43f")])===_0x37ca("0xc")&&(a[_0x37ca("0x43f")]=new(s[_0x37ca("0x54a")])(x.minY.low>>>0,x[_0x37ca("0x43f")][_0x37ca("0x537")]>>>0).toNumber())),null!=x[_0x37ca("0x453")]&&(s[_0x37ca("0x521")]?(a.maxX=s[_0x37ca("0x521")].fromValue(x[_0x37ca("0x453")])).unsigned=!1:typeof x.maxX===_0x37ca("0xf")?a.maxX=parseInt(x[_0x37ca("0x453")],10):typeof x.maxX===_0x37ca("0x143")?a[_0x37ca("0x453")]=x[_0x37ca("0x453")]:"object"===(0,_[_0x37ca("0xe")])(x[_0x37ca("0x453")])&&(a.maxX=new(s[_0x37ca("0x54a")])(x[_0x37ca("0x453")][_0x37ca("0x536")]>>>0,x[_0x37ca("0x453")][_0x37ca("0x537")]>>>0)[_0x37ca("0x548")]())),null!=x.maxY&&(s.Long?(a.maxY=s.Long[_0x37ca("0x547")](x[_0x37ca("0x440")])).unsigned=!1:"string"==typeof x.maxY?a[_0x37ca("0x440")]=parseInt(x[_0x37ca("0x440")],10):typeof x[_0x37ca("0x440")]===_0x37ca("0x143")?a[_0x37ca("0x440")]=x.maxY:"object"===(0,_[_0x37ca("0xe")])(x[_0x37ca("0x440")])&&(a[_0x37ca("0x440")]=new s.LongBits(x[_0x37ca("0x440")][_0x37ca("0x536")]>>>0,x[_0x37ca("0x440")][_0x37ca("0x537")]>>>0)[_0x37ca("0x548")]())),null!=x[_0x37ca("0x523")]&&(a[_0x37ca("0x523")]=String(x[_0x37ca("0x523")])),null!=x[_0x37ca("0x524")]&&(a[_0x37ca("0x524")]=String(x[_0x37ca("0x524")])),null!=x[_0x37ca("0x525")]&&(a[_0x37ca("0x525")]=String(x[_0x37ca("0x525")])),null!=x.bidnums&&(a[_0x37ca("0x526")]=0|x[_0x37ca("0x526")]),null!=x[_0x37ca("0x527")]&&(a.modnums=0|x[_0x37ca("0x527")]),null!=x[_0x37ca("0x442")]&&(a[_0x37ca("0x442")]=String(x[_0x37ca("0x442")])),null!=x[_0x37ca("0x448")]&&(a[_0x37ca("0x448")]=String(x[_0x37ca("0x448")])),null!=x[_0x37ca("0x79")]&&(a.token=String(x[_0x37ca("0x79")])),null!=x[_0x37ca("0x528")]&&(a[_0x37ca("0x528")]=String(x[_0x37ca("0x528")])),null!=x.logotoken&&(a[_0x37ca("0x449")]=String(x.logotoken)),null!=x[_0x37ca("0x529")]&&(a.tiletoken=String(x[_0x37ca("0x529")])),null!=x.o1&&(a.o1=0|x.o1),null!=x.o2&&(a.o2=0|x.o2),null!=x.ul&&(a.ul=0|x.ul),null!=x.other1&&(a.other1=String(x[_0x37ca("0x44a")])),null!=x[_0x37ca("0x44b")]&&(a.other2=String(x[_0x37ca("0x44b")])),null!=x.l1&&(a.l1=0|x.l1),null!=x.l2&&(a.l2=0|x.l2),null!=x.l3&&(a.l3=0|x.l3),null!=x.l4&&(a.l4=0|x.l4),null!=x[_0x37ca("0x52a")]&&(a[_0x37ca("0x52a")]=String(x.alist)),null!=x[_0x37ca("0x4ee")]&&(a[_0x37ca("0x4ee")]=String(x[_0x37ca("0x4ee")])),null!=x[_0x37ca("0x52b")]&&(a[_0x37ca("0x52b")]=String(x[_0x37ca("0x52b")])),a},c[_0x37ca("0x2db")]=c.fromObject,c.toObject=function(x,a){a||(a={});var c={};if(a[_0x37ca("0x489")]){if(c.v=0,c[_0x37ca("0x51e")]=0,c[_0x37ca("0x51f")]="",c.Hash="",c._id=0,c.tid=0,c[_0x37ca("0x1aa")]="",c.nameEn="",c.adcode="",c.AS=0,c[_0x37ca("0x520")]=0,c.AngleY=0,c.AngleZ=0,c.x=0,c.y=0,c.z=0,s[_0x37ca("0x521")]){var _=new(s[_0x37ca("0x521")])(0,0,!1);c.minX=a[_0x37ca("0x54b")]===String?_.toString():a[_0x37ca("0x54b")]===Number?_[_0x37ca("0x548")]():_}else c[_0x37ca("0x43e")]=a[_0x37ca("0x54b")]===String?"0":0;if(s.Long){_=new(s[_0x37ca("0x521")])(0,0,!1);c[_0x37ca("0x43f")]=a[_0x37ca("0x54b")]===String?_.toString():a[_0x37ca("0x54b")]===Number?_[_0x37ca("0x548")]():_}else c[_0x37ca("0x43f")]=a[_0x37ca("0x54b")]===String?"0":0;if(s[_0x37ca("0x521")]){_=new(s[_0x37ca("0x521")])(0,0,!1);c[_0x37ca("0x453")]=a.longs===String?_[_0x37ca("0x30")]():a.longs===Number?_[_0x37ca("0x548")]():_}else c.maxX=a[_0x37ca("0x54b")]===String?"0":0;if(s.Long){_=new s.Long(0,0,!1);c[_0x37ca("0x440")]=a[_0x37ca("0x54b")]===String?_[_0x37ca("0x30")]():a[_0x37ca("0x54b")]===Number?_[_0x37ca("0x548")]():_}else c[_0x37ca("0x440")]=a[_0x37ca("0x54b")]===String?"0":0;c[_0x37ca("0x523")]="",c[_0x37ca("0x524")]="",c.tileurl="",c[_0x37ca("0x526")]=0,c[_0x37ca("0x527")]=0,c[_0x37ca("0x442")]="",c[_0x37ca("0x448")]="",c[_0x37ca("0x79")]="",c[_0x37ca("0x528")]="",c.logotoken="",c[_0x37ca("0x529")]="",c.o1=0,c.o2=0,c.ul=0,c.other1="",c.other2="",c.l1=0,c.l2=0,c.l3=0,c.l4=0,c[_0x37ca("0x52a")]="",c[_0x37ca("0x4ee")]="",c[_0x37ca("0x52b")]=""}return null!=x.v&&x[_0x37ca("0x1")]("v")&&(c.v=x.v),null!=x[_0x37ca("0x51e")]&&x.hasOwnProperty("mtime")&&(c[_0x37ca("0x51e")]=x[_0x37ca("0x51e")]),null!=x.ltime&&x[_0x37ca("0x1")](_0x37ca("0x51f"))&&(c[_0x37ca("0x51f")]=x.ltime),null!=x[_0x37ca("0x430")]&&x.hasOwnProperty(_0x37ca("0x430"))&&(c[_0x37ca("0x430")]=x[_0x37ca("0x430")]),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&(c[_0x37ca("0x43")]=x.tid),null!=x[_0x37ca("0x1aa")]&&x.hasOwnProperty(_0x37ca("0x1aa"))&&(c[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")]),null!=x.nameEn&&x[_0x37ca("0x1")](_0x37ca("0x431"))&&(c.nameEn=x[_0x37ca("0x431")]),null!=x[_0x37ca("0x433")]&&x[_0x37ca("0x1")]("adcode")&&(c[_0x37ca("0x433")]=x[_0x37ca("0x433")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&(c.AS=x.AS),null!=x[_0x37ca("0x520")]&&x[_0x37ca("0x1")](_0x37ca("0x520"))&&(c[_0x37ca("0x520")]=x[_0x37ca("0x520")]),null!=x[_0x37ca("0x52c")]&&x[_0x37ca("0x1")](_0x37ca("0x52c"))&&(c[_0x37ca("0x52c")]=x[_0x37ca("0x52c")]),null!=x[_0x37ca("0x52d")]&&x[_0x37ca("0x1")](_0x37ca("0x52d"))&&(c[_0x37ca("0x52d")]=x[_0x37ca("0x52d")]),null!=x.x&&x[_0x37ca("0x1")]("x")&&(c.x=x.x),null!=x.y&&x[_0x37ca("0x1")]("y")&&(c.y=x.y),null!=x.z&&x.hasOwnProperty("z")&&(c.z=x.z),null!=x[_0x37ca("0x43e")]&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&(typeof x.minX===_0x37ca("0x143")?c[_0x37ca("0x43e")]=a.longs===String?String(x[_0x37ca("0x43e")]):x.minX:c.minX=a[_0x37ca("0x54b")]===String?s[_0x37ca("0x521")].prototype[_0x37ca("0x30")][_0x37ca("0x6")](x[_0x37ca("0x43e")]):a.longs===Number?new(s[_0x37ca("0x54a")])(x[_0x37ca("0x43e")][_0x37ca("0x536")]>>>0,x[_0x37ca("0x43e")].high>>>0)[_0x37ca("0x548")]():x[_0x37ca("0x43e")]),null!=x[_0x37ca("0x43f")]&&x[_0x37ca("0x1")](_0x37ca("0x43f"))&&(typeof x[_0x37ca("0x43f")]===_0x37ca("0x143")?c[_0x37ca("0x43f")]=a[_0x37ca("0x54b")]===String?String(x[_0x37ca("0x43f")]):x.minY:c[_0x37ca("0x43f")]=a[_0x37ca("0x54b")]===String?s[_0x37ca("0x521")].prototype[_0x37ca("0x30")][_0x37ca("0x6")](x[_0x37ca("0x43f")]):a[_0x37ca("0x54b")]===Number?new(s[_0x37ca("0x54a")])(x[_0x37ca("0x43f")][_0x37ca("0x536")]>>>0,x[_0x37ca("0x43f")].high>>>0)[_0x37ca("0x548")]():x[_0x37ca("0x43f")]),null!=x.maxX&&x.hasOwnProperty(_0x37ca("0x453"))&&(typeof x.maxX===_0x37ca("0x143")?c.maxX=a.longs===String?String(x[_0x37ca("0x453")]):x[_0x37ca("0x453")]:c[_0x37ca("0x453")]=a[_0x37ca("0x54b")]===String?s[_0x37ca("0x521")][_0x37ca("0x11")].toString.call(x.maxX):a.longs===Number?new(s[_0x37ca("0x54a")])(x.maxX.low>>>0,x[_0x37ca("0x453")][_0x37ca("0x537")]>>>0)[_0x37ca("0x548")]():x[_0x37ca("0x453")]),null!=x[_0x37ca("0x440")]&&x.hasOwnProperty("maxY")&&(typeof x[_0x37ca("0x440")]===_0x37ca("0x143")?c[_0x37ca("0x440")]=a[_0x37ca("0x54b")]===String?String(x[_0x37ca("0x440")]):x[_0x37ca("0x440")]:c[_0x37ca("0x440")]=a[_0x37ca("0x54b")]===String?s[_0x37ca("0x521")].prototype.toString[_0x37ca("0x6")](x[_0x37ca("0x440")]):a[_0x37ca("0x54b")]===Number?new(s[_0x37ca("0x54a")])(x[_0x37ca("0x440")].low>>>0,x[_0x37ca("0x440")][_0x37ca("0x537")]>>>0)[_0x37ca("0x548")]():x[_0x37ca("0x440")]),null!=x.offsetbid&&x[_0x37ca("0x1")]("offsetbid")&&(c.offsetbid=x[_0x37ca("0x523")]),null!=x[_0x37ca("0x524")]&&x[_0x37ca("0x1")](_0x37ca("0x524"))&&(c[_0x37ca("0x524")]=x[_0x37ca("0x524")]),null!=x[_0x37ca("0x525")]&&x[_0x37ca("0x1")]("tileurl")&&(c.tileurl=x[_0x37ca("0x525")]),null!=x[_0x37ca("0x526")]&&x.hasOwnProperty(_0x37ca("0x526"))&&(c[_0x37ca("0x526")]=x[_0x37ca("0x526")]),null!=x.modnums&&x[_0x37ca("0x1")]("modnums")&&(c[_0x37ca("0x527")]=x.modnums),null!=x.Remark&&x[_0x37ca("0x1")](_0x37ca("0x442"))&&(c[_0x37ca("0x442")]=x[_0x37ca("0x442")]),null!=x[_0x37ca("0x448")]&&x.hasOwnProperty(_0x37ca("0x448"))&&(c[_0x37ca("0x448")]=x[_0x37ca("0x448")]),null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&(c[_0x37ca("0x79")]=x[_0x37ca("0x79")]),null!=x[_0x37ca("0x528")]&&x[_0x37ca("0x1")](_0x37ca("0x528"))&&(c[_0x37ca("0x528")]=x[_0x37ca("0x528")]),null!=x[_0x37ca("0x449")]&&x[_0x37ca("0x1")](_0x37ca("0x449"))&&(c[_0x37ca("0x449")]=x[_0x37ca("0x449")]),null!=x[_0x37ca("0x529")]&&x[_0x37ca("0x1")]("tiletoken")&&(c[_0x37ca("0x529")]=x[_0x37ca("0x529")]),null!=x.o1&&x.hasOwnProperty("o1")&&(c.o1=x.o1),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&(c.o2=x.o2),null!=x.ul&&x[_0x37ca("0x1")]("ul")&&(c.ul=x.ul),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")]("other2")&&(c[_0x37ca("0x44b")]=x.other2),null!=x.l1&&x.hasOwnProperty("l1")&&(c.l1=x.l1),null!=x.l2&&x.hasOwnProperty("l2")&&(c.l2=x.l2),null!=x.l3&&x[_0x37ca("0x1")]("l3")&&(c.l3=x.l3),null!=x.l4&&x[_0x37ca("0x1")]("l4")&&(c.l4=x.l4),null!=x[_0x37ca("0x52a")]&&x[_0x37ca("0x1")](_0x37ca("0x52a"))&&(c[_0x37ca("0x52a")]=x[_0x37ca("0x52a")]),null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&(c[_0x37ca("0x4ee")]=x[_0x37ca("0x4ee")]),null!=x.bidlist&&x[_0x37ca("0x1")]("bidlist")&&(c.bidlist=x.bidlist),c},c[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},c[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this.constructor[_0x37ca("0x48a")](this,i[_0x37ca("0x48c")][_0x37ca("0x48d")])},c}(),x[_0x37ca("0x7")]=o},,function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0}),a[_0x37ca("0x54c")]=void 0;var _=o(c(27)),e=o(c(4)),t=o(c(0)),i=o(c(1)),n=o(c(5)),r=o(c(6)),s=c(30);function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var l=function(x){function a(){(0,t[_0x37ca("0xe")])(this,a);var x=(0,n.default)(this,(a.__proto__||(0,e[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this));return x[_0x37ca("0x331")]=[],x[_0x37ca("0x1a0")]("position",new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),3)),x.addAttribute("normal",new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),3)),x[_0x37ca("0x1a0")]("uv",new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),2)),x[_0x37ca("0x1a0")](_0x37ca("0x54d"),new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),2)),x.hiddenChilds={},x}return(0,r.default)(a,x),(0,i[_0x37ca("0xe")])(a,[{key:_0x37ca("0x54e"),value:function(x){var a=this[_0x37ca("0x54f")](x).range,c=3*a[0],_=3*a[1],e=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")];if(this[_0x37ca("0x550")][x]){for(var t=0;t<e[_0x37ca("0x4")];t++)t>=c&&t<_&&(e[t]=this[_0x37ca("0x550")][x][t]);this[_0x37ca("0x550")][x]=null,this[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0x13a")]=!0}}},{key:_0x37ca("0x551"),value:function(x){var a=this[_0x37ca("0x54f")](x).range,c=3*a[0],_=3*a[1],e=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")];if(!this[_0x37ca("0x550")][x]){this[_0x37ca("0x550")][x]=[];for(var t=0;t<e[_0x37ca("0x4")];t++)if(t>=c&&t<_){var i=e[t];this[_0x37ca("0x550")][x][t]=i,e[t]=.01}this[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0x13a")]=!0}}},{key:"clearAll",value:function(){this.brothers=[],this[_0x37ca("0xa8")](),this.addAttribute(_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),3)),this.addAttribute("normal",new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),3)),this[_0x37ca("0x1a0")]("uv",new(THREE[_0x37ca("0x1a1")])(new Float32Array([]),2)),this[_0x37ca("0x132")](),this.addGroup(0,0,0)}},{key:_0x37ca("0x54f"),value:function(x){return this[_0x37ca("0x331")][_0x37ca("0x2f9")]((function(a){return a.ID==x}))[0]}},{key:_0x37ca("0x552"),value:function(x){for(var a=0;a<this.brothers.length;a++)if(this.brothers[a].ID==x)return a}},{key:"updateChildByData",value:function(x,a){var c=x.ID,_=x[_0x37ca("0x1a8")],e=x[_0x37ca("0x553")],t=x.points,i=x[_0x37ca("0x554")],n=this.findChildById(c)[_0x37ca("0x555")],r=n[0],s=n[1],o=n[1]-n[0],l=this[_0x37ca("0x552")](c),u=this.genGeo(t,i,_,e,a),d=u[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")],f=u[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")],h=u.attributes.uv[_0x37ca("0x19f")],g=u[_0x37ca("0xb7")].position[_0x37ca("0xb9")],b=this[_0x37ca("0xb7")][_0x37ca("0xb8")].array,v=this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")],p=this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")],A=this[_0x37ca("0xb7")].position[_0x37ca("0xb9")],m=A-o+g,C=b[_0x37ca("0x556")](0,3*r),I=b[_0x37ca("0x556")](3*s,3*A),y=new Float32Array(C[_0x37ca("0x4")]+I[_0x37ca("0x4")]+d[_0x37ca("0x4")]);y[_0x37ca("0x11d")](C),y[_0x37ca("0x11d")](d,C[_0x37ca("0x4")]),y.set(I,C[_0x37ca("0x4")]+d[_0x37ca("0x557")]),this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")]=y,this[_0x37ca("0xb7")][_0x37ca("0xb8")].count=m;var E=v.subarray(0,2*r),w=v[_0x37ca("0x556")](2*s,2*A),T=new Float32Array(E[_0x37ca("0x4")]+f.length+w[_0x37ca("0x4")]);T[_0x37ca("0x11d")](E),T[_0x37ca("0x11d")](f,E[_0x37ca("0x4")]),T[_0x37ca("0x11d")](w,E[_0x37ca("0x4")]+f[_0x37ca("0x4")]),this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")]=T,this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0xb9")]=m;var k=p[_0x37ca("0x556")](0,2*r),S=p[_0x37ca("0x556")](2*s,2*A),M=new Float32Array(k[_0x37ca("0x4")]+h.length+S[_0x37ca("0x4")]);M[_0x37ca("0x11d")](k),M.set(h,k[_0x37ca("0x4")]),M[_0x37ca("0x11d")](S,k[_0x37ca("0x4")]+h.length),this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")]=M,this[_0x37ca("0xb7")].uv[_0x37ca("0xb9")]=m;var R=g-o;this.brothers[l].range[1]+=R;for(var L=0;L<this[_0x37ca("0x331")][_0x37ca("0x4")];L++)L>l&&(this[_0x37ca("0x331")][L][_0x37ca("0x555")][0]+=R,this[_0x37ca("0x331")][L].range[1]+=R);this[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")]("normal")[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")]("uv")[_0x37ca("0x13a")]=!0}},{key:_0x37ca("0x558"),value:function(x){for(var a=!1,c=void 0,_=0;_<this.brothers.length;_++)if(this[_0x37ca("0x331")][_].ID==x){a=!0;var e=this[_0x37ca("0x331")][_].range;c=e[1]-e[0];var t=this.attributes[_0x37ca("0xb8")].array.subarray(0,3*e[0]),i=this.attributes[_0x37ca("0xb8")][_0x37ca("0x19f")][_0x37ca("0x556")](3*e[1],3*this.attributes[_0x37ca("0xb8")].count),n=new Float32Array(t[_0x37ca("0x4")]+i.length);n[_0x37ca("0x11d")](t),n.set(i,t[_0x37ca("0x4")]),this[_0x37ca("0xb7")][_0x37ca("0xb8")].array=n,this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")]-=c;var r=this[_0x37ca("0xb7")].normal[_0x37ca("0x19f")][_0x37ca("0x556")](0,3*e[0]),s=this[_0x37ca("0xb7")][_0x37ca("0xf8")].array[_0x37ca("0x556")](3*e[1],3*this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0xb9")]),o=new Float32Array(r[_0x37ca("0x4")]+s[_0x37ca("0x4")]);o.set(r),o[_0x37ca("0x11d")](s,r.length),this.attributes.normal[_0x37ca("0x19f")]=o,this[_0x37ca("0xb7")].normal[_0x37ca("0xb9")]-=c;var l=this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")][_0x37ca("0x556")](0,2*e[0]),u=this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")][_0x37ca("0x556")](2*e[1],2*this.attributes.uv[_0x37ca("0xb9")]),d=new Float32Array(l[_0x37ca("0x4")]+u[_0x37ca("0x4")]);d[_0x37ca("0x11d")](l),d[_0x37ca("0x11d")](u,l[_0x37ca("0x4")]),this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")]=d,this[_0x37ca("0xb7")].uv.count-=c,this[_0x37ca("0x331")].splice(_,1),_--}else a&&(this[_0x37ca("0x331")][_][_0x37ca("0x555")][0]-=c,this[_0x37ca("0x331")][_][_0x37ca("0x555")][1]-=c,this[_0x37ca("0x331")][_][_0x37ca("0x559")][0]-=c,this[_0x37ca("0x331")][_].sideRange[1]-=c,this[_0x37ca("0x331")][_].split-=c);this[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0x13a")]=!0,this.getAttribute(_0x37ca("0xf8"))[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")]("uv")[_0x37ca("0x13a")]=!0}},{key:_0x37ca("0x55a"),value:function(x,a){return Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math[_0x37ca("0xb0")](x.x-a.x,2)+Math[_0x37ca("0xb0")](x.y-a.y,2)))}},{key:_0x37ca("0x55b"),value:function(x,a,c,e,t){for(var i=this,n=esmap.ESMap[_0x37ca("0x35")],r=n[_0x37ca("0x14c")].sceneX_,s=n.mapScene.sceneZ_,o=new(THREE[_0x37ca("0x55c")]),l=c+e,u=t[_0x37ca("0x55d")],d=t[_0x37ca("0x55e")],f=0;f<x[_0x37ca("0x4")];f++){var h=x[f];0==f?o[_0x37ca("0x250")](h.x-r,h.y-s):o[_0x37ca("0x55f")](h.x-r,h.y-s)}for(var g in a){var b=a[g],v=new(THREE[_0x37ca("0x560")]);for(var p in b){var A=b[p];0==p?v.moveTo(A.x,A.y):v[_0x37ca("0x55f")](A.x,A.y)}o[_0x37ca("0x554")].push(v)}var m=new(THREE[_0x37ca("0x561")])(o,{depth:c,bevelEnabled:!1,material:0,extrudeMaterial:0}),C=m[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0xb9")],I=m[_0x37ca("0x19d")]("position")[_0x37ca("0x19f")],y=[],E=[],w=[],T=m[_0x37ca("0x19d")]("normal")[_0x37ca("0x19f")],k=m[_0x37ca("0x19d")]("uv")[_0x37ca("0x19f")],S=(0,_.default)(k);m.computeBoundingBox();var M=m.boundingBox[_0x37ca("0x30d")],R=m[_0x37ca("0x562")][_0x37ca("0x30e")],L=new THREE.Vector2(0-R.x,0-R.y),H=new(THREE[_0x37ca("0x563")])(M.x-R.x,M.y-R.y),P=H.x/1,D=H.y/1,O=1,B=1;d&&(O=P,B=D);for(var N=m[_0x37ca("0x402")][0].count/3,F=0;F<N;F++)k[6*F]=(I[9*F]+L.x)/O,k[6*F+1]=(I[9*F+1]+L.y)/B,k[6*F+2]=(I[9*F+3]+L.x)/O,k[6*F+3]=(I[9*F+4]+L.y)/B,k[6*F+4]=(I[9*F+6]+L.x)/O,k[6*F+5]=(I[9*F+7]+L.y)/B,S[6*F]=(I[9*F]+L.x)/P,S[6*F+1]=(I[9*F+1]+L.y)/D,S[6*F+2]=(I[9*F+3]+L.x)/P,S[6*F+3]=(I[9*F+4]+L.y)/D,S[6*F+4]=(I[9*F+6]+L.x)/P,S[6*F+5]=(I[9*F+7]+L.y)/D;for(var z,j,X,Y,U=m.groups[1][_0x37ca("0xb9")]/6,G=N/2,Q=0;Q<U;Q++,G++){var V=(j=void 0,X=void 0,Y=void 0,j={x:I[9*(z=2*G)],y:I[9*z+1]},X={x:I[9*z+3],y:I[9*z+4]},Y={x:I[9*z+6],y:I[9*z+7]},T[9*z+2]==T[9*z+5]?i[_0x37ca("0x55a")](j,X):T[9*z+2]==T[9*z+8]?i[_0x37ca("0x55a")](j,Y):T[9*z+5]==T[9*z+8]?i[_0x37ca("0x55a")](X,Y):void console[_0x37ca("0x23b")](_0x37ca("0x564")));V<1&&(V=1),u?(k[12*G]=1,k[12*G+1]=1,k[12*G+2]=0,k[12*G+3]=1,k[12*G+4]=1,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=1,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=1,k[12*G+11]=0):(k[12*G]=V,k[12*G+1]=c,k[12*G+2]=0,k[12*G+3]=c,k[12*G+4]=V,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=c,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=V,k[12*G+11]=0),S[12*G]=1,S[12*G+1]=1,S[12*G+2]=0,S[12*G+3]=1,S[12*G+4]=1,S[12*G+5]=0,S[12*G+6]=0,S[12*G+7]=1,S[12*G+8]=0,S[12*G+9]=0,S[12*G+10]=1,S[12*G+11]=0}for(var W=I[2],Z=S,J=[],K=0,q=0;q<C;q++)I[3*q+2]==W||0!=K&&q>K?(E.push(I[3*q],I[3*q+1],I[3*q+2]-l),y[_0x37ca("0x0")](T[3*q],T[3*q+1],T[3*q+2]),w[_0x37ca("0x0")](k[2*q],k[2*q+1]),J.push(Z[2*q],Z[2*q+1])):0==K&&(K=2*q);return m[_0x37ca("0x1a0")]("position",new(THREE[_0x37ca("0x1a1")])(new Float32Array(E),3)),m.addAttribute(_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])(new Float32Array(y),3)),m[_0x37ca("0x1a0")]("uv",new THREE.BufferAttribute(new Float32Array(w),2)),m[_0x37ca("0x1a0")](_0x37ca("0x54d"),new(THREE[_0x37ca("0x1a1")])(new Float32Array(J),2)),m[_0x37ca("0x402")][0][_0x37ca("0xb9")]-=K/2,m.groups[1][_0x37ca("0x1c6")]-=K/2,m}},{key:_0x37ca("0x565"),value:function(x){for(var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],_=[],e=[],t=0;t<x[_0x37ca("0x4")];t++){var i=x[t];i[_0x37ca("0xee")]=c[_0x37ca("0x566")]({from:c[_0x37ca("0x17f")],to:c.coordSystem,coords:i[_0x37ca("0xee")],flipX:!0});var n=i[_0x37ca("0x554")];n[_0x37ca("0x4")]>0&&(n[0]instanceof Array&&(n=n[0]),n=c[_0x37ca("0x566")]({from:c[_0x37ca("0x17f")],to:c[_0x37ca("0x180")],coords:n,flipX:!0}));var r=this[_0x37ca("0x55b")](i.points,n,i[_0x37ca("0x1a8")],i[_0x37ca("0x553")],a);_[_0x37ca("0x0")](r),e[_0x37ca("0x0")](r[_0x37ca("0x402")])}var o=this.brothers[_0x37ca("0x4")],l=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],u=s[_0x37ca("0x19e")][_0x37ca("0x567")](_,!0),d=u[_0x37ca("0x402")],f=u[_0x37ca("0xb7")][_0x37ca("0xb8")].array,h=u[_0x37ca("0xb7")][_0x37ca("0xf8")].array,g=u.attributes.uv[_0x37ca("0x19f")],b=u[_0x37ca("0xb7")].normalizeUv[_0x37ca("0x19f")],v=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")][_0x37ca("0x4")],p=new Float32Array(v+f.length);p.set(this.attributes.position[_0x37ca("0x19f")]),p[_0x37ca("0x11d")](f,v),this[_0x37ca("0xb7")][_0x37ca("0xb8")].count+=u[_0x37ca("0xb7")].position[_0x37ca("0xb9")],this[_0x37ca("0xb7")].position[_0x37ca("0x19f")]=p;var A=this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")].length,m=new Float32Array(A+h[_0x37ca("0x4")]);m[_0x37ca("0x11d")](this[_0x37ca("0xb7")].normal[_0x37ca("0x19f")]),m.set(h,A),this.attributes.normal[_0x37ca("0xb9")]+=u[_0x37ca("0xb7")][_0x37ca("0xf8")].count,this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")]=m;var C=this.attributes.uv.array[_0x37ca("0x4")],I=new Float32Array(C+g[_0x37ca("0x4")]);I[_0x37ca("0x11d")](this[_0x37ca("0xb7")].uv.array),I[_0x37ca("0x11d")](g,C),this[_0x37ca("0xb7")].uv[_0x37ca("0xb9")]+=u[_0x37ca("0xb7")].uv[_0x37ca("0xb9")],this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")]=I;var y=new Float32Array(C+g[_0x37ca("0x4")]);y[_0x37ca("0x11d")](this[_0x37ca("0xb7")][_0x37ca("0x54d")][_0x37ca("0x19f")]),y.set(b,C),this[_0x37ca("0xb7")][_0x37ca("0x54d")][_0x37ca("0xb9")]+=u[_0x37ca("0xb7")].normalizeUv[_0x37ca("0xb9")],this.attributes[_0x37ca("0x54d")][_0x37ca("0x19f")]=y,this[_0x37ca("0x19d")](_0x37ca("0xb8")).needsUpdate=!0,this.getAttribute(_0x37ca("0xf8"))[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")]("uv").needsUpdate=!0,this[_0x37ca("0x19d")](_0x37ca("0x54d"))[_0x37ca("0x13a")]=!0;for(var E=0;E<d[_0x37ca("0x4")];E++){var w=x[E].ID,T=[d[E][_0x37ca("0x1c6")]+l,d[E][_0x37ca("0x1c6")]+l+d[E].count],k=[T[0]+e[E][1][_0x37ca("0x1c6")],T[0]+d[E][_0x37ca("0xb9")]];this[_0x37ca("0x331")].push({ID:w,range:T,sideRange:k})}return this[_0x37ca("0x132")](),this.addGroup(0,this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],0),this.brothers[_0x37ca("0x14")](o)}},{key:"addChild",value:function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],_=x.ID,e=x[_0x37ca("0x1a8")],t=x[_0x37ca("0x553")]||0,i=x[_0x37ca("0xee")],n=x.holes||[];i=c[_0x37ca("0x566")]({from:c[_0x37ca("0x17f")],to:c.coordSystem,coords:i,flipX:!0}),n[_0x37ca("0x4")]>0&&(n=c[_0x37ca("0x566")]({from:c[_0x37ca("0x17f")],to:c[_0x37ca("0x180")],coords:n,flipX:!0}));var r=this[_0x37ca("0x55b")](i,n,e,t,a),s=r[_0x37ca("0xb7")].position[_0x37ca("0x19f")],o=s[_0x37ca("0x4")]/3,l=r.attributes.normal[_0x37ca("0x19f")],u=r.attributes.uv.array,d=r[_0x37ca("0xb7")][_0x37ca("0x54d")][_0x37ca("0x19f")],f=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],h=this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")][_0x37ca("0x4")],g=new Float32Array(h+s[_0x37ca("0x4")]);g[_0x37ca("0x11d")](this[_0x37ca("0xb7")].position[_0x37ca("0x19f")]),g[_0x37ca("0x11d")](s,h),this[_0x37ca("0xb7")].position[_0x37ca("0x19f")]=g,this.attributes.position[_0x37ca("0xb9")]+=o;var b=this[_0x37ca("0xb7")][_0x37ca("0xf8")][_0x37ca("0x19f")][_0x37ca("0x4")],v=new Float32Array(b+l[_0x37ca("0x4")]);v.set(this[_0x37ca("0xb7")][_0x37ca("0xf8")].array),v.set(l,b),this[_0x37ca("0xb7")][_0x37ca("0xf8")].array=v,this.attributes.normal[_0x37ca("0xb9")]+=o;var p=this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")][_0x37ca("0x4")],A=new Float32Array(p+u[_0x37ca("0x4")]);A.set(this.attributes.uv[_0x37ca("0x19f")]),A[_0x37ca("0x11d")](u,p),this[_0x37ca("0xb7")].uv[_0x37ca("0x19f")]=A,this[_0x37ca("0xb7")].uv.count+=o;var m=this[_0x37ca("0xb7")][_0x37ca("0x54d")].array[_0x37ca("0x4")],C=new Float32Array(m+d[_0x37ca("0x4")]);C[_0x37ca("0x11d")](this[_0x37ca("0xb7")][_0x37ca("0x54d")][_0x37ca("0x19f")]),C[_0x37ca("0x11d")](d,m),this[_0x37ca("0xb7")][_0x37ca("0x54d")][_0x37ca("0x19f")]=C,this[_0x37ca("0xb7")][_0x37ca("0x54d")].count+=o,this[_0x37ca("0x19d")](_0x37ca("0xb8"))[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")](_0x37ca("0xf8"))[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")]("uv")[_0x37ca("0x13a")]=!0,this[_0x37ca("0x19d")](_0x37ca("0x54d")).needsUpdate=!0;var I=r[_0x37ca("0x402")],y=f+I[1][_0x37ca("0x1c6")],E=[f,f+o],w=[y,f+o];return this[_0x37ca("0x331")][_0x37ca("0x0")]({ID:_,range:E,sideRange:w}),this.clearGroups(),this.addGroup(0,this[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],0),{ID:_,range:E,sideRange:w}}},{key:_0x37ca("0x568"),value:function(){}},{key:_0x37ca("0x569"),value:function(){}},{key:_0x37ca("0x56a"),value:function(){}}]),a}(THREE[_0x37ca("0x3ee")]);a[_0x37ca("0x54c")]=l},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(a){var c=a[_0x37ca("0x56b")],e=a[_0x37ca("0x56c")],t=a[_0x37ca("0x56d")];(0,_[_0x37ca("0xe")])(this,x),this.color=(new(THREE[_0x37ca("0x13d")])).setStyle(t),this[_0x37ca("0xa9")]=null,this.shader=null,this[_0x37ca("0xb9")]=0,this[_0x37ca("0x333")](c,e)}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x333"),value:function(x,a){var c=this;return this[_0x37ca("0xa9")]=new(THREE[_0x37ca("0x28e")])({color:16777215,transparent:!0}),this[_0x37ca("0xa9")][_0x37ca("0xfe")]=function(_){_[_0x37ca("0xff")][_0x37ca("0x56e")]={value:0},_[_0x37ca("0xff")][_0x37ca("0x56f")]={value:c[_0x37ca("0x13c")]},_[_0x37ca("0xff")].aoTexture={value:a},_.uniforms[_0x37ca("0x570")]={value:x},_[_0x37ca("0x101")]=_.vertexShader[_0x37ca("0x102")](_0x37ca("0x33d"),_0x37ca("0x571")),_[_0x37ca("0x101")]=_[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x572"),"\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                "),_[_0x37ca("0x105")]=_[_0x37ca("0x105")].replace("uniform float opacity;",_0x37ca("0x573")),_[_0x37ca("0x105")]=_[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x108"),_0x37ca("0x574")),c.shader=_},this[_0x37ca("0xa9")]}},{key:_0x37ca("0x575"),value:function(x){var a=x.position,c=x[_0x37ca("0x576")],_=new(THREE[_0x37ca("0x291")])(this[_0x37ca("0xa9")]);return this[_0x37ca("0xa9")][_0x37ca("0x577")]=!1,_[_0x37ca("0x22e")][_0x37ca("0x11d")](c,c,c),_[_0x37ca("0xb8")][_0x37ca("0x11d")](a.x,a.y,a.z),_}},{key:_0x37ca("0x578"),value:function(x){this[_0x37ca("0x342")]&&(this[_0x37ca("0xb9")]+=x,this.shader[_0x37ca("0xff")].iTime.value=this[_0x37ca("0xb9")])}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";function _(x){this[_0x37ca("0x39")]=x,this[_0x37ca("0x579")]=[]}function e(x,a){x&&(this[_0x37ca("0x57a")]=x,this[_0x37ca("0x57b")]=!0,this[_0x37ca("0xc")]=a,this[_0x37ca("0xc")]&&(this.object[_0x37ca("0x57c")]=this),this[_0x37ca("0x57a")][_0x37ca("0x57d")](this))}Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),_[_0x37ca("0x11")]={constructor:_,_invokeFunction:function(x,a){this[_0x37ca("0x579")][_0x37ca("0x1f")]((function(c){c.enabled&&c[x]&&c[x](a)}))},append:function(x){this[_0x37ca("0x579")][_0x37ca("0x0")](x),x[_0x37ca("0xc")]&&this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x57e")](x[_0x37ca("0xc")]),x[_0x37ca("0x1c6")]&&x.start()},remove:function(x){for(var a=0;a<this[_0x37ca("0x579")].length;a++)if(this.components[a]==x)return void this[_0x37ca("0x579")][_0x37ca("0x5")](a,1)},invokeUpdate:function(x){this[_0x37ca("0x57f")]("update",x)}},e[_0x37ca("0x11")]={constructor:e,dispose:function(){this[_0x37ca("0x57a")]=this,this[_0x37ca("0x57a")].remove(this),this.object&&(this[_0x37ca("0x57a")][_0x37ca("0x39")][_0x37ca("0x182")].removeComponent(this[_0x37ca("0xc")]),this[_0x37ca("0xc")][_0x37ca("0xbb")]&&this[_0x37ca("0xc")].parent.remove(this.object))}};var t={Component:e,ComponentsManager:_};a[_0x37ca("0xe")]=t},function(x,a,c){"use strict";var _=s(c(103)),e=r(c(152)),t=r(c(239)),i=s(c(129)),n=s(c(244));function r(x){if(x&&x[_0x37ca("0xb")])return x;var a={};if(null!=x)for(var c in x)Object[_0x37ca("0x11")][_0x37ca("0x1")][_0x37ca("0x6")](x,c)&&(a[c]=x[c]);return a[_0x37ca("0xe")]=x,a}function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=e[_0x37ca("0x580")];window[_0x37ca("0x581")]=o;var l=window.em=o;window[_0x37ca("0x582")]=e[_0x37ca("0x582")];var u=window[_0x37ca("0x41c")]={version:_0x37ca("0x583"),minV:1,maxV:2};u[_0x37ca("0x584")]=!1,u.TWEEN=n[_0x37ca("0xe")],window[_0x37ca("0x41c")][_0x37ca("0x585")]=i.default,u[_0x37ca("0x7b")]=t,c(245),c(246),c(247),c(248),c(249),c(250),c(251),c(252),c(253),c(254),c(256),c(257),c(258),o[_0x37ca("0x586")]=function(){this[_0x37ca("0x587")]=[]},o[_0x37ca("0x586")][_0x37ca("0x1b7")]=function(x){var a=new(o[_0x37ca("0x586")]);return setTimeout((function(){a.resolve()}),x),a},o[_0x37ca("0x586")][_0x37ca("0x11")]={constructor:o[_0x37ca("0x586")],then:function(x){return this[_0x37ca("0x587")][_0x37ca("0x0")](x),this},resolve:function(x){var a=this;setTimeout((function(){for(var x=0;x<a[_0x37ca("0x587")][_0x37ca("0x4")];x++){var c=a[_0x37ca("0x587")][x]();if(c instanceof o.Promise)for(x++;x<a[_0x37ca("0x587")][_0x37ca("0x4")];x++)c.then(a[_0x37ca("0x587")][x])}}),0)}},u[_0x37ca("0x588")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},u[_0x37ca("0x589")]={create:function(x,a){return new d(x,a)}},u[_0x37ca("0x58a")]={setUrl:function(x){this[_0x37ca("0xa9")][_0x37ca("0x39")]&&this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xa8")](),this.material[_0x37ca("0x39")]=u.ESMapUtil[_0x37ca("0x58b")](x),this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x13a")]=!0}},u[_0x37ca("0x58c")]={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},u[_0x37ca("0x16c")]={NONE:_0x37ca("0x58d"),FLOOR_BASE:_0x37ca("0x58e"),MODEL:_0x37ca("0x219"),MODEL_POI:_0x37ca("0x58f"),MODEL_LABEL:_0x37ca("0x590"),MODEL_LINE:_0x37ca("0x591"),MODEL_IMAGE:_0x37ca("0x592"),MODEL_BASE:_0x37ca("0x593"),MODEL3D:_0x37ca("0x3e4"),EXTERANL_MODEL:"externalModel",POLYGON_MARKER:_0x37ca("0x594"),LOCATION_MARKER:_0x37ca("0x595"),LINE_MARKER:_0x37ca("0x596"),IMAGE_MARKER:_0x37ca("0x597"),TEXT_MARKER:_0x37ca("0x598"),CARD_MARKER:_0x37ca("0x599"),BOARD_MARKER:"boardMarker",MAP_ROAD:_0x37ca("0x59a")},u[_0x37ca("0x59b")]={MAN:1,CAR:2},u.MapMode={Building:(0,_.default)(1),City:(0,_[_0x37ca("0xe")])(2)},u.ShowBuildingMode={NONE:(0,_[_0x37ca("0xe")])(0),SINGLE:(0,_[_0x37ca("0xe")])(1),PLANISH:(0,_[_0x37ca("0xe")])(2)},u[_0x37ca("0x1f2")]={NORMAL:_0x37ca("0xf8"),NEAR:_0x37ca("0x59c")},u[_0x37ca("0x59d")]={NONE:_0x37ca("0x58d"),MODEL:"model",MODEL_POI:"poi",MODEL_LABEL:_0x37ca("0x590"),MODEL_IMAGE:_0x37ca("0x592"),MODEL_BASE:_0x37ca("0x593"),MODEL3D:_0x37ca("0x3e4"),EXTERANL_MODEL:_0x37ca("0x59e"),POLYGON_MARKER:_0x37ca("0x594")},u[_0x37ca("0x22c")]={floorBase:1,model:76,polygonMarker:76,externalModel:20,label:77,facility:77,textMarker:77,imageMarker:77,locationMarker:77,transparentLine:76,lineObject:75,model3D:76,modelImage:76},u[_0x37ca("0x29e")]={EXPIRED:_0x37ca("0x59f"),TOKEN_MISS:_0x37ca("0x5a0"),TOKEN_ERR:_0x37ca("0x5a1"),VERS_ERR:_0x37ca("0x5a2"),DOM_ERR:"This domain is forbidden",ES3DMARKERNUM_ERR:_0x37ca("0x5a3"),AUDIO_TOKEN:"Cannot get audio token",ARRAY_REQUIRED:_0x37ca("0x5a4"),VIEW_MODE2D_ALLFNUM:_0x37ca("0x5a5"),TOO_FAST:_0x37ca("0x5a6"),INVALID_TYPE:_0x37ca("0x5a7"),AUTH_EXPIRED:_0x37ca("0x5a8"),AUTH_FAILED:"License data error",INVALID_OFFLICENSE:_0x37ca("0x5a9"),AUTHO_REQUIRED:"This feature is not authorized"},u.ESNodeType={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,MODEL_IMAGE:7,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,ALL:65535,ELEMENT:100},u[_0x37ca("0x5aa")]={PLANE:_0x37ca("0x134"),CIRCLE:"circle"},u[_0x37ca("0xe1")]={FULL:_0x37ca("0x5ab"),DOTTED:_0x37ca("0x5ac"),DOT_DASH:_0x37ca("0x5ad"),CENTER:_0x37ca("0xe5"),DASH:_0x37ca("0x5ae"),DOUBLE_DOT_DASH:"doubleDotDash",TRI_DOT_DASH:_0x37ca("0x5af"),NORMAL:_0x37ca("0xf8"),ARROW:_0x37ca("0x120"),RAW:"raw",ESARROW:_0x37ca("0x5b0"),TEXTURE:"texture"},u[_0x37ca("0x5b1")]={MODE_3D:"3D",MODE_2D:"2D"},u.EScontrolSize={Map_CONTROL_SMALL:_0x37ca("0x5b2"),Map_CONTROL_NORMAL:"normal"},u[_0x37ca("0x5b3")]={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},u.ESBuildingType={TILE:1,BUILDING:2,BASE:3},window.onerror=function(x){u[_0x37ca("0x34")]=function(x){var a;a=x&&x[_0x37ca("0x1ed")]?x[_0x37ca("0x1ed")]:document.body,(new(u[_0x37ca("0x326")]))[_0x37ca("0x5b4")](a)},window[_0x37ca("0x5b5")]=null};var d=c(259)[_0x37ca("0xe")],f=c(261).default;u.ESMapError=c(99).default,l[_0x37ca("0x218")]=c(301)[_0x37ca("0xe")],u[_0x37ca("0x5b6")]=c(302)[_0x37ca("0xe")],u[_0x37ca("0x5b7")]=c(303)[_0x37ca("0xe")],u.ESMapBoxCollision=c(306)[_0x37ca("0xe")],u[_0x37ca("0x289")]=c(307).default,u[_0x37ca("0x54c")]=c(141)[_0x37ca("0x54c")],u[_0x37ca("0x19e")]=c(30)[_0x37ca("0x19e")],u[_0x37ca("0x188")]=c(308)[_0x37ca("0xe")],u[_0x37ca("0x5b8")]=c(309)[_0x37ca("0xe")],u[_0x37ca("0x5b9")]=c(310)[_0x37ca("0xe")],u[_0x37ca("0x5ba")]=c(311)[_0x37ca("0xe")],u[_0x37ca("0x5bb")]=c(312)[_0x37ca("0xe")],u.ESMapSceneUtil=c(316)[_0x37ca("0xe")],u[_0x37ca("0x5bc")]=c(317)[_0x37ca("0xe")],u[_0x37ca("0x5bd")]=c(143)[_0x37ca("0xe")][_0x37ca("0x5be")],u[_0x37ca("0x5bf")]=c(143).default[_0x37ca("0x5c0")],u[_0x37ca("0x3bb")]=c(318).default,u[_0x37ca("0x5c1")]=c(319)[_0x37ca("0xe")],u[_0x37ca("0x5c2")]=c(133)[_0x37ca("0xe")],u[_0x37ca("0x5c3")]=c(320)[_0x37ca("0xe")],u[_0x37ca("0x18a")]=c(321)[_0x37ca("0xe")],u[_0x37ca("0x5c4")]=c(322).default,u.ESLabel=c(323)[_0x37ca("0xe")],u[_0x37ca("0x5c5")]=c(324)[_0x37ca("0xe")],u[_0x37ca("0x5c6")]=c(325).default,u.ESModelImage=c(327).default,u.ESTextMarker=c(328)[_0x37ca("0xe")],u[_0x37ca("0x3bc")]=c(329)[_0x37ca("0xe")],u[_0x37ca("0x5c7")]=c(330)[_0x37ca("0xe")],u[_0x37ca("0x16b")]=c(331)[_0x37ca("0xe")],u[_0x37ca("0x5c8")]=c(332)[_0x37ca("0xe")],u.ESControlOffset=c(333)[_0x37ca("0xe")],u[_0x37ca("0x5c9")]=c(334)[_0x37ca("0xe")],u[_0x37ca("0x5ca")]=c(335).default,u[_0x37ca("0x5cb")]=c(336)[_0x37ca("0xe")],u[_0x37ca("0x5cc")]=c(337).default,u[_0x37ca("0x5cd")]=c(347).default,u[_0x37ca("0x5ce")]=c(348)[_0x37ca("0xe")],u.ES3DMarker=c(349).default,c(350),u[_0x37ca("0x5cf")]=c(351)[_0x37ca("0xe")],u.ESMapScaler=c(352)[_0x37ca("0xe")],u[_0x37ca("0x5d0")]=c(353)[_0x37ca("0xe")],u[_0x37ca("0x5d1")]=c(354)[_0x37ca("0xe")],u[_0x37ca("0x5d2")]=c(101).default,u[_0x37ca("0x5d3")]=function(){_0x37ca("0x5d4")},u[_0x37ca("0x5d5")]=c(358)[_0x37ca("0xe")],u.ESTextureLine=c(67)[_0x37ca("0xe")],u.ESLineMarker=c(359)[_0x37ca("0xe")],u[_0x37ca("0x5d6")]=c(360)[_0x37ca("0xe")],u.ESNaviMap=c(361).default,u.ESMapNavLineGeometry=c(362)[_0x37ca("0xe")],u[_0x37ca("0x5d7")]=c(68)[_0x37ca("0xe")],u[_0x37ca("0x5d8")]=c(363)[_0x37ca("0xe")],c(364),u[_0x37ca("0x34")]=f,window[_0x37ca("0x5b5")]=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,c,_){"use strict";Object[_0x37ca("0x9")](c,_0x37ca("0xb"),{value:!0}),c[_0x37ca("0x61")]=void 0;var e,t=A(_(55)),i=A(_(53)),n=A(_(12)),r=A(_(13)),s=A(_(8)),o=A(_(43)),l=A(_(33)),u=A(_(64));c.searchJson=(e=(0,r[_0x37ca("0xe")])(n[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c,_,e,t,r,s,o,l,u,d,h,g,b,p=this;return n.default.wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],_=c.id,C){x.next=19;break}for(t in(e=[])[_0x37ca("0x0")](v[_0x37ca("0xe")][_0x37ca("0x5d9")]("searchJson")),c[_0x37ca("0x157")][_0x37ca("0x5da")])e[_0x37ca("0x0")]({path:v.default[_0x37ca("0x5d9")](_0x37ca("0x5db"),{buildingId:t}),bid:t});r=[],s=n[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var t,i,s,o,l,u,d;return n.default.wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return t="",i=null,typeof e[a]==_0x37ca("0xf")?(t=e[a],i=_):(t=e[a][_0x37ca("0x2ee")],i=e[a][_0x37ca("0xef")]),x[_0x37ca("0x29a")]=5,fetch(t);case 5:return s=x[_0x37ca("0x5dc")],x[_0x37ca("0x29a")]=8,s.json();case 8:(o=x[_0x37ca("0x5dc")])[_0x37ca("0x5dd")]&&(l={x:0,y:0},o[_0x37ca("0x5b")]&&(u=c[_0x37ca("0x157")].bidList[o[_0x37ca("0x5b")][_0x37ca("0x5de")]])&&(l.x=u.x-o.building[_0x37ca("0x5df")],l.y=u.y-o[_0x37ca("0x5b")][_0x37ca("0x5e0")]),d=o.datas[_0x37ca("0x39")]((function(x){var a=null;return 1==x.t?a=5:2==x.t&&(a=11),{name:x.n,bid:i,mapCoord:{x:1*x.x+l.x,y:1*x.y+l.y},FloorNum:x.f||1,Height:1*x.h||0,ID:1*x.i,typeID:1*x.c,nodeType:a}})),r=r.concat(d));case 10:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,p)})),x.t0=n.default[_0x37ca("0x5e1")](e);case 10:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x[_0x37ca("0x29a")]=15;break}return o=x.t1.value,x.delegateYield(s(o),"t2",13);case 13:x[_0x37ca("0x29a")]=10;break;case 15:l={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x37ca("0x1aa"),_0x37ca("0x236"),_0x37ca("0x5e2"),_0x37ca("0xef"),_0x37ca("0xc8")]},u=["ID",_0x37ca("0x1aa"),_0x37ca("0x236"),_0x37ca("0x5e2"),_0x37ca("0xef"),_0x37ca("0xc8")],d=f[_0x37ca("0xe")].createIndex(u,r),C=new(f[_0x37ca("0xe")])(r,l,d);case 19:h=[],g=[],x.t3=n[_0x37ca("0xe")][_0x37ca("0x5e1")](a);case 22:if((x.t4=x.t3()).done){x[_0x37ca("0x29a")]=35;break}if((b=x.t4.value)!=_0x37ca("0x1c4")){x[_0x37ca("0x29a")]=26;break}return x[_0x37ca("0x29f")]("continue",22);case 26:if(b!=_0x37ca("0x5e3")){x.next=29;break}return g[_0x37ca("0x0")]({name:""+a[b]}),x[_0x37ca("0x29f")](_0x37ca("0x5e4"),22);case 29:if("fnum"!=b){x[_0x37ca("0x29a")]=32;break}return g.push({FloorNum:""+a[b]}),x[_0x37ca("0x29f")]("continue",22);case 32:g[_0x37ca("0x0")]((0,i[_0x37ca("0xe")])({},b,"="+a[b])),x[_0x37ca("0x29a")]=22;break;case 35:return h=(h=C[_0x37ca("0x5e5")]({$and:g}))[_0x37ca("0x39")]((function(x){return x[_0x37ca("0x5e6")]})),a[_0x37ca("0x1c4")]&&a[_0x37ca("0x1c4")](h),x[_0x37ca("0x29f")](_0x37ca("0x2a0"),h);case 39:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return e[_0x37ca("0x3")](this,arguments)});c[_0x37ca("0x2c2")]=function(x){var a=x[_0x37ca("0x2b")](",");if(a[_0x37ca("0x4")]<3){var c=esmap[_0x37ca("0x7b")][_0x37ca("0x2c3")](x);if((a=c.split(","))[_0x37ca("0x4")]<3)return console[_0x37ca("0xca")](_0x37ca("0x602"),x),0}return parseInt(a[0])<<16|parseInt(a[1])<<8|parseInt(a[2])},c[_0x37ca("0x5e7")]=function(){var x=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:0,a=esmap[_0x37ca("0x34")][_0x37ca("0x35")];if(a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building){var c=a[_0x37ca("0x163")][_0x37ca("0x603")]("o2");return c/Math.pow(10,x)%10}return a[_0x37ca("0x163")][_0x37ca("0x603")]("l"+x)},c.colorRGB2Hex=function(x){var a=x[_0x37ca("0x2b")](","),c=parseInt(a[0]),_=parseInt(a[1]),e=parseInt(a[2]);return"#"+((1<<24)+(c<<16)+(_<<8)+e)[_0x37ca("0x30")](16)[_0x37ca("0x14")](1)},c.hexToRgb=function(x){var a=x[_0x37ca("0x1d1")]();if(a&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[_0x37ca("0x3a4")](a)){if(4===a[_0x37ca("0x4")]){for(var c="#",_=1;_<4;_+=1)c+=a.slice(_,_+1).concat(a[_0x37ca("0x14")](_,_+1));a=c}var e=[];for(_=1;_<7;_+=2)e[_0x37ca("0x0")](parseInt("0x"+a[_0x37ca("0x14")](_,_+2)));return e[_0x37ca("0x31")](",")}return a},c[_0x37ca("0x5e8")]=function(x,a){return(0,h.intersectsPolygonAndPolygonNew)(x,a)},c[_0x37ca("0x5e9")]=function(x,a){return(0,h[_0x37ca("0x604")])(x,a)},c[_0x37ca("0x5ea")]=function(x){var a=x[_0x37ca("0x2b")](",");return a.length>=3?_0x37ca("0x605")+parseInt(a[0])+","+parseInt(a[1])+","+parseInt(a[2])+_0x37ca("0x606"):(console[_0x37ca("0xca")]("color format error",x),0)},c.getMapScene=function(x){return x&&x instanceof esmap[_0x37ca("0x3bc")]?x[_0x37ca("0x14c")]:x.o3d_&&x[_0x37ca("0xa5")][_0x37ca("0xbb")]?esmap[_0x37ca("0x7b")][_0x37ca("0x607")](x[_0x37ca("0xa5")][_0x37ca("0xbb")][_0x37ca("0xa4")]):null},c[_0x37ca("0x5eb")]=function(x){return x[_0x37ca("0x608")]||null},c.getControlsInfo=function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x275")];x&&(a=esmap.ESMap.instance[_0x37ca("0x609")]);return{target:a[_0x37ca("0x276")].x[_0x37ca("0x60a")](3)+","+a[_0x37ca("0x276")].y[_0x37ca("0x60a")](3)+","+a[_0x37ca("0x276")].z[_0x37ca("0x60a")](3),position:a[_0x37ca("0xc")][_0x37ca("0xb8")].x.toFixed(3)+","+a[_0x37ca("0xc")][_0x37ca("0xb8")].y[_0x37ca("0x60a")](3)+","+a[_0x37ca("0xc")].position.z[_0x37ca("0x60a")](3)}},c[_0x37ca("0x5ec")]=function(x,a){var c=a-x;return Math.abs(c)>180&&(c=-1*(0,u[_0x37ca("0xe")])(c)*360+c),c},c[_0x37ca("0x5ed")]=function(x){var a=esmap.ESMap.instance[_0x37ca("0x275")],c=x[_0x37ca("0x276")][_0x37ca("0x2b")](","),_=x.position[_0x37ca("0x2b")](","),e=new(THREE[_0x37ca("0xe2")])(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])),t=new THREE.Vector3(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2]));a[_0x37ca("0x276")].copy(e),a[_0x37ca("0xc")][_0x37ca("0xb8")][_0x37ca("0x268")](t),a.update()},c.getPlatform=function(){for(var x=navigator[_0x37ca("0x60b")],a=new Array("Android",_0x37ca("0x60c"),"SymbianOS",_0x37ca("0x60d"),"iPad",_0x37ca("0x60e")),c=!0,_="PC",e=!1,t=0;t<a.length;t++)if(x.indexOf(a[t])>0){c=!1,_=a[t],x[_0x37ca("0xda")]("MicroMessenger")>0&&(e=!0);break}return{isPC:c,isWX:e,platform:_}},c.getTileNumsByPolygon=function(x){for(var a=esmap[_0x37ca("0x7b")][_0x37ca("0x601")](x),c=(0,g.getTileFromMec)(a.maxX,a[_0x37ca("0x440")],15),_=(0,g[_0x37ca("0x60f")])(a.minX,a.minY,15),e=_.x,t=c.x,i=_.y,n=c.y,r=[],s=e;s<=t;s++)for(var o=i;o<=n;o++){var l=s+"_"+o;r[_0x37ca("0x0")](l)}return r},c[_0x37ca("0x118")]=function(x,a){var c=null,_=100;if("3D"==x[_0x37ca("0x610")]){if(_0x37ca("0x143")==typeof a)_=a;else{var e=null!=a?a[_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")])):x[_0x37ca("0x275")].target;_=x[_0x37ca("0x154")][_0x37ca("0x611")].position.distanceTo(e)}var t=esmap[_0x37ca("0x7b")].getOrthoCameraSizeByPerspectiveCamera(x[_0x37ca("0x154")][_0x37ca("0x611")],x[_0x37ca("0x275")],_);c=2*t[_0x37ca("0x173")]/x.height}else"2D"==x[_0x37ca("0x610")]&&(c=2*x[_0x37ca("0x275")][_0x37ca("0xc")][_0x37ca("0x173")]/x[_0x37ca("0x275")][_0x37ca("0xc")][_0x37ca("0x612")]/x.height);return c},c[_0x37ca("0x474")]=function(x){return"[object Array]"==Object.prototype[_0x37ca("0x30")][_0x37ca("0x6")](x)},c.computeCameraStateByBounds=function(x){var a={x:(x.maxX-x[_0x37ca("0x43e")])/2+x[_0x37ca("0x43e")],y:(x.maxY-x[_0x37ca("0x43f")])/2+x[_0x37ca("0x43f")]},c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],_=Math[_0x37ca("0x30d")]((x.maxX-x.minX)/2,(x.maxY-x[_0x37ca("0x43f")])/2)/Math[_0x37ca("0x613")](c[_0x37ca("0x186")][_0x37ca("0x614")]*(Math.PI/180)/2);return{target:a,radius:_}},c[_0x37ca("0x5ee")]=function(x,a,c){x instanceof esmap[_0x37ca("0x34")]&&(c=a,a=x[_0x37ca("0x275")],x=x.mapView[_0x37ca("0x611")]);var _=x.fov,e=x[_0x37ca("0x615")],t=null!=c?c:a[_0x37ca("0x276")][_0x37ca("0xdf")](x[_0x37ca("0xb8")]),i=Math.tan(_*THREE[_0x37ca("0x249")].DEG2RAD/2)*t;return{top:i||1,right:2*i*e/2}},c[_0x37ca("0x5ef")]=function(x,a,c,_,e){function t(x,a){if(_&&_(x)&&(a&&(x[_0x37ca("0xa5")]=a),n[_0x37ca("0x0")](x)),e)return e==n.length}var i,n=[];i=1==x[_0x37ca("0x616")]?x[_0x37ca("0x14e")]:x[_0x37ca("0x617")]?x.getFloor(a):x;var r=x[_0x37ca("0x159")];if(r)for(var s in r)if(r[s]){var o=r[s][_0x37ca("0x618")][0][_0x37ca("0x619")],l=r[s][_0x37ca("0x61a")][0][_0x37ca("0x61b")],u=o.concat(l);for(var d in u){var f=u[d],h={ID:f[_0x37ca("0x61c")],name:f[_0x37ca("0x1aa")],mapCoord:{x:f[_0x37ca("0x61d")],y:f[_0x37ca("0x61e")]},dataID:f.FC,typeID:f[_0x37ca("0x61f")],RoomHigh:f[_0x37ca("0x620")],RoomStyle:f[_0x37ca("0x621")],buildingFnums:f[_0x37ca("0x144")],mapId:f.bids,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x622")],pending:!0};if(t(h,null))return n}}return i&&i[_0x37ca("0x193")](c,(function(x){if(null!=_)for(var a=x.o3d_[_0x37ca("0xa6")][_0x37ca("0x4")],c=0;c<a;c++){var e=x[_0x37ca("0xa5")][_0x37ca("0xa6")][c][_0x37ca("0xa4")];if(e){var i=e[_0x37ca("0x331")],r=x[_0x37ca("0xa5")].children[c];if(i){for(var s=i[_0x37ca("0x4")],o=0;o<s;o++)if(t(i[o],r))return i[o][_0x37ca("0xa5")]=r,n}else if(t(e))return e[_0x37ca("0xa5")]=r,n}}else n=x[_0x37ca("0xa5")][_0x37ca("0xa6")][_0x37ca("0xc6")]((function(x,a){return x.push[_0x37ca("0x3")](x,null!=a[_0x37ca("0xa4")][_0x37ca("0x331")]?a[_0x37ca("0xa4")].brothers:[a[_0x37ca("0xa4")]]),x}),[])})),n},c[_0x37ca("0x5f0")]=function(x){var a=x[_0x37ca("0xe6")],c=x[_0x37ca("0xe3")],_=x[_0x37ca("0xef")],e=x.time;null==e&&(e=1);var t=[][_0x37ca("0x15")](a),i=esmap[_0x37ca("0x34")][_0x37ca("0x35")].getBuildingById(_),n=function(a){var _=t[a];if(a=i[_0x37ca("0x617")](_)){var n=a[_0x37ca("0xa5")];esmap.ESMapUtil.setAlpha({target:n,alpha:c,clonemat:!0,hideOnComplete:x.hideOnComplete,onUpdate:function(x){a.o3d_[_0x37ca("0x623")]||(a[_0x37ca("0xa5")][_0x37ca("0x623")]={}),a[_0x37ca("0xa5")][_0x37ca("0x623")][x[_0x37ca("0x3c5")]]||(a.o3d_[_0x37ca("0x623")][x.uuid]=x[_0x37ca("0xfd")])},time:e})}};for(var r in t)n(r)},c.restoreFloorAlpha=function(x){var a=x[_0x37ca("0xe6")],c=x[_0x37ca("0xef")],_=x.time,e=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0xf0")](c),t=(e.o3dFloors_[a],[][_0x37ca("0x15")](a));null==_&&(_=1);var i=function(a){var c=t[a];if(a=e.getFloor(c)){var i=a[_0x37ca("0xa5")];esmap[_0x37ca("0x7b")].setAlpha({target:i,alpha:!1,clonemat:!0,hideOnComplete:x[_0x37ca("0x624")],onUpdate:function(x){a.o3d_[_0x37ca("0x623")]||(a[_0x37ca("0xa5")][_0x37ca("0x623")]={}),a.o3d_[_0x37ca("0x623")][x[_0x37ca("0x3c5")]]||(a[_0x37ca("0xa5")][_0x37ca("0x623")][x[_0x37ca("0x3c5")]]=x[_0x37ca("0xfd")])},time:_})}};for(var n in t)i(n)},c[_0x37ca("0x5f1")]=function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];return x[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?x[_0x37ca("0x625")]()[_0x37ca("0x14f")][_0x37ca("0x161")][_0x37ca("0x626")]:0},c.getModelsCount=function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];return x[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?x[_0x37ca("0x625")]().modelLoadManager[_0x37ca("0x161")][_0x37ca("0x162")]:0},c[_0x37ca("0x5f2")]=function(){return"CITY"},c[_0x37ca("0x5f3")]=function(x,a){var c,_=[],e=esmap.ESMap[_0x37ca("0x35")],t=(_.length,x[_0x37ca("0x627")]||"ID"),i=[].concat(x[_0x37ca("0x34f")]),n=i.length;return e[_0x37ca("0x628")].forEach((function(a){c=[][_0x37ca("0x15")]((0,l[_0x37ca("0xe")])(x[_0x37ca("0xe6")]?[x[_0x37ca("0xe6")]]:a.floorNums));var e=!0,r=!1,s=void 0;try{for(var u,d=(0,o[_0x37ca("0xe")])(c);!(e=(u=d.next()).done);e=!0){var f=u[_0x37ca("0xf2")];_.push[_0x37ca("0x3")](_,esmap[_0x37ca("0x7b")][_0x37ca("0x5ef")](a,f,[_0x37ca("0x219")],(function(x){return i[_0x37ca("0xcd")](x[t])}),"name"==t?void 0:n))}}catch(x){r=!0,s=x}finally{try{!e&&d.return&&d[_0x37ca("0x2a0")]()}finally{if(r)throw s}}})),a&&a(_),_},c.m=function(x){return x>m},c.n=function(x){return x<-1e-5},c.l=function(x){return x<m&&x>-1e-5},c.o=function(x,a,c,_){var e=a.x,t=a.y,i=c.x,n=c.y,r=x.x,s=x.y,o=i-e,l=n-t,u=Math[_0x37ca("0xc4")](o*o+l*l),d=r-e,f=s-t,h=Math[_0x37ca("0xc4")](d*d+f*f);if(esmap[_0x37ca("0x7b")].l(u))return esmap[_0x37ca("0x7b")].l(h)?(_.x=a.x,_.y=a.y,0):(_.x=a.x,_.y=a.y,h);var g=o/u,b=l/u,v=g*d+b*f;if(!esmap[_0x37ca("0x7b")].m(v))return _.x=a.x,_.y=a.y,h;if(!esmap.ESMapUtil.n(v-u)){var p=r-i,A=s-n,m=Math[_0x37ca("0xc4")](p*p+A*A);return _.x=c.x,_.y=c.y,m}var C=e+v*g,I=t+v*b,y=r-C,E=s-I,w=Math.sqrt(y*y+E*E);return _.x=C,_.y=I,w},c[_0x37ca("0x284")]=function(x){var a,c,_,e=x[_0x37ca("0x12f")];return new(s[_0x37ca("0xe")])((function(t){if(x[_0x37ca("0x276")][_0x37ca("0x11a")][_0x37ca("0x3fa")])t();else{x[_0x37ca("0x276")][_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")])if(x.material instanceof Array)for(var a in x[_0x37ca("0xa9")]){var c=x[_0x37ca("0xa9")][a];c[_0x37ca("0x11a")]&&(c[_0x37ca("0x11a")]._settedAlpha&&(c[_0x37ca("0x11a")]._settedAlpha=!1))}else x.material.userData[_0x37ca("0x3f8")]&&(x.material[_0x37ca("0x11a")]._settedAlpha=!1)})),x[_0x37ca("0x276")][_0x37ca("0x11a")].islocked=!0,"number"==typeof x?(a=x,c=1,_=!1):(a=x[_0x37ca("0xe3")],c=null==x[_0x37ca("0x1ba")]?1:x[_0x37ca("0x1ba")],_=null!=x[_0x37ca("0x285")]&&x[_0x37ca("0x285")]),x[_0x37ca("0xed")]&&(x[_0x37ca("0x276")][_0x37ca("0xed")]=x.visible);var i=x[_0x37ca("0x624")],n=[],r=function(_){if(_[_0x37ca("0x11a")]._settedAlpha)i&&x[_0x37ca("0x276")][_0x37ca("0xed")]&&(x.target[_0x37ca("0xed")]=!1);else{var t=a;!1===a?(t=_[_0x37ca("0x11a")].opacity,_[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x283"))&&(_[_0x37ca("0xfa")]=_.userData[_0x37ca("0x283")])):(_[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x283"))||(_[_0x37ca("0x11a")].istransparent=_.transparent,_[_0x37ca("0x11a")].opacity=_[_0x37ca("0xfd")]),_[_0x37ca("0xfa")]=!0),_[_0x37ca("0x11a")][_0x37ca("0x3f8")]=!0,n[_0x37ca("0x0")](_),e&&e(_),new(esmap[_0x37ca("0x1c1")].Tween)(_).to({opacity:t},1e3*c)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Linear[_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]()}};if(x.id&&x.target[_0x37ca("0xa4")]&&6==x[_0x37ca("0x276")][_0x37ca("0xa4")][_0x37ca("0xc8")]&&x.target.datas_[_0x37ca("0x331")]){var s=esmap.ESMap[_0x37ca("0x35")];s[_0x37ca("0xf0")](s.id)[_0x37ca("0x14f")][_0x37ca("0x629")][_0x37ca("0x62a")](x.id,x[_0x37ca("0x276")],a,c,i)}else{x.target[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")])if(x[_0x37ca("0xa9")]instanceof Array)for(var a in x[_0x37ca("0xa9")]){var c=x.material[a];c[_0x37ca("0x11a")]&&(_&&(x.material[a]=c[_0x37ca("0xde")](),c=x[_0x37ca("0xa9")][a]),r(c))}else _&&(x[_0x37ca("0xa9")]=x.material[_0x37ca("0xde")]()),r(x[_0x37ca("0xa9")])}));setTimeout((function(){for(var a in i&&(x[_0x37ca("0x276")].visible=!1),n){n[a][_0x37ca("0x11a")][_0x37ca("0x3f8")]=!1}x[_0x37ca("0x276")][_0x37ca("0x11a")][_0x37ca("0x3fa")]=!1,t()}),1e3*c+50)}}}))},c[_0x37ca("0x5e5")]=function(x,c,_,e){var t,i=[],n=null,r=null,s=[],o=_.types||["model","label",_0x37ca("0x58f"),"imageMarker",_0x37ca("0x598"),"locationMarker",_0x37ca("0x3e4"),_0x37ca("0x594"),"cardMarker"],l=[].concat(c);_.ID&&(_.ID=[][_0x37ca("0x15")](_.ID));_.classID&&(_[_0x37ca("0x62b")]=[][_0x37ca("0x15")](_[_0x37ca("0x62b")]));if(1==l.length&&l[0]==_0x37ca("0x62c")){l=x.tileList[_0x37ca("0x39")]((function(x){return x.id}));var u=x[_0x37ca("0x628")][_0x37ca("0x39")]((function(x){return x.id}));(l=l[_0x37ca("0x15")](u))[_0x37ca("0x0")](0)}else x[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]&&"number"==typeof l[0]&&(l=[{bid:x.id,fnum:l}]);_.polygon&&(_.indoor||(l=esmap[_0x37ca("0x7b")].getTileNumsByPolygon(_.polygon)));return l[_0x37ca("0x1f")]((function(c){var e;if(c instanceof Object?(c[_0x37ca("0xef")]&&(e=x.getBuildingById(c[_0x37ca("0xef")])),c[_0x37ca("0xe6")]&&(t=[][_0x37ca("0x15")](c[_0x37ca("0xe6")]))):(e=x[_0x37ca("0xf0")](c))?t=e[_0x37ca("0x62d")]:(e=x[_0x37ca("0x315")](c),t=[1]),e){t=t||e[_0x37ca("0x62d")];for(var l=0;l<t[_0x37ca("0x4")];l++){var u=t[l],d=_.ID?_.ID[_0x37ca("0x4")]:void 0,f=esmap[_0x37ca("0x7b")][_0x37ca("0x5ef")](e,u,o,(function(c){if(_.nodeType&&_[_0x37ca("0xc8")]!=esmap.ESNodeType[_0x37ca("0x62e")]&&_[_0x37ca("0xc8")]!=c[_0x37ca("0xc8")])return!1;if(_[_0x37ca("0x1aa")]){if(!c[_0x37ca("0x1aa")])return!1;if(_[_0x37ca("0x1aa")]instanceof Array){if(_[_0x37ca("0x1aa")][_0x37ca("0xda")](c[_0x37ca("0x1aa")])<0)return!1}else if(_[_0x37ca("0x1aa")]!=c[_0x37ca("0x1aa")])return!1}if(_[_0x37ca("0x5e3")]){if(!c[_0x37ca("0x1aa")])return!1;for(var e=_.keyword[_0x37ca("0x2b")](" "),t=c.name[_0x37ca("0x1d1")](),i=!1,o=0;o<e.length;o++){var l=e[o][_0x37ca("0x1d1")]();if(t[_0x37ca("0xda")](l)>=0){i=!0;break}}if(!i)return!1}if(_.ID&&_.ID[_0x37ca("0xda")](c.ID)<0)return!1;if(_[_0x37ca("0x1")](_0x37ca("0x62f"))&&_[_0x37ca("0x62f")]!=c[_0x37ca("0x62f")])return!1;if(_[_0x37ca("0x62b")]&&_.classID[_0x37ca("0xda")](c[_0x37ca("0x62b")])<0)return!1;if(_[_0x37ca("0x236")]&&_[_0x37ca("0x236")]!=c[_0x37ca("0x236")])return!1;if(_.typeID&&_[_0x37ca("0x5e2")]!=c[_0x37ca("0x5e2")])return!1;if(_[_0x37ca("0x3ba")]&&_[_0x37ca("0x630")]){if(c[_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0x217")]){if((0,b[_0x37ca("0xbd")])(_[_0x37ca("0x3ba")],c[_0x37ca("0x3ba")])>_[_0x37ca("0x630")])return;s.push({node:c,distance:n})}if(c.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0x622")]){var u=x[_0x37ca("0x163")][_0x37ca("0x631")][c.ID][0],d=[];n=null;for(var f=0;f<u[_0x37ca("0x4")];f+=2)d[_0x37ca("0x0")](new(esmap[_0x37ca("0x3bb")])(-u[f].x,u[f].y,0));if(d[_0x37ca("0x4")]<2)n=p(_[_0x37ca("0x3ba")],d[0]);else{var h=new(esmap[_0x37ca("0x3bb")]);for(f=0;f<d[_0x37ca("0x4")]-1;f++)r=esmap[_0x37ca("0x7b")].o(_[_0x37ca("0x3ba")],d[f],d[f+1],h),(!n||r<n)&&(n=r)}if(n>_[_0x37ca("0x630")])return;s[_0x37ca("0x0")]({node:c,distance:n})}if(c[_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0x632")]){if((n=esmap[_0x37ca("0x633")][_0x37ca("0x634")](a,_[_0x37ca("0x3ba")],c.mapCoord))>_[_0x37ca("0x630")])return;s[_0x37ca("0x0")]({node:c,distance:n})}}return!(_[_0x37ca("0x635")]&&!esmap.ESMapUtil.pointInArea(c.mapCoord,_[_0x37ca("0x635")]))}),d);f&&(i=i[_0x37ca("0x15")](f))}}})),s[_0x37ca("0x4")]>0&&(s[_0x37ca("0x408")]((function(x,a){return x[_0x37ca("0x258")]-a[_0x37ca("0x258")]})),i=s[_0x37ca("0x39")]((function(x){return x[_0x37ca("0x636")]}))),e&&e(i),i},c[_0x37ca("0x5f4")]=function(x){for(var a=x[_0x37ca("0xee")][_0x37ca("0x39")]((function(x){return{x:-x.x,y:x.y}})),c={dis:0,pa:null,pb:null},_=0;_<a.length-1;_++){var e=a[_],t=a[_+1],i=(0,b.DistanceofTwoPts)(e,t);i>c.dis&&(c[_0x37ca("0x637")]=i,c.pa=e,c.pb=t)}return c.pa=new THREE.Vector2(c.pa.x,c.pa.y),c.pb=new THREE.Vector2(c.pb.x,c.pb.y),esmap[_0x37ca("0x7b")][_0x37ca("0x255")](c.pa,c.pb)},c[_0x37ca("0x58b")]=function(x,a,c,_){return esmap.ESMap[_0x37ca("0x35")][_0x37ca("0x638")][_0x37ca("0x140")](x,a,c,_)},c[_0x37ca("0x5f5")]=function(x,a,c,_){a=a||"position",c=c||_0x37ca("0x1b3"),(0,t[_0x37ca("0xe")])(x,{x:{get:function(){return esmap.ESMap.instance[_0x37ca("0xe5")].x-this[a].x},set:function(x){var c=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0xe5")].x;this[a].x=c-x}},y:{get:function(){var x=esmap.ESMap[_0x37ca("0x35")].center.y;return this[a].z+x},set:function(x){var c=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0xe5")].y;this[a].z=x-c}},height:_||{get:function(){return this[c]},set:function(x){this[c]=x}}})},c.pointInArea=function(x,a){for(var c=!1,_=-1,e=a[_0x37ca("0x4")],t=e-1;++_<e;t=_)(a[_].y<=x.y&&x.y<a[t].y||a[t].y<=x.y&&x.y<a[_].y)&&x.x<(Math[_0x37ca("0x24e")](a[t].x)-Math[_0x37ca("0x24e")](a[_].x))*(x.y-a[_].y)/(a[t].y-a[_].y)+Math[_0x37ca("0x24e")](a[_].x)&&(c=!c);return c},c[_0x37ca("0x5f6")]=function(x){return(0,h[_0x37ca("0x639")])(x)},c[_0x37ca("0x5f7")]=function(x){var a=(x[_0x37ca("0x453")]+x[_0x37ca("0x43e")])/2,c=(x[_0x37ca("0x440")]+x[_0x37ca("0x43f")])/2;return{x:a,y:c}},c[_0x37ca("0x8b")]=function(x){var a,c,_,e,t,i=_0x37ca("0x63a")+_0x37ca("0x63b")+_0x37ca("0x63c")+_0x37ca("0x63d")+"=",n="",r="",s="",o=0;do{a=x[_0x37ca("0x2d")](o++),c=x.charCodeAt(o++),r=x[_0x37ca("0x2d")](o++),_=a>>4,e=(3&a)<<4|c>>4,t=(15&c)<<2|r>>6,s=63&r,isNaN(c)?t=s=64:isNaN(r)&&(s=64),n=n+i[_0x37ca("0x63e")](_)+i.charAt(e)+i[_0x37ca("0x63e")](t)+i[_0x37ca("0x63e")](s),a=c=r="",_=e=t=s=""}while(o<x[_0x37ca("0x4")]);return n},c[_0x37ca("0x5f8")]=function(x){var a=x.points,c=void 0===a?[]:a,_=x[_0x37ca("0x63f")],e=void 0===_?20:_;if(c[_0x37ca("0x4")]<3)return;var t=new(THREE[_0x37ca("0x640")])(new(THREE[_0x37ca("0xe2")])(c[0].x,c[0].offset,c[0].y),new(THREE[_0x37ca("0xe2")])(c[1].x,c[1][_0x37ca("0x137")],c[1].y),new(THREE[_0x37ca("0xe2")])(c[2].x,c[2][_0x37ca("0x137")],c[2].y)).getPoints(e),i=[],n=!0,r=!1,s=void 0;try{for(var l,u=(0,o.default)(t);!(n=(l=u[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);n=!0){var d=l[_0x37ca("0xf2")];i.push({x:d.x,y:d.z,offset:d.y})}}catch(x){r=!0,s=x}finally{try{!n&&u[_0x37ca("0x2a0")]&&u.return()}finally{if(r)throw s}}return i},c.interpolatePoints=function(x){for(var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]&&arguments[1],c=0;c<x.length;c++){var _=x[c-1],e=x[c+1],t=x[c];if(e&&t){if(t.x==e.x&&t.z==e.z&&t.y==e.y){x[_0x37ca("0x5")](c+1,1),c--;continue}if(a&&e.distanceTo(t)<=.1){x.splice(c+1,1),c--;continue}}if(_&&e&&_.y==e.y&&_.y==t.y){var i=new(THREE[_0x37ca("0xe2")])(t.x,0,t.z),n=new(THREE[_0x37ca("0xe2")])(_.x,0,_.z),r=new(THREE[_0x37ca("0xe2")])(e.x,0,e.z),s=n.clone()[_0x37ca("0x2d7")](i.clone())[_0x37ca("0x2d8")](),o=r[_0x37ca("0xde")]()[_0x37ca("0x2d7")](i[_0x37ca("0xde")]()).normalize(),l=s.equals(o),u=Math[_0x37ca("0x24e")](s[_0x37ca("0x248")](o))<Math.PI/6;if(l||u){var d=t.clone();d.y+=.01,d[_0x37ca("0xe6")]=t[_0x37ca("0xe6")],x[_0x37ca("0x5")](c,0,d),c+=1;continue}}}},c[_0x37ca("0x5f9")]=function(x){var a=x[_0x37ca("0xee")],c=void 0===a?[]:a,_=x.radius,e=void 0===_?.3:_,t=x[_0x37ca("0x63f")],i=void 0===t?8:t,n=esmap[_0x37ca("0x34")][_0x37ca("0x35")],r=c[_0x37ca("0x39")]((function(x){var a=x.z||x[_0x37ca("0x137")]||0,c={x:x.x,y:x.y},_=n[_0x37ca("0x254")](c);return _.y=a,_[_0x37ca("0xe6")]=x.fnum||1,_})),s=esmap[_0x37ca("0x641")][_0x37ca("0x5f9")](r,i,e);return s=s[_0x37ca("0x39")]((function(x){var a=n[_0x37ca("0x234")](x);return{x:a.x,y:a.y,offset:x.y,fnum:x[_0x37ca("0xe6")]}}))},c.getRouteAngle=function(x,a){var c=new(THREE[_0x37ca("0xe2")])(0,0,1),_=new(THREE[_0x37ca("0xe2")])(x.x,0,x.y),e=new(THREE[_0x37ca("0xe2")])(a.x,0,a.y)[_0x37ca("0xde")]()[_0x37ca("0x2d7")](_)[_0x37ca("0x2d8")](),t=e.angleTo(c)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")];return e[_0x37ca("0xde")]()[_0x37ca("0x2d2")](c).y>0?360-t:t},c[_0x37ca("0x1b")]=function(){var x=new Array;if(null!=window[_0x37ca("0x20")][_0x37ca("0x21")])x[0]=window.screen[_0x37ca("0x21")],x[1]=window[_0x37ca("0x20")][_0x37ca("0x642")];else{var a=document[_0x37ca("0x22")](_0x37ca("0x23"));a[_0x37ca("0x24")][_0x37ca("0x25")]=_0x37ca("0x643"),document[_0x37ca("0x26")].appendChild(a),x[0]=parseInt(a[_0x37ca("0x397")]),x[1]=parseInt(a.offsetHeight),a.parentNode.removeChild(a)}return x},c[_0x37ca("0xad")]=function(x){return d.default[_0x37ca("0x644")]([x[0],x[1]],d.default[_0x37ca("0x1e7")],d[_0x37ca("0xe")].GCJ02)},c[_0x37ca("0x5fa")]=function(x){return d[_0x37ca("0xe")].transform([x[0],x[1]],d[_0x37ca("0xe")][_0x37ca("0x645")],d[_0x37ca("0xe")].WGS84)},c[_0x37ca("0xaa")]=function(x,a){var c=[],_=x/20037508.342789*180,e=a/20037508.342789*180;return e=180/Math.PI*(2*Math[_0x37ca("0x310")](Math.exp(e*Math.PI/180))-Math.PI/2),c[_0x37ca("0x0")](_),c[_0x37ca("0x0")](e),c},c.lonLat2Mercator=function(x,a){var c=[],_=20037508.342789*x/180,e=Math.log(Math.tan((90+a)*Math.PI/360))/(Math.PI/180);return e=20037508.34789*e/180,c[_0x37ca("0x0")](_),c[_0x37ca("0x0")](e),c},c[_0x37ca("0x5fb")]=function(x){var a=x,c=esmap.ESMap.instance;if(Array.isArray(x)){var _=esmap[_0x37ca("0x7b")][_0x37ca("0x646")](x[0],x[1]);a={x:_[0],y:_[1]}}return c[_0x37ca("0x17e")]({from:_0x37ca("0x1e7"),to:c[_0x37ca("0x17f")],coord:a})},c[_0x37ca("0x5fc")]=function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=x;if(Array.isArray(x)){var _=esmap.ESMapUtil[_0x37ca("0x646")](x[0],x[1]);c={x:_[0],y:_[1]}}return a.transformCoord({from:_0x37ca("0x647"),to:a.DEFAULT_COORDSYSTEM,coord:c})},c[_0x37ca("0x5fd")]=function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=x;if(Array[_0x37ca("0x474")](x)){var _=esmap[_0x37ca("0x7b")][_0x37ca("0x646")](x[0],x[1]);c={x:_[0],y:_[1]}}return a.transformCoord({from:"GCJ02",to:a.DEFAULT_COORDSYSTEM,coord:c})},c[_0x37ca("0x5fe")]=function(x){return esmap[_0x37ca("0x7b")].Mercator2lonLat(x.x,x.y)},c[_0x37ca("0x5ff")]=function(x,a){function c(x){return x*Math.PI/180}var _=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x37")],e=0;if(_===esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]){var t=esmap[_0x37ca("0x7b")].Mercator2lonLat(x.x,x.y),i=esmap[_0x37ca("0x7b")][_0x37ca("0xaa")](a.x,a.y),n=c(t[1]),r=c(i[1]),s=n-r,o=c(t[0])-c(i[0]);e=6378.137*(e=2*Math.asin(Math[_0x37ca("0xc4")](Math[_0x37ca("0xb0")](Math.sin(s/2),2)+Math[_0x37ca("0x648")](n)*Math[_0x37ca("0x648")](r)*Math[_0x37ca("0xb0")](Math[_0x37ca("0x613")](o/2),2))))*1e3}else e=(0,b[_0x37ca("0xbd")])(x,a);return e},c[_0x37ca("0x600")]=function(x){x=x||null;var a=new Date(x),c=a.getFullYear()+"-",_=(a[_0x37ca("0x649")]()+1<10?"0"+(a[_0x37ca("0x649")]()+1):a[_0x37ca("0x649")]()+1)+"-",e=(a[_0x37ca("0x64a")]()<10?"0"+a[_0x37ca("0x64a")]():a[_0x37ca("0x64a")]())+" ",t=(a[_0x37ca("0x64b")]()<10?"0"+a[_0x37ca("0x64b")]():a[_0x37ca("0x64b")]())+":",i=(a.getMinutes()<10?"0"+a[_0x37ca("0x64c")]():a[_0x37ca("0x64c")]())+":",n=a[_0x37ca("0x64d")]()<10?"0"+a[_0x37ca("0x64d")]():a[_0x37ca("0x64d")]();return c+_+e+t+i+n},c[_0x37ca("0x601")]=function(x){for(var a={maxX:0,minX:1/0,maxY:0,minY:1/0},c=0;c<x.length;c++){var _=x[c];_.y<a[_0x37ca("0x43f")]&&(a.minY=_.y),_.y>a[_0x37ca("0x440")]&&(a[_0x37ca("0x440")]=_.y),_.x<a[_0x37ca("0x43e")]&&(a.minX=_.x),_.x>a[_0x37ca("0x453")]&&(a[_0x37ca("0x453")]=_.x)}return a};var d=A(_(93)),f=A(_(242)),h=(_(11),_(243)),g=_(34),b=_(44),v=A(_(24));function A(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var m=1e-5,C=null},,,,function(x,a,c){"use strict";function _(x,a){for(var c=x.x,_=x.y,e=0,t=0;t<a[_0x37ca("0x4")];t++){var i=a[t],n=i.y1<i.y2?i.y2:i.y1;if(_>(i.y1<i.y2?i.y1:i.y2)&&_<n)c<=(i.x1*i.y2-i.x2*i.y1-(i.x1-i.x2)*_)/(i.y2-i.y1)&&e++}return e%2!=0}Object.defineProperty(a,"__esModule",{value:!0}),a[_0x37ca("0x64e")]=function(x,a){var c,e=x,t=a;if(0==(c=function(x,a){for(var c,_,e,t,i,n,r,s,o=0;o<x[_0x37ca("0x4")];o++){var l=x[o];c=c>l.x?c:l.x,e=e<l.x?e:l.x,_=_>l.y?_:l.y,t=t<l.y?t:l.y}for(o=0;o<a[_0x37ca("0x4")];o++){var u=a[o];i=i>u.x?i:u.x,r=r<u.x?r:u.x,n=n>u.y?n:u.y,s=s<u.y?s:u.y}return!(c<=r||i<=e||t>=n||s>=_)}(e,t)))return c;var i=o(e),n=o(t);if(c=function(x,a){for(var c=function(x,a){this.x=x,this.y=a},_=0;_<x[_0x37ca("0x4")];_++)for(var e=x[_],t=0;t<a[_0x37ca("0x4")];t++){var i=a[t],n=new c(i.x2-i.x1,i.y2-i.y1),r=new c(e.x1-i.x1,e.y1-i.y1),s=new c(e.x2-i.x1,e.y2-i.y1),o=r.x*n.y-n.x*r.y,l=s.x*n.y-n.x*s.y,u=new c(e.x2-e.x1,e.y2-e.y1),d=new c(i.x1-e.x1,i.y1-e.y1),f=new c(i.x2-e.x1,i.y2-e.y1),h=d.x*u.y-u.x*d.y,g=f.x*u.y-u.x*f.y;if(o*l<0&&h*g<0)return!0}return!1;function c(x,a){this.x=x,this.y=a}}(i,n))return c;for(var r=0,s=0;s<e.length-1;s++){_(e[s],n)&&r++}return c=r==e[_0x37ca("0x4")]-1;function o(x){for(var a=[],c=0;c<x[_0x37ca("0x4")]-1;c++){var _=x[c],e=x[c+1];a[_0x37ca("0x0")]({x1:_.x,y1:_.y,x2:e.x,y2:e.y})}return a}},a[_0x37ca("0x639")]=function(x){for(var a,c,_,e,t=0;t<x[_0x37ca("0x4")];t++){var i=x[t];a=a>i.x?a:i.x,_=_<i.x?_:i.x,c=c>i.y?c:i.y,e=e<i.y?e:i.y}return{maxX:a,minX:_,maxY:c,minY:e}},a.containPolygon=function(x,a){for(var c,_,e,t,i,n,r,s,o=0;o<x[_0x37ca("0x4")];o++){var l=x[o];c=c>l.x?c:l.x,e=e<l.x?e:l.x,_=_>l.y?_:l.y,t=t<l.y?t:l.y}for(o=0;o<a[_0x37ca("0x4")];o++){var u=a[o];i=i>u.x?i:u.x,r=r<u.x?r:u.x,n=n>u.y?n:u.y,s=s<u.y?s:u.y}var d=e<=r,f=_>=n,h=t<=s;return c>=i&&d&&f&&h}},function(x,a,c){"use strict";(function(x){Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(18)),e=t(c(16));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){this[_0x37ca("0x64f")]={},this._tweensAddedDuringUpdate={}};i[_0x37ca("0x11")]={getAll:function(){return(0,e[_0x37ca("0xe")])(this[_0x37ca("0x64f")])[_0x37ca("0x39")](function(x){return this._tweens[x]}[_0x37ca("0x10")](this))},removeAll:function(){this[_0x37ca("0x64f")]={}},add:function(x){this[_0x37ca("0x64f")][x[_0x37ca("0x650")]()]=x,this[_0x37ca("0x651")][x.getId()]=x},remove:function(x){delete this[_0x37ca("0x64f")][x[_0x37ca("0x650")]()],delete this[_0x37ca("0x651")][x[_0x37ca("0x650")]()]},update:function(x,a){var c=(0,e[_0x37ca("0xe")])(this[_0x37ca("0x64f")]);if(0===c[_0x37ca("0x4")])return!1;for(x=void 0!==x?x:r.now();c[_0x37ca("0x4")]>0;){this[_0x37ca("0x651")]={};for(var _=0;_<c[_0x37ca("0x4")];_++){var t=this[_0x37ca("0x64f")][c[_]];t&&!1===t[_0x37ca("0x119")](x)&&(t[_0x37ca("0x652")]=!1,a||delete this[_0x37ca("0x64f")][c[_]])}c=(0,e.default)(this[_0x37ca("0x651")])}return!0}};var n,r=new i;r[_0x37ca("0x216")]=i,r._nextId=0,r[_0x37ca("0x653")]=function(){return r[_0x37ca("0x654")]++},r.fadeTo=function(x,a,c,_){return new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])({value:0}).to({value:1},1e3*x)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")].None)[_0x37ca("0x12f")](a)[_0x37ca("0x1c4")](_)[_0x37ca("0x1c6")]()},typeof self===_0x37ca("0x8")&&void 0!==x&&x[_0x37ca("0x655")]?r[_0x37ca("0x656")]=function(){var a=x[_0x37ca("0x655")]();return 1e3*a[0]+a[1]/1e6}:typeof self!==_0x37ca("0x8")&&void 0!==self[_0x37ca("0x657")]&&void 0!==self[_0x37ca("0x657")][_0x37ca("0x656")]?r.now=self[_0x37ca("0x657")].now.bind(self[_0x37ca("0x657")]):void 0!==Date.now?r[_0x37ca("0x656")]=Date[_0x37ca("0x656")]:r[_0x37ca("0x656")]=function(){return(new Date).getTime()},r.Tween=function(x,a){this[_0x37ca("0x658")]=!1,this._pauseStart=null,this[_0x37ca("0x659")]=x,this[_0x37ca("0x65a")]={},this._valuesEnd={},this[_0x37ca("0x65b")]={},this[_0x37ca("0x65c")]=1e3,this._repeat=0,this._repeatDelayTime=void 0,this[_0x37ca("0x65d")]=!1,this[_0x37ca("0x652")]=!1,this._reversed=!1,this[_0x37ca("0x65e")]=0,this[_0x37ca("0x65f")]=null,this[_0x37ca("0x660")]=r.Easing[_0x37ca("0x25f")].None,this[_0x37ca("0x661")]=r.Interpolation[_0x37ca("0x25f")],this[_0x37ca("0x662")]=[],this[_0x37ca("0x663")]=null,this[_0x37ca("0x664")]=!1,this[_0x37ca("0x665")]=null,this[_0x37ca("0x666")]=null,this[_0x37ca("0x667")]=null,this._onStopCallback=null,this._group=a||r,this[_0x37ca("0x176")]=r.nextId()},r[_0x37ca("0x1bd")][_0x37ca("0x11")]={getId:function(){return this[_0x37ca("0x176")]},isPlaying:function(){return this[_0x37ca("0x652")]},isPaused:function(){return this[_0x37ca("0x658")]},to:function(x,a){return this[_0x37ca("0x668")]=(0,_.default)(x),void 0!==a&&(this[_0x37ca("0x65c")]=a),this},duration:function(x){return this._duration=x,this},start:function(x){for(var a in this._group[_0x37ca("0xe0")](this),this[_0x37ca("0x652")]=!0,this._isPaused=!1,this[_0x37ca("0x664")]=!1,this[_0x37ca("0x65f")]=void 0!==x?typeof x===_0x37ca("0xf")?r[_0x37ca("0x656")]()+parseFloat(x):x:r[_0x37ca("0x656")](),this[_0x37ca("0x65f")]+=this[_0x37ca("0x65e")],this[_0x37ca("0x668")]){if(this[_0x37ca("0x668")][a]instanceof Array){if(0===this[_0x37ca("0x668")][a][_0x37ca("0x4")])continue;this[_0x37ca("0x668")][a]=[this[_0x37ca("0x659")][a]].concat(this[_0x37ca("0x668")][a])}void 0!==this._object[a]&&(typeof this._valuesStart[a]===_0x37ca("0x8")&&(this[_0x37ca("0x65a")][a]=this[_0x37ca("0x659")][a]),this[_0x37ca("0x65a")][a]instanceof Array==!1&&(this._valuesStart[a]*=1),this._valuesStartRepeat[a]=this[_0x37ca("0x65a")][a]||0)}return this},stop:function(){return this[_0x37ca("0x652")]?(this[_0x37ca("0x669")].remove(this),this[_0x37ca("0x652")]=!1,this[_0x37ca("0x658")]=!1,null!==this._onStopCallback&&this[_0x37ca("0x66a")](this._object),this[_0x37ca("0x66b")](),this):this},end:function(){return this[_0x37ca("0x119")](1/0),this},pause:function(x){return this[_0x37ca("0x658")]||!this[_0x37ca("0x652")]||(this[_0x37ca("0x658")]=!0,this[_0x37ca("0x66c")]=void 0===x?r.now():x,this[_0x37ca("0x669")].remove(this)),this},resume:function(x){return this[_0x37ca("0x658")]&&this._isPlaying?(this[_0x37ca("0x658")]=!1,this._startTime+=(void 0===x?r[_0x37ca("0x656")]():x)-this._pauseStart,this._pauseStart=0,this[_0x37ca("0x669")][_0x37ca("0xe0")](this),this):this},stopChainedTweens:function(){for(var x=0,a=this[_0x37ca("0x662")][_0x37ca("0x4")];x<a;x++)this[_0x37ca("0x662")][x][_0x37ca("0x1bc")]()},group:function(x){return this[_0x37ca("0x669")]=x,this},delay:function(x){return this[_0x37ca("0x65e")]=x,this},repeat:function(x){return this[_0x37ca("0x66d")]=x,this},repeatDelay:function(x){return this[_0x37ca("0x66e")]=x,this},yoyo:function(x){return this[_0x37ca("0x65d")]=x,this},easing:function(x){return this[_0x37ca("0x660")]=x,this},interpolation:function(x){return this[_0x37ca("0x661")]=x,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(x){return this._onStartCallback=x,this},onUpdate:function(x){return this._onUpdateCallback=x,this},onRepeat:function(x){return this._onRepeatCallback=x,this},onComplete:function(x){return this[_0x37ca("0x667")]=x,this},onStop:function(x){return this[_0x37ca("0x66a")]=x,this},update:function(x){var a,c,_;if(r[_0x37ca("0x39")][_0x37ca("0x66f")]=0,x<this._startTime)return!0;for(a in!1===this[_0x37ca("0x664")]&&(null!==this[_0x37ca("0x663")]&&this[_0x37ca("0x663")](this[_0x37ca("0x659")]),this[_0x37ca("0x664")]=!0),c=(x-this[_0x37ca("0x65f")])/this[_0x37ca("0x65c")],c=0===this._duration||c>1?1:c,_=this._easingFunction(c),this[_0x37ca("0x668")])if(void 0!==this[_0x37ca("0x65a")][a]){var e=this[_0x37ca("0x65a")][a]||0,t=this[_0x37ca("0x668")][a];t instanceof Array?this[_0x37ca("0x659")][a]=this[_0x37ca("0x661")](t,_):(typeof t===_0x37ca("0xf")&&(t="+"===t[_0x37ca("0x63e")](0)||"-"===t[_0x37ca("0x63e")](0)?e+parseFloat(t):parseFloat(t)),typeof t===_0x37ca("0x143")&&(this._object[a]=e+(t-e)*_))}if(null!==this[_0x37ca("0x665")]&&this[_0x37ca("0x665")](this[_0x37ca("0x659")],c),1===c){if(this[_0x37ca("0x66d")]>0){for(a in isFinite(this[_0x37ca("0x66d")])&&this[_0x37ca("0x66d")]--,this[_0x37ca("0x65b")]){if(typeof this[_0x37ca("0x668")][a]===_0x37ca("0xf")&&(this[_0x37ca("0x65b")][a]=this[_0x37ca("0x65b")][a]+parseFloat(this._valuesEnd[a])),this[_0x37ca("0x65d")]){var i=this[_0x37ca("0x65b")][a];this[_0x37ca("0x65b")][a]=this[_0x37ca("0x668")][a],this._valuesEnd[a]=i}this[_0x37ca("0x65a")][a]=this[_0x37ca("0x65b")][a]}return this[_0x37ca("0x65d")]&&(this[_0x37ca("0x670")]=!this._reversed),void 0!==this[_0x37ca("0x66e")]?this[_0x37ca("0x65f")]=x+this[_0x37ca("0x66e")]:this[_0x37ca("0x65f")]=x+this[_0x37ca("0x65e")],null!==this[_0x37ca("0x666")]&&this[_0x37ca("0x666")](this[_0x37ca("0x659")]),!0}null!==this[_0x37ca("0x667")]&&this[_0x37ca("0x667")](this._object);for(var n=0,s=this[_0x37ca("0x662")][_0x37ca("0x4")];n<s;n++)this[_0x37ca("0x662")][n][_0x37ca("0x1c6")](this[_0x37ca("0x65f")]+this[_0x37ca("0x65c")]);return!1}return!0}},r[_0x37ca("0x1c2")]={Linear:{None:function(x){return x}},Quadratic:{In:function(x){return x*x},Out:function(x){return x*(2-x)},InOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)}},Cubic:{In:function(x){return x*x*x},Out:function(x){return--x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)}},Quartic:{In:function(x){return x*x*x*x},Out:function(x){return 1- --x*x*x*x},InOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)}},Quintic:{In:function(x){return x*x*x*x*x},Out:function(x){return--x*x*x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)}},Sinusoidal:{In:function(x){return 1-Math.cos(x*Math.PI/2)},Out:function(x){return Math[_0x37ca("0x613")](x*Math.PI/2)},InOut:function(x){return.5*(1-Math[_0x37ca("0x648")](Math.PI*x))}},Exponential:{In:function(x){return 0===x?0:Math[_0x37ca("0xb0")](1024,x-1)},Out:function(x){return 1===x?1:1-Math[_0x37ca("0xb0")](2,-10*x)},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?.5*Math[_0x37ca("0xb0")](1024,x-1):.5*(2-Math[_0x37ca("0xb0")](2,-10*(x-1)))}},Circular:{In:function(x){return 1-Math[_0x37ca("0xc4")](1-x*x)},Out:function(x){return Math.sqrt(1- --x*x)},InOut:function(x){return(x*=2)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math[_0x37ca("0xc4")](1-(x-=2)*x)+1)}},Elastic:{In:function(x){return 0===x?0:1===x?1:-Math[_0x37ca("0xb0")](2,10*(x-1))*Math.sin(5*(x-1.1)*Math.PI)},Out:function(x){return 0===x?0:1===x?1:Math.pow(2,-10*x)*Math[_0x37ca("0x613")](5*(x-.1)*Math.PI)+1},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?-.5*Math.pow(2,10*(x-1))*Math[_0x37ca("0x613")](5*(x-1.1)*Math.PI):.5*Math.pow(2,-10*(x-1))*Math.sin(5*(x-1.1)*Math.PI)+1}},Back:{In:function(x){var a=1.70158;return x*x*(2.70158*x-a)},Out:function(x){var a=1.70158;return--x*x*(2.70158*x+a)+1},InOut:function(x){var a=2.5949095;return(x*=2)<1?x*x*(3.5949095*x-a)*.5:.5*((x-=2)*x*(3.5949095*x+a)+2)}},Bounce:{In:function(x){return 1-r[_0x37ca("0x1c2")].Bounce[_0x37ca("0x1c3")](1-x)},Out:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},InOut:function(x){return x<.5?.5*r[_0x37ca("0x1c2")][_0x37ca("0x671")].In(2*x):.5*r.Easing[_0x37ca("0x671")].Out(2*x-1)+.5}}},r[_0x37ca("0x672")]={Linear:function(x,a){var c=x[_0x37ca("0x4")]-1,_=c*a,e=Math[_0x37ca("0x2e")](_),t=r.Interpolation.Utils[_0x37ca("0x25f")];return a<0?t(x[0],x[1],_):a>1?t(x[c],x[c-1],c-_):t(x[e],x[e+1>c?c:e+1],_-e)},Bezier:function(x,a){for(var c=0,_=x[_0x37ca("0x4")]-1,e=Math[_0x37ca("0xb0")],t=r[_0x37ca("0x672")][_0x37ca("0x673")][_0x37ca("0x674")],i=0;i<=_;i++)c+=e(1-a,_-i)*e(a,i)*x[i]*t(_,i);return c},CatmullRom:function(x,a){var c=x[_0x37ca("0x4")]-1,_=c*a,e=Math[_0x37ca("0x2e")](_),t=r.Interpolation.Utils[_0x37ca("0x675")];return x[0]===x[c]?(a<0&&(e=Math[_0x37ca("0x2e")](_=c*(1+a))),t(x[(e-1+c)%c],x[e],x[(e+1)%c],x[(e+2)%c],_-e)):a<0?x[0]-(t(x[0],x[0],x[1],x[1],-_)-x[0]):a>1?x[c]-(t(x[c],x[c],x[c-1],x[c-1],_-c)-x[c]):t(x[e?e-1:0],x[e],x[c<e+1?c:e+1],x[c<e+2?c:e+2],_-e)},Utils:{Linear:function(x,a,c){return(a-x)*c+x},Bernstein:function(x,a){var c=r[_0x37ca("0x672")][_0x37ca("0x673")][_0x37ca("0x676")];return c(x)/c(a)/c(x-a)},Factorial:(n=[1],function(x){var a=1;if(n[x])return n[x];for(var c=x;c>1;c--)a*=c;return n[x]=a,a}),CatmullRom:function(x,a,c,_,e){var t=.5*(c-x),i=.5*(_-a),n=e*e;return(2*a-2*c+t+i)*(e*n)+(-3*a+3*c-2*t-i)*n+t*e+a}}},a[_0x37ca("0xe")]=r})[_0x37ca("0x6")](this,c(66))},function(x,a,c){"use strict";THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:[_0x37ca("0x677"),"void main() {",_0x37ca("0x678"),_0x37ca("0x679"),"}"].join("\n"),fragmentShader:[_0x37ca("0x106"),_0x37ca("0x67a"),_0x37ca("0x677"),_0x37ca("0x67b"),_0x37ca("0x67c"),"gl_FragColor = opacity * texel;","}"][_0x37ca("0x31")]("\n")}},function(x,a,c){"use strict";var _,e,t,i,n=c(2),r=(_=n)&&_[_0x37ca("0xb")]?_:{default:_};THREE[_0x37ca("0x67d")]=function(x,a){if(this.renderer=x,void 0===a){var c={minFilter:THREE[_0x37ca("0x420")],magFilter:THREE[_0x37ca("0x420")],format:THREE[_0x37ca("0x67e")],stencilBuffer:!1},_=x.getSize(new THREE.Vector2);this[_0x37ca("0x67f")]=x[_0x37ca("0x680")](),this[_0x37ca("0x681")]=_[_0x37ca("0x398")],this._height=_.height,(a=new(THREE[_0x37ca("0x682")])(this[_0x37ca("0x681")]*this[_0x37ca("0x67f")],this[_0x37ca("0x683")]*this[_0x37ca("0x67f")],c))[_0x37ca("0x56b")][_0x37ca("0x1aa")]=_0x37ca("0x684")}else this._pixelRatio=1,this._width=a[_0x37ca("0x398")],this[_0x37ca("0x683")]=a[_0x37ca("0x1a8")];this[_0x37ca("0x685")]=a,this[_0x37ca("0x686")]=a[_0x37ca("0xde")](),this[_0x37ca("0x686")][_0x37ca("0x56b")][_0x37ca("0x1aa")]=_0x37ca("0x687"),this[_0x37ca("0x688")]=this[_0x37ca("0x685")],this[_0x37ca("0x689")]=this[_0x37ca("0x686")],this[_0x37ca("0x68a")]=!0,this[_0x37ca("0x68b")]=[],void 0===THREE[_0x37ca("0x68c")]&&console[_0x37ca("0xca")](_0x37ca("0x68d")),THREE.ShaderPass,this[_0x37ca("0x68e")]=new(THREE[_0x37ca("0x68f")])(THREE.CopyShader),this[_0x37ca("0x2d5")]=new(THREE[_0x37ca("0x21c")])},(0,r[_0x37ca("0xe")])(THREE[_0x37ca("0x67d")][_0x37ca("0x11")],{swapBuffers:function(){var x=this[_0x37ca("0x689")];this[_0x37ca("0x689")]=this[_0x37ca("0x688")],this.writeBuffer=x},addPass:function(x){this[_0x37ca("0x68b")].push(x);var a=this.renderer.getDrawingBufferSize(new(THREE[_0x37ca("0x563")]));x[_0x37ca("0x690")](a.width,a.height)},insertPass:function(x,a){this[_0x37ca("0x68b")].splice(a,0,x)},isLastEnabledPass:function(x){for(var a=x+1;a<this[_0x37ca("0x68b")][_0x37ca("0x4")];a++)if(this[_0x37ca("0x68b")][a][_0x37ca("0x57b")])return!1;return!0},render:function(x){void 0===x&&(x=this[_0x37ca("0x2d5")][_0x37ca("0x2b2")]());var a,c,_=this.renderer[_0x37ca("0x691")](),e=!1,t=this.passes[_0x37ca("0x4")];for(c=0;c<t;c++)if(!1!==(a=this[_0x37ca("0x68b")][c]).enabled){if(a[_0x37ca("0x68a")]=this[_0x37ca("0x68a")]&&this[_0x37ca("0x692")](c),a[_0x37ca("0x578")](this[_0x37ca("0x693")],this[_0x37ca("0x688")],this[_0x37ca("0x689")],x,e),a[_0x37ca("0x694")]){if(e){var i=this.renderer[_0x37ca("0x1d3")];i[_0x37ca("0x695")](i[_0x37ca("0x696")],1,4294967295),this[_0x37ca("0x68e")][_0x37ca("0x578")](this[_0x37ca("0x693")],this.writeBuffer,this.readBuffer,x),i.stencilFunc(i[_0x37ca("0x697")],1,4294967295)}this[_0x37ca("0x698")]()}void 0!==THREE[_0x37ca("0x699")]&&(a instanceof THREE[_0x37ca("0x699")]?e=!0:a instanceof THREE[_0x37ca("0x69a")]&&(e=!1))}this[_0x37ca("0x693")].setRenderTarget(_)},reset:function(x){if(void 0===x){var a=this.renderer[_0x37ca("0x69b")](new(THREE[_0x37ca("0x563")]));this[_0x37ca("0x67f")]=this[_0x37ca("0x693")][_0x37ca("0x680")](),this[_0x37ca("0x681")]=a.width,this[_0x37ca("0x683")]=a[_0x37ca("0x1a8")],(x=this[_0x37ca("0x685")].clone())[_0x37ca("0x690")](this[_0x37ca("0x681")]*this._pixelRatio,this[_0x37ca("0x683")]*this[_0x37ca("0x67f")])}this[_0x37ca("0x685")][_0x37ca("0xa8")](),this[_0x37ca("0x686")][_0x37ca("0xa8")](),this[_0x37ca("0x685")]=x,this.renderTarget2=x.clone(),this[_0x37ca("0x688")]=this[_0x37ca("0x685")],this[_0x37ca("0x689")]=this.renderTarget2},setSize:function(x,a){this[_0x37ca("0x681")]=x,this[_0x37ca("0x683")]=a;var c=this[_0x37ca("0x681")]*this[_0x37ca("0x67f")],_=this._height*this[_0x37ca("0x67f")];this.renderTarget1[_0x37ca("0x690")](c,_),this.renderTarget2.setSize(c,_);for(var e=0;e<this.passes[_0x37ca("0x4")];e++)this[_0x37ca("0x68b")][e].setSize(c,_)},setPixelRatio:function(x){this._pixelRatio=x,this[_0x37ca("0x690")](this[_0x37ca("0x681")],this[_0x37ca("0x683")])}}),THREE[_0x37ca("0x69c")]=function(){this[_0x37ca("0x57b")]=!0,this[_0x37ca("0x694")]=!0,this[_0x37ca("0x69d")]=!1,this.renderToScreen=!1},(0,r[_0x37ca("0xe")])(THREE[_0x37ca("0x69c")][_0x37ca("0x11")],{setSize:function(){},render:function(){console[_0x37ca("0xca")](_0x37ca("0x69e"))}}),THREE[_0x37ca("0x69c")][_0x37ca("0x69f")]=(e=new THREE.OrthographicCamera(-1,1,1,-1,0,1),t=new(THREE[_0x37ca("0x6a0")])(2,2),i=function(x){this._mesh=new THREE.Mesh(t,x)},Object[_0x37ca("0x9")](i.prototype,_0x37ca("0xa9"),{get:function(){return this._mesh.material},set:function(x){this[_0x37ca("0x6a1")][_0x37ca("0xa9")]=x}}),(0,r[_0x37ca("0xe")])(i[_0x37ca("0x11")],{render:function(x){x[_0x37ca("0x578")](this[_0x37ca("0x6a1")],e)}}),i)},function(x,a,c){"use strict";var _=t(c(18)),e=t(c(2));function t(x){return x&&x.__esModule?x:{default:x}}THREE.MaskPass=function(x,a){THREE[_0x37ca("0x69c")].call(this),this[_0x37ca("0xb5")]=x,this[_0x37ca("0x611")]=a,this[_0x37ca("0x69d")]=!0,this[_0x37ca("0x694")]=!1,this[_0x37ca("0x3c7")]=!1},THREE[_0x37ca("0x699")][_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])((0,_[_0x37ca("0xe")])(THREE[_0x37ca("0x69c")].prototype),{constructor:THREE[_0x37ca("0x699")],render:function(x,a,c){var _,e,t=x[_0x37ca("0x1d3")],i=x[_0x37ca("0x6a2")];i[_0x37ca("0x3dc")][_0x37ca("0x13c")][_0x37ca("0x6a3")](!1),i.buffers[_0x37ca("0x30a")][_0x37ca("0x6a3")](!1),i[_0x37ca("0x3dc")].color[_0x37ca("0x6a4")](!0),i[_0x37ca("0x3dc")][_0x37ca("0x30a")][_0x37ca("0x6a4")](!0),this[_0x37ca("0x3c7")]?(_=0,e=1):(_=1,e=0),i[_0x37ca("0x3dc")][_0x37ca("0x6a5")][_0x37ca("0x6a6")](!0),i[_0x37ca("0x3dc")][_0x37ca("0x6a5")][_0x37ca("0x6a7")](t[_0x37ca("0x6a8")],t.REPLACE,t[_0x37ca("0x6a8")]),i[_0x37ca("0x3dc")][_0x37ca("0x6a5")][_0x37ca("0x6a9")](t.ALWAYS,_,4294967295),i[_0x37ca("0x3dc")].stencil[_0x37ca("0x6aa")](e),x[_0x37ca("0x6ab")](c),this[_0x37ca("0x69d")]&&x[_0x37ca("0x69d")](),x[_0x37ca("0x578")](this.scene,this[_0x37ca("0x611")]),x[_0x37ca("0x6ab")](a),this[_0x37ca("0x69d")]&&x[_0x37ca("0x69d")](),x[_0x37ca("0x578")](this[_0x37ca("0xb5")],this[_0x37ca("0x611")]),i[_0x37ca("0x3dc")][_0x37ca("0x13c")][_0x37ca("0x6a4")](!1),i[_0x37ca("0x3dc")].depth.setLocked(!1),i[_0x37ca("0x3dc")].stencil[_0x37ca("0x6a9")](t[_0x37ca("0x697")],1,4294967295),i[_0x37ca("0x3dc")][_0x37ca("0x6a5")][_0x37ca("0x6a7")](t[_0x37ca("0x6ac")],t.KEEP,t[_0x37ca("0x6ac")])}}),THREE[_0x37ca("0x69a")]=function(){THREE[_0x37ca("0x69c")][_0x37ca("0x6")](this),this[_0x37ca("0x694")]=!1},THREE[_0x37ca("0x69a")][_0x37ca("0x11")]=(0,_[_0x37ca("0xe")])(THREE.Pass.prototype),(0,e[_0x37ca("0xe")])(THREE.ClearMaskPass[_0x37ca("0x11")],{render:function(x){x[_0x37ca("0x6a2")][_0x37ca("0x3dc")][_0x37ca("0x6a5")][_0x37ca("0x6a6")](!1)}})},function(x,a,c){"use strict";var _=t(c(18)),e=t(c(2));function t(x){return x&&x.__esModule?x:{default:x}}THREE[_0x37ca("0x6ad")]=function(x,a,c,_,e){THREE[_0x37ca("0x69c")][_0x37ca("0x6")](this),this[_0x37ca("0xb5")]=x,this[_0x37ca("0x611")]=a,this[_0x37ca("0x6ae")]=c,this[_0x37ca("0x6af")]=_,this[_0x37ca("0x6b0")]=void 0!==e?e:0,this[_0x37ca("0x69d")]=!0,this[_0x37ca("0x6b1")]=!1,this[_0x37ca("0x694")]=!1},THREE[_0x37ca("0x6ad")][_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])((0,_[_0x37ca("0xe")])(THREE.Pass.prototype),{constructor:THREE[_0x37ca("0x6ad")],render:function(x,a,c){var _,e,t=x[_0x37ca("0x6b2")];x[_0x37ca("0x6b2")]=!1,this[_0x37ca("0xb5")][_0x37ca("0x6ae")]=this.overrideMaterial,this[_0x37ca("0x6af")]&&(_=x[_0x37ca("0x6b3")]()[_0x37ca("0x2c0")](),e=x.getClearAlpha(),x[_0x37ca("0x6b4")](this[_0x37ca("0x6af")],this[_0x37ca("0x6b0")])),this[_0x37ca("0x6b1")]&&x[_0x37ca("0x6b1")](),x[_0x37ca("0x6ab")](this[_0x37ca("0x68a")]?null:c),this[_0x37ca("0x69d")]&&x[_0x37ca("0x69d")](x[_0x37ca("0x6b5")],x[_0x37ca("0x6b6")],x[_0x37ca("0x6b7")]),x[_0x37ca("0x578")](this.scene,this[_0x37ca("0x611")]),this[_0x37ca("0x6af")]&&x[_0x37ca("0x6b4")](_,e),this.scene[_0x37ca("0x6ae")]=null,x[_0x37ca("0x6b2")]=t}})},function(x,a,c){"use strict";var _=t(c(18)),e=t(c(2));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}THREE[_0x37ca("0x68f")]=function(x,a){THREE[_0x37ca("0x69c")][_0x37ca("0x6")](this),this[_0x37ca("0x6b8")]=void 0!==a?a:_0x37ca("0x6b9"),x instanceof THREE.ShaderMaterial?(this[_0x37ca("0xff")]=x.uniforms,this[_0x37ca("0xa9")]=x):x&&(this.uniforms=THREE[_0x37ca("0x6ba")][_0x37ca("0xde")](x[_0x37ca("0xff")]),this[_0x37ca("0xa9")]=new(THREE[_0x37ca("0x6bb")])({defines:(0,e[_0x37ca("0xe")])({},x.defines),uniforms:this[_0x37ca("0xff")],vertexShader:x[_0x37ca("0x101")],fragmentShader:x[_0x37ca("0x105")]})),this[_0x37ca("0x6bc")]=new(THREE[_0x37ca("0x69c")][_0x37ca("0x69f")])(this[_0x37ca("0xa9")])},THREE[_0x37ca("0x68f")][_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])((0,_[_0x37ca("0xe")])(THREE.Pass[_0x37ca("0x11")]),{constructor:THREE[_0x37ca("0x68f")],render:function(x,a,c){this[_0x37ca("0xff")][this[_0x37ca("0x6b8")]]&&(this[_0x37ca("0xff")][this[_0x37ca("0x6b8")]][_0x37ca("0xf2")]=c[_0x37ca("0x56b")]),this[_0x37ca("0x6bc")][_0x37ca("0xa9")]=this.material,this[_0x37ca("0x68a")]?(x[_0x37ca("0x6ab")](null),this.fsQuad[_0x37ca("0x578")](x)):(x[_0x37ca("0x6ab")](a),this[_0x37ca("0x69d")]&&x[_0x37ca("0x69d")](x.autoClearColor,x[_0x37ca("0x6b6")],x[_0x37ca("0x6b7")]),this[_0x37ca("0x6bc")].render(x))}})},function(x,a,c){"use strict";THREE[_0x37ca("0x6bd")]={uniforms:{tDiffuse:{value:null},resolution:{value:new(THREE[_0x37ca("0x563")])(1/1024,1/512)}},vertexShader:["void main() {",_0x37ca("0x679"),"}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;",_0x37ca("0x6be"),_0x37ca("0x6bf"),_0x37ca("0x6c0"),_0x37ca("0x67b"),"vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;",_0x37ca("0x6c1"),_0x37ca("0x6c2"),"vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;",_0x37ca("0x6c3"),_0x37ca("0x6c4"),_0x37ca("0x6c5"),"float lumaNW = dot( rgbNW, luma );",_0x37ca("0x6c6"),_0x37ca("0x6c7"),"float lumaSE = dot( rgbSE, luma );",_0x37ca("0x6c8"),_0x37ca("0x6c9"),_0x37ca("0x6ca"),_0x37ca("0x6cb"),"dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );",_0x37ca("0x6cc"),_0x37ca("0x6cd"),_0x37ca("0x6ce"),_0x37ca("0x6cf"),_0x37ca("0x6d0"),_0x37ca("0x6d1"),"texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));",_0x37ca("0x6d2"),_0x37ca("0x6d3"),_0x37ca("0x6d4"),_0x37ca("0x6d5"),_0x37ca("0x6d6"),"gl_FragColor = rgbA;","} else {",_0x37ca("0x6d7"),"}","}"][_0x37ca("0x31")]("\n")}},function(x,a,c){"use strict";var _=t(c(54)),e=t(c(18));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}THREE[_0x37ca("0x6d8")]=function(x){THREE.Object3D.call(this),this.element=x,this.element[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6d9"),this[_0x37ca("0x33")](_0x37ca("0x23f"),(function(){null!==this.element[_0x37ca("0x29")]&&this[_0x37ca("0x328")][_0x37ca("0x29")][_0x37ca("0x2a")](this[_0x37ca("0x328")])}))},THREE.CSS3DObject[_0x37ca("0x11")]=(0,e.default)(THREE.Object3D[_0x37ca("0x11")]),THREE[_0x37ca("0x6d8")][_0x37ca("0x11")][_0x37ca("0x48b")]=THREE[_0x37ca("0x6d8")],THREE[_0x37ca("0x6da")]=function(x){THREE.CSS3DObject[_0x37ca("0x6")](this,x)},THREE.CSS3DSprite[_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])(THREE.CSS3DObject[_0x37ca("0x11")]),THREE[_0x37ca("0x6da")][_0x37ca("0x11")][_0x37ca("0x48b")]=THREE.CSS3DSprite,THREE.CSS3DRenderer=function(){var x,a,c,e,t=new(THREE[_0x37ca("0x25a")]),i={camera:{fov:0,style:""},objects:new(_[_0x37ca("0xe")])},n=document[_0x37ca("0x22")]("div");n[_0x37ca("0x24")][_0x37ca("0x6db")]=_0x37ca("0x6dc"),this[_0x37ca("0x31a")]=n;var r=document[_0x37ca("0x22")](_0x37ca("0x38c"));r[_0x37ca("0x24")][_0x37ca("0x6dd")]=_0x37ca("0x6de"),r[_0x37ca("0x24")][_0x37ca("0x6df")]=_0x37ca("0x6de"),n[_0x37ca("0x27")](r);var s=/Trident/i.test(navigator[_0x37ca("0x60b")]);function o(x){return Math[_0x37ca("0x24e")](x)<1e-10?0:x}function l(x){var a=x[_0x37ca("0x6e0")];return"matrix3d("+o(a[0])+","+o(-a[1])+","+o(a[2])+","+o(a[3])+","+o(a[4])+","+o(-a[5])+","+o(a[6])+","+o(a[7])+","+o(a[8])+","+o(-a[9])+","+o(a[10])+","+o(a[11])+","+o(a[12])+","+o(-a[13])+","+o(a[14])+","+o(a[15])+")"}function u(x,a){var _=x[_0x37ca("0x6e0")],t="matrix3d("+o(_[0])+","+o(_[1])+","+o(_[2])+","+o(_[3])+","+o(-_[4])+","+o(-_[5])+","+o(-_[6])+","+o(-_[7])+","+o(_[8])+","+o(_[9])+","+o(_[10])+","+o(_[11])+","+o(_[12])+","+o(_[13])+","+o(_[14])+","+o(_[15])+")";return s?_0x37ca("0x6e1")+_0x37ca("0x3a2")+c+_0x37ca("0x6e2")+e+_0x37ca("0x6e3")+a+t:"translate(-50%,-50%)"+t}function d(x,a,c){if(x instanceof THREE[_0x37ca("0x6d8")]){var _;x instanceof THREE[_0x37ca("0x6da")]?(t[_0x37ca("0x268")](a[_0x37ca("0x6e4")]),t[_0x37ca("0x6e5")](),t[_0x37ca("0x6e6")](x.matrixWorld),t[_0x37ca("0x22e")](x[_0x37ca("0x22e")]),t[_0x37ca("0x6e0")][3]=0,t[_0x37ca("0x6e0")][7]=0,t[_0x37ca("0x6e0")][11]=0,t[_0x37ca("0x6e0")][15]=1,_=u(t,c)):_=u(x[_0x37ca("0x187")],c);var e=x[_0x37ca("0x328")],n=i[_0x37ca("0x4b3")][_0x37ca("0x34a")](x);if(void 0===n||n!==_){e.style[_0x37ca("0x6e7")]=_,e[_0x37ca("0x24")][_0x37ca("0x644")]=_;var s={style:_};i[_0x37ca("0x4b3")].set(x,s)}e[_0x37ca("0x29")]!==r&&r.appendChild(e)}for(var o=0,l=x.children.length;o<l;o++)d(x[_0x37ca("0xa6")][o],a,c)}this.getSize=function(){return{width:x,height:a}},this.setSize=function(_,t){c=(x=_)/2,e=(a=t)/2,n[_0x37ca("0x24")][_0x37ca("0x398")]=_+"px",n[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px",r[_0x37ca("0x24")][_0x37ca("0x398")]=_+"px",r[_0x37ca("0x24")].height=t+"px"},this[_0x37ca("0x578")]=function(x,a){var _=a[_0x37ca("0x6e8")][_0x37ca("0x6e0")][5]*e;if(i.camera.fov!==_&&(a[_0x37ca("0x6e9")]&&(n[_0x37ca("0x24")][_0x37ca("0x6ea")]=_+"px",n.style.perspective=_+"px"),i[_0x37ca("0x611")][_0x37ca("0x614")]=_),x[_0x37ca("0x6eb")](),null===a[_0x37ca("0xbb")]&&a.updateMatrixWorld(),a[_0x37ca("0x6e4")][_0x37ca("0x6ec")](a.matrixWorld),a.isOrthographicCamera)var t=-(a[_0x37ca("0x174")]+a[_0x37ca("0x172")])/2,u=(a[_0x37ca("0x173")]+a[_0x37ca("0x175")])/2;var f=a[_0x37ca("0x6ed")]?"scale("+_+")"+_0x37ca("0x3a2")+o(t)+_0x37ca("0x6e2")+o(u)+_0x37ca("0x6e3")+l(a[_0x37ca("0x6e4")]):"translateZ("+_+_0x37ca("0x6e3")+l(a.matrixWorldInverse),h=f+_0x37ca("0x3a2")+c+_0x37ca("0x6e2")+e+"px)";i[_0x37ca("0x611")].style===h||s||(r[_0x37ca("0x24")][_0x37ca("0x6e7")]=h,r[_0x37ca("0x24")][_0x37ca("0x644")]=h,i.camera[_0x37ca("0x24")]=h),d(x,a,f)}}},function(x,a,c){"use strict";var _=t(c(54)),e=t(c(18));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}THREE.CSS2DObject=function(x){THREE[_0x37ca("0x14a")][_0x37ca("0x6")](this),this[_0x37ca("0x328")]=x,this.element[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6d9"),this[_0x37ca("0x33")](_0x37ca("0x23f"),(function(x){null!==this[_0x37ca("0x328")][_0x37ca("0x29")]&&this[_0x37ca("0x328")][_0x37ca("0x29")].removeChild(this[_0x37ca("0x328")])}))},THREE[_0x37ca("0x6ee")][_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])(THREE[_0x37ca("0x14a")][_0x37ca("0x11")]),THREE[_0x37ca("0x6ee")].prototype.constructor=THREE[_0x37ca("0x6ee")],THREE[_0x37ca("0x6ef")]=function(){var x,a,c,e,t=new(THREE[_0x37ca("0xe2")]),i=new(THREE[_0x37ca("0x25a")]),n=new THREE.Matrix4,r={objects:new(_[_0x37ca("0xe")])},s=document.createElement(_0x37ca("0x38c"));s[_0x37ca("0x24")][_0x37ca("0x6db")]=_0x37ca("0x6dc"),s[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6f0"),this[_0x37ca("0x31a")]=s,this[_0x37ca("0x69b")]=function(){return{width:x,height:a}},this[_0x37ca("0x690")]=function(_,t){c=(x=_)/2,e=(a=t)/2,s[_0x37ca("0x24")][_0x37ca("0x398")]=_+"px",s[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px"};var o,l,u=function x(a,_){if(a instanceof THREE[_0x37ca("0x6ee")]){t[_0x37ca("0x6f1")](a[_0x37ca("0x187")]),t[_0x37ca("0x247")](n);var i=t.x*c+c,o=-t.y*e+e,l=_0x37ca("0x6f2"),u=_0x37ca("0x6f3"),f=a[_0x37ca("0x328")];if(a[_0x37ca("0x11a")].updateAlign){var h=f[_0x37ca("0x396")]();l=o>h[_0x37ca("0x1a8")]?_0x37ca("0x6f2"):0,i<h[_0x37ca("0x398")]/2?u="0":2*c-i<h[_0x37ca("0x398")]/2&&(u=_0x37ca("0x6f2"))}var g=a[_0x37ca("0x11a")][_0x37ca("0x6f4")],b="translate("+u+", "+l+_0x37ca("0x6f5")+i+_0x37ca("0x6e2")+o+_0x37ca("0x6f6")+g+")";a.offsetX=i,a[_0x37ca("0x6f7")]=o,f[_0x37ca("0x24")][_0x37ca("0x6e7")]=b,f[_0x37ca("0x24")][_0x37ca("0x37f")]=b,f[_0x37ca("0x24")].oTransform=b,f[_0x37ca("0x24")].transform=b;var v=a[_0x37ca("0xed")]&&t.z>=-1&&t.z<=1?"":_0x37ca("0x58d");f[_0x37ca("0x24")][_0x37ca("0x6f8")]=v,a[_0x37ca("0x42")]({type:_0x37ca("0x119"),message:{x:i,y:o,display:v}});var p={distanceToCameraSquared:d(_,a)};if(r[_0x37ca("0x4b3")][_0x37ca("0x11d")](a,p),f[_0x37ca("0x29")]!==s){var A=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x154")][_0x37ca("0x6f9")];s[_0x37ca("0x6fa")](A)?s[_0x37ca("0x6fb")](f,A):s.appendChild(f);var m=document[_0x37ca("0x6fc")](_0x37ca("0x6fd"));m[_0x37ca("0x6fe")](_0x37ca("0x6ff"),!1,!0),m[_0x37ca("0x700")]=f,document[_0x37ca("0x42")](m,{dom:f})}}for(var C=0,I=a[_0x37ca("0xa6")][_0x37ca("0x4")];C<I;C++)x(a[_0x37ca("0xa6")][C],_)},d=(o=new(THREE[_0x37ca("0xe2")]),l=new(THREE[_0x37ca("0xe2")]),function(x,a){return o[_0x37ca("0x6f1")](x[_0x37ca("0x187")]),l[_0x37ca("0x6f1")](a[_0x37ca("0x187")]),o.distanceToSquared(l)}),f=function(x){for(var a,c,_=(a=x,c=[],a[_0x37ca("0xb6")]((function(x){x instanceof THREE[_0x37ca("0x6ee")]&&c[_0x37ca("0x0")](x)})),c)[_0x37ca("0x408")]((function(x,a){return r[_0x37ca("0x4b3")][_0x37ca("0x34a")](x).distanceToCameraSquared-r.objects[_0x37ca("0x34a")](a).distanceToCameraSquared})),e=_[_0x37ca("0x4")],t=0,i=_.length;t<i;t++)_[t][_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x701")]=e-t};this.render=function(x,a){x[_0x37ca("0x6eb")](),null===a[_0x37ca("0xbb")]&&a[_0x37ca("0x6eb")](),i.copy(a[_0x37ca("0x6e4")]),n[_0x37ca("0x185")](a[_0x37ca("0x6e8")],i),u(x,a),f(x)}}},function(x,a,c){"use strict";THREE[_0x37ca("0x702")]=function(x,a){function c(x){x[_0x37ca("0x36f")]()}this[_0x37ca("0xc")]=x,this[_0x37ca("0x276")]=new(THREE[_0x37ca("0xe2")])(0,0,0),this[_0x37ca("0x31a")]=void 0!==a?a:document,this[_0x37ca("0x57b")]=!0,this.movementSpeed=1,this.lookSpeed=.005,this[_0x37ca("0x703")]=!0,this[_0x37ca("0x704")]=!1,this.activeLook=!0,this[_0x37ca("0x705")]=!1,this.heightCoef=1,this[_0x37ca("0x706")]=0,this[_0x37ca("0x707")]=10,this[_0x37ca("0x708")]=!1,this[_0x37ca("0x709")]=0,this[_0x37ca("0x70a")]=Math.PI,this[_0x37ca("0x70b")]=0,this[_0x37ca("0x70c")]=0,this[_0x37ca("0x70d")]=0,this[_0x37ca("0x70e")]=0,this[_0x37ca("0x70f")]=0,this[_0x37ca("0x710")]=0,this.theta=0,this[_0x37ca("0x711")]=!1,this.moveBackward=!1,this[_0x37ca("0x712")]=!1,this[_0x37ca("0x713")]=!1,this[_0x37ca("0x714")]=!1,this[_0x37ca("0x715")]=!1,this.mouseLastPos={x:0,y:0},this[_0x37ca("0x716")]=!1,this.viewHalfX=0,this[_0x37ca("0x717")]=0,this[_0x37ca("0x718")]=!1,this.stopAsap2=!1,this[_0x37ca("0x719")]=0,this[_0x37ca("0x71a")]=null,this[_0x37ca("0x71b")]=null,this[_0x37ca("0x71c")]=0,this[_0x37ca("0x71d")]=0,this.userIntersecting=0,this.domElement!==document&&this[_0x37ca("0x31a")][_0x37ca("0x32b")]("tabindex",-1),this.handleResize=function(){this[_0x37ca("0x31a")]===document?(this[_0x37ca("0x71e")]=window[_0x37ca("0x71f")]/2,this[_0x37ca("0x717")]=window[_0x37ca("0x720")]/2):(this[_0x37ca("0x71e")]=this[_0x37ca("0x31a")][_0x37ca("0x397")]/2,this[_0x37ca("0x717")]=this[_0x37ca("0x31a")][_0x37ca("0x28")]/2)},this.onMouseDown=function(x){if(this[_0x37ca("0x57b")]){if(this[_0x37ca("0x31a")]!==document&&this.domElement[_0x37ca("0x721")](),x[_0x37ca("0x36f")](),0==this[_0x37ca("0x714")]&&x[_0x37ca("0x370")](),this[_0x37ca("0x722")]&&this.mouseClickMoving)switch(x[_0x37ca("0x723")]){case 0:this[_0x37ca("0x711")]=!0;break;case 2:this[_0x37ca("0x724")]=!0}this[_0x37ca("0x715")]=!0}},this[_0x37ca("0x725")]=function(x){if(this[_0x37ca("0x57b")]){if(x[_0x37ca("0x36f")](),0==this[_0x37ca("0x714")]&&x[_0x37ca("0x370")](),this[_0x37ca("0x722")])switch(x[_0x37ca("0x723")]){case 0:this[_0x37ca("0x711")]=!1;break;case 2:this[_0x37ca("0x724")]=!1}this[_0x37ca("0x715")]=!1}},this[_0x37ca("0x726")]=function(x){if(this[_0x37ca("0x718")]=!1,this[_0x37ca("0x57b")]){this[_0x37ca("0x31a")]===document?(this.mouseX=x[_0x37ca("0x727")]-this[_0x37ca("0x71e")],this.mouseY=x[_0x37ca("0x728")]-this[_0x37ca("0x717")]):(this[_0x37ca("0x70c")]=x.pageX-this[_0x37ca("0x31a")].offsetLeft-this[_0x37ca("0x71e")],this[_0x37ca("0x70d")]=x[_0x37ca("0x728")]-this.domElement[_0x37ca("0x418")]-this[_0x37ca("0x717")]),this[_0x37ca("0x716")]=!0;var a=this;window[_0x37ca("0x2e8")](a.clearTimer),this[_0x37ca("0x729")]=setTimeout((function(){a[_0x37ca("0x718")]=!0}),1e3),this[_0x37ca("0x72a")]={x:this[_0x37ca("0x70c")],y:this[_0x37ca("0x70d")]}}},this[_0x37ca("0x72b")]=function(x){if(this[_0x37ca("0x57b")])switch(x[_0x37ca("0x36f")](),x[_0x37ca("0x278")]){case 38:case 87:this[_0x37ca("0x711")]=!0;break;case 37:case 65:this[_0x37ca("0x712")]=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this[_0x37ca("0x713")]=!0;break;case 82:this[_0x37ca("0x72c")]=!0;break;case 70:this[_0x37ca("0x72d")]=!0;break;case 18:this[_0x37ca("0x72e")]=!0}},this[_0x37ca("0x72f")]=function(x){if(this[_0x37ca("0x57b")])switch(x[_0x37ca("0x278")]){case 38:case 87:this[_0x37ca("0x711")]=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this[_0x37ca("0x724")]=!1;break;case 39:case 68:this[_0x37ca("0x713")]=!1;break;case 82:this[_0x37ca("0x72c")]=!1;break;case 70:this.moveDown=!1;break;case 18:this[_0x37ca("0x72e")]=!1}},this.update=function(x){if(!1!==this.enabled){if(this.heightSpeed){var a=THREE.Math[_0x37ca("0x730")](this.object[_0x37ca("0xb8")].y,this[_0x37ca("0x706")],this.heightMax)-this.heightMin;this.autoSpeedFactor=x*(a*this.heightCoef)}else this.autoSpeedFactor=0;var c=x*this[_0x37ca("0x731")],_=this.object.position.y;this[_0x37ca("0x719")]&&this[_0x37ca("0x71a")]?(this[_0x37ca("0xc")][_0x37ca("0xb8")].x=this[_0x37ca("0x71a")].x,this.object.position.z=this[_0x37ca("0x71a")].z,this.object[_0x37ca("0xb8")].y=this[_0x37ca("0x71a")].y):((this[_0x37ca("0x711")]||this.autoForward&&!this[_0x37ca("0x724")])&&this[_0x37ca("0xc")][_0x37ca("0x732")](-(c+this[_0x37ca("0x70b")])),this[_0x37ca("0x724")]&&this.object[_0x37ca("0x732")](c),this.moveLeft&&this[_0x37ca("0xc")][_0x37ca("0x733")](-c),this[_0x37ca("0x713")]&&this[_0x37ca("0xc")][_0x37ca("0x733")](c),this[_0x37ca("0xc")].position.y=_,this[_0x37ca("0x72c")]&&this[_0x37ca("0xc")][_0x37ca("0x734")](c),this[_0x37ca("0x72d")]&&this.object[_0x37ca("0x734")](-c));var e=x*this[_0x37ca("0x735")];this[_0x37ca("0x722")]||(e=0);var t=1;this[_0x37ca("0x708")]&&(t=Math.PI/(this[_0x37ca("0x70a")]-this[_0x37ca("0x709")])),this[_0x37ca("0x719")]&&!this[_0x37ca("0x736")]&&(this[_0x37ca("0x70c")]=0,this[_0x37ca("0x70d")]=0),(this[_0x37ca("0x718")]||this[_0x37ca("0x72e")])&&(this[_0x37ca("0x70c")]=0,this[_0x37ca("0x70d")]=0),this[_0x37ca("0x70f")]+=this[_0x37ca("0x70c")]*e,this[_0x37ca("0x703")]&&(this[_0x37ca("0x70e")]-=this[_0x37ca("0x70d")]*e*t),this[_0x37ca("0x70e")]=Math.max(-85,Math[_0x37ca("0x30e")](85,this[_0x37ca("0x70e")])),this[_0x37ca("0x710")]=THREE[_0x37ca("0x249")].degToRad(90-this[_0x37ca("0x70e")]),this[_0x37ca("0x737")]=THREE.Math[_0x37ca("0x26d")](this[_0x37ca("0x70f")])+this[_0x37ca("0x71c")],this.constrainVertical&&(this.phi=THREE[_0x37ca("0x249")][_0x37ca("0x738")](this[_0x37ca("0x710")],0,Math.PI,this[_0x37ca("0x709")],this[_0x37ca("0x70a")]));var i=this[_0x37ca("0x276")],n=this.object[_0x37ca("0xb8")];i.x=n.x+100*Math[_0x37ca("0x613")](this[_0x37ca("0x710")])*Math.cos(this[_0x37ca("0x737")]),this[_0x37ca("0x719")]&&this[_0x37ca("0x71a")]?i.y=n.y:i.y=n.y+100*Math[_0x37ca("0x648")](this[_0x37ca("0x710")]),i.z=n.z+100*Math[_0x37ca("0x613")](this[_0x37ca("0x710")])*Math[_0x37ca("0x613")](this[_0x37ca("0x737")]),this[_0x37ca("0x719")]&&this[_0x37ca("0x71b")]?this[_0x37ca("0xc")].lookAt(this[_0x37ca("0x71b")]):this[_0x37ca("0xc")][_0x37ca("0x25b")](i),this[_0x37ca("0x716")]=!1,this[_0x37ca("0x718")]=!1}},this[_0x37ca("0xa8")]=function(){this.domElement.removeEventListener(_0x37ca("0x739"),c,!1),this[_0x37ca("0x31a")][_0x37ca("0x2b3")](_0x37ca("0x73a"),e,!1),this[_0x37ca("0x31a")][_0x37ca("0x2b3")]("mousemove",_,!1),this[_0x37ca("0x31a")][_0x37ca("0x2b3")](_0x37ca("0x73b"),t,!1),window[_0x37ca("0x2b3")](_0x37ca("0x27a"),i,!1),window[_0x37ca("0x2b3")](_0x37ca("0x73c"),n,!1)};var _=r(this,this[_0x37ca("0x726")]),e=r(this,this[_0x37ca("0x73d")]),t=r(this,this[_0x37ca("0x725")]),i=r(this,this[_0x37ca("0x72b")]),n=r(this,this[_0x37ca("0x72f")]);function r(x,a){return function(){a[_0x37ca("0x3")](x,arguments)}}this[_0x37ca("0x31a")][_0x37ca("0x33")](_0x37ca("0x739"),c,!1),this[_0x37ca("0x31a")].addEventListener(_0x37ca("0x73e"),_,!1),this[_0x37ca("0x31a")].addEventListener(_0x37ca("0x73a"),e,!1),this.domElement[_0x37ca("0x33")]("mouseup",t,!1),window[_0x37ca("0x33")](_0x37ca("0x27a"),i,!1),window[_0x37ca("0x33")](_0x37ca("0x73c"),n,!1),this[_0x37ca("0x73f")]()}},function(x,a,c){"use strict";var _=s(c(16)),e=s(c(10)),t=s(c(18)),i=s(c(8)),n=c(255),r=c(57);function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=null,l=null,u=null;THREE.ESGLTFLoader=function(){function x(x){this[_0x37ca("0x57a")]=void 0!==x?x:THREE[_0x37ca("0x740")],this.dracoLoader=null,u=new a}function a(){var x={};return{get:function(a){return x[a]},add:function(a,c){x[a]=c},remove:function(a){delete x[a]},removeAll:function(){x={}}}}x[_0x37ca("0x11")]={constructor:x,crossOrigin:_0x37ca("0x741"),clearREG:function(){u.removeAll()},load:function(x,a,c,_,e){var t,i=this;e||(e=""),t=void 0!==this[_0x37ca("0x742")]?this[_0x37ca("0x742")]:void 0!==this[_0x37ca("0x2ee")]?this[_0x37ca("0x2ee")]:THREE[_0x37ca("0x743")][_0x37ca("0x744")](x),i[_0x37ca("0x57a")][_0x37ca("0x745")](x);var n=function(a){_?_(a):console[_0x37ca("0x3eb")](a),i[_0x37ca("0x57a")][_0x37ca("0x746")](x),i[_0x37ca("0x57a")][_0x37ca("0x747")](x)},r=new(THREE[_0x37ca("0x748")])(i[_0x37ca("0x57a")]);r[_0x37ca("0x49")](this[_0x37ca("0x2ee")]),r[_0x37ca("0x749")](_0x37ca("0x74a")),r[_0x37ca("0x140")](x,(function(c){try{i[_0x37ca("0x68")](c,t,(function(c){a(c),i.manager[_0x37ca("0x747")](x)}),n,x,e)||_&&_()}catch(x){n(x)}}),c,n)},setCrossOrigin:function(x){return this[_0x37ca("0x74b")]=x,this},setPath:function(x){return this.path=x,this},setResourcePath:function(x){return this[_0x37ca("0x742")]=x,this},setDRACOLoader:function(x){return this[_0x37ca("0x74c")]=x,this},parse:function(x,a,_,e,t,i){var g,m,C={};if(typeof x===_0x37ca("0xf"))g=x;else if(THREE[_0x37ca("0x743")].decodeText(new Uint8Array(x,0,4))===h){try{C[c[_0x37ca("0x74d")]]=new b(x)}catch(x){return void(e&&e(x))}g=C[c.KHR_BINARY_GLTF][_0x37ca("0x74e")]}else g=THREE[_0x37ca("0x743")][_0x37ca("0x74f")](new Uint8Array(x));m=JSON.parse(g.trim());esmap[_0x37ca("0x34")].instance;if(m[_0x37ca("0x95")]||t[_0x37ca("0xda")](_0x37ca("0x750"))>-1){var I=m[_0x37ca("0x95")][_0x37ca("0x2b")](".");if(I[0]>1)return;m.asset=JSON[_0x37ca("0x68")]((0,n.decode)(r[_0x37ca("0x47")][_0x37ca("0x7c")](m[_0x37ca("0x34f")]),_0x37ca("0x751"),I[1]))}if(m[_0x37ca("0x752")][_0x37ca("0x95")]<2.1)console[_0x37ca("0x3eb")](_0x37ca("0x753"));else if(m[_0x37ca("0x752")]&&m[_0x37ca("0x752")].hash&&m[_0x37ca("0x752")].data){var y=m[_0x37ca("0x752")][_0x37ca("0x755")];2.2==m[_0x37ca("0x752")].version&&(m.asset[_0x37ca("0x34f")]=r[_0x37ca("0x47")][_0x37ca("0x7c")](m[_0x37ca("0x752")].data));var E=(0,n[_0x37ca("0x7c")])(m[_0x37ca("0x752")][_0x37ca("0x34f")],"ESMAPOK","GLTF");if(E[_0x37ca("0x102")]('\\"','"'),E=E[_0x37ca("0x2b")](",")[_0x37ca("0x39")]((function(x){return 1*x})),m[_0x37ca("0x756")][0][_0x37ca("0x3cb")]=E,o=m[_0x37ca("0x756")][0][_0x37ca("0x3cb")][0],l=m[_0x37ca("0x756")][0][_0x37ca("0x3cb")][1],o&&l){m[_0x37ca("0x3cb")]||(m[_0x37ca("0x3cb")]=[]),m[_0x37ca("0xb4")]||(m[_0x37ca("0xb4")]=[]),m[_0x37ca("0x757")]||(m[_0x37ca("0x757")]=[]),m[_0x37ca("0x758")]||(m[_0x37ca("0x758")]=[]),m[_0x37ca("0x3dc")]||(m[_0x37ca("0x3dc")]=[]),m[_0x37ca("0xb3")]||(m.materials=[]),m.textures||(m[_0x37ca("0x759")]=[]),m[_0x37ca("0x75a")]||(m[_0x37ca("0x75a")]=[]),m[_0x37ca("0x75b")]||(m[_0x37ca("0x75b")]=[]);var w=(m[_0x37ca("0x3cb")][_0x37ca("0x4")]+1)*(m[_0x37ca("0xb4")].length+1)*(m[_0x37ca("0x757")][_0x37ca("0x4")]+1)*(m.bufferViews.length+1)*(m[_0x37ca("0x3dc")].length+1)*(m[_0x37ca("0xb3")][_0x37ca("0x4")]+1)*(m[_0x37ca("0x759")][_0x37ca("0x4")]+1)*(m[_0x37ca("0x75a")].length+1)*(m[_0x37ca("0x75b")][_0x37ca("0x4")]+1);if((w%=1e7)==o){var T=esmap.ESMapUtil.encode64(l+esmap.ESMapUtil[_0x37ca("0x8b")](o+_0x37ca("0x75c")));if(m[_0x37ca("0x752")][_0x37ca("0x1")]("b")){var k=m[_0x37ca("0x752")].b;if(esmap[_0x37ca("0x7b")].encode64(_0x37ca("0x75d")+i)!=k)throw _0x37ca("0x75e");T=esmap[_0x37ca("0x7b")].encode64(T+k)}var S=T==y;if(T==y){if(m.asset[_0x37ca("0x75f")]=t,m[_0x37ca("0x760")])for(var M=0;M<m[_0x37ca("0x760")][_0x37ca("0x4")]&&S;++M){var R=m[_0x37ca("0x760")][M],L=m[_0x37ca("0x761")]||[];switch(R){case c.KHR_LIGHTS_PUNCTUAL:C[R]=new d(m);break;case c[_0x37ca("0x762")]:C[R]=new f(m);break;case c.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:C[R]=new A(m);break;case c[_0x37ca("0x763")]:C[R]=new v(m,this[_0x37ca("0x74c")]);break;case c[_0x37ca("0x764")]:C[c.MSFT_TEXTURE_DDS]=new s(m);break;case c[_0x37ca("0x765")]:C[c.KHR_TEXTURE_TRANSFORM]=new p(m);break;default:L[_0x37ca("0xda")](R)>=0&&console[_0x37ca("0x3eb")](_0x37ca("0x766")+R+'".')}}if(S&&m[_0x37ca("0x756")][0][_0x37ca("0x3cb")].splice(0,2),2.2==m[_0x37ca("0x752")][_0x37ca("0x95")]){var P=l%100,D=l%50;u[_0x37ca("0xe0")](m[_0x37ca("0x752")][_0x37ca("0x75f")],[P,D])}var O=new z(m,C,{path:a||this[_0x37ca("0x742")]||"",crossOrigin:this[_0x37ca("0x74b")],manager:this[_0x37ca("0x57a")]});return O[_0x37ca("0x68")]((function(x,a,c,e,t){var i={scene:x,scenes:a,cameras:c,animations:e,asset:t[_0x37ca("0x752")],parser:O,userData:{}};H(C,i,t),_(i)}),e),!0}}}}else console[_0x37ca("0x3eb")](esmap[_0x37ca("0x29e")][_0x37ca("0x754")]+t)}};var c={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:_0x37ca("0x767"),KHR_LIGHTS_PUNCTUAL:_0x37ca("0x768"),KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:_0x37ca("0x769"),KHR_MATERIALS_UNLIT:_0x37ca("0x76a"),KHR_TEXTURE_TRANSFORM:_0x37ca("0x76b"),MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function s(){if(!THREE[_0x37ca("0x76c")])throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this[_0x37ca("0x1aa")]=c[_0x37ca("0x764")],this[_0x37ca("0x76d")]=new(THREE[_0x37ca("0x76c")])}function d(x){this[_0x37ca("0x1aa")]=c[_0x37ca("0x76e")];var a=x[_0x37ca("0x76f")]&&x[_0x37ca("0x76f")][c[_0x37ca("0x76e")]]||{};this[_0x37ca("0x770")]=a[_0x37ca("0x771")]||[]}function f(x){this[_0x37ca("0x1aa")]=c[_0x37ca("0x762")]}d.prototype.loadLight=function(x){var a,c=this[_0x37ca("0x770")][x],_=new(THREE[_0x37ca("0x13d")])(16777215);void 0!==c[_0x37ca("0x13c")]&&_[_0x37ca("0x3cf")](c[_0x37ca("0x13c")]);var e=void 0!==c[_0x37ca("0x555")]?c[_0x37ca("0x555")]:0;switch(c[_0x37ca("0x22a")]){case _0x37ca("0x772"):(a=new(THREE[_0x37ca("0x773")])(_)).target[_0x37ca("0xb8")][_0x37ca("0x11d")](0,0,-1),a.add(a[_0x37ca("0x276")]);break;case"point":(a=new THREE.PointLight(_))[_0x37ca("0x258")]=e;break;case _0x37ca("0x774"):(a=new(THREE[_0x37ca("0x775")])(_))[_0x37ca("0x258")]=e,c[_0x37ca("0x774")]=c[_0x37ca("0x774")]||{},c[_0x37ca("0x774")][_0x37ca("0x776")]=void 0!==c[_0x37ca("0x774")][_0x37ca("0x776")]?c[_0x37ca("0x774")][_0x37ca("0x776")]:0,c.spot[_0x37ca("0x777")]=void 0!==c.spot[_0x37ca("0x777")]?c[_0x37ca("0x774")][_0x37ca("0x777")]:Math.PI/4,a[_0x37ca("0x252")]=c[_0x37ca("0x774")].outerConeAngle,a[_0x37ca("0x778")]=1-c[_0x37ca("0x774")][_0x37ca("0x776")]/c.spot[_0x37ca("0x777")],a[_0x37ca("0x276")].position[_0x37ca("0x11d")](0,0,-1),a[_0x37ca("0xe0")](a.target);break;default:throw new Error(_0x37ca("0x779")+c[_0x37ca("0x22a")]+'".')}return a[_0x37ca("0x77a")]=2,void 0!==c.intensity&&(a[_0x37ca("0x3ea")]=c[_0x37ca("0x3ea")]),a[_0x37ca("0x1aa")]=c[_0x37ca("0x1aa")]||_0x37ca("0x77b")+x,i.default[_0x37ca("0x77c")](a)},f[_0x37ca("0x11")].getMaterialType=function(x){return THREE[_0x37ca("0xfc")]},f.prototype.extendParams=function(x,a,c){var _=[];x.color=new(THREE[_0x37ca("0x13d")])(1,1,1),x[_0x37ca("0xfd")]=1;var e=a.pbrMetallicRoughness;if(e){if(Array[_0x37ca("0x474")](e.baseColorFactor)){var t=e[_0x37ca("0x77d")];x[_0x37ca("0x13c")][_0x37ca("0x3cf")](t),x[_0x37ca("0xfd")]=t[3]}void 0!==e.baseColorTexture&&_[_0x37ca("0x0")](c[_0x37ca("0x77e")](x,_0x37ca("0x39"),e[_0x37ca("0x77f")]))}return i[_0x37ca("0xe")][_0x37ca("0x62c")](_)};_0x37ca("0x780");var h=_0x37ca("0x781"),g={JSON:1313821514,BIN:5130562};function b(x){this.name=c[_0x37ca("0x74d")],this.content=null,this[_0x37ca("0x26")]=null;var a=new DataView(x,0,12);if(this[_0x37ca("0x782")]={magic:THREE.LoaderUtils.decodeText(new Uint8Array(x[_0x37ca("0x14")](0,4))),version:a[_0x37ca("0x783")](4,!0),length:a[_0x37ca("0x783")](8,!0)},this[_0x37ca("0x782")][_0x37ca("0x784")]!==h)throw new Error(_0x37ca("0x785"));if(this.header.version<2)throw new Error(_0x37ca("0x786"));for(var _=new DataView(x,12),e=0;e<_[_0x37ca("0x787")];){var t=_[_0x37ca("0x783")](e,!0);e+=4;var i=_.getUint32(e,!0);if(e+=4,i===g[_0x37ca("0x788")]){var n=new Uint8Array(x,12+e,t);this[_0x37ca("0x74e")]=THREE[_0x37ca("0x743")].decodeText(n)}else if(i===g[_0x37ca("0x789")]){var r=12+e;this[_0x37ca("0x26")]=x[_0x37ca("0x14")](r,r+t)}e+=t}if(null===this[_0x37ca("0x74e")])throw new Error(_0x37ca("0x78a"))}function v(x,a){if(!a)throw new Error(_0x37ca("0x78b"));this.name=c.KHR_DRACO_MESH_COMPRESSION,this[_0x37ca("0xb2")]=x,this[_0x37ca("0x74c")]=a,THREE[_0x37ca("0x78c")][_0x37ca("0x78d")]()}function p(x){this[_0x37ca("0x1aa")]=c[_0x37ca("0x765")]}function A(){return{name:c[_0x37ca("0x796")],specularGlossinessParams:[_0x37ca("0x13c"),_0x37ca("0x39"),_0x37ca("0x797"),"lightMapIntensity",_0x37ca("0x798"),_0x37ca("0x799"),_0x37ca("0x2c1"),_0x37ca("0x2c4"),_0x37ca("0x79a"),"bumpMap",_0x37ca("0x79b"),"normalMap",_0x37ca("0x79c"),_0x37ca("0x79d"),_0x37ca("0x79e"),_0x37ca("0x79f"),_0x37ca("0x7a0"),_0x37ca("0x7a1"),_0x37ca("0x7a2"),_0x37ca("0x7a3"),_0x37ca("0x7a4"),_0x37ca("0x7a5"),"refractionRatio"],getMaterialType:function(){return THREE[_0x37ca("0x6bb")]},extendParams:function(x,a,c){var _=a[_0x37ca("0x76f")][this[_0x37ca("0x1aa")]],e=THREE[_0x37ca("0x7a6")][_0x37ca("0x7a7")],t=THREE[_0x37ca("0x6ba")][_0x37ca("0xde")](e[_0x37ca("0xff")]),n=[_0x37ca("0x7a8"),_0x37ca("0x7a9"),_0x37ca("0x7aa")][_0x37ca("0x31")]("\n"),r=[_0x37ca("0x7ab"),_0x37ca("0x7ac"),_0x37ca("0x7aa")][_0x37ca("0x31")]("\n"),s=[_0x37ca("0x7ad"),_0x37ca("0x7a8"),_0x37ca("0x7ae"),_0x37ca("0x7af"),_0x37ca("0x7b0"),_0x37ca("0x7b1"),"#endif"][_0x37ca("0x31")]("\n"),o=[_0x37ca("0x7b2"),_0x37ca("0x7ab"),_0x37ca("0x7b3"),"\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;",_0x37ca("0x7aa")].join("\n"),l=[_0x37ca("0x7b4"),"material.diffuseColor = diffuseColor.rgb;",_0x37ca("0x7b5"),_0x37ca("0x7b6")][_0x37ca("0x31")]("\n"),u=e[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x7b7"),_0x37ca("0x7b8"))[_0x37ca("0x102")](_0x37ca("0x7b9"),_0x37ca("0x7ba"))[_0x37ca("0x102")](_0x37ca("0x7bb"),n)[_0x37ca("0x102")](_0x37ca("0x7bc"),r).replace(_0x37ca("0x7bd"),s)[_0x37ca("0x102")](_0x37ca("0x7be"),o).replace(_0x37ca("0x7bf"),l);delete t.roughness,delete t[_0x37ca("0xfb")],delete t[_0x37ca("0x7c0")],delete t.metalnessMap,t[_0x37ca("0x7a0")]={value:(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x7c1")](1118481)},t[_0x37ca("0x7a2")]={value:.5},t.specularMap={value:null},t.glossinessMap={value:null},x[_0x37ca("0x101")]=e[_0x37ca("0x101")],x[_0x37ca("0x105")]=u,x.uniforms=t,x[_0x37ca("0x7c2")]={STANDARD:""},x[_0x37ca("0x13c")]=new(THREE[_0x37ca("0x13d")])(1,1,1),x[_0x37ca("0xfd")]=1;var d=[];if(Array[_0x37ca("0x474")](_.diffuseFactor)){var f=_[_0x37ca("0x7c3")];x[_0x37ca("0x13c")].fromArray(f),x.opacity=f[3]}if(void 0!==_[_0x37ca("0x7c4")]&&d[_0x37ca("0x0")](c[_0x37ca("0x77e")](x,_0x37ca("0x39"),_[_0x37ca("0x7c4")])),x[_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(0,0,0),x[_0x37ca("0x7a2")]=void 0!==_[_0x37ca("0x7c5")]?_.glossinessFactor:1,x[_0x37ca("0x7a0")]=new(THREE[_0x37ca("0x13d")])(1,1,1),Array[_0x37ca("0x474")](_[_0x37ca("0x7c6")])&&x[_0x37ca("0x7a0")][_0x37ca("0x3cf")](_[_0x37ca("0x7c6")]),void 0!==_[_0x37ca("0x7c7")]){var h=_[_0x37ca("0x7c7")];d[_0x37ca("0x0")](c[_0x37ca("0x77e")](x,_0x37ca("0x7a1"),h)),d[_0x37ca("0x0")](c[_0x37ca("0x77e")](x,_0x37ca("0x79f"),h))}return i[_0x37ca("0xe")].all(d)},createMaterial:function(x){var a=new(THREE[_0x37ca("0x6bb")])({defines:x[_0x37ca("0x7c2")],vertexShader:x[_0x37ca("0x101")],fragmentShader:x[_0x37ca("0x105")],uniforms:x.uniforms,fog:!0,lights:!0,opacity:x[_0x37ca("0xfd")],transparent:x[_0x37ca("0xfa")]});return a.isGLTFSpecularGlossinessMaterial=!0,a[_0x37ca("0x13c")]=x[_0x37ca("0x13c")],a[_0x37ca("0x39")]=void 0===x[_0x37ca("0x39")]?null:x[_0x37ca("0x39")],a[_0x37ca("0x797")]=null,a[_0x37ca("0x7c8")]=1,a.aoMap=void 0===x[_0x37ca("0x798")]?null:x[_0x37ca("0x798")],a[_0x37ca("0x799")]=1,a[_0x37ca("0x2c1")]=x.emissive,a[_0x37ca("0x2c4")]=1,a.emissiveMap=void 0===x.emissiveMap?null:x.emissiveMap,a[_0x37ca("0x7c9")]=void 0===x[_0x37ca("0x7c9")]?null:x[_0x37ca("0x7c9")],a[_0x37ca("0x79b")]=1,a[_0x37ca("0x7ca")]=void 0===x[_0x37ca("0x7ca")]?null:x[_0x37ca("0x7ca")],x[_0x37ca("0x7cb")]&&(a.normalScale=x[_0x37ca("0x7cb")]),a[_0x37ca("0x79c")]=null,a.displacementScale=1,a[_0x37ca("0x79e")]=0,a[_0x37ca("0x79f")]=void 0===x[_0x37ca("0x79f")]?null:x[_0x37ca("0x79f")],a.specular=x[_0x37ca("0x7a0")],a.glossinessMap=void 0===x[_0x37ca("0x7a1")]?null:x.glossinessMap,a.glossiness=x[_0x37ca("0x7a2")],a.alphaMap=null,a[_0x37ca("0x7a4")]=void 0===x[_0x37ca("0x7a4")]?null:x[_0x37ca("0x7a4")],a[_0x37ca("0x7a5")]=1,a[_0x37ca("0x7cc")]=.98,a[_0x37ca("0x76f")][_0x37ca("0x7cd")]=!0,a},cloneMaterial:function(x){var a=x[_0x37ca("0xde")]();a[_0x37ca("0x7ce")]=!0;for(var c=this[_0x37ca("0x7cf")],_=0,e=c.length;_<e;_++)a[c[_]]=x[c[_]];return a},refreshUniforms:function(x,a,c,_,e,t){if(!0===e[_0x37ca("0x7ce")]){var i,n=e[_0x37ca("0xff")],r=e[_0x37ca("0x7c2")];n.opacity[_0x37ca("0xf2")]=e[_0x37ca("0xfd")],n[_0x37ca("0x7d0")][_0x37ca("0xf2")].copy(e[_0x37ca("0x13c")]),n[_0x37ca("0x2c1")][_0x37ca("0xf2")][_0x37ca("0x268")](e[_0x37ca("0x2c1")])[_0x37ca("0x26b")](e[_0x37ca("0x2c4")]),n[_0x37ca("0x39")].value=e.map,n.specularMap[_0x37ca("0xf2")]=e[_0x37ca("0x79f")],n.alphaMap[_0x37ca("0xf2")]=e[_0x37ca("0x7a3")],n[_0x37ca("0x797")].value=e[_0x37ca("0x797")],n[_0x37ca("0x7c8")].value=e[_0x37ca("0x7c8")],n[_0x37ca("0x798")].value=e[_0x37ca("0x798")],n[_0x37ca("0x799")][_0x37ca("0xf2")]=e[_0x37ca("0x799")],e.map?i=e[_0x37ca("0x39")]:e[_0x37ca("0x79f")]?i=e[_0x37ca("0x79f")]:e.displacementMap?i=e.displacementMap:e[_0x37ca("0x7ca")]?i=e[_0x37ca("0x7ca")]:e[_0x37ca("0x7c9")]?i=e[_0x37ca("0x7c9")]:e[_0x37ca("0x7a1")]?i=e[_0x37ca("0x7a1")]:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e[_0x37ca("0x79a")]),void 0!==i&&(i[_0x37ca("0x7d1")]&&(i=i[_0x37ca("0x56b")]),!0===i[_0x37ca("0x7d2")]&&i[_0x37ca("0x335")](),n[_0x37ca("0x7d3")][_0x37ca("0xf2")][_0x37ca("0x268")](i[_0x37ca("0x245")])),e[_0x37ca("0x7a4")]&&(n[_0x37ca("0x7a4")][_0x37ca("0xf2")]=e[_0x37ca("0x7a4")],n[_0x37ca("0x7a5")][_0x37ca("0xf2")]=e[_0x37ca("0x7a5")],n[_0x37ca("0x7d4")][_0x37ca("0xf2")]=e[_0x37ca("0x7a4")][_0x37ca("0x7d5")]?-1:1,n[_0x37ca("0x7d6")][_0x37ca("0xf2")]=e[_0x37ca("0x7d6")],n[_0x37ca("0x7cc")].value=e[_0x37ca("0x7cc")],n[_0x37ca("0x7d7")][_0x37ca("0xf2")]=x[_0x37ca("0x7d8")][_0x37ca("0x34a")](e[_0x37ca("0x7a4")]).__maxMipLevel),n.specular[_0x37ca("0xf2")][_0x37ca("0x268")](e[_0x37ca("0x7a0")]),n.glossiness.value=e[_0x37ca("0x7a2")],n.glossinessMap[_0x37ca("0xf2")]=e[_0x37ca("0x7a1")],n[_0x37ca("0x79a")][_0x37ca("0xf2")]=e[_0x37ca("0x79a")],n[_0x37ca("0x7c9")][_0x37ca("0xf2")]=e.bumpMap,n[_0x37ca("0x7ca")][_0x37ca("0xf2")]=e[_0x37ca("0x7ca")],n[_0x37ca("0x79c")][_0x37ca("0xf2")]=e[_0x37ca("0x79c")],n[_0x37ca("0x79d")][_0x37ca("0xf2")]=e[_0x37ca("0x79d")],n[_0x37ca("0x79e")].value=e.displacementBias,null!==n[_0x37ca("0x7a1")][_0x37ca("0xf2")]&&void 0===r[_0x37ca("0x7d9")]&&(r[_0x37ca("0x7d9")]="",r[_0x37ca("0x7da")]=""),null===n.glossinessMap[_0x37ca("0xf2")]&&void 0!==r[_0x37ca("0x7d9")]&&(delete r[_0x37ca("0x7d9")],delete r[_0x37ca("0x7da")])}}}}function m(x,a,c,_){THREE[_0x37ca("0x7db")][_0x37ca("0x6")](this,x,a,c,_)}v.prototype.decodePrimitive=function(x,a){var c=this[_0x37ca("0xb2")],_=this[_0x37ca("0x74c")],e=x[_0x37ca("0x76f")][this[_0x37ca("0x1aa")]].bufferView,t=x.extensions[this[_0x37ca("0x1aa")]].attributes,n={},r={},s={};for(var o in t)o in T&&(n[T[o]]=t[o]);for(o in x.attributes)if(void 0!==T[o]&&void 0!==t[o]){var l=c[_0x37ca("0x757")][x[_0x37ca("0xb7")][o]],u=I[l[_0x37ca("0x78e")]];s[T[o]]=u,r[T[o]]=!0===l[_0x37ca("0x78f")]}return a[_0x37ca("0x790")](_0x37ca("0x791"),e)[_0x37ca("0x792")]((function(x){return new(i[_0x37ca("0xe")])((function(a){_[_0x37ca("0x793")](x,(function(x){for(var c in x.attributes){var _=x[_0x37ca("0xb7")][c],e=r[c];void 0!==e&&(_.normalized=e)}a(x)}),n,s)}))}))},p[_0x37ca("0x11")].extendTexture=function(x,a){return x=x[_0x37ca("0xde")](),void 0!==a[_0x37ca("0x137")]&&x.offset[_0x37ca("0x3cf")](a[_0x37ca("0x137")]),void 0!==a[_0x37ca("0x1a3")]&&(x.rotation=a[_0x37ca("0x1a3")]),void 0!==a[_0x37ca("0x22e")]&&x[_0x37ca("0x110")].fromArray(a[_0x37ca("0x22e")]),void 0!==a.texCoord&&console[_0x37ca("0x3eb")](_0x37ca("0x794")+this[_0x37ca("0x1aa")]+_0x37ca("0x795")),x[_0x37ca("0x13a")]=!0,x},m[_0x37ca("0x11")]=(0,t[_0x37ca("0xe")])(THREE.Interpolant[_0x37ca("0x11")]),m.prototype[_0x37ca("0x48b")]=m,m[_0x37ca("0x11")][_0x37ca("0x7dc")]=function(x){for(var a=this[_0x37ca("0x7dd")],c=this[_0x37ca("0x7de")],_=this[_0x37ca("0x7df")],e=x*_*3+_,t=0;t!==_;t++)a[t]=c[e+t];return a},m[_0x37ca("0x11")][_0x37ca("0x7e0")]=m[_0x37ca("0x11")][_0x37ca("0x7dc")],m[_0x37ca("0x11")][_0x37ca("0x7e1")]=m[_0x37ca("0x11")][_0x37ca("0x7dc")],m[_0x37ca("0x11")][_0x37ca("0x7e2")]=function(x,a,c,_){for(var e=this.resultBuffer,t=this.sampleValues,i=this.valueSize,n=2*i,r=3*i,s=_-a,o=(c-a)/s,l=o*o,u=l*o,d=x*r,f=d-r,h=-2*u+3*l,g=u-l,b=1-h,v=g-l+o,p=0;p!==i;p++){var A=t[f+p+i],m=t[f+p+n]*s,C=t[d+p+i],I=t[d+p]*s;e[p]=b*A+v*m+h*C+g*I}return e};var C={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},I=(THREE[_0x37ca("0x7e3")],THREE[_0x37ca("0x25a")],THREE[_0x37ca("0x563")],THREE[_0x37ca("0xe2")],THREE.Vector4,THREE[_0x37ca("0x416")],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),y={9728:THREE[_0x37ca("0x7e4")],9729:THREE[_0x37ca("0x420")],9984:THREE[_0x37ca("0x7e5")],9985:THREE[_0x37ca("0x7e6")],9986:THREE[_0x37ca("0x7e7")],9987:THREE[_0x37ca("0x7e8")]},E={33071:THREE[_0x37ca("0x7e9")],33648:THREE[_0x37ca("0x7ea")],10497:THREE[_0x37ca("0x142")]},w=(THREE[_0x37ca("0x7eb")],THREE.FrontSide,THREE[_0x37ca("0x7ec")],THREE[_0x37ca("0x7ed")],THREE[_0x37ca("0x7ee")],THREE[_0x37ca("0x7ef")],THREE[_0x37ca("0x7f0")],THREE[_0x37ca("0x7f1")],THREE.GreaterEqualDepth,THREE[_0x37ca("0x7f2")],THREE[_0x37ca("0x7f3")],THREE[_0x37ca("0x7f4")],THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE[_0x37ca("0x7f5")],THREE[_0x37ca("0x7f6")],THREE[_0x37ca("0x7f7")],THREE.SrcAlphaFactor,THREE[_0x37ca("0x7f8")],THREE[_0x37ca("0x7f9")],THREE[_0x37ca("0x7fa")],THREE[_0x37ca("0x7fb")],THREE.OneMinusDstColorFactor,THREE[_0x37ca("0x7fc")],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),T={POSITION:_0x37ca("0xb8"),NORMAL:_0x37ca("0xf8"),TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:_0x37ca("0x7fd"),JOINTS_0:_0x37ca("0x7fe")},k={scale:_0x37ca("0x22e"),translation:_0x37ca("0xb8"),rotation:_0x37ca("0x232"),weights:_0x37ca("0x7ff")},S={CUBICSPLINE:THREE[_0x37ca("0x800")],LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},M=(_0x37ca("0x801"),_0x37ca("0x802"),_0x37ca("0x803"),{OPAQUE:_0x37ca("0x3e1"),MASK:_0x37ca("0x804"),BLEND:_0x37ca("0x805")}),R={"image/png":THREE[_0x37ca("0x67e")],"image/jpeg":THREE[_0x37ca("0x806")]};function L(x,a){return"string"!=typeof x||""===x?"":/^(https?:)?\/\//i[_0x37ca("0x3a4")](x)||/^data:.*,.*$/i.test(x)||/^blob:.*$/i.test(x)?x:a+x}function H(x,a,c){for(var _ in c[_0x37ca("0x76f")])void 0===x[_]&&(a[_0x37ca("0x11a")][_0x37ca("0x808")]=a[_0x37ca("0x11a")][_0x37ca("0x808")]||{},a[_0x37ca("0x11a")][_0x37ca("0x808")][_]=c[_0x37ca("0x76f")][_])}function P(x,a){void 0!==a[_0x37ca("0x809")]&&((0,e[_0x37ca("0xe")])(a[_0x37ca("0x809")])===_0x37ca("0xc")?x[_0x37ca("0x11a")]=a[_0x37ca("0x809")]:console[_0x37ca("0x3eb")](_0x37ca("0x80a")+a[_0x37ca("0x809")]))}function D(x,a){if(x.updateMorphTargets(),void 0!==a.weights)for(var c=0,_=a[_0x37ca("0x813")][_0x37ca("0x4")];c<_;c++)x.morphTargetInfluences[c]=a[_0x37ca("0x813")][c];if(a[_0x37ca("0x809")]&&Array[_0x37ca("0x474")](a[_0x37ca("0x809")].targetNames)){var e=a[_0x37ca("0x809")][_0x37ca("0x814")];if(x.morphTargetInfluences.length===e[_0x37ca("0x4")]){x[_0x37ca("0x815")]={};for(c=0,_=e[_0x37ca("0x4")];c<_;c++)x[_0x37ca("0x815")][e[c]]=c}}}function O(x,a){if((0,_[_0x37ca("0xe")])(x)[_0x37ca("0x4")]!==(0,_[_0x37ca("0xe")])(a)[_0x37ca("0x4")])return!1;for(var c in x)if(x[c]!==a[c])return!1;return!0}function B(x,a){if(x[_0x37ca("0x4")]!==a[_0x37ca("0x4")])return!1;for(var c=0,_=x[_0x37ca("0x4")];c<_;c++)if(x[c]!==a[c])return!1;return!0}function N(x,a){for(var _=0,e=x[_0x37ca("0x4")];_<e;_++){var t=x[_];if(i=t.primitive,n=a,r=void 0,s=void 0,r=i[_0x37ca("0x76f")]?i[_0x37ca("0x76f")][c[_0x37ca("0x763")]]:void 0,s=n[_0x37ca("0x76f")]?n[_0x37ca("0x76f")][c[_0x37ca("0x763")]]:void 0,r&&s?r[_0x37ca("0x791")]===s[_0x37ca("0x791")]&&O(r[_0x37ca("0xb7")],s[_0x37ca("0xb7")]):i.indices===n[_0x37ca("0x816")]&&O(i[_0x37ca("0xb7")],n[_0x37ca("0xb7")]))return t[_0x37ca("0x817")]}var i,n,r,s;return null}function F(x){if(x[_0x37ca("0x81b")]){for(var a=x[_0x37ca("0xb9")],c=x.itemSize,_=x[_0x37ca("0x19f")][_0x37ca("0x14")](0,a*c),e=0,t=0;e<a;++e)_[t++]=x[_0x37ca("0x3f0")](e),c>=2&&(_[t++]=x[_0x37ca("0x810")](e)),c>=3&&(_[t++]=x[_0x37ca("0x811")](e)),c>=4&&(_[t++]=x[_0x37ca("0x81c")](e));return new(THREE[_0x37ca("0x1a1")])(_,c,x[_0x37ca("0x78f")])}return x[_0x37ca("0xde")]()}function z(x,c,_){this.json=x||{},this[_0x37ca("0x76f")]=c||{},this[_0x37ca("0x36")]=_||{},this[_0x37ca("0x81e")]=new a,this[_0x37ca("0x81f")]=[],this[_0x37ca("0x820")]=[],this[_0x37ca("0x821")]=[],this[_0x37ca("0x822")]=new THREE.TextureLoader(this[_0x37ca("0x36")].manager),this.textureLoader[_0x37ca("0x823")](this[_0x37ca("0x36")][_0x37ca("0x74b")]),this[_0x37ca("0x824")]=new(THREE[_0x37ca("0x748")])(this[_0x37ca("0x36")][_0x37ca("0x57a")]),this.fileLoader[_0x37ca("0x749")](_0x37ca("0x74a"))}function j(x,a,c){var _=a[_0x37ca("0xb7")],e=[];function t(a,_){return c[_0x37ca("0x790")](_0x37ca("0x80d"),a)[_0x37ca("0x792")]((function(a){x.addAttribute(_,a)}))}for(var n in _){var r=T[n];r&&(r in x.attributes||e[_0x37ca("0x0")](t(_[n],r)))}if(void 0!==a.indices&&!x[_0x37ca("0x2e5")]){var s=c[_0x37ca("0x790")](_0x37ca("0x80d"),a.indices)[_0x37ca("0x792")]((function(a){x[_0x37ca("0x3f2")](a)}));e[_0x37ca("0x0")](s)}return P(x,a),i[_0x37ca("0xe")][_0x37ca("0x62c")](e).then((function(){return void 0!==a[_0x37ca("0x81d")]?function(x,a,c){for(var _=!1,e=!1,t=0,n=a[_0x37ca("0x4")];t<n&&(void 0!==(o=a[t])[_0x37ca("0x80b")]&&(_=!0),void 0!==o[_0x37ca("0x80c")]&&(e=!0),!_||!e);t++);if(!_&&!e)return i[_0x37ca("0xe")].resolve(x);var r=[],s=[];for(t=0,n=a[_0x37ca("0x4")];t<n;t++){var o=a[t];if(_){var l=void 0!==o.POSITION?c[_0x37ca("0x790")](_0x37ca("0x80d"),o.POSITION).then((function(x){return F(x)})):x.attributes[_0x37ca("0xb8")];r[_0x37ca("0x0")](l)}e&&(l=void 0!==o[_0x37ca("0x80c")]?c[_0x37ca("0x790")]("accessor",o[_0x37ca("0x80c")])[_0x37ca("0x792")]((function(x){return F(x)})):x[_0x37ca("0xb7")][_0x37ca("0xf8")],s[_0x37ca("0x0")](l))}return i[_0x37ca("0xe")][_0x37ca("0x62c")]([i[_0x37ca("0xe")].all(r),i[_0x37ca("0xe")][_0x37ca("0x62c")](s)]).then((function(c){for(var t=c[0],i=c[1],n=0,r=a[_0x37ca("0x4")];n<r;n++){var s=a[n],o=_0x37ca("0x80e")+n;if(_&&void 0!==s[_0x37ca("0x80b")]){var l=t[n];l[_0x37ca("0x1aa")]=o;for(var u=x[_0x37ca("0xb7")][_0x37ca("0xb8")],d=0,f=l.count;d<f;d++)l[_0x37ca("0x80f")](d,l[_0x37ca("0x3f0")](d)+u[_0x37ca("0x3f0")](d),l[_0x37ca("0x810")](d)+u[_0x37ca("0x810")](d),l[_0x37ca("0x811")](d)+u[_0x37ca("0x811")](d))}if(e&&void 0!==s[_0x37ca("0x80c")]){var h=i[n];h[_0x37ca("0x1aa")]=o;var g=x[_0x37ca("0xb7")][_0x37ca("0xf8")];for(d=0,f=h[_0x37ca("0xb9")];d<f;d++)h[_0x37ca("0x80f")](d,h.getX(d)+g[_0x37ca("0x3f0")](d),h.getY(d)+g[_0x37ca("0x810")](d),h.getZ(d)+g.getZ(d))}}return _&&(x.morphAttributes.position=t),e&&(x[_0x37ca("0x812")][_0x37ca("0xf8")]=i),x}))}(x,a[_0x37ca("0x81d")],c):x}))}return z[_0x37ca("0x11")][_0x37ca("0x68")]=function(x,a){var c=this[_0x37ca("0xb2")];this.cache[_0x37ca("0x825")](),this[_0x37ca("0x826")](),this.getMultiDependencies([_0x37ca("0xb5"),"animation",_0x37ca("0x611")])[_0x37ca("0x792")]((function(a){var _=a.scenes||[],e=_[c[_0x37ca("0xb5")]||0],t=a.animations||[],i=a[_0x37ca("0x827")]||[];x(e,_,i,t,c)}))[_0x37ca("0x828")](a)},z[_0x37ca("0x11")][_0x37ca("0x826")]=function(){for(var x=this.json.nodes||[],a=this[_0x37ca("0xb2")].skins||[],c=this.json.meshes||[],_={},e={},t=0,i=a[_0x37ca("0x4")];t<i;t++)for(var n=a[t][_0x37ca("0x829")],r=0,s=n.length;r<s;r++)x[n[r]].isBone=!0;for(var o=0,l=x[_0x37ca("0x4")];o<l;o++){var u=x[o];void 0!==u[_0x37ca("0x3fe")]&&(void 0===_[u[_0x37ca("0x3fe")]]&&(_[u[_0x37ca("0x3fe")]]=e[u[_0x37ca("0x3fe")]]=0),_[u[_0x37ca("0x3fe")]]++,void 0!==u[_0x37ca("0x82a")]&&(c[u[_0x37ca("0x3fe")]].isSkinnedMesh=!0))}this[_0x37ca("0xb2")].meshReferences=_,this.json[_0x37ca("0x82b")]=e},z[_0x37ca("0x11")][_0x37ca("0x790")]=function(x,a,_,e){var t=x+":"+a,i=this[_0x37ca("0x81e")][_0x37ca("0x34a")](t);if(!i){switch(x){case"scene":i=this.loadScene(a);break;case _0x37ca("0x636"):i=this[_0x37ca("0x82c")](a);break;case _0x37ca("0x3fe"):i=this[_0x37ca("0x82d")](a);break;case"accessor":i=this[_0x37ca("0x82e")](a);break;case"bufferView":i=this[_0x37ca("0x82f")](a);break;case"buffer":i=this.loadBuffer(a);break;case _0x37ca("0xa9"):i=this[_0x37ca("0x830")](a);break;case _0x37ca("0x56b"):i=this[_0x37ca("0x58b")](a);break;case"skin":i=this[_0x37ca("0x831")](a);break;case _0x37ca("0x832"):i=this[_0x37ca("0x833")](a);break;case _0x37ca("0x611"):i=this[_0x37ca("0x834")](a);break;case _0x37ca("0xf9"):i=this[_0x37ca("0x76f")][c[_0x37ca("0x76e")]][_0x37ca("0x835")](a);break;default:throw new Error(_0x37ca("0x836")+x)}this[_0x37ca("0x81e")].add(t,i)}return i},z[_0x37ca("0x11")][_0x37ca("0x837")]=function(x){var a=this[_0x37ca("0x81e")].get(x);if(!a){var c=this,_=this[_0x37ca("0xb2")][x+("mesh"===x?"es":"s")]||[];a=i.default[_0x37ca("0x62c")](_[_0x37ca("0x39")]((function(a,_){return c[_0x37ca("0x790")](x,_)}))),this[_0x37ca("0x81e")][_0x37ca("0xe0")](x,a)}return a},z[_0x37ca("0x11")].getMultiDependencies=function(x){for(var a={},c=[],_=0,e=x[_0x37ca("0x4")];_<e;_++){var t=x[_],n=this[_0x37ca("0x837")](t);n=n.then(function(x,c){a[x]=c}.bind(this,t+(t===_0x37ca("0x3fe")?"es":"s"))),c.push(n)}return i[_0x37ca("0xe")][_0x37ca("0x62c")](c)[_0x37ca("0x792")]((function(){return a}))},z[_0x37ca("0x11")][_0x37ca("0x838")]=function(x){var a=this[_0x37ca("0xb2")][_0x37ca("0x3dc")][x],_=a.t?a.t:null,e=this[_0x37ca("0x824")];if(a[_0x37ca("0x22a")]&&a[_0x37ca("0x22a")]!==_0x37ca("0x74a"))throw new Error(_0x37ca("0x839")+a[_0x37ca("0x22a")]+_0x37ca("0x83a"));if(void 0===a.uri&&0===x)return i.default.resolve(this[_0x37ca("0x76f")][c[_0x37ca("0x74d")]][_0x37ca("0x26")]);var t=this[_0x37ca("0x36")];return new(i[_0x37ca("0xe")])((function(x,c){e[_0x37ca("0x140")](L(a[_0x37ca("0x3dd")],t[_0x37ca("0x2ee")]),x,void 0,(function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+a[_0x37ca("0x3dd")]+'".'))}),{updatetime:_})}))},z[_0x37ca("0x11")][_0x37ca("0x82f")]=function(x){var a=this[_0x37ca("0xb2")][_0x37ca("0x758")][x],c=this;return this[_0x37ca("0x790")]("buffer",a.buffer)[_0x37ca("0x792")]((function(_){c[_0x37ca("0xb2")][_0x37ca("0x752")][_0x37ca("0x755")];var e=u[_0x37ca("0x34a")](c[_0x37ca("0xb2")][_0x37ca("0x752")][_0x37ca("0x75f")]);if(e)var t=(a[_0x37ca("0x787")]-x-1)/(e[1]+1)||0,i=(a.byteOffset-x)/(e[0]+1)||0;else t=a[_0x37ca("0x787")]||0,i=a.byteOffset||0;return _[_0x37ca("0x14")](i,i+t)}))},z.prototype[_0x37ca("0x82e")]=function(x){var a=this,c=this[_0x37ca("0xb2")],_=this.json[_0x37ca("0x757")][x];if(void 0===_.bufferView&&void 0===_.sparse)return i[_0x37ca("0xe")].resolve(null);var e=[];return void 0!==_[_0x37ca("0x791")]?e.push(this[_0x37ca("0x790")]("bufferView",_.bufferView)):e[_0x37ca("0x0")](null),void 0!==_[_0x37ca("0x83b")]&&(e.push(this[_0x37ca("0x790")](_0x37ca("0x791"),_[_0x37ca("0x83b")][_0x37ca("0x816")][_0x37ca("0x791")])),e[_0x37ca("0x0")](this[_0x37ca("0x790")]("bufferView",_[_0x37ca("0x83b")].values[_0x37ca("0x791")]))),i[_0x37ca("0xe")][_0x37ca("0x62c")](e)[_0x37ca("0x792")]((function(x){var e,t,i=x[0],n=w[_.type],r=I[_[_0x37ca("0x78e")]],s=r[_0x37ca("0x83c")],o=s*n,l=_.byteOffset||0,u=void 0!==_[_0x37ca("0x791")]?c[_0x37ca("0x758")][_[_0x37ca("0x791")]][_0x37ca("0x83d")]:void 0,d=!0===_.normalized;if(u&&u!==o){var f=_0x37ca("0x83e")+_[_0x37ca("0x791")]+":"+_.componentType,h=a.cache.get(f);h||(e=new r(i),h=new(THREE[_0x37ca("0x83f")])(e,u/s),a.cache[_0x37ca("0xe0")](f,h)),t=new(THREE[_0x37ca("0x840")])(h,n,l/s,d)}else e=null===i?new r(_[_0x37ca("0xb9")]*n):new r(i,l,_[_0x37ca("0xb9")]*n),t=new(THREE[_0x37ca("0x1a1")])(e,n,d);if(void 0!==_.sparse){var g=w[_0x37ca("0x841")],b=I[_[_0x37ca("0x83b")][_0x37ca("0x816")][_0x37ca("0x78e")]],v=_.sparse.indices[_0x37ca("0x842")]||0,p=_.sparse[_0x37ca("0x843")][_0x37ca("0x842")]||0,A=new b(x[1],v,_.sparse[_0x37ca("0xb9")]*g),m=new r(x[2],p,_[_0x37ca("0x83b")][_0x37ca("0xb9")]*n);null!==i&&t[_0x37ca("0x844")](t[_0x37ca("0x19f")][_0x37ca("0x14")]());for(var C=0,y=A[_0x37ca("0x4")];C<y;C++){var E=A[C];if(t[_0x37ca("0x3b7")](E,m[C*n]),n>=2&&t.setY(E,m[C*n+1]),n>=3&&t[_0x37ca("0x3b9")](E,m[C*n+2]),n>=4&&t[_0x37ca("0x845")](E,m[C*n+3]),n>=5)throw new Error(_0x37ca("0x846"))}}return t}))},z.prototype[_0x37ca("0x58b")]=function(x){var a,_=this,e=this.json,t=this[_0x37ca("0x36")],n=this[_0x37ca("0x822")],r=window[_0x37ca("0x75f")]||window[_0x37ca("0x847")],s=e.textures[x],o=e[_0x37ca("0x75a")][x],l=s.extensions||{},u=o?o.t:null,d=(a=l[c[_0x37ca("0x764")]]?e.images[l[c[_0x37ca("0x764")]].source]:e[_0x37ca("0x75a")][s[_0x37ca("0x848")]]).uri,f=!1;return void 0!==a[_0x37ca("0x791")]&&(d=_[_0x37ca("0x790")]("bufferView",a.bufferView).then((function(x){f=!0;var c=new Blob([x],{type:a.mimeType});return d=r[_0x37ca("0x849")](c)}))),i[_0x37ca("0xe")].resolve(d)[_0x37ca("0x792")]((function(x){var a=THREE[_0x37ca("0x84a")][_0x37ca("0x84b")][_0x37ca("0x34a")](x);return a||(a=l[c.MSFT_TEXTURE_DDS]?_[_0x37ca("0x76f")][c[_0x37ca("0x764")]].ddsLoader:n),new(i[_0x37ca("0xe")])((function(c,_){a.load(L(x,t[_0x37ca("0x2ee")]),c,void 0,_,{updatetime:u})}))}))[_0x37ca("0x792")]((function(x){!0===f&&r[_0x37ca("0x84c")](d),x[_0x37ca("0x84d")]=!1,void 0!==s.name&&(x.name=s.name),a[_0x37ca("0x84e")]in R&&(x[_0x37ca("0x84f")]=R[a[_0x37ca("0x84e")]]);var c=(e[_0x37ca("0x75b")]||{})[s.sampler]||{};return x[_0x37ca("0x850")]=y[c[_0x37ca("0x850")]]||THREE.LinearFilter,x[_0x37ca("0x41f")]=y[c[_0x37ca("0x41f")]]||THREE[_0x37ca("0x7e8")],x.wrapS=E[c[_0x37ca("0x851")]]||THREE[_0x37ca("0x142")],x[_0x37ca("0x852")]=E[c[_0x37ca("0x852")]]||THREE.RepeatWrapping,x}))},z.prototype[_0x37ca("0x77e")]=function(x,a,_){var e=this;return this.getDependency(_0x37ca("0x56b"),_.index)[_0x37ca("0x792")]((function(t){if(e[_0x37ca("0x76f")][c[_0x37ca("0x765")]]){var i=void 0!==_[_0x37ca("0x76f")]?_.extensions[c.KHR_TEXTURE_TRANSFORM]:void 0;i&&(t=e.extensions[c[_0x37ca("0x765")]][_0x37ca("0x853")](t,i))}x[a]=t}))},z[_0x37ca("0x11")].loadMaterial=function(x){var a,_=this,e=this.json,t=this[_0x37ca("0x76f")],n=e[_0x37ca("0xb3")][x],r={},s=n[_0x37ca("0x76f")]||{},o=[];if(s[c[_0x37ca("0x796")]]){var l=t[c.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=l.getMaterialType(n),o.push(l[_0x37ca("0x854")](r,n,_))}else if(s[c.KHR_MATERIALS_UNLIT]){var u=t[c[_0x37ca("0x762")]];a=u[_0x37ca("0x855")](n),o.push(u.extendParams(r,n,_))}else{a=THREE[_0x37ca("0x856")];var d=n[_0x37ca("0x857")]||{};if(r[_0x37ca("0x13c")]=new THREE.Color(1,1,1),r[_0x37ca("0xfd")]=1,Array[_0x37ca("0x474")](d[_0x37ca("0x77d")])){var f=d.baseColorFactor;r[_0x37ca("0x13c")].fromArray(f),r[_0x37ca("0xfd")]=f[3]}void 0!==d[_0x37ca("0x77f")]&&o[_0x37ca("0x0")](_[_0x37ca("0x77e")](r,_0x37ca("0x39"),d.baseColorTexture)),r[_0x37ca("0xfb")]=void 0!==d[_0x37ca("0x858")]?d[_0x37ca("0x858")]:1,r[_0x37ca("0x859")]=void 0!==d.roughnessFactor?d[_0x37ca("0x85a")]:1,void 0!==d[_0x37ca("0x85b")]&&(o[_0x37ca("0x0")](_.assignTexture(r,"metalnessMap",d.metallicRoughnessTexture)),o.push(_[_0x37ca("0x77e")](r,_0x37ca("0x7c0"),d[_0x37ca("0x85b")])))}!0===n[_0x37ca("0x85c")]&&(r.side=THREE[_0x37ca("0x10f")]);var h=n[_0x37ca("0x3e0")]||M[_0x37ca("0x3e1")];return h===M[_0x37ca("0x805")]?r[_0x37ca("0xfa")]=!0:(r[_0x37ca("0xfa")]=!1,h===M.MASK&&(r[_0x37ca("0x85d")]=void 0!==n[_0x37ca("0x85e")]?n.alphaCutoff:.5)),void 0!==n.normalTexture&&a!==THREE[_0x37ca("0xfc")]&&(o.push(_[_0x37ca("0x77e")](r,_0x37ca("0x7ca"),n[_0x37ca("0x85f")])),r[_0x37ca("0x7cb")]=new(THREE[_0x37ca("0x563")])(1,1),void 0!==n.normalTexture[_0x37ca("0x22e")]&&r[_0x37ca("0x7cb")][_0x37ca("0x11d")](n[_0x37ca("0x85f")][_0x37ca("0x22e")],n[_0x37ca("0x85f")][_0x37ca("0x22e")])),void 0!==n[_0x37ca("0x860")]&&a!==THREE[_0x37ca("0xfc")]&&(o[_0x37ca("0x0")](_[_0x37ca("0x77e")](r,_0x37ca("0x798"),n[_0x37ca("0x860")])),void 0!==n[_0x37ca("0x860")].strength&&(r[_0x37ca("0x799")]=n[_0x37ca("0x860")][_0x37ca("0x861")])),void 0!==n.emissiveFactor&&a!==THREE[_0x37ca("0xfc")]&&(r.emissive=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x3cf")](n[_0x37ca("0x862")])),void 0!==n[_0x37ca("0x863")]&&a!==THREE.MeshBasicMaterial&&o[_0x37ca("0x0")](_.assignTexture(r,_0x37ca("0x79a"),n[_0x37ca("0x863")])),i.default[_0x37ca("0x62c")](o)[_0x37ca("0x792")]((function(){var x;return x=a===THREE[_0x37ca("0x6bb")]?t[c[_0x37ca("0x796")]][_0x37ca("0x333")](r):new a(r),void 0!==n[_0x37ca("0x1aa")]&&(x[_0x37ca("0x1aa")]=n[_0x37ca("0x1aa")]),x[_0x37ca("0x7cb")]&&(x[_0x37ca("0x7cb")].y=-x[_0x37ca("0x7cb")].y),x[_0x37ca("0x39")]&&(x[_0x37ca("0x39")][_0x37ca("0x864")]=THREE[_0x37ca("0x865")]),x[_0x37ca("0x79a")]&&(x[_0x37ca("0x79a")][_0x37ca("0x864")]=THREE[_0x37ca("0x865")]),x.specularMap&&(x.specularMap.encoding=THREE[_0x37ca("0x865")]),P(x,n),n[_0x37ca("0x76f")]&&H(t,x,n),x}))},z[_0x37ca("0x11")].loadGeometries=function(x){var a,_=this,e=this[_0x37ca("0x76f")],t=this[_0x37ca("0x81f")],n=function(x){if(x[_0x37ca("0x4")]<2)return!1;var a=x[0],_=a[_0x37ca("0x81d")]||[];if(void 0===a.indices)return!1;for(var e=1,t=x[_0x37ca("0x4")];e<t;e++){var i=x[e];if(a[_0x37ca("0x37")]!==i[_0x37ca("0x37")])return!1;if(void 0===i.indices)return!1;if(i[_0x37ca("0x76f")]&&i[_0x37ca("0x76f")][c[_0x37ca("0x763")]])return!1;if(!O(a.attributes,i[_0x37ca("0xb7")]))return!1;var n=i[_0x37ca("0x81d")]||[];if(_[_0x37ca("0x4")]!==n[_0x37ca("0x4")])return!1;for(var r=0,s=_[_0x37ca("0x4")];r<s;r++)if(!O(_[r],n[r]))return!1}return!0}(x);function r(x){return e[c[_0x37ca("0x763")]][_0x37ca("0x866")](x,_)[_0x37ca("0x792")]((function(a){return j(a,x,_)}))}n&&(a=x,x=[x[0]]);for(var s=[],o=0,l=x[_0x37ca("0x4")];o<l;o++){var u,d=x[o],f=N(t,d);if(f)s[_0x37ca("0x0")](f);else u=d[_0x37ca("0x76f")]&&d.extensions[c[_0x37ca("0x763")]]?r(d):j(new(THREE[_0x37ca("0x3ee")]),d,_),t[_0x37ca("0x0")]({primitive:d,promise:u}),s[_0x37ca("0x0")](u)}return i.default[_0x37ca("0x62c")](s)[_0x37ca("0x792")]((function(c){if(n){var e=c[0];if(null!==(d=function(x,a,c){for(var _=0,e=x[_0x37ca("0x4")];_<e;_++){var t=x[_];if(a===t[_0x37ca("0x819")]&&B(c,t[_0x37ca("0x81a")]))return t.geometry}return null}(u=_.multiPassGeometryCache,e,a)))return[d[_0x37ca("0xa7")]];var t=new(THREE[_0x37ca("0x3ee")]);for(var r in t.name=e[_0x37ca("0x1aa")],t[_0x37ca("0x11a")]=e[_0x37ca("0x11a")],e.attributes)t[_0x37ca("0x1a0")](r,e.attributes[r]);for(var r in e[_0x37ca("0x812")])t.morphAttributes[r]=e[_0x37ca("0x812")][r];for(var s=[],o=0,l=a[_0x37ca("0x4")];o<l;o++)s[_0x37ca("0x0")](_.getDependency(_0x37ca("0x80d"),a[o][_0x37ca("0x816")]));return i[_0x37ca("0xe")][_0x37ca("0x62c")](s)[_0x37ca("0x792")]((function(x){for(var c=[],_=0,i=0,n=a[_0x37ca("0x4")];i<n;i++){for(var r=x[i],s=0,o=r.count;s<o;s++)c.push(r.array[s]);t.addGroup(_,r.count,i),_+=r[_0x37ca("0xb9")]}return t[_0x37ca("0x3f2")](c),u[_0x37ca("0x0")]({geometry:t,baseGeometry:e,primitives:a}),[t]}))}if(c.length>1&&void 0!==THREE[_0x37ca("0x19e")]){for(o=1,l=x.length;o<l;o++)if(x[0][_0x37ca("0x37")]!==x[o][_0x37ca("0x37")])return c;var u,d;if(d=function(x,a){for(var c=0,_=x[_0x37ca("0x4")];c<_;c++){var e=x[c];if(B(a,e[_0x37ca("0x818")]))return e[_0x37ca("0xa7")]}return null}(u=_.multiplePrimitivesCache,c)){if(null!==d.geometry)return[d[_0x37ca("0xa7")]]}else{t=THREE[_0x37ca("0x19e")][_0x37ca("0x567")](c,!0);if(u.push({geometry:t,baseGeometries:c}),null!==t)return[t]}}return c}))},z[_0x37ca("0x11")].loadMesh=function(x){for(var a=this,e=this[_0x37ca("0xb2")],t=this[_0x37ca("0x76f")],n=e[_0x37ca("0xb4")][x],r=n.primitives,s=[],o=0,l=r[_0x37ca("0x4")];o<l;o++){var u=void 0===r[o][_0x37ca("0xa9")]?new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE[_0x37ca("0x807")]}):this[_0x37ca("0x790")](_0x37ca("0xa9"),r[o][_0x37ca("0xa9")]);s.push(u)}return i[_0x37ca("0xe")][_0x37ca("0x62c")](s).then((function(e){return a.loadGeometries(r)[_0x37ca("0x792")]((function(i){for(var s=1===i[_0x37ca("0x4")]&&i[0][_0x37ca("0x402")].length>0,o=[],l=0,u=i[_0x37ca("0x4")];l<u;l++){var d,f=i[l],h=r[l],g=s?e:e[l];if(h.mode===C[_0x37ca("0x867")]||h[_0x37ca("0x37")]===C[_0x37ca("0x868")]||h[_0x37ca("0x37")]===C[_0x37ca("0x869")]||void 0===h[_0x37ca("0x37")])!0===(d=!0===n[_0x37ca("0x86a")]?new(THREE[_0x37ca("0x86b")])(f,g):new(THREE[_0x37ca("0x148")])(f,g))[_0x37ca("0x86a")]&&d[_0x37ca("0x86c")](),h[_0x37ca("0x37")]===C[_0x37ca("0x868")]?d[_0x37ca("0x86d")]=THREE.TriangleStripDrawMode:h[_0x37ca("0x37")]===C[_0x37ca("0x869")]&&(d[_0x37ca("0x86d")]=THREE[_0x37ca("0x86e")]);else if(h.mode===C[_0x37ca("0x86f")])d=new THREE.LineSegments(f,g);else if(h[_0x37ca("0x37")]===C.LINE_STRIP)d=new THREE.Line(f,g);else if(h[_0x37ca("0x37")]===C.LINE_LOOP)d=new(THREE[_0x37ca("0x870")])(f,g);else{if(h[_0x37ca("0x37")]!==C[_0x37ca("0x871")])throw new Error(_0x37ca("0x873")+h[_0x37ca("0x37")]);d=new(THREE[_0x37ca("0x872")])(f,g)}(0,_[_0x37ca("0xe")])(d.geometry[_0x37ca("0x812")]).length>0&&D(d,n),d.name=n[_0x37ca("0x1aa")]||_0x37ca("0x874")+x,i.length>1&&(d[_0x37ca("0x1aa")]+="_"+l),P(d,n),o.push(d);for(var b=s?d[_0x37ca("0xa9")]:[d.material],v=void 0!==f[_0x37ca("0xb7")][_0x37ca("0x13c")],p=void 0===f[_0x37ca("0xb7")][_0x37ca("0xf8")],A=!0===d[_0x37ca("0x86a")],m=(0,_[_0x37ca("0xe")])(f.morphAttributes)[_0x37ca("0x4")]>0,I=m&&void 0!==f.morphAttributes[_0x37ca("0xf8")],y=0,E=b.length;y<E;y++){g=b[y];if(d[_0x37ca("0x875")]){var w=_0x37ca("0x876")+g[_0x37ca("0x3c5")],T=a[_0x37ca("0x81e")][_0x37ca("0x34a")](w);T||(T=new(THREE[_0x37ca("0x877")]),THREE[_0x37ca("0x878")][_0x37ca("0x11")][_0x37ca("0x268")][_0x37ca("0x6")](T,g),T[_0x37ca("0x13c")][_0x37ca("0x268")](g[_0x37ca("0x13c")]),T[_0x37ca("0x39")]=g.map,T[_0x37ca("0x771")]=!1,a[_0x37ca("0x81e")].add(w,T)),g=T}else if(d[_0x37ca("0x879")]){w=_0x37ca("0x87a")+g.uuid;var k=a[_0x37ca("0x81e")].get(w);k||(k=new(THREE[_0x37ca("0x196")]),THREE[_0x37ca("0x878")][_0x37ca("0x11")][_0x37ca("0x268")][_0x37ca("0x6")](k,g),k[_0x37ca("0x13c")][_0x37ca("0x268")](g.color),k.lights=!1,a[_0x37ca("0x81e")][_0x37ca("0xe0")](w,k)),g=k}if(v||p||A||m){w=_0x37ca("0x87b")+g[_0x37ca("0x3c5")]+":";g[_0x37ca("0x7ce")]&&(w+="specular-glossiness:"),A&&(w+=_0x37ca("0x87c")),v&&(w+="vertex-colors:"),p&&(w+=_0x37ca("0x87d")),m&&(w+=_0x37ca("0x87e")),I&&(w+="morph-normals:");var S=a.cache.get(w);S||(S=g[_0x37ca("0x7ce")]?t[c[_0x37ca("0x796")]][_0x37ca("0x87f")](g):g[_0x37ca("0xde")](),A&&(S.skinning=!0),v&&(S[_0x37ca("0x880")]=THREE[_0x37ca("0x881")]),p&&(S[_0x37ca("0x882")]=!0),m&&(S.morphTargets=!0),I&&(S[_0x37ca("0x883")]=!0),a[_0x37ca("0x81e")].add(w,S)),g=S}b[y]=g,g.aoMap&&void 0===f.attributes[_0x37ca("0x3ef")]&&void 0!==f.attributes.uv&&(console[_0x37ca("0x23b")](_0x37ca("0x884")),f.addAttribute("uv2",new(THREE[_0x37ca("0x1a1")])(f[_0x37ca("0xb7")].uv[_0x37ca("0x19f")],2))),g[_0x37ca("0x7ce")]&&(d.onBeforeRender=t[c[_0x37ca("0x796")]].refreshUniforms)}d[_0x37ca("0xa9")]=s?b:b[0]}if(1===o.length)return o[0];var M=new THREE.Group;for(l=0,u=o.length;l<u;l++)M[_0x37ca("0xe0")](o[l]);return M}))}))},z[_0x37ca("0x11")][_0x37ca("0x834")]=function(x){var a,c=this.json[_0x37ca("0x827")][x],_=c[c[_0x37ca("0x22a")]];if(_)return c[_0x37ca("0x22a")]===_0x37ca("0x885")?a=new(THREE[_0x37ca("0x886")])(THREE.Math[_0x37ca("0x24a")](_[_0x37ca("0x887")]),_[_0x37ca("0x888")]||1,_[_0x37ca("0x889")]||1,_[_0x37ca("0x88a")]||2e6):c[_0x37ca("0x22a")]===_0x37ca("0x88b")&&(a=new THREE.OrthographicCamera(_.xmag/-2,_[_0x37ca("0x88c")]/2,_[_0x37ca("0x88d")]/2,_[_0x37ca("0x88d")]/-2,_[_0x37ca("0x889")],_[_0x37ca("0x88a")])),void 0!==c[_0x37ca("0x1aa")]&&(a.name=c.name),P(a,c),i[_0x37ca("0xe")][_0x37ca("0x77c")](a);console[_0x37ca("0x3eb")]("THREE.GLTFLoader: Missing camera parameters.")},z[_0x37ca("0x11")][_0x37ca("0x831")]=function(x){var a=this[_0x37ca("0xb2")].skins[x],c={joints:a[_0x37ca("0x829")]};return void 0===a[_0x37ca("0x88e")]?i.default[_0x37ca("0x77c")](c):this[_0x37ca("0x790")](_0x37ca("0x80d"),a.inverseBindMatrices)[_0x37ca("0x792")]((function(x){return c.inverseBindMatrices=x,c}))},z.prototype[_0x37ca("0x833")]=function(x){for(var a=this.json.animations[x],c=[],_=[],e=[],t=[],n=[],r=0,s=a[_0x37ca("0x88f")][_0x37ca("0x4")];r<s;r++){var o=a[_0x37ca("0x88f")][r],l=a[_0x37ca("0x75b")][o.sampler],u=o.target,d=void 0!==u[_0x37ca("0x636")]?u[_0x37ca("0x636")]:u.id,f=void 0!==a[_0x37ca("0x890")]?a[_0x37ca("0x890")][l[_0x37ca("0x891")]]:l[_0x37ca("0x891")],h=void 0!==a[_0x37ca("0x890")]?a[_0x37ca("0x890")][l[_0x37ca("0x892")]]:l.output;c.push(this[_0x37ca("0x790")]("node",d)),_[_0x37ca("0x0")](this[_0x37ca("0x790")]("accessor",f)),e[_0x37ca("0x0")](this[_0x37ca("0x790")](_0x37ca("0x80d"),h)),t[_0x37ca("0x0")](l),n.push(u)}return i[_0x37ca("0xe")][_0x37ca("0x62c")]([i[_0x37ca("0xe")][_0x37ca("0x62c")](c),i[_0x37ca("0xe")][_0x37ca("0x62c")](_),i.default[_0x37ca("0x62c")](e),i[_0x37ca("0xe")][_0x37ca("0x62c")](t),i[_0x37ca("0xe")].all(n)])[_0x37ca("0x792")]((function(c){for(var _=c[0],e=c[1],t=c[2],i=c[3],n=c[4],r=[],s=0,o=_.length;s<o;s++){var l=_[s],u=e[s],d=t[s],f=i[s],h=n[s];if(void 0!==l){var g;switch(l.updateMatrix(),l.matrixAutoUpdate=!0,k[h[_0x37ca("0x2ee")]]){case k.weights:g=THREE[_0x37ca("0x893")];break;case k.rotation:g=THREE[_0x37ca("0x894")];break;case k[_0x37ca("0xb8")]:case k[_0x37ca("0x22e")]:default:g=THREE[_0x37ca("0x895")]}var b=l[_0x37ca("0x1aa")]?l[_0x37ca("0x1aa")]:l.uuid,v=void 0!==f[_0x37ca("0x896")]?S[f[_0x37ca("0x896")]]:THREE[_0x37ca("0x897")],p=[];k[h[_0x37ca("0x2ee")]]===k[_0x37ca("0x813")]?l.traverse((function(x){!0===x[_0x37ca("0x898")]&&x[_0x37ca("0x7ff")]&&p[_0x37ca("0x0")](x[_0x37ca("0x1aa")]?x[_0x37ca("0x1aa")]:x.uuid)})):p[_0x37ca("0x0")](b);for(var A=0,C=p.length;A<C;A++){var I=new g(p[A]+"."+k[h.path],THREE.AnimationUtils[_0x37ca("0x899")](u[_0x37ca("0x19f")],0),THREE[_0x37ca("0x89a")][_0x37ca("0x899")](d[_0x37ca("0x19f")],0),v);"CUBICSPLINE"===f[_0x37ca("0x896")]&&(I[_0x37ca("0x89b")]=function(x){return new m(this.times,this.values,this.getValueSize()/3,x)},I[_0x37ca("0x89b")][_0x37ca("0x89c")]=!0),r[_0x37ca("0x0")](I)}}}var y=void 0!==a[_0x37ca("0x1aa")]?a[_0x37ca("0x1aa")]:_0x37ca("0x89d")+x;return new THREE.AnimationClip(y,void 0,r)}))},z[_0x37ca("0x11")][_0x37ca("0x82c")]=function(x){var a=this[_0x37ca("0xb2")],_=this[_0x37ca("0x76f")],e=this,t=a[_0x37ca("0x89e")],n=a[_0x37ca("0x82b")],r=a.nodes[x];return(!0===r.isBone?i[_0x37ca("0xe")][_0x37ca("0x77c")](new THREE.Bone):void 0!==r[_0x37ca("0x3fe")]?e.getDependency(_0x37ca("0x3fe"),r[_0x37ca("0x3fe")])[_0x37ca("0x792")]((function(x){var a;if(t[r[_0x37ca("0x3fe")]]>1){var c=n[r.mesh]++;(a=x[_0x37ca("0xde")]())[_0x37ca("0x1aa")]+=_0x37ca("0x89f")+c,a[_0x37ca("0x8a0")]=x.onBeforeRender;for(var _=0,e=a.children[_0x37ca("0x4")];_<e;_++)a[_0x37ca("0xa6")][_][_0x37ca("0x1aa")]+="_instance_"+c,a.children[_][_0x37ca("0x8a0")]=x[_0x37ca("0xa6")][_][_0x37ca("0x8a0")]}else a=x;return void 0!==r.weights&&a[_0x37ca("0xb6")]((function(x){if(x.isMesh)for(var a=0,c=r[_0x37ca("0x813")][_0x37ca("0x4")];a<c;a++)x[_0x37ca("0x7ff")][a]=r.weights[a]})),a})):void 0!==r[_0x37ca("0x611")]?e.getDependency("camera",r.camera):r[_0x37ca("0x76f")]&&r[_0x37ca("0x76f")][c[_0x37ca("0x76e")]]&&void 0!==r[_0x37ca("0x76f")][c[_0x37ca("0x76e")]][_0x37ca("0xf9")]?e.getDependency("light",r[_0x37ca("0x76f")][c[_0x37ca("0x76e")]][_0x37ca("0xf9")]):i[_0x37ca("0xe")].resolve(new THREE.Object3D))[_0x37ca("0x792")]((function(x){if(void 0!==r.name&&(x.name=THREE.PropertyBinding.sanitizeNodeName(r.name)),P(x,r),r[_0x37ca("0x76f")]&&H(_,x,r),void 0!==r[_0x37ca("0x245")]){var a=new(THREE[_0x37ca("0x25a")]);a.fromArray(r[_0x37ca("0x245")]),x[_0x37ca("0x3d8")](a)}else void 0!==r[_0x37ca("0x3d7")]&&x[_0x37ca("0xb8")][_0x37ca("0x3cf")](r[_0x37ca("0x3d7")]),void 0!==r[_0x37ca("0x1a3")]&&x.quaternion[_0x37ca("0x3cf")](r[_0x37ca("0x1a3")]),void 0!==r[_0x37ca("0x22e")]&&x.scale[_0x37ca("0x3cf")](r[_0x37ca("0x22e")]);return x}))},z[_0x37ca("0x11")][_0x37ca("0x8a1")]=function(){function x(a,c,_,e){var t=_[_0x37ca("0x3cb")][a];return e[_0x37ca("0x790")](_0x37ca("0x636"),a).then((function(x){return void 0===t.skin?x:e.getDependency("skin",t[_0x37ca("0x82a")]).then((function(x){for(var c=[],_=0,t=(a=x)[_0x37ca("0x829")][_0x37ca("0x4")];_<t;_++)c[_0x37ca("0x0")](e[_0x37ca("0x790")](_0x37ca("0x636"),a[_0x37ca("0x829")][_]));return i[_0x37ca("0xe")][_0x37ca("0x62c")](c)})).then((function(c){for(var _=!0===x[_0x37ca("0x8a2")]?x[_0x37ca("0xa6")]:[x],e=0,t=_.length;e<t;e++){for(var i=_[e],n=[],r=[],s=0,o=c[_0x37ca("0x4")];s<o;s++){var l=c[s];if(l){n[_0x37ca("0x0")](l);var u=new(THREE[_0x37ca("0x25a")]);void 0!==a[_0x37ca("0x88e")]&&u[_0x37ca("0x3cf")](a[_0x37ca("0x88e")][_0x37ca("0x19f")],16*s),r[_0x37ca("0x0")](u)}else console[_0x37ca("0x3eb")](_0x37ca("0x8a3"),a[_0x37ca("0x829")][s])}i[_0x37ca("0x10")](new(THREE[_0x37ca("0x8a4")])(n,r),i[_0x37ca("0x187")])}return x}));var a})).then((function(a){c.add(a);var n=[];if(t.children)for(var r=t[_0x37ca("0xa6")],s=0,o=r.length;s<o;s++){var l=r[s];n[_0x37ca("0x0")](x(l,a,_,e))}return i[_0x37ca("0xe")][_0x37ca("0x62c")](n)}))}return function(a){var c=this[_0x37ca("0xb2")],_=this[_0x37ca("0x76f")],e=this[_0x37ca("0xb2")].scenes[a],t=new(THREE[_0x37ca("0x3d0")]);void 0!==e[_0x37ca("0x1aa")]&&(t.name=e.name),P(t,e),e[_0x37ca("0x76f")]&&H(_,t,e);for(var n=e[_0x37ca("0x3cb")]||[],r=[],s=0,o=n[_0x37ca("0x4")];s<o;s++)r[_0x37ca("0x0")](x(n[s],t,c,this));return i[_0x37ca("0xe")].all(r)[_0x37ca("0x792")]((function(){return t}))}}(),x}()},function(x,a,c){"use strict";function _(x){for(var a=[],c=0;c<x.length;c++)a[c]=x[_0x37ca("0x2d")](c);return a}Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a[_0x37ca("0x7c")]=function(x,a,c){for(var e="",t=_(a+c),i=_(x),n=0;n<i[_0x37ca("0x4")];n++){for(var r=0;r<t[_0x37ca("0x4")];r++)i[n]=i[n]^t[r];e+=String.fromCharCode(i[n])}return e}},function(x,a,c){"use strict";var _=i(c(18)),e=i(c(2)),t=i(c(91));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){this[_0x37ca("0x3e8")]=new(THREE[_0x37ca("0xe2")]),this[_0x37ca("0x8a5")]=new(THREE[_0x37ca("0xe2")]),this.right=new(THREE[_0x37ca("0xe2")]),this.up=new(THREE[_0x37ca("0xe2")]),this.dist=0,this[_0x37ca("0x8a6")]=1};n[_0x37ca("0x11")][_0x37ca("0x8a7")]=function(x,a,c){this[_0x37ca("0x3e8")].lerpVectors(x[_0x37ca("0x3e8")],a[_0x37ca("0x3e8")],c),this.dir[_0x37ca("0x8a8")](x[_0x37ca("0x8a5")],a[_0x37ca("0x8a5")],c),this.up[_0x37ca("0x8a8")](x.up,a.up,c),this[_0x37ca("0x174")][_0x37ca("0x8a8")](x[_0x37ca("0x174")],a[_0x37ca("0x174")],c),this[_0x37ca("0x8a9")]=(a[_0x37ca("0x8a9")]-x[_0x37ca("0x8a9")])*c+x[_0x37ca("0x8a9")],this[_0x37ca("0x8a6")]=(a.widthScale-x[_0x37ca("0x8a6")])*c+x[_0x37ca("0x8a6")]},n[_0x37ca("0x11")][_0x37ca("0x268")]=function(x){this.pos[_0x37ca("0x268")](x.pos),this.dir[_0x37ca("0x268")](x.dir),this.up[_0x37ca("0x268")](x.up),this[_0x37ca("0x174")][_0x37ca("0x268")](x.right),this[_0x37ca("0x8a9")]=x[_0x37ca("0x8a9")],this.widthScale=x.widthScale};var r=function(){this.array=[],this[_0x37ca("0xb9")]=0};r[_0x37ca("0x11")][_0x37ca("0x11d")]=function(x,a,c,_,e){if((x=x.slice(0))[_0x37ca("0x4")]<2)return this[_0x37ca("0xb9")]=0,void console[_0x37ca("0x3eb")](_0x37ca("0x8aa"));a=void 0!==a?a:.1,c=void 0!==c?c:10,(e=void 0!==e&&e)&&!x[0][_0x37ca("0x8ab")](x[x.length-1])&&x.push((new(THREE[_0x37ca("0xe2")])).copy(x[0]));for(var t=0,i=x.length;t<i;t++)if(0===t)this[_0x37ca("0x8ac")](x[t],x[t+1],_);else if(t===i-1)if(e){this[_0x37ca("0x8ad")](x[t],x[1],a,c,_);var n=this[_0x37ca("0x19f")][0][_0x37ca("0x8a9")];this[_0x37ca("0x19f")][0].copy(this[_0x37ca("0x19f")][this[_0x37ca("0xb9")]-1]),this[_0x37ca("0x19f")][0][_0x37ca("0x8a9")]=n}else this._end(x[t]);else this[_0x37ca("0x8ad")](x[t],x[t+1],a,c,_)},r[_0x37ca("0x11")][_0x37ca("0x258")]=function(){return 0==this[_0x37ca("0xb9")]?0:this[_0x37ca("0x19f")][this.count-1].dist},r[_0x37ca("0x11")][_0x37ca("0x8ac")]=function(x,a,c){this[_0x37ca("0xb9")]=0;var _=this._getByIndex(this[_0x37ca("0xb9")]);if(_[_0x37ca("0x3e8")][_0x37ca("0x268")](x),_[_0x37ca("0x8a5")].subVectors(a,x),c)_.up[_0x37ca("0x268")](c);else{var e=Number[_0x37ca("0x1b6")],t=Math[_0x37ca("0x24e")](_[_0x37ca("0x8a5")].x),i=Math[_0x37ca("0x24e")](_[_0x37ca("0x8a5")].y),n=Math[_0x37ca("0x24e")](_[_0x37ca("0x8a5")].z);t<e&&(e=t,_.up[_0x37ca("0x11d")](1,0,0)),i<e&&(e=i,_.up[_0x37ca("0x11d")](0,1,0)),n<e&&_.up.set(0,0,1)}_[_0x37ca("0x174")][_0x37ca("0x8ae")](_[_0x37ca("0x8a5")],_.up).normalize(),_.up[_0x37ca("0x8ae")](_.right,_[_0x37ca("0x8a5")]).normalize(),_[_0x37ca("0x8a9")]=0,_[_0x37ca("0x8a6")]=1,_.dir[_0x37ca("0x2d8")](),this[_0x37ca("0xb9")]++};var s=new(THREE[_0x37ca("0xe2")]),o=new THREE.Vector3,l=new(THREE[_0x37ca("0xe2")]),u=new THREE.Matrix4,d=new THREE.QuadraticBezierCurve3;r[_0x37ca("0x11")][_0x37ca("0x8ad")]=function(x,a,c,_,e){if(c>0&&_>0){for(var t=this[_0x37ca("0x19f")][this.count-1],i=this[_0x37ca("0x8af")](t[_0x37ca("0x3e8")],x,a,c,d).getPoints(_),n=0;n<_;n+=1)this[_0x37ca("0x8b0")](i[n],i[n+1],e);i[_][_0x37ca("0x8ab")](a)||this[_0x37ca("0x8b0")](i[_],a,e)}else this._hardCorner(x,a,e)},r[_0x37ca("0x11")][_0x37ca("0x8b0")]=function(x,a,c){var _=this[_0x37ca("0x19f")][this[_0x37ca("0xb9")]-1],e=this[_0x37ca("0x8b1")](this[_0x37ca("0xb9")]),i=s[_0x37ca("0x8b2")](x,_[_0x37ca("0x3e8")]),n=o[_0x37ca("0x8b2")](a,x),r=i[_0x37ca("0x4")]();if(i[_0x37ca("0x2d8")](),n[_0x37ca("0x2d8")](),e[_0x37ca("0x3e8")][_0x37ca("0x268")](x),e[_0x37ca("0x8a5")].addVectors(i,n),e.dir.normalize(),c)1===e[_0x37ca("0x8a5")][_0x37ca("0x8b3")](c)?e[_0x37ca("0x174")][_0x37ca("0x8ae")](n,c)[_0x37ca("0x2d8")]():e[_0x37ca("0x174")][_0x37ca("0x8ae")](e[_0x37ca("0x8a5")],c)[_0x37ca("0x2d8")](),e.up[_0x37ca("0x8ae")](e[_0x37ca("0x174")],e.dir).normalize();else{e.up.copy(_.up);var d=l[_0x37ca("0x8ae")](_[_0x37ca("0x8a5")],e[_0x37ca("0x8a5")]);if(d[_0x37ca("0x4")]()>t[_0x37ca("0xe")]){d[_0x37ca("0x2d8")]();var f=Math.acos(Math[_0x37ca("0x30e")](Math[_0x37ca("0x30d")](_[_0x37ca("0x8a5")].dot(e[_0x37ca("0x8a5")]),-1),1));e.up[_0x37ca("0x247")](u[_0x37ca("0x8b4")](d,f))}e[_0x37ca("0x174")].crossVectors(e[_0x37ca("0x8a5")],e.up).normalize()}e[_0x37ca("0x8a9")]=_[_0x37ca("0x8a9")]+r;var h=i[_0x37ca("0x8b3")](n);e.widthScale=Math[_0x37ca("0x30e")](1/Math[_0x37ca("0xc4")]((1+h)/2),1.414213562373)||1,this[_0x37ca("0xb9")]++},r.prototype._end=function(x){var a=this[_0x37ca("0x19f")][this[_0x37ca("0xb9")]-1],c=this[_0x37ca("0x8b1")](this[_0x37ca("0xb9")]);c[_0x37ca("0x3e8")].copy(x),c[_0x37ca("0x8a5")].subVectors(x,a[_0x37ca("0x3e8")]);var _=c[_0x37ca("0x8a5")][_0x37ca("0x4")]();c.dir[_0x37ca("0x2d8")](),c.up[_0x37ca("0x268")](a.up);var e=s[_0x37ca("0x8ae")](a[_0x37ca("0x8a5")],c[_0x37ca("0x8a5")]);if(e[_0x37ca("0x4")]()>t[_0x37ca("0xe")]){e[_0x37ca("0x2d8")]();var i=Math[_0x37ca("0x8b5")](Math[_0x37ca("0x30e")](Math[_0x37ca("0x30d")](a[_0x37ca("0x8a5")].dot(c[_0x37ca("0x8a5")]),-1),1));c.up[_0x37ca("0x247")](u[_0x37ca("0x8b4")](e,i))}c.right[_0x37ca("0x8ae")](c[_0x37ca("0x8a5")],c.up).normalize(),c[_0x37ca("0x8a9")]=a[_0x37ca("0x8a9")]+_,c[_0x37ca("0x8a6")]=1,this[_0x37ca("0xb9")]++},r[_0x37ca("0x11")]._getByIndex=function(x){return this[_0x37ca("0x19f")][x]||(this.array[x]=new n),this[_0x37ca("0x19f")][x]},r[_0x37ca("0x11")][_0x37ca("0x8af")]=function(x,a,c,_,e){var t=s[_0x37ca("0x8b2")](a,x),i=o[_0x37ca("0x8b2")](c,a),n=t.length(),r=i[_0x37ca("0x4")]();return t.normalize(),i[_0x37ca("0x2d8")](),n>_?e.v0.copy(a).sub(t.multiplyScalar(_)):e.v0[_0x37ca("0x268")](x),e.v1.copy(a),r>_?e.v2[_0x37ca("0x268")](a)[_0x37ca("0xe0")](i[_0x37ca("0x26b")](_)):e.v2.copy(c),e};var f=function(){this[_0x37ca("0x8b6")]=!1,this[_0x37ca("0x8b7")]=!1,this[_0x37ca("0x8b8")]=[],this[_0x37ca("0x8b9")]=new(THREE[_0x37ca("0xe2")]),this[_0x37ca("0x8ba")]=new(THREE[_0x37ca("0xe2")]),this[_0x37ca("0x8bb")]=.5,this[_0x37ca("0x1a8")]=.1,this[_0x37ca("0x8bc")]=.2,this[_0x37ca("0x8bd")]=10,this._pathPointList=new r,this[_0x37ca("0x8be")]=!0,this.up=new(THREE[_0x37ca("0xe2")])(0,1,0)};Object[_0x37ca("0x9")](f[_0x37ca("0x11")],_0x37ca("0x8bf"),{set:function(x){this[_0x37ca("0x8bc")]=x,this[_0x37ca("0x8be")]=!0},get:function(){return this._cornerRadius}}),Object.defineProperty(f.prototype,_0x37ca("0x8c0"),{set:function(x){this._cornerSplit=x,this[_0x37ca("0x8be")]=!0},get:function(){return this[_0x37ca("0x8bd")]}}),f[_0x37ca("0x11")][_0x37ca("0x8c1")]=function(){if(this._includeDrawingPoint&&(this[_0x37ca("0x8b8")].pop(),this._includeDrawingPoint=!1),this[_0x37ca("0x8b6")]&&this[_0x37ca("0x8b8")][_0x37ca("0x4")]>0){var x=this[_0x37ca("0x8c2")]();x&&(this._points[_0x37ca("0x0")](x),this[_0x37ca("0x8b7")]=!0)}return this[_0x37ca("0x8b8")]},f[_0x37ca("0x11")][_0x37ca("0x8c3")]=function(){return(this[_0x37ca("0x8b6")]||this._dirty)&&(this[_0x37ca("0x8c4")][_0x37ca("0x11d")](this[_0x37ca("0x8c1")](),this[_0x37ca("0x8bc")],this[_0x37ca("0x8bd")],this.up),this._dirty=!1),this._pathPointList},f[_0x37ca("0x11")].update=function(x){this._lastPoint[_0x37ca("0x268")](x),this[_0x37ca("0x8b9")].y+=this[_0x37ca("0x1a8")]},f.prototype[_0x37ca("0x8c5")]=function(){this[_0x37ca("0x8b6")]=!0;var x=this[_0x37ca("0x8c2")]();x&&(this._includeDrawingPoint&&(this[_0x37ca("0x8b8")].pop(),this[_0x37ca("0x8b7")]=!1),this[_0x37ca("0x8b8")][_0x37ca("0x0")](x.clone())),this._dirty=!0},f[_0x37ca("0x11")][_0x37ca("0x1c6")]=function(){this[_0x37ca("0x8b6")]=!0,this[_0x37ca("0x8be")]=!0},f[_0x37ca("0x11")][_0x37ca("0x1bc")]=function(){this._drawing=!1,this[_0x37ca("0x8be")]=!0},f[_0x37ca("0x11")][_0x37ca("0x69d")]=function(){this[_0x37ca("0x8b6")]=!1,this[_0x37ca("0x8b7")]=!1,this._points=[],this[_0x37ca("0x8be")]=!0};var h=new(THREE[_0x37ca("0xe2")]),g=new THREE.Vector3,b=new THREE.Vector3;f[_0x37ca("0x11")][_0x37ca("0x8c2")]=function(){if(this[_0x37ca("0x8ba")][_0x37ca("0x268")](this._lastPoint),this[_0x37ca("0x8b8")][_0x37ca("0x4")]>0){var x=this[_0x37ca("0x8b7")]?this[_0x37ca("0x8b8")][this[_0x37ca("0x8b8")][_0x37ca("0x4")]-2]:this[_0x37ca("0x8b8")][this[_0x37ca("0x8b8")][_0x37ca("0x4")]-1];if(function(x,a){return h[_0x37ca("0x268")](a)[_0x37ca("0x2d7")](x)[_0x37ca("0x4")]()}(x,this._lastFixedPoint)<this[_0x37ca("0x8bb")]&&(h[_0x37ca("0x2d8")]()[_0x37ca("0x26b")](this.fixRadius),this._lastFixedPoint[_0x37ca("0x268")](x)[_0x37ca("0xe0")](h)),this._includeDrawingPoint?this[_0x37ca("0x8b8")].length>2:this[_0x37ca("0x8b8")][_0x37ca("0x4")]>1){var a=this[_0x37ca("0x8b7")]?this[_0x37ca("0x8b8")][this._points[_0x37ca("0x4")]-3]:this._points[this[_0x37ca("0x8b8")].length-2];if(g[_0x37ca("0x8b2")](x,a),b.subVectors(this[_0x37ca("0x8ba")],x),g[_0x37ca("0x2d8")](),b.normalize(),g[_0x37ca("0x26b")](-1)[_0x37ca("0x8b3")](b)>.99)return null}}return this._lastFixedPoint};var v=function(x){THREE[_0x37ca("0x3ee")][_0x37ca("0x6")](this),x=x||3e3,this[_0x37ca("0x32b")]?(this[_0x37ca("0x32b")](_0x37ca("0xb8"),new THREE.BufferAttribute(new Float32Array(3*x),3).setUsage(THREE[_0x37ca("0x8c6")])),this[_0x37ca("0x32b")](_0x37ca("0xf8"),new THREE.BufferAttribute(new Float32Array(3*x),3)[_0x37ca("0x8c7")](THREE[_0x37ca("0x8c6")])),this[_0x37ca("0x32b")]("uv",new(THREE[_0x37ca("0x1a1")])(new Float32Array(2*x),2)[_0x37ca("0x8c7")](THREE.DynamicDrawUsage))):(this[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(new Float32Array(3*x),3)[_0x37ca("0x8c8")](!0)),this[_0x37ca("0x1a0")]("normal",new(THREE[_0x37ca("0x1a1")])(new Float32Array(3*x),3)[_0x37ca("0x8c8")](!0)),this.addAttribute("uv",new(THREE[_0x37ca("0x1a1")])(new Float32Array(2*x),2)[_0x37ca("0x8c8")](!0))),this[_0x37ca("0x8c9")][_0x37ca("0x1c6")]=0,this.drawRange.count=0};v[_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])((0,_[_0x37ca("0xe")])(THREE.BufferGeometry[_0x37ca("0x11")]),{constructor:v,update:function(x,a){a=a||{};var c=this[_0x37ca("0x8ca")](x,a);this[_0x37ca("0x8c9")][_0x37ca("0xb9")]=c},_resizeAttribute:function(x,a,c){for(;a[_0x37ca("0x19f")][_0x37ca("0x4")]<c;){var _=a[_0x37ca("0x19f")].length,e=new THREE.BufferAttribute(new Float32Array(2*_),a.itemSize,a.normalized);e[_0x37ca("0x1aa")]=a.name,e.usage=a[_0x37ca("0x8cb")],this.addAttribute,this[_0x37ca("0x1a0")](x,e),a=e}},_updateAttributes:function(x,a){var c=a[_0x37ca("0x398")]||.1,_=void 0!==a.progress?a.progress:1,e=void 0===a[_0x37ca("0x120")]||a.arrow,t=void 0!==a[_0x37ca("0x10e")]?a[_0x37ca("0x10e")]:"both",i=0,r=[],s=[],o=[],l=new THREE.Vector3,u=new(THREE[_0x37ca("0xe2")]);function d(x,a,c){x[_0x37ca("0x8a5")];var _=x.up,e=x.right;"left"!==t?l[_0x37ca("0x268")](e).multiplyScalar(a*x.widthScale):l[_0x37ca("0x11d")](0,0,0),_0x37ca("0x174")!==t?u[_0x37ca("0x268")](e).multiplyScalar(-a*x[_0x37ca("0x8a6")]):u[_0x37ca("0x11d")](0,0,0),l[_0x37ca("0xe0")](x[_0x37ca("0x3e8")]),u[_0x37ca("0xe0")](x.pos),r.push(u.x,u.y,u.z,l.x,l.y,l.z),s[_0x37ca("0x0")](_.x,_.y,_.z,_.x,_.y,_.z),o.push(c,0,c,1),i+=2}var f=new(THREE[_0x37ca("0xe2")]),h=x.distance();if(0==h)return 0;var g,b=_*h;if(b>0)for(var v=0;v<x.count;v++){var p=x[_0x37ca("0x19f")][v];if(p[_0x37ca("0x8a9")]>b){var A=x.array[v-1];g=new n;var m=(b-A.dist)/(p[_0x37ca("0x8a9")]-A[_0x37ca("0x8a9")]);g[_0x37ca("0x8a7")](A,p,m),d(g,c/2,g[_0x37ca("0x8a9")]/(_0x37ca("0x11f")!==t?c/2:c));break}d(p,c/2,p[_0x37ca("0x8a9")]/(_0x37ca("0x11f")!==t?c/2:c))}else g=x[_0x37ca("0x19f")][0];e&&function(x,a,c){var _=x[_0x37ca("0x8a5")],e=x.up,n=x[_0x37ca("0x174")];_0x37ca("0x172")!==t?l[_0x37ca("0x268")](n).multiplyScalar(2*a):l[_0x37ca("0x11d")](0,0,0),"right"!==t?u[_0x37ca("0x268")](n)[_0x37ca("0x26b")](2*-a):u[_0x37ca("0x11d")](0,0,0),f[_0x37ca("0x268")](_)[_0x37ca("0x8cc")](3*a),l[_0x37ca("0xe0")](x.pos),u[_0x37ca("0xe0")](x[_0x37ca("0x3e8")]),f[_0x37ca("0xe0")](x[_0x37ca("0x3e8")]),r[_0x37ca("0x0")](u.x,u.y,u.z,l.x,l.y,l.z,f.x,f.y,f.z),s[_0x37ca("0x0")](e.x,e.y,e.z,e.x,e.y,e.z,e.x,e.y,e.z),o[_0x37ca("0x0")](c,_0x37ca("0x11f")!==t?_0x37ca("0x174")!==t?-2:0:-.5,c,"both"!==t?_0x37ca("0x172")!==t?2:0:1.5,c+3*a/("both"!==t?a:2*a),_0x37ca("0x11f")!==t?0:.5),i+=3}(g=g||x[_0x37ca("0x19f")][x.count-1],c/2,g.dist/(_0x37ca("0x11f")!==t?c/2:c));var C=this[_0x37ca("0x19d")](_0x37ca("0xb8")),I=this[_0x37ca("0x19d")](_0x37ca("0xf8")),y=this.getAttribute("uv");return this[_0x37ca("0x8cd")]("position",C,r.length),this[_0x37ca("0x8cd")]("normal",I,s[_0x37ca("0x4")]),this._resizeAttribute("uv",y,o[_0x37ca("0x4")]),C=this.getAttribute("position"),I=this[_0x37ca("0x19d")](_0x37ca("0xf8")),y=this.getAttribute("uv"),C[_0x37ca("0x19f")][_0x37ca("0x11d")](r,0),I.array[_0x37ca("0x11d")](s,0),y[_0x37ca("0x19f")][_0x37ca("0x11d")](o,0),C[_0x37ca("0x8ce")][_0x37ca("0xb9")]=r[_0x37ca("0x4")],I.updateRange[_0x37ca("0xb9")]=s[_0x37ca("0x4")],y[_0x37ca("0x8ce")][_0x37ca("0xb9")]=o[_0x37ca("0x4")],C.needsUpdate=!0,I.needsUpdate=!0,y.needsUpdate=!0,i}});var p=function(x){v[_0x37ca("0x6")](this,x||1e3),this.setIndex(new Array(2*(x||1e3))),this[_0x37ca("0x8cf")]=0};p[_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])((0,_.default)(v[_0x37ca("0x11")]),{constructor:p,_resizeIndex:function(x,a){for(;x[_0x37ca("0x19f")][_0x37ca("0x4")]<a;){var c=x.array[_0x37ca("0x4")],_=new(THREE[_0x37ca("0x1a1")])(2*c>65535?new Uint32Array(2*c):new Uint16Array(2*c),1);_[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")],_.usage=x.usage,this[_0x37ca("0x3f2")](_),x=_}},_updateAttributes:function(x,a){var c=this,_=a[_0x37ca("0x630")]||.1,e=a.radialSegments||8;e=Math[_0x37ca("0x30d")](2,e);var t=a[_0x37ca("0x8d0")]||0,i=void 0!==a.progress?a.progress:1,r=0,s=[],o=[],l=[],u=[],d=0,f=new THREE.Vector3;function h(x,a,_,e){for(var i=0===s[_0x37ca("0x4")],n=0;n<=_;n++){var h=n;h==_&&(h=0);var g=n/_,b=Math[_0x37ca("0x30d")](e,g);b>c.maxUvVal&&(c[_0x37ca("0x8cf")]=b),f[_0x37ca("0x268")](x.up).applyAxisAngle(x[_0x37ca("0x8a5")],t+2*Math.PI*h/_).normalize(),s[_0x37ca("0x0")](x[_0x37ca("0x3e8")].x+f.x*a*x[_0x37ca("0x8a6")],x[_0x37ca("0x3e8")].y+f.y*a*x[_0x37ca("0x8a6")],x[_0x37ca("0x3e8")].z+f.z*a*x[_0x37ca("0x8a6")]),o.push(f.x,f.y,f.z),l[_0x37ca("0x0")](e,g),d++}if(!i)for(var v=d-2*(_+1),p=d-(_+1),A=0;A<_;A++)u[_0x37ca("0x0")](p+A,v+A,v+A+1,p+A,v+A+1,p+A+1),r+=6}var g=i*x.distance();if(0==g)return 0;if(g>0)for(var b=0;b<x[_0x37ca("0xb9")];b++){var v=x.array[b];if(v[_0x37ca("0x8a9")]>g){var p=x.array[b-1],A=new n,m=(g-p.dist)/(v[_0x37ca("0x8a9")]-p[_0x37ca("0x8a9")]);A.lerpPathPoints(p,v,m),h(A,_,e,A[_0x37ca("0x8a9")]/(2*_*Math.PI));break}h(v,_,e,v[_0x37ca("0x8a9")]/(2*_*Math.PI))}var C=this[_0x37ca("0x19d")]("position"),I=this[_0x37ca("0x19d")](_0x37ca("0xf8")),y=this[_0x37ca("0x19d")]("uv"),E=this.getIndex();return this._resizeAttribute("position",C,s[_0x37ca("0x4")]),this._resizeAttribute(_0x37ca("0xf8"),I,o[_0x37ca("0x4")]),this[_0x37ca("0x8cd")]("uv",y,l[_0x37ca("0x4")]),this[_0x37ca("0x8d1")](E,u[_0x37ca("0x4")]),C=this.getAttribute(_0x37ca("0xb8")),I=this[_0x37ca("0x19d")](_0x37ca("0xf8")),y=this[_0x37ca("0x19d")]("uv"),E=this[_0x37ca("0x8d2")](),C[_0x37ca("0x19f")][_0x37ca("0x11d")](s,0),I[_0x37ca("0x19f")][_0x37ca("0x11d")](o,0),y[_0x37ca("0x19f")].set(l,0),E[_0x37ca("0x11d")](u,0),C[_0x37ca("0x8ce")][_0x37ca("0xb9")]=s[_0x37ca("0x4")],I[_0x37ca("0x8ce")][_0x37ca("0xb9")]=o[_0x37ca("0x4")],y.updateRange[_0x37ca("0xb9")]=l[_0x37ca("0x4")],E[_0x37ca("0x8ce")][_0x37ca("0xb9")]=u[_0x37ca("0x4")],C.needsUpdate=!0,I[_0x37ca("0x13a")]=!0,y[_0x37ca("0x13a")]=!0,E.needsUpdate=!0,r}}),THREE[_0x37ca("0x11c")]=v,THREE[_0x37ca("0x117")]=p,THREE.PathPointList=r,THREE.Path3D=f},function(x,a,c){"use strict";THREE[_0x37ca("0x8d3")]=function(){var x=new THREE.Frustum;new(THREE[_0x37ca("0xe2")]);function a(x,a,c){this[_0x37ca("0x611")]=x,this.scene=a,this.startPoint=new THREE.Vector3,this[_0x37ca("0x8d4")]=new(THREE[_0x37ca("0xe2")]),this[_0x37ca("0x8d5")]=[],this.deep=c||Number[_0x37ca("0x1b6")],this[_0x37ca("0x8d6")]=null,this[_0x37ca("0x8d7")]=""}return a[_0x37ca("0x11")][_0x37ca("0x8d8")]=function(a,c){return this[_0x37ca("0x8d9")]=a||this[_0x37ca("0x8d9")],this[_0x37ca("0x8d4")]=c||this[_0x37ca("0x8d4")],this[_0x37ca("0x8d5")]=[],this[_0x37ca("0x8da")](this[_0x37ca("0x8d9")],this[_0x37ca("0x8d4")]),this[_0x37ca("0x8db")](x),this[_0x37ca("0x8d5")]},a[_0x37ca("0x11")][_0x37ca("0x8da")]=function(a,c){a=a||this[_0x37ca("0x8d9")],c=c||this[_0x37ca("0x8d4")];var _=esmap[_0x37ca("0x34")][_0x37ca("0x35")];if(this[_0x37ca("0x611")]=_[_0x37ca("0x186")],this.camera[_0x37ca("0x8dc")](),this[_0x37ca("0x611")][_0x37ca("0x6eb")](),this[_0x37ca("0x611")][_0x37ca("0x6e9")]){var e=a.clone();e.x=Math.min(a.x,c.x),e.y=Math[_0x37ca("0x30d")](a.y,c.y),c.x=Math.max(a.x,c.x),c.y=Math.min(a.y,c.y);var t=this[_0x37ca("0x611")][_0x37ca("0xb8")][_0x37ca("0xde")](),i=e[_0x37ca("0xde")](),n=new(THREE[_0x37ca("0xe2")])(c.x,e.y,0),r=c[_0x37ca("0xde")](),s=new THREE.Vector3(e.x,c.y,0);i[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),n.unproject(this[_0x37ca("0x611")]),r[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),s[_0x37ca("0x8dd")](this[_0x37ca("0x611")]);var o=i[_0x37ca("0xde")]()[_0x37ca("0x2d7")](t),l=n[_0x37ca("0xde")]()[_0x37ca("0x2d7")](t),u=r[_0x37ca("0xde")]().sub(t);o.normalize(),l[_0x37ca("0x2d8")](),u[_0x37ca("0x2d8")](),o.multiplyScalar(this[_0x37ca("0x8de")]),l[_0x37ca("0x26b")](this[_0x37ca("0x8de")]),u[_0x37ca("0x26b")](this[_0x37ca("0x8de")]),o[_0x37ca("0xe0")](t),l[_0x37ca("0xe0")](t),u.add(t),(b=x.planes)[0][_0x37ca("0x8df")](t,i,n),b[1].setFromCoplanarPoints(t,n,r),b[2][_0x37ca("0x8df")](r,s,t),b[3].setFromCoplanarPoints(s,i,t),b[4].setFromCoplanarPoints(n,r,s),b[5][_0x37ca("0x8df")](u,l,o),b[5][_0x37ca("0xf8")][_0x37ca("0x26b")](-1)}else{if(!this[_0x37ca("0x611")][_0x37ca("0x6ed")])return _0x37ca("0x8e1"),!1;var d=Math[_0x37ca("0x30e")](a.x,c.x),f=Math[_0x37ca("0x30d")](a.y,c.y),h=Math[_0x37ca("0x30d")](a.x,c.x),g=Math.min(a.y,c.y);if(d===h||f===g)return!1;i=new(THREE[_0x37ca("0xe2")])(d,f,-1),n=new(THREE[_0x37ca("0xe2")])(h,f,-1),r=new(THREE[_0x37ca("0xe2")])(h,g,-1),s=new(THREE[_0x37ca("0xe2")])(d,g,-1);var b,v=new(THREE[_0x37ca("0xe2")])(d,f,1),p=new(THREE[_0x37ca("0xe2")])(h,f,1),A=new(THREE[_0x37ca("0xe2")])(h,g,1),m=new(THREE[_0x37ca("0xe2")])(d,g,1);i[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),n[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),r[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),s.unproject(this[_0x37ca("0x611")]),v[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),p.unproject(this[_0x37ca("0x611")]),A.unproject(this.camera),m[_0x37ca("0x8dd")](this[_0x37ca("0x611")]),(b=x[_0x37ca("0x8e0")])[0][_0x37ca("0x8df")](i,v,p),b[1][_0x37ca("0x8df")](n,p,A),b[2][_0x37ca("0x8df")](A,m,s),b[3][_0x37ca("0x8df")](m,v,i),b[4][_0x37ca("0x8df")](n,r,s),b[5].setFromCoplanarPoints(A,p,v),b[5][_0x37ca("0xf8")][_0x37ca("0x26b")](-1)}return!0},a[_0x37ca("0x11")].searchWatchlist=function(x){var a=this.watchlist,c=new(THREE[_0x37ca("0xe2")]),_=esmap[_0x37ca("0x34")].instance,e=_.options[_0x37ca("0x23e")];if(this[_0x37ca("0x8e2")])for(var t=0;t<this[_0x37ca("0x8e2")][_0x37ca("0x4")];t++){var i=this[_0x37ca("0x8e2")][t];if(i.type_==_0x37ca("0xe7")){if(!i[_0x37ca("0x8e3")]){for(var n=i.points,r=[],s=0;s<n[_0x37ca("0x4")]-1;s++){var o=n[s],l=n[s+1],u=l.x-o.x,d=l.y-o.y,f=l.z-o.z,h=Math.max(Math[_0x37ca("0x24e")](u),Math[_0x37ca("0x24e")](d),Math[_0x37ca("0x24e")](f));if(0!=h&&h!=1/0)for(var g=u/h,b=d/h,v=f/h,p=0;p<h+1;p++){var A=g*p,m=b*p,C=v*p,I=new(THREE[_0x37ca("0xe2")])(o.x+A,o.y+m,o.z+C);r[_0x37ca("0x0")](I)}}i[_0x37ca("0x8e3")]=r}for(var y=0;y<i[_0x37ca("0x8e3")][_0x37ca("0x4")];y++){var E=i.boxSelectPoints[y];if(x[_0x37ca("0x8e4")](E)){this[_0x37ca("0x8d5")][_0x37ca("0x0")](i);break}}}else i[_0x37ca("0x11a")].box3||(i[_0x37ca("0x11a")].box3=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](i)),x[_0x37ca("0x8e5")](i[_0x37ca("0x11a")][_0x37ca("0x30c")])&&this[_0x37ca("0x8d5")][_0x37ca("0x0")](i)}for(var w in a)for(var T=a[w],k=0;k<T.length;k++){var S=T[k];if(S.datas_&&S[_0x37ca("0xa4")].nodeType){if(this.pickType!=_0x37ca("0x62c"))if(this[_0x37ca("0x8e6")]instanceof Array){if(this.pickType[_0x37ca("0xda")](S[_0x37ca("0xa4")][_0x37ca("0xc8")])<0)continue}else if(S[_0x37ca("0xa4")][_0x37ca("0xc8")]!=this[_0x37ca("0x8e6")])continue;if(_[_0x37ca("0x182")][_0x37ca("0x8e7")](S))switch(S[_0x37ca("0xa4")][_0x37ca("0xc8")]){case esmap[_0x37ca("0xe8")][_0x37ca("0x622")]:if(999==S[_0x37ca("0xa4")][_0x37ca("0x621")])continue;for(var M=S[_0x37ca("0xa4")][_0x37ca("0x331")],R=0;R<M[_0x37ca("0x4")];R++){var L=[];L=e?M[R].points:_[_0x37ca("0x163")].buildingBounds[M[R].ID][0];for(var H=[],P=1;P<L[_0x37ca("0x4")];P++)H[_0x37ca("0x0")]({x:-L[P].x,y:L[P].y});(esmap[_0x37ca("0x7b")][_0x37ca("0x5e8")](H,this[_0x37ca("0x8e8")])||esmap[_0x37ca("0x7b")][_0x37ca("0x5e9")](H,this[_0x37ca("0x8e8")]))&&this[_0x37ca("0x8d5")][_0x37ca("0x0")](M[R])}break;case esmap[_0x37ca("0xe8")].MODEL3D:S[_0x37ca("0x11a")][_0x37ca("0x30c")]||(S.userData[_0x37ca("0x30c")]=(new(THREE[_0x37ca("0x302")])).setFromObject(S)),S[_0x37ca("0x11a")][_0x37ca("0x8e9")]||S[_0x37ca("0xb6")]((function(x){x.material&&(x[_0x37ca("0xa9")]instanceof Array?(x.material[0]=x[_0x37ca("0xa9")][0][_0x37ca("0xde")](),x.material[0][_0x37ca("0x11a")][_0x37ca("0x8e9")]=!0):(x[_0x37ca("0xa9")]=x[_0x37ca("0xa9")][_0x37ca("0xde")](),x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0x8e9")]=!0))})),x[_0x37ca("0x8e5")](S[_0x37ca("0x11a")][_0x37ca("0x30c")])&&this[_0x37ca("0x8d5")][_0x37ca("0x0")](S[_0x37ca("0xa4")]);break;case esmap[_0x37ca("0xe8")][_0x37ca("0xe9")]:if(!S[_0x37ca("0x8e3")]){for(var D=S[_0x37ca("0xee")],O=[],B=0;B<D[_0x37ca("0x4")]-1;B++){var N=D[B],F=D[B+1],z=F.x-N.x,j=F.y-N.y,X=F.z-N.z,Y=Math[_0x37ca("0x30d")](Math[_0x37ca("0x24e")](z),Math[_0x37ca("0x24e")](j),Math[_0x37ca("0x24e")](X));if(0!=Y&&Y!=1/0)for(var U=z/Y,G=j/Y,Q=X/Y,V=0;V<Y+1;V++){var W=U*V,Z=G*V,J=Q*V,K=new THREE.Vector3(N.x+W,N.y+Z,N.z+J);O[_0x37ca("0x0")](K)}}S.boxSelectPoints=O}for(var q=0;q<S[_0x37ca("0x8e3")].length;q++){var $=S[_0x37ca("0x8e3")][q];if(x.containsPoint($)){this.collection[_0x37ca("0x0")](S[_0x37ca("0xa4")]);break}}break;default:c=S[_0x37ca("0x23d")](c),x.containsPoint(c)&&this[_0x37ca("0x8d5")][_0x37ca("0x0")](S[_0x37ca("0xa4")])}}}},a.prototype.searchChildInFrustum=function(x,a){if(a[_0x37ca("0x898")]&&void 0!==a[_0x37ca("0xa9")])if(a[_0x37ca("0x8ea")]){if(!a.boxSelectPoints){for(var c=a[_0x37ca("0xee")],_=[],e=0;e<c[_0x37ca("0x4")]-1;e++){var t=c[e],i=c[e+1],n=i.x-t.x,r=i.y-t.y,s=i.z-t.z,o=Math[_0x37ca("0x30d")](Math[_0x37ca("0x24e")](n),Math[_0x37ca("0x24e")](r),Math[_0x37ca("0x24e")](s));if(0!=o&&o!=1/0)for(var l=n/o,u=r/o,d=s/o,f=0;f<o+1;f++){var h=l*f,g=u*f,b=d*f,v=new(THREE[_0x37ca("0xe2")])(t.x+h,t.y+g,t.z+b);_[_0x37ca("0x0")](v)}}a[_0x37ca("0x8e3")]=_}for(var p=0;p<a[_0x37ca("0x8e3")][_0x37ca("0x4")];p++){var A=a.boxSelectPoints[p];if(x[_0x37ca("0x8e4")](A)){this.collection[_0x37ca("0x0")](a);break}}}else{null===a.geometry[_0x37ca("0x562")]&&a[_0x37ca("0xa7")].computeBoundingBox();var m=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x268")](a[_0x37ca("0xa7")][_0x37ca("0x562")])[_0x37ca("0x247")](a[_0x37ca("0x187")]);if(x[_0x37ca("0x8e5")](m)){var C=null,I=!1;if(a[_0x37ca("0xa4")]?C=a:(C=esmap[_0x37ca("0x641")].findGroup(a),I=!0),C&&this[_0x37ca("0x8d5")][_0x37ca("0x0")](C[_0x37ca("0xa4")]),C&&I)return!0}}if(a[_0x37ca("0xa6")][_0x37ca("0x4")]>0)for(var y=0;y<a[_0x37ca("0xa6")][_0x37ca("0x4")];y++){if(this.searchChildInFrustum(x,a.children[y]))break}},a}()},function(x,a,c){"use strict";THREE.SelectionHelper=function(){function x(x,a,c){this[_0x37ca("0x328")]=document.createElement(_0x37ca("0x38c")),this[_0x37ca("0x328")][_0x37ca("0x39c")][_0x37ca("0xe0")](c),this[_0x37ca("0x328")][_0x37ca("0x24")].pointerEvents=_0x37ca("0x58d"),this.element.style.border=_0x37ca("0x8eb"),this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x8ec")]="rgba(75, 160, 255, 0.3)",this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x8ed"),this[_0x37ca("0x693")]={domElement:a},this.startPoint=new(THREE[_0x37ca("0x563")]),this.pointTopLeft=new(THREE[_0x37ca("0x563")]),this[_0x37ca("0x8ee")]=new(THREE[_0x37ca("0x563")]),this[_0x37ca("0x8ef")]=x,this[_0x37ca("0x8f0")]=!1,this[_0x37ca("0x693")].domElement[_0x37ca("0x33")]("mousedown",function(x){this[_0x37ca("0x8ef")][_0x37ca("0x57b")]&&2!=x[_0x37ca("0x723")]&&(this[_0x37ca("0x8f0")]=!0,this.onSelectStart(x))}[_0x37ca("0x10")](this),!1),this[_0x37ca("0x693")][_0x37ca("0x31a")].addEventListener(_0x37ca("0x73e"),function(x){this[_0x37ca("0x8f0")]&&this[_0x37ca("0x8f1")](x)}[_0x37ca("0x10")](this),!1),this[_0x37ca("0x693")][_0x37ca("0x31a")][_0x37ca("0x33")]("mouseup",function(x){this.selectionBox[_0x37ca("0x57b")]&&(this[_0x37ca("0x8f0")]=!1,this[_0x37ca("0x8f2")](x))}[_0x37ca("0x10")](this),!1)}return x.prototype.onSelectStart=function(x){this.renderer[_0x37ca("0x31a")][_0x37ca("0x8f3")][_0x37ca("0x27")](this[_0x37ca("0x328")]),this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x172")]=x.clientX+"px",this[_0x37ca("0x328")].style[_0x37ca("0x173")]=x[_0x37ca("0x39a")]+"px",this.element[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x8f4"),this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x8f4"),this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x701")]=1e3,this[_0x37ca("0x8d9")].x=x[_0x37ca("0x8f5")],this[_0x37ca("0x8d9")].y=x[_0x37ca("0x39a")]},x[_0x37ca("0x11")][_0x37ca("0x8f1")]=function(x){this[_0x37ca("0x8ee")].x=Math[_0x37ca("0x30d")](this[_0x37ca("0x8d9")].x,x[_0x37ca("0x8f5")]),this[_0x37ca("0x8ee")].y=Math[_0x37ca("0x30d")](this[_0x37ca("0x8d9")].y,x[_0x37ca("0x39a")]),this[_0x37ca("0x8f6")].x=Math.min(this[_0x37ca("0x8d9")].x,x[_0x37ca("0x8f5")]),this.pointTopLeft.y=Math.min(this[_0x37ca("0x8d9")].y,x.clientY),this[_0x37ca("0x328")][_0x37ca("0x24")].left=this[_0x37ca("0x8f6")].x+"px",this.element[_0x37ca("0x24")].top=this[_0x37ca("0x8f6")].y+"px",this[_0x37ca("0x328")][_0x37ca("0x24")][_0x37ca("0x398")]=this[_0x37ca("0x8ee")].x-this[_0x37ca("0x8f6")].x+"px",this.element[_0x37ca("0x24")].height=this[_0x37ca("0x8ee")].y-this.pointTopLeft.y+"px"},x[_0x37ca("0x11")].onSelectOver=function(){this[_0x37ca("0x328")].parentElement&&this.element[_0x37ca("0x8f3")].removeChild(this.element)},x}()},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=s(c(12)),e=s(c(13)),t=s(c(0)),i=s(c(1)),n=c(19),r=s(c(260));function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(){function x(a,c){(0,t[_0x37ca("0xe")])(this,x),this[_0x37ca("0x8f7")]=a,this[_0x37ca("0x5b")]=a[_0x37ca("0xf0")](c[_0x37ca("0xef")]),this.config(c),this[_0x37ca("0x8f8")]={},this[_0x37ca("0xe6")]=1,this.HeatMapMaterials={}}var a;return(0,i[_0x37ca("0xe")])(x,[{key:_0x37ca("0x8f9"),value:function(x,a){var c=this[_0x37ca("0x5b")].floorEdges[a].maxx-this[_0x37ca("0x5b")][_0x37ca("0x8fa")][a][_0x37ca("0xae")],_=this[_0x37ca("0x5b")][_0x37ca("0x8fa")][a][_0x37ca("0xac")]-this[_0x37ca("0x5b")].floorEdges[a].miny,e={w:Math[_0x37ca("0x1cc")](c),h:Math[_0x37ca("0x1cc")](_)},t=(0,n[_0x37ca("0x1b")])();e.w=e.w*t[0]/15,e.h=e.h*t[1]/15;var i=1,r=x||8192;return(c>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(i=e.h/e.w,e.w=r,e.h=r*i):(i=e.w/e.h,e.h=r,e.w=r*i)),e}},{key:_0x37ca("0x8fb"),value:function(x,a){var c={x:1-(x-this[_0x37ca("0x5b")].floorEdges[this[_0x37ca("0xe6")]][_0x37ca("0xae")])/(this[_0x37ca("0x5b")][_0x37ca("0x8fa")][this[_0x37ca("0xe6")]][_0x37ca("0xab")]-this[_0x37ca("0x5b")][_0x37ca("0x8fa")][this[_0x37ca("0xe6")]][_0x37ca("0xae")]),y:1-(a-this[_0x37ca("0x5b")][_0x37ca("0x8fa")][this[_0x37ca("0xe6")]].miny)/(this[_0x37ca("0x5b")][_0x37ca("0x8fa")][this.fnum].maxy-this[_0x37ca("0x5b")].floorEdges[this[_0x37ca("0xe6")]][_0x37ca("0xaf")])};return c.x=c.x*this[_0x37ca("0x36")][_0x37ca("0x398")],c.y=c.y*this[_0x37ca("0x36")].height,c}},{key:_0x37ca("0x3af"),value:function(x){var a=this;a[_0x37ca("0x36")]={opacity:x[_0x37ca("0x1")](_0x37ca("0xfd"))?x.opacity:1,mapOpacity:x[_0x37ca("0x1")](_0x37ca("0x8fc"))?x[_0x37ca("0x8fc")]:1,radius:x[_0x37ca("0x630")]?x[_0x37ca("0x630")]:30,bshadow:x.radius?x[_0x37ca("0x630")]/20:1.5,maxSize:x[_0x37ca("0x8fd")]||8192,gendatas:!!x[_0x37ca("0x8fe")],backgroundColor:x[_0x37ca("0x8ec")]||"#FFFFFF",boundVal:15e3,duration:x[_0x37ca("0x1b9")],shadowBlur:15,points:{max:x[_0x37ca("0x30d")]?x[_0x37ca("0x30d")]:100,data:[]},gradient:x[_0x37ca("0x8ff")]?x[_0x37ca("0x8ff")]:{.45:_0x37ca("0x900"),.55:"rgb(0,255,255)",.65:_0x37ca("0x901"),.95:_0x37ca("0x902"),1:"rgb(255,0,0)"}};var c=document.createElement(_0x37ca("0x6f9")),_=c[_0x37ca("0x903")]("2d");a.options[_0x37ca("0x904")]=_,a[_0x37ca("0x36")][_0x37ca("0x6f9")]=c;var e=document.createElement(_0x37ca("0x6f9")),t=e[_0x37ca("0x903")]("2d");a.options[_0x37ca("0x905")]=t,a.options[_0x37ca("0x906")]=e}},{key:_0x37ca("0x907"),value:function(x,a,c,_){var e=this,t=e[_0x37ca("0x36")].ctxCopy,i=(e[_0x37ca("0x36")].radius,e[_0x37ca("0x36")][_0x37ca("0x908")]),n=parseFloat(c/e[_0x37ca("0x36")][_0x37ca("0xee")][_0x37ca("0x30d")],10);t[_0x37ca("0x909")]=_0x37ca("0x90a")+n+")",t[_0x37ca("0x90b")]=i,t[_0x37ca("0x90c")]=i,t[_0x37ca("0x90d")]=e.options[_0x37ca("0x90d")],t.beginPath(),t[_0x37ca("0x90e")](x-i,a-i,e[_0x37ca("0x36")][_0x37ca("0x630")],0,2*Math.PI,!0),t[_0x37ca("0x90f")](),t[_0x37ca("0x32d")]()}},{key:_0x37ca("0x910"),value:function(x,a,c,_){var e=this,t=e[_0x37ca("0x36")][_0x37ca("0x904")],i=(e[_0x37ca("0x36")][_0x37ca("0x630")],e[_0x37ca("0x36")][_0x37ca("0x908")]),n=parseFloat(c/e[_0x37ca("0x36")][_0x37ca("0xee")].max,10);t[_0x37ca("0x909")]=_0x37ca("0x911")+n+")",t[_0x37ca("0x90b")]=i,t[_0x37ca("0x90c")]=i,t[_0x37ca("0x90d")]=e[_0x37ca("0x36")][_0x37ca("0x90d")],t.beginPath(),t[_0x37ca("0x90e")](x-i,a-i,e[_0x37ca("0x36")][_0x37ca("0x630")],0,2*Math.PI,!0),t.closePath(),t[_0x37ca("0x32d")]()}},{key:"colorize",value:function(){for(var x=this,a=x[_0x37ca("0x36")][_0x37ca("0x398")],c=x[_0x37ca("0x36")][_0x37ca("0x1a8")],_=x[_0x37ca("0x36")][_0x37ca("0x904")],e=_[_0x37ca("0x912")](0,0,a,c),t=e.data,i=t.length,n=x[_0x37ca("0x913")](),r=x[_0x37ca("0x36")][_0x37ca("0xfd")]?255*x[_0x37ca("0x36")].opacity:25500,s=3;s<i;s+=4){var o=t[s],l=4*o;if(l){var u=o<r?o:r;t[s-3]=n[l],t[s-2]=n[l+1],t[s-1]=n[l+2],t[s]=u}}e[_0x37ca("0x34f")][_0x37ca("0x11d")](t),_.putImageData(e,0,0)}},{key:_0x37ca("0x914"),value:function(x){var a=this;a[_0x37ca("0xe6")]=x;var c=a[_0x37ca("0x36")],_=a[_0x37ca("0x8f9")](c[_0x37ca("0x8fd")],x),e=_.w,t=_.h;c[_0x37ca("0x398")]=e,c[_0x37ca("0x1a8")]=t,c[_0x37ca("0x6f9")][_0x37ca("0x398")]=e,c[_0x37ca("0x6f9")].height=t,c[_0x37ca("0x906")][_0x37ca("0x398")]=e,c[_0x37ca("0x906")][_0x37ca("0x1a8")]=t,this[_0x37ca("0x915")][x]||(this[_0x37ca("0x915")][x]={matTool:new(r[_0x37ca("0xe")])({duration:c[_0x37ca("0x1")](_0x37ca("0x1b9"))?c[_0x37ca("0x1b9")]:1,colorStr:c[_0x37ca("0x8ec")]})})}},{key:_0x37ca("0x916"),value:(a=(0,e[_0x37ca("0xe")])(_[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c,e,t,i,n,r,s,o,l,u,d,f,h,g;return _.default[_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(e=(c=this)[_0x37ca("0x36")].canvas,t=new(THREE[_0x37ca("0x416")])(e),i=c[_0x37ca("0x36")].mapOpacity,n=c[_0x37ca("0x5b")][_0x37ca("0x617")](a),r=null,t[_0x37ca("0x13a")]=!0,c[_0x37ca("0x915")][a]&&c.HeatMapMaterials[a][_0x37ca("0x917")]){x[_0x37ca("0x29a")]=7;break}return console[_0x37ca("0xca")]("应用"+a+_0x37ca("0x918")),x.abrupt(_0x37ca("0x2a0"));case 7:if(!n._hasHeatMap){x.next=16;break}return r=c.HeatMapMaterials[a][_0x37ca("0x919")],x[_0x37ca("0x29a")]=11,c.HeatMapMaterials[a][_0x37ca("0x917")][_0x37ca("0x119")](t);case 11:if(c[_0x37ca("0x915")][a]&&c.HeatMapMaterials[a][_0x37ca("0x917")][_0x37ca("0x342")]){x.next=13;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 13:c[_0x37ca("0x915")][a][_0x37ca("0x917")].shader[_0x37ca("0xff")][_0x37ca("0x570")].value.dispose(),x[_0x37ca("0x29a")]=19;break;case 16:(r=c[_0x37ca("0x915")][a][_0x37ca("0x917")][_0x37ca("0x333")](t,new(THREE[_0x37ca("0x416")])))[_0x37ca("0x11a")][_0x37ca("0x1aa")]=_0x37ca("0x91a"),c[_0x37ca("0x915")][a][_0x37ca("0x919")]=r;case 19:a!=c.building[_0x37ca("0x91b")]&&c.building[_0x37ca("0x36")][_0x37ca("0x91c")],s=n.getObjectsByAlias(_0x37ca("0x58e")),o=0;case 23:if(!(o<s[_0x37ca("0x4")])){x[_0x37ca("0x29a")]=36;break}if(l=s[o],(u=l[_0x37ca("0xa9")][0]).userData[_0x37ca("0x1aa")]!=_0x37ca("0x91a")){x.next=28;break}return x[_0x37ca("0x29f")](_0x37ca("0x5e4"),33);case 28:l[_0x37ca("0xa7")][_0x37ca("0x1a0")](_0x37ca("0x91d"),l[_0x37ca("0xa7")][_0x37ca("0x19d")]("uv")),l.geometry[_0x37ca("0x1a0")]("uv",l[_0x37ca("0xa7")][_0x37ca("0x19d")](_0x37ca("0x91e"))),l[_0x37ca("0x11a")][_0x37ca("0x91f")]=u,d=l[_0x37ca("0xa9")][1],l[_0x37ca("0xa9")]=d?[r,d]:[r];case 33:o++,x[_0x37ca("0x29a")]=23;break;case 36:f=n[_0x37ca("0x920")](["model",_0x37ca("0x593")]),h=n.getObjectsByAlias([_0x37ca("0x3e4")]),g=function(x){x[_0x37ca("0x11a")][_0x37ca("0x921")]||(x[_0x37ca("0x11a")][_0x37ca("0x921")]={transparent:x.transparent,opacity:x[_0x37ca("0xfd")],depthWrite:x[_0x37ca("0x124")]},x[_0x37ca("0xfa")]=!0,x[_0x37ca("0xfd")]=i,x[_0x37ca("0x124")]=!1)},1!=i&&h[_0x37ca("0x1f")]((function(x){x[_0x37ca("0x127")]=0,x[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")])if(x[_0x37ca("0xa9")]instanceof Array)for(var a in x.material)x.material[a]&&g(x[_0x37ca("0xa9")][a]);else g(x.material)}))})),f[_0x37ca("0x1f")]((function(x){var a=x.material,c=a[0];c[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0xfd"))||(c[_0x37ca("0x11a")][_0x37ca("0xfa")]=c[_0x37ca("0xfa")],c[_0x37ca("0x11a")][_0x37ca("0xfd")]=c.opacity),c[_0x37ca("0xfa")]=!0,c[_0x37ca("0xfd")]=i})),n[_0x37ca("0x924")]=!0;case 42:case _0x37ca("0x2dc"):return x.stop()}}),x,this)}))),function(x){return a[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0x925"),value:function(x){var a=this,c=function(x){if(x[_0x37ca("0x11a")].originalStatus){var a=x.userData[_0x37ca("0x921")];x[_0x37ca("0xfa")]=a[_0x37ca("0xfa")],x[_0x37ca("0xfd")]=a[_0x37ca("0xfd")],x[_0x37ca("0x124")]=a.depthWrite,x[_0x37ca("0x13a")]=!0,x[_0x37ca("0x39")]&&(x[_0x37ca("0x39")][_0x37ca("0x13a")]=!0),x[_0x37ca("0x11a")][_0x37ca("0x921")]=null}};if(x){var _=a[_0x37ca("0x5b")][_0x37ca("0x617")](x);if(!_[_0x37ca("0x924")]||!this[_0x37ca("0x915")][x])return;if(1!=a[_0x37ca("0x36")][_0x37ca("0x8fc")])_.getObjectsByAlias([_0x37ca("0x3e4")])[_0x37ca("0x1f")]((function(x){x.traverse((function(x){if(x.material)if(x[_0x37ca("0xa9")]instanceof Array)for(var a in x[_0x37ca("0xa9")])x[_0x37ca("0xa9")][a]&&c(x.material[a]);else c(x[_0x37ca("0xa9")])}))}));for(var e=_.getObjectsByAlias(_0x37ca("0x58e")),t=0;t<e[_0x37ca("0x4")];t++){var i=e[t];i[_0x37ca("0xa7")].addAttribute("uv",i[_0x37ca("0xa7")].getAttribute("originalUv"));var n=i[_0x37ca("0xa9")][0];n.userData.name==_0x37ca("0x91a")&&a[_0x37ca("0x915")][x][_0x37ca("0x917")][_0x37ca("0x342")]&&(a[_0x37ca("0x915")][x][_0x37ca("0x917")][_0x37ca("0x342")].uniforms[_0x37ca("0x570")]&&a.HeatMapMaterials[x].matTool.shader[_0x37ca("0xff")].texture1.value[_0x37ca("0xa8")](),a.HeatMapMaterials[x][_0x37ca("0x917")][_0x37ca("0x342")][_0x37ca("0xff")][_0x37ca("0x926")]&&a.HeatMapMaterials[x][_0x37ca("0x917")].shader[_0x37ca("0xff")].texture2[_0x37ca("0xf2")].dispose()),n.dispose(),n=null;var r=i[_0x37ca("0xa9")][1],s=i[_0x37ca("0x11a")][_0x37ca("0x91f")];s[_0x37ca("0x39")]&&(s.map[_0x37ca("0x13a")]=!0),i[_0x37ca("0xa9")]=r?[s,r]:[s],_[_0x37ca("0x920")](["model",_0x37ca("0x593")]).forEach((function(x){x[_0x37ca("0xa9")][0][_0x37ca("0xfa")]=x[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xfa")],x[_0x37ca("0xa9")][0][_0x37ca("0xfd")]=x[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xfd")]}))}this[_0x37ca("0x915")][x]=null,_._hasHeatMap=!1}}},{key:_0x37ca("0x913"),value:function(){var x=document[_0x37ca("0x22")](_0x37ca("0x6f9")),a=x[_0x37ca("0x903")]("2d");x[_0x37ca("0x398")]=1,x[_0x37ca("0x1a8")]=256;var c=this.options[_0x37ca("0x8ff")],_=a[_0x37ca("0x927")](0,0,1,256);for(var e in c)_.addColorStop(e,c[e]);return a.fillStyle=_,a[_0x37ca("0x928")](0,0,1,256),a.getImageData(0,0,1,256)[_0x37ca("0x34f")]}},{key:_0x37ca("0x929"),value:function(x,a,c){var _=this[_0x37ca("0x36")][_0x37ca("0xee")],e=_.data;c>_[_0x37ca("0x30d")]&&(_.max=c),e[_0x37ca("0x0")]([x,a,c])}},{key:_0x37ca("0x92a"),value:function(){this[_0x37ca("0x36")].points[_0x37ca("0x34f")]=[],this.clear()}},{key:"addPoint",value:function(x,a,c){if(x&&a&&c){var _=this[_0x37ca("0x8fb")](x,a);if(_){this[_0x37ca("0x910")](_.x,_.y,c),this.colorize()}}}},{key:"clear",value:function(){this[_0x37ca("0x36")][_0x37ca("0x904")][_0x37ca("0x92b")](0,0,this[_0x37ca("0x36")].width,this[_0x37ca("0x36")].height)}},{key:_0x37ca("0x92c"),value:function(){var x=this[_0x37ca("0x36")][_0x37ca("0x6f9")],a=this[_0x37ca("0x36")].copyCanvas;return{mainTexture:new(THREE[_0x37ca("0x416")])(x),copyTexture:new(THREE[_0x37ca("0x416")])(a)}}},{key:_0x37ca("0x92d"),value:function(x){var a=this;a[_0x37ca("0x69d")]();for(var c=x.length,_=0;_<c;_++){var e=x[_][_0x37ca("0xf2")];if(e){var t=this.getPixXY(x[_].x,x[_].y);if(!t)return!0;a[_0x37ca("0x910")](t.x,t.y,e,!1)}}a.colorize()}},{key:_0x37ca("0x92e"),value:function(x){var a=this,c=a.options[_0x37ca("0x398")],_=a.options[_0x37ca("0x1a8")],e=a[_0x37ca("0x36")][_0x37ca("0xee")][_0x37ca("0x30d")],t=a[_0x37ca("0x36")][_0x37ca("0x8fe")];a.clear();for(var i=0;i<x;i++){var n=Math.floor(Math.random()*c+1),r=Math[_0x37ca("0x2e")](Math.random()*_+1),s=Math[_0x37ca("0x2e")](Math[_0x37ca("0x2f")]()*e+1);a[_0x37ca("0x910")](n,r,s),t&&a[_0x37ca("0x907")](n,r,s)}a.colorize()}}]),x}();a[_0x37ca("0xe")]=o},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(8)),e=i(c(0)),t=i(c(1));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a){var c=a[_0x37ca("0x56d")],_=void 0===c?_0x37ca("0xcc"):c,t=a[_0x37ca("0x92f")],i=void 0===t||t,n=a.duration,r=void 0===n?1:n;(0,e[_0x37ca("0xe")])(this,x),this.bgColor=new(THREE[_0x37ca("0x13d")])(_),this.isShowBackground=i,this[_0x37ca("0x1b9")]=r,this[_0x37ca("0x342")]=null}return(0,t[_0x37ca("0xe")])(x,[{key:_0x37ca("0x333"),value:function(x,a){var c=this,_=new THREE.MeshBasicMaterial({color:16777215,transparent:!0});return _[_0x37ca("0xfe")]=function(_){_[_0x37ca("0xff")][_0x37ca("0x930")]={value:0},_.uniforms[_0x37ca("0x931")]={value:.8},_[_0x37ca("0xff")][_0x37ca("0x570")]={value:x},_[_0x37ca("0xff")].texture2={value:a},_[_0x37ca("0xff")][_0x37ca("0x932")]={value:c[_0x37ca("0x932")]},_[_0x37ca("0x101")]=_.vertexShader[_0x37ca("0x102")](_0x37ca("0x33d"),"\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t"),_[_0x37ca("0x101")]=_[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x104"),_0x37ca("0x933")),_[_0x37ca("0x105")]=_[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x106"),_0x37ca("0x934")+(c[_0x37ca("0x92f")]?_0x37ca("0x935"):"")+"\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                "),_[_0x37ca("0x105")]=_[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x108"),"\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                "),c.shader=_},_}},{key:"update",value:function(x){var a=this,c=this;return new(_[_0x37ca("0xe")])((function(_){x?(x[_0x37ca("0x13a")]=!0,c[_0x37ca("0x342")]?(a.shader[_0x37ca("0xff")][_0x37ca("0x926")][_0x37ca("0xf2")]=x,c[_0x37ca("0x936")]&&c[_0x37ca("0x936")][_0x37ca("0x1bc")](),c[_0x37ca("0x936")]=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])({x:0}).to({x:1},1e3*c[_0x37ca("0x1b9")])[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing.Linear[_0x37ca("0x260")]).onUpdate((function(x){c[_0x37ca("0x342")][_0x37ca("0xff")][_0x37ca("0x930")][_0x37ca("0xf2")]=x.x}))[_0x37ca("0x1c4")](_)[_0x37ca("0x1c6")]()):_()):_()}))}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=S(c(10)),e=S(c(53)),t=S(c(8)),i=S(c(12)),n=S(c(13)),r=S(c(2)),s=S(c(64)),o=S(c(4)),l=S(c(0)),u=S(c(1)),d=S(c(5)),f=S(c(6)),h=S(c(93)),g=c(11),b=c(34),v=S(c(268)),p=S(c(67)),A=S(c(68)),m=S(c(284)),C=c(19),I=S(c(134)),y=S(c(288)),E=S(c(136)),w=c(96),T=S(c(299)),k=S(c(300));function S(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var M=0,R={},L=!1,H=void 0,P=null,D=0,O=function(x){function a(x){(0,l[_0x37ca("0xe")])(this,a);var c=(0,d.default)(this,(a[_0x37ca("0x1cd")]||(0,o[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,x));c[_0x37ca("0x937")]=0,c[_0x37ca("0x938")]=!1,c[_0x37ca("0x939")]=[],c[_0x37ca("0x3be")]=[],c[_0x37ca("0x146")]=[],c[_0x37ca("0x93a")]=null,window[_0x37ca("0x39")],c[_0x37ca("0x638")]=new THREE.TextureLoader,c[_0x37ca("0x638")].crossOrigin=_0x37ca("0x741");var _=c;_[_0x37ca("0x93b")]=!1,_[_0x37ca("0x95")]=_0x37ca("0x93c"),c.controls[_0x37ca("0x93d")]=0,c[_0x37ca("0x275")][_0x37ca("0x93e")]=1,c[_0x37ca("0x275")].maxDistance=17e3,c[_0x37ca("0x36")][_0x37ca("0x23e")]&&(c[_0x37ca("0x36")][_0x37ca("0x1e6")]=!0,c[_0x37ca("0x36")].mergeModel3D=!1),c[_0x37ca("0x93f")]=!0,c[_0x37ca("0xf5")]=new(esmap[_0x37ca("0x5b7")])(c[_0x37ca("0x36")]),c.mapScene=new(esmap[_0x37ca("0x5bb")])(c,c[_0x37ca("0xf5")]),c.mapService=new(y[_0x37ca("0xe")])(c),c[_0x37ca("0x940")]=new(E[_0x37ca("0xe")])(!0,c.mapView[_0x37ca("0x941")],c[_0x37ca("0x36")]),c[_0x37ca("0x275")][_0x37ca("0x33")](_0x37ca("0x942"),c[_0x37ca("0x943")][_0x37ca("0x10")](c)),c.viewMode_="3D",c[_0x37ca("0x186")]=c[_0x37ca("0x154")][_0x37ca("0x611")],c.requireUpdateCollide_=!1,c[_0x37ca("0x944")]=new(THREE[_0x37ca("0xe2")]),c.deltaVec3=new(THREE[_0x37ca("0xe2")]),c[_0x37ca("0x945")]=new(esmap[_0x37ca("0x946")])(c),c[_0x37ca("0x947")]=new(m[_0x37ca("0xe")])(c,c[_0x37ca("0x275")]),c.hideRecord={},c.DEFAULT_COORDSYSTEM=_0x37ca("0x1e7"),(e=c).on(_0x37ca("0x948"),(function(){e.updateTileView()})),c.scaleLevels_=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],c[_0x37ca("0x949")]=12,c[_0x37ca("0x94a")]=new THREE.Clock,c[_0x37ca("0x94b")]=new(THREE[_0x37ca("0x21c")]),c[_0x37ca("0x94c")]=1,c[_0x37ca("0x94d")]={},c.animatque=[],c[_0x37ca("0x94e")]=0,c[_0x37ca("0x27e")]=!0,c[_0x37ca("0x94f")]={},c.focusBuilding=null,c[_0x37ca("0x628")]=[],esmap[_0x37ca("0x34")][_0x37ca("0x35")]=c;var e=c;c.on("resize",c[_0x37ca("0x950")]),c[_0x37ca("0x940")][_0x37ca("0xea")](),c.MapInited=!1,c[_0x37ca("0x951")]=16,c[_0x37ca("0x609")]=new(THREE[_0x37ca("0x702")])(c[_0x37ca("0x186")],c.mapView[_0x37ca("0x1ed")]),c.firstPersonAnimating=!1,c[_0x37ca("0x609")].enabled=!1,esmap.TWEEN.map=c,c[_0x37ca("0x952")](),c[_0x37ca("0x953")]=g[_0x37ca("0x954")],c.on(_0x37ca("0x955"),(function(x){e[_0x37ca("0x609")].update(x),esmap.TWEEN.update()})),c.on(_0x37ca("0x12d"),(function(){_[_0x37ca("0x93b")]||(_[_0x37ca("0x93b")]=!0)})),c.on("loadComplete",(function(){c[_0x37ca("0x36")][_0x37ca("0x956")]&&(c[_0x37ca("0x182")][_0x37ca("0x956")]=!0)})),c.on(_0x37ca("0x957"),(function(){c[_0x37ca("0x36")][_0x37ca("0x956")]&&(c[_0x37ca("0x182")][_0x37ca("0x956")]=!0)})),c.on("viewModeChanged",(function(){c[_0x37ca("0x36")][_0x37ca("0x956")]&&(c[_0x37ca("0x182")][_0x37ca("0x956")]=!0)})),c[_0x37ca("0x958")]=new esmap.ESMapGestureController(c[_0x37ca("0x182")],c[_0x37ca("0x275")]),c[_0x37ca("0x959")]=[],c[_0x37ca("0x95a")]=c.moveTo;var t=new CustomEvent(_0x37ca("0x95b"),{});return window[_0x37ca("0x42")](t),c}var v,S,O,B;return(0,f[_0x37ca("0xe")])(a,x),(0,u[_0x37ca("0xe")])(a,[{key:_0x37ca("0x95c"),value:function(){this.cssFuncs.forEach((function(x){x()}))}},{key:"initLocalScaleLevels",value:function(){for(var x=this[_0x37ca("0x36")][_0x37ca("0x95d")],a=(24-x)/24,c=[],_=0;_<24;_++)c[_0x37ca("0x0")](x+_*a);c=c.reverse(),this[_0x37ca("0x95e")]=c}},{key:_0x37ca("0x95f"),value:function(x){var a=this[_0x37ca("0x960")][x];for(var c in a){var _=a[c],e=this[_0x37ca("0x315")](c);e||(a[c]=null);var t=e[_0x37ca("0x14e")][_0x37ca("0x193")](esmap.ESLayerType.MODEL);if(t[0])for(var i=(t=t[0])[_0x37ca("0xa5")][_0x37ca("0xa6")],n=0;n<i.length;n++)for(var r=i[n],s=r.datas_[_0x37ca("0x331")],o=r[_0x37ca("0xa7")],l=0;l<s.length;l++){var u=s[l],d=_[_0x37ca("0xda")](u.ID);d>-1&&(_.splice(d,1),o[_0x37ca("0x54e")](u.ID))}}this.hideRecord[x]=null}},{key:_0x37ca("0x961"),value:function(x){var a=this;if(!a[_0x37ca("0x962")]){for(var c in a.firstPersonControls[_0x37ca("0x719")]=!1,a.firstPersonControls[_0x37ca("0x963")]=0,a[_0x37ca("0x609")][_0x37ca("0x71a")]=null,a[_0x37ca("0x609")][_0x37ca("0x71c")]=0,a[_0x37ca("0x964")])a.toClearId[c]&&a[_0x37ca("0x964")][c].stop();a[_0x37ca("0x964")]=[],x[_0x37ca("0x965")]?(x[_0x37ca("0x966")]&&this[_0x37ca("0x26c")]({angle:a[_0x37ca("0x967")][_0x37ca("0x968")]}),a.firstPersonMode=!1,x[_0x37ca("0x966")]?new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a).to({tiltAngle:a[_0x37ca("0x967")][_0x37ca("0x969")]},1e3)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")].Linear[_0x37ca("0x260")]).onComplete((function(){a.scaleLevelTo(a[_0x37ca("0x967")].originalScaleLevel,{callback:function(){esmap[_0x37ca("0x7b")].setControlsInfo(a.beforeCruiseState[_0x37ca("0x96a")]),_()}})}))[_0x37ca("0x1c6")]():_()):_()}function _(){x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]()}}},{key:"getModelInfo",value:function(x){for(var a=x.id,c=x[_0x37ca("0x62f")],_=0;_<this[_0x37ca("0x14c")][_0x37ca("0x96b")].length;_++){var e=this.mapScene[_0x37ca("0x96b")][_];if(e.id===a||e[_0x37ca("0x62f")]===c)return e}return null}},{key:_0x37ca("0x96c"),value:function(x){var a=null;function c(x,a){var c=new(THREE[_0x37ca("0xe2")])(0,0,1),_=new THREE.Vector3(x.x,0,x.y),e=new THREE.Vector3(a.x,0,a.y)[_0x37ca("0xde")]()[_0x37ca("0x2d7")](_)[_0x37ca("0x2d8")](),t=e[_0x37ca("0x248")](c)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")];return e[_0x37ca("0xde")]().cross(c).y>0?360-t:t}function _(x,i){if(x!=i[_0x37ca("0x4")]){var n=(0,g[_0x37ca("0xbd")])(i[x-1],i[x])/(i[x-1][_0x37ca("0x2f3")]||t[_0x37ca("0x2f3")]);!function(){if(0!=e[_0x37ca("0x609")][_0x37ca("0x719")]){var r={x:i[x-1].x,y:i[x-1].y},s={x:i[x].x,y:i[x].y};i[x][_0x37ca("0x832")]&&esmap[_0x37ca("0x7b")][_0x37ca("0x5e5")](e,_0x37ca("0x62c"),{nodeType:esmap.ESNodeType[_0x37ca("0x217")],ID:i[x][_0x37ca("0x832")].id},(function(a){a.length>0&&a[0][_0x37ca("0x27c")](i[x].animation[_0x37ca("0x750")])}));var o=c(r,s),l=!1;null!=a&&Math[_0x37ca("0x24e")](a-o)>10&&(l=!0),a=o;var u=90-o;l&&e[_0x37ca("0x26c")]({angle:u,time:t[_0x37ca("0x96d")]});var d=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(r).to(s,1e3*n).easing(esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(a){i[x-1].x,i[x-1].y;var c={x:i[x-1].x+a[_0x37ca("0xf2")]*(i[x].x-i[x-1].x),y:i[x-1].y+a.value*(i[x].y-i[x-1].y)};e.firstPersonControls[_0x37ca("0x71a")]=c})).onComplete((function(){_(x+=1,i)}))[_0x37ca("0x1c6")]();e.toClearId[_0x37ca("0x0")](d)}}()}else e[_0x37ca("0x961")]({callback:t[_0x37ca("0x96e")],needAnimate:t.easeOut})}var e=this;e[_0x37ca("0x964")]=[];var t=(0,r[_0x37ca("0xe")])({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:e.focusFloorNum,scaleRate:.025,height:2},x),i=x[_0x37ca("0xee")];e[_0x37ca("0x967")]={originalControlState:esmap.ESMapUtil[_0x37ca("0x96f")](),originalScaleLevel:map.scaleLevel,originalTiltAngle:map[_0x37ca("0x2f6")],originalRotateAngle:map.rotateAngle};var n=c(i[0],i[1]);function s(){t[_0x37ca("0x972")]&&t.beforeStart(),e[_0x37ca("0x962")]=!1;var x=e[_0x37ca("0x275")][_0x37ca("0xc")].position[_0x37ca("0xde")]();e.controls.enabled=!1,e[_0x37ca("0x973")]=!0,e[_0x37ca("0x609")][_0x37ca("0x736")]=t.userIntersecting,e.firstPersonControls[_0x37ca("0x731")]=1,e.firstPersonControls.lookSpeed=t[_0x37ca("0x735")],e[_0x37ca("0x609")][_0x37ca("0x974")]=!1,e[_0x37ca("0x609")].lookVertical=t.lookVertical,e[_0x37ca("0x609")][_0x37ca("0x719")]=!0,o[_0x37ca("0x975")]({x:x.x,y:x.z}),_(1,o)}e.firstPersonAnimating=!0,t.easeIn?map[_0x37ca("0x250")]({time:1,x:i[0].x,y:i[0].y,callback:function(){e[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0x268")](new(THREE[_0x37ca("0xe2")])(-i[0].x,t.height,i[0].y)),e[_0x37ca("0x275")].update(),map[_0x37ca("0x26c")]({angle:n,time:.5,onComplete:function(){map[_0x37ca("0x36")][_0x37ca("0x970")]?map[_0x37ca("0x275")].pointToPointAnimate(19,4e3,(function(){new(esmap.TWEEN[_0x37ca("0x1bd")])(e).to({tiltAngle:89},1e3).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")]).onComplete((function(){s()}))[_0x37ca("0x1c6")]()})):map[_0x37ca("0x971")](t.scaleRate,{time:1,rawLevel:!0,callback:function(){new(esmap.TWEEN[_0x37ca("0x1bd")])(e).to({tiltAngle:89},1e3)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")]).onComplete((function(){s()}))[_0x37ca("0x1c6")]()}})}})}}):s();var o=[];i[_0x37ca("0x1f")]((function(x){o.push({x:-x.x,y:x.y,speed:x[_0x37ca("0x2f3")]||null,animation:x[_0x37ca("0x832")]||null})}))}},{key:_0x37ca("0x976"),value:function(){var x=[];this[_0x37ca("0x154")][_0x37ca("0x977")]=1;var a=new THREE.CSS3DRenderer;this[_0x37ca("0x154")][_0x37ca("0x978")]=a;var c=this[_0x37ca("0x186")],_=new(THREE[_0x37ca("0x886")])(c[_0x37ca("0x614")],c.aspect,1*c.near,1*c[_0x37ca("0x3c3")]),e=this;x.push((function(){_[_0x37ca("0x268")](c),L?(e[_0x37ca("0x979")][_0x37ca("0x8b2")](c[_0x37ca("0xb8")],e[_0x37ca("0x944")]),_[_0x37ca("0xb8")][_0x37ca("0x268")](e[_0x37ca("0x979")]).multiplyScalar(1)):(e[_0x37ca("0x944")][_0x37ca("0x268")](c[_0x37ca("0xb8")]),L=!0)})),this.mapView.cssCamera=_;var t=new(THREE[_0x37ca("0x3d0")]);this[_0x37ca("0x154")].cssScene=t,this[_0x37ca("0x97a")]=!0,x[_0x37ca("0x0")](function(){!0===this[_0x37ca("0x97a")]&&t.traverse((function(x){if(x instanceof THREE.Scene!=!0){var a=x.userData[_0x37ca("0x97b")];void 0!==a&&a[_0x37ca("0x119")]()}}))}[_0x37ca("0x10")](this)),x[_0x37ca("0x0")]((function(x,c){a.render(t,_)})),this[_0x37ca("0x97c")]=x}},{key:_0x37ca("0x950"),value:function(x){this[_0x37ca("0x940")][_0x37ca("0x40c")](x[_0x37ca("0x398")],x[_0x37ca("0x1a8")])}},{key:_0x37ca("0x97d"),value:function(x){var a=null;if(!this[_0x37ca("0xf0")](x)){var c=(new Date).getTime();this[_0x37ca("0x97e")]?a=c-this.tl_:this[_0x37ca("0x97e")]=c,this[_0x37ca("0x97e")]=c,a&&a<=1e3&&console[_0x37ca("0x29d")](esmap[_0x37ca("0x29e")][_0x37ca("0x97f")]),esmap[_0x37ca("0x34")][_0x37ca("0x980")]?this[_0x37ca("0x157")][_0x37ca("0x981")]=x:this[_0x37ca("0x982")]({id:x})}}},{key:_0x37ca("0x250"),value:function(x){if(x){var a=this,c=this.mapView.camera.position[_0x37ca("0xde")]();c.y=this.controls[_0x37ca("0x276")].y;var _=this.coordMapToThree({x:x.x,y:x.y});_.y=c.y;var e=a[_0x37ca("0x275")][_0x37ca("0x276")].clone(),t=_[_0x37ca("0xde")]()[_0x37ca("0x2d7")](e);this.__moveToId&&this.__moveToId[_0x37ca("0x1bc")](),this[_0x37ca("0x93a")]=esmap.TWEEN[_0x37ca("0x983")](null==x[_0x37ca("0x1ba")]?a[_0x37ca("0x36")][_0x37ca("0x1fa")]?a[_0x37ca("0x36")][_0x37ca("0x1fb")]:0:x[_0x37ca("0x1ba")],(function(x){var _=e[_0x37ca("0xde")]()[_0x37ca("0xe0")](t[_0x37ca("0xde")]()[_0x37ca("0x26b")](x.value));a[_0x37ca("0x275")][_0x37ca("0x276")].x=_.x,a[_0x37ca("0x275")].target.z=_.z,_0x37ca("0x173")==a[_0x37ca("0x610")]&&a[_0x37ca("0x154")][_0x37ca("0x611")].position.copy(c.clone()[_0x37ca("0xe0")](t.clone()[_0x37ca("0x26b")](x[_0x37ca("0xf2")]))),a.controls[_0x37ca("0x119")]({forceTheta:a[_0x37ca("0x275")].getAzimuthalAngle(),forcePhi:a.controls[_0x37ca("0x2e7")]()})}),esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1bf")],(function(){a[_0x37ca("0x2e6")](),x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]()}))}}},{key:_0x37ca("0x984"),value:function(x){for(var a=this,c=this[_0x37ca("0xf0")](x),_=0;_<this[_0x37ca("0x628")][_0x37ca("0x4")];_++)if(this[_0x37ca("0x628")][_].id==x){this[_0x37ca("0x628")][_0x37ca("0x5")](_,1);break}var e=c[_0x37ca("0x985")];for(var t in e.toHandle={},e[_0x37ca("0x986")]={},e.baseLayers={},e[_0x37ca("0x987")]={},this[_0x37ca("0x610")]={mode:"3D",time:0,init:!1},e.modelImageDatas=[],e[_0x37ca("0x988")]=[],e.modelLineLayers={},e[_0x37ca("0x989")]={},e[_0x37ca("0x98a")]={},e[_0x37ca("0x98b")]={},e[_0x37ca("0x98c")]=!1,e.dynamicShows={},c[_0x37ca("0x14f")][_0x37ca("0x29c")]={},c[_0x37ca("0x14f")].queue=[],c.modelLoadManager[_0x37ca("0x98d")]=[],c[_0x37ca("0x14f")][_0x37ca("0x27f")]=!1,c[_0x37ca("0x14f")].viewRangeUpdated=!1,e[_0x37ca("0x98e")]=!1,c[_0x37ca("0x98f")]=!1,c[_0x37ca("0x990")])for(var i=c[_0x37ca("0x990")][t],n=0;n<i[_0x37ca("0xa6")].length;n++)for(var r=i[_0x37ca("0xa6")][n],s=0;s<r[_0x37ca("0xa6")][_0x37ca("0x4")];s++)r.remove(r.children[s]),s--;this.mapTheme.logomatlist_={},this.on("updateLts",(function(x){a[_0x37ca("0x609")].update(x),esmap[_0x37ca("0x1c1")][_0x37ca("0x119")]()})),c[_0x37ca("0xa5")][_0x37ca("0xbb")][_0x37ca("0x147")](c[_0x37ca("0xa5")]),this[_0x37ca("0x14c")][_0x37ca("0x69d")](c[_0x37ca("0xa5")])}},{key:_0x37ca("0x991"),value:function(x){this.mapService[_0x37ca("0x81e")].mapId=x,this[_0x37ca("0x992")]({id:x})}},{key:_0x37ca("0x993"),value:function(){this[_0x37ca("0x157")][_0x37ca("0x2ae")](),this[_0x37ca("0x163")][_0x37ca("0x2ae")](),this[_0x37ca("0x994")]=!1}},{key:_0x37ca("0x992"),value:(B=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c,_,e,t,n,r,s,o,l,u,d=this;return i.default[_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(c=a.id,_=new CustomEvent(_0x37ca("0x995"),{detail:{id:c}}),window[_0x37ca("0x42")](_),e=this.options,esmap[_0x37ca("0x34")][_0x37ca("0x980")]=!0,this[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building?this[_0x37ca("0x275")][_0x37ca("0x996")]=Math.PI/2.2:this[_0x37ca("0x275")].maxPolarAngle=Math.PI/2.5,e[_0x37ca("0x37")]!==esmap.MapMode[_0x37ca("0x210")]){x[_0x37ca("0x29a")]=34;break}return this.id&&(this._clearListeners(_0x37ca("0x119")),this[_0x37ca("0x984")](this.id)),this.id=c,this[_0x37ca("0x180")]=_0x37ca("0x1e7"),(t=(0,w[_0x37ca("0x1e0")])(this[_0x37ca("0x36")])).id=c,x[_0x37ca("0x29a")]=14,this[_0x37ca("0x163")][_0x37ca("0x997")](t);case 14:n=x.sent,r=n[_0x37ca("0x169")],this.fire(_0x37ca("0x998"),{bid:c,data:r[_0x37ca("0x42e")]}),this[_0x37ca("0x999")][_0x37ca("0x18f")][c]=r[_0x37ca("0x42e")],this[_0x37ca("0x99a")]=n[_0x37ca("0x99a")],this.mode==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]&&(this[_0x37ca("0x163")][_0x37ca("0x99b")](_0x37ca("0x99c"),r[_0x37ca("0x1aa")]),this[_0x37ca("0x163")].setState(_0x37ca("0x99d"),r[_0x37ca("0x431")])),this[_0x37ca("0x14c")][_0x37ca("0x99e")]=n,this[_0x37ca("0x99f")]=n,this[_0x37ca("0x14c")][_0x37ca("0x9a0")]({maxX:r[_0x37ca("0x453")],maxY:r[_0x37ca("0x440")],minX:r[_0x37ca("0x43e")],minY:r[_0x37ca("0x43f")],centerX:r.DefaultCenX,centerY:r[_0x37ca("0x43d")]},!0,r),this[_0x37ca("0x154")][_0x37ca("0xe5")]={x:r.DefaultCenX,y:r[_0x37ca("0x43d")]},this[_0x37ca("0x9a1")](),this[_0x37ca("0x9a2")](n)||(null!=this[_0x37ca("0x36")].defaultScaleLevel?this[_0x37ca("0x275")][_0x37ca("0x277")](this[_0x37ca("0x99a")][this[_0x37ca("0x36")][_0x37ca("0x1ff")]]):null!=this[_0x37ca("0x36")][_0x37ca("0x156")]?this.mapView.zoomLevel=this[_0x37ca("0x36")][_0x37ca("0x156")]:this.controls[_0x37ca("0x277")](this[_0x37ca("0x99a")][r.Firstscale])),s=this[_0x37ca("0x36")][_0x37ca("0x885")]?0:1,this[_0x37ca("0xf5")].clearTrans_=s,null==this[_0x37ca("0xf5")].userBgColor&&this[_0x37ca("0x9a3")](this[_0x37ca("0xf5")][_0x37ca("0x9a4")],s),this[_0x37ca("0x9a5")](),this[_0x37ca("0x9a6")](),x[_0x37ca("0x29a")]=72;break;case 34:if(e.mode!==esmap.MapMode.City){x.next=72;break}return this.id=c,this[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xea")](),x[_0x37ca("0x29a")]=39,this[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x9a7")]();case 39:if(x[_0x37ca("0x5dc")]){x[_0x37ca("0x29a")]=42;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 42:return this.options[_0x37ca("0xe5")]&&(o=this.coordMapToThree(this[_0x37ca("0x36")][_0x37ca("0xe5")]),this.controls.target.x=o.x,this[_0x37ca("0x275")][_0x37ca("0x276")].z=o.z),l=this.options[_0x37ca("0x1f8")]||0,this[_0x37ca("0x24d")]=l,u=null==this[_0x37ca("0x36")].defaultTiltAngle?60:this[_0x37ca("0x36")].defaultTiltAngle,this[_0x37ca("0x2f6")]=u,this.mapService[_0x37ca("0x81e")][_0x37ca("0xea")](e.id),x[_0x37ca("0x299")]=48,x[_0x37ca("0x29a")]=51,this[_0x37ca("0x163")].tileService[_0x37ca("0x9a8")]("json");case 51:x[_0x37ca("0x29a")]=57;break;case 53:return x.prev=53,x.t0=x.catch(48),x.t0,x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 57:return this.on("modelLoadComplete",(function(){if(0==d[_0x37ca("0x157")].solvingList[_0x37ca("0x4")]&&0==d.tileService[_0x37ca("0x9a9")].length){var x=d[_0x37ca("0x9aa")],a=!0;for(var c in x){var _=x[c],e=_[_0x37ca("0x14f")][_0x37ca("0x9ab")][_0x37ca("0x4")],t=_[_0x37ca("0x14f")].requisitesQueue[_0x37ca("0x4")],i=0;for(var n in _[_0x37ca("0x14f")][_0x37ca("0x9ac")]){var r=_.modelLoadManager.mergeQueue[n];for(var s in r)i+=r[s][_0x37ca("0x4")]}if(e>0||t>0||i>0){a=!1;break}}d.mapService.modelLoadedAll||!a||d[_0x37ca("0x157")][_0x37ca("0x981")]||(d.mapService[_0x37ca("0x9ad")]=!0,d[_0x37ca("0x1da")](_0x37ca("0x9ae")),d[_0x37ca("0x1da")](_0x37ca("0x9ad"),{bid:d.id}))}})),x.prev=58,x[_0x37ca("0x29a")]=61,this[_0x37ca("0x157")].tryFetchBoundary();case 61:x.next=65;break;case 63:x.prev=63,x.t1=x[_0x37ca("0x828")](58);case 65:return x[_0x37ca("0x299")]=65,this[_0x37ca("0x9a1")](),this.initMap(),this.tileService[_0x37ca("0x981")]?(this[_0x37ca("0x163")]._disableTileUpdate=!0,this[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xed")]=!1,this[_0x37ca("0x157")][_0x37ca("0x982")]({mapId:this.tileService[_0x37ca("0x981")]},null,!0,!1)[_0x37ca("0x792")]((function(x){console[_0x37ca("0x23b")](_0x37ca("0x9af"),x),console[_0x37ca("0x23b")](_0x37ca("0x9b0")),d[_0x37ca("0x9a2")](x)||(null!=d[_0x37ca("0x36")][_0x37ca("0x1ff")]?d[_0x37ca("0x275")].setScaleLevelValue(d.scaleLevels_[d[_0x37ca("0x36")].defaultScaleLevel]):d[_0x37ca("0x275")][_0x37ca("0x277")](d[_0x37ca("0x99a")][x[_0x37ca("0x169")][_0x37ca("0x43a")]]))})),this.once(_0x37ca("0x9b1"),(function(x){x[_0x37ca("0xef")]===d.tileService.preLoadBuildingId&&(d.mapService[_0x37ca("0x9b2")]=!1,esmap.ESTileMap&&esmap.ESTileMap[_0x37ca("0x9b3")][_0x37ca("0x9b4")](!0),d.mapScene[_0x37ca("0x1ae")][_0x37ca("0xed")]=!0,d.tileService.preLoadBuildingId=null,d[_0x37ca("0x9b5")](),d[_0x37ca("0x93b")]=!0,d[_0x37ca("0x275")].unsetScaleLevel())}))):(this[_0x37ca("0x9b5")](),this[_0x37ca("0x93b")]=!0),this.on(_0x37ca("0x9b6"),(function(){D+=1})),this.on(_0x37ca("0x9b7"),(function(){D-=1})),x[_0x37ca("0x9b8")](65);case 72:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this,[[48,53],[58,63,65,72]])}))),function(x){return B[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0x9b9"),value:function(){var x=this;return new(t[_0x37ca("0xe")])((function(a,c){var _,e;0==x[_0x37ca("0x36")].lang?R[0]?_=R[0]:(e=x[_0x37ca("0x36")][_0x37ca("0x9ba")]+"/"+_0x37ca("0x9bb"),(_=new T.default({speed:1}))[_0x37ca("0xea")](e,(function(){})),R[0]=_):R[x[_0x37ca("0x36")][_0x37ca("0x70")]]?_=R[x[_0x37ca("0x36")][_0x37ca("0x70")]]:(e=x[_0x37ca("0x36")][_0x37ca("0x9ba")]+_0x37ca("0x9bc")+x[_0x37ca("0x36")][_0x37ca("0x70")]+".mp3",(_=new k.default({speed:1}))[_0x37ca("0xea")](e,(function(){})),R[x.options[_0x37ca("0x70")]]=_),x[_0x37ca("0x9bd")]=_})).catch((function(x){console[_0x37ca("0x29d")](esmap[_0x37ca("0x29e")][_0x37ca("0x9be")])}))}},{key:_0x37ca("0x9bf"),value:function(x){this[_0x37ca("0xf5")][_0x37ca("0x9c0")][_0x37ca("0x1f")]((function(a){a[_0x37ca("0xed")]=x}))}},{key:_0x37ca("0x982"),value:function(x){if(this[_0x37ca("0x157")].cacheBuildings[x.id]){var a=this[_0x37ca("0x157")][_0x37ca("0x9c1")][x.id],c=a[_0x37ca("0xa4")],_=c[_0x37ca("0x9c2")];return _&&(6==_[_0x37ca("0xc8")]?_[_0x37ca("0xa5")]?esmap.ESMapUtil.setAlpha({target:_[_0x37ca("0xa5")],alpha:.1,hideOnComplete:!0,time:1.5}):_[_0x37ca("0xed")]=!1:5==_.nodeType&&(_.height=1e4)),this[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0xe0")](a),this[_0x37ca("0x36")][_0x37ca("0x9c4")]&&(this[_0x37ca("0x163")][_0x37ca("0x603")]("tilePlanished")?a.datas_.enter(!0):a[_0x37ca("0xa4")][_0x37ca("0x9c5")]()),this[_0x37ca("0x628")][_0x37ca("0x0")](a[_0x37ca("0xa4")]),a[_0x37ca("0xed")]=!0,this[_0x37ca("0x1da")](_0x37ca("0x9b7"),a.datas_),void c[_0x37ca("0x242")](_0x37ca("0x9ad"),{bid:c.id})}var e=x.id,t=x[_0x37ca("0x250")],i=void 0===t||t,n=x.moveComplete,r=(x.x,x.y,x[_0x37ca("0x9c6")],x[_0x37ca("0x9c7")],this[_0x37ca("0x157")].bidList[e]),s=this;if(r){var o={x:r.x,y:r.y,callback:function(){s[_0x37ca("0x2e6")](),s[_0x37ca("0x157")][_0x37ca("0x9c8")](),n&&n()}};i?(s[_0x37ca("0x250")](o),s.tileService[_0x37ca("0x9c9")][_0x37ca("0xda")](e)<0&&s[_0x37ca("0x157")][_0x37ca("0x9c9")][_0x37ca("0x0")](e)):(s[_0x37ca("0x157")][_0x37ca("0x9c9")][_0x37ca("0xda")](e)<0&&s[_0x37ca("0x157")][_0x37ca("0x9c9")][_0x37ca("0x0")](e),s.updateTileView(),s[_0x37ca("0x157")].checkToLoadedBuildings())}else console[_0x37ca("0xca")](_0x37ca("0x9ca"))}},{key:_0x37ca("0x9cb"),value:function(x){this[_0x37ca("0x94e")]++;this.loadTile_(x)}},{key:_0x37ca("0x9cc"),value:function(x){for(var a=this.getBuildingById(0),c=a[_0x37ca("0xa5")][_0x37ca("0xa6")],_=0;_<c[_0x37ca("0x4")];_++)if(c[_].datas_){var e=c[_][_0x37ca("0xa4")];if(e.ID&&e.ID==x){for(var t=0;t<c[_][_0x37ca("0xa6")].length;t++){var i=c[_][_0x37ca("0xa6")][t],n=this[_0x37ca("0x182")][_0x37ca("0x18d")].default[_0x37ca("0xda")](i);i[_0x37ca("0x57a")]=null,i[_0x37ca("0xa8")](),i[_0x37ca("0x39")]=null,i=null,n>-1&&this.mapPicker[_0x37ca("0x18d")][_0x37ca("0xe")][_0x37ca("0x5")](n,1)}return void a[_0x37ca("0xa5")][_0x37ca("0x147")](c[_])}}}},{key:_0x37ca("0x9cd"),value:function(){var x=this[_0x37ca("0xf0")](0);if(x){for(var a=x[_0x37ca("0xa5")][_0x37ca("0xa6")],c=0;c<a[_0x37ca("0x4")];c++){var _=a[c];if(a[c][_0x37ca("0xa4")]&&35==a[c][_0x37ca("0xa4")].nodeType){for(var e=0;e<_.children[_0x37ca("0x4")];e++){var t=_[_0x37ca("0xa6")][e];_[_0x37ca("0x147")](t),e--}x[_0x37ca("0xa5")][_0x37ca("0x147")](a[c]),c--}}for(var i=this[_0x37ca("0x182")][_0x37ca("0x18d")][_0x37ca("0xe")],n=0;n<i[_0x37ca("0x4")];n++)21==i[n][_0x37ca("0xc8")]&&(i[_0x37ca("0x5")](n,1),n--)}}},{key:_0x37ca("0x9ce"),value:function(x,a){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function _(a){x.o3d_[_0x37ca("0xe0")](a);e[_0x37ca("0xf0")](a.bid);a[_0x37ca("0xa9")][_0x37ca("0xed")]=!0,e[_0x37ca("0x9cf")](!0),t.pickable&&!x[_0x37ca("0xa5")].userData[_0x37ca("0x9d0")]&&(x.o3d_[_0x37ca("0x11a")][_0x37ca("0x9d0")]=!0,e.mapPicker[_0x37ca("0x183")](a)),null!=t.height&&(a.position.y+=t[_0x37ca("0x1a8")]),t.offsetHeight=(0,g[_0x37ca("0x1b8")])(t,_0x37ca("0x28"),0),a[_0x37ca("0xb8")].y+=t[_0x37ca("0x28")],a[_0x37ca("0x11a")][_0x37ca("0x9d1")]=a[_0x37ca("0xb8")].y}var e=this,t=x[_0x37ca("0x24")]||e.mapTheme.navigateStyle_;t[_0x37ca("0x9d2")]=null!=t[_0x37ca("0x9d2")]&&t.smooth,t[_0x37ca("0x63f")]=t[_0x37ca("0x63f")]||null;var i=e._analyseRawPoints(x[_0x37ca("0xee")]);if(!i){console.info(_0x37ca("0x9d3")),e[_0x37ca("0x14c")][_0x37ca("0x9d4")][_0x37ca("0xe0")](x[_0x37ca("0xa5")]);var n=void 0;if(t[_0x37ca("0x9d5")]==_0x37ca("0x56b"))n=new(p[_0x37ca("0xe")])([],t,!1);else{var s=(0,r.default)({doubleSide:!0},t);n=new(esmap[_0x37ca("0x5d6")])([],s,{},0)}return _(n),void(a&&a(n))}var o,l,u=i[0],d=u.map((function(x){return(0,r.default)(new THREE.Vector3,x)}));o=x[_0x37ca("0xef")]?e[_0x37ca("0xf0")](x[_0x37ca("0xef")]):e[_0x37ca("0xf0")](0),c&&o[_0x37ca("0xa5")][_0x37ca("0xe0")](x[_0x37ca("0xa5")]);var f=t[_0x37ca("0x9d6")]||!0;t[_0x37ca("0x9d2")]||esmap.ESMapUtil.interpolatePoints(u),l=t[_0x37ca("0x9d2")]?esmap[_0x37ca("0x641")][_0x37ca("0x5f9")](u,8,t[_0x37ca("0x9d7")]||.2,f):u;for(var h=[],b=[],v=0;v<l[_0x37ca("0x4")]-1;v++){var A=l[v][_0x37ca("0xef")],m=l[v+1].bid,C=h[h[_0x37ca("0x4")]-1],I=b[b[_0x37ca("0x4")]-1];if(A==m)I!=A&&(b[_0x37ca("0x0")](A),h[_0x37ca("0x0")]([]),(C=h[h.length-1])[_0x37ca("0x0")](l[v])),C||(h.push([]),C=h[h[_0x37ca("0x4")]-1]),C.push(l[v+1]);else{b[_0x37ca("0x0")](A+_0x37ca("0x9d8")+m);var y=l[v][_0x37ca("0xde")]();y[_0x37ca("0xe6")]=l[v][_0x37ca("0xe6")],y[_0x37ca("0xef")]=l[v][_0x37ca("0xef")];var E=l[v+1][_0x37ca("0xde")]();E[_0x37ca("0xe6")]=l[v+1][_0x37ca("0xe6")],E[_0x37ca("0xef")]=l[v+1][_0x37ca("0xef")],h.push([y,E])}}for(var w=0;w<b.length;w++){for(var T=h[w],k=[],S=[],M=0;M<T.length-1;M++){var R=T[M][_0x37ca("0xe6")],L=T[M+1].fnum,H=k[k[_0x37ca("0x4")]-1],P=S[S[_0x37ca("0x4")]-1];R==L?(P!=R&&(S[_0x37ca("0x0")](R),k.push([]),(H=k[k[_0x37ca("0x4")]-1]).push(T[M])),H||(k[_0x37ca("0x0")]([]),H=k[k[_0x37ca("0x4")]-1]),H[_0x37ca("0x0")](T[M+1])):(S[_0x37ca("0x0")](R+_0x37ca("0x9d8")+L),k.push([T[M],T[M+1]]))}for(var D=-1,O=0;O<S.length;O++){var B=S[O]+"",N=b[w]+"",F="",z=!1;B[_0x37ca("0xda")](_0x37ca("0x9d8"))>-1&&N.indexOf("-&-")<0?(z=!0,F="crossFnums"+B,!0):N[_0x37ca("0xda")]("-&-")>-1&&(z=!0,F=_0x37ca("0x9d9")+N);var j=k[O];if(j&&0!=j[_0x37ca("0x4")]){D+=1;for(var X,Y=0,U=S[O],G=!1,Q=1;Q<d.length;Q++){var V=d[Q-1],W=d[Q];if(V.bid==N&&W[_0x37ca("0xef")]==N&&V[_0x37ca("0xe6")]==U&&W[_0x37ca("0xe6")]==U)Y+=(0,g.DistanceofTwoPtsZ)(V,W),G||(G=!0);else if(G)break}if(t[_0x37ca("0x9d5")]==_0x37ca("0x56b"))(X=new(p[_0x37ca("0xe")])(j,t,z))[_0x37ca("0x9da")]=N;else{var Z=(0,r.default)({doubleSide:!0},t);z&&(Z[_0x37ca("0x2d2")]=!0),(X=new(esmap[_0x37ca("0x5d6")])(j,Z,{},D)).bid_=N}Y&&(X.originalLength=Y),X[_0x37ca("0x1aa")]=z?F:b[w]+"",_(X),a&&a(X)}}}}},{key:"screenshot",value:function(x){var a=this,c=(0,r[_0x37ca("0xe")])({newTab:!1,filename:_0x37ca("0x9db"),download:!0,width:a[_0x37ca("0x154")].w_,height:a[_0x37ca("0x154")].h_},x),_=[a[_0x37ca("0x154")].w_,a.mapView.h_];if((c[_0x37ca("0x398")]>a[_0x37ca("0x154")].w_||c[_0x37ca("0x1a8")]>a[_0x37ca("0x154")].h_)&&(this[_0x37ca("0x163")][_0x37ca("0x603")]("ul")>>1&1||0)<1)return void console[_0x37ca("0x29d")](esmap.ESInfo[_0x37ca("0x9dc")]);a[_0x37ca("0x154")][_0x37ca("0x9dd")](c[_0x37ca("0x398")],c[_0x37ca("0x1a8")]),a.mapView.renderer[_0x37ca("0x69d")](),"3D"==a.viewMode_?a[_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0x578")](a[_0x37ca("0x154")][_0x37ca("0xb5")],a[_0x37ca("0x154")][_0x37ca("0x611")]):a.mapView.renderer.render(a[_0x37ca("0x154")][_0x37ca("0xb5")],a[_0x37ca("0x154")][_0x37ca("0x9de")]),a.mapView[_0x37ca("0x693")][_0x37ca("0x6b1")](),a.mapView[_0x37ca("0x693")][_0x37ca("0x578")](a[_0x37ca("0x154")][_0x37ca("0x941")],a[_0x37ca("0x154")][_0x37ca("0x9df")]);var e=a[_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0x31a")][_0x37ca("0x9e0")](_0x37ca("0x9e1"),1);if(a[_0x37ca("0x154")][_0x37ca("0x9dd")](_[0],_[1]),c[_0x37ca("0x9e2")]){var t=document.createElement("a"),i=(0,C[_0x37ca("0x1d")])(e);document[_0x37ca("0x6fc")](_0x37ca("0x6fd"))[_0x37ca("0x6fe")](_0x37ca("0x9e3"),!0,!0),t[_0x37ca("0x9e2")]=c[_0x37ca("0x6a")],t.href=URL[_0x37ca("0x849")](i),t.click()}if(c[_0x37ca("0x9e4")]){var n=window.open("","");n[_0x37ca("0x9e5")][_0x37ca("0x9e6")]=_0x37ca("0x9e7");var s=new Image;s.src=e,n[_0x37ca("0x9e5")][_0x37ca("0x26")][_0x37ca("0x27")](s)}return e}},{key:_0x37ca("0x9e8"),value:function(x){var a,c=null==x.intensity?.3:x[_0x37ca("0x3ea")],_=_0x37ca("0x1aa"),e=this,t=[][_0x37ca("0x15")](x[_0x37ca("0x1aa")]);x.name||(t=[][_0x37ca("0x15")](x.id),_="ID");var i=[];x[_0x37ca("0xef")]?[][_0x37ca("0x15")](x[_0x37ca("0xef")])[_0x37ca("0x1f")]((function(x){var a=e[_0x37ca("0xf0")](x);a||(a=e[_0x37ca("0x315")](x)),a&&i.push(a)})):i=e[_0x37ca("0x628")][_0x37ca("0x15")](e[_0x37ca("0x9aa")]);var n=x[_0x37ca("0x13c")];e=this;a=x.fnum?[][_0x37ca("0x15")](x.fnum):null,i.forEach((function(x){if(1==x[_0x37ca("0x616")]){var e=x[_0x37ca("0x14e")][_0x37ca("0x194")]("mapmodel3ds");if(e[0])e[0][_0x37ca("0xb6")]((function(a){if(a.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0x217")])if(a[_0x37ca("0x331")])for(var e in a[_0x37ca("0x331")]){var i=a[_0x37ca("0x331")][e];t[_0x37ca("0xda")](i[_])>-1&&x[_0x37ca("0x14f")].GLTFMergeTool[_0x37ca("0x3fb")](i.ID,a[_0x37ca("0xa5")],n,c)}else t.indexOf(a[_])>-1&&a[_0x37ca("0x2be")](n)}))}else{var i=a||x[_0x37ca("0x62d")],r=function(a){var e=x[_0x37ca("0x617")](i[a]),r=x[_0x37ca("0x14f")];if(!e)return"continue";e[_0x37ca("0x9e9")].forEach((function(x){x[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0x217")]&&x[_0x37ca("0xa5")][_0x37ca("0xa6")][_0x37ca("0x1f")]((function(x){x[_0x37ca("0xa4")]&&(x[_0x37ca("0xa4")][_0x37ca("0x331")]?x[_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x1f")]((function(a){t.indexOf(a[_])>-1&&r[_0x37ca("0x629")][_0x37ca("0x3fb")](a.id,x,n,c)})):t[_0x37ca("0xda")](x[_0x37ca("0xa4")][_])>-1&&x.datas_[_0x37ca("0x2be")](n))}))}))};for(var s in i){r(s);_0x37ca("0x5e4")}}}))}},{key:_0x37ca("0x9ea"),value:function(x){function a(x){var a=[];this[_0x37ca("0x9e9")][_0x37ca("0x1f")]((function(x){x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")].MODEL&&x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")][_0x37ca("0x9eb")]&&x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")][_0x37ca("0x217")]&&x._type_!=esmap[_0x37ca("0x16c")][_0x37ca("0x170")]&&x[_0x37ca("0x608")]!=esmap.ESLayerType.MODEL_LABEL&&x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")][_0x37ca("0x9ec")]||(a=a[_0x37ca("0x15")](x[_0x37ca("0xa5")][_0x37ca("0xa6")]))}));for(var c=0;c<a[_0x37ca("0x4")];c++){var _=a[c];if(_[_0x37ca("0xa4")][_0x37ca("0x331")])for(var e=_[_0x37ca("0xa4")][_0x37ca("0x331")],t=0;t<e[_0x37ca("0x4")];t++){if(x(e[t],a[c][_0x37ca("0xa4")].o3d_))return}else if(x(_[_0x37ca("0xa4")],_))return}}var c=this,_=_0x37ca("0x1aa"),e=[][_0x37ca("0x15")](x.name),t=this[_0x37ca("0xf0")](this.id),i=[t];x[_0x37ca("0xef")]?[][_0x37ca("0x15")](x[_0x37ca("0xef")])[_0x37ca("0x1f")]((function(x){var a=c.getTileById(x);a||(a=c[_0x37ca("0xf0")](x)),a&&i[_0x37ca("0x0")](a)})):i=this[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?[t]:c[_0x37ca("0x9aa")];x[_0x37ca("0x1aa")]||(e=[][_0x37ca("0x15")](x.id),_="ID");var n=x.value,r=0,s=t[_0x37ca("0x14f")][_0x37ca("0x629")];i[_0x37ca("0x1f")]((function(x){var c=[];1==x[_0x37ca("0x616")]?c=[x.layerManager]:x[_0x37ca("0x62d")][_0x37ca("0x1f")]((function(a){c.push(x[_0x37ca("0x617")](a))}));for(var t in c){var i=c[t];a[_0x37ca("0x6")](i,(function(x,a){if(console[_0x37ca("0x23b")](x.nodeType),!a)return!1;if(x[_]&&e.indexOf(x[_])>-1)if(r++,n)if(5==x[_0x37ca("0xc8")]){i=x[_0x37ca("0xbc")][0],o=x.faceRange[1];for(var c=a.geometry[_0x37ca("0xb7")][_0x37ca("0x9ed")][_0x37ca("0x19f")],t=i;t<o;t++)c[t]=0;a[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9ed")].needsUpdate=!0}else if(6==x.nodeType){a[_0x37ca("0x11a")].merged&&(1==a.datas_.brothers[_0x37ca("0x4")]?a[_0x37ca("0xed")]=!0:a[_0x37ca("0xa6")][_0x37ca("0x1f")]((function(a){s[_0x37ca("0x401")](a,x.ID,!0)})))}else x[_0x37ca("0xed")]=!0;else if(5==x[_0x37ca("0xc8")]){for(var i=x.faceRange[0],o=x[_0x37ca("0xbc")][1],l=a[_0x37ca("0xa7")][_0x37ca("0xb7")].isHideFlags[_0x37ca("0x19f")],u=i;u<o;u++)l[u]=1;a[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9ed")][_0x37ca("0x13a")]=!0}else if(6==x[_0x37ca("0xc8")]){a.userData[_0x37ca("0x9ee")]&&(1==a.datas_[_0x37ca("0x331")].length?a[_0x37ca("0xed")]=!1:a[_0x37ca("0xa6")].forEach((function(a){s[_0x37ca("0x401")](a,x.ID,!1)})))}else x[_0x37ca("0xc8")]==esmap.ESNodeType[_0x37ca("0x9ec")]?_0x37ca("0x9ef"):x.visible=!1;return r==e[_0x37ca("0x4")]&&"ID"==_}))}}))}},{key:_0x37ca("0x9f0"),value:function(x){function a(x){var a=[];this[_0x37ca("0x9e9")][_0x37ca("0x1f")]((function(x){x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")][_0x37ca("0x622")]&&x._type_!=esmap[_0x37ca("0x16c")].MODEL_BASE&&x[_0x37ca("0x608")]!=esmap.ESLayerType[_0x37ca("0x217")]||(a=a.concat(x[_0x37ca("0xa5")][_0x37ca("0xa6")]))}));for(var c=0;c<a[_0x37ca("0x4")];c++){var _=a[c];if(_[_0x37ca("0xa4")][_0x37ca("0x331")])for(var e=_[_0x37ca("0xa4")].brothers,t=0;t<e[_0x37ca("0x4")];t++){if(x(e[t],a[c][_0x37ca("0xa4")].o3d_))return}else if(x(_[_0x37ca("0xa4")],_[_0x37ca("0xa5")]))return}}var c=this,_=_0x37ca("0x1aa"),e=[].concat(x[_0x37ca("0x1aa")]),t=[];x[_0x37ca("0xef")]?[][_0x37ca("0x15")](x[_0x37ca("0xef")])[_0x37ca("0x1f")]((function(x){var a=c[_0x37ca("0x315")](x);a&&t[_0x37ca("0x0")](a)})):t=c[_0x37ca("0x9aa")];x[_0x37ca("0x1aa")]||(e=[][_0x37ca("0x15")](x.id),_="ID");var i=x[_0x37ca("0x13c")],n=i.length,r=x[_0x37ca("0x1")](_0x37ca("0xfd"))?x.opacity:1,s=0,o=!1;if(i){var l=(o=esmap[_0x37ca("0x7b")][_0x37ca("0x2c3")](i)).split(","),u=[1*l[0]/255,1*l[1]/255,1*l[2]/255,r];o=u}if(!n)for(;this[_0x37ca("0x163")][_0x37ca("0x9f1")][_0x37ca("0x4")]>0;){var d=this[_0x37ca("0x163")][_0x37ca("0x9f1")][_0x37ca("0x2")]();e[_0x37ca("0x0")](d[_0x37ca("0xf2")])}var f=e[_0x37ca("0x39")]((function(x){return{key:_,value:x,data:o}}));if(t[_0x37ca("0x1f")]((function(x){var t=x[_0x37ca("0x14e")];a[_0x37ca("0x6")](t,(function(a,t){if(!t)return!1;if(a[_]&&e[_0x37ca("0xda")](a[_])>-1){if(s++,n)if(5==a.nodeType){for(var r=a[_0x37ca("0xbc")][0],l=a[_0x37ca("0xbc")][1],u=t[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9f2")].array,d=t[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9f3")][_0x37ca("0x19f")],h=r;h<l;h++)u[h]=1;for(var g=4*r;g<4*l;g+=4)d[g]=o[0],d[g+1]=o[1],d[g+2]=o[2],d[g+3]=o[3];t[_0x37ca("0xa7")].attributes.highLightFlags[_0x37ca("0x13a")]=!0,t[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9f3")][_0x37ca("0x13a")]=!0,c[_0x37ca("0x1da")](_0x37ca("0x9f0"),{color:i,value:1,startIndex:r,endIndex:l})}else 6==a[_0x37ca("0xc8")]&&(t[_0x37ca("0x11a")][_0x37ca("0x3f5")]=!0,a[_0x37ca("0x2be")]?a.changeColor(i):x[_0x37ca("0x14f")].GLTFMergeTool[_0x37ca("0x3fb")](a.ID,t,i,.3));else if(5==a[_0x37ca("0xc8")]){r=a[_0x37ca("0xbc")][0],l=a[_0x37ca("0xbc")][1],u=t[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9f2")][_0x37ca("0x19f")];for(var b=t.geometry.attributes[_0x37ca("0x9f3")].array,v=r;v<l;v++)u[v]=0;for(var p=4*r;p<4*l;p+=4)b[p]=1,b[p+1]=1,b[p+2]=1,b[p+3]=1;t[_0x37ca("0xa7")].attributes[_0x37ca("0x9f2")][_0x37ca("0x13a")]=!0,t[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9f3")][_0x37ca("0x13a")]=!0,c[_0x37ca("0x1da")](_0x37ca("0x9f0"),{color:i,value:0,startIndex:r,endIndex:l})}else 6==a[_0x37ca("0xc8")]&&(t.userData.locked=!1,a[_0x37ca("0x2be")]?a[_0x37ca("0x2bd")]():x[_0x37ca("0x14f")][_0x37ca("0x629")][_0x37ca("0x3fb")](a.ID,t,i,.3));for(var A=0;A<f[_0x37ca("0x4")];A++)if(f[A][_0x37ca("0xf2")]==a[_]){f.splice(A,1);break}}return s==e.length&&"ID"==_}))})),n)for(var h=0;h<f[_0x37ca("0x4")];h++)this[_0x37ca("0x163")][_0x37ca("0x9f4")](f[h])}},{key:_0x37ca("0x9f5"),value:function(x){function a(x){var a=[];this.layers.forEach((function(x){x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")][_0x37ca("0x622")]&&x[_0x37ca("0x608")]!=esmap[_0x37ca("0x16c")].MODEL_BASE||(a=a[_0x37ca("0x15")](x.o3d_.children))}));for(var c=0;c<a[_0x37ca("0x4")];c++){var _=a[c][_0x37ca("0xa4")][_0x37ca("0x331")];if(_)for(var e=0;e<_[_0x37ca("0x4")];e++){if(x(_[e],a[c][_0x37ca("0xa4")][_0x37ca("0xa5")]))return}}}var c,_=this,e=(esmap[_0x37ca("0x7b")][_0x37ca("0x9f6")],x[_0x37ca("0x13c")]),t=!!e,i=!!x[_0x37ca("0x1")](_0x37ca("0xfd"))&&x.opacity,n=0!=i,r=_0x37ca("0x1aa"),s=[][_0x37ca("0x15")](x[_0x37ca("0x1aa")]),o=[];x[_0x37ca("0xef")]?[][_0x37ca("0x15")](x[_0x37ca("0xef")])[_0x37ca("0x1f")]((function(x){var a=_[_0x37ca("0xf0")](x);a&&o[_0x37ca("0x0")](a)})):o=_[_0x37ca("0x628")];x[_0x37ca("0x1aa")]||(s=[].concat(x.id),r="ID");e[_0x37ca("0x4")];var l=0;c=x[_0x37ca("0xe6")]?[][_0x37ca("0x15")](x.fnum):null,o[_0x37ca("0x1f")]((function(x){var o=c||x[_0x37ca("0x62d")];for(var u in o){var d=x.getFloor(o[u]);d&&a.call(d,(function(x,a){var c;if(x[r]&&s[_0x37ca("0xda")](x[r])>-1)if(l++,t||n){if(a[_0x37ca("0x11a")][_0x37ca("0x9f7")]||(a[_0x37ca("0x11a")].colorMap={}),!a[_0x37ca("0x11a")][_0x37ca("0x9f7")][e]){var o=a[_0x37ca("0xa9")][0][_0x37ca("0xde")]();t&&(o[_0x37ca("0x13c")]=new THREE.Color(e),d[_0x37ca("0xa5")].lastAlpha||(d[_0x37ca("0xa5")].lastAlpha={}),d[_0x37ca("0xa5")].lastAlpha[o[_0x37ca("0x3c5")]]=d[_0x37ca("0xa5")][_0x37ca("0x623")][a[_0x37ca("0xa9")][0][_0x37ca("0x3c5")]]),i&&(o[_0x37ca("0xfd")]=i,o.transparent=1!=i),a[_0x37ca("0xa9")][_0x37ca("0x0")](o),a.userData[_0x37ca("0x9f7")][e]=a[_0x37ca("0xa9")][_0x37ca("0x4")]-1}var u=a[_0x37ca("0xa7")][_0x37ca("0x402")];a[_0x37ca("0xa7")][_0x37ca("0x132")]();var f=x[_0x37ca("0xbc")][0],h=x[_0x37ca("0xbc")][1],g=a[_0x37ca("0x11a")][_0x37ca("0x9f7")][e];_.splitGroup(f,h,g,u,!1)[_0x37ca("0x1f")]((function(x){a.geometry.addGroup(x[_0x37ca("0x1c6")],x.count,x[_0x37ca("0x3fd")])}))}else{u=a[_0x37ca("0xa7")][_0x37ca("0x402")];a.geometry.clearGroups();f=x[_0x37ca("0xbc")][0],h=x[_0x37ca("0xbc")][1];for(var b=null,v=0;v<u.length;v++)if(f>=u[v].start&&f<u[v][_0x37ca("0x1c6")]+u[v][_0x37ca("0xb9")]){c=u[v][_0x37ca("0x3fd")],b=v;break}null!=b&&0!=c&&(u=_[_0x37ca("0x3fc")](f,h,0,u,!1));for(v=0;v<u[_0x37ca("0x4")];v++)a[_0x37ca("0xa7")][_0x37ca("0x133")](u[v].start,u[v][_0x37ca("0xb9")],u[v][_0x37ca("0x3fd")])}return l==s[_0x37ca("0x4")]&&("ID"==r||"name"==r)}))}o=null}))}},{key:_0x37ca("0x9f8"),value:function(x){function a(x,a){var c,_=0;x[_0x37ca("0xe6")]&&x[_0x37ca("0xef")]?_+=(c=n[_0x37ca("0xf0")](x.bid))?c[_0x37ca("0x2f2")](x[_0x37ca("0xe6")]):0:_+=(c=n.getBuildingById(0))[_0x37ca("0x2f2")](1);var e=n.coordMapToThree({x:x.x,y:x.y});return e.y=_+Number(x[_0x37ca("0x137")]||x.z||0),e}if(!(x.length<1)){var c,_=[],e=[],t=null,i=null,n=this;return function(x){for(var c=0;c<x[_0x37ca("0x4")];c++)t=x[c],(i=a(t)).fnum=t[_0x37ca("0xe6")]||1,i.bid=t[_0x37ca("0xef")]||0,e.push(i)}(x),(c=e)[_0x37ca("0x4")]>1&&_[_0x37ca("0x0")](c),_}}},{key:_0x37ca("0x9f9"),value:function(x,a){var c=null;null==a&&this[_0x37ca("0x37")]==esmap.MapMode[_0x37ca("0x210")]&&(a=this.id);var _=this.getBuildingById(a);return x[_0x37ca("0xe6")]&&(c=_.getFloorHeight(x[_0x37ca("0xe6")])),new THREE.Vector3(-this.mapScene[_0x37ca("0x19a")]-x.x,x.z||c||0,x.y-this.mapScene[_0x37ca("0x19b")])}},{key:"getTileBuildingByMapId",value:function(x){return this[_0x37ca("0x157")][_0x37ca("0x9fa")][x]||null}},{key:_0x37ca("0x9fb"),value:function(x){x=(0,r.default)({coord:null,mode:_0x37ca("0x1a8"),inverse:!1,startCoord:null,depth:100,endCoord:null},x),this[_0x37ca("0x312")]||(this[_0x37ca("0x312")]=new I.default(x)),this[_0x37ca("0x312")][_0x37ca("0x3bf")][_0x37ca("0x30a")]=x.depth;var a=void 0;if(x[_0x37ca("0x37")]==_0x37ca("0x1a8")){var c=this[_0x37ca("0x254")](x.coord);a=this.rayPointer[_0x37ca("0x30f")](c,x[_0x37ca("0x37")])}else{var _=this[_0x37ca("0x254")](x[_0x37ca("0x9fc")]),e=this[_0x37ca("0x254")](x.endCoord);a=this[_0x37ca("0x312")][_0x37ca("0x3c2")](_,e)}if(x.debug&&a){if(!this[_0x37ca("0x312")].cubeTip){var t=document[_0x37ca("0x22")](_0x37ca("0x6f9"));t[_0x37ca("0x398")]=64,t[_0x37ca("0x1a8")]=64;var i=t.getContext("2d");i[_0x37ca("0x9fd")](),i[_0x37ca("0x90e")](32,32,20,0,360,!1),i[_0x37ca("0x9fe")]=_0x37ca("0x9ff"),i[_0x37ca("0x32d")](),i[_0x37ca("0x115")]=20,i.strokeStyle="green",i.globalAlpha=.2,i.stroke(),i[_0x37ca("0x90f")]();var n=new(THREE[_0x37ca("0x416")])(t),s=new THREE.Sprite;s[_0x37ca("0xa9")]=new(THREE[_0x37ca("0x28e")])({map:n,depthTest:!1,sizeAttenuation:!1}),s.renderOrder=101,s[_0x37ca("0x22e")].multiplyScalar(.02),s.material[_0x37ca("0x39")].needsUpdate=!0,this[_0x37ca("0x312")][_0x37ca("0xa00")]=s,this.mapView[_0x37ca("0xb5")].add(s)}"height"==x[_0x37ca("0x37")]?this[_0x37ca("0x312")][_0x37ca("0xa00")][_0x37ca("0xb8")][_0x37ca("0x268")](a):this.rayPointer[_0x37ca("0xa00")][_0x37ca("0xb8")][_0x37ca("0x268")](a[_0x37ca("0x3ca")])}return x[_0x37ca("0x37")]==_0x37ca("0x1a8")?a?a.y:null:a||null}},{key:"cameraFlyToHelper",value:function(){var x=this[_0x37ca("0x275")].object.position[_0x37ca("0xdf")](this[_0x37ca("0x275")][_0x37ca("0x276")]),a=this.mapView.getCenter();return{directionAngle:1*this[_0x37ca("0x24d")][_0x37ca("0x60a")](1),pitchAngle:1*this.tiltAngle[_0x37ca("0x60a")](1),radius:1*x[_0x37ca("0x60a")](1),x:1*a.x[_0x37ca("0x60a")](1),y:1*a.y[_0x37ca("0x60a")](1),z:1*this.controls[_0x37ca("0x276")].y[_0x37ca("0x60a")](1)}}},{key:_0x37ca("0x303"),value:function(){return this.mapView.getCenter()}},{key:_0x37ca("0xa01"),value:function(){return this[_0x37ca("0x154")][_0x37ca("0xa01")]()}},{key:_0x37ca("0xa02"),value:(O=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c,_=this;return i.default[_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(!(a=(0,r[_0x37ca("0xe")])({fnum:1,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,delay:0,time:1},a))[_0x37ca("0x1b7")]){x.next=5;break}return x[_0x37ca("0x29a")]=5,new(t[_0x37ca("0xe")])((function(x){setTimeout(x,1e3*a[_0x37ca("0x1b7")])}));case 5:if(!a[_0x37ca("0xef")]){x[_0x37ca("0x29a")]=13;break}if(this[_0x37ca("0xf0")](a[_0x37ca("0xef")])){x.next=11;break}return x[_0x37ca("0x29a")]=9,new(t[_0x37ca("0xe")])((function(x){_[_0x37ca("0x97d")](a[_0x37ca("0xef")]),_[_0x37ca("0x1d4")](_0x37ca("0x9b7"),(function(){_.getBuildingById(a.bid)[_0x37ca("0xa03")](a[_0x37ca("0xe6")]),x()}))}));case 9:x[_0x37ca("0x29a")]=13;break;case 11:this[_0x37ca("0xf0")](a[_0x37ca("0xef")]).changeFocusFloor(a[_0x37ca("0xe6")]);case 13:return null!=a[_0x37ca("0x224")]?a[_0x37ca("0x630")]=(this[_0x37ca("0x99a")][a.scaleLevel]+1e-4)*this[_0x37ca("0x275")][_0x37ca("0xa04")]:null==a[_0x37ca("0x630")]&&(a.radius=this[_0x37ca("0x275")].getDistance()),c=this[_0x37ca("0x254")]({x:a.x,y:a.y,z:a.z}),a[_0x37ca("0xa05")]=a[_0x37ca("0xa05")]<=1?1:a.pitchAngle,x[_0x37ca("0x29f")]("return",new(t[_0x37ca("0xe")])((function(x){_[_0x37ca("0x947")][_0x37ca("0xa06")]({targetPos:c,radius:a.radius,pitchAngle:a[_0x37ca("0xa05")],directionAngle:a[_0x37ca("0xa07")],time:a[_0x37ca("0x1ba")],callback:function(){a[_0x37ca("0x1c7")]&&a[_0x37ca("0x1c7")](),x()}})})));case 17:case"end":return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return O[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0xa08"),value:function(x){var a=this;a[_0x37ca("0xa09")](),esmap.ESMapUtil[_0x37ca("0x5e5")](this,_0x37ca("0x62c"),{ID:x},(function(x){if(x[_0x37ca("0x4")]>0){var c=x[0],_=a[_0x37ca("0xa0a")],e=document[_0x37ca("0xa0b")](_[_0x37ca("0xa0c")]);e[_0x37ca("0x324")]="",_.popDiv_[_0x37ca("0x24")][_0x37ca("0xfd")]=0,c[_0x37ca("0x1aa")]?(_[_0x37ca("0x250")]({x:c[_0x37ca("0x3ba")].x,y:c.mapCoord.y,time:.01,callback:function(){_[_0x37ca("0xa0d")].position.y=c[_0x37ca("0x620")]+20,setTimeout((function(){e[_0x37ca("0x324")]=c.name,_[_0x37ca("0xa0e")][_0x37ca("0x24")].opacity=1}),1)}}),_[_0x37ca("0xef")]=c[_0x37ca("0xef")]):_.popDiv_[_0x37ca("0x24")][_0x37ca("0xfd")]=0,a[_0x37ca("0xa0f")](c)}}))}},{key:_0x37ca("0xa10"),value:function(x){var a=x,c=.2,_=null;x instanceof Object&&(a=x.angle,c=x[_0x37ca("0x1ba")]||.2,_=x[_0x37ca("0x1c7")]||null),new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(this).to({tiltAngle:a},1e3*c).easing(esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")]).onUpdate((function(x){}))[_0x37ca("0x1c4")]((function(){_&&_()}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0x971"),value:function(x){var a=this;if(this.mode!=esmap[_0x37ca("0x3c")].City){var c=void 0;if(c=(x=(0,r[_0x37ca("0xe")])({value:0,time:1,emitError:!1,raw:!1,onComplete:null},x))[_0x37ca("0xa11")]?x[_0x37ca("0xf2")]:this[_0x37ca("0x99a")][x[_0x37ca("0xf2")]],!x[_0x37ca("0xa12")]&&null==c)return _0x37ca("0xa13"),x[_0x37ca("0xf2")],void _0x37ca("0xa14");var _=this[_0x37ca("0x275")][_0x37ca("0x5ff")]()/this[_0x37ca("0x275")].initDistance_;P&&(P[_0x37ca("0x1bc")](),P=null),P=new(esmap[_0x37ca("0x1c1")].Tween)({value:_}).to({value:c},1e3*x[_0x37ca("0x1ba")]).easing(esmap[_0x37ca("0x1c1")].Easing.Quadratic[_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){a[_0x37ca("0x275")][_0x37ca("0x277")](x.value)})).onComplete((function(){x[_0x37ca("0x1c4")]&&x[_0x37ca("0x1c4")](),P=null}))[_0x37ca("0x1c6")]()}}},{key:_0x37ca("0xa15"),value:function(x,a){var c=this;x=THREE[_0x37ca("0x249")][_0x37ca("0x730")](x,0,c.scaleLevels_.length-1),a=THREE.Math[_0x37ca("0x730")](a,0,c[_0x37ca("0x99a")][_0x37ca("0x4")]-1),c.minScaleLevel_=x,c[_0x37ca("0xa16")]=a,c[_0x37ca("0x275")][_0x37ca("0xa17")](c[_0x37ca("0x99a")][x],c[_0x37ca("0x99a")][a]),c[_0x37ca("0x224")]=c.scaleLevels_[Math[_0x37ca("0xa18")]((x+a)/2)]}},{key:_0x37ca("0xa19"),value:function(){this.scaleLevel>0&&this.scaleLevelTo({value:this[_0x37ca("0x224")]-1})}},{key:_0x37ca("0xa1a"),value:function(){this.scaleLevel<this[_0x37ca("0x99a")][_0x37ca("0x4")]-1&&this[_0x37ca("0x971")]({value:this.scaleLevel+1})}},{key:_0x37ca("0xa1b"),value:function(x){this[_0x37ca("0x275")][_0x37ca("0xa1c")](x)}},{key:_0x37ca("0xa1d"),value:function(x){this[_0x37ca("0x275")][_0x37ca("0xa1e")](x)}},{key:"setBackgroundImage",value:function(x){x?(this[_0x37ca("0x154")][_0x37ca("0xb5")].background=esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](x),this.mapView[_0x37ca("0xb5")][_0x37ca("0xa1f")].needsUpdate=!0):(this[_0x37ca("0x154")][_0x37ca("0xb5")][_0x37ca("0xa1f")]=null,this[_0x37ca("0x154")].renderer[_0x37ca("0x6b4")](this[_0x37ca("0xf5")][_0x37ca("0x9a4")],this[_0x37ca("0xf5")].clearTrans_))}},{key:_0x37ca("0x9a3"),value:function(x,a){if(esmap.ESMap[_0x37ca("0x980")])return this[_0x37ca("0xf5")][_0x37ca("0xa20")]=x,void this.mapView.renderer[_0x37ca("0x6b4")](x);!1!==x?this[_0x37ca("0x154")][_0x37ca("0x693")].setClearColor(x,a):this[_0x37ca("0x154")][_0x37ca("0x693")].setClearColor(this[_0x37ca("0xf5")].clearColor_,this[_0x37ca("0xf5")][_0x37ca("0xa21")])}},{key:_0x37ca("0xa22"),value:function(x,a){var c=null==a?1:a;this[_0x37ca("0xf5")][_0x37ca("0x3e5")][_0x37ca("0x13c")].set(x),this.mapTheme.selectModelMat[_0x37ca("0x2c1")].set(x),this.mapTheme[_0x37ca("0x3e5")][_0x37ca("0xfd")]=c,this[_0x37ca("0x94c")]=c}},{key:"splitGroup",value:function(x,a,c,_,e){var t,i=a-x,n=[];_[_0x37ca("0x1f")]((function(x){n[_0x37ca("0x0")]({start:x[_0x37ca("0x1c6")],count:x[_0x37ca("0xb9")],materialIndex:x[_0x37ca("0x3fd")]})}));for(var r=0;r<n[_0x37ca("0x4")];r++){var s=n[r],o=s[_0x37ca("0x1c6")]+s[_0x37ca("0xb9")];if(x>=s[_0x37ca("0x1c6")]&&x<o&&s[_0x37ca("0x3fd")]!=c){if(s[_0x37ca("0xb9")]>=i){e&&(this[_0x37ca("0x3ff")]=s[_0x37ca("0x3fd")]),n[_0x37ca("0x5")](r,1),x>s[_0x37ca("0x1c6")]&&n[_0x37ca("0x0")]({start:s[_0x37ca("0x1c6")],count:x-s[_0x37ca("0x1c6")],materialIndex:s.materialIndex}),n[_0x37ca("0x0")]({start:x,count:i,materialIndex:c}),a<o&&n[_0x37ca("0x0")]({start:a,count:o-a,materialIndex:s.materialIndex});break}n[r][_0x37ca("0x3fd")]=c}}n.sort((t=_0x37ca("0x1c6"),function(x,a){return x[t]-a[t]}));for(var l=0;l<n.length-1;l++)n[l].materialIndex==n[l+1][_0x37ca("0x3fd")]&&(n[l][_0x37ca("0xb9")]+=n[l+1][_0x37ca("0xb9")],n[_0x37ca("0x5")](l+1,1),l--);return n}},{key:_0x37ca("0xa23"),value:function(x,a,c,_){var e=this;this[_0x37ca("0xf5")][_0x37ca("0xa24")][a]?x():c?this[_0x37ca("0x999")][_0x37ca("0xa25")](a,_,(function(c){c&&(e[_0x37ca("0xf5")].setThemeList(a,c),x())})):this[_0x37ca("0x999")][_0x37ca("0xa26")](a,_,(function(c){e[_0x37ca("0xf5")][_0x37ca("0xa27")](a,c),x()}))}},{key:"storeSelect",value:function(x,a,c){if(x&&x.o3d_&&x[_0x37ca("0xa5")][_0x37ca("0xa7")]){var _=this;null==a&&(a=!0);var e=x[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0x402")],t=x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0xa28")],i=x.faceRange[0],n=x[_0x37ca("0xbc")][1];if(1==x.bType){var r=1;0==a&&(r=0);for(var s=x[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0xa29")].array,o=i;o<n;o+=1)s[o]=r;return x[_0x37ca("0xa5")][_0x37ca("0xa7")].attributes[_0x37ca("0xa29")][_0x37ca("0x13a")]=!0,void(a&&!c&&(_[_0x37ca("0xa09")](),_[_0x37ca("0x939")][_0x37ca("0x0")](x)))}x[_0x37ca("0xa5")].geometry[_0x37ca("0x132")]();if(0!=a){x[_0x37ca("0x559")]?x.o3d_[_0x37ca("0xa9")].push(_[_0x37ca("0x14c")].mapTheme_[_0x37ca("0x3e5")]):x.o3d_[_0x37ca("0xa9")][_0x37ca("0x0")](_[_0x37ca("0x14c")].mapTheme_[_0x37ca("0x3e5")]),x[_0x37ca("0xa5")][_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xa2b")]&&x[_0x37ca("0xa5")][_0x37ca("0xa9")][0].map&&!x[_0x37ca("0xa5")][_0x37ca("0xa9")][1]&&(x[_0x37ca("0xa5")][_0x37ca("0xa9")][x[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x4")]-1]=_.mapScene[_0x37ca("0x189")][_0x37ca("0x3e5")][_0x37ca("0xde")](),e=x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x402")],t=1,x.o3d_.material[t][_0x37ca("0x39")]=x[_0x37ca("0xa5")][_0x37ca("0xa9")][0].map[_0x37ca("0xde")](),x[_0x37ca("0xa5")][_0x37ca("0xa9")][t][_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(0,0,0),x.o3d_[_0x37ca("0xa9")][t][_0x37ca("0x39")][_0x37ca("0x13a")]=!0,x[_0x37ca("0xa5")].material[t][_0x37ca("0x13a")]=!0),t=x[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x4")]-1;x.o3d_[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")];_[_0x37ca("0x3fc")](i,n,t,e,true)[_0x37ca("0x1f")]((function(a){x[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0x133")](a.start,a[_0x37ca("0xb9")],a[_0x37ca("0x3fd")])})),a&&!c&&(_[_0x37ca("0xa09")](),_[_0x37ca("0x939")].push(x))}else{for(var l=0;l<x.o3d_[_0x37ca("0xa9")][_0x37ca("0x4")];l++)if(x[_0x37ca("0xa5")][_0x37ca("0xa9")][l]&&x[_0x37ca("0xa5")].material[l][_0x37ca("0x1aa")]==_0x37ca("0xa2a")){x.o3d_.material[l][_0x37ca("0x39")]&&x[_0x37ca("0xa5")][_0x37ca("0xa9")][l].map.dispose()&&(x[_0x37ca("0xa5")][_0x37ca("0xa9")][l][_0x37ca("0x39")]=null),x[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x5")](l,1);break}_[_0x37ca("0x3fc")](i,n,_[_0x37ca("0x3ff")],e,true).forEach((function(a){x[_0x37ca("0xa5")].geometry[_0x37ca("0x133")](a[_0x37ca("0x1c6")],a.count,a.materialIndex)}))}}}},{key:_0x37ca("0x315"),value:function(x){for(var a=[].concat(this.mapScene.tileScene_[_0x37ca("0xa6")]),c=0;c<a[_0x37ca("0x4")];c++)if(a[c][_0x37ca("0xa4")].id==x)return a[c].datas_}},{key:"ol",value:function(x,a){if(a==this.id){var c=this[_0x37ca("0x163")].buildingBounds[x]||[],_=[];return c[_0x37ca("0x39")]((function(x){var a=[];x[_0x37ca("0x1f")]((function(x){a[_0x37ca("0x0")]({x:-x.x,y:x.y})})),_[_0x37ca("0x0")](a)})),_}}},{key:_0x37ca("0xa2c"),value:function(x,a){var c=esmap.ESMapUtil.toColor(a);switch(x){case esmap[_0x37ca("0xe8")][_0x37ca("0x622")]:this[_0x37ca("0xf5")].selectModelMat[_0x37ca("0x13c")]=new(THREE[_0x37ca("0x13d")])(a);break;case esmap[_0x37ca("0xe8")][_0x37ca("0xa2d")]:this[_0x37ca("0xf5")].polygonSelectColor_=c;break;case esmap[_0x37ca("0xe8")][_0x37ca("0xa2e")]:case esmap[_0x37ca("0xe8")].LINE:this[_0x37ca("0xf5")][_0x37ca("0xa2f")]=c}}},{key:_0x37ca("0xa30"),value:function(x){x?(this[_0x37ca("0xf5")].modelBasicMat[_0x37ca("0x1f")]((function(x){x&&(x[_0x37ca("0xed")]=!0)})),this[_0x37ca("0x163")][_0x37ca("0x9b2")]=!1):(this.mapService[_0x37ca("0x9b2")]=!0,this[_0x37ca("0xf5")][_0x37ca("0x9c0")][_0x37ca("0x1f")]((function(x){x&&(x.visible=!1)})))}},{key:"highLightArea",value:function(x){var a=this,c=esmap[_0x37ca("0x7b")][_0x37ca("0xa31")](x);c[_0x37ca("0x1f")]((function(x){a[_0x37ca("0x157")].userTiles[_0x37ca("0x0")](x)}));var _=[];this[_0x37ca("0x9aa")][_0x37ca("0x1f")]((function(x){-1==c[_0x37ca("0xda")](x.id)&&_.push(x.id)}));for(var e=this[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")],t=0;t<e[_0x37ca("0x4")];t++){var i=e[t];_[_0x37ca("0xcd")](i[_0x37ca("0xa4")].id)&&(i[_0x37ca("0xed")]=!1,this[_0x37ca("0x14c")].tileScene_[_0x37ca("0x147")](i),t--,this[_0x37ca("0x163")].tileService[_0x37ca("0xa32")][_0x37ca("0xda")](i.datas_)<0&&this.tileService[_0x37ca("0xa33")](i.datas_),this[_0x37ca("0x1da")](_0x37ca("0xa34"),{bid:i[_0x37ca("0xa4")].id}))}}},{key:_0x37ca("0xa35"),value:function(){this[_0x37ca("0x157")][_0x37ca("0xa36")]=[],this.updateTileView()}},{key:"change3dOpacity",value:function(x){var a=this,c=_0x37ca("0x1aa"),_=[].concat(x[_0x37ca("0x1aa")]);x[_0x37ca("0x1aa")]||(_=[][_0x37ca("0x15")](x.id),c="ID");var t=x.clonemat||!1,i=x[_0x37ca("0xfd")],n=x[_0x37ca("0x1b7")]||0,r=null==x[_0x37ca("0x1ba")]?.8:x[_0x37ca("0x1ba")],s=null!=x[_0x37ca("0x624")]&&x[_0x37ca("0x624")];setTimeout((function(){esmap[_0x37ca("0x7b")].search(a,_0x37ca("0x62c"),(0,e[_0x37ca("0xe")])({nodeType:6},c,_),(function(a){for(var c=0;c<a[_0x37ca("0x4")];c++)esmap[_0x37ca("0x7b")].setAlpha({target:a[c][_0x37ca("0xa5")],time:r,alpha:i,hideOnComplete:s,clonemat:t,visible:x[_0x37ca("0xed")]})}))}),1e3*n)}},{key:_0x37ca("0x625"),value:function(){return this.getBuildingById(this.id)}},{key:_0x37ca("0xf0"),value:function(x){if(this.mapScene.userScene&&(0==x||x==this.id))return this[_0x37ca("0x14c")][_0x37ca("0x99e")];for(var a=[][_0x37ca("0x15")](this[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0xa6")]),c=0;c<a[_0x37ca("0x4")];c++)if(a[c][_0x37ca("0xa4")].id==x)return a[c][_0x37ca("0xa4")];return null}},{key:"storeModelSelected",value:function(x,a,c){var _=this;null==a&&(a=!0),a&&!c&&(_[_0x37ca("0xa37")](),_.lastSelectModelStore[_0x37ca("0x0")](x));var e=_[_0x37ca("0xf5")][_0x37ca("0xa38")];x.datas_.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0xa2d")]&&(e=_[_0x37ca("0xf5")][_0x37ca("0xa39")]);var t=x[_0x37ca("0x11a")].isMergedWall;x[_0x37ca("0xb6")]((function(x){if(x.material)if(x[_0x37ca("0xa9")]instanceof Array)if(t)x[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xa3a")]||(x.material[0].userData[_0x37ca("0xa3a")]=x.material[0].emissive[_0x37ca("0xde")]()),a?x[_0x37ca("0xa9")][0][_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(e):(x[_0x37ca("0xa9")][0][_0x37ca("0x2c1")]=x[_0x37ca("0xa9")][0][_0x37ca("0x11a")].originEMS,x.material[0][_0x37ca("0x11a")][_0x37ca("0xa3a")]=null);else for(var c=0;c<x[_0x37ca("0xa9")][_0x37ca("0x4")];c++){var _=x.material[c][_0x37ca("0xde")]();_[_0x37ca("0x1")]("emissive")&&(_[_0x37ca("0x11a")][_0x37ca("0xa3a")]||(_[_0x37ca("0x11a")][_0x37ca("0xa3a")]=_[_0x37ca("0x2c1")][_0x37ca("0xde")]()),_[_0x37ca("0x2c1")]=a?new(THREE[_0x37ca("0x13d")])(e):_[_0x37ca("0x11a")][_0x37ca("0xa3a")]instanceof THREE[_0x37ca("0x13d")]?_[_0x37ca("0x11a")][_0x37ca("0xa3a")]:new(THREE[_0x37ca("0x13d")])(_[_0x37ca("0x11a")].originEMS),x.material[c]=_,_[_0x37ca("0x13a")]=!0)}else{var i=x.material;i[_0x37ca("0x11a")][_0x37ca("0x3e2")]||((i=i[_0x37ca("0xde")]())[_0x37ca("0x11a")][_0x37ca("0x3e2")]=!0,x.material=i),i[_0x37ca("0x1")](_0x37ca("0x2c1"))?(a?(i[_0x37ca("0x11a")][_0x37ca("0x1")]("originEMS")||(i[_0x37ca("0x11a")][_0x37ca("0xa3a")]=x[_0x37ca("0xa9")].emissive[_0x37ca("0x4ce")]()),i[_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(e)):i.emissive=new(THREE[_0x37ca("0x13d")])(i[_0x37ca("0x11a")][_0x37ca("0xa3a")]),x.material[_0x37ca("0x13a")]=!0):(a?x[_0x37ca("0xa3b")]?(i.userData.lastColor||(i[_0x37ca("0x11a")][_0x37ca("0xa3c")]=x[_0x37ca("0x13c")]),x.color=e):(i.userData[_0x37ca("0xa3c")]||(i.userData[_0x37ca("0xa3c")]=i[_0x37ca("0x13c")][_0x37ca("0xde")]()),i[_0x37ca("0x13c")]=new THREE.Color(e)):null!=i[_0x37ca("0x11a")].lastColor&&(x[_0x37ca("0xa3b")]?(x[_0x37ca("0x13c")]=i[_0x37ca("0x11a")][_0x37ca("0xa3c")],i[_0x37ca("0x13c")]=new(THREE[_0x37ca("0x13d")])(1,1,1)):i.color=new(THREE[_0x37ca("0x13d")])(i[_0x37ca("0x11a")].lastColor),i[_0x37ca("0x11a")][_0x37ca("0xa3c")]=null),x.naviMap||(x[_0x37ca("0xa9")]=i),x.material[_0x37ca("0x13a")]=!0)}})),a?(x.userData.isSelected=!0,x[_0x37ca("0x127")]+=1):(x[_0x37ca("0x11a")][_0x37ca("0xa3d")]=!1,x[_0x37ca("0x127")]-=1)}},{key:_0x37ca("0xa37"),value:function(){var x=this;x.lastSelectModelStore[_0x37ca("0x1f")]((function(a){a.datas_&&a[_0x37ca("0xa4")][_0x37ca("0xc8")]==esmap.ESNodeType[_0x37ca("0xa2d")]&&a[_0x37ca("0xa4")][_0x37ca("0xa3e")]&&(a[_0x37ca("0xa4")][_0x37ca("0xa3e")].fixedWidth=a[_0x37ca("0xa4")].line[_0x37ca("0x24")][_0x37ca("0x11e")],a[_0x37ca("0xa4")].line[_0x37ca("0x115")]=a.datas_[_0x37ca("0xa3e")][_0x37ca("0xa3f")]||a.datas_[_0x37ca("0xa3e")][_0x37ca("0x24")][_0x37ca("0x115")],a[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0xa7")][_0x37ca("0xa40")]?a[_0x37ca("0xa4")].line.geometry[_0x37ca("0xa40")](a[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0xa7")]._originalRadius):a[_0x37ca("0xa4")][_0x37ca("0xa3e")].updateLineWidth()),x[_0x37ca("0xa41")](a,!1)})),x[_0x37ca("0x3be")][_0x37ca("0x4")]=0;var a=x[_0x37ca("0xf0")](0);a[_0x37ca("0x14f")].GLTFMergeTool[_0x37ca("0x3cc")]&&a[_0x37ca("0x14f")][_0x37ca("0x629")][_0x37ca("0xa42")]()}},{key:_0x37ca("0xa43"),value:function(x){x[_0x37ca("0xa44")]}},{key:_0x37ca("0xa45"),value:function(x){if(x){var a="",c=document[_0x37ca("0xa0b")](this[_0x37ca("0xa0a")][_0x37ca("0xa0c")]);c&&(a=c.innerHTML),this[_0x37ca("0xa0a")][_0x37ca("0xa46")]||(this.tapTip.defaultTemplate=this[_0x37ca("0xa0a")].popDiv_.innerHTML),this[_0x37ca("0xa0a")][_0x37ca("0xa0e")][_0x37ca("0x324")]=x;var _=document[_0x37ca("0xa0b")](this.tapTip[_0x37ca("0xa0c")]);_&&(_[_0x37ca("0x324")]=a)}}},{key:"hideTip",value:function(){this.tapTip[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0}},{key:_0x37ca("0xa09"),value:function(){var x=this;x[_0x37ca("0x939")][_0x37ca("0x1f")]((function(a){x.storeSelect(a,!1)})),x[_0x37ca("0x939")][_0x37ca("0x4")]=0}},{key:_0x37ca("0xa47"),value:function(x,a,c){c=c||0;var _=esmap.ESMapUtil[_0x37ca("0x5e5")](this,c,{types:[_0x37ca("0x219"),_0x37ca("0x3e4")],ID:x});if(0!=_[_0x37ca("0x4")]){var e=_[0];if(e.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0x622")]){for(var t=e[_0x37ca("0xa5")].userData[_0x37ca("0x402")],i=(e.o3d_[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],e[_0x37ca("0xbc")][0]),n=(e[_0x37ca("0xbc")][1],null),r=0;r<t.length;r++)if(i>=t[r][_0x37ca("0x1c6")]&&i<t[r][_0x37ca("0x1c6")]+t[r].count){n=t[r].materialIndex;break}e.o3d_[_0x37ca("0xa9")][n].userData[_0x37ca("0xa48")]=e[_0x37ca("0xa5")][_0x37ca("0xa9")][n][_0x37ca("0xfd")],e[_0x37ca("0xa5")][_0x37ca("0xa9")][n][_0x37ca("0xfd")]=a}else{[][_0x37ca("0x15")](e.o3d_[_0x37ca("0xa9")])[_0x37ca("0x1f")]((function(x){var c=x[_0x37ca("0xfd")];x.userData[_0x37ca("0xa48")]=c,x.opacity=a}))}}}},{key:_0x37ca("0xa49"),value:function(x){this[_0x37ca("0xa4a")].setPointer(x)}},{key:"setCompassBgUrl",value:function(x){this[_0x37ca("0xa4a")].setBg(x)}},{key:_0x37ca("0xa4b"),value:function(x,a){a=a||0;var c=esmap[_0x37ca("0x7b")].search(this,a,{types:[_0x37ca("0x219"),"model3d"],ID:x});if(0!=c[_0x37ca("0x4")]){var _=c[0];if(_.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0x622")]){for(var e=0;e<_[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x4")];e++)if(_0x37ca("0xa48")in _[_0x37ca("0xa5")][_0x37ca("0xa9")][e][_0x37ca("0x11a")]){_[_0x37ca("0xa5")][_0x37ca("0xa9")][e].opacity=_.o3d_.material[e][_0x37ca("0x11a")].originalOp,delete _[_0x37ca("0xa5")].material[e][_0x37ca("0x11a")][_0x37ca("0xa48")];break}}else[].concat(_[_0x37ca("0xa5")][_0x37ca("0xa9")])[_0x37ca("0x1f")]((function(x){x.opacity=x[_0x37ca("0x11a")][_0x37ca("0xa48")],delete x.userData[_0x37ca("0xa48")]}))}}},{key:_0x37ca("0xa4c"),value:function(x){return!this[_0x37ca("0xa4d")]||this[_0x37ca("0xa4d")](x)}},{key:_0x37ca("0xa4e"),value:function(){this[_0x37ca("0x940")].initUserLogo();var x=this[_0x37ca("0x14c")][_0x37ca("0xa4f")]();this[_0x37ca("0x154")][_0x37ca("0xb5")][_0x37ca("0xe0")](x)}},{key:"getTileFromCache",value:function(x){for(var a=0;a<this.tileService[_0x37ca("0xa32")][_0x37ca("0x4")];a++)if(this[_0x37ca("0x157")][_0x37ca("0xa32")][a].id==x)return this[_0x37ca("0x157")][_0x37ca("0xa32")][a]}},{key:_0x37ca("0xa50"),value:function(x){var a=this,c=x.id,_=x.buildingType;9568297==this.sl()&&this[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xa51")](c,(function(x,e){e.buildingType=_,e[_0x37ca("0xe5")]=[e[_0x37ca("0x169")].x,e[_0x37ca("0x169")].y];var t=a[_0x37ca("0xa52")][_0x37ca("0x2b")](",");e[_0x37ca("0xa5")].position[_0x37ca("0x11d")](0+1*t[0]-0,1*t[1],0+1*t[2]+0),a[_0x37ca("0x14c")][_0x37ca("0xa53")]().add(e[_0x37ca("0xa5")]),e[_0x37ca("0x15a")](1),a[_0x37ca("0x157")][_0x37ca("0xa54")](c,a[_0x37ca("0x36")],c)}),(function(x){a.tileService[_0x37ca("0xa55")][c]=!0,a[_0x37ca("0x157")].solvingList[_0x37ca("0x5")](a[_0x37ca("0x157")].solvingList[_0x37ca("0xda")](c),1),esmap[_0x37ca("0x34")][_0x37ca("0x980")]=!1,a[_0x37ca("0x157")][_0x37ca("0xa56")][c]=!0,a.tileService[_0x37ca("0xa54")](c,a[_0x37ca("0x36")],c),a[_0x37ca("0x1d4")](_0x37ca("0xa57"),(function(x){if(a[_0x37ca("0x157")][_0x37ca("0xa56")][x]){var c=x.split("_"),e=(0,b[_0x37ca("0x1c9")])(1*c[0],1*c[1],a[_0x37ca("0x36")][_0x37ca("0x1ca")],!0),t=(e[_0x37ca("0xab")]-e[_0x37ca("0xae")])/2+e[_0x37ca("0xae")],i=(e[_0x37ca("0xac")]-e[_0x37ca("0xaf")])/2+e.miny,n=new(A[_0x37ca("0xe")])({id:x,map:a});n[_0x37ca("0xe5")]=[t,i],n[_0x37ca("0x616")]=_;var r=a[_0x37ca("0xa52")][_0x37ca("0x2b")](",");n[_0x37ca("0xa5")].position[_0x37ca("0x11d")](0+1*r[0]-0,1*r[1],0+1*r[2]+0),a[_0x37ca("0x14c")].getTileScene().add(n[_0x37ca("0xa5")]),a[_0x37ca("0x157")][_0x37ca("0xa56")][x]=null,a.tileLoadComplete_(n)}})),0==a[_0x37ca("0x157")][_0x37ca("0x9a9")].length&&0==a[_0x37ca("0x157")][_0x37ca("0xa58")][_0x37ca("0x4")]&&(a[_0x37ca("0x1da")](_0x37ca("0xa59")),a.loadCompleted||0!==a.tileList[_0x37ca("0x4")]||(esmap.ESMap[_0x37ca("0x980")]=!1,a[_0x37ca("0x1da")](_0x37ca("0xa5a"),{bid:a.id}),a[_0x37ca("0xa5b")]=!0))}))}},{key:_0x37ca("0xa5c"),value:function(x){this[_0x37ca("0x163")][_0x37ca("0xa5d")][_0x37ca("0xa5e")](x)}},{key:_0x37ca("0xa5f"),value:function(x){this[_0x37ca("0x163")].langLib[_0x37ca("0xa60")](x)}},{key:_0x37ca("0xa61"),value:function(){return this.mapService.langLib[_0x37ca("0xa62")][_0x37ca("0xe")]}},{key:_0x37ca("0xa63"),value:function(){return this[_0x37ca("0x163")][_0x37ca("0xa5d")][_0x37ca("0xa64")][_0x37ca("0xe")]}},{key:_0x37ca("0xa65"),value:(S=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")].mark((function x(a){var c,_,e,n,r,s,o,l,u,d,f,h,g,b;return i.default[_0x37ca("0x298")]((function(x){for(;;)switch(x.prev=x.next){case 0:if(!esmap[_0x37ca("0x34")][_0x37ca("0x980")]){x.next=2;break}return x[_0x37ca("0x29f")]("return");case 2:if(c=this,_=this[_0x37ca("0xf0")](a)){x[_0x37ca("0x29a")]=7;break}return console[_0x37ca("0x23b")](_0x37ca("0xa66")),x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 7:return e=_[_0x37ca("0x616")],this[_0x37ca("0x1da")]("preCloseBuilding",{bid:a,type:e}),n=this.currentCamera.position.y,r=this[_0x37ca("0x275")].target.y,x.next=13,new(t[_0x37ca("0xe")])((function(x){new(esmap[_0x37ca("0x1c1")].Tween)(c.controls.target).to({y:0},300)[_0x37ca("0x261")](esmap.TWEEN.Easing[_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){c[_0x37ca("0x186")].position.y=n-(r-x.y),c[_0x37ca("0x275")][_0x37ca("0x119")]()}))[_0x37ca("0x1c4")](x)[_0x37ca("0x1c6")]()}));case 13:s=0;case 14:if(!(s<this.buildingList[_0x37ca("0x4")])){x.next=21;break}if(this[_0x37ca("0x628")][s].id!=a){x.next=18;break}return this[_0x37ca("0x628")][_0x37ca("0x5")](s,1),x[_0x37ca("0x29f")](_0x37ca("0xa67"),21);case 18:s++,x[_0x37ca("0x29a")]=14;break;case 21:if(_[_0x37ca("0xa68")],(o=_[_0x37ca("0xa5")])[_0x37ca("0xed")]=!1,l=_.shell)if(6==l.nodeType)l[_0x37ca("0xa5")]?l[_0x37ca("0xa5")][_0x37ca("0xa4")][_0x37ca("0x331")]&&l.o3d_[_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x4")]>1?l[_0x37ca("0xa5")][_0x37ca("0xa6")][_0x37ca("0x1f")]((function(x){_[_0x37ca("0x14f")].GLTFMergeTool[_0x37ca("0x401")](x,l.ID,!0)})):(l[_0x37ca("0xa5")][_0x37ca("0xed")]=!0,esmap[_0x37ca("0x7b")].setAlpha({target:l[_0x37ca("0xa5")],alpha:!1})):l[_0x37ca("0xed")]=!0;else if(5==l[_0x37ca("0xc8")]){for(u=l.o3d_[_0x37ca("0xa7")][_0x37ca("0xb7")].isHideFlags[_0x37ca("0x19f")],d=l[_0x37ca("0xbc")],f=d[0];f<d[1];f+=1)u[f]=0;l.o3d_[_0x37ca("0xa7")].attributes[_0x37ca("0x9ed")].needsUpdate=!0}if(!_[_0x37ca("0xa69")]||0!=D){x.next=29;break}return x[_0x37ca("0x29a")]=29,_[_0x37ca("0xa6a")]();case 29:this[_0x37ca("0x36")][_0x37ca("0xa6b")]?(this[_0x37ca("0x157")][_0x37ca("0x9c1")][_.id]=o,this[_0x37ca("0x14c")].buildingScene_[_0x37ca("0x147")](o)):(_[_0x37ca("0x39")]=void 0,_.meshHandler=void 0,_[_0x37ca("0x169")]=void 0,_.o3dFloors_=void 0,this[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0x147")](o),o=void 0),this.options[_0x37ca("0xa6b")]||this.mapPicker[_0x37ca("0x18d")][a]&&(this[_0x37ca("0x182")][_0x37ca("0x18d")][a]=void 0,delete this.mapPicker[_0x37ca("0x18d")][a]),x.t0=i[_0x37ca("0xe")][_0x37ca("0x5e1")](this[_0x37ca("0x157")][_0x37ca("0x5da")]);case 32:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x[_0x37ca("0x29a")]=40;break}if((h=x.t1[_0x37ca("0xf2")])!=a){x[_0x37ca("0x29a")]=38;break}return this[_0x37ca("0x157")][_0x37ca("0x5da")][h][_0x37ca("0xa6c")]&&(this[_0x37ca("0x157")][_0x37ca("0x5da")][h][_0x37ca("0xa6c")]=!1),this.tileService.bidList[h][_0x37ca("0xa6d")]=!0,x[_0x37ca("0x29f")](_0x37ca("0xa67"),40);case 38:x[_0x37ca("0x29a")]=32;break;case 40:for(this[_0x37ca("0x1da")](_0x37ca("0x9b1"),{bid:a,type:e}),g=0;g<this.buildingList[_0x37ca("0x4")];g++)(b=this[_0x37ca("0x628")][g])[_0x37ca("0xa5")]&&1!=b[_0x37ca("0xa5")][_0x37ca("0x22e")].y&&new(esmap[_0x37ca("0x1c1")].Tween)(b[_0x37ca("0xa5")][_0x37ca("0x22e")]).to({y:1},1e3).easing(esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x1c6")]();0===this[_0x37ca("0x628")][_0x37ca("0x4")]&&this.fire(_0x37ca("0xa6e"));case 43:case _0x37ca("0x2dc"):return x.stop()}}),x,this)}))),function(x){return S[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0xa6f"),value:function(x){for(var a,c=[],_=x.o3d_,e=x[_0x37ca("0xbc")][0];e<x[_0x37ca("0xbc")][1];e++){var t=_[_0x37ca("0xa7")][_0x37ca("0xa71")][e];!t[_0x37ca("0xf8")].x&&!t[_0x37ca("0xf8")].y&&t[_0x37ca("0xf8")].z<0&&c.push(t.a,t.b,t.c)}c=(0,g[_0x37ca("0xa72")])(c);for(var i=0;i<c[_0x37ca("0x4")];i++)a=_[_0x37ca("0xa7")].vertices[c[i]],new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a).to({z:a[_0x37ca("0xa70")]},500)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Linear[_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){_[_0x37ca("0xa7")].verticesNeedUpdate=!0}))[_0x37ca("0x1c6")]()}},{key:"hideRoomModel",value:function(x){for(var a,c=[],_=x[_0x37ca("0xa5")],e=x[_0x37ca("0xbc")][0];e<x.faceRange[1];e++){var t=_.geometry.faces[e];!t[_0x37ca("0xf8")].x&&!t[_0x37ca("0xf8")].y&&t[_0x37ca("0xf8")].z<0&&c[_0x37ca("0x0")](t.a,t.b,t.c)}c=(0,g.dedupe)(c);for(var i=0;i<c[_0x37ca("0x4")];i++)(a=_[_0x37ca("0xa7")][_0x37ca("0xa74")][c[i]])[_0x37ca("0xa70")]=a.z,new(esmap.TWEEN[_0x37ca("0x1bd")])(a).to({z:0},500)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){_.geometry[_0x37ca("0xa73")]=!0}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0xa75"),value:function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]&&arguments[1],c=a?x:this[_0x37ca("0x254")](x),_=this[_0x37ca("0xf0")](0),e=_[_0x37ca("0x14f")];return e.updateFrustum(),e[_0x37ca("0xa76")].containsPoint(c)}},{key:"closeAllBuildings",value:function(){for(;this[_0x37ca("0x628")][_0x37ca("0x4")]>0;){var x=this[_0x37ca("0x628")].shift();this[_0x37ca("0xa65")](x.id)}}},{key:_0x37ca("0xa77"),value:function(x){var a=this;typeof x!=_0x37ca("0x143")&&typeof x!=_0x37ca("0xf")||(x={value:1*x});var c=(x=(0,r[_0x37ca("0xe")])({value:0,time:1,emitError:!1,onComplete:null},x))[_0x37ca("0xf2")],_=this[_0x37ca("0x156")];P&&(P[_0x37ca("0x1bc")](),P=null),P=new(esmap[_0x37ca("0x1c1")].Tween)({value:_}).to({value:c},1e3*x.time)[_0x37ca("0x261")](esmap.TWEEN.Easing.Quadratic[_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){a[_0x37ca("0x156")]=x[_0x37ca("0xf2")]}))[_0x37ca("0x1c4")]((function(){x[_0x37ca("0x1c4")]&&x.onComplete(),P=null}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0xa78"),value:function(){var x=this;x[_0x37ca("0x146")].forEach((function(a){x.storeSelectLine(a,!1)})),x.lastSelectLineStore[_0x37ca("0x4")]=0}},{key:_0x37ca("0xa79"),value:function(x,a,c){var _=this;null==a&&(a=!0),a&&!c&&(!_[_0x37ca("0x36")][_0x37ca("0xa7a")]&&_.selectLineNull(),_[_0x37ca("0x146")][_0x37ca("0x0")](x));var e=x[_0x37ca("0xa6")][0];if(x[_0x37ca("0x22a")]==_0x37ca("0x148")&&(e=x),e&&e[_0x37ca("0xa9")]){if(0==a)return e[_0x37ca("0x11a")][_0x37ca("0xa7b")]?(e.material=e[_0x37ca("0x11a")].originalMat,e[_0x37ca("0x11a")][_0x37ca("0xa7b")]=null):e[_0x37ca("0xa3b")]?e.color=e[_0x37ca("0x11a")][_0x37ca("0x922")]:e[_0x37ca("0xa9")][_0x37ca("0x13c")]=e[_0x37ca("0xa9")][_0x37ca("0x11a")].originalColor?e[_0x37ca("0xa9")][_0x37ca("0x11a")].originalColor:e[_0x37ca("0x11a")].originalColor,void(e[_0x37ca("0x11a")][_0x37ca("0xa3d")]=!1);e[_0x37ca("0x11a")][_0x37ca("0x9ee")]&&(e.userData[_0x37ca("0xa7b")]=e[_0x37ca("0xa9")],e[_0x37ca("0xa9")]=e[_0x37ca("0xa9")][_0x37ca("0xde")]()),e[_0x37ca("0xa3b")]?(e[_0x37ca("0x11a")][_0x37ca("0x922")]=e[_0x37ca("0x13c")],e.color=_[_0x37ca("0xf5")][_0x37ca("0xa2f")]):(e[_0x37ca("0x11a")][_0x37ca("0x922")]=e[_0x37ca("0xa9")][_0x37ca("0x13c")].clone(),e[_0x37ca("0x11a")][_0x37ca("0xa7b")]||(e[_0x37ca("0x11a")].originalMat=e[_0x37ca("0xa9")]),e.material=e[_0x37ca("0xa9")][_0x37ca("0xde")](),e.material[_0x37ca("0x13c")]=new THREE.Color(_[_0x37ca("0xf5")][_0x37ca("0xa2f")])),e.userData.isSelected=!0}}},{key:"initMap",value:function(){var x=this;this[_0x37ca("0x182")]&&(this.mapPicker[_0x37ca("0xa7c")]||(this.mapPicker.on("pickedObjects",(function(a){x[_0x37ca("0xa09")](),x.selectLineNull(),x.selectModelNull();for(var c=x.mapPicker.propogation,_=a.objects,e=!1,t=a[_0x37ca("0x723")],i=0;i<a[_0x37ca("0x4b3")][_0x37ca("0x4")];i++)if((a[_0x37ca("0x4b3")][i][_0x37ca("0xc")]instanceof esmap[_0x37ca("0x5b8")]||a[_0x37ca("0x4b3")][i][_0x37ca("0xc")]instanceof esmap[_0x37ca("0x289")])&&(a.objects[i][_0x37ca("0xc")][_0x37ca("0xa4")][_0x37ca("0xa7d")]||a[_0x37ca("0x4b3")][i][_0x37ca("0xc")][_0x37ca("0xa4")][_0x37ca("0xa7e")])){_=[a[_0x37ca("0x4b3")][i]];break}for(var n={},r=!1,s=0;s<_[_0x37ca("0x4")];s++)if(c||!s){c&&(x.selectNull(),x[_0x37ca("0xa37")]());var o=_[s],l=o[_0x37ca("0xc")],u=l,d=null;if(!l.datas_)if(21==l[_0x37ca("0xc8")])l=l.parent;else{if(l[_0x37ca("0x1aa")]&&l[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0xa7f"))>-1)continue;l=(0,b[_0x37ca("0xa3")])(l)}if(l&&!n[l[_0x37ca("0x3c5")]]){n[l[_0x37ca("0x3c5")]]=!0;var f=o[_0x37ca("0x3ca")];if(l[_0x37ca("0xa4")]){switch(l.datas_[_0x37ca("0xc8")]){case esmap[_0x37ca("0xe8")][_0x37ca("0x622")]:var h=l[_0x37ca("0xa4")][_0x37ca("0x331")],g=l[_0x37ca("0xa4")][_0x37ca("0xef")],v=x.options;2==l.datas_[_0x37ca("0x17d")]&&(v=x.getBuildingById(g)[_0x37ca("0x36")]);var p=!1;if(h){var A=(0,b[_0x37ca("0xa81")])(o[_0x37ca("0xa82")],h);if((d=h[A])[_0x37ca("0xa5")]||(d.o3d_=l),u[_0x37ca("0xa7")].attributes[_0x37ca("0x9ed")]){for(var m=u[_0x37ca("0xa7")][_0x37ca("0xb7")][_0x37ca("0x9ed")][_0x37ca("0x19f")],C=d[_0x37ca("0xbc")][0],I=d[_0x37ca("0xbc")][1],y=!1,E=C+1;E<I-1;E+=1)if(1==m[E]){y=!0,c=!0;break}y&&(p=!0,r=!0)}}else d=l[_0x37ca("0xa4")];if(p)continue;var w=!1;d.mapId&&x[_0x37ca("0x36")][_0x37ca("0xa83")]&&2!=t&&(x[_0x37ca("0x157")][_0x37ca("0x982")](d),w=!0);var T=d[_0x37ca("0x62f")],k=x[_0x37ca("0xf0")](g);if(k){var S=k.modelLoadManager.bimLoader[_0x37ca("0xa84")][T];S||(S=k[_0x37ca("0x14f")][_0x37ca("0xa85")][_0x37ca("0xa86")](T))&&(k[_0x37ca("0x14f")][_0x37ca("0xa85")].bimInfoLib[T]=S),S&&(d[_0x37ca("0x3c5")]=S[_0x37ca("0x3c5")],d.infoList=S[_0x37ca("0xa87")])}w||(h?v[_0x37ca("0x1eb")]&&x[_0x37ca("0xa4c")](d)&&x[_0x37ca("0xa0f")](d):x[_0x37ca("0xa0f")](d));break;case esmap[_0x37ca("0xe8")][_0x37ca("0x217")]:var M=x[_0x37ca("0x36")],R=x[_0x37ca("0x182")][_0x37ca("0xa88")];if(2==l[_0x37ca("0xa4")].bType&&(M=x.getBuildingById(l[_0x37ca("0xa4")][_0x37ca("0xef")])[_0x37ca("0x36")]),!s&&M[_0x37ca("0x1ec")]&&(l[_0x37ca("0x11a")].merged||!l[_0x37ca("0xa4")][_0x37ca("0xa89")]&&x[_0x37ca("0xa41")](l)),l.datas_[_0x37ca("0x331")]){var L=function(){var a=x[_0x37ca("0xf0")](0),c=a[_0x37ca("0x14f")][_0x37ca("0x629")][_0x37ca("0x403")](o[_0x37ca("0xa82")],u.geometry[_0x37ca("0x11a")][_0x37ca("0x3f3")]),e=a[_0x37ca("0x14f")].GLTFMergeTool.getMatIndexByFaceIndex(o.faceIndex,u[_0x37ca("0xa7")][_0x37ca("0x402")]),i=c.id,n=l[_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x2f9")]((function(x){return x.id==i})),r=!1;if(!n[0])return _0x37ca("0x5e4");if(!n[0][_0x37ca("0xa8a")])return _[_0x37ca("0x5")](s,1),s--,_0x37ca("0x5e4");if(n[0][_0x37ca("0x38")]&&x[_0x37ca("0x36")].clickOpenBuildings&&(r=!0),x[_0x37ca("0x36")][_0x37ca("0x1ec")]&&!r&&a[_0x37ca("0x14f")].GLTFMergeTool[_0x37ca("0x3f4")](o.faceIndex,u,e),d={mapId:n[0][_0x37ca("0x38")],nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x217")],angle:n[0][_0x37ca("0x252")],dataID:n[0][_0x37ca("0x62f")],bid:l[_0x37ca("0xa4")][_0x37ca("0xef")],bType:l[_0x37ca("0xa4")][_0x37ca("0x17d")],ID:i,name:n[0].name,scale:n[0][_0x37ca("0x22e")],Height:n[0][_0x37ca("0x316")],model:n[0].model,FloorNum:n[0][_0x37ca("0xe6")],gid:n[0][_0x37ca("0xa8b")],url:n[0][_0x37ca("0x4a")],o3d_:l,typeID:n[0].typeID,mapCoord:x[_0x37ca("0x234")](n[0].position)},n[0].classID&&(d[_0x37ca("0x62b")]=n[0][_0x37ca("0x62b")]),n[0].showLevel&&(d[_0x37ca("0x223")]=n[0][_0x37ca("0x223")]),n[0][_0x37ca("0xa8c")]&&(d=n[0],!n[0][_0x37ca("0x3c5")])){var f=x[_0x37ca("0xf0")](d[_0x37ca("0xef")]),h=n[0][_0x37ca("0x62f")],g=f[_0x37ca("0x14f")][_0x37ca("0xa85")][_0x37ca("0xa84")][h];g||(g=f[_0x37ca("0x14f")][_0x37ca("0xa85")].getInfo(h)),g&&(f[_0x37ca("0x14f")].bimLoader[_0x37ca("0xa84")][h]=g,d[_0x37ca("0x3c5")]=g[_0x37ca("0x3c5")],d[_0x37ca("0xa87")]=g[_0x37ca("0xa87")])}r&&2!=t&&x.tileService[_0x37ca("0x982")](d)}();if(L===_0x37ca("0x5e4"))continue}else l.datas_[_0x37ca("0x38")]&&x[_0x37ca("0x36")].clickOpenBuildings&&x[_0x37ca("0x157")][_0x37ca("0x982")](l[_0x37ca("0xa4")]);if(R){var H="";H=l[_0x37ca("0xa4")][_0x37ca("0x331")]?l.datas_.brothers[0][_0x37ca("0x219")]:l[_0x37ca("0xa4")].model;var P=x[_0x37ca("0x163")][_0x37ca("0x29c")][H][_0x37ca("0x301")];if(!P[_0x37ca("0x11a")][_0x37ca("0x29d")]){var D=(0,b[_0x37ca("0xa2")])(P);P[_0x37ca("0x11a")].info=D}console[_0x37ca("0x23b")](_0x37ca("0xa8d"),_0x37ca("0xa8e"),P[_0x37ca("0x11a")].info)}break;case esmap.ESNodeType.LINE_MARKER:d=l[_0x37ca("0xa4")]||null,x.options.lineSelectedEffect&&x[_0x37ca("0xa79")](l);break;case esmap[_0x37ca("0xe8")].LINE:x[_0x37ca("0x36")].lineSelectedEffect&&x[_0x37ca("0xa79")](l);break;case esmap[_0x37ca("0xe8")].POLYGON_MARKER:x[_0x37ca("0x36")].modelSelectedEffect&&(l.datas_.line&&(l.datas_.line[_0x37ca("0x1")](_0x37ca("0xa3f"))||(l[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0xa3f")]=l.datas_[_0x37ca("0xa3e")][_0x37ca("0x115")]),l.datas_[_0x37ca("0xa3e")].hasOwnProperty(_0x37ca("0xa8f"))||(l[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0xa7")][_0x37ca("0xa8f")]=l[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0xa7")][_0x37ca("0x630")]),l.datas_.line[_0x37ca("0x115")]=5,l[_0x37ca("0xa4")].line.updateLineWidth&&l[_0x37ca("0xa4")].line[_0x37ca("0x12e")](),l[_0x37ca("0xa4")][_0x37ca("0xa3e")][_0x37ca("0x11e")]=!0),x[_0x37ca("0xa41")](l));case esmap[_0x37ca("0xe8")][_0x37ca("0xa90")]:case esmap[_0x37ca("0xe8")][_0x37ca("0x632")]:case esmap[_0x37ca("0xe8")][_0x37ca("0xa91")]:}var O=d||l[_0x37ca("0xa4")];O[_0x37ca("0xa92")]=f.clone();var B=x[_0x37ca("0x253")](f),N=x[_0x37ca("0x17e")]({from:x[_0x37ca("0x180")],to:x[_0x37ca("0x36")][_0x37ca("0x2ef")],coord:B});O[_0x37ca("0xa93")]=N,e||(e=!0),c&&x.options[_0x37ca("0x23e")]&&(O[_0x37ca("0xa94")]=s);var F={button:a.button,object:u};if(x[_0x37ca("0x1da")]("mapClickNode",O,F),r)break}else console[_0x37ca("0xca")](_0x37ca("0xa80"))}}if(!e){var z=x[_0x37ca("0x182")][_0x37ca("0xa95")][_0x37ca("0xa96")]([x[_0x37ca("0x3c4")]],!0);1==z[_0x37ca("0x4")]&&x.mapPicker[_0x37ca("0x1da")](_0x37ca("0xa97"),{mouse:x[_0x37ca("0x182")][_0x37ca("0xa98")],hitCoord:z[0][_0x37ca("0x3ca")],worldCoord:z[0].point})}})),this.mapPicker.on("pickerNone_",(function(a){x.selectNull(),x[_0x37ca("0xa37")](),x.selectLineNull();var c=a[_0x37ca("0xa93")]?x[_0x37ca("0x253")](a[_0x37ca("0xa93")]):null,_=x[_0x37ca("0x17e")]({from:x[_0x37ca("0x180")],to:x.options[_0x37ca("0x2ef")],coord:c});x[_0x37ca("0x1da")](_0x37ca("0xa99"),{target:null,mouse:a.mouse,hitCoord:_,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xa9a")],worldCoord:a[_0x37ca("0xa93")]},{button:a[_0x37ca("0x723")]})})),this[_0x37ca("0x182")].on(_0x37ca("0xa9b"),(function(a){if(0!=a[_0x37ca("0xa9c")][_0x37ca("0x4")]){var c=a.intersects[0][_0x37ca("0xc")];if(!c[_0x37ca("0xa4")]&&!(c=(0,b[_0x37ca("0xa3")])(c)))return null;if(!c)return null;var _=c.datas_;if(_&&_[_0x37ca("0xc8")]&&(_[_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0xa9d")]||_[_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0xa9e")]||_[_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0x632")]||_.nodeType==esmap[_0x37ca("0xe8")][_0x37ca("0xa91")])){var e=a[_0x37ca("0xa9c")][0].point;_.worldCoord=e[_0x37ca("0xde")]();var t=x._coordThreeToMapScene(e),i=x[_0x37ca("0x17e")]({from:x.coordSystem,to:x[_0x37ca("0x36")][_0x37ca("0x2ef")],coord:t});_.hitCoord=i;var n=0;if(x[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")])n=x[_0x37ca("0x163")][_0x37ca("0x603")]("l0");else n=x[_0x37ca("0x163")][_0x37ca("0x603")]("ul")>>1&1||0;n>=1&&x[_0x37ca("0x1da")](_0x37ca("0xa9f"),_)}}}))))}},{key:_0x37ca("0xaa0"),value:function(){for(var x=0;x<this.animatque[_0x37ca("0x4")];x++)this[_0x37ca("0x62")](_0x37ca("0x119"),this[_0x37ca("0xaa1")][x]);this[_0x37ca("0xaa1")]=[]}},{key:_0x37ca("0xaa2"),value:function(){return this[_0x37ca("0x14c")][_0x37ca("0x99e")]}},{key:_0x37ca("0x17e"),value:function(x){var a=x[_0x37ca("0x2db")],c=void 0===a?this[_0x37ca("0x17f")]:a,_=x.to,e=void 0===_?this.coordSystem:_,t=x[_0x37ca("0x1c8")];if(c==e)return t;var i=(0,r[_0x37ca("0xe")])({},t),n=esmap[_0x37ca("0x7b")].Mercator2lonLat(i.x,i.y),s=n;c!==e&&(s=h[_0x37ca("0xe")][_0x37ca("0x644")](n,h.default[c],h[_0x37ca("0xe")][e]));var o=esmap[_0x37ca("0x7b")][_0x37ca("0x646")](s[0],s[1]);return i.x=o[0],i.y=o[1],i}},{key:_0x37ca("0xaa3"),value:function(x){return this[_0x37ca("0x36")][_0x37ca("0x2ef")]!=this[_0x37ca("0x180")]?this[_0x37ca("0x17e")]({from:this[_0x37ca("0x36")][_0x37ca("0x2ef")],to:this[_0x37ca("0x180")],coord:x}):x}},{key:"transformCoordArray",value:function(x){var a=x[_0x37ca("0x2db")],c=x.to,_=x[_0x37ca("0xaa4")],e=x.flipX,t=void 0!==e&&e;if(a==c)return _;var i=[];for(var n in _)if(isNaN(_[n].x)||isNaN(_[n].y))console[_0x37ca("0xca")]("x or y contains NaN:",_[n]);else{var s=(0,r[_0x37ca("0xe")])({},_[n]);t&&(s.x=-s.x);var o=this.transformCoord({from:a,to:c,coord:s});s.x=o.x,s.y=o.y,t&&(s.x=-s.x),i[_0x37ca("0x0")](s)}return i}},{key:_0x37ca("0x254"),value:function(x){var a=this[_0x37ca("0x17e")]({from:this.options[_0x37ca("0x2ef")],to:this[_0x37ca("0x180")],coord:x});return this[_0x37ca("0x181")](a)}},{key:_0x37ca("0x181"),value:function(x){var a=x.z||x[_0x37ca("0x137")]||0,c=this[_0x37ca("0x14c")],_={x:x.x,y:x.y};return _.x=-(_.x+c[_0x37ca("0x19a")]),_.y=_.y-c[_0x37ca("0x19b")],new THREE.Vector3(_.x,a,_.y)}},{key:_0x37ca("0x234"),value:function(x){var a={x:this[_0x37ca("0xaa5")].x-x.x,y:x.z+this[_0x37ca("0xaa5")].y,z:x.y||0};return this[_0x37ca("0x17e")]({from:this[_0x37ca("0x180")],to:this[_0x37ca("0x36")][_0x37ca("0x2ef")],coord:a})}},{key:_0x37ca("0x253"),value:function(x){return{x:this[_0x37ca("0xaa5")].x-x.x,y:x.z+this[_0x37ca("0xaa5")].y,z:x.y||0}}},{key:"_start_",value:function(){this[_0x37ca("0xaa6")]=!0,this[_0x37ca("0xaa7")]=!1,this[_0x37ca("0xaa8")]=!1,this.updateCountDown_=0,this[_0x37ca("0xaa9")]=Math[_0x37ca("0xc4")](Math[_0x37ca("0xb0")]((this[_0x37ca("0x453")]-this[_0x37ca("0x43e")])/2,2)+Math.pow((this.maxY-this.minY)/2,2)),this[_0x37ca("0x610")]={mode:this[_0x37ca("0x36")][_0x37ca("0x610")],init:!0,time:0},this.plane_=new THREE.Mesh(new(THREE[_0x37ca("0x6a0")])(30707730.7171648,30707730.7171648,1,1),new(THREE[_0x37ca("0xfc")])({color:6724044,visible:!1})),this[_0x37ca("0x3c4")].name=_0x37ca("0xaaa"),this[_0x37ca("0x3c4")][_0x37ca("0xa4")]={nodeType:1,name:_0x37ca("0xaab"),o3d_:this.plane_},this[_0x37ca("0x14c")][_0x37ca("0xaac")].add(this[_0x37ca("0x3c4")]),this.plane_[_0x37ca("0xb8")][_0x37ca("0x11d")](0,0,0),this.plane_[_0x37ca("0x1a3")].x=-Math.PI/2,this.fire(_0x37ca("0x1c6")),this._haveUpdate||(this._haveUpdate=!0),this.on("update",this[_0x37ca("0x9cf")])}},{key:_0x37ca("0x15e"),value:function(x){var a=this;a[_0x37ca("0x1da")](_0x37ca("0xaad"),x),a.mapService[_0x37ca("0x18f")][x.id]&&a[_0x37ca("0x1da")](_0x37ca("0xaae"),x.id),a.options[_0x37ca("0x23e")]&&a[_0x37ca("0x36")].loadRoads&&x[_0x37ca("0x18e")](),a.options.loadPoi&&x[_0x37ca("0x168")]();var c=x.id,_=a.mapService[_0x37ca("0x157")][_0x37ca("0xa58")][_0x37ca("0xda")](c);if(a[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xa58")][_0x37ca("0x5")](_,1),0==a.mapService[_0x37ca("0x157")][_0x37ca("0xa58")][_0x37ca("0x4")]&&0==a[_0x37ca("0x163")][_0x37ca("0x157")].currentView[_0x37ca("0x4")]){if(!a[_0x37ca("0x163")][_0x37ca("0xaaf")]){a[_0x37ca("0x163")][_0x37ca("0xaaf")]=!0;var e=a[_0x37ca("0x9aa")],t=!0;for(var i in e){var n=e[i],r=n.modelLoadManager[_0x37ca("0x9ab")][_0x37ca("0x4")],s=n.modelLoadManager.requisitesQueue.length;if(r>0||s>0){t=!1;break}}!a[_0x37ca("0x163")][_0x37ca("0xab0")]&&t&&(a[_0x37ca("0x163")][_0x37ca("0xab0")]=!0)}a[_0x37ca("0x1da")](_0x37ca("0xa59")),a[_0x37ca("0xa5b")]||(a.loadCompleted=!0,esmap[_0x37ca("0x34")].IsMapLoading=!1,a.fire("loadComplete",{bid:a.id})),a[_0x37ca("0xab1")]()}}},{key:_0x37ca("0x9a5"),value:function(){var x=this;esmap[_0x37ca("0x34")][_0x37ca("0x980")]=!1;var a=this[_0x37ca("0x154")].container[_0x37ca("0x3a5")],c=this.mapView.container.clientHeight;x[_0x37ca("0x154")].updateSize(a,c),x[_0x37ca("0x940")][_0x37ca("0x40c")](a,c),x.scaler_.updateText(),this.on(_0x37ca("0x12d"),(function(){var a=x[_0x37ca("0x154")].zoomLevel;x[_0x37ca("0xab2")](a),a<=x[_0x37ca("0x36")].tileShowLevel?x[_0x37ca("0xa6e")]():a<=x[_0x37ca("0x36")][_0x37ca("0xab3")]&&x[_0x37ca("0xa0a")]&&0!=x.tapTip[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]&&(x[_0x37ca("0xa0a")][_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0),x[_0x37ca("0x945")][_0x37ca("0xab4")]()}))}},{key:_0x37ca("0x9b5"),value:function(x){var a=this;a[_0x37ca("0x154")].initViewState=this.cameraFlyToHelper(),esmap[_0x37ca("0x34")][_0x37ca("0x980")]=!1;var _=this[_0x37ca("0x154")][_0x37ca("0x1ed")][_0x37ca("0x3a5")],e=this[_0x37ca("0x154")].container.clientHeight;a[_0x37ca("0x154")][_0x37ca("0xab5")](_,e),a[_0x37ca("0x940")][_0x37ca("0x40c")](_,e),a.scaler_.updateText();var t=c(139),i=t[_0x37ca("0x51d")][_0x37ca("0x7c")](a[_0x37ca("0x163")].tileService.privites);if(Object[_0x37ca("0x9")](a,"__mbs",{value:i[_0x37ca("0x526")],writable:!1,enumerable:!1,configurable:!0}),a[_0x37ca("0x1da")]("preLoadComplete",{}),window[_0x37ca("0x41c")][_0x37ca("0xab6")]||(a[_0x37ca("0x93b")]=!0,a[_0x37ca("0x157")][_0x37ca("0xab7")]()),this.on(_0x37ca("0x119"),(function(){a[_0x37ca("0xab8")]()})),this.on(_0x37ca("0x12d"),(function(){var x=a[_0x37ca("0x154")].zoomLevel,c=a.options[_0x37ca("0x20a")],_=a.options[_0x37ca("0x20b")];null!=c&&x<c&&(a.zoomLevel=c),null!=_&&x>_&&(a[_0x37ca("0x156")]=_),a[_0x37ca("0xab2")](x),x<=a.options[_0x37ca("0xab3")]?a[_0x37ca("0xa6e")]():x<=a[_0x37ca("0x36")][_0x37ca("0xab3")]&&a[_0x37ca("0xa0a")]&&0!=a[_0x37ca("0xa0a")][_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]&&(a[_0x37ca("0xa0a")][_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0),a[_0x37ca("0x945")][_0x37ca("0xab4")]()})),t[_0x37ca("0x51d")][_0x37ca("0xab9")]()){if(a[_0x37ca("0x36")][_0x37ca("0x449")]&&i[_0x37ca("0x449")])esmap.ESMapUtil[_0x37ca("0x8b")](_0x37ca("0xaba")+i[_0x37ca("0x528")]+a[_0x37ca("0x36")].logotoken)===i[_0x37ca("0x449")]&&(a.zonTempObj.sprite_[_0x37ca("0x11a")][_0x37ca("0xed")]=!1);if(esmap.ESMapUtil[_0x37ca("0x8b")](i[_0x37ca("0x43e")]+""+i[_0x37ca("0x43f")]+i[_0x37ca("0x453")]+i.maxY+i[_0x37ca("0x79")]+i[_0x37ca("0x449")]+ +i.bidnums+i[_0x37ca("0x527")]+"ABC"+i.o1+i.ul)===i[_0x37ca("0x430")]){if(!a[_0x37ca("0xabc")]&&i.token!=_0x37ca("0xabd"))if(esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](i._id+""+a[_0x37ca("0x36")][_0x37ca("0x79")])!=i[_0x37ca("0x79")]&&3==a[_0x37ca("0x36")][_0x37ca("0x43")])return void a[_0x37ca("0x163")]._sdu(0)}else a[_0x37ca("0x163")][_0x37ca("0xabb")](0)}else a[_0x37ca("0x163")]._sdu(0)}},{key:_0x37ca("0xab2"),value:function(x){for(var a=this[_0x37ca("0x95e")],c=23,_=0;_<a.length;_++)if(a[_]<=x){c=_;break}this[_0x37ca("0x951")]=c}},{key:_0x37ca("0xabe"),value:function(){var x=this[_0x37ca("0x36")][_0x37ca("0x1ca")],a=-this[_0x37ca("0x14c")][_0x37ca("0x19a")]-this[_0x37ca("0x275")][_0x37ca("0x276")].x,c=this[_0x37ca("0x14c")].sceneZ_+this[_0x37ca("0x275")][_0x37ca("0x276")].z,_=(0,b[_0x37ca("0x60f")])(a,c,x);this[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x9cb")](_.x+"_"+_.y,!0)}},{key:_0x37ca("0x2e6"),value:function(){if(this[_0x37ca("0x37")]===esmap.MapMode.City&&(!this[_0x37ca("0x163")][_0x37ca("0x9b2")]&&!(this[_0x37ca("0x156")]<=this.options[_0x37ca("0xab3")])&&this.mapService[_0x37ca("0x157")]._cdu())){(0==this.mapService[_0x37ca("0x157")][_0x37ca("0x9a9")][_0x37ca("0x4")]||this[_0x37ca("0x163")][_0x37ca("0xabf")])&&this[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xab7")]();for(var x=0;x<this[_0x37ca("0x14c")].tileScene_[_0x37ca("0xa6")][_0x37ca("0x4")];x++){var a=this[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][x][_0x37ca("0xa4")];a[_0x37ca("0xa5")]&&(a[_0x37ca("0xa5")].visible&&a[_0x37ca("0x14f")][_0x37ca("0x98d")][_0x37ca("0x4")]>0&&(a[_0x37ca("0x14f")][_0x37ca("0x27f")]=!1))}}}},{key:_0x37ca("0xac0"),value:function(x){for(var a=this,c=0;c<a[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0xa6")][_0x37ca("0x4")];c++){var _=a[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0xa6")][c][_0x37ca("0xa4")];if(_[_0x37ca("0x98f")]&&_.id==x){var e=a.mapScene[_0x37ca("0x9c3")].children[c];e[_0x37ca("0xed")]=!1,e.parent[_0x37ca("0x147")](e);for(var t=0;t<a[_0x37ca("0x628")][_0x37ca("0x4")];t++)if(a[_0x37ca("0x628")][t].id==e[_0x37ca("0xa4")].id){a[_0x37ca("0x628")].splice(t,1);break}e.datas_[_0x37ca("0x616")]==esmap[_0x37ca("0xac1")].TILE&&a[_0x37ca("0x157")].addToCache(e[_0x37ca("0xa4")]);break}}}},{key:"unloadTile",value:function(){for(var x=this,a=this[_0x37ca("0x253")](this[_0x37ca("0x275")][_0x37ca("0x276")],!0),c=[],_=0;_<x[_0x37ca("0x14c")][_0x37ca("0x1ae")].children[_0x37ca("0x4")];_++){var e=x[_0x37ca("0x14c")][_0x37ca("0x1ae")].children[_];if(e[_0x37ca("0xa4")][_0x37ca("0xe5")]){var t=e[_0x37ca("0xa4")].center,i=e[_0x37ca("0xa4")].id,n=(0,g.DistanceofTwoPts)({x:t[0],y:t[1]},a);c[_0x37ca("0x0")]({dis:n,id:i,index:_})}}c=c[_0x37ca("0x408")]((function(x,a){return a[_0x37ca("0x637")]-x[_0x37ca("0x637")]}));for(var r=0;r<c[_0x37ca("0x4")];r++){var s=x[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][_0x37ca("0x4")],o=c[r];if(!(x[_0x37ca("0x163")].tileService[_0x37ca("0x158")][_0x37ca("0xda")](o.id)>-1)){if(s<=x[_0x37ca("0x36")][_0x37ca("0xac2")])break;for(var l=0;l<x[_0x37ca("0x14c")].tileScene_.children[_0x37ca("0x4")];l++){var u=x[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][l];if(u.datas_.id==o.id){u[_0x37ca("0xed")]=!1,x[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0x147")](u),l--,c.splice(r,1),r--,x[_0x37ca("0x163")][_0x37ca("0x157")].cachedTiles[_0x37ca("0xda")](u[_0x37ca("0xa4")])<0&&x[_0x37ca("0x157")][_0x37ca("0xa33")](u[_0x37ca("0xa4")]),x.fire(_0x37ca("0xa34"),{bid:u[_0x37ca("0xa4")].id});break}}}}}},{key:_0x37ca("0xac3"),value:function(x,a,c,_,e){if(a==x[_0x37ca("0x4")]-1)return!0;var t,i,n,r,s,o,l=x[a],u=x[a+1],d=u[_0x37ca("0xde")]().sub(l),f=_/2,h=(t=u,i=l,n=new(THREE[_0x37ca("0xe2")])(1,0,0),r=new THREE.Vector3(t.x,0,t.y),s=new(THREE[_0x37ca("0xe2")])(i.x,0,i.y).clone()[_0x37ca("0x2d7")](r)[_0x37ca("0x2d8")](),o=s[_0x37ca("0x248")](n)*THREE.Math.RAD2DEG,s[_0x37ca("0xde")]()[_0x37ca("0x2d2")](n).y>0?o:360-o),g=d[_0x37ca("0x4")]();if(d[_0x37ca("0x2d8")](),0!=g){if(g>_){var b=Math[_0x37ca("0x2e")](g/_),v=g%_,p=l[_0x37ca("0xde")]()[_0x37ca("0xe0")](d.clone()[_0x37ca("0x26b")](f));p[_0x37ca("0x252")]=h,p[_0x37ca("0x22e")]=_/e,c[_0x37ca("0x0")](p);for(var A=1;A<b;A++){var m=c[c[_0x37ca("0x4")]-1][_0x37ca("0xde")]().add(d[_0x37ca("0xde")]().multiplyScalar(_));m[_0x37ca("0x252")]=h,m[_0x37ca("0x22e")]=_/e,c[_0x37ca("0x0")](m)}if(v>0)if(v>=e/2){var C=c[c.length-1][_0x37ca("0xde")]()[_0x37ca("0xe0")](d[_0x37ca("0xde")]()[_0x37ca("0x26b")](f+v/2));C[_0x37ca("0x252")]=h,C.scale=v/e,c[_0x37ca("0x0")](C)}else{var I=c[c.length-1];I[_0x37ca("0x22e")]=(v+_)/e;var y=I.clone()[_0x37ca("0xe0")](d[_0x37ca("0xde")]()[_0x37ca("0x26b")](v/2));I.x=y.x,I.y=y.y}}else{var E=l[_0x37ca("0xde")]()[_0x37ca("0xe0")](d[_0x37ca("0xde")]().multiplyScalar(g/2));E[_0x37ca("0x252")]=h,E[_0x37ca("0x22e")]=g/e,c[_0x37ca("0x0")](E)}this.computeCenters(x,++a,c,_,e)}}},{key:"checkBuildingHide",value:function(){for(var x=this,a=0;a<x.mapScene[_0x37ca("0x1ae")].children[_0x37ca("0x4")];a++){var c=x[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][a][_0x37ca("0xa4")];if(c)for(var _={x:c.center[0],y:c.center[1]},e=0;e<x[_0x37ca("0x163")][_0x37ca("0xac4")][_0x37ca("0x4")];e++){if((0,g.DistanceofTwoPts)(x[_0x37ca("0x163")][_0x37ca("0xac4")][e],_)<=2*x[_0x37ca("0x163")].tileSize){new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(c.o3d_[_0x37ca("0x22e")]).to({y:.15},1e3)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x1c6")]();break}}}}},{key:_0x37ca("0xab1"),value:function(){var x=this[_0x37ca("0x163")].modelLoadings,a=!0;for(var c in x)if(x[c]){a=!1;break}if(a&&!this[_0x37ca("0x163")][_0x37ca("0x9ad")]){var _=this[_0x37ca("0x9aa")],e=!0;for(var t in _){var i=_[t],n=i[_0x37ca("0x14f")][_0x37ca("0x9ab")][_0x37ca("0x4")],r=i.modelLoadManager.requisitesQueue[_0x37ca("0x4")],s=0;for(var o in i[_0x37ca("0x14f")][_0x37ca("0x9ac")]){var l=i[_0x37ca("0x14f")][_0x37ca("0x9ac")][o];for(var u in l)s+=l[u].length}if(n>0||r>0||s>0){e=!1;break}}e&&(this[_0x37ca("0x163")][_0x37ca("0x9ad")]=!0,this.fire("tileModelInited"),this.fire(_0x37ca("0x9ad"),{bid:this.id}))}}},{key:_0x37ca("0xab8"),value:(v=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var a,c,_,e,t,n,r,s;return i[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(!this[_0x37ca("0x163")][_0x37ca("0x9b2")]){x.next=2;break}return x.abrupt(_0x37ca("0x2a0"));case 2:if(this[_0x37ca("0x93b")]&&!this[_0x37ca("0x163")].tileDisabled){x.next=4;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 4:if(!((a=this)[_0x37ca("0x156")]<=a[_0x37ca("0x36")][_0x37ca("0xab3")])){x[_0x37ca("0x29a")]=13;break}if(!(a[_0x37ca("0x93b")]&&a[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")].length>0)){x.next=11;break}return a.mapScene[_0x37ca("0x1ae")].visible&&(a[_0x37ca("0x14c")].tileScene_.visible=!1),a[_0x37ca("0x163")].tileService[_0x37ca("0x158")]=[],a[_0x37ca("0xa34")](),x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 11:x[_0x37ca("0x29a")]=14;break;case 13:a[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xed")]||(a[_0x37ca("0x14c")][_0x37ca("0x1ae")].visible=!0);case 14:if(!(a[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x9a9")][_0x37ca("0x4")]>0)){x[_0x37ca("0x29a")]=49;break}a[_0x37ca("0xac5")]||(a[_0x37ca("0xac5")]=!0),c=a[_0x37ca("0x163")].tileService[_0x37ca("0x9a9")][_0x37ca("0x2")](),_=!1,e=null,t=0;case 20:if(!(t<a[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][_0x37ca("0x4")])){x.next=29;break}if((n=a[_0x37ca("0x14c")][_0x37ca("0x1ae")].children[t])[_0x37ca("0xa4")].id!=c){x[_0x37ca("0x29a")]=26;break}return _=!0,e=n,x[_0x37ca("0x29f")](_0x37ca("0xa67"),29);case 26:t++,x.next=20;break;case 29:if(_){x[_0x37ca("0x29a")]=45;break}r=a[_0x37ca("0x163")][_0x37ca("0x157")].cachedTiles,s=0;case 32:if(!(s<r.length)){x[_0x37ca("0x29a")]=45;break}if(r[s].id!=c){x.next=42;break}return a[_0x37ca("0x14c")][_0x37ca("0x1ae")].add(r[s][_0x37ca("0xa5")]),r[s][_0x37ca("0xa5")][_0x37ca("0xed")]||(r[s][_0x37ca("0xa5")][_0x37ca("0xed")]=!0),r[s][_0x37ca("0x14f")][_0x37ca("0x27f")]=!1,a[_0x37ca("0x163")].tileService[_0x37ca("0x9c8")](),a.mapService.tileService[_0x37ca("0xa32")].splice(s,1),_=!0,0==a[_0x37ca("0x163")].tileService.currentView[_0x37ca("0x4")]&&0==a[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xa58")].length&&(a[_0x37ca("0x1da")](_0x37ca("0xa59")),a[_0x37ca("0xab1")]()),x.abrupt(_0x37ca("0xa67"),45);case 42:s++,x[_0x37ca("0x29a")]=32;break;case 45:!_&&a[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xa58")].indexOf(c)<0?(a[_0x37ca("0x163")][_0x37ca("0x157")].solvingList[_0x37ca("0x0")](c),a.mapService[_0x37ca("0x157")][_0x37ca("0x9cb")](c)):e&&!e[_0x37ca("0xed")]&&(e[_0x37ca("0xed")]=!0),0==a[_0x37ca("0x157")][_0x37ca("0x9a9")].length&&0==a[_0x37ca("0x157")][_0x37ca("0xa58")].length&&(a[_0x37ca("0xa5b")]||(a[_0x37ca("0xa5b")]=!0,esmap.ESMap[_0x37ca("0x980")]=!1,a[_0x37ca("0x1da")]("loadComplete",{bid:a.id}))),x[_0x37ca("0x29a")]=50;break;case 49:a[_0x37ca("0xac5")]&&(a[_0x37ca("0xac5")]=!1);case 50:a[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")].length>a[_0x37ca("0x36")][_0x37ca("0xac2")]&&0==a[_0x37ca("0x163")].tileService[_0x37ca("0xa58")][_0x37ca("0x4")]&&0==a.mapService[_0x37ca("0x157")][_0x37ca("0x9a9")][_0x37ca("0x4")]&&a[_0x37ca("0xa34")]();case 51:case _0x37ca("0x2dc"):return x.stop()}}),x,this)}))),function(){return v[_0x37ca("0x3")](this,arguments)})},{key:"controlsChange_",value:function(){var x=this;if("3D"==this.viewMode_&&Math.PI,this[_0x37ca("0x1da")](_0x37ca("0x145")),this[_0x37ca("0xaa6")]=!0,"3D"!=this[_0x37ca("0xac6")]&&(this[_0x37ca("0x154")][_0x37ca("0x611")][_0x37ca("0xb8")].x=this[_0x37ca("0x154")][_0x37ca("0x9de")][_0x37ca("0xb8")].x,this[_0x37ca("0x154")][_0x37ca("0x611")][_0x37ca("0xb8")].z=this[_0x37ca("0x154")].cameraTop[_0x37ca("0xb8")].z,this[_0x37ca("0x945")][_0x37ca("0xab4")]()),this[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]&&this.options[_0x37ca("0xac7")]&&!esmap[_0x37ca("0x34")][_0x37ca("0x980")]&&!esmap[_0x37ca("0x34")][_0x37ca("0xac8")]){var a=this.mapView[_0x37ca("0xac9")](),c=this[_0x37ca("0x157")][_0x37ca("0x5da")];if(this[_0x37ca("0x156")]>=this[_0x37ca("0x36")][_0x37ca("0xaca")]){var _=null,e=null;for(var t in c){var i=c[t];if(!i.hold&&(!i[_0x37ca("0x3f5")]&&i[_0x37ca("0x635")])){var n=esmap[_0x37ca("0x7b")][_0x37ca("0xacb")](a,i.polygon);i[_0x37ca("0xa6c")]?n||e||(e=i):n&&!_&&(_=i[_0x37ca("0xef")],i[_0x37ca("0xa6c")]=!0)}}_&&e&&(this[_0x37ca("0xa65")](e[_0x37ca("0xef")]),e.loaded=!1),_&&this[_0x37ca("0x97d")](_)}else for(var r in c){var s=c[r];s[_0x37ca("0xa6d")]&&(s[_0x37ca("0xa6d")]=!1),s[_0x37ca("0x3f5")]||s.loaded&&(this[_0x37ca("0xa65")](s[_0x37ca("0xef")]),s[_0x37ca("0xa6c")]=!1)}}H&&window[_0x37ca("0x2e8")](H),H=setTimeout((function(){x[_0x37ca("0x1da")](_0x37ca("0x155")),window[_0x37ca("0x2e8")](H),H=null}),300);for(var o=this[_0x37ca("0x275")].getScaleRate(),l=M,u=0;u<this[_0x37ca("0x99a")].length;u++)if(o<this[_0x37ca("0x99a")][u])return void((M=u-1)!=l&&this.fire(_0x37ca("0xacc"),{level:M,rate:o}))}},{key:_0x37ca("0x9cf"),value:function(){this[_0x37ca("0x14c")].updateCollide(this[_0x37ca("0x154")])}},{key:"forceUpdate",value:function(){}},{key:_0x37ca("0xacd"),value:function(x,a){return!0}},{key:_0x37ca("0x9a2"),value:function(x){var a=x[_0x37ca("0xace")],c=x[_0x37ca("0x169")],e=x[_0x37ca("0x36")][_0x37ca("0xe5")]||x[_0x37ca("0xe5")],t=this.coordMapToThree(e),i=this;if(x[_0x37ca("0xacf")]&&c[_0x37ca("0x445")][a-1]){var n,r=x[_0x37ca("0xacf")].getSize(new(THREE[_0x37ca("0xe2")])),s=c[_0x37ca("0x445")][a-1][_0x37ca("0x491")],o=.75*r.x+s,l=e?new(THREE[_0x37ca("0xe2")])(t.x,s,t.z):new(THREE[_0x37ca("0xe2")])(0,s,0);n=new(THREE[_0x37ca("0xe2")])(r.x,o,-r.x),this[_0x37ca("0x154")][_0x37ca("0x611")].position[_0x37ca("0x268")](n),this[_0x37ca("0xad0")]=l,this[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0x268")](l),i[_0x37ca("0xad1")]=i[_0x37ca("0x36")][_0x37ca("0x1fd")],i[_0x37ca("0xa16")]=i[_0x37ca("0x36")].maxScaleLevel?i.options.maxScaleLevel>=i.scaleLevels_[_0x37ca("0x4")]?i[_0x37ca("0x99a")][_0x37ca("0x4")]-1:i[_0x37ca("0x36")].maxScaleLevel:i[_0x37ca("0x99a")][_0x37ca("0x4")]-1;var u=new THREE.Vector3,d=this[_0x37ca("0x275")][_0x37ca("0xc")][_0x37ca("0xb8")][_0x37ca("0xdf")](u);if(this[_0x37ca("0x275")][_0x37ca("0xa04")]=d,this[_0x37ca("0x275")][_0x37ca("0xad2")]=esmap[_0x37ca("0x7b")].getOrthoCameraSizeByPerspectiveCamera(this.mapView[_0x37ca("0x611")],this.controls,d).top,i.controls[_0x37ca("0xa17")](i[_0x37ca("0x99a")][i[_0x37ca("0xad1")]],i.scaleLevels_[i[_0x37ca("0xa16")]],!0),this[_0x37ca("0x36")][_0x37ca("0xad3")]){var f=this[_0x37ca("0x36")][_0x37ca("0xad3")],h=0;switch(void 0===f?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(f)){case _0x37ca("0xf"):switch(f){case"n":h=Math.PI;break;case"s":default:h=0;break;case"w":h=-Math.PI/2;break;case"e":h=Math.PI/2;break;case"ne":h=.75*Math.PI;break;case"nw":h=1.25*Math.PI;break;case"se":h=Math.PI/4;break;case"sw":h=-Math.PI/4}this.options[_0x37ca("0x610")],esmap[_0x37ca("0x5b1")][_0x37ca("0xad4")],this[_0x37ca("0x275")][_0x37ca("0x119")]({forceTheta:h});break;case"number":this.controls.update({forceTheta:f*THREE[_0x37ca("0x249")][_0x37ca("0xad5")]});break;case _0x37ca("0xc"):var g=this[_0x37ca("0x36")][_0x37ca("0xad3")].target[_0x37ca("0x2b")](","),b=this[_0x37ca("0x36")][_0x37ca("0xad3")][_0x37ca("0xb8")][_0x37ca("0x2b")](","),v=new(THREE[_0x37ca("0xe2")])(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])),p=new(THREE[_0x37ca("0xe2")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]));return this[_0x37ca("0x275")].target[_0x37ca("0x268")](v),this.controls[_0x37ca("0xc")][_0x37ca("0xb8")][_0x37ca("0x268")](p),this[_0x37ca("0x275")][_0x37ca("0x119")](),!0}}if(this[_0x37ca("0x36")][_0x37ca("0x1")]("defaultAngle")&&null!=this[_0x37ca("0x36")].defaultAngle){var A=(180-this[_0x37ca("0x36")][_0x37ca("0x1f8")])*Math.PI/180;this[_0x37ca("0x275")][_0x37ca("0x119")]({forceTheta:A})}else if(!this[_0x37ca("0x36")].defaultControlsPose){var m=Math.PI;this[_0x37ca("0x275")][_0x37ca("0x119")]({forceTheta:m})}return null!=this.options[_0x37ca("0xad6")]&&(this[_0x37ca("0x2f6")]=this[_0x37ca("0x36")].defaultTiltAngle),this[_0x37ca("0x66f")]=0,!1}}},{key:_0x37ca("0xad7"),value:function(x,a){}},{key:"sl",value:function(){for(var x=this[_0x37ca("0x154")].sceneOrtho[_0x37ca("0xa6")],a=null,c=0;c<x.length;c++)x[c].userData[_0x37ca("0xed")]&&(a=x[c]);if(!a)return 9568297;for(var _=a[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x497")]?a[_0x37ca("0xa9")][_0x37ca("0x39")].image[_0x37ca("0x414")]:"",e=_[_0x37ca("0x4")],t=0,i=0;i<e;i++)t+=_[i].charCodeAt();return parseInt(t,16)}},{key:_0x37ca("0xad8"),value:function(x){this[_0x37ca("0x14c")][_0x37ca("0x1a5")][_0x37ca("0xe0")](x.o3d_),this[_0x37ca("0x182")].addObject(x[_0x37ca("0xa5")])}},{key:_0x37ca("0xad9"),value:function(x){x.dispose()}},{key:"getModelByName",value:function(x){return this.mapScene[_0x37ca("0xa4f")]()[_0x37ca("0xada")](x)}},{key:"getScreenCenter",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},a=this.mapView.w_/2,c=this[_0x37ca("0x154")].h_/2,_=void 0,e=this[_0x37ca("0xf0")](x[_0x37ca("0xef")]);e?_=e.getFloorHeight(x.fnum):(e=this.getTileById(x.bid),_=0);var t=this[_0x37ca("0xadb")](a,c,_);return t.z+=1,t}},{key:_0x37ca("0xadc"),value:function(x,a){var c=arguments[_0x37ca("0x4")]>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x37ca("0x3c4")])return null;var _=this[_0x37ca("0x186")]||this.mapView[_0x37ca("0x611")],e=null;e=new(THREE[_0x37ca("0xe2")])(x/this.mapView.w_*2-1,1-a/this[_0x37ca("0x154")].h_*2,.5);var t=new(THREE[_0x37ca("0x3c1")]);t[_0x37ca("0xadd")](e,_),this[_0x37ca("0x3c4")].position.y=c,this[_0x37ca("0x3c4")].updateMatrixWorld(),this[_0x37ca("0xade")]();var i=t[_0x37ca("0xadf")](this.plane_);if(i[_0x37ca("0x4")]>0){var n=i[0][_0x37ca("0x3ca")];return n}return null}},{key:_0x37ca("0xadb"),value:function(x,a){_0x37ca("0x4");var c=this.coordScreenToScene(x,a,0);return c?this[_0x37ca("0x234")](c):null}},{key:_0x37ca("0xae0"),value:function(x,a,c){var _=this[_0x37ca("0x186")],e=this[_0x37ca("0x254")]({x:x,y:a,z:c||0});e.project(_);var t=this[_0x37ca("0x154")][_0x37ca("0xae1")],i=this[_0x37ca("0x154")][_0x37ca("0xae2")];return{x:e.x*t+t,y:i-e.y*i}}},{key:"project_",value:function(x){var a=new(THREE[_0x37ca("0xe2")]);a[_0x37ca("0x6f1")](x[_0x37ca("0x187")]),a[_0x37ca("0xae3")](this[_0x37ca("0x186")]);var c=a.x*this[_0x37ca("0x154")][_0x37ca("0xae1")],_=a.y*this.mapView[_0x37ca("0xae2")];return{x:c+this[_0x37ca("0x154")][_0x37ca("0xae1")],y:-_+this.mapView.h_2_}}},{key:_0x37ca("0xae4"),value:function(x){var a=[this[_0x37ca("0xaa2")]()][_0x37ca("0x15")](this[_0x37ca("0x628")]);for(var c in a){var _=a[c][_0x37ca("0x990")];for(var e in _)for(var t=_[e][_0x37ca("0xa6")],i=0;i<t[_0x37ca("0x4")];i++)if(t[i].name==_0x37ca("0xae5")&&t[i][_0x37ca("0x11a")].id===x)return t[i][_0x37ca("0xa4")]}return null}},{key:_0x37ca("0xae6"),value:function(x){var a=[this[_0x37ca("0xaa2")]()][_0x37ca("0x15")](this[_0x37ca("0x628")]);for(var c in a){var _=a[c][_0x37ca("0x990")];for(var e in _)for(var t=_[e].children,i=0;i<t.length;i++)if("popGroup"==t[i][_0x37ca("0x1aa")]&&t[i][_0x37ca("0x11a")].id===x)return t[i][_0x37ca("0xa4")][_0x37ca("0x2fa")](),!0}}},{key:_0x37ca("0xae7"),value:function(){var x=[this[_0x37ca("0xaa2")]()][_0x37ca("0x15")](this[_0x37ca("0x628")]);for(var a in x){var c=x[a].o3dFloors_;for(var _ in c)for(var e=c[_][_0x37ca("0xa6")],t=0;t<e[_0x37ca("0x4")];t++)"popGroup"==e[t][_0x37ca("0x1aa")]&&(e[t][_0x37ca("0xa4")][_0x37ca("0x2fa")](),t--)}}},{key:_0x37ca("0xae8"),value:function(x){var a=this,c=this[_0x37ca("0x157")][_0x37ca("0xae9")][_0x37ca("0x4")],_=0;this.options[_0x37ca("0xac2")]=x.number,this[_0x37ca("0x157")][_0x37ca("0xaea")]=(Math[_0x37ca("0x2e")](Math.sqrt(this[_0x37ca("0x36")][_0x37ca("0xac2")]))-1)/2,this.tileService[_0x37ca("0xaeb")](x[_0x37ca("0x143")]),this.on(_0x37ca("0xa59"),(function(){a[_0x37ca("0x157")][_0x37ca("0xaec")]&&a[_0x37ca("0x157")].secondViews.length>0?a.tileService.forceLoadSecond():x.onComplete&&x.onComplete()})),this.on("tileLoadComplete",(function(){var a=(_+=1)/c;x.onProgress&&x[_0x37ca("0xaed")](a)}))}},{key:"rotateTo",value:function(x){var a=this;_0x37ca("0x143")==typeof x&&(x={angle:x});var c,_=(0,g[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),"duration",.3),e=a[_0x37ca("0x24d")],t=function(x,a){var c=a-x;return Math[_0x37ca("0x24e")](c)>180&&(c=-1*(0,s[_0x37ca("0xe")])(c)*360+c),c}(e,x[_0x37ca("0x252")]);a._rotateToID&&a._rotateToID[_0x37ca("0x1bc")](),a[_0x37ca("0xaee")]=new esmap.TWEEN.Tween({value:0}).to({value:1},1e3*_)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){x=x[_0x37ca("0xf2")],(c=e+t*x)<=0?c=360+c:c>=360&&(c-=360),a[_0x37ca("0x24d")]=c}))[_0x37ca("0x1c4")]((function(){x[_0x37ca("0x1c4")]&&x[_0x37ca("0x1c4")]()}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0x973"),set:function(x){var a=this;if(x){a.controls[_0x37ca("0x57b")]=!1;var c=a.currentCamera[_0x37ca("0xb8")].clone();a[_0x37ca("0x275")][_0x37ca("0xaef")](),a[_0x37ca("0x275")].getPolarAngle();a[_0x37ca("0x275")][_0x37ca("0xaf0")]=c[_0x37ca("0xde")]()[_0x37ca("0x2d7")](a.controls[_0x37ca("0x276")][_0x37ca("0xde")]()).length(),a[_0x37ca("0x609")][_0x37ca("0x70f")]=a[_0x37ca("0x24d")]+90,a[_0x37ca("0x609")][_0x37ca("0x70e")]=-(90-a[_0x37ca("0x2f6")]),a[_0x37ca("0x609")][_0x37ca("0x57b")]=!0}else{var _=a[_0x37ca("0x186")][_0x37ca("0xb8")].clone(),e=a[_0x37ca("0x609")][_0x37ca("0x276")][_0x37ca("0xde")]();a[_0x37ca("0x609")][_0x37ca("0x57b")]=!1,a[_0x37ca("0x275")][_0x37ca("0x57b")]=!0,a[_0x37ca("0x24d")]=a[_0x37ca("0x609")][_0x37ca("0x70f")]-90,a[_0x37ca("0x2f6")]=a[_0x37ca("0x609")][_0x37ca("0x70e")]+90,a[_0x37ca("0x186")][_0x37ca("0xb8")].copy(_);var t=e.sub(_);t.normalize();var i=_[_0x37ca("0xde")]()[_0x37ca("0xe0")](t[_0x37ca("0xde")]()[_0x37ca("0x26b")](a[_0x37ca("0x275")][_0x37ca("0xaf0")]));a[_0x37ca("0x275")].target.copy(i),a.currentCamera[_0x37ca("0x25b")](i),a.controls[_0x37ca("0x119")]()}},get:function(){return!(!this.firstPersonControls||!this[_0x37ca("0x609")][_0x37ca("0x57b")])}},{key:"tileService",get:function(){return this[_0x37ca("0x163")].tileService}},{key:"buildingService",get:function(){return this[_0x37ca("0x163")].buildingService}},{key:_0x37ca("0x272"),get:function(){return this.gestureController_}},{key:_0x37ca("0xaf1"),get:function(){return g[_0x37ca("0x954")][_0x37ca("0xaf2")]}},{key:_0x37ca("0xaf3"),get:function(){return g[_0x37ca("0x954")].activated},set:function(x){x?g[_0x37ca("0x954")][_0x37ca("0xaf4")](this[_0x37ca("0x154")][_0x37ca("0x1ed")]):g[_0x37ca("0x954")][_0x37ca("0xaf5")]()}},{key:_0x37ca("0xaf6"),get:function(){return 6}},{key:_0x37ca("0x37"),get:function(){return this[_0x37ca("0x36")][_0x37ca("0x37")]}},{key:"lineStyle",set:function(x){x[_0x37ca("0x1")]("color")&&(this[_0x37ca("0xf5")].navigateStyle_.color=x.color),x[_0x37ca("0x1")]("lineWidth")&&(this[_0x37ca("0xf5")].navigateStyle_[_0x37ca("0x115")]=x[_0x37ca("0x115")]),x[_0x37ca("0x1")](_0x37ca("0xe3"))&&(this.mapTheme[_0x37ca("0xaf7")][_0x37ca("0xe3")]=x[_0x37ca("0xe3")]),x.hasOwnProperty(_0x37ca("0xe3"))&&(this[_0x37ca("0xf5")][_0x37ca("0xaf7")][_0x37ca("0xe3")]=x.alpha),x[_0x37ca("0x1")](_0x37ca("0x5ae"))&&x[_0x37ca("0x5ae")][_0x37ca("0x1")](_0x37ca("0x576"))&&(this[_0x37ca("0xf5")][_0x37ca("0xaf7")][_0x37ca("0x5ae")][_0x37ca("0x576")]=x.dash.size),x[_0x37ca("0x1")](_0x37ca("0x5ae"))&&x[_0x37ca("0x5ae")].hasOwnProperty(_0x37ca("0xaf8"))&&(this[_0x37ca("0xf5")][_0x37ca("0xaf7")][_0x37ca("0x5ae")][_0x37ca("0xaf8")]=x.dash.gap)},get:function(){return this[_0x37ca("0xf5")][_0x37ca("0xaf7")]}},{key:_0x37ca("0x43e"),get:function(){return this[_0x37ca("0x14c")][_0x37ca("0xaf9")]}},{key:_0x37ca("0x453"),get:function(){return this[_0x37ca("0x14c")][_0x37ca("0xafa")]}},{key:"minY",get:function(){return this[_0x37ca("0x14c")].minY_}},{key:_0x37ca("0x440"),get:function(){return this.mapScene[_0x37ca("0xafb")]}},{key:"scaleLevel",get:function(){return this.controls[_0x37ca("0xafc")]?this[_0x37ca("0x275")][_0x37ca("0xafc")]():24-this[_0x37ca("0x156")]},set:function(x){M=Math.ceil(x)}},{key:_0x37ca("0x1fd"),get:function(){return this[_0x37ca("0xad1")]},set:function(x){this[_0x37ca("0xa15")](x,this[_0x37ca("0xa16")])}},{key:_0x37ca("0x1fe"),get:function(){return this[_0x37ca("0xa16")]},set:function(x){this.setScaleLevelLimit(this.minScaleLevel_,x)}},{key:_0x37ca("0xafd"),get:function(){return this[_0x37ca("0x275")].getScaleRate()},set:function(x){this[_0x37ca("0x275")][_0x37ca("0x277")](x)}},{key:_0x37ca("0xaa5"),get:function(){return{x:-this.mapView.center.x,y:this.mapView[_0x37ca("0xe5")].y}}},{key:"viewCenter",get:function(){return this.mapView.getCenter()}},{key:_0x37ca("0xe5"),get:function(){return{x:-this[_0x37ca("0x154")][_0x37ca("0xe5")].x,y:this.mapView[_0x37ca("0xe5")].y}}},{key:_0x37ca("0xafe"),get:function(){return this.tileService.bidList}},{key:"maxPolarAngle",get:function(){return this[_0x37ca("0x275")].maxPolarAngle*THREE[_0x37ca("0x249")].RAD2DEG},set:function(x){this.controls[_0x37ca("0x996")]=x*THREE.Math[_0x37ca("0xad5")],this[_0x37ca("0x275")].update()}},{key:_0x37ca("0xaff"),get:function(){return new(THREE[_0x37ca("0xe2")])(this.mapScene[_0x37ca("0x19a")],0,this.mapScene[_0x37ca("0x19b")])}},{key:_0x37ca("0x610"),set:function(x){var a=x,c=!1;if("string"==typeof x){if("2D"!=(x=x[_0x37ca("0xb00")]())&&"3D"!=x)return void console[_0x37ca("0xca")](_0x37ca("0xb01"))}else{if("2D"!=x[_0x37ca("0x37")]&&"3D"!=x[_0x37ca("0x37")])return void console[_0x37ca("0xca")](_0x37ca("0xb01"));c=x[_0x37ca("0xea")]}if(!(c&&window.esmap.tileMapInited&&"2D"==x[_0x37ca("0x37")]||x==this[_0x37ca("0x610")]))if(c||this[_0x37ca("0x36")][_0x37ca("0x23e")]||1!=this[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xed")]||!window.esmap[_0x37ca("0xab6")]){if(!this.__viewModeAnimating){var e=null,t=null;if(_0x37ca("0xc")==(void 0===a?"undefined":(0,_[_0x37ca("0xe")])(a))&&(e=a.time,t=a[_0x37ca("0x1c7")],a=a[_0x37ca("0x37")]),a!=this[_0x37ca("0xac6")]){var i=this;i[_0x37ca("0x938")]=!0;var n=this[_0x37ca("0x154")][_0x37ca("0x611")],r=this[_0x37ca("0x154")][_0x37ca("0x9de")];"3D"==this[_0x37ca("0xac6")]?(i[_0x37ca("0x937")]=i.controls.getPolarAngle(),esmap[_0x37ca("0x1c1")][_0x37ca("0x983")](null!=e?e:i.options[_0x37ca("0x1f9")]?i[_0x37ca("0x36")][_0x37ca("0xb03")]:0,(function(x){i[_0x37ca("0x275")][_0x37ca("0x119")]({forcePhi:i[_0x37ca("0x937")]-i[_0x37ca("0x937")]*x[_0x37ca("0xf2")]}),i[_0x37ca("0xaa6")]=!0}),null,(function(){i[_0x37ca("0x275")][_0x37ca("0xc")]=i[_0x37ca("0x154")][_0x37ca("0x9de")],i[_0x37ca("0x275")][_0x37ca("0x93d")]=0,i[_0x37ca("0x275")][_0x37ca("0x996")]=0,i[_0x37ca("0x186")]=i[_0x37ca("0x154")].cameraTop,i[_0x37ca("0x275")].update({forceTheta:i.controls[_0x37ca("0xaef")]()+Math.PI,notChangeCompass:!0}),i.controls[_0x37ca("0xc")]=i[_0x37ca("0x154")][_0x37ca("0x9de")],i[_0x37ca("0x275")][_0x37ca("0x996")]=0,i[_0x37ca("0x154")][_0x37ca("0x9de")][_0x37ca("0xb8")][_0x37ca("0x268")](n[_0x37ca("0xb8")]),i[_0x37ca("0x275")].update(),function(x){var c=esmap[_0x37ca("0x7b")].getOrthoCameraSizeByPerspectiveCamera(n,x[_0x37ca("0x275")]);r[_0x37ca("0x612")]=1,r[_0x37ca("0x172")]=-c[_0x37ca("0x174")],r[_0x37ca("0x174")]=c.right,r[_0x37ca("0x173")]=c.top,r[_0x37ca("0x175")]=-c[_0x37ca("0x173")],r[_0x37ca("0x8dc")](),a&&(x.viewMode_=a),x.__viewModeAnimating=!1}(i),t&&t(i.viewMode_),i.fire(_0x37ca("0xb04"),i[_0x37ca("0xac6")])}))):(i[_0x37ca("0x275")].object=i[_0x37ca("0x154")][_0x37ca("0x611")],i[_0x37ca("0x275")][_0x37ca("0x93d")]=0,i[_0x37ca("0x275")][_0x37ca("0x996")]=Math.PI/2.5,i[_0x37ca("0x186")]=i[_0x37ca("0x154")].camera,i[_0x37ca("0x275")][_0x37ca("0x119")]({forceTheta:i.controls[_0x37ca("0xaef")](),notChangeCompass:!0}),esmap.TWEEN[_0x37ca("0x983")](null!=e?e:i[_0x37ca("0x36")][_0x37ca("0x1f9")]?i[_0x37ca("0x36")].viewModeAnimateTime:0,(function(x){i[_0x37ca("0x275")].update({forcePhi:i.__lastPhi*x[_0x37ca("0xf2")]}),i[_0x37ca("0xaa6")]=!0}),null,(function(){t&&t(i[_0x37ca("0xac6")]),i.__viewModeAnimating=!1})),function(x){var c=r[_0x37ca("0x612")],_=x[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xdf")](n.position),e=n[_0x37ca("0xb8")][_0x37ca("0xde")]()[_0x37ca("0x2d7")](x.controls[_0x37ca("0x276")]).normalize();n[_0x37ca("0xb8")][_0x37ca("0x268")](x[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xde")]()[_0x37ca("0xe0")](e.multiplyScalar(_/c))),n[_0x37ca("0x8dc")](),x[_0x37ca("0xac6")]=a}(i),i[_0x37ca("0x1da")](_0x37ca("0xb04"),i[_0x37ca("0xac6")])),this[_0x37ca("0x66f")]=0}}}else{"2D"==x&&(this.lastTiltAngle=this[_0x37ca("0x2f6")]);var s="2D"==x?.01:this[_0x37ca("0xb02")];this[_0x37ca("0xa10")]({angle:s,callback:function(){}})}},get:function(){return this[_0x37ca("0xac6")]}},{key:_0x37ca("0xb05"),set:function(x){var a=this;if(x!=this[_0x37ca("0xf5")][_0x37ca("0xb06")]){if(a.mapTheme[_0x37ca("0xb06")]=x,!a[_0x37ca("0xb07")])return;a.mapTheme.themeID_=x;var c=this[_0x37ca("0x36")][_0x37ca("0xb08")];this.buildingService[_0x37ca("0xa25")](x,c,(function(c){a[_0x37ca("0xf5")].updateBuildingTheme(c,x)}))}},get:function(){return this[_0x37ca("0xf5")][_0x37ca("0xb06")]}},{key:_0x37ca("0x8ec"),set:function(x){this.mapView[_0x37ca("0x693")][_0x37ca("0x6b4")](parseInt(x))}},{key:_0x37ca("0xb09"),set:function(x){x!=this.scaler_[_0x37ca("0xed")]&&(this[_0x37ca("0x945")][_0x37ca("0xed")]=x)},get:function(){return this[_0x37ca("0x945")][_0x37ca("0xed")]}},{key:"zoomLevelInt",get:function(){return Math[_0x37ca("0xa18")](this[_0x37ca("0x154")].zoomLevel)}},{key:"zoomLevel",get:function(){return this.mapView[_0x37ca("0x156")]},set:function(x){this[_0x37ca("0x154")][_0x37ca("0x156")]=x}},{key:_0x37ca("0x1ef"),get:function(){return this.mapView[_0x37ca("0xb0a")][_0x37ca("0xb0b")]},set:function(x){this[_0x37ca("0x154")][_0x37ca("0xb0a")][_0x37ca("0xb0b")]=x}},{key:_0x37ca("0x1f5"),get:function(){return this[_0x37ca("0x154")][_0x37ca("0xb0c")]},set:function(x){this[_0x37ca("0x154")][_0x37ca("0xb0c")]=x}},{key:"lightAngleY",get:function(){return this.mapView[_0x37ca("0xb0d")]},set:function(x){this[_0x37ca("0x154")][_0x37ca("0xb0d")]=x}},{key:"id",set:function(x){this.sceneId_=x},get:function(){return this[_0x37ca("0xb07")]}},{key:_0x37ca("0x9aa"),get:function(){for(var x=[],a=0;a<this[_0x37ca("0x14c")][_0x37ca("0x1ae")][_0x37ca("0xa6")][_0x37ca("0x4")];a++)x[_0x37ca("0x0")](this.mapScene[_0x37ca("0x1ae")][_0x37ca("0xa6")][a][_0x37ca("0xa4")]);return x}},{key:_0x37ca("0xb0e"),get:function(){return this.mapService.getState(_0x37ca("0x99c"))}},{key:_0x37ca("0x498"),get:function(){return this.mapService[_0x37ca("0x603")]("mapNameEn")}},{key:_0x37ca("0x2f6"),get:function(){return this.controls[_0x37ca("0x2e7")]()*THREE[_0x37ca("0x249")].RAD2DEG},set:function(x){(x=x*Math.PI/180)<this[_0x37ca("0x275")].minPolarAngle&&(x=this[_0x37ca("0x275")][_0x37ca("0x93d")]),x>this[_0x37ca("0x275")][_0x37ca("0x996")]&&(x=this[_0x37ca("0x275")][_0x37ca("0x996")]),this[_0x37ca("0x275")][_0x37ca("0x119")]({forcePhi:x}),this[_0x37ca("0x66f")]=0}},{key:"rotateAngle",get:function(){var x=this[_0x37ca("0x275")][_0x37ca("0xaef")]();return(Math.PI-x)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")]},set:function(x){x=-x*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],this.controls[_0x37ca("0x119")]({forceTheta:x+Math.PI}),this[_0x37ca("0x66f")]=0}},{key:_0x37ca("0x398"),get:function(){return this.mapView.w_}},{key:_0x37ca("0x1a8"),get:function(){return this[_0x37ca("0x154")].h_}}]),a}(v[_0x37ca("0xe")]);O[_0x37ca("0xb0f")]=!0,O[_0x37ca("0x980")]=!1,O.id=1,a[_0x37ca("0xe")]=O},,,,,,,function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=g(c(27)),e=g(c(4)),t=g(c(0)),i=g(c(1)),n=g(c(5)),r=g(c(6)),s=g(c(269)),o=g(c(271)),l=g(c(95)),u=g(c(132)),d=c(34),f=g(c(275)),h=c(96);function g(x){return x&&x.__esModule?x:{default:x}}c(278);var b=null,v=!1,p=function(x){function a(x){(0,t[_0x37ca("0xe")])(this,a);var c=(0,n[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,e.default)(a))[_0x37ca("0x6")](this));return c.maindeltaTime=.01,c.init(x),c}return(0,r[_0x37ca("0xe")])(a,x),(0,i[_0x37ca("0xe")])(a,[{key:"init",value:function(x){this[_0x37ca("0x36")]=new(h[_0x37ca("0x1e1")])(x),this[_0x37ca("0x154")]=new(s[_0x37ca("0xe")])(this),this[_0x37ca("0x154")][_0x37ca("0xea")]()&&(this.currentCamera=this.mapView[_0x37ca("0x611")],this[_0x37ca("0x186")].position[_0x37ca("0x11d")](30,30,30),this.controls=new(THREE[_0x37ca("0xb10")])(this.mapView[_0x37ca("0x611")],this[_0x37ca("0x154")][_0x37ca("0x1ed")]),this[_0x37ca("0x154")][_0x37ca("0x1ed")][_0x37ca("0x33")](_0x37ca("0xb11"),(function(x){x[_0x37ca("0x36f")]()})),this[_0x37ca("0x182")]=new(o[_0x37ca("0xe")])(this),this[_0x37ca("0xb12")]=new THREE.Clock,this.compass=new(f[_0x37ca("0xe")])(!1,this[_0x37ca("0x154")].sceneOrtho,this[_0x37ca("0x36")]),this.registerEvents(),this[_0x37ca("0x154")][_0x37ca("0xab5")](),this.update())}},{key:"dumpScene",value:function(){var x=this;x.fire(_0x37ca("0xa8")),x[_0x37ca("0x993")](),x[_0x37ca("0x1dd")](),cancelAnimationFrame(b);var a=this[_0x37ca("0x154")][_0x37ca("0xb5")],c=this[_0x37ca("0x154")][_0x37ca("0x693")];x[_0x37ca("0x182")][_0x37ca("0xa8")](),(0,d[_0x37ca("0x1b2")])(a),x[_0x37ca("0x275")][_0x37ca("0xa8")]();var e=x[_0x37ca("0x154")].canvas[_0x37ca("0x903")](_0x37ca("0xb13"));e||(e=x[_0x37ca("0x154")][_0x37ca("0x6f9")][_0x37ca("0x903")](_0x37ca("0x584"))),e.clear(e[_0x37ca("0xb14")]);for(var t=0;t<x.tileList.length;t++)x[_0x37ca("0x9aa")][t]=null;for(var i=0;i<x[_0x37ca("0x628")][_0x37ca("0x4")];i++)x[_0x37ca("0x628")][i]=null;(0,_[_0x37ca("0xe")])(x.mapView[_0x37ca("0x1ed")][_0x37ca("0xa6")]).forEach((function(a){x.mapView.container[_0x37ca("0x2a")](a)})),c[_0x37ca("0x31a")]=void 0,esmap[_0x37ca("0x34")].instance=null,THREE.Cache[_0x37ca("0x69d")]()}},{key:_0x37ca("0xb15"),value:function(x){var a=this[_0x37ca("0x275")][_0x37ca("0x93e")];this[_0x37ca("0x275")].dispose(),this[_0x37ca("0xb16")](x);var c=esmap.ESMap[_0x37ca("0x35")];c&&x[_0x37ca("0x33")]("change",c.controlsChange_[_0x37ca("0x10")](this)),this[_0x37ca("0x275")]=x,this[_0x37ca("0x275")][_0x37ca("0x93e")]=a,this[_0x37ca("0x958")]&&(this[_0x37ca("0x958")][_0x37ca("0xb17")]=x),this[_0x37ca("0x1da")]("controlsReseted")}},{key:_0x37ca("0xb18"),value:function(){var x,a,c,_,e,t=this;t.mapPicker.registerEvents(t),this[_0x37ca("0x182")].on(_0x37ca("0xb19"),(function(x){var a=null;x[_0x37ca("0x4b3")][_0x37ca("0x4")]>0&&(a=x[_0x37ca("0x4b3")][0][_0x37ca("0xc")]),t[_0x37ca("0x1da")](_0x37ca("0xb1a"),{obj:a})})),t[_0x37ca("0xb16")](t.controls),t.pageVisibility=(c=function(x,a){return""!==x?x+a[_0x37ca("0x14")](0,1)[_0x37ca("0xb00")]()+a.slice(1):a},a=!1,typeof window[_0x37ca("0xb1b")]===_0x37ca("0x143")&&[_0x37ca("0xb1c"),_0x37ca("0xb1d"),"ms","o",""].forEach((function(_){0==a&&null!=document[c(_,_0x37ca("0x6dc"))]&&(x=_,a=!0)})),_=a,{state:(e=function(){if(_)return document[c(x,"visibilityState")]})(),visibilitychange:function(a,c){if(_&&typeof a===_0x37ca("0xc5"))return document[_0x37ca("0x33")](x+_0x37ca("0xb1e"),function(x){this[_0x37ca("0x6a2")]=e(),a[_0x37ca("0x6")](this,x)}[_0x37ca("0x10")](this),!1)}}),t[_0x37ca("0xb1f")][_0x37ca("0xb1e")]((function(){t[_0x37ca("0x1da")]("visibilityChanged",this[_0x37ca("0x6a2")])})),t.on("controlstart",(function(){t[_0x37ca("0x36")].hoverMode&&(t[_0x37ca("0x182")].hoverMode=!1)})),t.on(_0x37ca("0x948"),(function(){t[_0x37ca("0x36")].hoverMode&&(t[_0x37ca("0x182")][_0x37ca("0x956")]=!0)})),t.on(_0x37ca("0x145"),(function(){t[_0x37ca("0x36")][_0x37ca("0x956")]&&(t[_0x37ca("0x182")][_0x37ca("0x956")]=!1)}))}},{key:_0x37ca("0xb16"),value:function(x){var a=this;x[_0x37ca("0x33")](_0x37ca("0x1c6"),(function(x){esmap[_0x37ca("0x34")][_0x37ca("0x980")]&&(v=!1),a[_0x37ca("0x1da")]("controlstart")})),x[_0x37ca("0x33")](_0x37ca("0x2dc"),(function(){esmap[_0x37ca("0x34")][_0x37ca("0x980")]&&(v=!0),a[_0x37ca("0x1da")]("controlend")})),x.addEventListener(_0x37ca("0x12d"),(function(){a.fire(_0x37ca("0x12d"),a[_0x37ca("0x154")][_0x37ca("0x156")])})),x[_0x37ca("0x33")](_0x37ca("0x942"),(function(){a.compass[_0x37ca("0xb20")](-a.controls[_0x37ca("0xaef")]()-Math.PI)}))}},{key:"update",value:function(){var x=this;x[_0x37ca("0x1da")]("update",x[_0x37ca("0xb21")]),x.fire("updateLts",x.maindeltaTime),b=requestAnimationFrame(x[_0x37ca("0x119")][_0x37ca("0x10")](x)),v||(x[_0x37ca("0x154")][_0x37ca("0x578")](),x[_0x37ca("0x275")][_0x37ca("0x119")](),x[_0x37ca("0xb21")]=x.maintimer.getDelta())}},{key:_0x37ca("0xb22"),value:function(){v=!0}},{key:"reRender",value:function(){v=!1}},{key:"compassOffset",get:function(){return this[_0x37ca("0xa4a")].options_.compassOffset},set:function(x){var a=this[_0x37ca("0xa4a")][_0x37ca("0x409")].compassOffset;this[_0x37ca("0xa4a")][_0x37ca("0xb23")][_0x37ca("0xb8")].x=this[_0x37ca("0xa4a")][_0x37ca("0xb23")][_0x37ca("0xb8")].x-a[0]+x[0],this[_0x37ca("0xa4a")].spriteBg_.position.y=this.compass.spriteBg_[_0x37ca("0xb8")].y+a[1]-x[1],this[_0x37ca("0xa4a")][_0x37ca("0xb24")][_0x37ca("0xb8")].x=this[_0x37ca("0xa4a")][_0x37ca("0xb24")].position.x-a[0]+x[0],this[_0x37ca("0xa4a")][_0x37ca("0xb24")][_0x37ca("0xb8")].y=this[_0x37ca("0xa4a")][_0x37ca("0xb24")][_0x37ca("0xb8")].y+a[1]-x[1],this[_0x37ca("0xa4a")][_0x37ca("0x409")].compassOffset=x}},{key:_0x37ca("0xb25"),get:function(){return this[_0x37ca("0xa4a")].spriteBg_[_0x37ca("0x22e")].x},set:function(x){this[_0x37ca("0xa4a")].spriteBg_[_0x37ca("0x22e")].x=x,this[_0x37ca("0xa4a")][_0x37ca("0xb23")][_0x37ca("0x22e")].y=x,this[_0x37ca("0xa4a")][_0x37ca("0xb24")][_0x37ca("0x22e")].x=x,this[_0x37ca("0xa4a")][_0x37ca("0xb24")][_0x37ca("0x22e")].y=x}},{key:"showCompass",set:function(x){x!=this[_0x37ca("0xa4a")][_0x37ca("0xed")]&&(this.compass.visible=x,x&&this[_0x37ca("0xa4a")][_0x37ca("0xb20")](this.options[_0x37ca("0x1f8")]*THREE.Math.DEG2RAD))},get:function(){return this[_0x37ca("0xa4a")][_0x37ca("0xed")]}}]),a}((0,l[_0x37ca("0xe")])(u.default));a[_0x37ca("0xe")]=p},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(0)),e=n(c(1)),t=n(c(54)),i=n(c(270));function n(x){return x&&x.__esModule?x:{default:x}}var r=new t.default,s=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this._minResolution=.018661384582519532,this[_0x37ca("0xb26")]=19567.88,this[_0x37ca("0xb27")]={1:78271.52},this.lights={},this[_0x37ca("0x39")]=a}return(0,e[_0x37ca("0xe")])(x,[{key:"getSize",value:function(){var x={};this[_0x37ca("0x1ed")][_0x37ca("0x24")][_0x37ca("0x398")]&&this.container.style[_0x37ca("0x1a8")]?(this[_0x37ca("0x1ed")].style[_0x37ca("0x398")][_0x37ca("0xda")]("px")>-1&&(x[_0x37ca("0x398")]=this[_0x37ca("0x1ed")][_0x37ca("0x24")][_0x37ca("0x398")].replace("px","")),this[_0x37ca("0x1ed")][_0x37ca("0x24")][_0x37ca("0x1a8")][_0x37ca("0xda")]("px")>-1&&(x.height=this[_0x37ca("0x1ed")].style[_0x37ca("0x1a8")][_0x37ca("0x102")]("px","")),x[_0x37ca("0x398")]&&x.height||(x=this[_0x37ca("0x1ed")][_0x37ca("0x396")]())):x=this[_0x37ca("0x1ed")][_0x37ca("0x396")]();var a=x[_0x37ca("0x398")],c=x[_0x37ca("0x1a8")];return a!=this.w_||c!=this.h_?{w:a,h:c}:null}},{key:_0x37ca("0xea"),value:function(){this.container=this.map[_0x37ca("0x36")][_0x37ca("0x1ed")],this[_0x37ca("0x1ed")][_0x37ca("0x24")][_0x37ca("0x198")]="none";var x=this.map[_0x37ca("0x36")].powerPreference;try{var a=this[_0x37ca("0x39")].options[_0x37ca("0x206")];if(esmap[_0x37ca("0x206")]&&(null==a||a)){var c={antialias:!0,alpha:!!this[_0x37ca("0x39")].options.perspective},_=document[_0x37ca("0x22")](_0x37ca("0x6f9")),e=_[_0x37ca("0x903")](_0x37ca("0x584"),c);this[_0x37ca("0x693")]=null!==e?new(THREE[_0x37ca("0xb28")])({canvas:_,context:e,powerPreference:x,alpha:!!this.map.options[_0x37ca("0x885")],precision:_0x37ca("0xb29"),logarithmicDepthBuffer:true}):new(THREE[_0x37ca("0xb28")])({antialias:!0,precision:_0x37ca("0xb29"),powerPreference:x,alpha:!!this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x885")],logarithmicDepthBuffer:!0})}else this.renderer=new THREE.WebGLRenderer({antialias:!0,precision:_0x37ca("0xb29"),powerPreference:x,logarithmicDepthBuffer:true});this[_0x37ca("0x693")][_0x37ca("0xb2a")]=!0,this[_0x37ca("0x693")].zBufferSupport=!0}catch(x){return void(new(i[_0x37ca("0xe")]))[_0x37ca("0x5b4")](this[_0x37ca("0x1ed")])}this.renderer[_0x37ca("0x6b4")](16777215),this.renderer.setPixelRatio(window.devicePixelRatio),this[_0x37ca("0x693")][_0x37ca("0x6b2")]=!1,this[_0x37ca("0x693")][_0x37ca("0xb2b")].enabled=!1;var t=this[_0x37ca("0x1ed")][_0x37ca("0x3a5")],n=this[_0x37ca("0x1ed")][_0x37ca("0x3a6")]||window.innerHeight;this.renderer.setSize(t,n),this[_0x37ca("0x6f9")]=this.renderer[_0x37ca("0x31a")],this.container[_0x37ca("0x27")](this.canvas),this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xb2c")]==esmap[_0x37ca("0x1f2")][_0x37ca("0x80c")]?this.camera=new(THREE[_0x37ca("0x886")])(35,t/n,1,4e4):this[_0x37ca("0x611")]=new(THREE[_0x37ca("0x886")])(60,t/n,.001,1e4),this.vFOV=2*Math[_0x37ca("0x311")](this.camera.fov*Math.PI/360),this[_0x37ca("0x611")][_0x37ca("0xb2d")]=new(THREE[_0x37ca("0xe2")]),this.camera[_0x37ca("0x11a")][_0x37ca("0xb2e")]=this[_0x37ca("0xb2f")]/n,this[_0x37ca("0xb5")]=new(THREE[_0x37ca("0x3d0")]),this[_0x37ca("0x611")][_0x37ca("0x25b")](this[_0x37ca("0xb5")][_0x37ca("0xb8")]),this[_0x37ca("0x9de")]=new THREE.OrthographicCamera(-t/2,t/2,-n/2,n/2,1,1e5),this[_0x37ca("0x9de")][_0x37ca("0x1a3")].set(-Math.PI/2,0,0,_0x37ca("0x1a4")),this[_0x37ca("0x9de")][_0x37ca("0xb30")]=!1,this[_0x37ca("0x9de")][_0x37ca("0xb8")][_0x37ca("0x11d")](0,1e5,0),this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x885")]&&this[_0x37ca("0x693")].setClearAlpha(0),this.composer=new esmap.ESComposerRender(this.map),this[_0x37ca("0x9df")]=new(THREE[_0x37ca("0xb31")])(-t/2,t/2,n/2,-n/2,1,1e3),this.cameraOrtho[_0x37ca("0xb8")][_0x37ca("0x3b9")](10),this[_0x37ca("0x941")]=new(THREE[_0x37ca("0x3d0")]),this[_0x37ca("0xb32")]=new(THREE[_0x37ca("0xb33")]),this[_0x37ca("0xb32")].name="1",this[_0x37ca("0xb32")][_0x37ca("0x3ea")]=.5,this[_0x37ca("0xb5")][_0x37ca("0xe0")](this[_0x37ca("0xb32")]),this[_0x37ca("0x771")][1]=this.ambientLight,this[_0x37ca("0xb34")]=new(THREE[_0x37ca("0x773")])(8947848,1.4),this.mainLight[_0x37ca("0x1aa")]="2",this[_0x37ca("0xb5")][_0x37ca("0xe0")](this[_0x37ca("0xb34")]),this[_0x37ca("0x771")][2]=this[_0x37ca("0xb34")];var r=new(THREE[_0x37ca("0x773")])(0,.1);return r.name="3",this.secondLight=r,this[_0x37ca("0xb5")][_0x37ca("0xe0")](r),this[_0x37ca("0x771")][3]=r,this[_0x37ca("0xb35")](t,n),window[_0x37ca("0x33")](_0x37ca("0x9dd"),this[_0x37ca("0xb36")][_0x37ca("0x10")](this),!1),!0}},{key:_0x37ca("0xb37"),value:function(x){return this[_0x37ca("0x611")].userData.vFovHeight*x}},{key:"getZoomLevelByDistance",value:function(x){return this.resolution2Level(this[_0x37ca("0xb37")](x))}},{key:"resolution2Level",value:function(x){return Math.log(78271.52/x)*Math[_0x37ca("0xb38")]+1}},{key:_0x37ca("0xb39"),value:function(x){return 78271.52/Math[_0x37ca("0xb0")](Math.E,(x-1)/Math[_0x37ca("0xb38")])}},{key:"calResolution",value:function(x,a){x.getWorldDirection(x.cam2control);var c=x[_0x37ca("0xb2d")],_=new(THREE[_0x37ca("0xe2")]),e=x.position;if(this.map[_0x37ca("0x610")]==_0x37ca("0x173")){var t=this[_0x37ca("0x39")];e=t[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xde")]().add(this[_0x37ca("0x611")][_0x37ca("0xb8")].clone()[_0x37ca("0x2d7")](t[_0x37ca("0x275")][_0x37ca("0x276")])[_0x37ca("0x2d8")]().multiplyScalar(t[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xdf")](this[_0x37ca("0x611")][_0x37ca("0xb8")])/this[_0x37ca("0x9de")][_0x37ca("0x612")]))}return _[_0x37ca("0x8b2")](a,e),x[_0x37ca("0x11a")][_0x37ca("0xb2e")]*c[_0x37ca("0x8b3")](_)}},{key:_0x37ca("0xac9"),value:function(){return this[_0x37ca("0x39")][_0x37ca("0x253")](this.map[_0x37ca("0x275")][_0x37ca("0x276")])}},{key:_0x37ca("0x303"),value:function(){return this[_0x37ca("0x39")][_0x37ca("0x234")](this[_0x37ca("0x39")][_0x37ca("0x275")].target)}},{key:_0x37ca("0xa01"),value:function(){var x=this[_0x37ca("0x39")][_0x37ca("0x234")](this[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")]);return esmap[_0x37ca("0x7b")][_0x37ca("0xaa")](x.x,x.y)}},{key:_0x37ca("0xab5"),value:function(x,a){if(!x||!a){var c=this[_0x37ca("0x69b")]();if(!c)return;x=c.w,a=c.h}if(0!=x&&0!=a){this.resize(x,a),this.map[_0x37ca("0x1da")]("resize",{width:x,height:a});var _=this.canvas.width,e=this[_0x37ca("0x6f9")][_0x37ca("0x1a8")];_==x&&e==a||this[_0x37ca("0xab5")]()}}},{key:_0x37ca("0xb35"),value:function(x,a){var c=new(THREE[_0x37ca("0x6ef")]);c[_0x37ca("0x690")](x,a);var _=c.domElement;_.style[_0x37ca("0x398")]="100%",_.style[_0x37ca("0x1a8")]=_0x37ca("0x31e"),this.container.appendChild(_);var e=this[_0x37ca("0x6f9")];e[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),e.style[_0x37ca("0x1a8")]=_0x37ca("0x31e"),e[_0x37ca("0x24")][_0x37ca("0xb3a")]="none",_[_0x37ca("0x27")](e),this.rendererCss2D=c}},{key:_0x37ca("0xb36"),value:function(){this[_0x37ca("0xab5")](),this[_0x37ca("0x39")][_0x37ca("0xa4a")][_0x37ca("0x40c")](this.w_,this.h_),this[_0x37ca("0xab5")]()}},{key:_0x37ca("0x9dd"),value:function(x,a){this[_0x37ca("0xae1")]=x/2,this[_0x37ca("0xae2")]=a/2,this[_0x37ca("0xb3b")][_0x37ca("0xb3c")](x,a),this[_0x37ca("0x693")][_0x37ca("0x690")](x,a),this[_0x37ca("0x319")].setSize(x,a),this.camera.aspect=x/a,this[_0x37ca("0x611")][_0x37ca("0x8dc")](),this.cssCamera&&(this[_0x37ca("0xb3d")][_0x37ca("0x615")]=x/a,this[_0x37ca("0xb3d")][_0x37ca("0x8dc")](),this[_0x37ca("0x978")].setSize(x,a));var c=esmap[_0x37ca("0x7b")][_0x37ca("0x5ee")](this[_0x37ca("0x611")],this.map[_0x37ca("0x275")]);this[_0x37ca("0x9de")][_0x37ca("0x172")]=-c[_0x37ca("0x174")],this.cameraTop.right=c[_0x37ca("0x174")],this.cameraTop[_0x37ca("0x173")]=c[_0x37ca("0x173")],this[_0x37ca("0x9de")].bottom=-c[_0x37ca("0x173")],this[_0x37ca("0x9de")][_0x37ca("0x8dc")](),this[_0x37ca("0x9df")][_0x37ca("0x172")]=-this[_0x37ca("0xae1")],this[_0x37ca("0x9df")][_0x37ca("0x174")]=this[_0x37ca("0xae1")],this[_0x37ca("0x9df")][_0x37ca("0x173")]=this[_0x37ca("0xae2")],this[_0x37ca("0x9df")][_0x37ca("0x175")]=-this[_0x37ca("0xae2")],this.cameraOrtho.updateProjectionMatrix(),this.w_=x,this.h_=a}},{key:"render",value:function(){this[_0x37ca("0x39")][_0x37ca("0x36")].closeComposer||(this[_0x37ca("0x693")][_0x37ca("0x69d")](),"3D"==this.map.viewMode_?this[_0x37ca("0x693")][_0x37ca("0x578")](this[_0x37ca("0xb5")],this[_0x37ca("0x611")]):this.renderer[_0x37ca("0x578")](this[_0x37ca("0xb5")],this[_0x37ca("0x9de")]),this.renderer[_0x37ca("0x6b1")](),this[_0x37ca("0x693")].render(this.sceneOrtho,this[_0x37ca("0x9df")]),"3D"==this[_0x37ca("0x39")][_0x37ca("0xac6")]?this[_0x37ca("0x319")][_0x37ca("0x578")](this[_0x37ca("0xb5")],this[_0x37ca("0x611")]):this[_0x37ca("0x319")].render(this[_0x37ca("0xb5")],this[_0x37ca("0x9de")]))}},{key:_0x37ca("0x275"),get:function(){return this[_0x37ca("0x39")][_0x37ca("0x275")]}},{key:"zoomLevel",get:function(){return this[_0x37ca("0xb3e")](this[_0x37ca("0xb3f")])},set:function(x){var a=this[_0x37ca("0xb39")](x);this[_0x37ca("0xb3f")]=a}},{key:_0x37ca("0xb3f"),get:function(){var x=this[_0x37ca("0xb40")](this[_0x37ca("0x611")],this[_0x37ca("0x275")].target);return r[_0x37ca("0x11d")](this,x),r[_0x37ca("0x34a")](this)},set:function(x){if(x&&null!=x&&!isNaN(x)&&(x=Math[_0x37ca("0x30d")](this[_0x37ca("0xb41")],Math.min(x,this[_0x37ca("0xb26")])),r.set(this,x),this.controls&&this[_0x37ca("0x611")].userData[_0x37ca("0xb2e")])){var a=x/this[_0x37ca("0x611")][_0x37ca("0x11a")][_0x37ca("0xb2e")];this.camera[_0x37ca("0xb42")](this[_0x37ca("0x611")][_0x37ca("0xb2d")]);var c=this[_0x37ca("0x611")].cam2control,_=c[_0x37ca("0x8b3")](this.controls[_0x37ca("0x276")]),e=c[_0x37ca("0x8b3")](this.camera.position),t=(new(THREE[_0x37ca("0xe2")]))[_0x37ca("0x8b2")](this.controls[_0x37ca("0x276")],this[_0x37ca("0x611")].position),i=(e-(_-a))/t.dot(c);t[_0x37ca("0x26b")](i),this.camera[_0x37ca("0xb8")][_0x37ca("0x2d7")](t),this[_0x37ca("0x611")][_0x37ca("0x6eb")](!0),this[_0x37ca("0x275")][_0x37ca("0x119")]()}}}]),x}();a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(){(0,_[_0x37ca("0xe")])(this,x)}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x5b4"),value:function(x){var a=document[_0x37ca("0x22")](_0x37ca("0x38c"));a.innerHTML=_0x37ca("0xb43"),a[_0x37ca("0x32b")](_0x37ca("0x325"),_0x37ca("0x5b4")),x.appendChild(a)}}]),x}();a.default=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=u(c(4)),e=u(c(0)),t=u(c(1)),i=u(c(5)),n=u(c(6)),r=c(11),s=u(c(95)),o=u(c(132)),l=c(34);function u(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var d={},f=!1,h=function(x){function a(){(0,e[_0x37ca("0xe")])(this,a);var x=(0,i.default)(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this));return x[_0x37ca("0xa98")]=null,x[_0x37ca("0xa95")]=new(THREE[_0x37ca("0x3c1")]),x[_0x37ca("0xb44")]=new(THREE[_0x37ca("0x3c1")]),x[_0x37ca("0xb45")]=!1,x[_0x37ca("0x57b")]=!0,x[_0x37ca("0xb46")]=!1,x[_0x37ca("0xb47")]=[],x.ebp_=!1,x[_0x37ca("0xb48")]=0,x[_0x37ca("0xb49")]=!1,x[_0x37ca("0xa88")]=!1,x[_0x37ca("0xb4a")]=[],x[_0x37ca("0xa9c")]=[],x[_0x37ca("0xb4b")]=null,x[_0x37ca("0xb4c")]=null,x[_0x37ca("0x956")]=!1,x[_0x37ca("0x18d")]={default:[]},x[_0x37ca("0xb4d")]=(0,r[_0x37ca("0x20e")])()[_0x37ca("0xb4d")],x}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:"addObject",value:function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]?arguments[1]:_0x37ca("0xe");this[_0x37ca("0x18d")][a]||(this.watchingList[a]=[]),this[_0x37ca("0x18d")][a][_0x37ca("0x0")](x)}},{key:_0x37ca("0xa8"),value:function(){var x=this[_0x37ca("0x39")].mapView[_0x37ca("0x1ed")];x[_0x37ca("0x2b3")](_0x37ca("0x73a"),d[_0x37ca("0x73a")]),x[_0x37ca("0x2b3")](_0x37ca("0x73e"),d[_0x37ca("0x73e")]),x[_0x37ca("0x2b3")]("mouseup",d[_0x37ca("0x73b")]),x[_0x37ca("0x2b3")]("touchstart",d[_0x37ca("0x73a")]),x[_0x37ca("0x2b3")](_0x37ca("0xb4e"),d[_0x37ca("0x73e")]),x[_0x37ca("0x2b3")](_0x37ca("0xb4f"),d[_0x37ca("0x73b")]),this[_0x37ca("0x18d")]=null,d={}}},{key:_0x37ca("0xb18"),value:function(x){var a=this;this[_0x37ca("0x39")]=x;var c=this.map[_0x37ca("0x154")][_0x37ca("0x1ed")];this[_0x37ca("0xb50")]=new(THREE[_0x37ca("0x8d3")])(this[_0x37ca("0x39")].currentCamera,null,7e9),this[_0x37ca("0xb50")][_0x37ca("0x57b")]=!1,this[_0x37ca("0xb50")].pickType="all",this[_0x37ca("0xb51")]=new(THREE[_0x37ca("0xb52")])(this.BoxPicker,c,"ESSelectBox"),d.mousedown=this[_0x37ca("0xb53")][_0x37ca("0x10")](this),d[_0x37ca("0x73e")]=this.onmousemove[_0x37ca("0x10")](this),d[_0x37ca("0x73b")]=this[_0x37ca("0xb54")].bind(this),c.addEventListener(_0x37ca("0x73a"),d.mousedown),c[_0x37ca("0x33")](_0x37ca("0x73e"),d[_0x37ca("0x73e")]),c.addEventListener(_0x37ca("0x73b"),d[_0x37ca("0x73b")]),c.addEventListener(_0x37ca("0xb55"),d[_0x37ca("0x73a")]),c[_0x37ca("0x33")](_0x37ca("0xb4e"),d[_0x37ca("0x73e")]),c[_0x37ca("0x33")]("touchend",d[_0x37ca("0x73b")]),this.map.on(_0x37ca("0xa8"),(function(){a[_0x37ca("0xa8")]()}))}},{key:_0x37ca("0xb56"),value:function(){if(0!=this[_0x37ca("0xb4a")].length){this[_0x37ca("0xa95")][_0x37ca("0xadd")](this[_0x37ca("0xa98")],this[_0x37ca("0x39")][_0x37ca("0x186")]);var x=this[_0x37ca("0xa95")][_0x37ca("0xa96")](this[_0x37ca("0xb4a")],!0);if(x[_0x37ca("0x4")]>0){var a=x[0];this[_0x37ca("0xb57")](a[_0x37ca("0xc")])}else this[_0x37ca("0xb58")]()}}},{key:_0x37ca("0xb59"),value:function(x){var a=this[_0x37ca("0x18d")];for(var c in a){var _=a[c];if(_[_0x37ca("0xda")](x)>-1)return _[_0x37ca("0x5")](_.indexOf(x),1),!0}return!1}},{key:_0x37ca("0xb58"),value:function(){if(this[_0x37ca("0xb4b")]){(this[_0x37ca("0xb4b")][_0x37ca("0x11a")][_0x37ca("0xb5a")]||this[_0x37ca("0xb4b")])[_0x37ca("0xb6")]((function(x){x[_0x37ca("0xa9")]&&x.material.emissive&&x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xb5b")]&&(x[_0x37ca("0xa9")][_0x37ca("0x2c1")]=x[_0x37ca("0xa9")][_0x37ca("0x11a")].$originalEmissive,x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xb5b")]=!1)}));var x=this.lastHoverTarget[_0x37ca("0x11a")].lineGroup,a=this.lastHoverTarget[_0x37ca("0x11a")].label;x&&x[_0x37ca("0xed")]&&(x[_0x37ca("0xed")]=!1),a&&a[_0x37ca("0x11a")][_0x37ca("0xb5b")]&&(a[_0x37ca("0xa9")][_0x37ca("0x13c")]=a[_0x37ca("0xa9")].userData[_0x37ca("0xb5c")],a.userData[_0x37ca("0xb5b")]=!1),this[_0x37ca("0xb4b")]=null}}},{key:_0x37ca("0xb57"),value:function(x){if(this[_0x37ca("0xb4b")]!=x){this[_0x37ca("0xb58")]();var a=x[_0x37ca("0x11a")][_0x37ca("0xb5a")]||x,c=_0x37ca("0xb5d");this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x3e3")]&&this[_0x37ca("0x39")][_0x37ca("0x36")].selectedColor[_0x37ca("0x57")]&&(c=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x3e3")].buildingModel[_0x37ca("0x13c")]),a[_0x37ca("0xb6")]((function(x){x[_0x37ca("0xa9")]&&x[_0x37ca("0xa9")][_0x37ca("0x2c1")]&&!x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xb5b")]&&(x.material.userData[_0x37ca("0xb5e")]=x[_0x37ca("0xa9")].emissive[_0x37ca("0xde")](),x[_0x37ca("0xa9")][_0x37ca("0x2c1")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](c),x[_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xb5b")]=!0)}));var _=x[_0x37ca("0x11a")][_0x37ca("0xb5f")],e=x.userData.label;_&&!_[_0x37ca("0xed")]&&(_[_0x37ca("0xed")]=!0),e&&!e[_0x37ca("0x11a")][_0x37ca("0xb5b")]&&(e.material[_0x37ca("0x11a")][_0x37ca("0xb5c")]=e[_0x37ca("0xa9")][_0x37ca("0x13c")][_0x37ca("0xde")](),e.material[_0x37ca("0x13c")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](c),e.userData.hovered=!0),this.map[_0x37ca("0x1da")](_0x37ca("0xb60"),{floornum:x[_0x37ca("0x11a")][_0x37ca("0x48f")],target:x[_0x37ca("0x11a")].model}),this[_0x37ca("0xb4b")]=x}}},{key:_0x37ca("0x119"),value:function(x){var a=this,c=this;this[_0x37ca("0xa95")][_0x37ca("0xadd")](this.mousePos,this[_0x37ca("0x39")][_0x37ca("0x186")]),this[_0x37ca("0xb46")]=!1,this[_0x37ca("0xa9c")]=[];var _=[];if(this[_0x37ca("0xb49")])this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0xb5")][_0x37ca("0xb6")]((function(x){x[_0x37ca("0x22a")]!=_0x37ca("0x148")||x[_0x37ca("0x1aa")]==_0x37ca("0xaaa")||x[_0x37ca("0x1aa")]==_0x37ca("0xb61")||x[_0x37ca("0xb62")]||c[_0x37ca("0x8e7")](x)&&_[_0x37ca("0x0")](x)}));else{var e=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xb63")];for(var t in this[_0x37ca("0x18d")]){var i=this[_0x37ca("0x18d")][t];e&&this[_0x37ca("0x39")][_0x37ca("0x315")](t)||i[_0x37ca("0x1f")]((function(e){x?a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1fc")]!=_0x37ca("0x62c")?e[_0x37ca("0xa4")]&&a[_0x37ca("0x39")].options[_0x37ca("0x1fc")].indexOf(e[_0x37ca("0xa4")][_0x37ca("0xc8")])>-1&&c[_0x37ca("0x8e7")](e)&&_[_0x37ca("0x0")](e):c[_0x37ca("0x8e7")](e)&&_.push(e):c.isVisible(e)&&_.push(e)}))}}if(this.enabled&&(this[_0x37ca("0xa9c")]=this[_0x37ca("0xa95")][_0x37ca("0xa96")](_,!0)),this.intersects[_0x37ca("0x4")]>0&&(this.isPicked=!0),x)if(this[_0x37ca("0xa9c")][_0x37ca("0x4")]>0){var n=this[_0x37ca("0xa9c")][0][_0x37ca("0xc")],r=null;if(21==n[_0x37ca("0xc8")])r=(n=n[_0x37ca("0xbb")])[_0x37ca("0xa4")];else if(n[_0x37ca("0xa4")]){if(n[_0x37ca("0xa4")]){var s=n[_0x37ca("0xa4")][_0x37ca("0xc8")];if(s==esmap[_0x37ca("0xe8")].MODEL&&n.datas_[_0x37ca("0x331")]){var o=(0,l.getChildByFaceIndex)(this[_0x37ca("0xa9c")][0].faceIndex,n[_0x37ca("0xa4")][_0x37ca("0x331")]);r=n[_0x37ca("0xa4")][_0x37ca("0x331")][o]}else s==esmap.ESNodeType[_0x37ca("0xa90")]?r=n[_0x37ca("0xa4")]:s!=esmap[_0x37ca("0xe8")].IMAGE_MARKER&&s!=esmap[_0x37ca("0xe8")][_0x37ca("0xa9e")]||(r=n.datas_)}}else r=(n=(0,l.findGroup)(n)).datas_;if(this[_0x37ca("0x39")].fire(_0x37ca("0xb64"),n),!r)return;this.hoverObject==n&&this.hoverUserObject==r||(this[_0x37ca("0x39")][_0x37ca("0x1da")]("onOver",r),this[_0x37ca("0xb65")]=n,this[_0x37ca("0xb4c")]=r)}else this.hoverObject&&(this[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xb66")),this[_0x37ca("0xb65")]=null,this[_0x37ca("0xb4c")]=null)}},{key:_0x37ca("0xb53"),value:function(x){var a=this;if(this.isStaping=!0,this.mousemoved_=!1,this[_0x37ca("0xb48")]=0,f=!1,this[_0x37ca("0xa98")]=this[_0x37ca("0xb67")](x),this[_0x37ca("0x119")](),x[_0x37ca("0x36f")](),this[_0x37ca("0xb68")]&&2!=x[_0x37ca("0x723")])return this[_0x37ca("0xb50")].startPoint[_0x37ca("0x11d")](this[_0x37ca("0xa98")].x,this.mousePos.y,.5),this.BoxPicker[_0x37ca("0xb69")]=x.offsetX,void(this[_0x37ca("0xb50")][_0x37ca("0xb6a")]=x[_0x37ca("0x6f7")]);var c=setTimeout((function(){if(1==a.isStaping){if(a[_0x37ca("0xb6b")]&&a.tapcount>1)return void window.clearTimeout(c);a[_0x37ca("0x119")](!1),a[_0x37ca("0x1da")](_0x37ca("0xa9b"),{intersects:a[_0x37ca("0xa9c")],mouse:a[_0x37ca("0xa98")][_0x37ca("0xde")]()})}}),800)}},{key:_0x37ca("0x8e7"),value:function(x){var a=x[_0x37ca("0xa4")]&&x[_0x37ca("0xa4")][_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")].FLOOR;if(!this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]&&x.material&&!a)if(Array[_0x37ca("0x474")](x[_0x37ca("0xa9")])){var c=!1;if(x[_0x37ca("0xa9")].forEach((function(x){x[_0x37ca("0xed")]&&(c=!0)})),!c)return!1}else if(!x[_0x37ca("0xa9")][_0x37ca("0xed")])return!1;if(!x[_0x37ca("0xed")])return!1;var _=!0;return x[_0x37ca("0xb6c")]((function(x){x[_0x37ca("0xed")]||(_=!1)})),_}},{key:_0x37ca("0xb6d"),value:function(){var x=!1,a=this[_0x37ca("0x39")];if(this[_0x37ca("0xa98")]&&this.map[_0x37ca("0x272")].enableCompassTap){if(this.compassRaycaster.setFromCamera(this[_0x37ca("0xa98")],a.mapView[_0x37ca("0x9df")]),!a[_0x37ca("0xa4a")].spriteBg_)return;if(this[_0x37ca("0xb44")][_0x37ca("0xadf")](a[_0x37ca("0xa4a")][_0x37ca("0xb23")]).length>0)if(a[_0x37ca("0x1da")]("compassClick"),x=!0,a[_0x37ca("0x36")][_0x37ca("0x23e")])a.rotateTo("2D"==a[_0x37ca("0x610")]?180:0);else{if("2D"==a[_0x37ca("0x610")])return;a[_0x37ca("0x26c")](0)}}return x}},{key:_0x37ca("0xb6e"),value:function(x){this[_0x37ca("0xb6b")]=!0,this.tapcount++,this[_0x37ca("0xa98")]=this[_0x37ca("0xb67")](x),this[_0x37ca("0xb56")](),this[_0x37ca("0x956")]&&this[_0x37ca("0x119")](!0)}},{key:_0x37ca("0xb54"),value:function(x){if(this[_0x37ca("0xb6f")]=!1,!(!this[_0x37ca("0xb68")]&&this[_0x37ca("0xb6b")]&&this[_0x37ca("0xb48")]>=5)){if(x[_0x37ca("0xb70")]||(this[_0x37ca("0xa98")]=this.getPick(x)),this.enableBoxPick&&2!=x[_0x37ca("0x723")]&&this.tapcount>5&&this.mousemoved_){var a=this[_0x37ca("0x39")];this[_0x37ca("0xb50")][_0x37ca("0x8d4")][_0x37ca("0x11d")](this[_0x37ca("0xa98")].x,this[_0x37ca("0xa98")].y,.5),this[_0x37ca("0xb50")][_0x37ca("0xb71")]=x.offsetX,this[_0x37ca("0xb50")].endClientY=x[_0x37ca("0x6f7")];var c=a[_0x37ca("0xadb")](this[_0x37ca("0xb50")][_0x37ca("0xb69")],this.BoxPicker.startClientY,0),_=a[_0x37ca("0xadb")](this[_0x37ca("0xb50")].endClientX,this[_0x37ca("0xb50")].endClientY,0),e=a[_0x37ca("0xadb")](this[_0x37ca("0xb50")][_0x37ca("0xb69")],this[_0x37ca("0xb50")][_0x37ca("0xb72")],0),t=a.coordScreenToMap(this[_0x37ca("0xb50")][_0x37ca("0xb71")],this[_0x37ca("0xb50")][_0x37ca("0xb6a")],0),i=1,n=0;a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building&&(i=a[_0x37ca("0x625")]()[_0x37ca("0x91b")],n=a.id);var r=[{x:c.x,y:c.y},{x:e.x,y:e.y},{x:_.x,y:_.y},{x:t.x,y:t.y},{x:c.x,y:c.y}],s=[];return r[_0x37ca("0x1f")]((function(x){s.push({x:x.x,y:x.y,fnum:i,bid:n,offset:0})})),this.BoxPicker.mapExtends=r,this.BoxPicker[_0x37ca("0x8d6")]||(this[_0x37ca("0xb50")].watchlist=this[_0x37ca("0x18d")]),this[_0x37ca("0x39")].mode==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]&&(this[_0x37ca("0xb50")][_0x37ca("0x8d7")]=this[_0x37ca("0x39")][_0x37ca("0x157")].centerTile[_0x37ca("0xb73")]+"_"+this.map[_0x37ca("0x157")].centerTile.indy),this[_0x37ca("0xb47")]=this[_0x37ca("0xb50")].select(),this.map[_0x37ca("0x1da")](_0x37ca("0xb74"),{objects:this[_0x37ca("0xb47")],points:s}),void this[_0x37ca("0x39")][_0x37ca("0xa09")]()}var o=!1;if(this[_0x37ca("0x39")].options[_0x37ca("0x20d")]&&2==x[_0x37ca("0x723")]&&(o=!0),(0==x[_0x37ca("0x723")]||x[_0x37ca("0xb70")]||o)&&!f){if(this[_0x37ca("0xb6d")]())return;if(0==this[_0x37ca("0xa9c")].length){var l=this.raycaster[_0x37ca("0xa96")]([this[_0x37ca("0x39")][_0x37ca("0x3c4")]],!0);1==l.length&&(this[_0x37ca("0x1da")]("pickerNone_",{mouse:this[_0x37ca("0xa98")],hitCoord:l[0][_0x37ca("0x3ca")],button:x[_0x37ca("0x723")]}),this[_0x37ca("0xb49")]&&(console[_0x37ca("0x23b")](l),this[_0x37ca("0x1da")](_0x37ca("0xb49"),l)))}else this[_0x37ca("0xb49")]?(console[_0x37ca("0x23b")](this[_0x37ca("0xa9c")]),this[_0x37ca("0x1da")](_0x37ca("0xb49"),this[_0x37ca("0xa9c")])):this[_0x37ca("0x1da")](_0x37ca("0xb19"),{objects:this[_0x37ca("0xa9c")],mouse:this[_0x37ca("0xa98")],button:x[_0x37ca("0x723")]})}x[_0x37ca("0x36f")]()}}},{key:_0x37ca("0xb67"),value:function(x){var a=this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x1ed")][_0x37ca("0x396")](),c=new(THREE[_0x37ca("0x563")]);return c.x=((x[_0x37ca("0xb70")]?x[_0x37ca("0xb70")][0][_0x37ca("0x8f5")]:x[_0x37ca("0x8f5")])-a[_0x37ca("0x172")])/a.width*2-1,c.y=-((x[_0x37ca("0xb70")]?x[_0x37ca("0xb70")][0][_0x37ca("0x39a")]:x.clientY)-a.top)/a.height*2+1,c}},{key:_0x37ca("0xb68"),set:function(x){this.ebp_=x,x?(this[_0x37ca("0x39")][_0x37ca("0x272")].enableMapPan=!1,this.BoxPicker[_0x37ca("0x57b")]=!0):(this[_0x37ca("0x39")][_0x37ca("0x272")][_0x37ca("0x273")]=!0,this[_0x37ca("0xb50")][_0x37ca("0x57b")]=!1)},get:function(){return this[_0x37ca("0xb75")]}}]),a}((0,s[_0x37ca("0xe")])(o[_0x37ca("0xe")]));a[_0x37ca("0xe")]=h},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _={};if(!c(131)[_0x37ca("0x37c")]){var e=navigator[_0x37ca("0x60b")][_0x37ca("0x1d1")](),t=document.documentElement,i=_0x37ca("0xb76")in window,n=-1!==e.indexOf("webkit"),r=-1!==e[_0x37ca("0xda")](_0x37ca("0xb77")),s=-1!==e[_0x37ca("0x5e5")](_0x37ca("0xb78")),o=-1!==e[_0x37ca("0xda")](_0x37ca("0xb79")),l=-1!==e[_0x37ca("0xda")](_0x37ca("0x38f"))&&!n&&!window.opera&&!i,u=typeof orientation!==_0x37ca("0x8")||-1!==e[_0x37ca("0xda")](_0x37ca("0xb7a")),d=!window[_0x37ca("0xb7b")]&&window[_0x37ca("0xb7c")],f=window[_0x37ca("0xb7b")]&&navigator[_0x37ca("0xb7d")]||d,h=i&&_0x37ca("0x384")in t[_0x37ca("0x24")],g=_0x37ca("0xb7e")in window&&_0x37ca("0xb7f")in new window.WebKitCSSMatrix&&!s,b=_0x37ca("0xb80")in t[_0x37ca("0x24")],v=_0x37ca("0x386")in t[_0x37ca("0x24")],p=(h||g||b)&&!v&&!r,A=0;o&&(A=e[_0x37ca("0xcf")](/chrome\/([\d.]+)/)[1]);var m=!r&&(f||_0x37ca("0xb81")in window||window[_0x37ca("0xb82")]&&document instanceof window[_0x37ca("0xb82")]),C=void 0;try{var I=document[_0x37ca("0x22")]("canvas"),y=I[_0x37ca("0x903")]("webgl")||I[_0x37ca("0x903")](_0x37ca("0xb83"));C=y&&y instanceof WebGLRenderingContext}catch(x){C=!1}_={ie:i,ielt9:i&&!document[_0x37ca("0x33")],edge:_0x37ca("0xb84")in navigator&&!(_0x37ca("0xb85")in document),webkit:n,gecko:l,android:-1!==e.indexOf(_0x37ca("0xb86")),android23:s,chrome:o,chromeVersion:A,safari:!o&&-1!==e.indexOf(_0x37ca("0xb87")),phantomjs:r,ie3d:h,webkit3d:g,gecko3d:b,opera12:v,any3d:p,mobile:u,mobileWebkit:u&&n,mobileWebkit3d:u&&g,mobileOpera:u&&window[_0x37ca("0xb88")],mobileGecko:u&&l,touch:!!m,msPointer:!!d,pointer:!!f,retina:(window[_0x37ca("0xb89")]||window[_0x37ca("0x20")][_0x37ca("0x21")]/window.screen[_0x37ca("0xb8a")])>1,language:navigator[_0x37ca("0xb8b")]?navigator.browserLanguage:navigator[_0x37ca("0xb8c")],ie9:i&&9===document[_0x37ca("0xb85")],ie10:i&&10===document[_0x37ca("0xb85")],webgl:C}}a[_0x37ca("0xe")]=_},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a.trim=t,a[_0x37ca("0xb8d")]=function(x){if(!(0,_[_0x37ca("0x1ce")])(x))return x;return x[_0x37ca("0x102")](i,"")},a[_0x37ca("0xb8e")]=function(x){return t(x)[_0x37ca("0x2b")](/\s+/)},a.stringWidth=r,a[_0x37ca("0xb8f")]=o,a[_0x37ca("0xb90")]=l,a[_0x37ca("0xb91")]=u,a[_0x37ca("0xb92")]=function(x,a){if(!(0,_[_0x37ca("0x1ce")])(x))return x;return x[_0x37ca("0x102")](d,(function(x,c){if(!a)return"";var e=a[c];return(0,_[_0x37ca("0x1d8")])(e)?"":Array[_0x37ca("0x474")](e)?e[_0x37ca("0x31")]():e}))},a[_0x37ca("0xb93")]=function(x,a,c){var _=x.width,e=x[_0x37ca("0x1a8")],t=void 0,i=void 0;t="left"===a?-_:"right"===a?0:-_/2;i="top"===c?-e:c===_0x37ca("0x175")?0:-e/2;return new Point(t,i)},a[_0x37ca("0xb94")]=f,a.splitTextToRow=function(x,a){var c=f(a),e=a.textLineSpacing||0,t=o(x,c),i=t[_0x37ca("0x398")],n=t[_0x37ca("0x1a8")],s=a[_0x37ca("0xba0")],l=[],d=a[_0x37ca("0xba1")];(!d||d>i)&&(d=i);(0,_[_0x37ca("0x1ce")])(x)||(x+="");var h=0;if(s&&x.indexOf(s)>=0)for(var g=x[_0x37ca("0x2b")](s),b=0,v=g[_0x37ca("0x4")];b<v;b++){var p=g[b],A=r(p,c);if(A>d)for(var m=u(p,c,d,A),C=0,I=m[_0x37ca("0x4")];C<I;C++){var y=m[C][_0x37ca("0x398")];y>h&&(h=y),l.push({text:m[C].text,size:new Size(y,n)})}else A>h&&(h=A),l[_0x37ca("0x0")]({text:p,size:new Size(A,n)})}else if(i>d)for(var E=u(x,c,d,i),w=0;w<E[_0x37ca("0x4")];w++){var T=E[w][_0x37ca("0x398")];T>h&&(h=T),l[_0x37ca("0x0")]({text:E[w].text,size:new Size(T,n)})}else i>h&&(h=i),l[_0x37ca("0x0")]({text:x,size:t});var k=l[_0x37ca("0x4")],S=new Size(h,n*k+e*(k-1));return{total:k,size:S,rows:l,rawSize:t}};var _=c(11),e=c(130);function t(x){return x[_0x37ca("0xb95")]?x[_0x37ca("0xb95")]():x[_0x37ca("0x102")](/^\s+|\s+$/g,"")}var i=/[\b\t\r\v\f]/gim;var n=typeof document!==_0x37ca("0x8")?document.createElement(_0x37ca("0x6f9"))[_0x37ca("0x903")]("2d"):null;function r(x,a){return r.node?r[_0x37ca("0x636")](x,a):(n[_0x37ca("0xb96")]=a,n[_0x37ca("0xb97")](x)[_0x37ca("0x398")])}var s={};function o(x,a){if(o.node)return o[_0x37ca("0x636")](x,a);var c=r(x,a);return a||(a="_default_"),s[a]||(s[a]=l(a)),new Size(c,s[a])}function l(x){var a=(0,e[_0x37ca("0xb98")])();x!==_0x37ca("0xb99")&&(a[_0x37ca("0x24")].font=x),a.innerHTML="秦";var c=a[_0x37ca("0x3a6")];return(0,e.removeDomNode)(a),c}function u(x,a,c,e){if(!x||0===x[_0x37ca("0x4")])return[{text:"",width:0}];var t=(0,_.isNil)(e)?r(x,a):e,i=t/x[_0x37ca("0x4")],n=Math.floor(c/i/2);if(i>=c||n<=0)return[{text:"",width:c}];if(t<=c)return[{text:x,width:t}];for(var s=[],o=x.substring(0,n),l=i*n,u=n,d=x[_0x37ca("0x4")];u<d;u++){var f=x[u],h=r(o+f);h>=c?(s[_0x37ca("0x0")]({text:o,width:l}),o=x.substring(u,n+u),u+=n-1,l=i*n):(o+=f,l=h),u>=d-1&&(l=r(o),s[_0x37ca("0x0")]({text:o,width:l}))}return s}var d=/\{([\w_]+)\}/g;function f(x){return x[_0x37ca("0xb9a")]?x.textFont:(x[_0x37ca("0xb9b")]&&x[_0x37ca("0xb9b")]!==_0x37ca("0xf8")?x[_0x37ca("0xb9b")]+" ":"")+(x[_0x37ca("0xb9c")]&&x.textWeight!==_0x37ca("0xf8")?x[_0x37ca("0xb9c")]+" ":"")+x[_0x37ca("0xb9d")]+_0x37ca("0xb9e")+('"'===x.textFaceName[0]?x[_0x37ca("0xb9f")]:'"'+x[_0x37ca("0xb9f")]+'"')}},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(95));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x276")]=a}return(0,e[_0x37ca("0xe")])(x,[{key:"enable",value:function(){return this[_0x37ca("0xba2")]||(this._enabled=!0,this[_0x37ca("0xba3")]()),this}},{key:_0x37ca("0x3b0"),value:function(){return this[_0x37ca("0xba2")]?(this[_0x37ca("0xba2")]=!1,this[_0x37ca("0xba4")](),this):this}},{key:"enabled",value:function(){return!!this[_0x37ca("0xba2")]}},{key:_0x37ca("0x147"),value:function(){this[_0x37ca("0x3b0")](),delete this[_0x37ca("0x276")],delete this.dom}}]),x}();a[_0x37ca("0xe")]=(0,t[_0x37ca("0xe")])(n)},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a,c,e){(0,_[_0x37ca("0xe")])(this,x),this.options_=e,this[_0x37ca("0xb23")]=null,this[_0x37ca("0xb24")]=null,this[_0x37ca("0xba5")]=null,this[_0x37ca("0xba6")]=null,this[_0x37ca("0x410")]=a,this[_0x37ca("0x40a")]=c,this.w_=Math.min(e[_0x37ca("0xb25")],128),this.h_=Math.min(e[_0x37ca("0xb25")],128)}return(0,e.default)(x,[{key:"updateHUD",value:function(x,a,c){if(null!=this[_0x37ca("0xb23")]&&null!=this[_0x37ca("0xb24")]){var _=x/2,e=a/2,t=c||this[_0x37ca("0x409")][_0x37ca("0xba7")],i=esmap.ESMap.instance,n=1;i.options[_0x37ca("0x1f1")]&&(n=i[_0x37ca("0x36")].compassPosition),1==n?(this.spriteBg_[_0x37ca("0xb8")][_0x37ca("0x11d")](-_+this.w_/2+t[0],e-this.h_/2-t[1],.5),this[_0x37ca("0xb24")][_0x37ca("0xb8")][_0x37ca("0x11d")](-_+this.w_/2+t[0],e-this.h_/2-t[1],1)):3==n?(this.spriteBg_[_0x37ca("0xb8")][_0x37ca("0x11d")](_-this.w_/2-t[0],e-this.h_/2-t[1],.5),this.spritePt_.position.set(_-this.w_/2-t[0],e-this.h_/2-t[1],1)):2==n?(this[_0x37ca("0xb23")].position.set(-_+this.w_/2+t[0],this.h_/2-e+t[1],.5),this.spritePt_[_0x37ca("0xb8")][_0x37ca("0x11d")](-_+this.w_/2+t[0],this.h_/2-e+t[1],1)):4==n&&(this[_0x37ca("0xb23")][_0x37ca("0xb8")][_0x37ca("0x11d")](_-this.w_/2-t[0],this.h_/2-e+t[1],.5),this[_0x37ca("0xb24")][_0x37ca("0xb8")][_0x37ca("0x11d")](_-this.w_/2-t[0],this.h_/2-e+t[1],1))}}},{key:_0x37ca("0xb20"),value:function(x){null!=this[_0x37ca("0xba6")]&&(this[_0x37ca("0xba5")][_0x37ca("0x1a3")]=Math.PI+x)}},{key:_0x37ca("0xba8"),value:function(x){var a=document[_0x37ca("0x22")](_0x37ca("0x413"));a[_0x37ca("0x414")]=x;var c=new(THREE[_0x37ca("0x416")])(a);this[_0x37ca("0xba5")][_0x37ca("0x39")]=c,a[_0x37ca("0xba9")]=function(){c[_0x37ca("0x13a")]=!0}}},{key:_0x37ca("0xbaa"),value:function(x){var a=document[_0x37ca("0x22")](_0x37ca("0x413"));a[_0x37ca("0x414")]=x;var c=new(THREE[_0x37ca("0x416")])(a);this[_0x37ca("0xba6")][_0x37ca("0x39")]=c,a[_0x37ca("0xba9")]=function(){c.needsUpdate=!0}}},{key:"init",value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];if(null==this.spriteBg_&&null==this.spritePt_){var a=document[_0x37ca("0x22")](_0x37ca("0x413"));x[_0x37ca("0x36")][_0x37ca("0xbab")]?a[_0x37ca("0x414")]=x[_0x37ca("0x36")][_0x37ca("0xbab")]:a[_0x37ca("0x414")]=_0x37ca("0xbac");var c=new(THREE[_0x37ca("0x416")])(a),_=document[_0x37ca("0x22")](_0x37ca("0x413"));x[_0x37ca("0x36")].compassPointerUrl?_[_0x37ca("0x414")]=x[_0x37ca("0x36")][_0x37ca("0x1f0")]:_[_0x37ca("0x414")]=_0x37ca("0xbad");var e=new THREE.Texture(_);this[_0x37ca("0xbae")]=this.w_,this.lh_=this.h_,c[_0x37ca("0x13a")]=!0,e[_0x37ca("0x13a")]=!0,this[_0x37ca("0xba6")]=new(THREE[_0x37ca("0x28e")])({map:c}),this[_0x37ca("0xb23")]=new THREE.Sprite(this[_0x37ca("0xba6")]),this[_0x37ca("0xb23")][_0x37ca("0x22e")].set(this.w_,this.h_,1),this[_0x37ca("0xba5")]=new(THREE[_0x37ca("0x28e")])({map:e}),this.spritePt_=new(THREE[_0x37ca("0x291")])(this.materialPt_),this[_0x37ca("0xb24")][_0x37ca("0x22e")].set(this[_0x37ca("0xbae")],this.lh_,1),this[_0x37ca("0xba6")][_0x37ca("0x39")].minFilter=THREE[_0x37ca("0x420")],this[_0x37ca("0xba5")].map[_0x37ca("0x41f")]=THREE[_0x37ca("0x420")],this[_0x37ca("0x40a")].add(this[_0x37ca("0xb23")]),this[_0x37ca("0x40a")].add(this[_0x37ca("0xb24")]);var t=this[_0x37ca("0x409")].container,i=t[_0x37ca("0x3a5")],n=t[_0x37ca("0x3a6")];this[_0x37ca("0x40c")](i,n)}}},{key:"visible",set:function(x){x!=this[_0x37ca("0x410")]&&(this[_0x37ca("0x410")]=x,x?(this[_0x37ca("0xea")](),this[_0x37ca("0xb23")][_0x37ca("0xed")]=this[_0x37ca("0xb24")].visible=!0):null!=this[_0x37ca("0xb23")]&&null!=this.spritePt_&&(this[_0x37ca("0xb23")].visible=this.spritePt_[_0x37ca("0xed")]=!1))},get:function(){return this.visible_}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x37ca("0xbaf"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,showBuildingMode:esmap[_0x37ca("0xbb0")][_0x37ca("0xbb1")],showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},buildingCache:!1,zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:"255,255,255",disableIndoorClick:!1,disableOutdoorClick:!1,buildingScale:1,pickableBuildings:[],tileMode:!0,roadStyle:{url:_0x37ca("0xbb2"),lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap.ESLineType[_0x37ca("0xbb3")]},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoOpenLevel:20,buildingFoucsMode:2};a[_0x37ca("0x215")]=_},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});a.DefaultBuildingOptions={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offset:[0,0,0],visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:!1,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,focusMode:2}},function(x,a,c){"use strict";var _=t(c(55)),e=t(c(18));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}THREE[_0x37ca("0xb10")]=function(x,a){var c,_,e,t,i;this[_0x37ca("0xc")]=x,this[_0x37ca("0x31a")]=void 0!==a?a:document,this[_0x37ca("0x57b")]=!0,this[_0x37ca("0x276")]=new(THREE[_0x37ca("0xe2")]),this[_0x37ca("0x2eb")]=0,this[_0x37ca("0x2cd")]=1/0,this.minZoom=0,this[_0x37ca("0xbb4")]=1/0,this[_0x37ca("0x93d")]=0,this[_0x37ca("0x996")]=Math.PI,this[_0x37ca("0xbb5")]=-1/0,this[_0x37ca("0xbb6")]=1/0,this[_0x37ca("0xbb7")]=!1,this.dampingFactor=.25,this[_0x37ca("0xbb8")]=!0,this[_0x37ca("0xbb9")]=1,this.enableRotate=!0,this[_0x37ca("0xbba")]=1,this.enableIncline=!0,this[_0x37ca("0xbbb")]=!0,this[_0x37ca("0xbbc")]=1,this.screenSpacePanning=!1,this[_0x37ca("0xbbd")]=7,this[_0x37ca("0xbbe")]=!1,this.autoRotateSpeed=2,this[_0x37ca("0xbbf")]=!0,this[_0x37ca("0x5e1")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x37ca("0xbc0")]={LEFT:THREE[_0x37ca("0xbc1")][_0x37ca("0xbc2")],MIDDLE:THREE[_0x37ca("0xbc1")][_0x37ca("0xbc3")],RIGHT:THREE[_0x37ca("0xbc1")].RIGHT},this[_0x37ca("0xbc4")]=this[_0x37ca("0x276")][_0x37ca("0xde")](),this[_0x37ca("0xbc5")]=this[_0x37ca("0xc")][_0x37ca("0xb8")][_0x37ca("0xde")](),this.zoom0=this[_0x37ca("0xc")][_0x37ca("0x612")],this[_0x37ca("0x2e7")]=function(){return h.phi},this[_0x37ca("0xaef")]=function(){return h[_0x37ca("0x737")]},this[_0x37ca("0x5ff")]=function(){return this[_0x37ca("0xc")][_0x37ca("0xb8")][_0x37ca("0xde")]()[_0x37ca("0x2d7")](this.target).length()},this[_0x37ca("0xbc6")]=function(){return this[_0x37ca("0xc")]instanceof THREE[_0x37ca("0x886")]?this[_0x37ca("0x5ff")]()/this.initDistance_:this.object[_0x37ca("0x173")]/this[_0x37ca("0xc")][_0x37ca("0x612")]/this.initTop_},this[_0x37ca("0x277")]=function(x,a){var c=this.object,_=c[_0x37ca("0xb8")][_0x37ca("0xde")]()[_0x37ca("0x2d7")](this[_0x37ca("0x276")])[_0x37ca("0x2d8")]();_[_0x37ca("0x26b")](this[_0x37ca("0xa04")]*x);var e=this[_0x37ca("0x276")][_0x37ca("0xde")]()[_0x37ca("0xe0")](_);c[_0x37ca("0xb8")][_0x37ca("0x268")](e)},this.getCurrentScaleLevel=function(){for(var x=this[_0x37ca("0xbc6")](),a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=0;c<a[_0x37ca("0x99a")][_0x37ca("0x4")];c++)if(Math.abs(a[_0x37ca("0x99a")][c]-x)>.001&&x<a[_0x37ca("0x99a")][c])return c-1<0?0:c-1;return c-1<0?0:c-1},this.saveState=function(){n[_0x37ca("0xbc4")][_0x37ca("0x268")](n.target),n[_0x37ca("0xbc5")].copy(n[_0x37ca("0xc")][_0x37ca("0xb8")]),n[_0x37ca("0xbc7")]=n.object[_0x37ca("0x612")]},this[_0x37ca("0xbc8")]=function(){d=u.NONE,this.dispatchEvent(o)},this[_0x37ca("0x2ae")]=function(){n.target.copy(n[_0x37ca("0xbc4")]),n[_0x37ca("0xc")].position[_0x37ca("0x268")](n[_0x37ca("0xbc5")]),n.object[_0x37ca("0x612")]=n[_0x37ca("0xbc7")],n[_0x37ca("0xc")][_0x37ca("0x8dc")](),n.dispatchEvent(r),n[_0x37ca("0x119")](),d=u[_0x37ca("0xa9a")]},this[_0x37ca("0x119")]=(c=new THREE.Vector3,_=(new THREE.Quaternion)[_0x37ca("0xbc9")](x.up,new(THREE[_0x37ca("0xe2")])(0,1,0)),e=_.clone().inverse(),t=new(THREE[_0x37ca("0xe2")]),i=new(THREE[_0x37ca("0x22f")]),function(x){var a=n.object[_0x37ca("0xb8")];return c[_0x37ca("0x268")](a)[_0x37ca("0x2d7")](n.target),c.applyQuaternion(_),h[_0x37ca("0xbca")](c),n[_0x37ca("0xbbe")]&&d===u[_0x37ca("0xa9a")]&&D(2*Math.PI/60/60*n[_0x37ca("0xbcf")]),h[_0x37ca("0x737")]+=g[_0x37ca("0x737")],h[_0x37ca("0x710")]+=g[_0x37ca("0x710")],x&&(x[_0x37ca("0x1")]("forceTheta")&&(h[_0x37ca("0x737")]=x.forceTheta,g.theta=0),x[_0x37ca("0x1")](_0x37ca("0xbcb"))&&(h.phi=x.forcePhi,g[_0x37ca("0x710")]=0)),h[_0x37ca("0x737")]=Math[_0x37ca("0x30d")](n.minAzimuthAngle,Math[_0x37ca("0x30e")](n[_0x37ca("0xbb6")],h[_0x37ca("0x737")])),h[_0x37ca("0x710")]=Math[_0x37ca("0x30d")](n[_0x37ca("0x93d")],Math[_0x37ca("0x30e")](n[_0x37ca("0x996")],h[_0x37ca("0x710")])),h[_0x37ca("0xbcc")](),1!=b&&n[_0x37ca("0x42")](l),h[_0x37ca("0x630")]*=b,h[_0x37ca("0x630")]=Math[_0x37ca("0x30d")](n[_0x37ca("0x2eb")],Math[_0x37ca("0x30e")](n[_0x37ca("0x2cd")],h.radius)),n[_0x37ca("0x276")][_0x37ca("0xe0")](v),c.setFromSpherical(h),c.applyQuaternion(e),a[_0x37ca("0x268")](n[_0x37ca("0x276")])[_0x37ca("0xe0")](c),n[_0x37ca("0xc")].lookAt(n[_0x37ca("0x276")]),!0===n[_0x37ca("0xbb7")]?(g[_0x37ca("0x737")]*=1-n.dampingFactor,g[_0x37ca("0x710")]*=1-n[_0x37ca("0xbcd")],v.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),v[_0x37ca("0x11d")](0,0,0)),b=1,!!(p||t[_0x37ca("0xbce")](n.object[_0x37ca("0xb8")])>f||8*(1-i.dot(n.object.quaternion))>f)&&(n[_0x37ca("0x42")](r),t[_0x37ca("0x268")](n.object[_0x37ca("0xb8")]),i.copy(n[_0x37ca("0xc")][_0x37ca("0x232")]),p=!1,!0)}),this[_0x37ca("0xa8")]=function(){n[_0x37ca("0x31a")][_0x37ca("0x2b3")](_0x37ca("0x739"),ex,!1),n[_0x37ca("0x31a")].removeEventListener("mousedown",J,!1),n[_0x37ca("0x31a")].removeEventListener(_0x37ca("0xb11"),$,!1),n[_0x37ca("0x31a")][_0x37ca("0x2b3")](_0x37ca("0xb55"),ax,!1),n[_0x37ca("0x31a")].removeEventListener("touchend",_x,!1),n[_0x37ca("0x31a")][_0x37ca("0x2b3")]("touchmove",cx,!1),document.removeEventListener(_0x37ca("0x73e"),K,!1),document.removeEventListener("mouseup",q,!1),window[_0x37ca("0x2b3")]("keydown",xx,!1)};var n=this,r={type:_0x37ca("0x942")},s={type:"start"},o={type:_0x37ca("0x2dc")},l={type:_0x37ca("0x12d")},u={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},d=u[_0x37ca("0xa9a")],f=1e-6,h=new THREE.Spherical,g=new THREE.Spherical,b=1,v=new(THREE[_0x37ca("0xe2")]),p=!1,A=new THREE.Vector2,m=new THREE.Vector2,C=new(THREE[_0x37ca("0x563")]),I=new(THREE[_0x37ca("0x563")]),y=new THREE.Vector2,E=new(THREE[_0x37ca("0x563")]),w=new(THREE[_0x37ca("0x563")]),T=new(THREE[_0x37ca("0x563")]),k=new THREE.Vector2,S=new(THREE[_0x37ca("0x563")]),M=new(THREE[_0x37ca("0x563")]),R=new THREE.Vector2,L=new THREE.Vector2,H=new(THREE[_0x37ca("0x563")]);function P(){return Math[_0x37ca("0xb0")](.95,n[_0x37ca("0xbb9")])}function D(x){g[_0x37ca("0x737")]-=x}function O(x){g[_0x37ca("0x710")]-=x}var B,N,F,z=(B=new(THREE[_0x37ca("0xe2")]),function(x,a){B[_0x37ca("0xbd0")](a,0),B[_0x37ca("0x26b")](-x),v[_0x37ca("0xe0")](B)}),j=(N=new(THREE[_0x37ca("0xe2")]),function(x,a){!0===n[_0x37ca("0xbd1")]?N[_0x37ca("0xbd0")](a,1):(N[_0x37ca("0xbd0")](a,0),N[_0x37ca("0x8ae")](n[_0x37ca("0xc")].up,N)),N[_0x37ca("0x26b")](x),v[_0x37ca("0xe0")](N)}),X=(F=new(THREE[_0x37ca("0xe2")]),function(x,a){var c=n[_0x37ca("0x31a")]===document?n[_0x37ca("0x31a")][_0x37ca("0x26")]:n.domElement;if(n.object[_0x37ca("0x6e9")]){var _=n[_0x37ca("0xc")][_0x37ca("0xb8")];F[_0x37ca("0x268")](_).sub(n[_0x37ca("0x276")]);var e=F[_0x37ca("0x4")]();e*=Math[_0x37ca("0x311")](n.object.fov/2*Math.PI/180),z(2*x*e/c[_0x37ca("0x3a6")],n.object[_0x37ca("0x245")]),j(2*a*e/c[_0x37ca("0x3a6")],n[_0x37ca("0xc")][_0x37ca("0x245")])}else n.object[_0x37ca("0x6ed")]?(z(x*(n.object.right-n[_0x37ca("0xc")][_0x37ca("0x172")])/n[_0x37ca("0xc")].zoom/c[_0x37ca("0x3a5")],n[_0x37ca("0xc")][_0x37ca("0x245")]),j(a*(n.object.top-n.object[_0x37ca("0x175")])/n.object[_0x37ca("0x612")]/c[_0x37ca("0x3a6")],n.object[_0x37ca("0x245")])):(console[_0x37ca("0x3eb")]("WARNING: MapControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)});function Y(x){n[_0x37ca("0xc")][_0x37ca("0x6e9")]?b/=x:n[_0x37ca("0xc")][_0x37ca("0x6ed")]?(n[_0x37ca("0xc")][_0x37ca("0x612")]=Math.max(n[_0x37ca("0xbd2")],Math.min(n[_0x37ca("0xbb4")],n.object[_0x37ca("0x612")]*x)),n[_0x37ca("0xc")][_0x37ca("0x8dc")](),p=!0):(console[_0x37ca("0x3eb")](_0x37ca("0xbd3")),n[_0x37ca("0xbb8")]=!1)}function U(x){n[_0x37ca("0xc")][_0x37ca("0x6e9")]?b*=x:n[_0x37ca("0xc")][_0x37ca("0x6ed")]?(n[_0x37ca("0xc")][_0x37ca("0x612")]=Math[_0x37ca("0x30d")](n[_0x37ca("0xbd2")],Math[_0x37ca("0x30e")](n[_0x37ca("0xbb4")],n[_0x37ca("0xc")][_0x37ca("0x612")]/x)),n[_0x37ca("0xc")][_0x37ca("0x8dc")](),p=!0):(console[_0x37ca("0x3eb")]("WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled."),n[_0x37ca("0xbb8")]=!1)}function G(x){if(!1!==n.enableRotate&&0!=(d&u.ROTATE)){if(C[_0x37ca("0x11d")](x[_0x37ca("0xb70")][0].pageX,x[_0x37ca("0xb70")][0][_0x37ca("0x728")]),I[_0x37ca("0x11d")](x[_0x37ca("0xb70")][1][_0x37ca("0x727")],x[_0x37ca("0xb70")][1][_0x37ca("0x728")]),y[_0x37ca("0x8b2")](C,A),E[_0x37ca("0x8b2")](I,m),w.subVectors(m,A),T[_0x37ca("0x8b2")](I,C),function(){W(w);W(T);if(!Z(y))return!1;if(!Z(E))return!1;return y[_0x37ca("0x8b3")](E)>0}()){var a=n[_0x37ca("0x31a")]===document?n[_0x37ca("0x31a")][_0x37ca("0x26")]:n[_0x37ca("0x31a")];O(2*Math.PI*y.y/a.clientHeight),d=u[_0x37ca("0xbd7")]}else 0!=(d&u[_0x37ca("0xbd8")])&&D((w[_0x37ca("0x252")]()-T[_0x37ca("0x252")]())*n[_0x37ca("0xbba")]);A.copy(C),m[_0x37ca("0x268")](I)}}var Q,V,W=(Q=Math[_0x37ca("0x613")](Math.PI/6),function(x){return Math[_0x37ca("0x24e")](Math[_0x37ca("0x613")](x.angle()))<Q}),Z=(V=Math[_0x37ca("0x648")](Math.PI/2-Math.PI/6),function(x){return Math[_0x37ca("0x24e")](Math[_0x37ca("0x648")](x[_0x37ca("0x252")]()))<V});function J(x){if(!1!==n[_0x37ca("0x57b")]){switch(x.preventDefault(),x[_0x37ca("0x723")]){case n[_0x37ca("0xbc0")][_0x37ca("0xbc2")]:if(!1===n[_0x37ca("0xbbb")])return;_=x,k[_0x37ca("0x11d")](_[_0x37ca("0x8f5")],_[_0x37ca("0x39a")]),d=u[_0x37ca("0xbda")];break;case n[_0x37ca("0xbc0")].MIDDLE:if(!1===n[_0x37ca("0xbb8")])return;c=x,R[_0x37ca("0x11d")](c[_0x37ca("0x8f5")],c.clientY),d=u[_0x37ca("0xbd9")];break;case n[_0x37ca("0xbc0")][_0x37ca("0xbdb")]:a=x,A.set(a[_0x37ca("0x8f5")],a[_0x37ca("0x39a")]),d=u.ROTATE}var a,c,_;d!==u.NONE&&(document[_0x37ca("0x33")](_0x37ca("0x73e"),K,!1),document.addEventListener(_0x37ca("0x73b"),q,!1),n[_0x37ca("0x42")](s))}}function K(x){var a,c;if(!1!==n.enabled)switch(x[_0x37ca("0x36f")](),d){case u[_0x37ca("0xbdc")]:!function(x){C[_0x37ca("0x11d")](x[_0x37ca("0x8f5")],x[_0x37ca("0x39a")]),y.subVectors(C,A)[_0x37ca("0x26b")](n[_0x37ca("0xbba")]);var a=n[_0x37ca("0x31a")]===document?n.domElement[_0x37ca("0x26")]:n[_0x37ca("0x31a")];n[_0x37ca("0xbd4")]&&D(2*Math.PI*y.x/a[_0x37ca("0x3a6")]),n.enableIncline&&O(2*Math.PI*y.y/a[_0x37ca("0x3a6")]),A[_0x37ca("0x268")](C),n.update()}(x);break;case u[_0x37ca("0xbd9")]:if(!1===n.enableZoom)return;c=x,L[_0x37ca("0x11d")](c[_0x37ca("0x8f5")],c[_0x37ca("0x39a")]),H[_0x37ca("0x8b2")](L,R),H.y>0?Y(P()):H.y<0&&U(P()),R[_0x37ca("0x268")](L),n[_0x37ca("0x119")]();break;case u[_0x37ca("0xbda")]:if(!1===n[_0x37ca("0xbbb")])return;a=x,S[_0x37ca("0x11d")](a.clientX,a.clientY),M[_0x37ca("0x8b2")](S,k).multiplyScalar(n[_0x37ca("0xbbc")]),X(M.x,M.y),k[_0x37ca("0x268")](S),n.update()}}function q(x){!1!==n[_0x37ca("0x57b")]&&(document.removeEventListener(_0x37ca("0x73e"),K,!1),document[_0x37ca("0x2b3")]("mouseup",q,!1),n.dispatchEvent(o),d=u.NONE)}function $(x){var a;!1===n[_0x37ca("0x57b")]||!1===n[_0x37ca("0xbb8")]||d!==u[_0x37ca("0xa9a")]&&d!==u[_0x37ca("0xbdc")]||(x.preventDefault(),x[_0x37ca("0x370")](),n.dispatchEvent(s),(a=x)[_0x37ca("0xbd5")]<0?U(P()):a.deltaY>0&&Y(P()),n.update(),n[_0x37ca("0x42")](o))}function xx(x){!1!==n.enabled&&!1!==n[_0x37ca("0xbbf")]&&!1!==n[_0x37ca("0xbbb")]&&function(x){switch(x[_0x37ca("0x278")]){case n[_0x37ca("0x5e1")].UP:X(0,n.keyPanSpeed),n[_0x37ca("0x119")]();break;case n[_0x37ca("0x5e1")][_0x37ca("0xbd6")]:X(0,-n[_0x37ca("0xbbd")]),n[_0x37ca("0x119")]();break;case n[_0x37ca("0x5e1")][_0x37ca("0xbc2")]:X(n.keyPanSpeed,0),n[_0x37ca("0x119")]();break;case n.keys.RIGHT:X(-n.keyPanSpeed,0),n[_0x37ca("0x119")]()}}(x)}function ax(x){if(!1!==n.enabled){switch(x[_0x37ca("0x36f")](),x[_0x37ca("0xb70")].length){case 1:if(!1===n[_0x37ca("0xbbb")])return;c=x,n[_0x37ca("0xbbb")]&&k[_0x37ca("0x11d")](c[_0x37ca("0xb70")][0].pageX,c[_0x37ca("0xb70")][0][_0x37ca("0x728")]),d=u[_0x37ca("0xbda")];break;case 2:if(!1===n[_0x37ca("0xbb8")]&&!1===n[_0x37ca("0xbd4")])return;a=x,A[_0x37ca("0x11d")](a[_0x37ca("0xb70")][0][_0x37ca("0x727")],a[_0x37ca("0xb70")][0][_0x37ca("0x728")]),m[_0x37ca("0x11d")](a[_0x37ca("0xb70")][1].pageX,a[_0x37ca("0xb70")][1].pageY),function(x){if(n[_0x37ca("0xbb8")]){var a=x[_0x37ca("0xb70")][0][_0x37ca("0x727")]-x[_0x37ca("0xb70")][1].pageX,c=x[_0x37ca("0xb70")][0].pageY-x[_0x37ca("0xb70")][1][_0x37ca("0x728")],_=Math[_0x37ca("0xc4")](a*a+c*c);R[_0x37ca("0x11d")](0,_)}}(x),d=u[_0x37ca("0xbdd")];break;default:d=u.NONE}var a,c;d!==u.NONE&&n[_0x37ca("0x42")](s)}}function cx(x){var a;if(!1!==n[_0x37ca("0x57b")])switch(x[_0x37ca("0x36f")](),x.stopPropagation(),x[_0x37ca("0xb70")][_0x37ca("0x4")]){case 1:if(!1===n[_0x37ca("0xbbb")])return;if(d!==u[_0x37ca("0xbda")])return;a=x,!1!==n[_0x37ca("0xbbb")]&&0!=(d&u[_0x37ca("0xbda")])&&(S[_0x37ca("0x11d")](a[_0x37ca("0xb70")][0][_0x37ca("0x727")],a[_0x37ca("0xb70")][0][_0x37ca("0x728")]),M[_0x37ca("0x8b2")](S,k)[_0x37ca("0x26b")](n[_0x37ca("0xbbc")]),X(M.x,M.y),k[_0x37ca("0x268")](S)),n.update();break;case 2:if(!1===n.enableZoom&&!1===n[_0x37ca("0xbd4")])return;if(0==(d&u[_0x37ca("0xbdd")]))return;G(x),function(x){if(!1!==n.enableZoom&&0!=(d&u[_0x37ca("0xbd9")])){var a=x[_0x37ca("0xb70")][0].pageX-x[_0x37ca("0xb70")][1].pageX,c=x[_0x37ca("0xb70")][0].pageY-x[_0x37ca("0xb70")][1].pageY,_=Math[_0x37ca("0xc4")](a*a+c*c);L[_0x37ca("0x11d")](0,_),H[_0x37ca("0x11d")](0,Math[_0x37ca("0xb0")](L.y/R.y,n[_0x37ca("0xbb9")])),Y(H.y),R[_0x37ca("0x268")](L)}}(x),n.update();break;default:d=u[_0x37ca("0xa9a")]}}function _x(x){!1!==n.enabled&&(n.dispatchEvent(o),d=u.NONE)}function ex(x){!1!==n[_0x37ca("0x57b")]&&x.preventDefault()}n[_0x37ca("0x31a")].addEventListener(_0x37ca("0x739"),ex,!1),n[_0x37ca("0x31a")].addEventListener("mousedown",J,!1),n[_0x37ca("0x31a")][_0x37ca("0x33")]("wheel",$,!1),n[_0x37ca("0x31a")].addEventListener(_0x37ca("0xb55"),ax,!1),n.domElement.addEventListener("touchend",_x,!1),n[_0x37ca("0x31a")][_0x37ca("0x33")]("touchmove",cx,!1),window[_0x37ca("0x33")](_0x37ca("0x27a"),xx,!1),this[_0x37ca("0x119")]()},THREE.MapControls[_0x37ca("0x11")]=(0,e[_0x37ca("0xe")])(THREE[_0x37ca("0xbde")][_0x37ca("0x11")]),THREE[_0x37ca("0xb10")][_0x37ca("0x11")].constructor=THREE[_0x37ca("0xb10")],(0,_[_0x37ca("0xe")])(THREE[_0x37ca("0xb10")][_0x37ca("0x11")],{unsetScaleLevel:{value:function(){this.minDistance=0,this.maxDistance=1/0}},initScaleLevel:{value:function(x,a){var c=this[_0x37ca("0xa04")]*x,_=this.initDistance_*a;this[_0x37ca("0x2eb")]=c,this[_0x37ca("0x2cd")]=_}},center:{get:function(){return console[_0x37ca("0x3eb")](_0x37ca("0xbdf")),this[_0x37ca("0x276")]}},noZoom:{get:function(){return console[_0x37ca("0x3eb")]("THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead."),!this[_0x37ca("0xbb8")]},set:function(x){console[_0x37ca("0x3eb")](_0x37ca("0xbe0")),this.enableZoom=!x}},noRotate:{get:function(){return console[_0x37ca("0x3eb")](_0x37ca("0xbe1")),!this[_0x37ca("0xbd4")]},set:function(x){console[_0x37ca("0x3eb")]("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),this[_0x37ca("0xbd4")]=!x}},noPan:{get:function(){return console[_0x37ca("0x3eb")](_0x37ca("0xbe2")),!this[_0x37ca("0xbbb")]},set:function(x){console[_0x37ca("0x3eb")]("THREE.MapControls: .noPan has been deprecated. Use .enablePan instead."),this[_0x37ca("0xbbb")]=!x}},noKeys:{get:function(){return console[_0x37ca("0x3eb")](_0x37ca("0xbe3")),!this[_0x37ca("0xbbf")]},set:function(x){_0x37ca("0xbe3"),this.enableKeys=!x}},staticMoving:{get:function(){return console[_0x37ca("0x3eb")](_0x37ca("0xbe4")),!this.enableDamping},set:function(x){console[_0x37ca("0x3eb")]("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),this[_0x37ca("0xbb7")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x37ca("0x3eb")]("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this[_0x37ca("0xbcd")]},set:function(x){_0x37ca("0xbe5"),this[_0x37ca("0xbcd")]=x}}})},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=u(c(97)),e=u(c(8)),t=u(c(10)),i=u(c(12)),n=u(c(13)),r=u(c(0)),s=u(c(1)),o=u(c(98)),l=u(c(135));function u(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function d(x){if(x){if(x[_0x37ca("0xa4")]&&x[_0x37ca("0xa4")][_0x37ca("0xa5")]&&(x[_0x37ca("0xa4")].o3d_=void 0,x[_0x37ca("0xa4")]=void 0),x[_0x37ca("0xa6")])for(var a=0;a<x[_0x37ca("0xa6")][_0x37ca("0x4")];a++)d(x[_0x37ca("0xa6")][a]);x[_0x37ca("0xa7")]&&x.geometry[_0x37ca("0xa8")](),x[_0x37ca("0xa9")]&&(x.material instanceof Array?x[_0x37ca("0xa9")][_0x37ca("0x1f")]((function(x){x&&x[_0x37ca("0xa8")]()})):x.material[_0x37ca("0xa8")]())}x=void 0}var f=function(){function x(a){(0,r[_0x37ca("0xe")])(this,x),this.scene=a[_0x37ca("0x39")].mapScene,this.loader=this.scene[_0x37ca("0xbe6")],this.loadingList=a.map[_0x37ca("0x163")][_0x37ca("0xbe7")],this[_0x37ca("0xbe8")]=0,this.autoLoad=1,this[_0x37ca("0xbe9")]=20,this[_0x37ca("0xbea")]=0,this[_0x37ca("0x9ac")]={},this[_0x37ca("0xbeb")]={},this[_0x37ca("0x9ab")]=[],this[_0x37ca("0xbec")]=[],this.toAddQueue=[],this[_0x37ca("0x27f")]=!1,this[_0x37ca("0x280")]=!1,this[_0x37ca("0xbed")]={},this.userModelLoadStatus={},this[_0x37ca("0xbee")]={},this[_0x37ca("0xbef")]=null,this.hiddenFactor=50,this[_0x37ca("0xbf0")]=1e4,this[_0x37ca("0x629")]=new(l[_0x37ca("0xe")]),this[_0x37ca("0x1ea")]=!a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]&&a.map[_0x37ca("0x36")][_0x37ca("0x207")],this.modelStatic={modelTypesCount:0,roomModelsCount:0},this.frustum=new(THREE[_0x37ca("0xbf1")]);var c=this;a[_0x37ca("0x39")].on(_0x37ca("0xbf2"),(function(){0,c.mapModelsCount=0,c.modelStatic[_0x37ca("0x626")]=0,c[_0x37ca("0x161")][_0x37ca("0x162")]=0})),a[_0x37ca("0x39")].on(_0x37ca("0x948"),(function(){c[_0x37ca("0x280")]=!1})),this[_0x37ca("0xef")]=a.id,this[_0x37ca("0x5b")]=a,this[_0x37ca("0x156")]=c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x156")],a[_0x37ca("0x39")].on(_0x37ca("0x155"),this[_0x37ca("0xbf3")][_0x37ca("0x10")](this))}var a,c,u,f;return(0,s[_0x37ca("0xe")])(x,[{key:_0x37ca("0xbf4"),value:function(){this[_0x37ca("0xa76")].inited||(this[_0x37ca("0xa76")].setFromMatrix((new THREE.Matrix4)[_0x37ca("0x185")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e8")],this.scene[_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e4")])),this[_0x37ca("0xa76")][_0x37ca("0xbf5")]=!0),this[_0x37ca("0x156")]=this[_0x37ca("0xb5")].map.zoomLevel}},{key:_0x37ca("0xbf6"),value:function(x,a){var c=x.model,_=x[_0x37ca("0x4a")],e=x.fnum;if(a=a||!1,!(c[_0x37ca("0xda")](_0x37ca("0xbf7"))>-1&&this.scene[_0x37ca("0x39")][_0x37ca("0x36")].quality==_0x37ca("0x536"))){this[_0x37ca("0xbe8")]++,c.indexOf(_0x37ca("0xbf8"))>-1&&(a=!0);var t=x[_0x37ca("0x223")],i=this.zoomLevel;this.mergeModels&&!a?(this[_0x37ca("0x29c")][c]||this[_0x37ca("0x304")][c]||(this[_0x37ca("0x304")][c]=!0,this[_0x37ca("0x305")](c,_)),i<t?(this[_0x37ca("0xbeb")][t]||(this[_0x37ca("0xbeb")][t]={}),this[_0x37ca("0xbeb")][t][e]||(this[_0x37ca("0xbeb")][t][e]={}),this[_0x37ca("0xbeb")][t][e][c]||(this[_0x37ca("0xbeb")][t][e][c]=[]),this[_0x37ca("0xbeb")][t][e][c][_0x37ca("0x0")](x)):(this[_0x37ca("0x9ac")][e]||(this[_0x37ca("0x9ac")][e]={}),this[_0x37ca("0x9ac")][e][c]||(this[_0x37ca("0x9ac")][e][c]=[]),this[_0x37ca("0x9ac")][e][c].push(x))):x[_0x37ca("0x1ab")]<=12?(this[_0x37ca("0x29c")][c]||this[_0x37ca("0x304")][c]||(this[_0x37ca("0x304")][c]=!0,this.preFetchModel3D(c,_)),this.requisitesQueue[_0x37ca("0x0")](x),this[_0x37ca("0xbf9")]()):(this[_0x37ca("0xa76")][_0x37ca("0x8e4")](x.position)&&(this[_0x37ca("0x29c")][c]||this.loadingList[c]||(this[_0x37ca("0x304")][c]=!0,this[_0x37ca("0x305")](c,_))),this.rankSingModel(x))}}},{key:"rankRequisites",value:function(){this[_0x37ca("0xbec")][_0x37ca("0x408")]((function(x,a){return a[_0x37ca("0x1ab")]-x[_0x37ca("0x1ab")]}))}},{key:_0x37ca("0xbfa"),value:function(x){var a=x[_0x37ca("0x219")],c=x[_0x37ca("0x4a")];!this[_0x37ca("0xbfb")]()||this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0xabc")]?(this[_0x37ca("0xbe8")]++,this[_0x37ca("0x29c")][a]||this[_0x37ca("0x304")][a]||(this[_0x37ca("0x304")][a]=!0,this.preFetchModel3D(a,c)),x[_0x37ca("0xc1")]?(this[_0x37ca("0xbee")][x[_0x37ca("0xbfd")]]||(this.userMergeQueue[x[_0x37ca("0xbfd")]]={}),this.userMergeQueue[x[_0x37ca("0xbfd")]][a]||(this.userMergeQueue[x[_0x37ca("0xbfd")]][a]=[]),this[_0x37ca("0xbee")][x[_0x37ca("0xbfd")]][a][_0x37ca("0x0")](x)):this[_0x37ca("0xbfe")](x)):esmap[_0x37ca("0x29e")][_0x37ca("0xbfc")]}},{key:"start",value:(f=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){return i[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return x[_0x37ca("0x29a")]=2,this[_0x37ca("0xbff")](a);case 2:if(!(this.requisitesQueue[_0x37ca("0x4")]>0)){x.next=5;break}return x[_0x37ca("0x29a")]=5,this[_0x37ca("0xc00")]();case 5:case"end":return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return f[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0xc01"),value:function(x){var a=this,c=this,_=this[_0x37ca("0x5b")],e=c[_0x37ca("0x5b")][_0x37ca("0x39")].id,i=c[_0x37ca("0xbeb")][x];if(i)for(var n in this[_0x37ca("0xbeb")][x]=null,i){var r=i[n],s=Array[_0x37ca("0x474")](r);for(var o in r){var l=r[o=s?r[o][_0x37ca("0x219")]:o],u=!1;if(c[_0x37ca("0x29c")][o]&&l[_0x37ca("0x4")]>0){var f=function(){l[0][_0x37ca("0xc02")]&&(u=!0),!u&&o[_0x37ca("0xda")](_0x37ca("0xbf7"))<0&&(c.mapModelsCount+=l[_0x37ca("0x4")]);var x=l[0][_0x37ca("0xbb")],t=l[0][_0x37ca("0x4a")],i=l[0].showLevel;0,0;for(var r=null,s={},f=0;f<l.length;f++){var h=l[f];h[_0x37ca("0x38")]&&(r=h[_0x37ca("0x38")],s=a[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x234")](h[_0x37ca("0xb8")]))}if(0!=c.modelStore[o][_0x37ca("0x301")][_0x37ca("0x2a2")][_0x37ca("0x4")]){for(var g=0;g<l[_0x37ca("0x4")];g++)c.addMapModel(l[g],!0);return _0x37ca("0x5e4")}var b=c.GLTFMergeTool.merge(c[_0x37ca("0x29c")][o][_0x37ca("0x301")],l);if(!b){for(var v=0;v<l[_0x37ca("0x4")];v++)l[v][_0x37ca("0xc1")]=!1,1,c[_0x37ca("0xbf6")](l[v]);return{v:void 0}}b.name=_0x37ca("0xba"),b[_0x37ca("0x11a")][_0x37ca("0x9ee")]=!0,b[_0x37ca("0xa4")]={model:o,isWall:u,bid:e,tileId:c.building.id,bType:c.building[_0x37ca("0x616")],FloorNum:n,nodeType:esmap[_0x37ca("0xe8")].MODEL3D,brothers:l,animations:[],o3d_:b,url:t,mapCoord:s},r&&(b[_0x37ca("0xa4")][_0x37ca("0x38")]=r,a[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x9fa")][r]=b[_0x37ca("0xa4")]),b.renderOrder=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],l[0][_0x37ca("0xa8a")]&&(2==_[_0x37ca("0x616")]?(!c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&c[_0x37ca("0xb5")].map[_0x37ca("0x182")][_0x37ca("0x183")](b,_.id),_[_0x37ca("0xc04")][n].model3D-=l[_0x37ca("0x4")]):c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](b,_.id)),x.add(b);var p=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](b),A={};[p[_0x37ca("0x30d")].x-p[_0x37ca("0x30e")].x,p.max.z-p.min.z,p[_0x37ca("0x30d")].y-p[_0x37ca("0x30e")].y][_0x37ca("0x408")](),A[_0x37ca("0x30c")]=p,b[_0x37ca("0x11a")][_0x37ca("0x30b")]=A,c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x164")]-=l.length,c[_0x37ca("0xb5")][_0x37ca("0x39")].on("controlUpdated",(function(){if(c[_0x37ca("0xb5")].map[_0x37ca("0x156")]<i&&b[_0x37ca("0xbb")]){b[_0x37ca("0xbb")][_0x37ca("0x147")](b);var x=c.scene.map[_0x37ca("0x182")].watchingList[c[_0x37ca("0x5b")].id];if(x){var a=x[_0x37ca("0xda")](b);a>-1&&x.splice(a,1)}c[_0x37ca("0xbeb")][i]||(c.mergeQueueWaiting[i]={}),c[_0x37ca("0xbeb")][i][1]||(c.mergeQueueWaiting[i][1]={});var _=b.datas_.brothers[0][_0x37ca("0x219")];c[_0x37ca("0xbeb")][i][1][_]||(c.mergeQueueWaiting[i][1][_]=[]),c[_0x37ca("0xbeb")][i][1][_]=c.mergeQueueWaiting[i][1][_][_0x37ca("0x15")](b.datas_[_0x37ca("0x331")]),d(b)}})),c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x9c8")](),c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc05"),b[_0x37ca("0xa4")]),_.checkLoadedAll(n),2==_[_0x37ca("0x616")]&&_[_0x37ca("0x36")][_0x37ca("0x91c")]&&_[_0x37ca("0x36")][_0x37ca("0xc06")]<1&&_[_0x37ca("0x91b")]!=n&&esmap[_0x37ca("0x7b")][_0x37ca("0x5f0")](n,_.options[_0x37ca("0xc06")])}();if(f===_0x37ca("0x5e4"))continue;if((typeof f===_0x37ca("0x8")?"undefined":(0,t[_0x37ca("0xe")])(f))===_0x37ca("0xc"))return f.v}}}}},{key:_0x37ca("0xc07"),value:function(x,a){var c=this,_=c.mergeQueue[a],e=c[_0x37ca("0xb5")][_0x37ca("0x39")].id;for(var t in _){var i=_[t],n=!1;if(c[_0x37ca("0x29c")][t]&&i[_0x37ca("0x4")]>0){i[0][_0x37ca("0xc02")]&&(n=!0),!n&&t[_0x37ca("0xda")](_0x37ca("0xbf7"))<0&&(c[_0x37ca("0xbea")]+=i[_0x37ca("0x4")]);for(var r=(new THREE.Box3)[_0x37ca("0x3d4")](c[_0x37ca("0x29c")][t][_0x37ca("0x301")].scene),s=i[0][_0x37ca("0xbb")],o=i[0].url,l=null,u={},d=r[_0x37ca("0x30d")].y-r.min.y,f=0;f<i[_0x37ca("0x4")];f++){var h=d*i[f][_0x37ca("0x22e")].y,g=h+i[f][_0x37ca("0xb8")].y-h/2;i[f][_0x37ca("0x316")]=1*g[_0x37ca("0x60a")](2);var b=i[f];b[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0x217")],b.ID=b.id;var v=c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x234")](b.position);b[_0x37ca("0x3ba")]=v,b[_0x37ca("0x38")]&&(l=b[_0x37ca("0x38")],u=v)}if(0!=c[_0x37ca("0x29c")][t][_0x37ca("0x301")][_0x37ca("0x2a2")][_0x37ca("0x4")]){for(var p=0;p<i.length;p++)c[_0x37ca("0xbf6")](i[p],!0);c[_0x37ca("0x9ac")][a][t]=[];continue}var A=c.GLTFMergeTool[_0x37ca("0xc1")](c[_0x37ca("0x29c")][t][_0x37ca("0x301")],i);if(!A){for(var m=0;m<i.length;m++)i[m][_0x37ca("0xc1")]=!1,1,c[_0x37ca("0xbf6")](i[m]);return void(c[_0x37ca("0x9ac")][a][t]=[])}A[_0x37ca("0x1aa")]=_0x37ca("0xba"),A.userData[_0x37ca("0x9ee")]=!0,A.datas_={isWall:n,model:t,bid:e,tileId:c[_0x37ca("0x5b")].id,bType:c.building.buildingType,FloorNum:a,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x217")],brothers:i,animations:[],o3d_:A,url:o,mapCoord:u},l&&(A[_0x37ca("0xa4")][_0x37ca("0x38")]=l,this[_0x37ca("0xb5")][_0x37ca("0x39")].tileService[_0x37ca("0x9fa")][l]=A[_0x37ca("0xa4")]),A[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],i[0].bclick&&(2==x[_0x37ca("0x616")]?(!c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&c[_0x37ca("0xb5")][_0x37ca("0x39")].mapPicker[_0x37ca("0x183")](A,x.id),x[_0x37ca("0xc04")][a].model3D-=i[_0x37ca("0x4")]):c[_0x37ca("0xb5")][_0x37ca("0x39")].mapPicker[_0x37ca("0x183")](A,x.id)),s[_0x37ca("0xe0")](A);var C=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](A),I={};[C[_0x37ca("0x30d")].x-C.min.x,C[_0x37ca("0x30d")].z-C[_0x37ca("0x30e")].z,C[_0x37ca("0x30d")].y-C[_0x37ca("0x30e")].y][_0x37ca("0x408")](),I[_0x37ca("0x30c")]=C,A.userData.modelinfo=I,c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")].modelLoadCount-=i[_0x37ca("0x4")],c.scene[_0x37ca("0x39")][_0x37ca("0x163")].tileService[_0x37ca("0x9c8")](),c[_0x37ca("0x9ac")][a][t]=[],c.scene.map[_0x37ca("0x1da")](_0x37ca("0xc05"),A.datas_),x[_0x37ca("0x15f")](a),2==x[_0x37ca("0x616")]&&x[_0x37ca("0x36")][_0x37ca("0x91c")]&&x[_0x37ca("0x36")][_0x37ca("0xc06")]<1&&x.focusFloorNum!=a&&esmap[_0x37ca("0x7b")][_0x37ca("0x5f0")](a,x[_0x37ca("0x36")][_0x37ca("0xc06")])}}}},{key:_0x37ca("0xc00"),value:function(){var x=this,a=this;return new(e[_0x37ca("0xe")])((function(c){for(var _=0,e=0;e<a[_0x37ca("0xbec")][_0x37ca("0x4")];e++){var t=a.requisitesQueue[e];if(_>=x[_0x37ca("0xbe9")])break;a[_0x37ca("0x29c")][t[_0x37ca("0x219")]]?(a[_0x37ca("0xbec")][_0x37ca("0x5")](e,1),e--,a.loadExist(t),_++):a.loadingList[t.model]||(a[_0x37ca("0x304")][t.model]=!0,a[_0x37ca("0x305")](t[_0x37ca("0x219")],t.url))}c()}))}},{key:_0x37ca("0xc08"),value:function(){var x=this;if(x[_0x37ca("0x1ea")]&&x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x27e")]&&!this[_0x37ca("0x280")]&&x[_0x37ca("0xb5")].map[_0x37ca("0x36")][_0x37ca("0x1e6")]){for(var a=x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x224")],c=x[_0x37ca("0x5b")],_=0;_<c.length;_++){var e=x.scene[_0x37ca("0x39")][_0x37ca("0x617")](c[_]);if(!e)return;var t=e[_0x37ca("0x194")]("marker3d")[0];if(!t)return;var i=t[_0x37ca("0xa5")].children;this.scene[_0x37ca("0x39")].firstPersonMode?this[_0x37ca("0xb5")].map[_0x37ca("0x609")][_0x37ca("0x276")][_0x37ca("0xdf")](this[_0x37ca("0xb5")].map[_0x37ca("0x186")][_0x37ca("0xb8")]):this[_0x37ca("0xb5")].map[_0x37ca("0x275")].target.distanceTo(this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]);for(var n=0;n<i[_0x37ca("0x4")];n++){for(var r=i[n],s=r[_0x37ca("0xa4")][_0x37ca("0x331")],o=[],l=[],u=0;u<s[_0x37ca("0x4")];u++){var d=s[u],f=d[_0x37ca("0xb8")][_0x37ca("0xde")]();f[_0x37ca("0xae3")](this.scene[_0x37ca("0x39")][_0x37ca("0x186")]);var h=!1;(Math[_0x37ca("0x24e")](f.x)>=1.5||Math.abs(f.y)>=1.5)&&(h=!0);var g=x[_0x37ca("0x629")].isModelVisible(r,d.id);d.showLevel<a||h?g&&o[_0x37ca("0x0")](d.id):!g&&l.push(d.id)}x[_0x37ca("0x629")][_0x37ca("0x405")](r,o,!1),x[_0x37ca("0x629")][_0x37ca("0x405")](r,l,!0)}}this[_0x37ca("0x280")]=!0}}},{key:"disposeInvisible",value:function(){var x=this;if(!x.mergeModels&&x[_0x37ca("0xb5")][_0x37ca("0x39")].enableCollide&&!this[_0x37ca("0x280")]){var a=new(THREE[_0x37ca("0xbf1")]);a[_0x37ca("0xc09")]((new(THREE[_0x37ca("0x25a")])).multiplyMatrices(this[_0x37ca("0xb5")][_0x37ca("0x39")].currentCamera.projectionMatrix,this[_0x37ca("0xb5")][_0x37ca("0x39")].currentCamera[_0x37ca("0x6e4")]));var c=x[_0x37ca("0x5b")].layerManager[_0x37ca("0x194")](_0x37ca("0xc0a"))[0];if(!c)return;var _=c[_0x37ca("0xa5")][_0x37ca("0xa6")];this[_0x37ca("0xb5")][_0x37ca("0x39")].firstPersonMode?this[_0x37ca("0xb5")][_0x37ca("0x39")].firstPersonControls[_0x37ca("0x276")].distanceTo(this.scene[_0x37ca("0x39")].currentCamera[_0x37ca("0xb8")]):this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xdf")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]);for(var e=0;e<_[_0x37ca("0x4")];e++){var t=_[e],i=(t[_0x37ca("0xb8")],t[_0x37ca("0x11a")][_0x37ca("0x30b")][_0x37ca("0xc0b")],t[_0x37ca("0x11a")].modelinfo[_0x37ca("0x30c")]);a[_0x37ca("0x8e5")](i)||(x.toAddQueue.push(t.userData[_0x37ca("0x30b")]),t.datas_.dispose(),e--)}this.viewRangeUpdated=!0}}},{key:_0x37ca("0xc0c"),value:function(x,a,c,_){var t=this;return new(e[_0x37ca("0xe")])((function(e){if(t[_0x37ca("0x29c")][c]&&a[_0x37ca("0x4")]>0){t[_0x37ca("0xbea")]+=a.length;var i=a[0][_0x37ca("0xbb")],n=a[0][_0x37ca("0x4a")],r=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](t[_0x37ca("0x29c")][c][_0x37ca("0x301")][_0x37ca("0xb5")]),s=(r[_0x37ca("0x30d")].y-r[_0x37ca("0x30e")].y)/2,o=0,l=0;if(0!=t[_0x37ca("0x29c")][c][_0x37ca("0x301")][_0x37ca("0x2a2")].length){for(var u=0;u<a[_0x37ca("0x4")];u++)a[u][_0x37ca("0xc1")]=!1,1,t[_0x37ca("0xbfa")](a[u]);return void(t[_0x37ca("0xbee")][_][c]=[])}for(var f=r[_0x37ca("0x30d")].y-r.min.y,h=!1,g=0;g<a[_0x37ca("0x4")];g++){var b=f*a[g][_0x37ca("0x22e")].y+a[g][_0x37ca("0xb8")].y-f/2;a[g][_0x37ca("0x316")]=1*b[_0x37ca("0x60a")](2),a[g][_0x37ca("0xb8")].y+=s*a[g][_0x37ca("0x22e")].y,0==g&&a[g][_0x37ca("0xc02")]&&(h=!0),2==x[_0x37ca("0x616")]&&(o=x[_0x37ca("0x169")][_0x37ca("0x43c")]-t[_0x37ca("0xb5")][_0x37ca("0x19a")],l=x[_0x37ca("0x169")].DefaultCenY-t.scene[_0x37ca("0x19b")]);var v=a[g].position;a[g][_0x37ca("0xb8")].x=v.x-o,a[g][_0x37ca("0xb8")].z=v.z-l}var p=t[_0x37ca("0x629")][_0x37ca("0xc1")](t.modelStore[c][_0x37ca("0x301")],a);if(!p){for(var A=0;A<a.length;A++)a[A][_0x37ca("0xc1")]=!1,1,t[_0x37ca("0xbfa")](a[A]);return void(t[_0x37ca("0xbee")][_][c]=[])}p.name=_0x37ca("0xba");var m=a[0][_0x37ca("0xe6")];p[_0x37ca("0x11a")].merged=!0;p.datas_={model:c,isWall:h,bid:mapId,tileId:x.id,FloorNum:m,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x217")],brothers:a,animations:[],url:n,bType:x.buildingType,o3d_:p,dispose:function(x){(x=x||this)[_0x37ca("0xed")]=!1;var a=x[_0x37ca("0xbb")];return a?(a[_0x37ca("0x147")](x),d(x),!0):void 0}[_0x37ca("0x10")](p)},p[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],a[0][_0x37ca("0xa8a")]&&(2==x[_0x37ca("0x616")]?!t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](p,x.id):t.scene.map[_0x37ca("0x182")][_0x37ca("0x183")](p,x.id)),i.add(p),t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")].modelLoadCount-=a[_0x37ca("0x4")],t.userMergeQueue[_][c]=[],t[_0x37ca("0xb5")][_0x37ca("0x39")].fire(_0x37ca("0xc05"),p[_0x37ca("0xa4")]),t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x91c")]&&t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc06")]<1&&t.scene[_0x37ca("0x39")].focusFloorNum!=m&&esmap[_0x37ca("0x7b")][_0x37ca("0x5f0")](m,t[_0x37ca("0xb5")][_0x37ca("0x39")].options[_0x37ca("0xc06")])}e()}))}},{key:_0x37ca("0xc0d"),value:(u=(0,n[_0x37ca("0xe")])(i.default[_0x37ca("0x297")]((function x(a,c){var _,e,t,n,r;return i.default[_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:for(t in e=(_=this)[_0x37ca("0xbee")][c])e[t][_0x37ca("0x4")];x.t0=i[_0x37ca("0xe")].keys(e);case 5:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x.next=12;break}return n=x.t1[_0x37ca("0xf2")],r=e[n],x[_0x37ca("0x29a")]=10,_[_0x37ca("0xc0c")](a,r,n,c);case 10:x[_0x37ca("0x29a")]=5;break;case 12:case"end":return x.stop()}}),x,this)}))),function(x,a){return u.apply(this,arguments)})},{key:_0x37ca("0xbfb"),value:function(){return!1}},{key:_0x37ca("0xbf3"),value:function(){var x=this,a=this[_0x37ca("0xb5")][_0x37ca("0x39")].zoomLevel,c=function(c){if(!x[_0x37ca("0xbeb")][c])return _0x37ca("0x5e4");a>=c&&setTimeout((function(){x[_0x37ca("0xc01")](c)}),0)};for(var _ in this[_0x37ca("0xbeb")]){c(_);_0x37ca("0x5e4")}}},{key:_0x37ca("0xc0e"),value:function(){var x=this,a=this[_0x37ca("0x5b")];if(this[_0x37ca("0x1ea")]&&x.mapModelsCount<x[_0x37ca("0x161")].roomModelsCount)for(var c in this.mapModelLoadStatus)this[_0x37ca("0xbed")][c]&&this[_0x37ca("0xc07")](a,c);for(var _ in this.userMergeQueue)this.userModelLoadStatus[_]&&this[_0x37ca("0xc0d")](a,_);if(this[_0x37ca("0xc0f")]&&x[_0x37ca("0xbec")][_0x37ca("0x4")]>0&&x[_0x37ca("0x1c6")](),this[_0x37ca("0xc0f")]&&x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x27e")]&&(x[_0x37ca("0x9ab")][_0x37ca("0x4")]>0||x.toAddQueue.length>0)){if(!this[_0x37ca("0x27f")]){var e=x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x973")];if(this.lasViewCenter||(this[_0x37ca("0xbef")]=e?this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")].target[_0x37ca("0xde")]():this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")].clone()),x[_0x37ca("0x9ab")]=x[_0x37ca("0x9ab")][_0x37ca("0x15")](x[_0x37ca("0x98d")]),x[_0x37ca("0x98d")]=[],x[_0x37ca("0xb5")].map[_0x37ca("0x36")][_0x37ca("0x1e6")]){var t=new(THREE[_0x37ca("0xbf1")]);e?this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")].target[_0x37ca("0xdf")](this[_0x37ca("0xb5")][_0x37ca("0x39")].currentCamera.position):this.scene.map.controls[_0x37ca("0x276")].distanceTo(this[_0x37ca("0xb5")].map[_0x37ca("0x186")].position);var i=e?this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")][_0x37ca("0x276")]:this[_0x37ca("0xb5")].map[_0x37ca("0x275")][_0x37ca("0x276")];t[_0x37ca("0xc09")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x185")](this.scene[_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e8")],this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e4")]));for(var n=0;n<x[_0x37ca("0x9ab")].length;n++){if(x[_0x37ca("0x9ab")][n].modelrank=1/x[_0x37ca("0x9ab")][n][_0x37ca("0xb8")].distanceTo(i),x.queue[n][_0x37ca("0x30c")]){if(!t[_0x37ca("0x8e5")](x[_0x37ca("0x9ab")][n][_0x37ca("0x30c")])){x.toAddQueue[_0x37ca("0x0")](x[_0x37ca("0x9ab")][n]),x.queue[_0x37ca("0x5")](n,1),n--;continue}x[_0x37ca("0x9ab")][n][_0x37ca("0xc10")]=1/x[_0x37ca("0x9ab")][n][_0x37ca("0xb8")][_0x37ca("0xdf")](i)}else if(!t.containsPoint(x.queue[n].position)){x[_0x37ca("0x98d")][_0x37ca("0x0")](x.queue[n]),x[_0x37ca("0x9ab")][_0x37ca("0x5")](n,1),n--;continue}}for(var r=a[_0x37ca("0x14e")][_0x37ca("0x194")](_0x37ca("0xc0a"))[0][_0x37ca("0xa5")][_0x37ca("0xa6")],s=[],o=0;o<r[_0x37ca("0x4")];o++){var l=r[o];if(!l[_0x37ca("0xa4")].keepalive){l[_0x37ca("0x11a")][_0x37ca("0x30b")][_0x37ca("0xc0b")],x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x949")];var u={modelrank:1/l[_0x37ca("0xb8")][_0x37ca("0xdf")](i),model:l,ind:o};s[_0x37ca("0x0")](u)}}var d=[];(d=[].concat(s,x[_0x37ca("0x9ab")]))[_0x37ca("0x408")]((function(x,a){return a[_0x37ca("0xc10")]-x[_0x37ca("0xc10")]}));var f=[];if(d[_0x37ca("0x4")]>x[_0x37ca("0xbf0")]){f=d.splice(x.maxShowModels);for(var h=0;h<f[_0x37ca("0x4")];h++)f[h][_0x37ca("0x1")](_0x37ca("0xc11"))?(x[_0x37ca("0x98d")][_0x37ca("0x0")](f[h][_0x37ca("0x219")][_0x37ca("0x11a")][_0x37ca("0x30b")]),f[h][_0x37ca("0x219")][_0x37ca("0xa4")][_0x37ca("0xa8")](),f[h][_0x37ca("0x219")]=null):x[_0x37ca("0x98d")][_0x37ca("0x0")](f[h]),f.splice(h,1),h--}for(var g=0;g<d[_0x37ca("0x4")];g++)d[g][_0x37ca("0x1")](_0x37ca("0xc11"))&&(d[_0x37ca("0x5")](g,1),g--);x[_0x37ca("0x9ab")]=d}this.rankAllModels(),this[_0x37ca("0x27f")]=!0,e?this[_0x37ca("0xbef")]=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")].target[_0x37ca("0xde")]():this.lasViewCenter=this.scene[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xde")]()}x.start(a)}}},{key:_0x37ca("0xbfe"),value:function(x){for(var a=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x973")]?this.scene[_0x37ca("0x39")].firstPersonControls[_0x37ca("0x276")]:this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")],c=this[_0x37ca("0x9ab")][_0x37ca("0x4")],_=x[_0x37ca("0xb8")][_0x37ca("0xdf")](a),e=0;e<c;e++){if(this.queue[e].position[_0x37ca("0xdf")](a)>=_)return void this[_0x37ca("0x9ab")][_0x37ca("0x5")](e,0,x)}this[_0x37ca("0x98d")][_0x37ca("0x0")](x),this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x27e")]=!0}},{key:_0x37ca("0xc12"),value:function(){var x=this[_0x37ca("0xb5")][_0x37ca("0x39")].firstPersonMode?this[_0x37ca("0xb5")].map[_0x37ca("0x609")][_0x37ca("0x276")]:this.scene.map[_0x37ca("0x275")][_0x37ca("0x276")];this[_0x37ca("0x9ab")][_0x37ca("0x4")];this[_0x37ca("0x9ab")][_0x37ca("0x408")]((function(a,c){return a[_0x37ca("0xb8")][_0x37ca("0xdf")](x)-c[_0x37ca("0xb8")][_0x37ca("0xdf")](x)})),this.queue}},{key:"applyToMap",value:function(){var x=this,a=this;return new(e[_0x37ca("0xe")])((function(c){for(var _=0,e=0;e<a[_0x37ca("0x9ab")][_0x37ca("0x4")];e++){var t=a[_0x37ca("0x9ab")][e];if(_>=x[_0x37ca("0xbe9")])break;a[_0x37ca("0x29c")][t[_0x37ca("0x219")]]?(a[_0x37ca("0x9ab")][_0x37ca("0x5")](e,1),e--,a[_0x37ca("0xc13")](t),_++):a[_0x37ca("0x304")][t[_0x37ca("0x219")]]||(a[_0x37ca("0x304")][t[_0x37ca("0x219")]]=!0,a.preFetchModel3D(t.model,t[_0x37ca("0x4a")]))}c()}))}},{key:_0x37ca("0xc13"),value:function(x){var a,c=this,_=this[_0x37ca("0x5b")],e=x[_0x37ca("0x219")],t=c.modelStore[e][_0x37ca("0x301")][_0x37ca("0xb5")],i=c.modelStore[e].animNames,n=(i[_0x37ca("0x4")],!1);t[_0x37ca("0xa6")][_0x37ca("0x1f")]((function(x){(x instanceof THREE.SkinnedMesh||x instanceof THREE[_0x37ca("0xc14")])&&(n=!0)})),a=n?THREE[_0x37ca("0xc15")][_0x37ca("0xde")](t):t[_0x37ca("0xde")](),c[_0x37ca("0x3")](a,x,i,_)}},{key:_0x37ca("0x3"),value:function(x,a,c){var t=this,i=this,n=this.building,r=n[_0x37ca("0x39")].id;return new e.default((function(e){c=c||[];var s=i[_0x37ca("0xb5")][_0x37ca("0x39")].mapPicker,l=a[_0x37ca("0xe6")],u=null,d=null,f={},h=null,g=!1;x.traverse((function(x){if(x&&x.name)if(x[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0xc16"))>-1){s[_0x37ca("0xb4a")].push(x);var a=x.name[_0x37ca("0x2b")]("-"),c=a[a.length-1];f[c]||(f[c]={floorObj:null,floorLabel:null,lineGroup:null}),f[c][_0x37ca("0xc17")]=x,x[_0x37ca("0x11a")][_0x37ca("0x48f")]=c}else if(x[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0xa7f"))>-1)u=x,d=x[_0x37ca("0xbb")];else if(x[_0x37ca("0x1aa")][_0x37ca("0xda")]("_ef_$fl-id-")>-1){var _=x[_0x37ca("0x1aa")].split("-"),e=_[_.length-1];f[e]||(f[e]={floorObj:null,floorLabel:null,lineGroup:null}),f[e].floorLabel=x}else x[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0xc18"))>-1&&(h=x)})),h&&(g=!0),u&&d[_0x37ca("0x147")](u);var b=(new THREE.Box3)[_0x37ca("0x3d4")](x);b[_0x37ca("0x303")](x[_0x37ca("0xb8")]),x[_0x37ca("0xb8")][_0x37ca("0x26b")](-1),u&&d.add(u);var v,p,A=b.max.y-b[_0x37ca("0x30e")].y;b.max.x,b[_0x37ca("0x30e")].x;v=A<1?15:20,v*=a[_0x37ca("0x22e")].y;var m=a[_0x37ca("0x226")]||!1;if(a[_0x37ca("0xc19")]){0;var C=a[_0x37ca("0x4a")].lastIndexOf("/"),I=a[_0x37ca("0x4a")];C>-1&&(I=a[_0x37ca("0x4a")][_0x37ca("0x14")](C+1)),p=a[_0x37ca("0xc19")],a[_0x37ca("0xc19")].addTo=a[_0x37ca("0xbb")],a.marker.callbackparams=a[_0x37ca("0x238")],a[_0x37ca("0xc19")].child=x,a[_0x37ca("0xc19")][_0x37ca("0x219")]=I,a[_0x37ca("0xc19")][_0x37ca("0x2a2")]=c,a.marker[_0x37ca("0x226")]=m,a[_0x37ca("0xc19")][_0x37ca("0xea")](),a.marker.on("removed",(function(){0})),a.iswall&&(a[_0x37ca("0xc19")][_0x37ca("0xc1a")]=!0)}else{var y=a[_0x37ca("0xb8")];for(var E in a[_0x37ca("0xb8")].x=y.x-0,a.position.y=y.y,a[_0x37ca("0xb8")].z=y.z-0,(p=new o.default({diableClickEffect:g,name:a[_0x37ca("0x1aa")],fnum:a[_0x37ca("0xe6")],ID:a.id,url:a.url,gid:a[_0x37ca("0xa8b")],mapId:a.mapId,bid:r,dataID:a[_0x37ca("0x62f")],bType:n[_0x37ca("0x616")],model:a[_0x37ca("0x219")],callback:a[_0x37ca("0x1c7")],top:a.top,rotation:a[_0x37ca("0x1a3")],position:a[_0x37ca("0xb8")],scale:a.scale,scaleRate:v,child:x,addTo:a[_0x37ca("0xbb")],isChildNode:m,animations:c}))[_0x37ca("0x93")]=a.tileId,a[_0x37ca("0xc02")]&&(p.isWall=!0),f){var w=f[E];w[_0x37ca("0xc17")][_0x37ca("0x11a")].label=w.floorLabel,h&&(h[_0x37ca("0xed")]=!1,w.floorObj.userData[_0x37ca("0xb5f")]=h),w[_0x37ca("0xc17")][_0x37ca("0x11a")][_0x37ca("0x219")]=p;var T=w[_0x37ca("0xc17")][_0x37ca("0xa6")];for(var k in T)T[k][_0x37ca("0x11a")].label=w.floorLabel,h&&(T[k][_0x37ca("0x11a")][_0x37ca("0xb5f")]=h),T[k][_0x37ca("0x11a")][_0x37ca("0x219")]=p,T[k][_0x37ca("0x11a")][_0x37ca("0x48f")]=E,T[k].userData[_0x37ca("0xb5a")]=w[_0x37ca("0xc17")]}p[_0x37ca("0xea")](),t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x164")]--,a[_0x37ca("0x219")][_0x37ca("0xcd")](_0x37ca("0xc1b"))&&(p[_0x37ca("0x21f")]=a[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xc1b"),""),p[_0x37ca("0x2fe")]())}a[_0x37ca("0xc1c")]&&a[_0x37ca("0xc1c")].MA&&(0,_[_0x37ca("0xe")])(a.brief.MA).forEach((function(x){var a=x.n,_=x.t,e=x.dt,t=x.l;c[_0x37ca("0xc1d")]((function(x){return x==a}))?p[_0x37ca("0x27c")]({name:a,time:_,delay:e,loop:t}):_0x37ca("0xc1e")}));var S=p[_0x37ca("0xa5")],M=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](S),R=[M[_0x37ca("0x30d")].x-M[_0x37ca("0x30e")].x,M[_0x37ca("0x30d")].z-M.min.z,M[_0x37ca("0x30d")].y-M[_0x37ca("0x30e")].y];R[_0x37ca("0x408")](),a[_0x37ca("0xc0b")]=R[1]*R[2],a.box3=M,S[_0x37ca("0x11a")][_0x37ca("0x30b")]=a,S[_0x37ca("0x11a")][_0x37ca("0x30c")]=M,2==n[_0x37ca("0x616")]?i.setAlpha(n,S):t[_0x37ca("0xc1f")](S),a.id!=_0x37ca("0xc20")&&(a[_0x37ca("0xa8a")]||i.scene.map[_0x37ca("0x36")].editMode)&&(2==n.buildingType?a[_0x37ca("0xc19")]?s.addObject(S,n.id):i[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]||s[_0x37ca("0x183")](S,n.id):s[_0x37ca("0x183")](S,n.id)),p[_0x37ca("0x38")]&&(t[_0x37ca("0xb5")][_0x37ca("0x39")].tileService[_0x37ca("0x9fa")][p.mapId]=p),t[_0x37ca("0xb5")].map[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0x9c8")](),t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc05"),p),2==n[_0x37ca("0x616")]&&n[_0x37ca("0x15f")](l),e()}))}},{key:"preFetchModel3D",value:function(x,a,c){var _=this,e=_[_0x37ca("0xb5")][_0x37ca("0x39")].mapTheme[_0x37ca("0xc21")];_[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")];var t=esmap[_0x37ca("0x22c")][_0x37ca("0x293")];_[_0x37ca("0xb5")][_0x37ca("0x39")].mapService.modelLoadings[x]=!0;var i=this[_0x37ca("0xb5")][_0x37ca("0x39")].id;this[_0x37ca("0xc22")][_0x37ca("0x140")](a,(function(a){_.scene[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xc23")][x]=!1,_.toLoadedCount--,_[_0x37ca("0x161")][_0x37ca("0x626")]++,_.loadingList[x]=!1;var i=new(THREE[_0x37ca("0x2a1")])(a[_0x37ca("0xb5")]);i.watching=!1;var n=[];a.animations[_0x37ca("0x1f")]((function(x){n[_0x37ca("0x0")](x[_0x37ca("0x1aa")][_0x37ca("0x2a6")]())})),a[_0x37ca("0xb5")].traverse((function(x){x.renderOrder=t,x.material&&x[_0x37ca("0xa9")][_0x37ca("0xc24")]&&(x[_0x37ca("0xa9")][_0x37ca("0x859")]||(x[_0x37ca("0xa9")][_0x37ca("0x859")]=.9),x[_0x37ca("0xa9")][_0x37ca("0x39")]&&(x.material[_0x37ca("0x39")].name[_0x37ca("0xda")]("jpg")>-1&&(x[_0x37ca("0xa9")].transparent=!1),e||(x[_0x37ca("0xa9")].map[_0x37ca("0x864")]=THREE[_0x37ca("0xc25")])),!a[_0x37ca("0xb5")][_0x37ca("0x11a")][_0x37ca("0xc26")]&&x[_0x37ca("0xa9")][_0x37ca("0x1aa")].indexOf(_0x37ca("0x30a"))>=0&&(a[_0x37ca("0xb5")][_0x37ca("0x11a")][_0x37ca("0xc26")]=!0))}));var r=null;a.parser&&a[_0x37ca("0xb1")][_0x37ca("0xb2")]&&a[_0x37ca("0xb1")][_0x37ca("0xb2")].ms&&(r=a[_0x37ca("0xb1")][_0x37ca("0xb2")].ms),_[_0x37ca("0x29c")][x]={mixer:i,gltfObj:a,queue:[],animations:a[_0x37ca("0x2a2")],animNames:n,ms:r},c&&c(a),_.scene.map[_0x37ca("0x1da")](_0x37ca("0xc27"),{name:x,gltfObj:a}),_.queueRanked=!1}),(function(){}),(function(x){console[_0x37ca("0x3eb")](x,a),_.toLoadedCount--}),i)}},{key:_0x37ca("0xc28"),value:function(x){var a=esmap.ESRenderOrder[_0x37ca("0x293")];x.name[_0x37ca("0xda")]("depth")>=0&&(x.depthWrite=!1),obj.renderOrder=a,x[_0x37ca("0x13a")]=!0}},{key:_0x37ca("0xc1f"),value:(c=(0,n.default)(i.default[_0x37ca("0x297")]((function x(a){var c;return i[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x.prev=x.next){case 0:c=esmap.ESRenderOrder.model3D,a[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")]){if(x.material instanceof Array)for(var a=0;a<x[_0x37ca("0xa9")][_0x37ca("0x4")];a++){var _=x[_0x37ca("0xa9")][a];_[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x30a"))>=0&&(_[_0x37ca("0x124")]=!1,_[_0x37ca("0x13a")]=!0)}else x[_0x37ca("0xa9")][_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x30a"))>=0&&(x[_0x37ca("0xa9")][_0x37ca("0x124")]=!1,x[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0);x[_0x37ca("0x127")]=c}}));case 2:case"end":return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return c[_0x37ca("0x3")](this,arguments)})},{key:"setAlpha",value:(a=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a,c){var _,e,t;return i.default[_0x37ca("0x298")]((function(x){for(;;)switch(x.prev=x[_0x37ca("0x29a")]){case 0:_=c[_0x37ca("0xa4")][_0x37ca("0x236")],e=a[_0x37ca("0x990")][_],t=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],e&&e[_0x37ca("0xed")]&&(a[_0x37ca("0x36")][_0x37ca("0xc06")],c[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")]){if(x.material instanceof Array)for(var a=0;a<x[_0x37ca("0xa9")].length;a++){var c=x[_0x37ca("0xa9")][a];c.name[_0x37ca("0xda")](_0x37ca("0x30a"))>=0&&(c[_0x37ca("0x124")]=!1,c.needsUpdate=!0)}else x[_0x37ca("0xa9")][_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x30a"))>=0&&(x[_0x37ca("0xa9")][_0x37ca("0x124")]=!1,x.material[_0x37ca("0x13a")]=!0);x.renderOrder=t}})));case 6:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x,c){return a.apply(this,arguments)})},{key:"modelStore",get:function(){return this[_0x37ca("0xb5")].map.mapService[_0x37ca("0x29c")]}}]),x}();a[_0x37ca("0xe")]=f},,,,function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=s(c(4)),e=s(c(2)),t=s(c(0)),i=s(c(1)),n=s(c(5)),r=s(c(6));function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(x){function a(x,c,i){(0,t[_0x37ca("0xe")])(this,a);var r=(0,e[_0x37ca("0xe")])({lineWidth:6,lineWidthMeter:!1,color:_0x37ca("0xcc"),lineType:esmap.ESLineType[_0x37ca("0xbb3")],offsetHeight:0,fixedWidth:!1,closed:!1,metalness:.2,roughness:.5,transparent:!1,hiddenByFloor:!0,randomeTexture:!1,reverseAnimate:0,lineMode:_0x37ca("0x134"),repeat:1,animateSpeed:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x37ca("0xe2")])(0,1,0),matSide:1,noAnimate:!1},c),s=(0,n[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a)).call(this)),o=esmap[_0x37ca("0x34")][_0x37ca("0x35")];s.lineStyle=r;var l=function(x){for(var a=0,c=x[0][_0x37ca("0xde")](),_=1;_<x[_0x37ca("0x4")];_++)a+=x[_][_0x37ca("0xdf")](x[_-1]),c[_0x37ca("0xe0")](x[_]);return{length:a,center:c[_0x37ca("0xc29")](x[_0x37ca("0x4")])}}(x);return s[_0x37ca("0xee")]=x,s[_0x37ca("0x4")]=l[_0x37ca("0x4")],s[_0x37ca("0xe5")]=l[_0x37ca("0xe5")],s[_0x37ca("0xe6")]=x[0].fnum||1,s[_0x37ca("0xef")]=x[0][_0x37ca("0xef")]||o.id,s[_0x37ca("0x18b")]=_0x37ca("0xe7"),s[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")].LINE,s[_0x37ca("0xea")](i),s}return(0,r[_0x37ca("0xe")])(a,x),(0,i[_0x37ca("0xe")])(a,[{key:_0x37ca("0xea"),value:function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=this;c[_0x37ca("0x39")]=a;var _,e=new(THREE[_0x37ca("0xeb")]),t=void 0;if(x?t=x:(t=this[_0x37ca("0xc2a")][_0x37ca("0xfb")]||this.lineStyle[_0x37ca("0x859")]?new(THREE[_0x37ca("0x856")])({color:16777215,wireframe:!1,metalness:this.lineStyle[_0x37ca("0xfb")],roughness:this.lineStyle[_0x37ca("0x859")]}):new(THREE[_0x37ca("0xfc")])({color:16777215,wireframe:!1}),2==c[_0x37ca("0xc2a")][_0x37ca("0x111")]&&(t[_0x37ca("0x10e")]=THREE[_0x37ca("0x10f")]),t.transparent=c[_0x37ca("0xc2a")][_0x37ca("0xfa")],t[_0x37ca("0x10e")]=THREE[_0x37ca("0x10f")],t[_0x37ca("0x13a")]=!0),this[_0x37ca("0xc2a")][_0x37ca("0x112")]==_0x37ca("0x113")){var i=this[_0x37ca("0xc2a")][_0x37ca("0x115")]/8;if(this[_0x37ca("0xc2a")][_0x37ca("0x114")]&&(i=this[_0x37ca("0xc2a")][_0x37ca("0x115")]),this[_0x37ca("0x116")]=e,this[_0x37ca("0x116")].set(this[_0x37ca("0xee")],i,0,void 0,!1),_=new THREE.PathTubeGeometry,this[_0x37ca("0xc2a")][_0x37ca("0x11e")]){var n=esmap[_0x37ca("0x7b")][_0x37ca("0x118")](a,this);_[_0x37ca("0x119")](this.pathPointList,{radius:i/2*n*10,radialSegments:20,startRad:0}),_[_0x37ca("0x11a")][_0x37ca("0x11b")]=i/2*n*10}else _[_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:i/2,radialSegments:20,startRad:0}),_[_0x37ca("0x11a")][_0x37ca("0x11b")]=i/2;this[_0x37ca("0x115")]=i/2}else{var r=this[_0x37ca("0xc2a")][_0x37ca("0x115")]/8;this[_0x37ca("0xc2a")][_0x37ca("0x114")]&&(r=this[_0x37ca("0xc2a")][_0x37ca("0x115")]),this[_0x37ca("0x86d")]=1,_=new(THREE[_0x37ca("0x11c")]),this[_0x37ca("0x116")]=e;var s=!1,o=this[_0x37ca("0xee")][_0x37ca("0x4")]-1;if(this[_0x37ca("0xee")][0].x==this[_0x37ca("0xee")][o].x&&this[_0x37ca("0xee")][0].z==this[_0x37ca("0xee")][o].z&&(s=!0),this[_0x37ca("0x116")][_0x37ca("0x11d")](this[_0x37ca("0xee")],0,0,this.lineStyle.up,s),this[_0x37ca("0xc2a")][_0x37ca("0x11e")]){var l=esmap[_0x37ca("0x7b")].getSpriteScale(a,this);_.update(this[_0x37ca("0x116")],{width:r*l*18,side:_0x37ca("0x11f"),arrow:this.lineStyle[_0x37ca("0x120")]}),_[_0x37ca("0x11a")].trueRadius=r*l*18}else _[_0x37ca("0x119")](this[_0x37ca("0x116")],{width:r,side:"both",arrow:this[_0x37ca("0xc2a")][_0x37ca("0x120")]}),_[_0x37ca("0x11a")][_0x37ca("0x11b")]=r;this[_0x37ca("0x115")]=r}_[_0x37ca("0x122")]();this[_0x37ca("0xc2a")][_0x37ca("0x10b")]=[2,0],this[_0x37ca("0x10c")]=this[_0x37ca("0xc2a")][_0x37ca("0x10b")].reduce((function(x,a){return x+a})),this[_0x37ca("0xa9")]=t,this[_0x37ca("0xa7")]=_,this[_0x37ca("0x127")]=71,x[_0x37ca("0x11a")][_0x37ca("0xc2b")]||(this.__bindupdate=this[_0x37ca("0xc2c")][_0x37ca("0x10")](this),a.on("update",this[_0x37ca("0xc2d")]),this.__bindchange=this.controlchange_[_0x37ca("0x10")](this),a.on(_0x37ca("0x145"),this[_0x37ca("0xc2e")]),x.userData[_0x37ca("0xc2b")]=!0),this.lineStyle[_0x37ca("0xec")]&&a.on("visibleFloorNumsChanged",this[_0x37ca("0x12c")].bind(this)),this[_0x37ca("0xb8")].y+=this[_0x37ca("0xc2a")][_0x37ca("0x28")]}},{key:_0x37ca("0xc2c"),value:function(x){!this[_0x37ca("0xc2a")].noAnimate&&this.updateLineTextureOffset(x)}},{key:_0x37ca("0xc2f"),value:function(){this.lineStyle[_0x37ca("0x11e")]&&this[_0x37ca("0x12e")]()}},{key:_0x37ca("0xf3"),value:function(x){var a=this[_0x37ca("0xa7")].userData[_0x37ca("0x11b")];this[_0x37ca("0xee")]=x;var c=!1,_=this[_0x37ca("0xee")][_0x37ca("0x4")]-1;this[_0x37ca("0xee")][0].x==this[_0x37ca("0xee")][_].x&&this.points[0].z==this[_0x37ca("0xee")][_].z&&(c=!0),this[_0x37ca("0xc2a")][_0x37ca("0x112")]==_0x37ca("0x113")?(this[_0x37ca("0x116")][_0x37ca("0x11d")](x,a,0,void 0,!1),this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:a,radialSegments:20,startRad:0})):(this[_0x37ca("0x116")].set(this[_0x37ca("0xee")],0,0,this.lineStyle.up,c),this.geometry[_0x37ca("0x119")](this.pathPointList,{width:a,side:_0x37ca("0x11f"),arrow:this[_0x37ca("0xc2a")][_0x37ca("0x120")]}))}},{key:_0x37ca("0x12e"),value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")],a=esmap[_0x37ca("0x7b")][_0x37ca("0x118")](x,this);this[_0x37ca("0xc2a")][_0x37ca("0x112")]==_0x37ca("0x134")?this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{width:this[_0x37ca("0x115")]*a*18,side:_0x37ca("0x11f"),arrow:this[_0x37ca("0xc2a")][_0x37ca("0x120")]}):this[_0x37ca("0xa7")][_0x37ca("0x119")](this[_0x37ca("0x116")],{radius:this[_0x37ca("0x115")]*a*10,radialSegments:20,startRad:0})}},{key:"updateLineTextureOffset",value:function(x){this[_0x37ca("0xa9")]&&this[_0x37ca("0xa9")][_0x37ca("0x39")]&&!this[_0x37ca("0xc2a")][_0x37ca("0x130")]&&(this.lineStyle[_0x37ca("0x136")]?this.material[_0x37ca("0x39")][_0x37ca("0x137")].x+=x*this.lineStyle[_0x37ca("0x138")]:this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x137")].x-=x*this[_0x37ca("0xc2a")].animateSpeed,this[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0)}},{key:"updateColor",value:function(x){this[_0x37ca("0xa9")][_0x37ca("0x13c")]=new THREE.Color(this[_0x37ca("0x13e")](x))}},{key:"_colorToStr",value:function(x){if(_0x37ca("0x143")==typeof x){for(var a=x.toString(16);a[_0x37ca("0x4")]<6;)a="0"+a;return"#"+a}return x}},{key:_0x37ca("0xc30"),value:function(x){var a=(new(THREE[_0x37ca("0x13f")]))[_0x37ca("0x140")](this[_0x37ca("0xc2a")].url);a[_0x37ca("0x110")].y=1,a[_0x37ca("0x137")].y=0,a[_0x37ca("0x41f")]=THREE[_0x37ca("0x7e8")],a.wrapS=THREE[_0x37ca("0x142")],a[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],x(a)}},{key:_0x37ca("0xc31"),value:function(x){x[_0x37ca("0x13c")]&&_0x37ca("0x143")==typeof x[_0x37ca("0x13c")]&&(x.color=this._colorToStr(x[_0x37ca("0x13c")])),(0,e.default)(this[_0x37ca("0xc2a")],x),x[_0x37ca("0x9d5")]&&!x[_0x37ca("0x10b")]&&(this[_0x37ca("0xc2a")][_0x37ca("0x10b")]=[2,0]),this[_0x37ca("0xa9")].map.dispose();this[_0x37ca("0xc30")]((function(x){}))}},{key:"visibleFloorNumsChanged",value:function(x){if(x[_0x37ca("0xef")]==this[_0x37ca("0xef")]){var a=x[_0x37ca("0x144")],c=this[_0x37ca("0xe6")],_=!0;"number"==typeof c?-1==a.indexOf(c)&&(_=!1):c instanceof Array&&c[_0x37ca("0x1f")]((function(x){-1==a.indexOf(x)&&(_=!1)})),this[_0x37ca("0xed")]=_}}},{key:_0x37ca("0xa8"),value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this[_0x37ca("0x331")]&&this[_0x37ca("0x331")][_0x37ca("0x4")]>0&&this[_0x37ca("0x331")][_0x37ca("0x1f")]((function(x){x.dispose()})),esmap.ESComponent[_0x37ca("0x11")].dispose[_0x37ca("0x6")](this),x.off("update",this.__bindupdate),x[_0x37ca("0x62")](_0x37ca("0x145"),this[_0x37ca("0xc2e")]),x[_0x37ca("0x62")]("visibleFloorNumsChanged",this.visibleFloorNumsChanged),this[_0x37ca("0xbb")]&&this[_0x37ca("0xbb")][_0x37ca("0x147")](this),this.transparentObj=null;var a=this[_0x37ca("0xa6")][0];a&&(a[_0x37ca("0xa9")]&&(a[_0x37ca("0xa9")].map&&(a[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xa8")](),a[_0x37ca("0xa9")][_0x37ca("0x39")]=null),a[_0x37ca("0xa9")][_0x37ca("0xa8")](),a[_0x37ca("0xa9")]=void 0),a[_0x37ca("0xa7")]&&(a[_0x37ca("0xa7")][_0x37ca("0xa8")](),a[_0x37ca("0xa7")]=void 0),this[_0x37ca("0xa6")][0]=null),this[_0x37ca("0xa7")]&&(this.geometry[_0x37ca("0xa8")](),this[_0x37ca("0xa7")]=void 0),this[_0x37ca("0xa9")]&&(this[_0x37ca("0xa9")][_0x37ca("0x39")]&&(this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xa8")](),this[_0x37ca("0xa9")][_0x37ca("0x39")]=null),this[_0x37ca("0xa9")][_0x37ca("0xa8")](),this[_0x37ca("0xa9")]=void 0)}}]),a}(THREE[_0x37ca("0x148")]);a[_0x37ca("0xe")]=o},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(285)),e=n(c(0)),t=n(c(1)),i=n(c(2));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(){function x(a,c){(0,e[_0x37ca("0xe")])(this,x),this.view=a,this.controls=c,this[_0x37ca("0xc33")]=!1}return(0,t.default)(x,[{key:_0x37ca("0xc34"),value:function(x){var a=x[_0x37ca("0x4f1")],c=x[_0x37ca("0xb8")],_=x[_0x37ca("0xc35")],e=void 0===_?3:_,t=x[_0x37ca("0xbb9")],i=void 0===t?5:t,n=x[_0x37ca("0xc36")],r=x[_0x37ca("0xa05")],s=x[_0x37ca("0x2e9")];if(esmap[_0x37ca("0x58c")]){var o=new(THREE[_0x37ca("0xe2")])(c.x,this[_0x37ca("0x275")].target.y,c.z)[_0x37ca("0xdf")](this[_0x37ca("0x275")][_0x37ca("0x276")]),l=this[_0x37ca("0x275")][_0x37ca("0xc")]._cameraSphericalRadius-n,u=Math[_0x37ca("0x2e")](o/e),d=Math[_0x37ca("0x2e")](Math[_0x37ca("0x24e")](l)/i);d<1e3&&(d=1e3),u<1e3&&(u=1e3);var f=0;switch(a){case esmap[_0x37ca("0x58c")][_0x37ca("0xc38")]:f=179.99;break;case esmap[_0x37ca("0x58c")][_0x37ca("0xc39")]:f=.01;break;case esmap.ESDirection.WAST:f=-90;break;case esmap[_0x37ca("0x58c")][_0x37ca("0xc3a")]:f=90;break;case esmap[_0x37ca("0x58c")][_0x37ca("0xc3b")]:f=135;break;case esmap[_0x37ca("0x58c")][_0x37ca("0xc3c")]:f=-135;break;case esmap[_0x37ca("0x58c")][_0x37ca("0xc3d")]:f=45;break;case esmap.ESDirection[_0x37ca("0xc3e")]:f=-45}var h=this;this[_0x37ca("0x275")][_0x37ca("0xc3f")]({x:-c.x,y:c.z,callback:function(){h[_0x37ca("0x275")].flyToAnimate({thetaAngle:f,phiAngle:r},n,d,s)},time:u})}else console[_0x37ca("0xca")](_0x37ca("0xc37"))}},{key:"p2pFlyFocusTo",value:function(x,a){var c=1+50/(0,_[_0x37ca("0xe")])(x.x,x.y,x.z);this[_0x37ca("0xc40")]({x:x.x*c,y:x.y*c,z:x.z*c},x,a||3e3)}},{key:_0x37ca("0xa06"),value:function(x){var a=x[_0x37ca("0xc41")],c=x.radius,_=x[_0x37ca("0xa05")],e=void 0===_?45:_,t=x[_0x37ca("0xa07")],i=void 0===t?0:t,n=x[_0x37ca("0x1ba")],r=void 0===n?3:n,s=x[_0x37ca("0x1c7")];this.toggleControlsLock(!0),e=90-e>=0&&90-e<90?90-e:45;var o=c*Math[_0x37ca("0x613")](THREE.Math[_0x37ca("0x26d")](e)),l=c*Math[_0x37ca("0x648")](THREE.Math[_0x37ca("0x26d")](e)),u=new(THREE[_0x37ca("0x563")])(0,0),d=new THREE.Vector2(l,0)[_0x37ca("0xc42")](u,THREE[_0x37ca("0x249")][_0x37ca("0x26d")](i-90)),f=new(THREE[_0x37ca("0xe2")])(a.x+d.x,a.y+o,a.z+d.y);return this.cameraPosition({x:f.x,y:f.y,z:f.z},a,1e3*r,s),f}},{key:_0x37ca("0xc40"),value:function(x,a,c,_){var e=this[_0x37ca("0x275")].object,t=this;if(x){var n=x,r=a||{x:0,y:0,z:0},s=(0,i[_0x37ca("0xe")])({},e.position),o=t.controls[_0x37ca("0x276")][_0x37ca("0xde")]();new esmap.TWEEN.Tween(s).to(n,c).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Quadratic[_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){var a,c,_,e,i,n;a=t[_0x37ca("0x275")],c=x,_=a.object,e=c.x,i=c.y,n=c.z,void 0!==e&&(_[_0x37ca("0xb8")].x=e),void 0!==i&&(_[_0x37ca("0xb8")].y=i),void 0!==n&&(_[_0x37ca("0xb8")].z=n),a[_0x37ca("0x119")]()}))[_0x37ca("0x1c4")]((function(){t.toggleControlsLock(!1),_&&_(),t[_0x37ca("0x275")][_0x37ca("0xc43")]&&t[_0x37ca("0x275")].checkScaleLevel()}))[_0x37ca("0x1c6")](),new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(o).to(r,c).easing(esmap.TWEEN[_0x37ca("0x1c2")].Quadratic[_0x37ca("0x1c3")]).onUpdate((function(x){var a,c;a=t[_0x37ca("0x275")],c=x,a[_0x37ca("0x276")][_0x37ca("0x11d")](c.x,c.y,c.z),a[_0x37ca("0x119")]()}))[_0x37ca("0x1c6")]()}}},{key:"toggleControlsLock",value:function(x){this[_0x37ca("0xc33")]=x}}]),x}();a[_0x37ca("0xe")]=r},,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=h(c(12)),e=h(c(13)),t=h(c(0)),i=h(c(1)),n=h(c(136)),r=h(c(289)),s=h(c(290)),o=c(291),l=c(294),u=h(c(297)),d=c(298),f=h(c(24));function h(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var g={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},b=function(){function x(a){(0,t[_0x37ca("0xe")])(this,x),this[_0x37ca("0x39")]=a,this[_0x37ca("0x999")]=new(l[_0x37ca("0xc44")])(this),this[_0x37ca("0x157")]=new(o[_0x37ca("0xc45")])(this),this[_0x37ca("0x409")]=a[_0x37ca("0x36")],this[_0x37ca("0xac4")]=[];var c=new(r[_0x37ca("0xe")])(a);THREE.ESCache=c,this[_0x37ca("0x81e")]=c,this[_0x37ca("0x81e")].init(),this[_0x37ca("0xabf")]=!1,this._disableTileUpdate=!1,this[_0x37ca("0xc46")]={},this.ResourcePool=new(s[_0x37ca("0xe")])(this),this.modelLoadingList={},this[_0x37ca("0x29c")]={},this.modelLoadCount=0,this.modelInited=!1,this[_0x37ca("0xc23")]={},this[_0x37ca("0xc47")]={},this[_0x37ca("0xc48")]=!1,this[_0x37ca("0x221")]=new d.ModelLod(a),this[_0x37ca("0x18f")]={},this[_0x37ca("0xa5d")]=new(u[_0x37ca("0xe")])(this),this[_0x37ca("0x631")]={},a[_0x37ca("0x36")][_0x37ca("0x23e")]?this[_0x37ca("0xc48")]=!1:a.options[_0x37ca("0xc49")]==_0x37ca("0x536")&&(this.filterSingleMesh=!0)}var a;return(0,i[_0x37ca("0xe")])(x,[{key:_0x37ca("0x603"),value:function(x){return g[x]}},{key:_0x37ca("0x99b"),value:function(x,a){g[x]=a}},{key:_0x37ca("0xc4a"),value:function(x,a){var c,_=this,e=(this.map[_0x37ca("0x14c")],new(THREE[_0x37ca("0xe2")])(1,1.5,1));if(x.RMS){var t=x[_0x37ca("0x4b4")][_0x37ca("0x2b")](",");e=new THREE.Vector3(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x[_0x37ca("0x4b5")]){var i=Math.PI/180,n=x.RMR[_0x37ca("0x2b")](",");c=new THREE.Euler(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i)}var r=new(THREE[_0x37ca("0xe2")])(x.x,x.y,0),s=this[_0x37ca("0x39")][_0x37ca("0x254")]({x:x[_0x37ca("0x4b7")],y:x[_0x37ca("0x4b8")],z:0});if(x[_0x37ca("0x4b6")]){var o=x[_0x37ca("0x4b6")][_0x37ca("0x2b")](",");s.x+=parseFloat(o[0]),s.y+=parseFloat(o[1]),s.z+=parseFloat(o[2]),r.x-=parseFloat(o[0]),r.z+=parseFloat(o[1]),r.y+=parseFloat(o[2])}var l={id:x[_0x37ca("0x176")],name:x.NA,rotation:c,position:s,scale:e,rotate:x.rotate};_[_0x37ca("0xc47")][x.RM]||(_.singleMesheDatas[x.RM]={}),_[_0x37ca("0xc47")][x.RM][a]||(_[_0x37ca("0xc47")][x.RM][a]=[]),_[_0x37ca("0xc47")][x.RM][a][_0x37ca("0x0")](l)}},{key:_0x37ca("0x997"),value:(a=(0,e.default)(_.default[_0x37ca("0x297")]((function x(a){var c,e,t,i,n,r,s,o,l,u,d;return _.default[_0x37ca("0x298")]((function(x){for(;;)switch(x.prev=x[_0x37ca("0x29a")]){case 0:return c=a.id,e=f.default.getPath(_0x37ca("0x5b"),{buildingId:c}),t=e.url,i=e.skMode,x[_0x37ca("0x29a")]=4,this[_0x37ca("0x999")][_0x37ca("0xc4b")]({url:t,skMode:i,id:c});case 4:if(n=x[_0x37ca("0x5dc")]){x[_0x37ca("0x29a")]=7;break}return x.abrupt(_0x37ca("0x2a0"),!1);case 7:if(this[_0x37ca("0x999")][_0x37ca("0xc4c")](n)){x[_0x37ca("0x29a")]=10;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"),!1);case 10:if(!a[_0x37ca("0x70")]){x.next=13;break}return x[_0x37ca("0x29a")]=13,this.langLib.queryJsonData(c);case 13:return r=a[_0x37ca("0x6d")]||n[_0x37ca("0x448")]||"2001",x[_0x37ca("0x29a")]=16,this[_0x37ca("0x999")][_0x37ca("0xa26")](r);case 16:return s=x[_0x37ca("0x5dc")],this[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc4d"),{id:r,data:s}),this[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xc4e")]({id:r,data:s}),(o=new(esmap[_0x37ca("0x5d1")])(c,a,this.map))[_0x37ca("0x22a")]=n.Type,o[_0x37ca("0x1aa")]=n[_0x37ca("0x1aa")],o[_0x37ca("0x95")]=n.version,o[_0x37ca("0xe5")]={x:n.DefaultCenX,y:n[_0x37ca("0x43d")]},o[_0x37ca("0x6d")]=r,(l=this.buildingService[_0x37ca("0xc4f")](n,o)).DefaultCenX=-l[_0x37ca("0x43c")],l.x=-l.x,this[_0x37ca("0x39")][_0x37ca("0x14c")].buildingScene_[_0x37ca("0xe0")](o[_0x37ca("0xa5")]),o[_0x37ca("0xace")]=1,u=o[_0x37ca("0x62d")],1!=(d=o.options[_0x37ca("0xc50")])&&u[_0x37ca("0xda")](d)>-1&&(u[0]=u[_0x37ca("0x5")](d-1,1,u[0])[0]),o[_0x37ca("0x99a")]=JSON[_0x37ca("0x68")]("["+n[_0x37ca("0x441")]+"]"),o[_0x37ca("0xacf")]=esmap.ESMapSceneUtil[_0x37ca("0xc51")](n),o.visibleFloorNums="all"==o[_0x37ca("0x36")][_0x37ca("0xc52")]?u:o[_0x37ca("0x36")][_0x37ca("0xc52")],o[_0x37ca("0xc53")](0,u,(function(){})),x.abrupt(_0x37ca("0x2a0"),o);case 39:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return a.apply(this,arguments)})},{key:_0x37ca("0x2ae"),value:function(){g={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this[_0x37ca("0xabf")]=!1,this[_0x37ca("0x9b2")]=!1,this[_0x37ca("0xc46")]={},this[_0x37ca("0xbe7")]={},this[_0x37ca("0x29c")]={},this.modelLoadCount=0,this.modelInited=!1,this.modelLoadings={},this[_0x37ca("0xc47")]={},this[_0x37ca("0xc48")]=!1,this[_0x37ca("0x18f")]={},this[_0x37ca("0x631")]={},this.modelLoadedAll=!1}},{key:_0x37ca("0x38"),get:function(){return this[_0x37ca("0x39")].id}}]),x}();b[_0x37ca("0xc54")]=n.default,a[_0x37ca("0xe")]=b},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=r(c(8)),e=r(c(12)),t=r(c(13)),i=r(c(0)),n=r(c(1));function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(){function x(a){(0,i[_0x37ca("0xe")])(this,x),this[_0x37ca("0x39")]=a,this[_0x37ca("0x57b")]=!1}var a;return(0,n[_0x37ca("0xe")])(x,[{key:_0x37ca("0xea"),value:(a=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var a;return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x.prev=x[_0x37ca("0x29a")]){case 0:if(this.map[_0x37ca("0x36")][_0x37ca("0x209")]){x[_0x37ca("0x29a")]=2;break}return x.abrupt("return");case 2:return this.startTime=(new Date)[_0x37ca("0x78")](),this[_0x37ca("0xc55")]=2592e5,x[_0x37ca("0x29a")]=6,this[_0x37ca("0xc56")]({db:_0x37ca("0xc57"),version:4});case 6:if(a=x[_0x37ca("0x5dc")]){x[_0x37ca("0x29a")]=10;break}return console[_0x37ca("0xca")](_0x37ca("0xc58")),x.abrupt("return");case 10:this.db=a,this[_0x37ca("0x57b")]=!0;case 12:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return a[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0xc59"),value:function(x){var a=this.db[_0x37ca("0xc5a")](_0x37ca("0xc5b"),_0x37ca("0xc5c"))[_0x37ca("0xc5d")]("cacheObjects").put(x);a.onsuccess=function(){},a[_0x37ca("0x5b5")]=function(){console[_0x37ca("0xca")](_0x37ca("0xc5e"))}}},{key:_0x37ca("0xc5f"),value:function(x){var a=this.db,c=this.mapId+":"+x;return new(_[_0x37ca("0xe")])((function(x){var _=a[_0x37ca("0xc5a")](_0x37ca("0xc5b")).objectStore("cacheObjects")[_0x37ca("0x34a")](c);_[_0x37ca("0xc60")]=function(){x(_[_0x37ca("0xc61")])},_[_0x37ca("0x5b5")]=function(){x(null)}}))}},{key:_0x37ca("0xc62"),value:function(x){var a=x.url,c=x[_0x37ca("0xc63")],e=this[_0x37ca("0x38")]+":"+a,t=this.db;return new _.default((function(x){var a=t[_0x37ca("0xc5a")]("cacheObjects").objectStore("cacheObjects")[_0x37ca("0x34a")](e);a[_0x37ca("0xc60")]=function(){a.result&&1*a[_0x37ca("0xc61")][_0x37ca("0xc63")]==1*c?x(!0):x(!1)},a[_0x37ca("0x5b5")]=function(){x(!1)}}))}},{key:"clearAll",value:function(){if(window[_0x37ca("0xc64")]){var x=window[_0x37ca("0xc64")][_0x37ca("0xc65")]("ESCACHE");x[_0x37ca("0x5b5")]=function(){console[_0x37ca("0xca")](_0x37ca("0xc66"))},x.onsuccess=function(){};var a=window[_0x37ca("0xc64")][_0x37ca("0xc65")](_0x37ca("0xc67"));a.onerror=function(){_0x37ca("0xc68")},a[_0x37ca("0xc60")]=function(){}}}},{key:_0x37ca("0xc69"),value:function(x){var a=this.db,c=this[_0x37ca("0x38")]+":"+x.id,e=x.updatetime,t=this[_0x37ca("0xc6a")];new(_[_0x37ca("0xe")])((function(_){a.transaction(_0x37ca("0xc5b"),_0x37ca("0xc5c")).objectStore(_0x37ca("0xc5b"))[_0x37ca("0xc6b")]({id:c,data:x.data,updatetime:e,upserttime:t})[_0x37ca("0xc60")]=function(){_()}}))}},{key:_0x37ca("0xc6c"),value:function(x){var a=this.db;return new(_[_0x37ca("0xe")])((function(c){var _=a[_0x37ca("0xc5a")]("cacheMaps")[_0x37ca("0xc5d")]("cacheMaps")[_0x37ca("0x34a")](x);_[_0x37ca("0xc60")]=function(){var e=_[_0x37ca("0xc61")];if(e)c(e);else{var t={id:x,list:[]};a[_0x37ca("0xc5a")](_0x37ca("0xc6d"),_0x37ca("0xc5c"))[_0x37ca("0xc5d")]("cacheMaps").add(t)[_0x37ca("0xc60")]=function(x){},c(t)}}}))}},{key:"IDBTryInit",value:function(x){var a=this.startTime,c=this[_0x37ca("0xc55")];return new _.default((function(_){if(window[_0x37ca("0xc64")]){var e=window[_0x37ca("0xc64")].open(x.db,x[_0x37ca("0x95")]);e[_0x37ca("0xc6e")]=function(x){var a=x[_0x37ca("0x276")][_0x37ca("0xc61")],c=x.target[_0x37ca("0xc5a")];if(a[_0x37ca("0xc6f")].contains(_0x37ca("0xc5b")))c.objectStore(_0x37ca("0xc5b"))[_0x37ca("0x69d")]();else a[_0x37ca("0xc70")]("cacheObjects",{keyPath:"id"});a[_0x37ca("0xc6f")][_0x37ca("0x6fa")](_0x37ca("0xc6d"))&&a[_0x37ca("0xc71")](_0x37ca("0xc6d"))},e[_0x37ca("0xc60")]=function(){var x=e[_0x37ca("0xc61")];x[_0x37ca("0xc5a")](_0x37ca("0xc5b"),_0x37ca("0xc5c"))[_0x37ca("0xc5d")]("cacheObjects")[_0x37ca("0xc72")]()[_0x37ca("0xc60")]=function(e){var t=e[_0x37ca("0x276")][_0x37ca("0xc61")];if(t){var i=t[_0x37ca("0xf2")];a-i[_0x37ca("0xc73")]>c&&t[_0x37ca("0x296")](),t.continue()}else _(x)}},e[_0x37ca("0x5b5")]=function(x){var a=e[_0x37ca("0xc74")];console[_0x37ca("0xca")](_0x37ca("0xc75"),a,x),_(!1)}}else _(!1)}))}}]),x}();a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a){(0,_.default)(this,x),this[_0x37ca("0xc76")]={},this[_0x37ca("0xc77")]={},this[_0x37ca("0x163")]=a,this[_0x37ca("0xf7")]={},this[_0x37ca("0xc78")]={},this[_0x37ca("0xc79")]=[];var c=new THREE.TextureLoader;c[_0x37ca("0x74b")]=_0x37ca("0x741"),this.textureLoader=c,this[_0x37ca("0xc7a")]={}}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xc7b"),value:function(x,a,c){var _=this;_[_0x37ca("0xc79")][_0x37ca("0xda")](x)<0&&!_[_0x37ca("0xc7a")][x]&&(_[_0x37ca("0xc79")][_0x37ca("0x0")](x),_[a]||(_[a]={}),this[_0x37ca("0x822")][_0x37ca("0x140")](x,(function(x){x[_0x37ca("0x141")]=_[_0x37ca("0x163")][_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x693")].capabilities[_0x37ca("0xc7c")](),_[a][c]=x}),null,(function(){_[_0x37ca("0xc7a")][x]=!0,_[a][c]=null})))}},{key:_0x37ca("0xc7d"),value:function(x,a){var c=this;if(this[_0x37ca("0xc78")][x]){var _=this[_0x37ca("0xc78")][x],e=document[_0x37ca("0x22")](_0x37ca("0x413"));e[_0x37ca("0x414")]=_,e.onload=function(){a(e)}}else if(!c[_0x37ca("0xc7a")][x]){var t=new Image;t.crossOrigin="anonymous",t[_0x37ca("0x414")]=x,t[_0x37ca("0xba9")]=function(){var _=document[_0x37ca("0x22")](_0x37ca("0x6f9"));_[_0x37ca("0x398")]=t.width,_.height=t[_0x37ca("0x1a8")],_[_0x37ca("0x903")]("2d").drawImage(t,0,0,_[_0x37ca("0x398")],_[_0x37ca("0x1a8")]);var e=_[_0x37ca("0x9e0")](_0x37ca("0x9e1"));c.imgs[x]=e,t[_0x37ca("0xba9")]=null,a(t)},t[_0x37ca("0x5b5")]=function(){c[_0x37ca("0xc7a")][x]=!0}}}},{key:_0x37ca("0xc7e"),value:function(x){var a=this;return this[_0x37ca("0xf7")][x]?this.main[x][_0x37ca("0xde")]():a[_0x37ca("0xc7a")][x]?void 0:this[_0x37ca("0x822")][_0x37ca("0x140")](x,(function(c){c[_0x37ca("0x141")]=a[_0x37ca("0x163")][_0x37ca("0x8f7")][_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0xc7f")][_0x37ca("0xc7c")](),a[_0x37ca("0xf7")][x]=c.clone()}),null,(function(){a.main[x]=null,a[_0x37ca("0xc7a")][x]=!0}))}},{key:"loadTexture",value:function(x,a,c,_){var e=this;if(this[_0x37ca("0xf7")][x]){var t=this[_0x37ca("0xf7")][x][_0x37ca("0xde")]();return a&&setTimeout((function(){a(t)}),0),t}return e[_0x37ca("0xc7a")][x]?new(THREE[_0x37ca("0x416")]):this.textureLoader[_0x37ca("0x140")](x,(function(c){e.main[x]=c[_0x37ca("0xde")](),a&&a(c)}),c,(function(){e[_0x37ca("0xc7a")][x]=!0,_&&_()}))}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a.TileService=void 0;var _=v(c(16)),e=v(c(8)),t=v(c(0)),i=v(c(1)),n=c(57),r=c(34),s=c(56),o=c(19),l=v(c(68)),u=v(c(137)),d=c(99),f=v(c(24)),h=v(c(100)),g=c(96),b=c(69);function v(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}c(138);var p="WGS84",A={1:_0x37ca("0x645"),2:_0x37ca("0x1e7")},m=null,C=1,I=null,y=c(293),E=c(139),w=null,T=!1,k=[],S=1,M=function(){function x(a){(0,t[_0x37ca("0xe")])(this,x),this[_0x37ca("0xc80")]=a,this[_0x37ca("0x39")]=a.map,this[_0x37ca("0xa58")]=[],this[_0x37ca("0xc81")]=[],this[_0x37ca("0xc82")]=[],this[_0x37ca("0x169")]={},this.currentView=[],this[_0x37ca("0x158")]=[],this[_0x37ca("0xc83")]=null,this[_0x37ca("0xa32")]=[],this[_0x37ca("0x9c1")]={},this[_0x37ca("0xc84")]=null,this[_0x37ca("0xc85")]=[],this[_0x37ca("0xa56")]={},this[_0x37ca("0x18f")]={},this[_0x37ca("0xc86")]={1:12,2:16,3:18},this[_0x37ca("0xc87")]={buildings:0,models:0},this[_0x37ca("0x9f1")]=[],this.tileBaseFrozen=!1,this[_0x37ca("0xaaf")]=!1,this.tileGrids=null,this[_0x37ca("0xc88")]=null,this[_0x37ca("0xa36")]=[],this[_0x37ca("0xc89")]={},this[_0x37ca("0xc8a")]=!1,this[_0x37ca("0x5da")]={},this[_0x37ca("0xa55")]={},this.toLoadedBuildings=[],this[_0x37ca("0x9fa")]={},this[_0x37ca("0xc8b")]=[],this[_0x37ca("0xc8c")]="",this[_0x37ca("0xc8d")]=0,this[_0x37ca("0xc8e")]=0,this[_0x37ca("0x419")]=0,this[_0x37ca("0x1c9")]=r[_0x37ca("0x1c9")],this[_0x37ca("0xc8f")]=0,this[_0x37ca("0x981")]=null,this.buildingHighLighted=!1}return(0,i.default)(x,[{key:_0x37ca("0xea"),value:function(){this[_0x37ca("0xaea")]=(Math.floor(Math[_0x37ca("0xc4")](this[_0x37ca("0x36")][_0x37ca("0xac2")]))-1)/2}},{key:"getBuildingColorStaged",value:function(x){for(var a=0;a<this[_0x37ca("0x9f1")][_0x37ca("0x4")];a++){var c=this[_0x37ca("0x9f1")][a];if(x[c[_0x37ca("0x627")]]==c[_0x37ca("0xf2")])return c.data}return!1}},{key:_0x37ca("0x9c8"),value:function(){if(this.toLoadedBuildings[_0x37ca("0x4")]>0)for(var x=0;x<this[_0x37ca("0x9c9")][_0x37ca("0x4")];x++){var a=this[_0x37ca("0x9c9")][x];this[_0x37ca("0x9fa")][a]&&(this[_0x37ca("0x982")](this.targetAndBuildingList[a]),this[_0x37ca("0x9c9")][_0x37ca("0x5")](x,1))}}},{key:_0x37ca("0xa9c"),value:function(x,a){var c=Math.max(x[_0x37ca("0xae")],a.minx),_=Math[_0x37ca("0x30d")](x[_0x37ca("0xaf")],a.miny),e=Math[_0x37ca("0x30e")](x.maxx,a.maxx),t=Math[_0x37ca("0x30e")](x[_0x37ca("0xac")],a[_0x37ca("0xac")]),i=!(c>e||_>t);return i}},{key:_0x37ca("0xc90"),value:function(x){var a=(new(u[_0x37ca("0xe")][_0x37ca("0xc91")]))[_0x37ca("0x68")](x);return{points:a[_0x37ca("0x423")],holes:a[_0x37ca("0x424")]}}},{key:_0x37ca("0x9f4"),value:function(x){for(var a in this[_0x37ca("0x9f1")]){var c=this[_0x37ca("0x9f1")][a];if(c[_0x37ca("0xf2")]==x[_0x37ca("0xf2")]&&c[_0x37ca("0x627")]==x[_0x37ca("0x627")])return void(c.data=x[_0x37ca("0x34f")])}this[_0x37ca("0x9f1")][_0x37ca("0x0")](x)}},{key:_0x37ca("0xabb"),value:function(x){C=x}},{key:_0x37ca("0xc92"),value:function(){return C}},{key:_0x37ca("0xc93"),value:function(x){var a=[{x:x.maxx,y:x[_0x37ca("0xac")]},{x:x[_0x37ca("0xab")],y:x[_0x37ca("0xaf")]},{x:x[_0x37ca("0xae")],y:x[_0x37ca("0xaf")]},{x:x[_0x37ca("0xae")],y:x[_0x37ca("0xac")]},{x:x[_0x37ca("0xab")],y:x[_0x37ca("0xac")]}],c=new(esmap[_0x37ca("0x5c6")])({color:_0x37ca("0x28b"),alpha:.3,lineWidth:30,bid:0,height:20,pickable:!0,points:a});map.getBuildingById(0).getFloor(1)[_0x37ca("0x192")](_0x37ca("0xc94"),esmap[_0x37ca("0x16c")][_0x37ca("0xa2d")]).addMarker(c)}},{key:_0x37ca("0xc95"),value:function(){for(var x in this[_0x37ca("0x5da")]){var a=this[_0x37ca("0x5da")][x];if(a.polygon){var c=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:this[_0x37ca("0x39")][_0x37ca("0x180")],to:this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x2ef")],coords:a[_0x37ca("0x635")]}),_=new(esmap[_0x37ca("0x5c6")])({alpha:.5,color:"#"+Math[_0x37ca("0x2e")](16777215*Math[_0x37ca("0x2f")]())[_0x37ca("0x30")](16),lineWidth:1,height:200,points:c});map[_0x37ca("0xf0")](0)[_0x37ca("0x617")](1).getOrCreateLayerByName(_0x37ca("0xc94"),esmap[_0x37ca("0x16c")].POLYGON_MARKER).addMarker(_)}}}},{key:"debugTileBounds",value:function(){var x=!(arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0])||arguments[0],a=this[_0x37ca("0x39")],c={color:"#FF0000",lineWidth:120,alpha:1,offsetHeight:1,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap.ESLineType.DOTTED,noAnimate:!1};if(x)for(var _ in a[_0x37ca("0x9aa")]){var e=a[_0x37ca("0x9aa")][_],t=e.id[_0x37ca("0x2b")]("_"),i=(0,r[_0x37ca("0x1c9")])(1*t[0],1*t[1],a.options[_0x37ca("0x1ca")],!0),n=[{x:i[_0x37ca("0xae")],y:i[_0x37ca("0xaf")]},{x:i[_0x37ca("0xae")],y:i.maxy},{x:i[_0x37ca("0xab")],y:i[_0x37ca("0xac")]},{x:i[_0x37ca("0xab")],y:i.miny},{x:i[_0x37ca("0xae")],y:i[_0x37ca("0xaf")]}],s=a[_0x37ca("0x566")]({from:a[_0x37ca("0x180")],to:a[_0x37ca("0x36")].userCrs,coords:n}),o=new(esmap[_0x37ca("0xc97")])({id:e.id+"-BOUNDS",bid:0,points:s,style:c});a[_0x37ca("0x9ce")](o)}else for(var l in a.tileList){var u=a.tileList[l],d=u.id+_0x37ca("0xc96");a[_0x37ca("0x9cc")](d)}}},{key:"addToCache",value:function(x){if(64==this[_0x37ca("0xa32")][_0x37ca("0x4")]){var a=this[_0x37ca("0xa32")][_0x37ca("0x2")]();for(var c in this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x18d")][a.id]=[],this.targetAndBuildingList)this[_0x37ca("0x9fa")][c]&&this[_0x37ca("0x9fa")][c].bid==a.id&&(this[_0x37ca("0x9fa")][c]=null);a.meshHandler[_0x37ca("0xc98")][_0x37ca("0xc99")][_0x37ca("0x98e")][a.id]=!1,a=null}this[_0x37ca("0xa32")].push(x)}},{key:_0x37ca("0xc9a"),value:function(){this.currentShows=this[_0x37ca("0x158")][_0x37ca("0x15")](this[_0x37ca("0xaec")]),this[_0x37ca("0x9a9")]=this[_0x37ca("0x9a9")][_0x37ca("0x15")](this[_0x37ca("0xaec")]),this[_0x37ca("0x39")][_0x37ca("0x2e6")](),this[_0x37ca("0xaec")]=[]}},{key:"onlineAuth",value:function(){var x=this,a=this,c=a[_0x37ca("0x39")][_0x37ca("0x36")],_=a[_0x37ca("0x39")].id,t=c[_0x37ca("0x449")],i=(c.s,c[_0x37ca("0x79")]),n=(c.k,c[_0x37ca("0x43")]),r=3==c[_0x37ca("0x43")],l=f[_0x37ca("0xe")].getPath(_0x37ca("0xc9b")),u=parseInt((new Date).getTime()/1e3);return new(e[_0x37ca("0xe")])((function(c,e){esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:l,isArrayBuffer:!0})[_0x37ca("0x347")]((function(e){var l,g=!1,b=!1,v=new Uint8Array(e);r||(0,s.decodeByte)(_+""+n+u,v),a[_0x37ca("0xc84")]=v;try{l=E[_0x37ca("0x51d")][_0x37ca("0x7c")](v)}catch(x){return console[_0x37ca("0xca")](esmap[_0x37ca("0x29e")].INVALID_TYPE),void console.info(x)}if(3==l[_0x37ca("0x43")]||3!=n){w=l.token,a.service[_0x37ca("0x99b")](_0x37ca("0x99c"),l[_0x37ca("0x1aa")]),a[_0x37ca("0xc80")][_0x37ca("0x99b")](_0x37ca("0x99d"),l[_0x37ca("0x1aa")]),a[_0x37ca("0xc80")][_0x37ca("0x99b")]("l0",l.ul>>1&1||0),a[_0x37ca("0xc80")].setState("l1",l.l1||0),a[_0x37ca("0xc80")][_0x37ca("0x99b")]("l2",l.l2||0),a.service.setState("l3",l.l3||0),a[_0x37ca("0xc80")][_0x37ca("0x99b")]("l4",l.l4||0);var m=!1,C=l[_0x37ca("0x79")];I=l[_0x37ca("0x528")];var y=esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](C)===_0x37ca("0xc9d");if((new Date)[_0x37ca("0x78")]()-1e6*l[_0x37ca("0x51e")]>0)d[_0x37ca("0x317")][_0x37ca("0x318")]({code:2005,param:[_,3]});else if(esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](l[_0x37ca("0x43e")]+""+l.minY+l.maxX+l[_0x37ca("0x440")]+l.token+l[_0x37ca("0x449")]+ +l[_0x37ca("0x526")]+l[_0x37ca("0x527")]+_0x37ca("0xc9e")+l.o1+l.ul)===l.Hash){if(x._o1=l.o1,x._mo=l[_0x37ca("0x527")],x[_0x37ca("0x419")]=l.ul,a[_0x37ca("0x39")].options.s&&a[_0x37ca("0x39")].options.k&&(a[_0x37ca("0x39")][_0x37ca("0x1")](_0x37ca("0xabc"))||Object[_0x37ca("0x9")](a[_0x37ca("0x39")],_0x37ca("0xabc"),{value:!0,writable:!1,enumerable:!1,configurable:!0}),m=!0,x[_0x37ca("0xc8e")]=1e4,x[_0x37ca("0xc80")].setState("sk",!0)),a[_0x37ca("0x39")].zonTempObj[_0x37ca("0x40e")].userData[_0x37ca("0xed")]=!0,!m||!a.map[_0x37ca("0xabc")]){b=!0;var k=document[_0x37ca("0x82")],S=(0,s[_0x37ca("0x7c")])(l[_0x37ca("0x442")],_0x37ca("0xca0"),""),M=["TjEySDU2TS4xSDU1TQ==",_0x37ca("0xca1"),_0x37ca("0xca2"),"TjsySDY5SDUxTi4yTTk=",_0x37ca("0xca3")],R=esmap.ESMapUtil.encode64(k),L=M[_0x37ca("0xda")](R)>-1;g=L;var H=!S;if(!y&&!L){if(2!=x[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x43")]&&!H&&S[_0x37ca("0x4")]>1&&-1==S[_0x37ca("0xda")](k))return void d[_0x37ca("0x317")][_0x37ca("0x318")]({code:2002,param:[_,k,3]});var P=S[_0x37ca("0x2b")](","),D=!0;if(P[_0x37ca("0x1f")]((function(x){var a=l[_0x37ca("0x51e")],c=x;if(x[_0x37ca("0xcd")]("|")){var e=x.split("|");c=e[0],a=e[1]}if(c===k&&(new Date)[_0x37ca("0x78")]()-1e6*a>0)return d[_0x37ca("0x317")].throw({code:2010,param:[_,k,3]}),void(D=!1)})),!D)return}var O=[l.logotoken,l.token],B=[t,i];if(a[_0x37ca("0x39")].zonTempObj.sprite_[_0x37ca("0x11a")].visible=!0,O[0]&&B[0])esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](_0x37ca("0xaba")+l[_0x37ca("0x528")]+B[0])==O[0]&&(a[_0x37ca("0x39")].zonTempObj[_0x37ca("0x40e")][_0x37ca("0x11a")].visible=!1);if(!y){if(!B[1]&&1!=n)return d[_0x37ca("0x317")][_0x37ca("0x318")]({code:2003,param:[_,3]}),void console[_0x37ca("0x29d")](esmap.ESInfo[_0x37ca("0xca4")]);if(esmap[_0x37ca("0x7b")].encode64(l[_0x37ca("0x176")]+""+B[1])!=O[1]&&3==n)return d[_0x37ca("0x317")].throw({code:2004,param:[_,3]}),void console[_0x37ca("0xca")](esmap.ESInfo[_0x37ca("0xca5")])}}y&&(T=!0);var N=(0,s.decode)(l[_0x37ca("0x525")],_0x37ca("0xca6"),"")[_0x37ca("0x2b")](";");N[_0x37ca("0x4")]>1?a.tileurl=N:a.tileurl="",Object[_0x37ca("0x9")](a[_0x37ca("0x39")],_0x37ca("0xca7"),{value:N[1],writable:!1,enumerable:!1,configurable:!0});var F=esmap.ESMapUtil.encode64(l.bid+l.token);Object[_0x37ca("0x9")](a[_0x37ca("0x39")],"__mtn",{value:F,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(a,_0x37ca("0xca8"),{value:C,writable:!1,enumerable:!1,configurable:!0});var z=parseInt(l.v%10),j=A[z],X=_0x37ca("0xca9")+_+_0x37ca("0xcaa")+z;if(l[_0x37ca("0x51f")])X+=",updated on "+esmap[_0x37ca("0x7b")][_0x37ca("0x600")](1e3*l[_0x37ca("0x51f")]);console[_0x37ca("0x29d")](X,"color: #3399FF;"),a[_0x37ca("0x39")].coordSystem=j,null==a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x2ef")]&&(a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x2ef")]=p);var Y=a[_0x37ca("0x39")][_0x37ca("0x17e")]({from:p,to:j,coord:{x:l.x,y:l.y}});if(a[_0x37ca("0x39")][_0x37ca("0x154")].center={x:-Y.x,y:Y.y},a[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0xcab")]={x:l.x,y:l.y},a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xe5")]||(a[_0x37ca("0x39")][_0x37ca("0x36")].center={x:Y.x,y:Y.y}),a[_0x37ca("0x39")][_0x37ca("0x14c")].setScene({maxX:l.maxX,maxY:l[_0x37ca("0x440")],minX:l[_0x37ca("0x43e")],minY:l.minY,centerX:Y.x,centerY:Y.y},!1),a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xcac")]){var U=(0,o[_0x37ca("0x1e")])(8),G=new(esmap[_0x37ca("0x5d0")])({id:U,content:_0x37ca("0xcad")+U+_0x37ca("0xcae"),className:_0x37ca("0xcaf"),created:function(x){x[_0x37ca("0x24")][_0x37ca("0x8ec")]="#52564b",x.style.color=_0x37ca("0xcb0"),x[_0x37ca("0x24")].padding=_0x37ca("0xcb1"),x[_0x37ca("0x24")][_0x37ca("0xcb2")]=_0x37ca("0xcb3"),x[_0x37ca("0x24")][_0x37ca("0xcb4")]="12px",x[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x31f"),x[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),x[_0x37ca("0x8f3")][_0x37ca("0x8f3")][_0x37ca("0x24")][_0x37ca("0xb3a")]=_0x37ca("0x58d");var a=(0,h[_0x37ca("0xe")])(_0x37ca("0xcb5"));a[_0x37ca("0x329")](_0x37ca("0x325"),_0x37ca("0xcb6")),a[_0x37ca("0x24")]({width:0,height:0,fontSize:0,overflow:_0x37ca("0xcb7"),position:_0x37ca("0x6d9"),borderStyle:_0x37ca("0xcb8"),borderWidth:_0x37ca("0xcb9"),borderColor:_0x37ca("0x605")+esmap[_0x37ca("0x7b")][_0x37ca("0x2c3")]("#52564b")+",1"+_0x37ca("0xcba"),left:this.w_/2-25+"px",bottom:_0x37ca("0xcbb")}),x[_0x37ca("0x27")](a[_0x37ca("0x328")]),G[_0x37ca("0xa0e")].style.transition="all 0.2s ease",G[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0,G.popDiv_.style[_0x37ca("0xb3a")]=_0x37ca("0x58d"),G[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xcbc")]=_0x37ca("0x58d")},mapCoord:{x:a.map.options.center[0],y:a[_0x37ca("0x39")].options[_0x37ca("0xe5")][1],height:150}});G[_0x37ca("0xa0c")]=U,a[_0x37ca("0x39")][_0x37ca("0xa0a")]=G,a.map.on(_0x37ca("0xa59"),(function(){a[_0x37ca("0x158")][_0x37ca("0xda")](G.bid)<0&&0!=G.popDiv_[_0x37ca("0x24")][_0x37ca("0xfd")]&&(G[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0)})),a.map.on(_0x37ca("0xa99"),(function(x){var c=a.map[_0x37ca("0xa0a")];if(!a[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0xb45")]||!a.map.options.editMode||0==x.propogationIndex){var _=a[_0x37ca("0x39")][_0x37ca("0x36")].showTapTip;if(x[_0x37ca("0xc8")]!=esmap[_0x37ca("0xe8")][_0x37ca("0x622")]||x[_0x37ca("0x38")]||2==x.bType)if(x.nodeType!=esmap[_0x37ca("0xe8")].MODEL3D||x.mapId||2==x[_0x37ca("0x17d")]||x instanceof esmap[_0x37ca("0xcbd")])c[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0;else{var e=document[_0x37ca("0xa0b")](c.spanId);if(c[_0x37ca("0xa0e")].style[_0x37ca("0xfd")]=0,e.innerHTML="",x.name&&_){var t=x.hitCoord.z;x.o3d_&&x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x30b")]&&(t=x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x30b")].box3[_0x37ca("0x30d")].y-x[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x30b")][_0x37ca("0x30c")].min.y),c[_0x37ca("0x250")]({x:x[_0x37ca("0x3ba")].x,y:x[_0x37ca("0x3ba")].y,time:.01,callback:function(){c[_0x37ca("0xa0d")].position.y=1.1*t,e[_0x37ca("0x324")]=x.name,setTimeout((function(){c[_0x37ca("0xa0e")].style.opacity=1}),1)}})}else c[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0}else{var i=document[_0x37ca("0xa0b")](c[_0x37ca("0xa0c")]);if(i[_0x37ca("0x324")]="",c[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0,x[_0x37ca("0x1aa")]&&_){var n=a.map[_0x37ca("0x17e")]({from:a[_0x37ca("0x39")].DEFAULT_COORDSYSTEM,to:a.map.options[_0x37ca("0x2ef")],coord:x[_0x37ca("0x3ba")]});c.moveTo({x:n.x,y:n.y,time:.01,callback:function(){c[_0x37ca("0xa0d")][_0x37ca("0xb8")].y=1.1*x[_0x37ca("0x620")],i[_0x37ca("0x324")]=x.name,setTimeout((function(){c[_0x37ca("0xa0e")].style.opacity=1}),1)}}),c[_0x37ca("0xef")]=x[_0x37ca("0xef")]}else c[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0xfd")]=0}}}))}1!=n&&setTimeout((function(){var x=f[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0xcbe"));esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:x,isArrayBuffer:!0})}),18e5),null==a.map[_0x37ca("0x36")][_0x37ca("0x6d")]&&(a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x6d")]=l[_0x37ca("0x448")],a[_0x37ca("0x36")][_0x37ca("0x6d")]=l[_0x37ca("0x448")]),l[_0x37ca("0x52b")]&&a[_0x37ca("0xcbf")](l[_0x37ca("0x52b")]),a[_0x37ca("0x39")][_0x37ca("0xcc0")]=l[_0x37ca("0x4ee")];var Q=(0,s[_0x37ca("0x7c")])(l[_0x37ca("0x442")],_0x37ca("0xca0"),"").split(","),V=!0;Q.forEach((function(x){var a=x[_0x37ca("0x2b")]("|"),c=a[0],_=a[1];if(c===k&&_&&(new Date)[_0x37ca("0x78")]()-1e6*_>0)return void(V=!1)})),(!b||y||g||V)&&c(!0)}else _0x37ca("0xc9f")}else console[_0x37ca("0x3eb")](esmap[_0x37ca("0x29e")][_0x37ca("0xc9c")])}))[_0x37ca("0xca")]((function(x){d[_0x37ca("0x317")][_0x37ca("0x318")]({code:2006,param:[_,3]}),e(!1)}))}))}},{key:_0x37ca("0xa54"),value:function(x,a,c){if(!(this.failedNavs[x]||this[_0x37ca("0xc88")]&&this[_0x37ca("0xc88")][_0x37ca("0xda")](x)<0)){a[_0x37ca("0x137")]&&(a.offset[0],a[_0x37ca("0x137")][1]);var e=this,t=1!=e[_0x37ca("0x39")].options[_0x37ca("0x43")],i=f[_0x37ca("0xe")].getPath(_0x37ca("0x4b"),{tileId:c,typeId:2});esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:i,isArrayBuffer:!0})[_0x37ca("0x347")]((function(a){var c=new Uint8Array(a);t||(0,s[_0x37ca("0xd2")])(e[_0x37ca("0x39")].id+""+e[_0x37ca("0x36")][_0x37ca("0x43")],c);var i=null;try{i=y[_0x37ca("0xcc1")][_0x37ca("0xcc2")][_0x37ca("0x7c")](c)}catch(a){return e[_0x37ca("0xc89")][x]=!0,void console.info(esmap.ESInfo.INVALID_TYPE)}if(i){e[_0x37ca("0x18f")][x]=i,i[_0x37ca("0x4df")]&&(0,_.default)(i[_0x37ca("0x4df")])[_0x37ca("0x4")]>0&&(e[_0x37ca("0xcc3")](i),e[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xcc4"),{bid:x,data:i})),e[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xa57"),x);var n=e[_0x37ca("0x39")][_0x37ca("0x315")](x);e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]&&n&&n[_0x37ca("0x18e")]()}}))[_0x37ca("0xca")]((function(){e.failedNavs[x]=!0}))}}},{key:_0x37ca("0xa51"),value:function(x,a,c){var _=this;if(this.failedTiles[x])c();else if(1!=this[_0x37ca("0x36")].tid&&this.tileGrids&&this.tileGrids[_0x37ca("0xda")](x)<0)c();else{var e=x,t=1!=_[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x43")],i=f[_0x37ca("0xe")][_0x37ca("0x5d9")]("tile",{tileId:x,typeId:1});if(_[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xcc5"),e),T)if(!("X2BBXGk="===esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](w)))return;esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:i,isArrayBuffer:!0})[_0x37ca("0x347")]((function(e){var n=new Uint8Array(e);t||(0,s.decodeByte)(_[_0x37ca("0x39")].id+""+_[_0x37ca("0x36")][_0x37ca("0x43")],n);var r=null;try{r=y.ESTileMap.ESTileMapSet[_0x37ca("0x7c")](n)}catch(x){return console[_0x37ca("0x29d")](esmap.ESInfo[_0x37ca("0xcc6")],i),void c()}if(I==r[_0x37ca("0xcc7")]){var o=new l.default({id:x,map:_[_0x37ca("0x39")]});o[_0x37ca("0x169")]=r;var u=_.convertTileData(r,x);o[_0x37ca("0x159")]=u,a(r,o)}}))[_0x37ca("0xca")](c)}}},{key:_0x37ca("0x9a8"),value:function(x){var a=this,c=a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x6d")],_=f[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0xcc8"),{ext:x,themeID:c});return new(e[_0x37ca("0xe")])((function(e,t){esmap.Ajax[_0x37ca("0x34b")]({url:_}).success((function(x){if(x){a[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc4d"),{id:c,data:x}),a[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xcc9")](x);var _=E[_0x37ca("0x51d")][_0x37ca("0x7c")](a[_0x37ca("0xc84")]);(new Date)[_0x37ca("0x78")]()-1e6*_.mtime>0||e()}else t("主题文件请求错误")}))[_0x37ca("0xca")]((function(){x==_0x37ca("0xb2")?e(a[_0x37ca("0x9a8")](_0x37ca("0xcca"))):t(_0x37ca("0xccb"))}))}))}},{key:_0x37ca("0xab7"),value:function(){var x=this;if(0!=this.map[_0x37ca("0x93b")]){var a=this[_0x37ca("0x39")].options[_0x37ca("0x1ca")],c=this.map[_0x37ca("0x234")](this.map[_0x37ca("0x275")].target,!0),_=c.x,e=c.y,t=(0,r[_0x37ca("0x60f")])(_,e,a),i={x:_,y:e,indx:t.x,indy:t.y},n=this.getContainerExtent();if(n){var s=(0,r[_0x37ca("0x1c9")])(i.indx,i[_0x37ca("0xccc")],this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ca")],!1),o=s[_0x37ca("0xab")]-s[_0x37ca("0xae")],l=s[_0x37ca("0xac")]-s.miny;this.centerTile=i,this.tileSize=o;for(var u=i[_0x37ca("0xb73")],d=i[_0x37ca("0xccc")],f=_,h=e,g=[u],b=[d],v=this[_0x37ca("0xaea")],p=0;p<v;p++){if((f+=o)>n.maxx){g[_0x37ca("0x0")](u+p+1,u-(p+1));break}g[_0x37ca("0x0")](u+p+1,u-(p+1))}for(var A=0;A<v;A++){if((h+=l)>n[_0x37ca("0xac")]){b[_0x37ca("0x0")](d+A+1,d-(A+1));break}b[_0x37ca("0x0")](d+A+1,d-(A+1))}this[_0x37ca("0x158")]=[];var m=this,C=[];b[_0x37ca("0x1f")]((function(a){g[_0x37ca("0x1f")]((function(c){var _=c+"_"+a,e=(0,r[_0x37ca("0x1c9")])(c,a,x[_0x37ca("0x39")][_0x37ca("0x36")].worldScale,!1),t=m.intersects(n,e),i=x.map.mapView[_0x37ca("0x156")]>=18&&x[_0x37ca("0x39")][_0x37ca("0x2f6")]>=60,s=m.isValidTile(_),o=m._cdu();s&&o&&(t||i)&&(C[_0x37ca("0x0")](_),m[_0x37ca("0x158")].push(_))}))})),this[_0x37ca("0x9a9")]=C,0!=C[_0x37ca("0x4")]||this[_0x37ca("0x39")][_0x37ca("0xa5b")]||(this[_0x37ca("0x39")][_0x37ca("0xa5b")]=!0,esmap[_0x37ca("0x34")][_0x37ca("0x980")]=!1,this[_0x37ca("0x39")].fire(_0x37ca("0xa5a"),{bid:this[_0x37ca("0x39")][_0x37ca("0xef")]}))}}}},{key:"showBounds",value:function(x){var a=[{x:x[_0x37ca("0x43e")],y:x[_0x37ca("0x43f")]},{x:x.maxX,y:x[_0x37ca("0x43f")]},{x:x[_0x37ca("0x453")],y:x[_0x37ca("0x440")]},{x:x[_0x37ca("0x43e")],y:x[_0x37ca("0x440")]},{x:x[_0x37ca("0x43e")],y:x[_0x37ca("0x43f")]}],c=new(esmap[_0x37ca("0x5c6")])({alpha:.5,lineWidth:1,height:6,points:a});this[_0x37ca("0x39")][_0x37ca("0xf0")](0)[_0x37ca("0x617")](1).getOrCreateLayerByName(_0x37ca("0xc94"),esmap[_0x37ca("0x16c")][_0x37ca("0xa2d")])[_0x37ca("0x222")](c)}},{key:_0x37ca("0xaeb"),value:function(x){if(0!=this[_0x37ca("0x39")].updateTile){var a=this[_0x37ca("0x39")][_0x37ca("0x36")].worldScale,c=this[_0x37ca("0x39")].coordThreeToMap(this[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")]),_=this[_0x37ca("0xccd")]();if(_){var e=1,t=(0,r[_0x37ca("0x60f")])(c.x,c.y,a),i={x:c.x,y:c.y,indx:t.x,indy:t.y},n=(0,r[_0x37ca("0x1c9")])(i[_0x37ca("0xb73")],i[_0x37ca("0xccc")],this.map.options[_0x37ca("0x1ca")],!0),s=n.maxx-n[_0x37ca("0xae")];this[_0x37ca("0xc83")]=i;var o=[i[_0x37ca("0xb73")]+"_"+i[_0x37ca("0xccc")]],l=this[_0x37ca("0xcce")](8);this[_0x37ca("0x158")]=[i[_0x37ca("0xb73")]+"_"+i[_0x37ca("0xccc")]];for(var u=[],d=0;d<l[_0x37ca("0x4")];d++){var f=l[d][0]+i[_0x37ca("0xb73")],h=l[d][1]+i[_0x37ca("0xccc")],g=f+"_"+h,b=this[_0x37ca("0xccf")](g);if(!(e>=x)&&b){var v=(0,r[_0x37ca("0x1c9")])(f,h,this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ca")],!0);this[_0x37ca("0xa9c")](_,v)?(o[_0x37ca("0x0")](g),this[_0x37ca("0x158")][_0x37ca("0x0")](g)):u[_0x37ca("0x0")](g),e+=1}}this[_0x37ca("0xcd0")]=s,this[_0x37ca("0x9a9")]=o,this.secondViews=u}}}},{key:_0x37ca("0xcce"),value:function(x){for(var a=[],c=-x;c<x+1;c++)for(var _=-x;_<x+1;_++)0==c&&0==_||a[_0x37ca("0x0")]([c,_]);return a.sort((function(x,a){return Math[_0x37ca("0x24e")](x[0])+Math[_0x37ca("0x24e")](x[1])-(Math[_0x37ca("0x24e")](a[0])+Math[_0x37ca("0x24e")](a[1]))})),a}},{key:_0x37ca("0x9cb"),value:function(x,a){if(!m){var c=E.ESCityLicSet[_0x37ca("0x7c")](this.privites);if(E[_0x37ca("0x51d")][_0x37ca("0xab9")](),m=(0,s[_0x37ca("0x7c")])(c[_0x37ca("0x529")],"ESTileToken",""),{maxx:c[_0x37ca("0x453")],minx:c[_0x37ca("0x43e")],maxy:c[_0x37ca("0x440")],miny:c[_0x37ca("0x43f")]},this[_0x37ca("0x39")][_0x37ca("0xa52")]=c[_0x37ca("0x523")]||"0,0,0",this[_0x37ca("0x39")].__ro=c[_0x37ca("0x524")]||_0x37ca("0xcd1"),this[_0x37ca("0x39")][_0x37ca("0xca7")][_0x37ca("0xda")](this[_0x37ca("0x36")][_0x37ca("0xcd2")])<0)return void console[_0x37ca("0xca")]("invalid tileType")}var _={id:x,buildingType:esmap.ESBuildingType[_0x37ca("0xcd3")],isFirstLoading:a};this[_0x37ca("0x39")][_0x37ca("0x9cb")](_)}},{key:_0x37ca("0xcd4"),value:function(x,a){var c=this,_=x[_0x37ca("0x494")],e=this[_0x37ca("0x39")].options[_0x37ca("0xcd5")],t=this.map[_0x37ca("0x180")],i=(this[_0x37ca("0x5da")],0),n=0,r=this[_0x37ca("0xc80")][_0x37ca("0xc48")],s={1:[],2:[],3:[]},o={1:[],2:[],3:[]},l=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xcd6")];for(var u in _){var d,f=_[u],h=!1,g=!1,b=this[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xcd7")][f.RS],v=!1;999!=f.RS&&(this[_0x37ca("0x39")].mapScene[_0x37ca("0xcd8")][_0x37ca("0x5b")]+=1),b&&999!=f.RS?b&&2==b.filltype&&(h=2==b.topTextureType,g=2==b[_0x37ca("0xcd9")]):2==(b=this[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xcd7")][0])[_0x37ca("0xcda")]&&(h=2==b[_0x37ca("0xcdb")],g=2==b.sideTextureType),d=b.scaleheight;var A=this[_0x37ca("0xc90")](f[_0x37ca("0x492")]);if(l){var m=!0;if(A[_0x37ca("0xee")][0].length>=3){var C=A[_0x37ca("0xee")][0][_0x37ca("0x39")]((function(x){return{x:-x.x,y:x.y}}));m=esmap[_0x37ca("0x7b")][_0x37ca("0x5e9")](l,C)}else m=esmap[_0x37ca("0x7b")][_0x37ca("0xacb")]({x:f.CenX,y:f[_0x37ca("0x4b8")]},l);if(!m)continue}var I=this[_0x37ca("0x39")].transformCoordArray({from:p,to:t,coords:A[_0x37ca("0xee")][0],flipX:!0}),y=A[_0x37ca("0x554")];y[_0x37ca("0x4")]>0&&(y=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:p,to:t,coords:A[_0x37ca("0x554")][0],flipX:!0})),f[_0x37ca("0x5de")]&&this[_0x37ca("0x5da")][f[_0x37ca("0x5de")]]&&function(){var x={x:f.bidox||0,y:f[_0x37ca("0xcdc")]||0,z:f[_0x37ca("0xcdd")]||0};c[_0x37ca("0x5da")][f.bids].offset=x,c[_0x37ca("0x5da")][f[_0x37ca("0x5de")]][_0x37ca("0xcde")]||(c[_0x37ca("0x5da")][f[_0x37ca("0x5de")]][_0x37ca("0xcde")]=!0,c.bidList[f[_0x37ca("0x5de")]].x+=x.x,c.bidList[f.bids].y+=x.y);var a=[];I.forEach((function(x){a[_0x37ca("0x0")]({x:-x.x,y:x.y})})),c[_0x37ca("0x5da")][f[_0x37ca("0x5de")]][_0x37ca("0x635")]=a}();var E=this.map[_0x37ca("0x17e")]({from:p,to:t,coord:{x:f.CenX,y:f[_0x37ca("0x4b8")]}}),w=f.FH*d*e;f.RM&&(r&&f.RM[_0x37ca("0xda")](_0x37ca("0xbf7"))>=0?v=!0:i++);var T={fnums:f[_0x37ca("0xcdf")],RoomHigh:w,Typeid:f[_0x37ca("0x4ba")],classID:f.MC||0,gid:f.GID,CenX:E.x,RoomLogoSize:null==f.RLSize?"":f.RLSize,CenY:E.y,OCenX:f[_0x37ca("0x4b7")],OCenY:f[_0x37ca("0x4b8")],tileid:a,oid:f[_0x37ca("0x176")],FC:f[_0x37ca("0xce0")]||null,AS:f.AS,name:f.NA,nameEn:f.NE,scale:f[_0x37ca("0x4b4")],rotate:f[_0x37ca("0x4b5")],RModel:f.RM,bids:f[_0x37ca("0x5de")],offset:f[_0x37ca("0x4b6")],RoomStyle:f.RS||0,points:[I],originalPoints:A[_0x37ca("0xee")],holes:y,originalHoles:A[_0x37ca("0x554")],normalizeTop:h,normalizeSide:g,ShowLevel:(24==f.SL?10:f.SL)||10};this[_0x37ca("0xc80")][_0x37ca("0x631")][f[_0x37ca("0x176")]]=A[_0x37ca("0xee")],T[_0x37ca("0x173")]=f.BC>>1||1,T.bclick=1&f.BC||0;var k=null;k=f.SL<=12?1:f.SL<=16?2:3,T[_0x37ca("0xa8a")]?s[k].push(T):o[k][_0x37ca("0x0")](T),v?(this.options[_0x37ca("0xc49")]==_0x37ca("0x536")||this[_0x37ca("0x36")][_0x37ca("0x23e")]||console[_0x37ca("0x23b")](_0x37ca("0xce1")),this[_0x37ca("0xc80")][_0x37ca("0xc4a")](f,a)):T.RModel&&1==k&&n++}for(var S={},M=1;M<4;M++){var R={modellayers:[{models:s[M]}],modelbaselayer:[{modelbases:o[M]}],maxX:x[_0x37ca("0x453")],maxY:x[_0x37ca("0x440")],minX:x[_0x37ca("0x43e")],minY:x[_0x37ca("0x43f")],roomModelsCount:i,lod1ModelsCount:n};S[M]=R}return S}},{key:_0x37ca("0xccf"),value:function(x){var a=this[_0x37ca("0xae9")]&&this.tileGrids.indexOf(x)>-1,c=this[_0x37ca("0xc88")]&&this[_0x37ca("0xc88")].indexOf(x)>-1,_=0==this[_0x37ca("0xa36")][_0x37ca("0x4")]||this[_0x37ca("0xa36")].indexOf(x)>-1;return(a||c)&&_}},{key:"versionCheck",value:function(x){return!(x>esmap.maxV||x<esmap.minV)}},{key:"transformTileNavdata",value:function(x){var a=x[_0x37ca("0x4df")],c=this[_0x37ca("0x39")].coordSystem;for(var _ in a){var e=this[_0x37ca("0x39")][_0x37ca("0x17e")]({from:_0x37ca("0x1e7"),to:c,coord:{x:a[_].X,y:a[_].Y}});a[_].X=e.x,a[_].Y=e.y}}},{key:_0x37ca("0xce2"),value:function(x,a,c){var _=a.x,e=a.y,t=c.x,i=c.y,n=this[_0x37ca("0x39")].coordSystem,r=_-t,s=e-i;for(var o in x){var l=x[o][_0x37ca("0x4df")];for(var u in l){l[u].X=l[u].X+r,l[u].Y=l[u].Y+s;var d=this.map[_0x37ca("0x17e")]({from:_0x37ca("0x1e7"),to:n,coord:{x:l[u].X,y:l[u].Y}});l[u].X=d.x,l[u].Y=d.y}}}},{key:_0x37ca("0xccd"),value:function(){var x=this[_0x37ca("0x39")].mapView[_0x37ca("0x6f9")][_0x37ca("0x396")](),a=0;this[_0x37ca("0x39")][_0x37ca("0x2f6")]>=80?a=x[_0x37ca("0x1a8")]/2:this[_0x37ca("0x39")][_0x37ca("0x2f6")]>=70&&(a=x[_0x37ca("0x1a8")]/3);var c=this[_0x37ca("0x39")][_0x37ca("0xadb")](0,a,0),_=this[_0x37ca("0x39")].coordScreenToMap(x[_0x37ca("0x398")],a,0),e=this[_0x37ca("0x39")].coordScreenToMap(x[_0x37ca("0x398")],x.height,0),t=this.map.coordScreenToMap(0,x[_0x37ca("0x1a8")],0);return c&&_&&e&&t?{minx:Math.min(c.x,_.x,e.x,t.x),maxx:Math.max(c.x,_.x,e.x,t.x),miny:Math.min(c.y,_.y,e.y,t.y),maxy:Math[_0x37ca("0x30d")](c.y,_.y,e.y,t.y)}:null}},{key:_0x37ca("0xce3"),value:function(x){var a,c=this[_0x37ca("0x39")][_0x37ca("0x36")],_=x,e=c[_0x37ca("0x95")],t=c.s,i=c.tid,r=window[_0x37ca("0x76")][_0x37ca("0x77")],o=parseInt((new Date)[_0x37ca("0x78")]()/1e3);a=c.s&&c.k?c.k:esmap[_0x37ca("0x7b")][_0x37ca("0x8b")](c[_0x37ca("0x79")]+_0x37ca("0x7a")+o);var l=esmap.ESMapUtil[_0x37ca("0x8b")](i+"&"+_+"&"+t+"&"+a+"&"+o+"&"+r+"&"+e);querySign=l;var u=n[_0x37ca("0x47")][_0x37ca("0x7c")]((0,s.getSubDirByS)(t)),d=void 0;if(3==i)d=c.serverUrl+"/"+_+_0x37ca("0xce4");else{var f=(0,s[_0x37ca("0x45")])(t);d=(3==t?f:n.Base64.decode(f))+"/"+u+_0x37ca("0xce5")+_+_0x37ca("0x85")+c.s+_0x37ca("0x7e")+a+_0x37ca("0x67")+o+_0x37ca("0x7f")+encodeURIComponent(r)+_0x37ca("0x86")+l+_0x37ca("0x80")+e+_0x37ca("0x81")+i}return d}},{key:_0x37ca("0xce6"),value:function(x){var a=this[_0x37ca("0x39")][_0x37ca("0x36")].mapDataSrc+this[_0x37ca("0x39")].id+_0x37ca("0x8e")+this[_0x37ca("0x36")][_0x37ca("0x6d")]+"/"+this[_0x37ca("0x36")][_0x37ca("0x6d")]+"."+x;return this.options[_0x37ca("0x63")]&&(a+="?t="+Date[_0x37ca("0x68")](new Date)),a}},{key:"setBidList",value:function(x){for(var a=x[_0x37ca("0x2b")]("|"),c=0;c<a[_0x37ca("0x4")];c++){var _=a[c][_0x37ca("0x2b")](",");this[_0x37ca("0x5da")][_[1]]||(this[_0x37ca("0x5da")][_[1]]={bid:_[1],x:1*_[2],y:1*_[3],id:1*_[0],_raws:{x:1*_[2],y:1*_[3]}})}}},{key:"tryFetchBoundary",value:function(){var x=this,a=x.map[_0x37ca("0x36")],c=void 0;a.s;return c=1==a[_0x37ca("0x43")]?a[_0x37ca("0x44")]+"/"+this[_0x37ca("0x39")].id+_0x37ca("0xce7"):a.serverUrl+"/boundary.json",new(e[_0x37ca("0xe")])((function(_,e){esmap[_0x37ca("0x585")].getJSON({url:c})[_0x37ca("0x347")]((function(c){if(a[_0x37ca("0xcd6")]){for(var e=esmap[_0x37ca("0x7b")].getTileNumsByPolygon(a[_0x37ca("0xcd6")]),t=[],i=[],n=0;n<c[_0x37ca("0xce8")][_0x37ca("0x4")];n++)e[_0x37ca("0xda")](c.grids1[n])>-1&&t.push(c[_0x37ca("0xce8")][n]),e.indexOf(c[_0x37ca("0xce9")][n])>-1&&i[_0x37ca("0x0")](c.grids2[n]);x[_0x37ca("0xae9")]=t,x[_0x37ca("0xc88")]=i}else x[_0x37ca("0xae9")]=c[_0x37ca("0xce8")],x[_0x37ca("0xc88")]=c[_0x37ca("0xce9")];for(var r=c.areas,s=[],o=0;o<r[_0x37ca("0x4")];o++){var l=r[o],d=l[_0x37ca("0xcea")],f=l.outline,h=(new(u[_0x37ca("0xe")][_0x37ca("0xc91")]))[_0x37ca("0x425")](f);s[_0x37ca("0x0")]({citycode:d,outline:h[_0x37ca("0x423")]})}x[_0x37ca("0xc85")]=s,_()}))[_0x37ca("0xca")]((function(){e(!1)}))}))}},{key:_0x37ca("0x2de"),value:function(){esmap.ESTileMap&&esmap.ESTileMap[_0x37ca("0xceb")]&&(esmap[_0x37ca("0xcc1")][_0x37ca("0xceb")].tileLayer.frozen=!0,this.tileBaseFrozen=!0)}},{key:_0x37ca("0x2cf"),value:function(){esmap[_0x37ca("0xcc1")]&&esmap[_0x37ca("0xcc1")][_0x37ca("0xceb")]&&(esmap[_0x37ca("0xcc1")][_0x37ca("0xceb")][_0x37ca("0xcec")][_0x37ca("0xced")]=!1,this[_0x37ca("0xcee")]=!1)}},{key:_0x37ca("0x982"),value:function(x){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=this,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=arguments[_0x37ca("0x4")]>3&&void 0!==arguments[3]&&arguments[3],t=this.map,i=this;if(!t[_0x37ca("0xf0")](x.mapId)){if(!this[_0x37ca("0x5da")][x.mapId])return _0x37ca("0xcef"),x[_0x37ca("0x38")],void _0x37ca("0xcf0");if(t[_0x37ca("0x628")][_0x37ca("0x4")]>=t[_0x37ca("0x36")][_0x37ca("0x213")]){var n=t[_0x37ca("0x628")][0];t[_0x37ca("0xa65")](n.id)}var r=(0,g[_0x37ca("0x1e0")])({loadModel3D:!0,visibleFloors:1==t[_0x37ca("0x36")][_0x37ca("0xcf1")]?[1]:"all",focusFloor:1==t[_0x37ca("0x36")][_0x37ca("0xcf1")]?1:_0x37ca("0x173"),focusMode:t[_0x37ca("0x36")].buildingFoucsMode,focusAnimateMode:1==t[_0x37ca("0x36")].buildingFoucsMode,hideFloorBase:e,dataCenter:{x:this[_0x37ca("0x5da")][x[_0x37ca("0x38")]].x,y:this[_0x37ca("0x5da")][x.mapId].y},token:a||t[_0x37ca("0x36")][_0x37ca("0x79")]}),s=this[_0x37ca("0x5da")][x.mapId][_0x37ca("0x137")]||{x:0,y:0,z:0},o={shell:_?null:x,tile:x[_0x37ca("0xef")],id:x[_0x37ca("0x38")],angle:10,options:r},l=o.id,u=o[_0x37ca("0x36")],d=o[_0x37ca("0x9c2")]||null;o[_0x37ca("0xcf2")];if(!(this[_0x37ca("0xc8f")]>0)){if(t.fire(_0x37ca("0x9b6")),esmap.ESMapPoi[_0x37ca("0xcf3")]={},this[_0x37ca("0xc80")].buildings[_0x37ca("0x0")]({x:u[_0x37ca("0xcf4")].x,y:u[_0x37ca("0xcf4")].y,bid:l,changed:[]}),d)if(6==d.nodeType)if(d[_0x37ca("0xa5")])if(d.o3d_[_0x37ca("0xa4")].brothers&&d[_0x37ca("0xa5")][_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x4")]>1){var f=i[_0x37ca("0x39")][_0x37ca("0xf0")](t.id),h=f[_0x37ca("0x14f")][_0x37ca("0x629")];d.o3d_[_0x37ca("0xa6")][_0x37ca("0x1f")]((function(x){h[_0x37ca("0x401")](x,d.ID,!1)})),d[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0xcf5")]||(d[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0xcf5")]={}),d[_0x37ca("0xa5")][_0x37ca("0x11a")].shellMap[l]||(d[_0x37ca("0xa5")].userData[_0x37ca("0xcf5")][l]=d.ID)}else esmap[_0x37ca("0x7b")].setAlpha({clonemat:!0,target:d.o3d_,alpha:.1,hideOnComplete:!0,time:1.5});else d[_0x37ca("0xed")]=!1;else if(5==d[_0x37ca("0xc8")]){for(var b=d[_0x37ca("0xa5")][_0x37ca("0xa7")].attributes[_0x37ca("0x9ed")].array,v=d[_0x37ca("0xbc")][0],p=d[_0x37ca("0xbc")][1],A=v;A<p;A+=1)b[A]=1;d[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0xb7")].isHideFlags.needsUpdate=!0}if(this[_0x37ca("0x9c1")][l]){var m=this[_0x37ca("0x9c1")][l];return t[_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0xe0")](m),t[_0x37ca("0x36")][_0x37ca("0x9c4")]&&(this.buildingHighLighted?m[_0x37ca("0xa4")][_0x37ca("0x9c5")](!0):m[_0x37ca("0xa4")][_0x37ca("0x9c5")]()),t[_0x37ca("0x628")][_0x37ca("0x0")](m.datas_),m[_0x37ca("0xed")]=!0,t[_0x37ca("0x1da")](_0x37ca("0x9b7"),m[_0x37ca("0xa4")]),void m[_0x37ca("0xa4")][_0x37ca("0x242")](_0x37ca("0x9ad"),{bid:m[_0x37ca("0xa4")].id})}var C=t.sl();if(9568297==C)return u.id=l,this[_0x37ca("0xc80")][_0x37ca("0x997")](u)[_0x37ca("0x792")]((function(x){var a=x.sourceData;if(x[_0x37ca("0x616")]=esmap[_0x37ca("0xac1")][_0x37ca("0xcf6")],x[_0x37ca("0xa68")]=o.shellId,x[_0x37ca("0x9c2")]=o[_0x37ca("0x9c2")],x.center={x:u[_0x37ca("0xcf4")].x,y:u[_0x37ca("0xcf4")].y},c[_0x37ca("0xce2")](a.navs,x[_0x37ca("0xe5")],{x:-a[_0x37ca("0x43c")],y:a.DefaultCenY}),c[_0x37ca("0xc80")][_0x37ca("0x999")][_0x37ca("0x18f")][l]=a[_0x37ca("0x42e")],c.map[_0x37ca("0x1da")](_0x37ca("0x998"),{bid:l,data:a.navs}),t[_0x37ca("0x36")].tileMode&&x[_0x37ca("0xa5")][_0x37ca("0xb8")].set(0,0,0),x.udoffset=0,x[_0x37ca("0x36")][_0x37ca("0x137")]?(x[_0x37ca("0x36")][_0x37ca("0x137")][2]&&(s+=x[_0x37ca("0x36")][_0x37ca("0x137")][2]),x[_0x37ca("0xcf7")]=s):x[_0x37ca("0xcf7")]=s,x[_0x37ca("0x36")][_0x37ca("0xcf8")]){var _=x[_0x37ca("0xcf9")][1*x[_0x37ca("0x36")][_0x37ca("0xcf8")]-1].Height;x[_0x37ca("0xa5")][_0x37ca("0xb8")].y-=_,x[_0x37ca("0xcfa")]=_}x[_0x37ca("0xcfb")]=x[_0x37ca("0xa5")][_0x37ca("0xb8")].y+1;var e=a.maptime<32503514?a[_0x37ca("0x42f")]:a[_0x37ca("0x42f")]/1e3;if(!((new Date)[_0x37ca("0x78")]()>1e6*e))return t[_0x37ca("0x99f")]=x,t[_0x37ca("0x99a")]=x[_0x37ca("0x99a")],t[_0x37ca("0x1da")](_0x37ca("0xcfc"),x),x}))[_0x37ca("0x828")]((function(x){i[_0x37ca("0xa58")][_0x37ca("0x5")](i[_0x37ca("0xa58")][_0x37ca("0xda")](l),1),i.loadedList[_0x37ca("0x0")](l),esmap[_0x37ca("0x34")].IsMapLoading=!1}))}}}},{key:_0x37ca("0xcfd"),value:function(x){var a=this,c=[],_=x[_0x37ca("0x1c8")],e=x[_0x37ca("0x1c4")],t=x[_0x37ca("0x1ba")],i=void 0===t?1:t,n=x.scaleZ,r=void 0===n?.25:n;if(!1!==r){var s=(0,b[_0x37ca("0x1b1")])({coord:_}),o=[esmap.ESLayerType[_0x37ca("0x170")],esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]];s[_0x37ca("0x1f")]((function(x){var _=a[_0x37ca("0x39")][_0x37ca("0x315")](x);_&&_[_0x37ca("0x14e")][_0x37ca("0x9e9")].forEach((function(x){o[_0x37ca("0xcd")](x[_0x37ca("0x608")])||c[_0x37ca("0x0")](x)}))})),k=c,S=r,new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])({value:1}).to({value:r},1e3*i)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].Out)[_0x37ca("0x12f")]((function(x){c.forEach((function(a){a[_0x37ca("0xa5")][_0x37ca("0x22e")].y=x[_0x37ca("0xf2")]}))}))[_0x37ca("0x1c4")]((function(){a[_0x37ca("0xc80")].setState(_0x37ca("0xcfe"),!0),e&&e()})).start()}else new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])({value:S}).to({value:1},1e3*i)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].Out)[_0x37ca("0x12f")]((function(x){k.forEach((function(a){a[_0x37ca("0xa5")][_0x37ca("0x22e")].y=x[_0x37ca("0xf2")]}))}))[_0x37ca("0x1c4")]((function(){k=[],a.service[_0x37ca("0x99b")](_0x37ca("0xcfe"),!1),e&&e()}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0xcff"),value:function(x){this[_0x37ca("0x39")][_0x37ca("0x163")]._disableTileUpdate=!x,esmap[_0x37ca("0xcc1")]&&esmap[_0x37ca("0xcc1")][_0x37ca("0x9b3")][_0x37ca("0x9b4")](x),this[_0x37ca("0x39")][_0x37ca("0x14c")].tileScene_[_0x37ca("0xed")]=x}},{key:"reset",value:function(){m=null,C=1,I=null,w=null,T=!1,k=[],S=1,this[_0x37ca("0xa58")]=[],this[_0x37ca("0xc81")]=[],this[_0x37ca("0xc82")]=[],this[_0x37ca("0x169")]={},this[_0x37ca("0x9a9")]=[],this[_0x37ca("0x158")]=[],this[_0x37ca("0xc83")]=null,this[_0x37ca("0xa32")]=[],this[_0x37ca("0x9c1")]={},this[_0x37ca("0xc84")]=null,this[_0x37ca("0xc85")]=[],this[_0x37ca("0xa56")]={},this[_0x37ca("0x18f")]={},this.LOD={1:12,2:16,3:18},this[_0x37ca("0xc87")]={buildings:0,models:0},this[_0x37ca("0x9f1")]=[],this[_0x37ca("0xcee")]=!1,this[_0x37ca("0xaaf")]=!1,this[_0x37ca("0xae9")]=null,this[_0x37ca("0xc88")]=null,this[_0x37ca("0xa36")]=[],this[_0x37ca("0xc89")]={},this[_0x37ca("0xc8a")]=!1,this[_0x37ca("0x5da")]={},this[_0x37ca("0xa55")]={},this.toLoadedBuildings=[],this[_0x37ca("0x9fa")]={},this[_0x37ca("0xc8b")]=[],this[_0x37ca("0xc8c")]="",this[_0x37ca("0xc8d")]=0,this[_0x37ca("0xc8e")]=0,this[_0x37ca("0x419")]=0,this[_0x37ca("0xc8f")]=0,this[_0x37ca("0x981")]=null,this.buildingHighLighted=!1}},{key:_0x37ca("0x36"),get:function(){return this[_0x37ca("0x39")][_0x37ca("0x36")]}}]),x}();a[_0x37ca("0xc45")]=M},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _={1e3:"您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器",2e3:_0x37ca("0xd00"),2001:_0x37ca("0xd01"),2002:_0x37ca("0xd02"),2003:"请提供三维场景:${1}的token #${2}",2004:"三维场景 ${1} token验证错误 #${2}",2005:_0x37ca("0xd03"),2006:_0x37ca("0xd04"),2007:_0x37ca("0xd05"),2008:"三维场景 ${1} 解析失败，请检查三维场景资源请求响应结果! 路径: ${2}, #${3}",2009:"三维场景 ${1} 楼层数据为空，请检查三维场景数据是否有误! #${2}",2010:_0x37ca("0xd06")};a[_0x37ca("0x31c")]=_},function(x,a,c){"use strict";var _=t(c(10)),e=t(c(16));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i,n=c(65),r=n.Reader,s=n.Writer,o=n[_0x37ca("0x48c")],l=n[_0x37ca("0x42d")].default||(n[_0x37ca("0x42d")][_0x37ca("0xe")]={});l.ESTileMap=((i={})[_0x37ca("0xd07")]=function(){function x(x){if(this[_0x37ca("0x494")]={},this[_0x37ca("0x16a")]={},x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x.prototype.v=0,x.prototype[_0x37ca("0x51e")]=0,x[_0x37ca("0x11")].Hash="",x.prototype[_0x37ca("0xcc7")]="",x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x.prototype[_0x37ca("0x44f")]=0,x[_0x37ca("0x11")].x=0,x.prototype.y=0,x[_0x37ca("0x11")].z=0,x.prototype.minX=0,x[_0x37ca("0x11")][_0x37ca("0x43f")]=0,x[_0x37ca("0x11")][_0x37ca("0x453")]=0,x[_0x37ca("0x11")].maxY=0,x[_0x37ca("0x11")].token="",x.prototype[_0x37ca("0x494")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x16a")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x[_0x37ca("0x11")].o1=0,x[_0x37ca("0x11")][_0x37ca("0x44b")]="",x.prototype.o2=0,x[_0x37ca("0x11")].t1="",x[_0x37ca("0xd")]=function(a){return new x(a)},x.encode=function(x,a){if(a||(a=s.create()),null!=x.v&&x.hasOwnProperty("v")&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x.v),null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")](_0x37ca("0x51e"))&&a.uint32(16)[_0x37ca("0x44e")](x[_0x37ca("0x51e")]),null!=x.Hash&&x.hasOwnProperty(_0x37ca("0x430"))&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x[_0x37ca("0x430")]),null!=x.cname&&x[_0x37ca("0x1")](_0x37ca("0xcc7"))&&a.uint32(34)[_0x37ca("0xf")](x[_0x37ca("0xcc7")]),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](40).int32(x._id),null!=x[_0x37ca("0x44f")]&&x.hasOwnProperty("Type")&&a[_0x37ca("0x44d")](48).int32(x[_0x37ca("0x44f")]),null!=x.x&&x[_0x37ca("0x1")]("x")&&a[_0x37ca("0x44d")](57)[_0x37ca("0x451")](x.x),null!=x.y&&x[_0x37ca("0x1")]("y")&&a[_0x37ca("0x44d")](65)[_0x37ca("0x451")](x.y),null!=x.z&&x[_0x37ca("0x1")]("z")&&a[_0x37ca("0x44d")](73)[_0x37ca("0x451")](x.z),null!=x[_0x37ca("0x43e")]&&x[_0x37ca("0x1")]("minX")&&a.uint32(81)[_0x37ca("0x451")](x[_0x37ca("0x43e")]),null!=x[_0x37ca("0x43f")]&&x.hasOwnProperty("minY")&&a[_0x37ca("0x44d")](89)[_0x37ca("0x451")](x[_0x37ca("0x43f")]),null!=x.maxX&&x.hasOwnProperty(_0x37ca("0x453"))&&a[_0x37ca("0x44d")](97)[_0x37ca("0x451")](x[_0x37ca("0x453")]),null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")]("maxY")&&a.uint32(105).double(x[_0x37ca("0x440")]),null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&a[_0x37ca("0x44d")](114)[_0x37ca("0xf")](x[_0x37ca("0x79")]),null!=x.Rooms&&x.hasOwnProperty("Rooms"))for(var c=(0,e[_0x37ca("0xe")])(x.Rooms),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](122).fork()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l.ESTileMap[_0x37ca("0x499")][_0x37ca("0x44c")](x[_0x37ca("0x494")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]()).ldelim()[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x16a")]&&x[_0x37ca("0x1")](_0x37ca("0x16a")))for(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")]),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](130)[_0x37ca("0x455")]().uint32(8).int32(c[_]),l.ESTileMap[_0x37ca("0x49a")][_0x37ca("0x44c")](x.Labels[c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]())[_0x37ca("0x457")]()[_0x37ca("0x457")]();return null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](138)[_0x37ca("0xf")](x[_0x37ca("0x44a")]),null!=x.o1&&x.hasOwnProperty("o1")&&a.uint32(144)[_0x37ca("0x44e")](x.o1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&a.uint32(154)[_0x37ca("0xf")](x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&a.uint32(160)[_0x37ca("0x44e")](x.o2),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&a[_0x37ca("0x44d")](170)[_0x37ca("0xf")](x.t1),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c,_=void 0===a?x.len:x[_0x37ca("0x3e8")]+a,e=new(l[_0x37ca("0xcc1")][_0x37ca("0xd07")]);x.pos<_;){var t=x[_0x37ca("0x44d")]();switch(t>>>3){case 1:e.v=x[_0x37ca("0x44e")]();break;case 2:e[_0x37ca("0x51e")]=x[_0x37ca("0x44e")]();break;case 3:e[_0x37ca("0x430")]=x[_0x37ca("0xf")]();break;case 4:e[_0x37ca("0xcc7")]=x[_0x37ca("0xf")]();break;case 5:e._id=x[_0x37ca("0x44e")]();break;case 6:e.Type=x[_0x37ca("0x44e")]();break;case 7:e.x=x[_0x37ca("0x451")]();break;case 8:e.y=x.double();break;case 9:e.z=x.double();break;case 10:e[_0x37ca("0x43e")]=x.double();break;case 11:e[_0x37ca("0x43f")]=x.double();break;case 12:e[_0x37ca("0x453")]=x[_0x37ca("0x451")]();break;case 13:e[_0x37ca("0x440")]=x[_0x37ca("0x451")]();break;case 14:e[_0x37ca("0x79")]=x[_0x37ca("0xf")]();break;case 15:x.skip()[_0x37ca("0x3e8")]++,e[_0x37ca("0x494")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x494")]={}),c=x.int32(),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x494")][c]=l[_0x37ca("0xcc1")][_0x37ca("0x499")].decode(x,x.uint32());break;case 16:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e.Labels===o[_0x37ca("0x495")]&&(e[_0x37ca("0x16a")]={}),c=x[_0x37ca("0x44e")](),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x16a")][c]=l[_0x37ca("0xcc1")][_0x37ca("0x49a")].decode(x,x[_0x37ca("0x44d")]());break;case 17:e[_0x37ca("0x44a")]=x[_0x37ca("0xf")]();break;case 18:e.o1=x[_0x37ca("0x44e")]();break;case 19:e[_0x37ca("0x44b")]=x[_0x37ca("0xf")]();break;case 20:e.o2=x[_0x37ca("0x44e")]();break;case 21:e.t1=x[_0x37ca("0xf")]();break;default:x.skipType(7&t)}}return e},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){if("object"!==(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))||null===x)return _0x37ca("0x45d");if(null!=x.v&&x[_0x37ca("0x1")]("v")&&!o[_0x37ca("0x45e")](x.v))return _0x37ca("0xd08");if(null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")](_0x37ca("0x51e"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x51e")]))return _0x37ca("0x52f");if(null!=x[_0x37ca("0x430")]&&x[_0x37ca("0x1")]("Hash")&&!o.isString(x[_0x37ca("0x430")]))return"Hash: string expected";if(null!=x[_0x37ca("0xcc7")]&&x[_0x37ca("0x1")](_0x37ca("0xcc7"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0xcc7")]))return _0x37ca("0xd09");if(null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")]))return _0x37ca("0x49e");if(null!=x[_0x37ca("0x44f")]&&x[_0x37ca("0x1")]("Type")&&!o[_0x37ca("0x45e")](x.Type))return _0x37ca("0x45f");if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x37ca("0x143"))return _0x37ca("0x46b");if(null!=x.y&&x[_0x37ca("0x1")]("y")&&typeof x.y!==_0x37ca("0x143"))return _0x37ca("0x46c");if(null!=x.z&&x[_0x37ca("0x1")]("z")&&typeof x.z!==_0x37ca("0x143"))return"z: number expected";if(null!=x[_0x37ca("0x43e")]&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&typeof x[_0x37ca("0x43e")]!==_0x37ca("0x143"))return _0x37ca("0xd0a");if(null!=x[_0x37ca("0x43f")]&&x.hasOwnProperty(_0x37ca("0x43f"))&&"number"!=typeof x.minY)return _0x37ca("0x46e");if(null!=x[_0x37ca("0x453")]&&x[_0x37ca("0x1")](_0x37ca("0x453"))&&typeof x[_0x37ca("0x453")]!==_0x37ca("0x143"))return _0x37ca("0x46f");if(null!=x[_0x37ca("0x440")]&&x[_0x37ca("0x1")](_0x37ca("0x440"))&&typeof x.maxY!==_0x37ca("0x143"))return _0x37ca("0x470");if(null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x79")]))return _0x37ca("0x47b");if(null!=x[_0x37ca("0x494")]&&x.hasOwnProperty(_0x37ca("0x494"))){if(!o.isObject(x[_0x37ca("0x494")]))return"Rooms: object expected";for(var a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x494")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return _0x37ca("0xd0b");if(t=l.ESTileMap[_0x37ca("0x499")].verify(x[_0x37ca("0x494")][a[c]]))return"Rooms."+t}}if(null!=x[_0x37ca("0x16a")]&&x.hasOwnProperty("Labels")){if(!o[_0x37ca("0x32a")](x.Labels))return _0x37ca("0x4a8");for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return"Labels: integer key{k:int32} expected";var t;if(t=l.ESTileMap[_0x37ca("0x49a")][_0x37ca("0x45c")](x.Labels[a[c]]))return _0x37ca("0xd0c")+t}}return null!=x[_0x37ca("0x44a")]&&x.hasOwnProperty(_0x37ca("0x44a"))&&!o.isString(x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null!=x.o1&&x[_0x37ca("0x1")]("o1")&&!o[_0x37ca("0x45e")](x.o1)?"o1: integer expected":null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44b")])?_0x37ca("0x4ae"):null!=x.o2&&x[_0x37ca("0x1")]("o2")&&!o[_0x37ca("0x45e")](x.o2)?_0x37ca("0x540"):null!=x.t1&&x[_0x37ca("0x1")]("t1")&&!o[_0x37ca("0x1ce")](x.t1)?"t1: string expected":null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0xcc1")].ESTileMapSet)return x;var a=new(l[_0x37ca("0xcc1")].ESTileMapSet);if(null!=x.v&&(a.v=0|x.v),null!=x[_0x37ca("0x51e")]&&(a[_0x37ca("0x51e")]=0|x[_0x37ca("0x51e")]),null!=x[_0x37ca("0x430")]&&(a[_0x37ca("0x430")]=String(x[_0x37ca("0x430")])),null!=x[_0x37ca("0xcc7")]&&(a[_0x37ca("0xcc7")]=String(x[_0x37ca("0xcc7")])),null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x._id),null!=x[_0x37ca("0x44f")]&&(a[_0x37ca("0x44f")]=0|x[_0x37ca("0x44f")]),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x.minX&&(a[_0x37ca("0x43e")]=Number(x[_0x37ca("0x43e")])),null!=x[_0x37ca("0x43f")]&&(a[_0x37ca("0x43f")]=Number(x[_0x37ca("0x43f")])),null!=x[_0x37ca("0x453")]&&(a[_0x37ca("0x453")]=Number(x[_0x37ca("0x453")])),null!=x[_0x37ca("0x440")]&&(a[_0x37ca("0x440")]=Number(x[_0x37ca("0x440")])),null!=x[_0x37ca("0x79")]&&(a[_0x37ca("0x79")]=String(x[_0x37ca("0x79")])),x[_0x37ca("0x494")]){if("object"!==(0,_.default)(x.Rooms))throw TypeError(_0x37ca("0xd0d"));a.Rooms={};for(var c=(0,e.default)(x.Rooms),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x.Rooms[c[t]])!==_0x37ca("0xc"))throw TypeError(".ESTileMap.ESTileMapSet.Rooms: object expected");a.Rooms[c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x499")][_0x37ca("0x483")](x.Rooms[c[t]])}}if(x[_0x37ca("0x16a")]){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x16a")])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0xd0e"));for(a.Labels={},c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_.default)(x[_0x37ca("0x16a")][c[t]])!==_0x37ca("0xc"))throw TypeError(_0x37ca("0xd0e"));a[_0x37ca("0x16a")][c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x49a")][_0x37ca("0x483")](x.Labels[c[t]])}}return null!=x.other1&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),null!=x.o1&&(a.o1=0|x.o1),null!=x.other2&&(a.other2=String(x[_0x37ca("0x44b")])),null!=x.o2&&(a.o2=0|x.o2),null!=x.t1&&(a.t1=String(x.t1)),a},x[_0x37ca("0x2db")]=x.fromObject,x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c,_={};if((a.objects||a[_0x37ca("0x489")])&&(_[_0x37ca("0x494")]={},_[_0x37ca("0x16a")]={}),a.defaults&&(_.v=0,_[_0x37ca("0x51e")]=0,_.Hash="",_[_0x37ca("0xcc7")]="",_._id=0,_[_0x37ca("0x44f")]=0,_.x=0,_.y=0,_.z=0,_[_0x37ca("0x43e")]=0,_[_0x37ca("0x43f")]=0,_[_0x37ca("0x453")]=0,_[_0x37ca("0x440")]=0,_[_0x37ca("0x79")]="",_[_0x37ca("0x44a")]="",_.o1=0,_[_0x37ca("0x44b")]="",_.o2=0,_.t1=""),null!=x.v&&x[_0x37ca("0x1")]("v")&&(_.v=x.v),null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")](_0x37ca("0x51e"))&&(_[_0x37ca("0x51e")]=x[_0x37ca("0x51e")]),null!=x.Hash&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&(_[_0x37ca("0x430")]=x[_0x37ca("0x430")]),null!=x[_0x37ca("0xcc7")]&&x.hasOwnProperty(_0x37ca("0xcc7"))&&(_[_0x37ca("0xcc7")]=x[_0x37ca("0xcc7")]),null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&(_[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x.Type&&x[_0x37ca("0x1")](_0x37ca("0x44f"))&&(_[_0x37ca("0x44f")]=x[_0x37ca("0x44f")]),null!=x.x&&x.hasOwnProperty("x")&&(_.x=x.x),null!=x.y&&x[_0x37ca("0x1")]("y")&&(_.y=x.y),null!=x.z&&x.hasOwnProperty("z")&&(_.z=x.z),null!=x.minX&&x[_0x37ca("0x1")](_0x37ca("0x43e"))&&(_[_0x37ca("0x43e")]=x[_0x37ca("0x43e")]),null!=x[_0x37ca("0x43f")]&&x.hasOwnProperty(_0x37ca("0x43f"))&&(_.minY=x[_0x37ca("0x43f")]),null!=x[_0x37ca("0x453")]&&x[_0x37ca("0x1")](_0x37ca("0x453"))&&(_.maxX=x[_0x37ca("0x453")]),null!=x.maxY&&x[_0x37ca("0x1")]("maxY")&&(_[_0x37ca("0x440")]=x[_0x37ca("0x440")]),null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&(_[_0x37ca("0x79")]=x[_0x37ca("0x79")]),x[_0x37ca("0x494")]&&(c=(0,e.default)(x.Rooms))[_0x37ca("0x4")]){_.Rooms={};for(var t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x494")][c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x499")].toObject(x.Rooms[c[t]],a)}if(x[_0x37ca("0x16a")]&&(c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x16a")])).length)for(_[_0x37ca("0x16a")]={},t=0;t<c[_0x37ca("0x4")];++t)_[_0x37ca("0x16a")][c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x49a")][_0x37ca("0x48a")](x[_0x37ca("0x16a")][c[t]],a);return null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")]("other1")&&(_[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),null!=x.o1&&x.hasOwnProperty("o1")&&(_.o1=x.o1),null!=x[_0x37ca("0x44b")]&&x.hasOwnProperty(_0x37ca("0x44b"))&&(_[_0x37ca("0x44b")]=x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&(_.o2=x.o2),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&(_.t1=x.t1),_},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")].toObject(this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i.RoomSet=function(){function x(x){if(x)for(var a=(0,e.default)(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x.prototype.NA="",x[_0x37ca("0x11")].NE="",x[_0x37ca("0x11")].MC=0,x[_0x37ca("0x11")][_0x37ca("0x4ba")]=0,x.prototype.RL="",x[_0x37ca("0x11")][_0x37ca("0x4bb")]="",x[_0x37ca("0x11")].BC=0,x.prototype[_0x37ca("0xcdf")]=0,x[_0x37ca("0x11")].FH=0,x[_0x37ca("0x11")].RM="",x[_0x37ca("0x11")][_0x37ca("0x4b4")]="",x[_0x37ca("0x11")][_0x37ca("0x4b5")]="",x.prototype[_0x37ca("0x4b6")]="",x[_0x37ca("0x11")].RS=0,x.prototype.SL=0,x[_0x37ca("0x11")][_0x37ca("0x4b7")]=0,x[_0x37ca("0x11")].CenY=0,x[_0x37ca("0x11")].AS=0,x[_0x37ca("0x11")][_0x37ca("0x492")]="",x[_0x37ca("0x11")][_0x37ca("0xd0f")]=0,x.prototype[_0x37ca("0xd10")]=0,x[_0x37ca("0x11")][_0x37ca("0x5de")]="",x[_0x37ca("0x11")][_0x37ca("0xd11")]=0,x[_0x37ca("0x11")][_0x37ca("0xcdc")]=0,x[_0x37ca("0x11")].bidoz=0,x.prototype[_0x37ca("0xd12")]=0,x[_0x37ca("0x11")][_0x37ca("0xd13")]="",x.prototype[_0x37ca("0xd14")]="",x.prototype[_0x37ca("0xd15")]="",x[_0x37ca("0x11")][_0x37ca("0xd16")]=0,x.prototype[_0x37ca("0xce0")]="",x[_0x37ca("0x11")].o1=0,x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x.create=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s.create()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x.NA&&x[_0x37ca("0x1")]("NA")&&a.uint32(18)[_0x37ca("0xf")](x.NA),null!=x.NE&&x[_0x37ca("0x1")]("NE")&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x.NE),null!=x.MC&&x[_0x37ca("0x1")]("MC")&&a[_0x37ca("0x44d")](32)[_0x37ca("0x44e")](x.MC),null!=x[_0x37ca("0x4ba")]&&x.hasOwnProperty("Tid")&&a[_0x37ca("0x44d")](40)[_0x37ca("0x44e")](x[_0x37ca("0x4ba")]),null!=x.RL&&x[_0x37ca("0x1")]("RL")&&a[_0x37ca("0x44d")](50).string(x.RL),null!=x[_0x37ca("0x4bb")]&&x.hasOwnProperty(_0x37ca("0x4bb"))&&a[_0x37ca("0x44d")](58)[_0x37ca("0xf")](x.RLSize),null!=x.BC&&x.hasOwnProperty("BC")&&a[_0x37ca("0x44d")](64)[_0x37ca("0x44e")](x.BC),null!=x[_0x37ca("0xcdf")]&&x.hasOwnProperty(_0x37ca("0xcdf"))&&a[_0x37ca("0x44d")](72)[_0x37ca("0x44e")](x[_0x37ca("0xcdf")]),null!=x.FH&&x[_0x37ca("0x1")]("FH")&&a.uint32(81).double(x.FH),null!=x.RM&&x[_0x37ca("0x1")]("RM")&&a[_0x37ca("0x44d")](90)[_0x37ca("0xf")](x.RM),null!=x.RMS&&x[_0x37ca("0x1")](_0x37ca("0x4b4"))&&a[_0x37ca("0x44d")](98)[_0x37ca("0xf")](x[_0x37ca("0x4b4")]),null!=x[_0x37ca("0x4b5")]&&x.hasOwnProperty("RMR")&&a[_0x37ca("0x44d")](106)[_0x37ca("0xf")](x[_0x37ca("0x4b5")]),null!=x[_0x37ca("0x4b6")]&&x[_0x37ca("0x1")](_0x37ca("0x4b6"))&&a[_0x37ca("0x44d")](114)[_0x37ca("0xf")](x[_0x37ca("0x4b6")]),null!=x.RS&&x[_0x37ca("0x1")]("RS")&&a.uint32(120)[_0x37ca("0x44e")](x.RS),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&a.uint32(128)[_0x37ca("0x44e")](x.SL),null!=x[_0x37ca("0x4b7")]&&x.hasOwnProperty(_0x37ca("0x4b7"))&&a.uint32(137)[_0x37ca("0x451")](x[_0x37ca("0x4b7")]),null!=x[_0x37ca("0x4b8")]&&x[_0x37ca("0x1")]("CenY")&&a.uint32(145).double(x[_0x37ca("0x4b8")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&a[_0x37ca("0x44d")](153)[_0x37ca("0x451")](x.AS),null!=x.Outline&&x.hasOwnProperty(_0x37ca("0x492"))&&a[_0x37ca("0x44d")](162)[_0x37ca("0xf")](x[_0x37ca("0x492")]),null!=x[_0x37ca("0xd0f")]&&x.hasOwnProperty(_0x37ca("0xd0f"))&&a[_0x37ca("0x44d")](168)[_0x37ca("0x44e")](x.PID),null!=x[_0x37ca("0xd10")]&&x[_0x37ca("0x1")](_0x37ca("0xd10"))&&a.uint32(176)[_0x37ca("0x44e")](x[_0x37ca("0xd10")]),null!=x[_0x37ca("0x5de")]&&x[_0x37ca("0x1")](_0x37ca("0x5de"))&&a[_0x37ca("0x44d")](186)[_0x37ca("0xf")](x[_0x37ca("0x5de")]),null!=x[_0x37ca("0xd11")]&&x[_0x37ca("0x1")]("bidox")&&a[_0x37ca("0x44d")](193)[_0x37ca("0x451")](x[_0x37ca("0xd11")]),null!=x[_0x37ca("0xcdc")]&&x[_0x37ca("0x1")](_0x37ca("0xcdc"))&&a.uint32(201)[_0x37ca("0x451")](x.bidoy),null!=x.bidoz&&x.hasOwnProperty(_0x37ca("0xcdd"))&&a[_0x37ca("0x44d")](209)[_0x37ca("0x451")](x[_0x37ca("0xcdd")]),null!=x.bidor&&x[_0x37ca("0x1")](_0x37ca("0xd12"))&&a.uint32(217)[_0x37ca("0x451")](x.bidor),null!=x[_0x37ca("0xd13")]&&x.hasOwnProperty(_0x37ca("0xd13"))&&a[_0x37ca("0x44d")](226)[_0x37ca("0xf")](x[_0x37ca("0xd13")]),null!=x.bidrids&&x[_0x37ca("0x1")](_0x37ca("0xd14"))&&a[_0x37ca("0x44d")](234)[_0x37ca("0xf")](x.bidrids),null!=x[_0x37ca("0xd15")]&&x[_0x37ca("0x1")]("bidpids")&&a[_0x37ca("0x44d")](242).string(x.bidpids),null!=x.layer&&x[_0x37ca("0x1")]("layer")&&a.uint32(248)[_0x37ca("0x44e")](x.layer),null!=x[_0x37ca("0xce0")]&&x.hasOwnProperty(_0x37ca("0xce0"))&&a[_0x37ca("0x44d")](258).string(x[_0x37ca("0xce0")]),null!=x.o1&&x[_0x37ca("0x1")]("o1")&&a[_0x37ca("0x44d")](264)[_0x37ca("0x44e")](x.o1),null!=x.other1&&x.hasOwnProperty(_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](274)[_0x37ca("0xf")](x.other1),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x[_0x37ca("0x3e8")]+a,_=new(l[_0x37ca("0xcc1")][_0x37ca("0x499")]);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_._id=x[_0x37ca("0x44e")]();break;case 2:_.NA=x.string();break;case 3:_.NE=x[_0x37ca("0xf")]();break;case 4:_.MC=x[_0x37ca("0x44e")]();break;case 5:_[_0x37ca("0x4ba")]=x.int32();break;case 6:_.RL=x[_0x37ca("0xf")]();break;case 7:_[_0x37ca("0x4bb")]=x[_0x37ca("0xf")]();break;case 8:_.BC=x[_0x37ca("0x44e")]();break;case 9:_.Fnum=x[_0x37ca("0x44e")]();break;case 10:_.FH=x[_0x37ca("0x451")]();break;case 11:_.RM=x[_0x37ca("0xf")]();break;case 12:_[_0x37ca("0x4b4")]=x[_0x37ca("0xf")]();break;case 13:_[_0x37ca("0x4b5")]=x[_0x37ca("0xf")]();break;case 14:_[_0x37ca("0x4b6")]=x[_0x37ca("0xf")]();break;case 15:_.RS=x.int32();break;case 16:_.SL=x[_0x37ca("0x44e")]();break;case 17:_[_0x37ca("0x4b7")]=x[_0x37ca("0x451")]();break;case 18:_[_0x37ca("0x4b8")]=x[_0x37ca("0x451")]();break;case 19:_.AS=x[_0x37ca("0x451")]();break;case 20:_[_0x37ca("0x492")]=x[_0x37ca("0xf")]();break;case 21:_.PID=x[_0x37ca("0x44e")]();break;case 22:_[_0x37ca("0xd10")]=x[_0x37ca("0x44e")]();break;case 23:_[_0x37ca("0x5de")]=x.string();break;case 24:_[_0x37ca("0xd11")]=x[_0x37ca("0x451")]();break;case 25:_[_0x37ca("0xcdc")]=x[_0x37ca("0x451")]();break;case 26:_[_0x37ca("0xcdd")]=x[_0x37ca("0x451")]();break;case 27:_.bidor=x[_0x37ca("0x451")]();break;case 28:_.bidstyle=x[_0x37ca("0xf")]();break;case 29:_[_0x37ca("0xd14")]=x[_0x37ca("0xf")]();break;case 30:_[_0x37ca("0xd15")]=x[_0x37ca("0xf")]();break;case 31:_[_0x37ca("0xd16")]=x.int32();break;case 32:_[_0x37ca("0xce0")]=x[_0x37ca("0xf")]();break;case 33:_.o1=x[_0x37ca("0x44e")]();break;case 34:_[_0x37ca("0x44a")]=x.string();break;default:x.skipType(7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&!o.isInteger(x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x.NA&&x[_0x37ca("0x1")]("NA")&&!o[_0x37ca("0x1ce")](x.NA)?"NA: string expected":null!=x.NE&&x[_0x37ca("0x1")]("NE")&&!o.isString(x.NE)?"NE: string expected":null!=x.MC&&x[_0x37ca("0x1")]("MC")&&!o[_0x37ca("0x45e")](x.MC)?_0x37ca("0xd17"):null!=x[_0x37ca("0x4ba")]&&x.hasOwnProperty(_0x37ca("0x4ba"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4ba")])?_0x37ca("0x4be"):null!=x.RL&&x[_0x37ca("0x1")]("RL")&&!o.isString(x.RL)?_0x37ca("0x4bf"):null!=x[_0x37ca("0x4bb")]&&x[_0x37ca("0x1")](_0x37ca("0x4bb"))&&!o[_0x37ca("0x1ce")](x.RLSize)?_0x37ca("0x4c0"):null!=x.BC&&x[_0x37ca("0x1")]("BC")&&!o[_0x37ca("0x45e")](x.BC)?"BC: integer expected":null!=x[_0x37ca("0xcdf")]&&x[_0x37ca("0x1")](_0x37ca("0xcdf"))&&!o[_0x37ca("0x45e")](x.Fnum)?"Fnum: integer expected":null!=x.FH&&x[_0x37ca("0x1")]("FH")&&typeof x.FH!==_0x37ca("0x143")?_0x37ca("0xd18"):null!=x.RM&&x[_0x37ca("0x1")]("RM")&&!o.isString(x.RM)?_0x37ca("0x4c3"):null!=x.RMS&&x[_0x37ca("0x1")](_0x37ca("0x4b4"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b4")])?_0x37ca("0xd19"):null!=x[_0x37ca("0x4b5")]&&x[_0x37ca("0x1")](_0x37ca("0x4b5"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b5")])?"RMR: string expected":null!=x.RMO&&x[_0x37ca("0x1")](_0x37ca("0x4b6"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x4b6")])?_0x37ca("0x4c4"):null!=x.RS&&x.hasOwnProperty("RS")&&!o[_0x37ca("0x45e")](x.RS)?_0x37ca("0x4c5"):null!=x.SL&&x.hasOwnProperty("SL")&&!o.isInteger(x.SL)?_0x37ca("0x4c6"):null!=x[_0x37ca("0x4b7")]&&x[_0x37ca("0x1")](_0x37ca("0x4b7"))&&"number"!=typeof x.CenX?_0x37ca("0x4c7"):null!=x.CenY&&x[_0x37ca("0x1")](_0x37ca("0x4b8"))&&typeof x[_0x37ca("0x4b8")]!==_0x37ca("0x143")?_0x37ca("0x4c8"):null!=x.AS&&x[_0x37ca("0x1")]("AS")&&typeof x.AS!==_0x37ca("0x143")?"AS: number expected":null!=x[_0x37ca("0x492")]&&x.hasOwnProperty("Outline")&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x492")])?_0x37ca("0x4ca"):null!=x.PID&&x[_0x37ca("0x1")]("PID")&&!o.isInteger(x[_0x37ca("0xd0f")])?_0x37ca("0xd1a"):null!=x[_0x37ca("0xd10")]&&x[_0x37ca("0x1")](_0x37ca("0xd10"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0xd10")])?"GID: integer expected":null!=x.bids&&x.hasOwnProperty(_0x37ca("0x5de"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x5de")])?_0x37ca("0xd1b"):null!=x[_0x37ca("0xd11")]&&x[_0x37ca("0x1")](_0x37ca("0xd11"))&&"number"!=typeof x.bidox?_0x37ca("0xd1c"):null!=x[_0x37ca("0xcdc")]&&x[_0x37ca("0x1")](_0x37ca("0xcdc"))&&typeof x[_0x37ca("0xcdc")]!==_0x37ca("0x143")?_0x37ca("0xd1d"):null!=x[_0x37ca("0xcdd")]&&x[_0x37ca("0x1")](_0x37ca("0xcdd"))&&typeof x[_0x37ca("0xcdd")]!==_0x37ca("0x143")?_0x37ca("0xd1e"):null!=x[_0x37ca("0xd12")]&&x.hasOwnProperty("bidor")&&"number"!=typeof x[_0x37ca("0xd12")]?_0x37ca("0xd1f"):null!=x.bidstyle&&x[_0x37ca("0x1")]("bidstyle")&&!o.isString(x[_0x37ca("0xd13")])?_0x37ca("0xd20"):null!=x[_0x37ca("0xd14")]&&x.hasOwnProperty("bidrids")&&!o[_0x37ca("0x1ce")](x.bidrids)?_0x37ca("0xd21"):null!=x[_0x37ca("0xd15")]&&x.hasOwnProperty("bidpids")&&!o.isString(x[_0x37ca("0xd15")])?_0x37ca("0xd22"):null!=x[_0x37ca("0xd16")]&&x.hasOwnProperty(_0x37ca("0xd16"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0xd16")])?_0x37ca("0xd23"):null!=x.Did&&x[_0x37ca("0x1")](_0x37ca("0xce0"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0xce0")])?_0x37ca("0xd24"):null!=x.o1&&x.hasOwnProperty("o1")&&!o.isInteger(x.o1)?_0x37ca("0x47e"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o.isString(x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0xcc1")][_0x37ca("0x499")])return x;var a=new(l[_0x37ca("0xcc1")].RoomSet);return null!=x._id&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x.NA&&(a.NA=String(x.NA)),null!=x.NE&&(a.NE=String(x.NE)),null!=x.MC&&(a.MC=0|x.MC),null!=x[_0x37ca("0x4ba")]&&(a[_0x37ca("0x4ba")]=0|x[_0x37ca("0x4ba")]),null!=x.RL&&(a.RL=String(x.RL)),null!=x[_0x37ca("0x4bb")]&&(a[_0x37ca("0x4bb")]=String(x[_0x37ca("0x4bb")])),null!=x.BC&&(a.BC=0|x.BC),null!=x[_0x37ca("0xcdf")]&&(a[_0x37ca("0xcdf")]=0|x[_0x37ca("0xcdf")]),null!=x.FH&&(a.FH=Number(x.FH)),null!=x.RM&&(a.RM=String(x.RM)),null!=x[_0x37ca("0x4b4")]&&(a.RMS=String(x[_0x37ca("0x4b4")])),null!=x[_0x37ca("0x4b5")]&&(a.RMR=String(x[_0x37ca("0x4b5")])),null!=x[_0x37ca("0x4b6")]&&(a[_0x37ca("0x4b6")]=String(x[_0x37ca("0x4b6")])),null!=x.RS&&(a.RS=0|x.RS),null!=x.SL&&(a.SL=0|x.SL),null!=x[_0x37ca("0x4b7")]&&(a.CenX=Number(x[_0x37ca("0x4b7")])),null!=x.CenY&&(a.CenY=Number(x[_0x37ca("0x4b8")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x37ca("0x492")]&&(a.Outline=String(x[_0x37ca("0x492")])),null!=x[_0x37ca("0xd0f")]&&(a[_0x37ca("0xd0f")]=0|x[_0x37ca("0xd0f")]),null!=x.GID&&(a[_0x37ca("0xd10")]=0|x[_0x37ca("0xd10")]),null!=x.bids&&(a[_0x37ca("0x5de")]=String(x[_0x37ca("0x5de")])),null!=x[_0x37ca("0xd11")]&&(a.bidox=Number(x[_0x37ca("0xd11")])),null!=x[_0x37ca("0xcdc")]&&(a[_0x37ca("0xcdc")]=Number(x[_0x37ca("0xcdc")])),null!=x[_0x37ca("0xcdd")]&&(a.bidoz=Number(x[_0x37ca("0xcdd")])),null!=x[_0x37ca("0xd12")]&&(a.bidor=Number(x[_0x37ca("0xd12")])),null!=x[_0x37ca("0xd13")]&&(a.bidstyle=String(x[_0x37ca("0xd13")])),null!=x[_0x37ca("0xd14")]&&(a[_0x37ca("0xd14")]=String(x[_0x37ca("0xd14")])),null!=x[_0x37ca("0xd15")]&&(a.bidpids=String(x.bidpids)),null!=x.layer&&(a.layer=0|x[_0x37ca("0xd16")]),null!=x[_0x37ca("0xce0")]&&(a[_0x37ca("0xce0")]=String(x.Did)),null!=x.o1&&(a.o1=0|x.o1),null!=x[_0x37ca("0x44a")]&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x176")]=0,c.NA="",c.NE="",c.MC=0,c.Tid=0,c.RL="",c[_0x37ca("0x4bb")]="",c.BC=0,c[_0x37ca("0xcdf")]=0,c.FH=0,c.RM="",c.RMS="",c.RMR="",c[_0x37ca("0x4b6")]="",c.RS=0,c.SL=0,c[_0x37ca("0x4b7")]=0,c[_0x37ca("0x4b8")]=0,c.AS=0,c[_0x37ca("0x492")]="",c[_0x37ca("0xd0f")]=0,c[_0x37ca("0xd10")]=0,c[_0x37ca("0x5de")]="",c[_0x37ca("0xd11")]=0,c.bidoy=0,c[_0x37ca("0xcdd")]=0,c[_0x37ca("0xd12")]=0,c[_0x37ca("0xd13")]="",c[_0x37ca("0xd14")]="",c[_0x37ca("0xd15")]="",c.layer=0,c[_0x37ca("0xce0")]="",c.o1=0,c[_0x37ca("0x44a")]=""),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c._id=x._id),null!=x.NA&&x[_0x37ca("0x1")]("NA")&&(c.NA=x.NA),null!=x.NE&&x[_0x37ca("0x1")]("NE")&&(c.NE=x.NE),null!=x.MC&&x[_0x37ca("0x1")]("MC")&&(c.MC=x.MC),null!=x.Tid&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&(c.Tid=x.Tid),null!=x.RL&&x[_0x37ca("0x1")]("RL")&&(c.RL=x.RL),null!=x.RLSize&&x.hasOwnProperty(_0x37ca("0x4bb"))&&(c.RLSize=x[_0x37ca("0x4bb")]),null!=x.BC&&x.hasOwnProperty("BC")&&(c.BC=x.BC),null!=x.Fnum&&x[_0x37ca("0x1")](_0x37ca("0xcdf"))&&(c[_0x37ca("0xcdf")]=x[_0x37ca("0xcdf")]),null!=x.FH&&x[_0x37ca("0x1")]("FH")&&(c.FH=x.FH),null!=x.RM&&x[_0x37ca("0x1")]("RM")&&(c.RM=x.RM),null!=x[_0x37ca("0x4b4")]&&x[_0x37ca("0x1")](_0x37ca("0x4b4"))&&(c[_0x37ca("0x4b4")]=x[_0x37ca("0x4b4")]),null!=x.RMR&&x[_0x37ca("0x1")](_0x37ca("0x4b5"))&&(c[_0x37ca("0x4b5")]=x[_0x37ca("0x4b5")]),null!=x.RMO&&x[_0x37ca("0x1")](_0x37ca("0x4b6"))&&(c[_0x37ca("0x4b6")]=x[_0x37ca("0x4b6")]),null!=x.RS&&x[_0x37ca("0x1")]("RS")&&(c.RS=x.RS),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&(c.SL=x.SL),null!=x[_0x37ca("0x4b7")]&&x[_0x37ca("0x1")]("CenX")&&(c[_0x37ca("0x4b7")]=x.CenX),null!=x[_0x37ca("0x4b8")]&&x[_0x37ca("0x1")](_0x37ca("0x4b8"))&&(c[_0x37ca("0x4b8")]=x[_0x37ca("0x4b8")]),null!=x.AS&&x[_0x37ca("0x1")]("AS")&&(c.AS=x.AS),null!=x[_0x37ca("0x492")]&&x[_0x37ca("0x1")](_0x37ca("0x492"))&&(c.Outline=x.Outline),null!=x[_0x37ca("0xd0f")]&&x[_0x37ca("0x1")](_0x37ca("0xd0f"))&&(c[_0x37ca("0xd0f")]=x.PID),null!=x.GID&&x.hasOwnProperty(_0x37ca("0xd10"))&&(c[_0x37ca("0xd10")]=x[_0x37ca("0xd10")]),null!=x[_0x37ca("0x5de")]&&x[_0x37ca("0x1")]("bids")&&(c[_0x37ca("0x5de")]=x.bids),null!=x[_0x37ca("0xd11")]&&x[_0x37ca("0x1")](_0x37ca("0xd11"))&&(c.bidox=x[_0x37ca("0xd11")]),null!=x[_0x37ca("0xcdc")]&&x.hasOwnProperty(_0x37ca("0xcdc"))&&(c[_0x37ca("0xcdc")]=x.bidoy),null!=x.bidoz&&x.hasOwnProperty(_0x37ca("0xcdd"))&&(c[_0x37ca("0xcdd")]=x[_0x37ca("0xcdd")]),null!=x.bidor&&x[_0x37ca("0x1")](_0x37ca("0xd12"))&&(c[_0x37ca("0xd12")]=x.bidor),null!=x[_0x37ca("0xd13")]&&x[_0x37ca("0x1")]("bidstyle")&&(c.bidstyle=x.bidstyle),null!=x[_0x37ca("0xd14")]&&x[_0x37ca("0x1")](_0x37ca("0xd14"))&&(c[_0x37ca("0xd14")]=x[_0x37ca("0xd14")]),null!=x[_0x37ca("0xd15")]&&x[_0x37ca("0x1")](_0x37ca("0xd15"))&&(c[_0x37ca("0xd15")]=x[_0x37ca("0xd15")]),null!=x[_0x37ca("0xd16")]&&x[_0x37ca("0x1")]("layer")&&(c.layer=x[_0x37ca("0xd16")]),null!=x[_0x37ca("0xce0")]&&x.hasOwnProperty(_0x37ca("0xce0"))&&(c[_0x37ca("0xce0")]=x[_0x37ca("0xce0")]),null!=x.o1&&x[_0x37ca("0x1")]("o1")&&(c.o1=x.o1),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x.other1),c},x.prototype[_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")].toObject(this,x)},x.prototype[_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n.util[_0x37ca("0x48d")])},x}(),i[_0x37ca("0x49a")]=function(){function x(x){if(x)for(var a=(0,e.default)(x),c=0;c<a.length;++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x.prototype[_0x37ca("0x176")]=0,x[_0x37ca("0x11")].NA="",x[_0x37ca("0x11")].NE="",x[_0x37ca("0x11")][_0x37ca("0x4ba")]=0,x.prototype.MT=0,x[_0x37ca("0x11")].ST=0,x.prototype.X=0,x.prototype.Y=0,x[_0x37ca("0x11")].SL=0,x[_0x37ca("0x11")].SH=0,x[_0x37ca("0x11")][_0x37ca("0x497")]="",x.prototype.w=0,x.prototype.h=0,x[_0x37ca("0x11")].ipos=0,x[_0x37ca("0x11")][_0x37ca("0x4cf")]=0,x[_0x37ca("0x11")].layer=0,x[_0x37ca("0x11")][_0x37ca("0x177")]=0,x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8).int32(x._id),null!=x.NA&&x.hasOwnProperty("NA")&&a[_0x37ca("0x44d")](18)[_0x37ca("0xf")](x.NA),null!=x.NE&&x.hasOwnProperty("NE")&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x.NE),null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&a[_0x37ca("0x44d")](32)[_0x37ca("0x44e")](x[_0x37ca("0x4ba")]),null!=x.MT&&x[_0x37ca("0x1")]("MT")&&a.uint32(40)[_0x37ca("0x44e")](x.MT),null!=x.ST&&x[_0x37ca("0x1")]("ST")&&a.uint32(48)[_0x37ca("0x44e")](x.ST),null!=x.X&&x[_0x37ca("0x1")]("X")&&a[_0x37ca("0x44d")](57)[_0x37ca("0x451")](x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a[_0x37ca("0x44d")](65)[_0x37ca("0x451")](x.Y),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&a[_0x37ca("0x44d")](72)[_0x37ca("0x44e")](x.SL),null!=x.SH&&x[_0x37ca("0x1")]("SH")&&a[_0x37ca("0x44d")](85).float(x.SH),null!=x.image&&x[_0x37ca("0x1")](_0x37ca("0x497"))&&a[_0x37ca("0x44d")](90).string(x.image),null!=x.w&&x.hasOwnProperty("w")&&a.uint32(101)[_0x37ca("0x450")](x.w),null!=x.h&&x[_0x37ca("0x1")]("h")&&a.uint32(109)[_0x37ca("0x450")](x.h),null!=x[_0x37ca("0x171")]&&x[_0x37ca("0x1")]("ipos")&&a[_0x37ca("0x44d")](112)[_0x37ca("0x44e")](x[_0x37ca("0x171")]),null!=x[_0x37ca("0x4cf")]&&x[_0x37ca("0x1")]("FSId")&&a[_0x37ca("0x44d")](120).int32(x.FSId),null!=x[_0x37ca("0xd16")]&&x[_0x37ca("0x1")](_0x37ca("0xd16"))&&a[_0x37ca("0x44d")](128)[_0x37ca("0x44e")](x[_0x37ca("0xd16")]),null!=x[_0x37ca("0x177")]&&x.hasOwnProperty(_0x37ca("0x177"))&&a.uint32(136).int32(x[_0x37ca("0x177")]),null!=x.other1&&x.hasOwnProperty("other1")&&a[_0x37ca("0x44d")](146).string(x[_0x37ca("0x44a")]),a},x.encodeDelimited=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r.create(x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x[_0x37ca("0x3e8")]+a,_=new(l.ESTileMap[_0x37ca("0x49a")]);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 2:_.NA=x[_0x37ca("0xf")]();break;case 3:_.NE=x[_0x37ca("0xf")]();break;case 4:_[_0x37ca("0x4ba")]=x.int32();break;case 5:_.MT=x[_0x37ca("0x44e")]();break;case 6:_.ST=x[_0x37ca("0x44e")]();break;case 7:_.X=x[_0x37ca("0x451")]();break;case 8:_.Y=x[_0x37ca("0x451")]();break;case 9:_.SL=x[_0x37ca("0x44e")]();break;case 10:_.SH=x[_0x37ca("0x450")]();break;case 11:_[_0x37ca("0x497")]=x[_0x37ca("0xf")]();break;case 12:_.w=x.float();break;case 13:_.h=x.float();break;case 14:_[_0x37ca("0x171")]=x[_0x37ca("0x44e")]();break;case 15:_[_0x37ca("0x4cf")]=x[_0x37ca("0x44e")]();break;case 16:_.layer=x.int32();break;case 17:_.Sid=x[_0x37ca("0x44e")]();break;case 18:_[_0x37ca("0x44a")]=x[_0x37ca("0xf")]();break;default:x[_0x37ca("0x45a")](7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(void 0===x?_0x37ca("0x8"):(0,_.default)(x))!==_0x37ca("0xc")||null===x?"object expected":null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x.NA&&x[_0x37ca("0x1")]("NA")&&!o[_0x37ca("0x1ce")](x.NA)?_0x37ca("0xd25"):null!=x.NE&&x[_0x37ca("0x1")]("NE")&&!o[_0x37ca("0x1ce")](x.NE)?"NE: string expected":null!=x[_0x37ca("0x4ba")]&&x[_0x37ca("0x1")](_0x37ca("0x4ba"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4ba")])?_0x37ca("0x4be"):null!=x.MT&&x[_0x37ca("0x1")]("MT")&&!o[_0x37ca("0x45e")](x.MT)?_0x37ca("0xd26"):null!=x.ST&&x.hasOwnProperty("ST")&&!o[_0x37ca("0x45e")](x.ST)?_0x37ca("0xd27"):null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x37ca("0x143")?"X: number expected":null!=x.Y&&x.hasOwnProperty("Y")&&typeof x.Y!==_0x37ca("0x143")?"Y: number expected":null!=x.SL&&x[_0x37ca("0x1")]("SL")&&!o[_0x37ca("0x45e")](x.SL)?"SL: integer expected":null!=x.SH&&x.hasOwnProperty("SH")&&typeof x.SH!==_0x37ca("0x143")?"SH: number expected":null!=x.image&&x.hasOwnProperty(_0x37ca("0x497"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x497")])?_0x37ca("0x4ac"):null!=x.w&&x[_0x37ca("0x1")]("w")&&"number"!=typeof x.w?_0x37ca("0x4d2"):null!=x.h&&x.hasOwnProperty("h")&&typeof x.h!==_0x37ca("0x143")?"h: number expected":null!=x[_0x37ca("0x171")]&&x.hasOwnProperty(_0x37ca("0x171"))&&!o[_0x37ca("0x45e")](x.ipos)?"ipos: integer expected":null!=x[_0x37ca("0x4cf")]&&x[_0x37ca("0x1")]("FSId")&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4cf")])?_0x37ca("0x4d3"):null!=x[_0x37ca("0xd16")]&&x[_0x37ca("0x1")]("layer")&&!o[_0x37ca("0x45e")](x.layer)?_0x37ca("0xd23"):null!=x[_0x37ca("0x177")]&&x[_0x37ca("0x1")](_0x37ca("0x177"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x177")])?"Sid: integer expected":null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0xcc1")][_0x37ca("0x49a")])return x;var a=new l.ESTileMap.POISet;return null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x._id),null!=x.NA&&(a.NA=String(x.NA)),null!=x.NE&&(a.NE=String(x.NE)),null!=x[_0x37ca("0x4ba")]&&(a[_0x37ca("0x4ba")]=0|x.Tid),null!=x.MT&&(a.MT=0|x.MT),null!=x.ST&&(a.ST=0|x.ST),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.SL&&(a.SL=0|x.SL),null!=x.SH&&(a.SH=Number(x.SH)),null!=x[_0x37ca("0x497")]&&(a[_0x37ca("0x497")]=String(x[_0x37ca("0x497")])),null!=x.w&&(a.w=Number(x.w)),null!=x.h&&(a.h=Number(x.h)),null!=x[_0x37ca("0x171")]&&(a[_0x37ca("0x171")]=0|x.ipos),null!=x[_0x37ca("0x4cf")]&&(a[_0x37ca("0x4cf")]=0|x.FSId),null!=x.layer&&(a[_0x37ca("0xd16")]=0|x[_0x37ca("0xd16")]),null!=x[_0x37ca("0x177")]&&(a[_0x37ca("0x177")]=0|x[_0x37ca("0x177")]),null!=x[_0x37ca("0x44a")]&&(a.other1=String(x.other1)),a},x[_0x37ca("0x2db")]=x.fromObject,x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x176")]=0,c.NA="",c.NE="",c[_0x37ca("0x4ba")]=0,c.MT=0,c.ST=0,c.X=0,c.Y=0,c.SL=0,c.SH=0,c[_0x37ca("0x497")]="",c.w=0,c.h=0,c.ipos=0,c[_0x37ca("0x4cf")]=0,c[_0x37ca("0xd16")]=0,c[_0x37ca("0x177")]=0,c.other1=""),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c[_0x37ca("0x176")]=x._id),null!=x.NA&&x.hasOwnProperty("NA")&&(c.NA=x.NA),null!=x.NE&&x[_0x37ca("0x1")]("NE")&&(c.NE=x.NE),null!=x[_0x37ca("0x4ba")]&&x.hasOwnProperty(_0x37ca("0x4ba"))&&(c[_0x37ca("0x4ba")]=x.Tid),null!=x.MT&&x[_0x37ca("0x1")]("MT")&&(c.MT=x.MT),null!=x.ST&&x[_0x37ca("0x1")]("ST")&&(c.ST=x.ST),null!=x.X&&x.hasOwnProperty("X")&&(c.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(c.Y=x.Y),null!=x.SL&&x[_0x37ca("0x1")]("SL")&&(c.SL=x.SL),null!=x.SH&&x.hasOwnProperty("SH")&&(c.SH=x.SH),null!=x[_0x37ca("0x497")]&&x[_0x37ca("0x1")]("image")&&(c[_0x37ca("0x497")]=x[_0x37ca("0x497")]),null!=x.w&&x.hasOwnProperty("w")&&(c.w=x.w),null!=x.h&&x.hasOwnProperty("h")&&(c.h=x.h),null!=x[_0x37ca("0x171")]&&x[_0x37ca("0x1")](_0x37ca("0x171"))&&(c[_0x37ca("0x171")]=x[_0x37ca("0x171")]),null!=x.FSId&&x[_0x37ca("0x1")](_0x37ca("0x4cf"))&&(c[_0x37ca("0x4cf")]=x[_0x37ca("0x4cf")]),null!=x.layer&&x.hasOwnProperty(_0x37ca("0xd16"))&&(c[_0x37ca("0xd16")]=x.layer),null!=x.Sid&&x[_0x37ca("0x1")](_0x37ca("0x177"))&&(c[_0x37ca("0x177")]=x[_0x37ca("0x177")]),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),c},x[_0x37ca("0x11")][_0x37ca("0x48a")]=function(x){return this.constructor[_0x37ca("0x48a")](this,x)},x.prototype[_0x37ca("0x4ce")]=function(){return this.constructor[_0x37ca("0x48a")](this,n.util[_0x37ca("0x48d")])},x}(),i[_0x37ca("0xcc2")]=function(){function x(x){if(this.Nodes={},this[_0x37ca("0x190")]={},x)for(var a=(0,e.default)(x),c=0;c<a.length;++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")].v=0,x.prototype[_0x37ca("0x51e")]=0,x.prototype[_0x37ca("0x430")]="",x[_0x37ca("0x11")][_0x37ca("0xcc7")]="",x[_0x37ca("0x11")]._id=0,x.prototype[_0x37ca("0x44f")]=0,x.prototype[_0x37ca("0x4df")]=o[_0x37ca("0x495")],x[_0x37ca("0x11")].Lines=o[_0x37ca("0x495")],x[_0x37ca("0x11")][_0x37ca("0x79")]="",x[_0x37ca("0x11")].other1="",x[_0x37ca("0x11")].o1=0,x[_0x37ca("0x11")][_0x37ca("0x44b")]="",x[_0x37ca("0x11")].o2=0,x[_0x37ca("0x11")].t1="",x[_0x37ca("0xd")]=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){if(a||(a=s.create()),null!=x.v&&x[_0x37ca("0x1")]("v")&&a[_0x37ca("0x44d")](8).int32(x.v),null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")](_0x37ca("0x51e"))&&a[_0x37ca("0x44d")](16)[_0x37ca("0x44e")](x.mtime),null!=x.Hash&&x[_0x37ca("0x1")]("Hash")&&a[_0x37ca("0x44d")](26)[_0x37ca("0xf")](x[_0x37ca("0x430")]),null!=x[_0x37ca("0xcc7")]&&x[_0x37ca("0x1")]("cname")&&a.uint32(34).string(x[_0x37ca("0xcc7")]),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&a[_0x37ca("0x44d")](40)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x44f")]&&x[_0x37ca("0x1")](_0x37ca("0x44f"))&&a[_0x37ca("0x44d")](48)[_0x37ca("0x44e")](x[_0x37ca("0x44f")]),null!=x.Nodes&&x.hasOwnProperty("Nodes"))for(var c=(0,e.default)(x.Nodes),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](58)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8).int32(c[_]),l[_0x37ca("0xcc1")][_0x37ca("0x4e1")][_0x37ca("0x44c")](x[_0x37ca("0x4df")][c[_]],a.uint32(18)[_0x37ca("0x455")]())[_0x37ca("0x457")]()[_0x37ca("0x457")]();if(null!=x[_0x37ca("0x190")]&&x[_0x37ca("0x1")](_0x37ca("0x190")))for(c=(0,e.default)(x.Lines),_=0;_<c[_0x37ca("0x4")];++_)a[_0x37ca("0x44d")](66)[_0x37ca("0x455")]()[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](c[_]),l.ESTileMap.NavLineSet[_0x37ca("0x44c")](x[_0x37ca("0x190")][c[_]],a[_0x37ca("0x44d")](18)[_0x37ca("0x455")]()).ldelim().ldelim();return null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&a[_0x37ca("0x44d")](74)[_0x37ca("0xf")](x.token),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a.uint32(82).string(x[_0x37ca("0x44a")]),null!=x.o1&&x.hasOwnProperty("o1")&&a.uint32(88).int32(x.o1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&a[_0x37ca("0x44d")](98).string(x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&a[_0x37ca("0x44d")](104)[_0x37ca("0x44e")](x.o2),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&a[_0x37ca("0x44d")](114).string(x.t1),a},x.encodeDelimited=function(x,a){return this.encode(x,a).ldelim()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c,_=void 0===a?x[_0x37ca("0x4bd")]:x.pos+a,e=new(l[_0x37ca("0xcc1")][_0x37ca("0xcc2")]);x[_0x37ca("0x3e8")]<_;){var t=x[_0x37ca("0x44d")]();switch(t>>>3){case 1:e.v=x[_0x37ca("0x44e")]();break;case 2:e[_0x37ca("0x51e")]=x[_0x37ca("0x44e")]();break;case 3:e.Hash=x[_0x37ca("0xf")]();break;case 4:e[_0x37ca("0xcc7")]=x.string();break;case 5:e[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 6:e[_0x37ca("0x44f")]=x.int32();break;case 7:x[_0x37ca("0x49d")]().pos++,e[_0x37ca("0x4df")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x4df")]={}),c=x[_0x37ca("0x44e")](),x[_0x37ca("0x3e8")]++,e[_0x37ca("0x4df")][c]=l.ESTileMap[_0x37ca("0x4e1")].decode(x,x.uint32());break;case 8:x[_0x37ca("0x49d")]()[_0x37ca("0x3e8")]++,e[_0x37ca("0x190")]===o[_0x37ca("0x495")]&&(e[_0x37ca("0x190")]={}),c=x.int32(),x.pos++,e.Lines[c]=l[_0x37ca("0xcc1")][_0x37ca("0x4e0")][_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]());break;case 9:e[_0x37ca("0x79")]=x.string();break;case 10:e.other1=x[_0x37ca("0xf")]();break;case 11:e.o1=x[_0x37ca("0x44e")]();break;case 12:e.other2=x.string();break;case 13:e.o2=x.int32();break;case 14:e.t1=x[_0x37ca("0xf")]();break;default:x.skipType(7&t)}}return e},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){if("object"!==(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))||null===x)return _0x37ca("0x45d");if(null!=x.v&&x[_0x37ca("0x1")]("v")&&!o[_0x37ca("0x45e")](x.v))return _0x37ca("0xd08");if(null!=x[_0x37ca("0x51e")]&&x[_0x37ca("0x1")]("mtime")&&!o[_0x37ca("0x45e")](x.mtime))return _0x37ca("0x52f");if(null!=x[_0x37ca("0x430")]&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x430")]))return"Hash: string expected";if(null!=x[_0x37ca("0xcc7")]&&x.hasOwnProperty(_0x37ca("0xcc7"))&&!o.isString(x[_0x37ca("0xcc7")]))return"cname: string expected";if(null!=x._id&&x.hasOwnProperty("_id")&&!o[_0x37ca("0x45e")](x._id))return _0x37ca("0x49e");if(null!=x.Type&&x[_0x37ca("0x1")](_0x37ca("0x44f"))&&!o[_0x37ca("0x45e")](x.Type))return"Type: integer expected";if(null!=x[_0x37ca("0x4df")]&&x[_0x37ca("0x1")](_0x37ca("0x4df"))){if(!o[_0x37ca("0x32a")](x.Nodes))return _0x37ca("0x504");for(var a=(0,e.default)(x.Nodes),c=0;c<a.length;++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return _0x37ca("0x4e2");if(t=l[_0x37ca("0xcc1")].NavNodeSet.verify(x[_0x37ca("0x4df")][a[c]]))return _0x37ca("0x4e3")+t}}if(null!=x[_0x37ca("0x190")]&&x[_0x37ca("0x1")]("Lines")){if(!o[_0x37ca("0x32a")](x.Lines))return _0x37ca("0x4e4");for(a=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x190")]),c=0;c<a[_0x37ca("0x4")];++c){if(!o[_0x37ca("0x4a5")][_0x37ca("0x3a4")](a[c]))return"Lines: integer key{k:int32} expected";var t;if(t=l[_0x37ca("0xcc1")].NavLineSet[_0x37ca("0x45c")](x.Lines[a[c]]))return _0x37ca("0x4e5")+t}}return null!=x[_0x37ca("0x79")]&&x[_0x37ca("0x1")]("token")&&!o[_0x37ca("0x1ce")](x.token)?"token: string expected":null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null!=x.o1&&x.hasOwnProperty("o1")&&!o[_0x37ca("0x45e")](x.o1)?_0x37ca("0x47e"):null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")](_0x37ca("0x44b"))&&!o[_0x37ca("0x1ce")](x.other2)?_0x37ca("0x4ae"):null!=x.o2&&x.hasOwnProperty("o2")&&!o[_0x37ca("0x45e")](x.o2)?_0x37ca("0x540"):null!=x.t1&&x[_0x37ca("0x1")]("t1")&&!o.isString(x.t1)?_0x37ca("0x47f"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0xcc1")][_0x37ca("0xcc2")])return x;var a=new(l.ESTileMap[_0x37ca("0xcc2")]);if(null!=x.v&&(a.v=0|x.v),null!=x.mtime&&(a[_0x37ca("0x51e")]=0|x.mtime),null!=x[_0x37ca("0x430")]&&(a.Hash=String(x[_0x37ca("0x430")])),null!=x[_0x37ca("0xcc7")]&&(a.cname=String(x[_0x37ca("0xcc7")])),null!=x._id&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x[_0x37ca("0x44f")]&&(a[_0x37ca("0x44f")]=0|x[_0x37ca("0x44f")]),x[_0x37ca("0x4df")]){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4df")])!==_0x37ca("0xc"))throw TypeError(".ESTileMap.ESTileMapNavSet.Nodes: object expected");a[_0x37ca("0x4df")]={};for(var c=(0,e[_0x37ca("0xe")])(x[_0x37ca("0x4df")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x4df")][c[t]])!==_0x37ca("0xc"))throw TypeError(".ESTileMap.ESTileMapNavSet.Nodes: object expected");a.Nodes[c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x4e1")][_0x37ca("0x483")](x[_0x37ca("0x4df")][c[t]])}}if(x.Lines){if((0,_[_0x37ca("0xe")])(x[_0x37ca("0x190")])!==_0x37ca("0xc"))throw TypeError(".ESTileMap.ESTileMapNavSet.Lines: object expected");for(a[_0x37ca("0x190")]={},c=(0,e.default)(x[_0x37ca("0x190")]),t=0;t<c[_0x37ca("0x4")];++t){if((0,_.default)(x.Lines[c[t]])!==_0x37ca("0xc"))throw TypeError(".ESTileMap.ESTileMapNavSet.Lines: object expected");a[_0x37ca("0x190")][c[t]]=l.ESTileMap.NavLineSet.fromObject(x.Lines[c[t]])}}return null!=x.token&&(a[_0x37ca("0x79")]=String(x.token)),null!=x.other1&&(a.other1=String(x[_0x37ca("0x44a")])),null!=x.o1&&(a.o1=0|x.o1),null!=x.other2&&(a[_0x37ca("0x44b")]=String(x[_0x37ca("0x44b")])),null!=x.o2&&(a.o2=0|x.o2),null!=x.t1&&(a.t1=String(x.t1)),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c,_={};if((a[_0x37ca("0x4b3")]||a[_0x37ca("0x489")])&&(_[_0x37ca("0x4df")]={},_[_0x37ca("0x190")]={}),a.defaults&&(_.v=0,_.mtime=0,_.Hash="",_[_0x37ca("0xcc7")]="",_._id=0,_.Type=0,_.token="",_.other1="",_.o1=0,_.other2="",_.o2=0,_.t1=""),null!=x.v&&x[_0x37ca("0x1")]("v")&&(_.v=x.v),null!=x.mtime&&x.hasOwnProperty(_0x37ca("0x51e"))&&(_[_0x37ca("0x51e")]=x[_0x37ca("0x51e")]),null!=x[_0x37ca("0x430")]&&x[_0x37ca("0x1")](_0x37ca("0x430"))&&(_[_0x37ca("0x430")]=x.Hash),null!=x.cname&&x[_0x37ca("0x1")](_0x37ca("0xcc7"))&&(_[_0x37ca("0xcc7")]=x.cname),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&(_[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x[_0x37ca("0x44f")]&&x.hasOwnProperty("Type")&&(_[_0x37ca("0x44f")]=x.Type),x[_0x37ca("0x4df")]&&(c=(0,e.default)(x.Nodes))[_0x37ca("0x4")]){_[_0x37ca("0x4df")]={};for(var t=0;t<c.length;++t)_.Nodes[c[t]]=l[_0x37ca("0xcc1")][_0x37ca("0x4e1")][_0x37ca("0x48a")](x[_0x37ca("0x4df")][c[t]],a)}if(x[_0x37ca("0x190")]&&(c=(0,e[_0x37ca("0xe")])(x.Lines)).length)for(_.Lines={},t=0;t<c[_0x37ca("0x4")];++t)_.Lines[c[t]]=l.ESTileMap[_0x37ca("0x4e0")][_0x37ca("0x48a")](x.Lines[c[t]],a);return null!=x.token&&x[_0x37ca("0x1")](_0x37ca("0x79"))&&(_.token=x[_0x37ca("0x79")]),null!=x[_0x37ca("0x44a")]&&x.hasOwnProperty("other1")&&(_[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),null!=x.o1&&x[_0x37ca("0x1")]("o1")&&(_.o1=x.o1),null!=x[_0x37ca("0x44b")]&&x[_0x37ca("0x1")]("other2")&&(_.other2=x[_0x37ca("0x44b")]),null!=x.o2&&x[_0x37ca("0x1")]("o2")&&(_.o2=x.o2),null!=x.t1&&x[_0x37ca("0x1")]("t1")&&(_.t1=x.t1),_},x[_0x37ca("0x11")].toObject=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this.constructor[_0x37ca("0x48a")](this,n.util[_0x37ca("0x48d")])},x}(),i[_0x37ca("0x4e1")]=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")]._id=0,x[_0x37ca("0x11")][_0x37ca("0x43")]=0,x[_0x37ca("0x11")].H=0,x[_0x37ca("0x11")].X=0,x[_0x37ca("0x11")].Y=0,x.prototype.sid=0,x[_0x37ca("0x11")][_0x37ca("0xa8b")]=0,x[_0x37ca("0x11")][_0x37ca("0xd16")]=0,x[_0x37ca("0x11")].other1="",x.prototype.Z=0,x.create=function(a){return new x(a)},x[_0x37ca("0x44c")]=function(x,a){return a||(a=s.create()),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x[_0x37ca("0x43")]&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&a[_0x37ca("0x44d")](16)[_0x37ca("0x44e")](x[_0x37ca("0x43")]),null!=x.H&&x[_0x37ca("0x1")]("H")&&a[_0x37ca("0x44d")](25).double(x.H),null!=x.X&&x[_0x37ca("0x1")]("X")&&a.uint32(33)[_0x37ca("0x451")](x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&a.uint32(41)[_0x37ca("0x451")](x.Y),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&a[_0x37ca("0x44d")](48)[_0x37ca("0x44e")](x[_0x37ca("0x4e9")]),null!=x.gid&&x[_0x37ca("0x1")](_0x37ca("0xa8b"))&&a[_0x37ca("0x44d")](56)[_0x37ca("0x44e")](x[_0x37ca("0xa8b")]),null!=x.layer&&x.hasOwnProperty(_0x37ca("0xd16"))&&a[_0x37ca("0x44d")](64).int32(x.layer),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")]("other1")&&a[_0x37ca("0x44d")](74)[_0x37ca("0xf")](x[_0x37ca("0x44a")]),null!=x.Z&&x[_0x37ca("0x1")]("Z")&&a.uint32(81)[_0x37ca("0x451")](x.Z),a},x.encodeDelimited=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x[_0x37ca("0x7c")]=function(x,a){x instanceof r||(x=r[_0x37ca("0xd")](x));for(var c=void 0===a?x.len:x[_0x37ca("0x3e8")]+a,_=new(l[_0x37ca("0xcc1")][_0x37ca("0x4e1")]);x.pos<c;){var e=x[_0x37ca("0x44d")]();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x.int32();break;case 2:_.tid=x[_0x37ca("0x44e")]();break;case 3:_.H=x.double();break;case 4:_.X=x[_0x37ca("0x451")]();break;case 5:_.Y=x[_0x37ca("0x451")]();break;case 6:_[_0x37ca("0x4e9")]=x[_0x37ca("0x44e")]();break;case 7:_[_0x37ca("0xa8b")]=x[_0x37ca("0x44e")]();break;case 8:_[_0x37ca("0xd16")]=x[_0x37ca("0x44e")]();break;case 9:_[_0x37ca("0x44a")]=x.string();break;case 10:_.Z=x[_0x37ca("0x451")]();break;default:x.skipType(7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(void 0===x?_0x37ca("0x8"):(0,_.default)(x))!==_0x37ca("0xc")||null===x?_0x37ca("0x45d"):null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x[_0x37ca("0x43")]&&x.hasOwnProperty(_0x37ca("0x43"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x43")])?_0x37ca("0x4ea"):null!=x.H&&x[_0x37ca("0x1")]("H")&&"number"!=typeof x.H?_0x37ca("0xd28"):null!=x.X&&x[_0x37ca("0x1")]("X")&&typeof x.X!==_0x37ca("0x143")?_0x37ca("0x4eb"):null!=x.Y&&x[_0x37ca("0x1")]("Y")&&typeof x.Y!==_0x37ca("0x143")?_0x37ca("0x4d0"):null!=x.sid&&x[_0x37ca("0x1")]("sid")&&!o.isInteger(x[_0x37ca("0x4e9")])?_0x37ca("0x4ec"):null!=x[_0x37ca("0xa8b")]&&x[_0x37ca("0x1")](_0x37ca("0xa8b"))&&!o.isInteger(x[_0x37ca("0xa8b")])?_0x37ca("0xd29"):null!=x.layer&&x[_0x37ca("0x1")]("layer")&&!o[_0x37ca("0x45e")](x[_0x37ca("0xd16")])?_0x37ca("0xd23"):null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&!o.isString(x[_0x37ca("0x44a")])?"other1: string expected":null!=x.Z&&x[_0x37ca("0x1")]("Z")&&typeof x.Z!==_0x37ca("0x143")?_0x37ca("0x4ed"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l[_0x37ca("0xcc1")][_0x37ca("0x4e1")])return x;var a=new(l.ESTileMap[_0x37ca("0x4e1")]);return null!=x[_0x37ca("0x176")]&&(a[_0x37ca("0x176")]=0|x._id),null!=x[_0x37ca("0x43")]&&(a[_0x37ca("0x43")]=0|x[_0x37ca("0x43")]),null!=x.H&&(a.H=Number(x.H)),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x[_0x37ca("0x4e9")]&&(a.sid=0|x.sid),null!=x[_0x37ca("0xa8b")]&&(a.gid=0|x[_0x37ca("0xa8b")]),null!=x.layer&&(a[_0x37ca("0xd16")]=0|x[_0x37ca("0xd16")]),null!=x.other1&&(a[_0x37ca("0x44a")]=String(x[_0x37ca("0x44a")])),null!=x.Z&&(a.Z=Number(x.Z)),a},x[_0x37ca("0x2db")]=x.fromObject,x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x176")]=0,c.tid=0,c.H=0,c.X=0,c.Y=0,c[_0x37ca("0x4e9")]=0,c[_0x37ca("0xa8b")]=0,c.layer=0,c[_0x37ca("0x44a")]="",c.Z=0),null!=x[_0x37ca("0x176")]&&x[_0x37ca("0x1")]("_id")&&(c[_0x37ca("0x176")]=x[_0x37ca("0x176")]),null!=x.tid&&x[_0x37ca("0x1")](_0x37ca("0x43"))&&(c.tid=x.tid),null!=x.H&&x[_0x37ca("0x1")]("H")&&(c.H=x.H),null!=x.X&&x.hasOwnProperty("X")&&(c.X=x.X),null!=x.Y&&x[_0x37ca("0x1")]("Y")&&(c.Y=x.Y),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&(c[_0x37ca("0x4e9")]=x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0xa8b")]&&x[_0x37ca("0x1")]("gid")&&(c[_0x37ca("0xa8b")]=x[_0x37ca("0xa8b")]),null!=x[_0x37ca("0xd16")]&&x.hasOwnProperty(_0x37ca("0xd16"))&&(c.layer=x.layer),null!=x.other1&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c[_0x37ca("0x44a")]=x[_0x37ca("0x44a")]),null!=x.Z&&x[_0x37ca("0x1")]("Z")&&(c.Z=x.Z),c},x.prototype[_0x37ca("0x48a")]=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")][_0x37ca("0x4ce")]=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i.NavLineSet=function(){function x(x){if(x)for(var a=(0,e[_0x37ca("0xe")])(x),c=0;c<a[_0x37ca("0x4")];++c)null!=x[a[c]]&&(this[a[c]]=x[a[c]])}return x[_0x37ca("0x11")][_0x37ca("0x176")]=0,x[_0x37ca("0x11")].na="",x.prototype[_0x37ca("0x4e9")]=0,x[_0x37ca("0x11")][_0x37ca("0x4ee")]=0,x.prototype[_0x37ca("0x198")]="",x[_0x37ca("0x11")].rank=0,x.prototype[_0x37ca("0x637")]=0,x[_0x37ca("0x11")].dir="",x[_0x37ca("0x11")][_0x37ca("0x4f0")]=0,x[_0x37ca("0x11")].style=0,x[_0x37ca("0x11")][_0x37ca("0xd16")]=0,x[_0x37ca("0x11")][_0x37ca("0x44a")]="",x.create=function(a){return new x(a)},x.encode=function(x,a){return a||(a=s[_0x37ca("0xd")]()),null!=x._id&&x.hasOwnProperty(_0x37ca("0x176"))&&a[_0x37ca("0x44d")](8)[_0x37ca("0x44e")](x[_0x37ca("0x176")]),null!=x.na&&x.hasOwnProperty("na")&&a.uint32(18).string(x.na),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")]("sid")&&a[_0x37ca("0x44d")](24)[_0x37ca("0x44e")](x[_0x37ca("0x4e9")]),null!=x.eid&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&a[_0x37ca("0x44d")](32)[_0x37ca("0x44e")](x[_0x37ca("0x4ee")]),null!=x[_0x37ca("0x198")]&&x.hasOwnProperty("outline")&&a[_0x37ca("0x44d")](42)[_0x37ca("0xf")](x.outline),null!=x[_0x37ca("0x1ab")]&&x[_0x37ca("0x1")]("rank")&&a[_0x37ca("0x44d")](48)[_0x37ca("0x44e")](x.rank),null!=x[_0x37ca("0x637")]&&x[_0x37ca("0x1")]("dis")&&a[_0x37ca("0x44d")](57)[_0x37ca("0x451")](x[_0x37ca("0x637")]),null!=x[_0x37ca("0x8a5")]&&x[_0x37ca("0x1")]("dir")&&a.uint32(66).string(x[_0x37ca("0x8a5")]),null!=x[_0x37ca("0x4f0")]&&x[_0x37ca("0x1")](_0x37ca("0x4f0"))&&a[_0x37ca("0x44d")](72)[_0x37ca("0x44e")](x[_0x37ca("0x4f0")]),null!=x[_0x37ca("0x24")]&&x[_0x37ca("0x1")](_0x37ca("0x24"))&&a[_0x37ca("0x44d")](80).int32(x[_0x37ca("0x24")]),null!=x.layer&&x[_0x37ca("0x1")](_0x37ca("0xd16"))&&a.uint32(88)[_0x37ca("0x44e")](x[_0x37ca("0xd16")]),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&a[_0x37ca("0x44d")](98)[_0x37ca("0xf")](x[_0x37ca("0x44a")]),a},x[_0x37ca("0x458")]=function(x,a){return this[_0x37ca("0x44c")](x,a)[_0x37ca("0x457")]()},x.decode=function(x,a){x instanceof r||(x=r.create(x));for(var c=void 0===a?x[_0x37ca("0x4bd")]:x[_0x37ca("0x3e8")]+a,_=new(l[_0x37ca("0xcc1")][_0x37ca("0x4e0")]);x[_0x37ca("0x3e8")]<c;){var e=x.uint32();switch(e>>>3){case 1:_[_0x37ca("0x176")]=x[_0x37ca("0x44e")]();break;case 2:_.na=x[_0x37ca("0xf")]();break;case 3:_[_0x37ca("0x4e9")]=x[_0x37ca("0x44e")]();break;case 4:_[_0x37ca("0x4ee")]=x[_0x37ca("0x44e")]();break;case 5:_[_0x37ca("0x198")]=x[_0x37ca("0xf")]();break;case 6:_.rank=x.int32();break;case 7:_[_0x37ca("0x637")]=x.double();break;case 8:_[_0x37ca("0x8a5")]=x.string();break;case 9:_.bstair=x[_0x37ca("0x44e")]();break;case 10:_[_0x37ca("0x24")]=x[_0x37ca("0x44e")]();break;case 11:_[_0x37ca("0xd16")]=x[_0x37ca("0x44e")]();break;case 12:_[_0x37ca("0x44a")]=x[_0x37ca("0xf")]();break;default:x.skipType(7&e)}}return _},x[_0x37ca("0x45b")]=function(x){return x instanceof r||(x=r(x)),this[_0x37ca("0x7c")](x,x[_0x37ca("0x44d")]())},x[_0x37ca("0x45c")]=function(x){return(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))!==_0x37ca("0xc")||null===x?"object expected":null!=x[_0x37ca("0x176")]&&x.hasOwnProperty(_0x37ca("0x176"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x176")])?_0x37ca("0x49e"):null!=x.na&&x[_0x37ca("0x1")]("na")&&!o[_0x37ca("0x1ce")](x.na)?_0x37ca("0xd2a"):null!=x.sid&&x[_0x37ca("0x1")](_0x37ca("0x4e9"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4e9")])?_0x37ca("0x4ec"):null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x4ee")])?_0x37ca("0x4f2"):null!=x[_0x37ca("0x198")]&&x[_0x37ca("0x1")](_0x37ca("0x198"))&&!o[_0x37ca("0x1ce")](x[_0x37ca("0x198")])?_0x37ca("0xd2b"):null!=x[_0x37ca("0x1ab")]&&x[_0x37ca("0x1")](_0x37ca("0x1ab"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x1ab")])?_0x37ca("0x4f4"):null!=x[_0x37ca("0x637")]&&x.hasOwnProperty(_0x37ca("0x637"))&&"number"!=typeof x.dis?"dis: number expected":null!=x[_0x37ca("0x8a5")]&&x[_0x37ca("0x1")]("dir")&&!o.isString(x.dir)?_0x37ca("0xd2c"):null!=x.bstair&&x[_0x37ca("0x1")](_0x37ca("0x4f0"))&&!o[_0x37ca("0x45e")](x.bstair)?_0x37ca("0xd2d"):null!=x.style&&x[_0x37ca("0x1")](_0x37ca("0x24"))&&!o[_0x37ca("0x45e")](x[_0x37ca("0x24")])?_0x37ca("0xd2e"):null!=x[_0x37ca("0xd16")]&&x[_0x37ca("0x1")](_0x37ca("0xd16"))&&!o.isInteger(x[_0x37ca("0xd16")])?_0x37ca("0xd23"):null!=x[_0x37ca("0x44a")]&&x.hasOwnProperty(_0x37ca("0x44a"))&&!o.isString(x[_0x37ca("0x44a")])?_0x37ca("0x47d"):null},x[_0x37ca("0x483")]=function(x){if(x instanceof l.ESTileMap[_0x37ca("0x4e0")])return x;var a=new(l[_0x37ca("0xcc1")][_0x37ca("0x4e0")]);return null!=x._id&&(a[_0x37ca("0x176")]=0|x[_0x37ca("0x176")]),null!=x.na&&(a.na=String(x.na)),null!=x[_0x37ca("0x4e9")]&&(a[_0x37ca("0x4e9")]=0|x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0x4ee")]&&(a[_0x37ca("0x4ee")]=0|x[_0x37ca("0x4ee")]),null!=x[_0x37ca("0x198")]&&(a[_0x37ca("0x198")]=String(x[_0x37ca("0x198")])),null!=x[_0x37ca("0x1ab")]&&(a[_0x37ca("0x1ab")]=0|x[_0x37ca("0x1ab")]),null!=x[_0x37ca("0x637")]&&(a.dis=Number(x[_0x37ca("0x637")])),null!=x.dir&&(a[_0x37ca("0x8a5")]=String(x[_0x37ca("0x8a5")])),null!=x[_0x37ca("0x4f0")]&&(a[_0x37ca("0x4f0")]=0|x[_0x37ca("0x4f0")]),null!=x.style&&(a[_0x37ca("0x24")]=0|x[_0x37ca("0x24")]),null!=x.layer&&(a[_0x37ca("0xd16")]=0|x.layer),null!=x[_0x37ca("0x44a")]&&(a.other1=String(x.other1)),a},x[_0x37ca("0x2db")]=x[_0x37ca("0x483")],x[_0x37ca("0x48a")]=function(x,a){a||(a={});var c={};return a[_0x37ca("0x489")]&&(c[_0x37ca("0x176")]=0,c.na="",c[_0x37ca("0x4e9")]=0,c[_0x37ca("0x4ee")]=0,c[_0x37ca("0x198")]="",c.rank=0,c[_0x37ca("0x637")]=0,c.dir="",c[_0x37ca("0x4f0")]=0,c[_0x37ca("0x24")]=0,c.layer=0,c[_0x37ca("0x44a")]=""),null!=x._id&&x[_0x37ca("0x1")](_0x37ca("0x176"))&&(c._id=x._id),null!=x.na&&x[_0x37ca("0x1")]("na")&&(c.na=x.na),null!=x[_0x37ca("0x4e9")]&&x[_0x37ca("0x1")]("sid")&&(c.sid=x[_0x37ca("0x4e9")]),null!=x[_0x37ca("0x4ee")]&&x[_0x37ca("0x1")](_0x37ca("0x4ee"))&&(c[_0x37ca("0x4ee")]=x.eid),null!=x[_0x37ca("0x198")]&&x[_0x37ca("0x1")](_0x37ca("0x198"))&&(c[_0x37ca("0x198")]=x[_0x37ca("0x198")]),null!=x[_0x37ca("0x1ab")]&&x.hasOwnProperty(_0x37ca("0x1ab"))&&(c[_0x37ca("0x1ab")]=x.rank),null!=x.dis&&x.hasOwnProperty(_0x37ca("0x637"))&&(c.dis=x.dis),null!=x.dir&&x[_0x37ca("0x1")](_0x37ca("0x8a5"))&&(c.dir=x.dir),null!=x[_0x37ca("0x4f0")]&&x[_0x37ca("0x1")](_0x37ca("0x4f0"))&&(c.bstair=x[_0x37ca("0x4f0")]),null!=x[_0x37ca("0x24")]&&x[_0x37ca("0x1")](_0x37ca("0x24"))&&(c[_0x37ca("0x24")]=x[_0x37ca("0x24")]),null!=x[_0x37ca("0xd16")]&&x[_0x37ca("0x1")](_0x37ca("0xd16"))&&(c[_0x37ca("0xd16")]=x[_0x37ca("0xd16")]),null!=x[_0x37ca("0x44a")]&&x[_0x37ca("0x1")](_0x37ca("0x44a"))&&(c.other1=x[_0x37ca("0x44a")]),c},x[_0x37ca("0x11")].toObject=function(x){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,x)},x[_0x37ca("0x11")].toJSON=function(){return this[_0x37ca("0x48b")][_0x37ca("0x48a")](this,n[_0x37ca("0x48c")][_0x37ca("0x48d")])},x}(),i),x[_0x37ca("0x7")]=l},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a[_0x37ca("0xc44")]=void 0;var _=l(c(8)),e=l(c(0)),t=l(c(1)),i=l(c(137)),n=c(295),r=c(99),s=c(296),o=l(c(24));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=c(138),d=_0x37ca("0x1e7"),f=null,h=null,g=function(){function x(a){(0,e[_0x37ca("0xe")])(this,x),this.service=a,this[_0x37ca("0x39")]=a.map,this[_0x37ca("0xd2f")]={},this[_0x37ca("0xd30")]=this[_0x37ca("0x39")][_0x37ca("0x36")],this[_0x37ca("0xc8b")]=[],this[_0x37ca("0xc48")]=!0,this[_0x37ca("0x18f")]={},this[_0x37ca("0xd31")]={},(this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]||this.map.options[_0x37ca("0xc49")]!=_0x37ca("0x536"))&&(this[_0x37ca("0xc48")]=!1)}return(0,t[_0x37ca("0xe")])(x,[{key:_0x37ca("0xd32"),value:function(x){var a=x.bid,c=x[_0x37ca("0x1c8")],_=x.fnum,e=(x.id,this.buildingFilters[a]);if(!e)return!0;var t=e[_0x37ca("0xd33")],i=e.data;if("include"==t){if(!i[_])return!1;var n=!1;for(var r in i[_]){var s=i[_][r];if(esmap.ESMapUtil[_0x37ca("0xacb")](c,s)){n=!0;break}}return n}}},{key:_0x37ca("0xd34"),value:function(x){x[_0x37ca("0x22a")]==_0x37ca("0x5b")&&(this.buildingFilters[x[_0x37ca("0xef")]]=x)}},{key:"getOutLineList",value:function(x){var a=new Array;if(null!=x&&x.length>10)for(var c=x[_0x37ca("0x2b")]("&&"),_=0;_<c[_0x37ca("0x4")];_++){var e=c[_].indexOf("&");e>0&&(c[_]=c[_].substring(0,e)),c[_][_0x37ca("0x4")]>10&&a[_0x37ca("0x0")](c[_])}return a}},{key:_0x37ca("0xb0f"),value:function(){}},{key:_0x37ca("0xd35"),value:function(x,a,c,_){var e=this[_0x37ca("0xd36")](a,x);esmap[_0x37ca("0x34")].tempFlipX_&&this[_0x37ca("0xb0f")](e),c(e)}},{key:_0x37ca("0xd37"),value:function(x){return!(x>esmap[_0x37ca("0xd38")]||x<esmap[_0x37ca("0xd39")])}},{key:_0x37ca("0xd3a"),value:function(x,a){if(x||(x=23),this[_0x37ca("0x39")].mode==esmap[_0x37ca("0x3c")][_0x37ca("0x210")])return x;if(x>=23)return 11;var c=a[_0x37ca("0xd3b")][x]*a[_0x37ca("0xd3c")];return this[_0x37ca("0x39")].mapView[_0x37ca("0xd3d")](c)}},{key:"addToSingleMeshData",value:function(x){var a=this,c=this.map[_0x37ca("0x14c")],_=x.floornum,e=new(THREE[_0x37ca("0xe2")])(1,1.5,1);if(x[_0x37ca("0x22e")]){var t=x[_0x37ca("0x22e")].split(",");e=new(THREE[_0x37ca("0xe2")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x[_0x37ca("0xd3e")])var i=Math.PI/180,n=x[_0x37ca("0xd3e")][_0x37ca("0x2b")](","),r=new(THREE[_0x37ca("0x231")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i);var s=new(THREE[_0x37ca("0xe2")])(x.x,x.y,0),o=new(THREE[_0x37ca("0xe2")])(-x[_0x37ca("0x4b7")]-c[_0x37ca("0x19a")],0,x.CenY-c.sceneZ_);if(x.offset){var l=x.offset[_0x37ca("0x2b")](",");o.x+=parseFloat(l[0]),o.y+=parseFloat(l[1]),o.z+=parseFloat(l[2]),s.x-=parseFloat(l[0]),s.z+=parseFloat(l[1]),s.y+=parseFloat(l[2])}var u={id:x[_0x37ca("0x61c")],name:x.name,fnum:x[_0x37ca("0x48f")],rotation:r,position:o,scale:e,rotate:x[_0x37ca("0xd3e")]};a.singleMesheDatas[x[_0x37ca("0xd3f")]]||(a[_0x37ca("0xc47")][x[_0x37ca("0xd3f")]]={}),a.singleMesheDatas[x[_0x37ca("0xd3f")]][_]||(a[_0x37ca("0xc47")][x[_0x37ca("0xd3f")]][_]=[]),a.singleMesheDatas[x[_0x37ca("0xd3f")]][_][_0x37ca("0x0")](u)}},{key:_0x37ca("0xd40"),value:function(x,a){var c=a.sourceData.bid,_=x[_0x37ca("0x48f")],e=this[_0x37ca("0x39")][_0x37ca("0x180")],t=this.map[_0x37ca("0x36")],i=this[_0x37ca("0xc48")],n=this.map[_0x37ca("0x36")][_0x37ca("0x70")],r=this,s={maxx:0,minx:1/0,maxy:0,miny:1/0},l=[],u=[],f=[],h=[],g=[],b=this.getOutLineList(x[_0x37ca("0x492")]),v=a[_0x37ca("0xe5")].x,p=a[_0x37ca("0xe5")].y;a[_0x37ca("0x36")][_0x37ca("0xcf4")]&&(v=a[_0x37ca("0x36")].dataCenter.x,p=a[_0x37ca("0x36")][_0x37ca("0xcf4")].y);var A=[],m=(this[_0x37ca("0x39")].mapScene,{x:v+a[_0x37ca("0x169")][_0x37ca("0x43c")]+0,y:p-a[_0x37ca("0x169")][_0x37ca("0x43d")]+0});a[_0x37ca("0x137")]=m;for(var C=0;C<b[_0x37ca("0x4")];C++){var I=[],y=this[_0x37ca("0xd41")](b[C],m.x,m.y),E=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:d,to:e,coords:y[_0x37ca("0xee")],flipX:!0});for(var w in y[_0x37ca("0x554")]){var T=y.holes[w],k=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:d,to:e,coords:T,flipX:!0});I[_0x37ca("0x0")](k)}y[_0x37ca("0xee")]=E,y[_0x37ca("0x554")]=I,l[_0x37ca("0x0")](y)}a[_0x37ca("0x8fa")][_]=s,l[_0x37ca("0x1f")]((function(x){x[_0x37ca("0xee")].forEach((function(x){x.y<s[_0x37ca("0xaf")]&&(s.miny=x.y),x.y>s[_0x37ca("0xac")]&&(s[_0x37ca("0xac")]=x.y),-x.x<s[_0x37ca("0xae")]&&(s[_0x37ca("0xae")]=-x.x),-x.x>s[_0x37ca("0xab")]&&(s[_0x37ca("0xab")]=-x.x)}))})),x[_0x37ca("0x492")]=null;var S=x[_0x37ca("0x494")],M=0;for(var R in S){var L=!1,H=S[R],P=this[_0x37ca("0x39")][_0x37ca("0x17e")]({from:d,to:e,coord:{x:H.CenX+m.x,y:H.CenY+m.y}});if(this.checkBuildingFilter({bid:c,coord:{x:H[_0x37ca("0x4b7")]+m.x,y:H.CenY+m.y},fnum:_,id:H[_0x37ca("0x176")]})){var D=this[_0x37ca("0xd41")](H[_0x37ca("0x492")],m.x,m.y);D.floornum=_,D[_0x37ca("0xd42")]=!1,H[_0x37ca("0x492")][_0x37ca("0xda")](_0x37ca("0xd43"))>-1&&(D.isTube=!0),D[_0x37ca("0x173")]=H.BC>>1||1,D.oid=H._id,D[_0x37ca("0x621")]=H.RS,D.FC=H.FC||null,D.gid=null,D.RColor=H.RC||"",D[_0x37ca("0x8ea")]=D[_0x37ca("0xee")],D[_0x37ca("0x62b")]=null,D[_0x37ca("0xd44")]=D[_0x37ca("0x554")];var O=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:d,to:e,coords:D[_0x37ca("0xee")],flipX:!0});D[_0x37ca("0xee")]=O,this[_0x37ca("0xc80")].buildingBounds[H[_0x37ca("0x176")]]=[D.points];var B=this[_0x37ca("0x39")][_0x37ca("0x566")]({from:d,to:e,coords:D[_0x37ca("0x554")],flipX:!0});D[_0x37ca("0x554")]=B,D.CenX=P.x,D[_0x37ca("0x4b8")]=P.y,D[_0x37ca("0xd45")]=-1,D[_0x37ca("0xd3f")]=H.RM,D[_0x37ca("0xd3f")]&&(i&&D[_0x37ca("0xd3f")].indexOf(_0x37ca("0xbf7"))>=0?L=!0:(M++,a[_0x37ca("0x14f")].modelStatic[_0x37ca("0x162")]++)),D[_0x37ca("0xd46")]=H.Tid||H[_0x37ca("0xd46")]||0,D[_0x37ca("0xa8a")]=1&H.BC||0;var N=D.bclick||1==t[_0x37ca("0x23e")];r[_0x37ca("0xc8b")][_0x37ca("0xda")](c)>=0&&(N=D[_0x37ca("0xa8a")]=H.BC&&1&H.BC),D[_0x37ca("0xd47")]=H.FS||0,D.name=n?this.getLangItemFromJson(H[_0x37ca("0x1aa")],n):H[_0x37ca("0x1aa")],H.RMO&&(D[_0x37ca("0x137")]=H[_0x37ca("0x4b6")]),D[_0x37ca("0x620")]=null==H.RH?5:H.RH,D[_0x37ca("0xd48")]=null==H.RL?"":H.RL,D[_0x37ca("0xd49")]=null==H.RLSize?"":H[_0x37ca("0x4bb")];var F=D[_0x37ca("0xd49")][_0x37ca("0x2b")](",");if(F[3]&&(D.TextureType=1*F[3]),D[_0x37ca("0xd48")])for(var z=D[_0x37ca("0xd48")][_0x37ca("0x2b")](";"),j=D[_0x37ca("0xd49")].split(";"),X=0;X<z[_0x37ca("0x4")];X++){var Y=z[X],U="";if(j[X])1*j[X].split(",")[3]<3?(U=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x55"),{filename:Y,type:"imagelogo",buildingId:a.id}),r[_0x37ca("0xc80")].ResourcePool[_0x37ca("0xc7b")](U,_0x37ca("0xc76"),Y)):(U=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x55"),{filename:Y,type:_0x37ca("0xd4a"),buildingId:a.id}),r[_0x37ca("0xc80")][_0x37ca("0xd4b")].prefetchTexture(U,_0x37ca("0xc77"),Y))}D[_0x37ca("0xd4c")]=H.SL||24,6!=D.top?(H.RM&&(H[_0x37ca("0x4b4")]&&(D[_0x37ca("0x22e")]=H.RMS),H[_0x37ca("0x4b5")]&&(D.rotate=H[_0x37ca("0x4b5")])),D[_0x37ca("0xd45")]>=3&&(D.RS=D[_0x37ca("0x621")],D.texturekey=D[_0x37ca("0x621")]+"_"+D[_0x37ca("0xd48")]+"_"+D[_0x37ca("0xd49")]),D[_0x37ca("0x620")]>4&&this.map[_0x37ca("0x36")][_0x37ca("0x200")]?D.textureInfo={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:D[_0x37ca("0xd4d")]=!0,N?u[_0x37ca("0x0")](D):(D[_0x37ca("0x620")]=null==H.RH?.25:H.RH,g[_0x37ca("0x0")](D)),L&&(this.map[_0x37ca("0x36")][_0x37ca("0xc49")]==_0x37ca("0x536")||this[_0x37ca("0x39")].options[_0x37ca("0x23e")]||console[_0x37ca("0x23b")](_0x37ca("0xce1")),this[_0x37ca("0xc4a")](D))):A[_0x37ca("0x0")](D)}}var G=x[_0x37ca("0x16a")];for(var Q in G){var V=x[_0x37ca("0x16a")][Q],W={oid:V[_0x37ca("0x176")],Typeid:V[_0x37ca("0x4ba")],name:(n?this[_0x37ca("0xd4e")](V[_0x37ca("0x1aa")],n):V[_0x37ca("0x1aa")])||"",fontstyleid:V.FSId,Height:V.SH,X:V.X+m.x,Y:V.Y+m.y,image:V.image,w:null==V.w?32:V.w,h:null==V.h?32:V.h,ShowLevel:this[_0x37ca("0xd3a")](V.SL,a),texture:null==V.image||""==V[_0x37ca("0x497")]?"":esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](this.map[_0x37ca("0x36")][_0x37ca("0x44")]+"/"+c+_0x37ca("0xd4f")+V[_0x37ca("0x497")]),center:{x:.5,y:0}};if(V[_0x37ca("0x44a")]){var Z=V[_0x37ca("0x44a")][_0x37ca("0x2b")](",");W[_0x37ca("0x497")]=Z[0],W.w=1*Z[1],W.h=1*Z[2];var J=_0x37ca("0x172");switch(1*Z[3]){case 0:J=_0x37ca("0x172");break;case 1:J=_0x37ca("0x173");break;case 2:J="right";break;case 3:J=_0x37ca("0x175")}W[_0x37ca("0xd50")]=J,W[_0x37ca("0xe5")]={x:1*Z[4],y:1*Z[5]}}f[_0x37ca("0x0")](W)}var K=x[_0x37ca("0x48e")];if(x[_0x37ca("0x48e")])for(var q in K){var $=K[q],xx={oid:$._id,X:$.X+m.x,Y:$.Y+m.y,Height:$.SH,image:null==$[_0x37ca("0x497")]?"":$[_0x37ca("0x497")],w:null==$.w||""==$.w?32:$.w,h:null==$.h||""==$.h?32:$.h,name:n?this[_0x37ca("0xd4e")]($[_0x37ca("0x1aa")],n):$[_0x37ca("0x1aa")],ShowLevel:this[_0x37ca("0xd3a")]($.SL,a),Typeid:$[_0x37ca("0x4ba")],center:{x:.5,y:0}};if($[_0x37ca("0x44a")]){var ax=$.other1[_0x37ca("0x2b")](",");xx.image=ax[0],xx.w=1*ax[1],xx.h=1*ax[2],xx[_0x37ca("0xd51")]=1*ax[3],xx.center.x=1*ax[4],xx[_0x37ca("0xe5")].y=1*ax[5]}h[_0x37ca("0x0")](xx)}x[_0x37ca("0x496")];var cx={fnum:_,floorEdge:s,floorBaseLayers:[{lid:2,floorBases:l}],modellayers:[{lid:3,models:u}],labellayers:[{lid:5,labels:f}],poilayers:[{lid:4,pois:h}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:g}],roadDatas:A,modelsCount:M};return this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ea")]||(a[_0x37ca("0xc04")][_][_0x37ca("0x219")]=u[_0x37ca("0x4")]),cx}},{key:_0x37ca("0xd36"),value:function(x,a){for(var c=a[_0x37ca("0x169")][_0x37ca("0x445")],_=0;_<c[_0x37ca("0x4")];_++){var e=c[_];if(e[_0x37ca("0x48f")]==x)return this[_0x37ca("0xd40")](e,a)}return null}},{key:"convertIndoorGeo2Geometry_",value:function(x,a,c){var _=(new(i.default[_0x37ca("0xc91")])).parseIndoorGeo(x,a,c);return{points:_[_0x37ca("0x423")],holes:_.holes_}}},{key:_0x37ca("0xc4f"),value:function(x,a){a[_0x37ca("0xd52")]=esmap[_0x37ca("0x641")][_0x37ca("0xc51")](x);var c=a[_0x37ca("0xd52")][_0x37ca("0x69b")](new(THREE[_0x37ca("0xe2")])),_=x[_0x37ca("0x43b")],e=x[_0x37ca("0x445")][_-1][_0x37ca("0x491")],t=.75*c.x+e,i=new THREE.Vector3(c.x,t,-c.x),n=new(THREE[_0x37ca("0xe2")])(0,0,0),r=i.distanceTo(n);a[_0x37ca("0xd3b")]=JSON.parse("["+x[_0x37ca("0x441")]+"]"),a[_0x37ca("0x169")]=x,a._initDistance=r;var s,o=a[_0x37ca("0x36")],l=a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],u=o[_0x37ca("0xc52")];if(u){if(!Array[_0x37ca("0x474")](u)&&u!=_0x37ca("0x62c"))return void console[_0x37ca("0x29d")](_0x37ca("0xd53")+" "+esmap[_0x37ca("0x29e")][_0x37ca("0xd54")]+_0x37ca("0xd55")+_0x37ca("0xd56"));s=o[_0x37ca("0xd57")]?o[_0x37ca("0xd57")]:o[_0x37ca("0xc50")]?o[_0x37ca("0xc50")]:x.DefaultFnum?x[_0x37ca("0x43b")]:1}else u=[s=o[_0x37ca("0xd57")]?o[_0x37ca("0xd57")]:o[_0x37ca("0xc50")]?o[_0x37ca("0xc50")]:x[_0x37ca("0x43b")]?x.DefaultFnum:1];(s>x[_0x37ca("0x445")][_0x37ca("0x4")]||s<1)&&(s=x.DefaultFnum||1),o[_0x37ca("0xc50")]=s,(Array[_0x37ca("0x474")](u)&&u[_0x37ca("0x4")]==x.floors[_0x37ca("0x4")]||u==_0x37ca("0x62c"))&&o[_0x37ca("0x610")]==esmap[_0x37ca("0x5b1")][_0x37ca("0xad4")]&&(console[_0x37ca("0x29d")](esmap.ESInfo.VIEW_MODE2D_ALLFNUM),u=[s]),o[_0x37ca("0xc52")]=u,a[_0x37ca("0xd58")]=u;var d=o[_0x37ca("0xd59")]||0,f=0,h=0,g=0;for(this.map[_0x37ca("0x157")][_0x37ca("0x5da")][a.id]&&this[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x5da")][a.id][_0x37ca("0x137")]&&(g=this[_0x37ca("0x39")][_0x37ca("0x157")].bidList[a.id][_0x37ca("0x137")].z);f<x[_0x37ca("0x445")][_0x37ca("0x4")];f++){var b=x[_0x37ca("0x445")][f];b[_0x37ca("0x490")]<0&&(b[_0x37ca("0x491")]*=.001),h=d instanceof Array?d[f]||0+b[_0x37ca("0x491")]:(f+1)*d+b[_0x37ca("0x491")],b[_0x37ca("0x491")]=h+g,b[_0x37ca("0xd5a")]=d+x[_0x37ca("0x444")],a[_0x37ca("0x62d")][_0x37ca("0x0")](b[_0x37ca("0x48f")]),a.toLoaded[b[_0x37ca("0x48f")]]={label:1,poi:1,floorBase:1,model:1,modelBase:l?0:1,model3D:0}}return a[_0x37ca("0x169")]}},{key:"queryBuildingTheme2",value:function(x,a,c){var _=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x52"),{themeID:x,ext:"json"});esmap[_0x37ca("0x585")].getJSON({url:_})[_0x37ca("0x347")](c)[_0x37ca("0xca")]((function(){var a=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x52"),{themeID:x,ext:"theme"});esmap[_0x37ca("0x585")][_0x37ca("0x34b")]({url:a})[_0x37ca("0x347")](c)}))}},{key:_0x37ca("0xa26"),value:function(x){return new _.default((function(a){var c=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x52"),{themeID:x,ext:"json"});esmap.Ajax[_0x37ca("0x34b")]({url:c})[_0x37ca("0x347")](a)[_0x37ca("0xca")]((function(){var c=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x52"),{themeID:x,ext:"theme"});esmap[_0x37ca("0x585")][_0x37ca("0x34b")]({url:c})[_0x37ca("0x347")](a)}))}))}},{key:_0x37ca("0xd4e"),value:function(x,a){return this[_0x37ca("0xc80")][_0x37ca("0xa5d")][_0x37ca("0xd5b")]&&this[_0x37ca("0xc80")][_0x37ca("0xa5d")][_0x37ca("0xd5b")][x]?this[_0x37ca("0xc80")].langLib[_0x37ca("0xd5b")][x][1*a-1]:x}},{key:_0x37ca("0xc4c"),value:function(x){return this[_0x37ca("0x39")].mode===esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?this[_0x37ca("0xd5c")](x):this[_0x37ca("0xd5d")](x)}},{key:_0x37ca("0xd5d"),value:function(x){if(!this[_0x37ca("0xd37")](x[_0x37ca("0x95")]))return console[_0x37ca("0x29d")](esmap.ESInfo[_0x37ca("0xd5e")]),!1;var a=x.maptime<32503514?x[_0x37ca("0x42f")]:x[_0x37ca("0x42f")]/1e3;return!((new Date).getTime()>1e6*a)||(console[_0x37ca("0x29d")](bname+_0x37ca("0xd5f")+esmap.ESInfo.EXPIRED),!1)}},{key:"_authBuilding",value:function(x){var a=this[_0x37ca("0xd30")],c=a.s&&a.k,_=x.bid;if(this[_0x37ca("0xd37")](x[_0x37ca("0x95")])){if(x.logotoken&&a[_0x37ca("0x449")])(0,n[_0x37ca("0xd60")])(_0x37ca("0xaba")+(x[_0x37ca("0xef")]+a[_0x37ca("0x449")]))==x[_0x37ca("0x449")]&&this.service[_0x37ca("0x99b")](_0x37ca("0x40d"),!1);var e=!1;if(c){var t=(0,n[_0x37ca("0xd60")])(x.token+_0x37ca("0xd61")),i=a.k[_0x37ca("0xda")]("&"),o=a.k;if(i>0&&(o=o.substring(0,i),t=(0,n[_0x37ca("0xd60")])(x[_0x37ca("0x79")]+"mapshow")),t!=o)return r[_0x37ca("0x317")][_0x37ca("0x318")](2001),!1;this[_0x37ca("0xc80")][_0x37ca("0x99b")]("sk",!0),e=!0}var l=x[_0x37ca("0x442")];if(!(c&&e||"share"===x.token)){var u=document.domain,d=(0,n[_0x37ca("0xd60")])(u);if(s[_0x37ca("0xd62")][_0x37ca("0xda")](d)<0){if(l[_0x37ca("0x4")]>1&&l[_0x37ca("0xda")](u)<0)return r[_0x37ca("0x317")][_0x37ca("0x318")]({code:2002,param:[_,u,1]}),!1;if(!a.token)return r[_0x37ca("0x317")][_0x37ca("0x318")]({code:2003,param:[_,1]}),!1;if((0,n[_0x37ca("0xd60")])(""+(x[_0x37ca("0x176")]+a[_0x37ca("0x79")]))!=x[_0x37ca("0x79")])return r[_0x37ca("0x317")][_0x37ca("0x318")]({code:2004,param:[_,1]}),!1;if(h!=f[0])return!1}}f=null,(0,n.decrypt)(x[_0x37ca("0x79")]+x[_0x37ca("0x449")]+l+x.o1+_0x37ca("0xc9e")+x.o2)!==x[_0x37ca("0x430")]&&x[_0x37ca("0x430")]!==x[_0x37ca("0x79")]&&x.token!==_0x37ca("0xabd")&&sourceHashStatus++;var g=x.maptime<32503514?x[_0x37ca("0x42f")]:x.maptime/1e3;return(new Date)[_0x37ca("0x78")]()>1e6*g?(r.MapError[_0x37ca("0x318")]({code:2005,param:[_,1]}),!1):(x.adcode&&this.service[_0x37ca("0x99b")](_0x37ca("0xd63"),x.adcode),this[_0x37ca("0xc80")][_0x37ca("0x99b")]("ul",x.ul),this[_0x37ca("0xc80")][_0x37ca("0x99b")]("o2",x.o2||0),0!=x[_0x37ca("0x445")][_0x37ca("0x4")]||(r[_0x37ca("0x317")][_0x37ca("0x318")]({code:2009,param:[_,1]}),!1))}console[_0x37ca("0x29d")](_this[_0x37ca("0x39")][_0x37ca("0xb07")],esmap.ESInfo[_0x37ca("0xd5e")],": "+results[_0x37ca("0x95")])}},{key:"queryData",value:function(x){var a=x[_0x37ca("0x4a")],c=x.skMode,e=x.id;return new(_[_0x37ca("0xe")])((function(x,_){esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:a,isArrayBuffer:!0})[_0x37ca("0x347")]((function(t){var i,s=new Uint8Array(t);h=s[0],c&&(0,n[_0x37ca("0xd2")])(e,s),f=s;try{i=u[_0x37ca("0x34")][_0x37ca("0x480")][_0x37ca("0x7c")](s)}catch(x){return r.MapError[_0x37ca("0x318")]({code:2008,param:[e,a,1]}),console.info(e,x),void _()}x(i)}))[_0x37ca("0xca")]((function(){r[_0x37ca("0x317")][_0x37ca("0x318")]({code:2007,param:[e,1]})}))}))}},{key:"singleMesheDatas",get:function(){return this[_0x37ca("0xc80")][_0x37ca("0xc47")]}},{key:_0x37ca("0x37"),get:function(){return this[_0x37ca("0x39")][_0x37ca("0x37")]}}]),x}();a[_0x37ca("0xc44")]=g},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0}),a[_0x37ca("0xd60")]=function(x){var a,c,_,e,t,i="QRSTUVWXYZabcdef"+_0x37ca("0x63b")+_0x37ca("0x63c")+_0x37ca("0x63d")+"=",n="",r="",s="",o=0;do{a=x[_0x37ca("0x2d")](o++),c=x.charCodeAt(o++),r=x[_0x37ca("0x2d")](o++),_=a>>4,e=(3&a)<<4|c>>4,t=(15&c)<<2|r>>6,s=63&r,isNaN(c)?t=s=64:isNaN(r)&&(s=64),n=n+i[_0x37ca("0x63e")](_)+i[_0x37ca("0x63e")](e)+i[_0x37ca("0x63e")](t)+i[_0x37ca("0x63e")](s),a=c=r="",_=e=t=s=""}while(o<x[_0x37ca("0x4")]);return n},a.decodeByte=function(x,a){for(var c=function(x){for(var a=[],c=0;c<x[_0x37ca("0x4")];c++)a[c]=x[_0x37ca("0x2d")](c);return a}(x),_=0;_<16;_++)for(var e=0;e<c[_0x37ca("0x4")];e++)a[_]=a[_]^c[e]}},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});a[_0x37ca("0xd62")]=[_0x37ca("0xd64"),"TjEySDU2TS4xSDUyTw==",_0x37ca("0xd65"),"X3t3SGlzWmVwSGdO"]},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(8)),e=n(c(2)),t=n(c(0)),i=n(c(1));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=function(){function x(a){(0,t.default)(this,x),this.mapService=a,this[_0x37ca("0xd5b")]=null,this.navLib={default:null,userData:null},this[_0x37ca("0xa64")]={default:{meter:"米"},userData:null},this.key=_0x37ca("0xd66"),this[_0x37ca("0xd67")]=this[_0x37ca("0xd68")](this[_0x37ca("0x627")]);this[_0x37ca("0xa62")].default={"上行":"上行","下行":"下行","导航结束":"导航结束","即将到达目的地":_0x37ca("0xd69"),"感谢使用易景三维场景导航":_0x37ca("0xd6a"),"左转":"左转","右转":"右转","后":"后","右后转":_0x37ca("0xd6b"),"左后转":_0x37ca("0xd6c"),"左前方直行":"左前方直行","右前方直行":_0x37ca("0xd6d"),"到达目的地":_0x37ca("0xd6e"),"直行":"直行","左转后右转":_0x37ca("0xd6f"),"已重新规划路线":_0x37ca("0xd70"),"右转后左转":_0x37ca("0xd71"),"右转后右转":_0x37ca("0xd72"),"左转后左转":_0x37ca("0xd73"),"步行导航开始":_0x37ca("0xd74"),"进入室内":_0x37ca("0xd75"),"进入室外":_0x37ca("0xd76"),"车形导航开始":_0x37ca("0xd77"),A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","负":"负","楼":"楼","进入":"进入","层":"层","目的地在道路左侧":"目的地在道路左侧","目的地在道路右侧":_0x37ca("0xd78"),"坡道":"坡道","前往":"前往","请减速":_0x37ca("0xd79"),"后退":"后退","楼梯":"楼梯","电梯":"电梯","扶梯":"扶梯","米":"米","十":"十","百":"百","千":"千",",":","}}return(0,i[_0x37ca("0xe")])(x,[{key:"stringtoChar",value:function(x){for(var a=[],c=0;c<x[_0x37ca("0x4")];c++)a[c]=x[_0x37ca("0x2d")](c);return a}},{key:"applyToNavLib",value:function(x){x?(this[_0x37ca("0xa62")][_0x37ca("0x11a")]={},(0,e.default)(this[_0x37ca("0xa62")].userData,x)):this.navLib[_0x37ca("0x11a")]=null}},{key:"applyToGeneralLib",value:function(x){x?(this[_0x37ca("0xa64")][_0x37ca("0x11a")]={},(0,e[_0x37ca("0xe")])(this[_0x37ca("0xa64")][_0x37ca("0x11a")],x)):this[_0x37ca("0xa64")].userData=null}},{key:"decode",value:function(x){for(var a="",c=this[_0x37ca("0xd68")](x),_=0;_<c.length;_++){for(var e=0;e<this[_0x37ca("0xd67")][_0x37ca("0x4")];e++)c[_]=c[_]^this[_0x37ca("0xd67")][e];a+=String[_0x37ca("0xd3")](c[_])}return a}},{key:"queryJsonData",value:function(x){var a=this;return new(_[_0x37ca("0xe")])((function(c){if(a[_0x37ca("0x163")][_0x37ca("0x39")].options[_0x37ca("0x70")]){var _=a[_0x37ca("0x163")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")]+"/"+x+"/"+x+_0x37ca("0xd7a");esmap.Ajax[_0x37ca("0x34b")]({url:_})[_0x37ca("0x347")]((function(x){a[_0x37ca("0xd5b")]=JSON.parse(a[_0x37ca("0x7c")](x)),c()}))}else c()}))}},{key:_0x37ca("0xd7b"),value:function(x){return(this[_0x37ca("0xa62")].userData?this.navLib[_0x37ca("0x11a")][x]?this[_0x37ca("0xa62")].userData[x]:this.navLib.default[x]:this[_0x37ca("0xa62")].default[x])||x}},{key:_0x37ca("0xd7c"),value:function(x){return this[_0x37ca("0xa64")][_0x37ca("0x11a")]&&this[_0x37ca("0xa64")].userData[x]?this[_0x37ca("0xa64")][_0x37ca("0x11a")][x]:this[_0x37ca("0xa64")][_0x37ca("0xe")][x]}},{key:_0x37ca("0xd7d"),value:function(){}}]),x}();a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0}),a.ModelLod=void 0;var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this.map=a,this[_0x37ca("0x4b3")]=[],this[_0x37ca("0xd7e")]={},this[_0x37ca("0xd7f")]=[],this[_0x37ca("0xea")]()}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xe0"),value:function(x){var a=x.o3d_;this[_0x37ca("0x4b3")].push({uuid:a.uuid,model:x,lod:0,targetLod:0,rank:1/0})}},{key:"rankObjects",value:function(){if(0!=this[_0x37ca("0x4b3")][_0x37ca("0x4")]){var x=150,a=50,c=this[_0x37ca("0x39")].currentCamera[_0x37ca("0xb8")],_={0:[],1:[],2:[]},e=[],t=this.map[_0x37ca("0x157")][_0x37ca("0x158")],i=this[_0x37ca("0x39")][_0x37ca("0x9aa")][_0x37ca("0x39")]((function(x){return x.id})),n=this[_0x37ca("0x39")][_0x37ca("0x625")]();if(n){for(var r,s=n[_0x37ca("0x14f")][_0x37ca("0xa76")],o=0;o<this[_0x37ca("0x4b3")][_0x37ca("0x4")];o++){var l=this[_0x37ca("0x4b3")][o],u=l[_0x37ca("0x219")];if(u[_0x37ca("0xa5")]){var d=l.model[_0x37ca("0x93")];if(t[_0x37ca("0xcd")](d)&&i.includes(d)){var f=u[_0x37ca("0xa5")].userData[_0x37ca("0x30c")],h=f[_0x37ca("0xd80")](c);if(h>=3500)0!=l[_0x37ca("0x165")]&&(l.targetLod=0,e[_0x37ca("0x0")](l));else{s[_0x37ca("0x8e5")](f)||(h+=h/2);var g=(r=h)<=500?2:r<=2e3?1:0;l[_0x37ca("0xd81")]=g,l[_0x37ca("0x1ab")]=h,l.targetLod!=l[_0x37ca("0x165")]&&_[g][_0x37ca("0x0")](l)}}}}return _[1][_0x37ca("0x4")]>x&&(_[1]=_[1][_0x37ca("0x408")]((function(x,a){return x.rank-a[_0x37ca("0x1ab")]}))[_0x37ca("0x14")](0,x)),_[2][_0x37ca("0x4")]>a&&(_[2]=_[2][_0x37ca("0x408")]((function(x,a){return x[_0x37ca("0x1ab")]-a[_0x37ca("0x1ab")]}))[_0x37ca("0x14")](0,a)),_[0][_0x37ca("0x408")]((function(x,a){return x.rank-a[_0x37ca("0x1ab")]})),_[0]=_[0][_0x37ca("0x14")](50,_[0].length-1),_[0].concat(_[1])[_0x37ca("0x15")](_[2])[_0x37ca("0x15")](e)}}}},{key:_0x37ca("0xd82"),value:function(x){if(x&&0!=x[_0x37ca("0x4")])for(var a=this[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xbe7")],c=this[_0x37ca("0x39")][_0x37ca("0x625")]()[_0x37ca("0x14f")],_=0;_<x[_0x37ca("0x4")];_++){var e=x[_],t=e[_0x37ca("0x219")],i=e[_0x37ca("0x165")],n=e[_0x37ca("0xd81")],r=t[_0x37ca("0x225")];if(t[_0x37ca("0xa5")]){var s=this[_0x37ca("0xd7e")][e[_0x37ca("0x3c5")]];if(s&&s[e[_0x37ca("0xd81")]]){var o=s[e[_0x37ca("0xd81")]];r[_0x37ca("0xbb")][_0x37ca("0x147")](r),s[i]||(s[i]=r),t[_0x37ca("0xa5")].add(o),t[_0x37ca("0x225")]=o,e[_0x37ca("0x165")]=n}else{var l=t._lodName+_0x37ca("0x165")+e[_0x37ca("0xd81")]+_0x37ca("0xa1"),u=this[_0x37ca("0x39")].mapService[_0x37ca("0x29c")][l];if(u){r[_0x37ca("0xbb")][_0x37ca("0x147")](r),s||(s={},this[_0x37ca("0xd7e")][e[_0x37ca("0x3c5")]]=s),s[i]||(s[i]=r);var d=u[_0x37ca("0x301")][_0x37ca("0xb5")][_0x37ca("0xde")](!0);(new(THREE[_0x37ca("0x302")])).setFromObject(d)[_0x37ca("0x303")](d[_0x37ca("0xb8")]),d[_0x37ca("0xb8")].multiplyScalar(-1),t[_0x37ca("0xa5")][_0x37ca("0xe0")](d),t[_0x37ca("0x225")]=d,s[n]||(s[n]=d),e[_0x37ca("0x165")]=n}else{if(!a[l]){var f=t[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xa1"),"");0==n&&(n="");var h=t[_0x37ca("0x21f")]+"lod"+n,g=t[_0x37ca("0x4a")].replaceAll(f,h);c.preFetchModel3D(l,g,(function(x){}))}this.waitings[_0x37ca("0x0")]({target:e,model:l})}}}}}},{key:_0x37ca("0xea"),value:function(){var x=this;this[_0x37ca("0x39")].on(_0x37ca("0x155"),(function(){x[_0x37ca("0xd82")](x[_0x37ca("0xd83")]())})),this[_0x37ca("0x39")].on("update",(function(){if(x.waitings[_0x37ca("0x4")]>0){for(var a=x.map[_0x37ca("0x163")][_0x37ca("0x29c")],c=[],_=0;_<x[_0x37ca("0xd7f")][_0x37ca("0x4")];_++){var e=x[_0x37ca("0xd7f")][_];a[e[_0x37ca("0x219")]]&&(c[_0x37ca("0x0")](e),x[_0x37ca("0xd7f")][_0x37ca("0x5")](_,1),_--)}c.length>0&&x[_0x37ca("0xd82")](c.map((function(x){return x.target})))}}))}},{key:_0x37ca("0xd84"),value:function(x){var a=this;if(!(x<0||x>2)&&x!==this._lodLevel){0==x&&(x="");var c=this[_0x37ca("0x21f")]+_0x37ca("0x165")+x+_0x37ca("0xa1"),_=this[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x29c")][c];if(_){this[_0x37ca("0x225")].parent[_0x37ca("0x147")](this[_0x37ca("0x225")]);var e=_[_0x37ca("0x301")][_0x37ca("0xb5")][_0x37ca("0xde")](!0);(new THREE.Box3).setFromObject(e)[_0x37ca("0x303")](e[_0x37ca("0xb8")]),e[_0x37ca("0xb8")][_0x37ca("0x26b")](-1),this.child=e,this[_0x37ca("0xa5")][_0x37ca("0xe0")](e),this[_0x37ca("0x300")]=x}else{var t=this[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xa1"),""),i=this[_0x37ca("0x21f")]+"lod"+x,n=this.url[_0x37ca("0xd85")](t,i);this[_0x37ca("0x14f")].loadingList[c]||this[_0x37ca("0x14f")].preFetchModel3D(c,n,(function(c){a.child[_0x37ca("0xbb")][_0x37ca("0x147")](a[_0x37ca("0x225")]),a[_0x37ca("0x225")]=null;var _=c[_0x37ca("0xb5")][_0x37ca("0xde")](!0);(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](_)[_0x37ca("0x303")](_.position),_[_0x37ca("0xb8")].multiplyScalar(-1),a[_0x37ca("0x225")]=_,a[_0x37ca("0xa5")][_0x37ca("0xe0")](_),a._lodLevel=x}))}}}}]),x}();a[_0x37ca("0xd86")]=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(43)),e=r(c(8)),t=r(c(0)),i=r(c(1)),n=c(140);function r(x){return x&&x.__esModule?x:{default:x}}var s=function(){function x(a){var c=a.speed,_=void 0===c?1:c;(0,t[_0x37ca("0xe")])(this,x),this[_0x37ca("0x2f3")]=_,this[_0x37ca("0xd87")]=null,this.audioGroupMapData=null,this.audioGroupSound=[],this[_0x37ca("0xd88")]=7e3,this[_0x37ca("0xd89")]=!1,this[_0x37ca("0xd8a")]=!1,this[_0x37ca("0xd8b")]=!1,this[_0x37ca("0xd8c")]=0,this[_0x37ca("0xd8d")]=-1,this[_0x37ca("0xd8e")]={},this[_0x37ca("0xd8f")]=[],this[_0x37ca("0xd90")]=function(){if(this[_0x37ca("0xd8c")]>=this[_0x37ca("0xd8d")])this[_0x37ca("0x1bc")](),this[_0x37ca("0xd89")]=!1;else{var x=this[_0x37ca("0xd8f")][this[_0x37ca("0xd8c")]++];this[_0x37ca("0xd87")][_0x37ca("0x2ba")](x)}}[_0x37ca("0x10")](this)}return(0,i.default)(x,[{key:_0x37ca("0xd91"),value:function(x){var a=this;return new(e[_0x37ca("0xe")])((function(c,_){var e=new XMLHttpRequest;e[_0x37ca("0x2fc")](_0x37ca("0x350"),x,!0),e.responseType=_0x37ca("0x74a"),e[_0x37ca("0xba9")]=function(x){a[_0x37ca("0xd8a")]=!0,c(this[_0x37ca("0x364")])},e[_0x37ca("0x35d")]()}))}},{key:"init",value:function(x,a){var c=this;this[_0x37ca("0xd91")](x)[_0x37ca("0x792")]((function(_){c[_0x37ca("0xd92")](_,x),a&&a()}))[_0x37ca("0x828")]((function(x){console[_0x37ca("0x29d")](esmap[_0x37ca("0x29e")].AUDIO_ERR,x)}))}},{key:"loadSoundArrayBuffer",value:function(x,a){this.dataBytes=new Uint8Array(x);var c=x.byteLength,_=this[_0x37ca("0xd93")](this.dataBytes,c-this[_0x37ca("0xd88")],c-1),e=this.ab2str(_[_0x37ca("0xd94")])[_0x37ca("0x2b")]("}]")[0]+"}]";this[_0x37ca("0xd95")]=JSON[_0x37ca("0x68")](e);for(var t=0,i=this[_0x37ca("0xd95")].length;t<i;t++){var r=this[_0x37ca("0xd95")][t],s=this[_0x37ca("0xd96")](r[_0x37ca("0x1aa")]).replace(_0x37ca("0xd97"),"");this[_0x37ca("0xd8e")][s]=[r[_0x37ca("0xd98")][0],r.extentIndex[1]-400]}var o=this;this[_0x37ca("0xd87")]=new(n[_0x37ca("0xd99")])({src:[a],sprite:this[_0x37ca("0xd8e")],rate:this[_0x37ca("0x2f3")]}),this[_0x37ca("0xd87")][_0x37ca("0x1d4")](_0x37ca("0xd9a"),(function(x){console[_0x37ca("0x3eb")](_0x37ca("0xd9b")),o[_0x37ca("0xd9c")]()})),this.sound[_0x37ca("0x1d4")](_0x37ca("0x140"),(function(){}))}},{key:_0x37ca("0xd9d"),value:function(x){switch(x){case _0x37ca("0xd9e"):this[_0x37ca("0xd9f")]([_0x37ca("0xd74")]);break;case _0x37ca("0xda0"):this.playAudioByText([_0x37ca("0xd77")])}}},{key:_0x37ca("0xda1"),value:function(){var x=document[_0x37ca("0x22")](_0x37ca("0x38c"));x[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0xda2"),x[_0x37ca("0x24")][_0x37ca("0x173")]=_0x37ca("0xda3"),x[_0x37ca("0x24")][_0x37ca("0x172")]="0";var a=this,c=function(c){var _=document[_0x37ca("0x22")](_0x37ca("0x723"));_.style[_0x37ca("0xda4")]=_0x37ca("0xda5"),_.innerHTML=c,_[_0x37ca("0x33")](_0x37ca("0x9e3"),(function(){a[_0x37ca("0xd87")][_0x37ca("0x2ba")](c)}),!1),x[_0x37ca("0x27")](_)};for(var _ in this[_0x37ca("0xd8e")])c(_);document[_0x37ca("0x26")][_0x37ca("0x27")](x)}},{key:"distory",value:function(){this.stop(),this[_0x37ca("0xd87")][_0x37ca("0x62")](_0x37ca("0x140")),this[_0x37ca("0xd87")][_0x37ca("0xda6")]()}},{key:_0x37ca("0xda7"),value:function(x){var a=this;if(x&&x[_0x37ca("0x4")]>0&&this[_0x37ca("0xd8a")]){this.isPlaying=!0,this[_0x37ca("0xd8f")]=x,this[_0x37ca("0xd8c")]=0,this.playLength=x[_0x37ca("0x4")],this[_0x37ca("0xd87")].on(_0x37ca("0x2dc"),this[_0x37ca("0xd90")]);var c=this.spriteArray[this.playIndex++];this[_0x37ca("0xd87")].play(c);var _=0;return x.forEach((function(x){var c=a[_0x37ca("0xd8e")][x];_+=c[1]})),_*this[_0x37ca("0xd87")][_0x37ca("0xda8")]()}}},{key:"playAudioByText",value:function(x){if(this.isLoaded&&(!this.isPlaying||this.canInterrupt)){for(var a=/^[0-9]*$/,c=["一","二","三","四","五","六","七","八","九","十"],e=[],t=0,i=x[_0x37ca("0x4")];t<i;t++)if(a[_0x37ca("0x3a4")](x[t])){var n=this[_0x37ca("0xda9")](x[t]),r=!0,s=!1,o=void 0;try{for(var l,u=(0,_[_0x37ca("0xe")])(n);!(r=(l=u[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);r=!0){var d=l.value;e.push(d)}}catch(x){s=!0,o=x}finally{try{!r&&u.return&&u[_0x37ca("0x2a0")]()}finally{if(s)throw o}}}else if(c.indexOf(x[t])>-1){var f=c[_0x37ca("0xda")](x[t]);9==f?e[_0x37ca("0x0")]("十"):e[_0x37ca("0x0")]((f+1)[_0x37ca("0x30")]())}else{if(!this.sprite[x[t]])continue;e[_0x37ca("0x0")](x[t])}return this.stop(),this[_0x37ca("0xda7")](e)}}},{key:_0x37ca("0x1bc"),value:function(){this[_0x37ca("0xd87")][_0x37ca("0x1bc")](),this.sound[_0x37ca("0x62")](_0x37ca("0x2dc"),this.endHandler),this[_0x37ca("0xd8c")]=0,this[_0x37ca("0xd8d")]=-1,this[_0x37ca("0xd8f")]=[],this[_0x37ca("0xd8b")]=!1}},{key:_0x37ca("0xd93"),value:function(x,a,c){for(var _=[],e=a;e<c;e++)_[_0x37ca("0x0")](x[e]);return new Uint8Array(_)}},{key:_0x37ca("0xdaa"),value:function(x){return String[_0x37ca("0xd3")][_0x37ca("0x3")](null,new Uint8Array(x))}},{key:_0x37ca("0xda9"),value:function(x){var a=[],c=1e3;for(x=parseInt(x);0!==c;){x%=10*c;var _=parseInt(x/c);if(_>0){a[_0x37ca("0x0")](_+"");var e=null;switch(c){case 1e3:e="千";break;case 100:e="百";break;case 10:e="十"}e&&a[_0x37ca("0x0")](e)}else{var t=a.length;t>0&&"0"!==a[t-1]&&a[_0x37ca("0x0")]("0")}c/=10}return"0"===a[a[_0x37ca("0x4")]-1]&&a[_0x37ca("0xdab")](),"1"===a[0]&&"十"===a[1]&&a.shift(),a}},{key:"decodeUnicode",value:function(x){return unescape(x[_0x37ca("0x102")](/\\u/gi,"%u"))}}]),x}();a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(43)),e=r(c(8)),t=r(c(0)),i=r(c(1)),n=c(140);function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(){function x(a){var c=a[_0x37ca("0x2f3")],_=void 0===c?1:c;(0,t[_0x37ca("0xe")])(this,x),this[_0x37ca("0x2f3")]=_,this[_0x37ca("0xd87")]=null,this.audioGroupMapData=null,this[_0x37ca("0xdac")]=[],this[_0x37ca("0xd88")]=9e3,this[_0x37ca("0xd89")]=!0,this[_0x37ca("0xd8a")]=!1,this[_0x37ca("0xd8b")]=!1,this.playIndex=0,this[_0x37ca("0xd8d")]=-1,this[_0x37ca("0xd8e")]={},this[_0x37ca("0xd8f")]=[],this[_0x37ca("0xd90")]=function(){if(this[_0x37ca("0xd8c")]>=this[_0x37ca("0xd8d")])this[_0x37ca("0x1bc")](),this.canInterrupt=!0;else{var x=this[_0x37ca("0xd8f")][this[_0x37ca("0xd8c")]++];this[_0x37ca("0xd87")][_0x37ca("0x2ba")](x)}}[_0x37ca("0x10")](this)}return(0,i[_0x37ca("0xe")])(x,[{key:"loadFile",value:function(x){return new(e[_0x37ca("0xe")])((function(a,c){var _=new XMLHttpRequest;_[_0x37ca("0x2fc")](_0x37ca("0x350"),x,!0),_[_0x37ca("0xdad")]=_0x37ca("0x74a"),_[_0x37ca("0xba9")]=function(x){a(this[_0x37ca("0x364")])},_[_0x37ca("0x35d")]()}))}},{key:"init",value:function(x,a){var c=this;this.loadFile(x).then((function(_){c[_0x37ca("0xd92")](_,x),a&&a()}))}},{key:"playSoundByName",value:function(x){switch(x){case _0x37ca("0xd9e"):this.playAudioByText([_0x37ca("0xd74")]);break;case _0x37ca("0xda0"):this[_0x37ca("0xd9f")]([_0x37ca("0xd77")])}}},{key:"loadSoundArrayBuffer",value:function(x,a){this[_0x37ca("0xdae")]=new Uint8Array(x);var c=x[_0x37ca("0x787")],_=this[_0x37ca("0xd93")](this.dataBytes,c-this.configStrLength,c-1),e=this[_0x37ca("0xdaa")](_[_0x37ca("0xd94")]).split("}]")[0]+"}]";this[_0x37ca("0xd95")]=JSON.parse(e);for(var t=0,i=this[_0x37ca("0xd95")][_0x37ca("0x4")];t<i;t++){var r=this[_0x37ca("0xd95")][t],s=this[_0x37ca("0xd96")](r[_0x37ca("0x1aa")])[_0x37ca("0x102")](_0x37ca("0xd97"),"");s==_0x37ca("0xdaf")?this[_0x37ca("0xd8e")][s]=[r[_0x37ca("0xd98")][0]+250,r.extentIndex[1]-250]:this[_0x37ca("0xd8e")][s]=r[_0x37ca("0xd98")]}var o=this;this.sound=new(n[_0x37ca("0xd99")])({src:[a],sprite:this[_0x37ca("0xd8e")],rate:this[_0x37ca("0x2f3")]}),this[_0x37ca("0xd87")][_0x37ca("0x1d4")](_0x37ca("0xd9a"),(function(x){console[_0x37ca("0xca")]("audio load error"),o.destroy()})),this[_0x37ca("0xd87")][_0x37ca("0x1d4")](_0x37ca("0x140"),(function(){o.isLoaded=!0}))}},{key:_0x37ca("0xda1"),value:function(){var x=document.createElement("div");x[_0x37ca("0x24")].position=_0x37ca("0xda2"),x.style.top=_0x37ca("0xda3"),x[_0x37ca("0x24")].left="0";var a=this,c=function(c){var _=document[_0x37ca("0x22")](_0x37ca("0x723"));_.style.margin=_0x37ca("0xda5"),_[_0x37ca("0x324")]=c,_.addEventListener(_0x37ca("0x9e3"),(function(){a.sound[_0x37ca("0x2ba")](c)}),!1),x.appendChild(_)};for(var _ in this[_0x37ca("0xd8e")])c(_);document[_0x37ca("0x26")].appendChild(x)}},{key:"distory",value:function(){this[_0x37ca("0x1bc")](),this[_0x37ca("0xd87")][_0x37ca("0x62")](_0x37ca("0x140")),this[_0x37ca("0xd87")][_0x37ca("0xda6")]()}},{key:"playSprites",value:function(x){var a=this;if(x&&x[_0x37ca("0x4")]>0&&this[_0x37ca("0xd8a")]){this[_0x37ca("0xd8b")]=!0,this[_0x37ca("0xd8f")]=x,this[_0x37ca("0xd8c")]=0,this.playLength=x[_0x37ca("0x4")],this[_0x37ca("0xd87")].on(_0x37ca("0x2dc"),this[_0x37ca("0xd90")]);var c=this[_0x37ca("0xd8f")][this[_0x37ca("0xd8c")]++];this[_0x37ca("0xd87")][_0x37ca("0x2ba")](c);var _=0;return x.forEach((function(x){var c=a[_0x37ca("0xd8e")][x];_+=c[1]})),_*this[_0x37ca("0xd87")][_0x37ca("0xda8")]()}}},{key:_0x37ca("0xd9f"),value:function(x){if(this[_0x37ca("0xd8a")]&&(!this[_0x37ca("0xd8b")]||this[_0x37ca("0xd89")])){for(var a=/^[0-9]*$/,c=[],e=0,t=x[_0x37ca("0x4")];e<t;e++)if(a[_0x37ca("0x3a4")](x[e])){var i=this[_0x37ca("0xda9")](x[e]),n=!0,r=!1,s=void 0;try{for(var o,l=(0,_[_0x37ca("0xe")])(i);!(n=(o=l[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);n=!0){var u=o[_0x37ca("0xf2")];c[_0x37ca("0x0")](String(u))}}catch(x){r=!0,s=x}finally{try{!n&&l[_0x37ca("0x2a0")]&&l[_0x37ca("0x2a0")]()}finally{if(r)throw s}}}else c[_0x37ca("0x0")](x[e]);return this[_0x37ca("0x1bc")](),this.playSprites(c)}}},{key:_0x37ca("0x1bc"),value:function(){this.sound[_0x37ca("0x1bc")](),this.sound[_0x37ca("0x62")](_0x37ca("0x2dc"),this[_0x37ca("0xd90")]),this[_0x37ca("0xd8c")]=0,this[_0x37ca("0xd8d")]=-1,this[_0x37ca("0xd8f")]=[],this.isPlaying=!1}},{key:_0x37ca("0xd93"),value:function(x,a,c){for(var _=[],e=a;e<c;e++)_.push(x[e]);return new Uint8Array(_)}},{key:_0x37ca("0xdaa"),value:function(x){return String[_0x37ca("0xd3")][_0x37ca("0x3")](null,new Uint8Array(x))}},{key:_0x37ca("0xda9"),value:function(x){var a=function x(a,c,_){var e=_||[],t=c||0;1===t&&e[_0x37ca("0x975")](1e3),a=parseInt(a);var i=parseInt(a/1e3),n=a%1e3,r=parseInt(n/100),s=parseInt((n-100*r)/10),o=n%10,l=n%100;return l>0&&(l<20?e[_0x37ca("0x975")](l):(o>0&&e[_0x37ca("0x975")](o[_0x37ca("0x30")]()),e[_0x37ca("0x975")](10*s))),(i>0&&l>0||r>0&&l>0)&&e[_0x37ca("0x975")](_0x37ca("0xdb0")),r>0&&(e[_0x37ca("0x975")](100),e.unshift(r)),i>0&&0===t?x(i,++t,e):e}(x);return a}},{key:_0x37ca("0xd96"),value:function(x){return unescape(x.replace(/\\u/gi,"%u"))}}]),x}();a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,_[_0x37ca("0xe")])(this,x)}return(0,e[_0x37ca("0xe")])(x,null,[{key:"convert",value:function(x){var a={};return x.on=function(c,_){return(a[c]=a[c]||[])[_0x37ca("0x0")](_),x},x[_0x37ca("0x1d4")]=function(a,c){function _(){c[_0x37ca("0x3")](x.off(a,_),arguments)}return _.h=c,x.on(a,_)},x[_0x37ca("0x62")]=function(c,_){for(var e=a[c],t=0;_&&e&&e[t];t++)e[t]!=_&&e[t].h!=_||e[_0x37ca("0x5")](t--,1);return t||delete a[c],x},x[_0x37ca("0x242")]=function(c){for(var _=a[c],e=0;_&&_[e];)_[e++][_0x37ca("0x3")](x,_.slice[_0x37ca("0x6")](arguments,1));return x},x}}]),x}();a.default=i},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x39")]=a;var c=esmap[_0x37ca("0x7b")].getPlatform();this[_0x37ca("0xba2")]=!1,this[_0x37ca("0xb3b")]=new(THREE[_0x37ca("0x67d")])(a.mapView[_0x37ca("0x693")]),this[_0x37ca("0xdb1")]=new(THREE[_0x37ca("0x67d")])(a[_0x37ca("0x154")][_0x37ca("0x693")]),this[_0x37ca("0x22e")]=(c[_0x37ca("0x20f")],2),this[_0x37ca("0xdb2")]={width:a[_0x37ca("0x154")].w_,height:a[_0x37ca("0x154")].h_};var e=new(THREE[_0x37ca("0x6ad")])(a[_0x37ca("0x154")][_0x37ca("0xb5")],a.mapView[_0x37ca("0x611")]);this.composer.addPass(e),this[_0x37ca("0xdb3")]=new(THREE[_0x37ca("0x68f")])(THREE[_0x37ca("0x6bd")]),this[_0x37ca("0xb3b")].addPass(this[_0x37ca("0xdb3")]);var t=new(THREE[_0x37ca("0x68f")])(THREE[_0x37ca("0x68c")]);t[_0x37ca("0x68a")]=!0,this[_0x37ca("0xb3b")][_0x37ca("0xdb4")](t);var i=new(THREE[_0x37ca("0x6ad")])(a.mapView[_0x37ca("0xb5")],a[_0x37ca("0x154")][_0x37ca("0x9de")]),n=new(THREE[_0x37ca("0x68f")])(THREE[_0x37ca("0x68c")]);n[_0x37ca("0x68a")]=!0,this[_0x37ca("0xdb1")][_0x37ca("0xdb4")](i),this[_0x37ca("0xdb1")][_0x37ca("0xdb4")](n),this.setScale(this[_0x37ca("0x22e")])}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x578"),value:function(){this.enabled||this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0x578")](this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0xb5")],this[_0x37ca("0x39")].mapView[_0x37ca("0x611")])}},{key:"renderOrtho",value:function(){this[_0x37ca("0x57b")]?this[_0x37ca("0xdb1")][_0x37ca("0x578")](this[_0x37ca("0x39")].timer[_0x37ca("0x2b2")]()):this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0x578")](this[_0x37ca("0x39")][_0x37ca("0x154")].scene,this.map[_0x37ca("0x154")][_0x37ca("0x9de")])}},{key:_0x37ca("0x26a"),value:function(x){this[_0x37ca("0x22e")]=x,this[_0x37ca("0x576")]={width:this[_0x37ca("0xdb2")][_0x37ca("0x398")]*this[_0x37ca("0x22e")],height:this.originSize[_0x37ca("0x1a8")]*this[_0x37ca("0x22e")]}}},{key:_0x37ca("0xb3c"),value:function(x,a){this.originSize.width=x,this[_0x37ca("0xdb2")][_0x37ca("0x1a8")]=a,this[_0x37ca("0x26a")](this[_0x37ca("0x22e")])}},{key:_0x37ca("0x576"),get:function(){return{width:this.composer[_0x37ca("0x685")][_0x37ca("0x398")],height:this.composer.renderTarget1[_0x37ca("0x1a8")]}},set:function(x){this[_0x37ca("0xb3b")].setSize(x.width,x[_0x37ca("0x1a8")]),this[_0x37ca("0xdb1")][_0x37ca("0x690")](x.width,x.height),this.fxaaPass[_0x37ca("0xff")].resolution[_0x37ca("0xf2")][_0x37ca("0x11d")](1/x[_0x37ca("0x398")],1/x[_0x37ca("0x1a8")])}},{key:_0x37ca("0x57b"),get:function(){return this._enabled},set:function(x){this[_0x37ca("0xba2")]=x}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=o(c(2)),e=o(c(0)),t=o(c(1)),i=c(11),n=o(c(304)),r=o(c(101)),s=c(44);function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var l=function(){function x(a){(0,e.default)(this,x),this[_0x37ca("0xa24")]={},this[_0x37ca("0xdb5")]={},this.materialList=null,this[_0x37ca("0xdb6")]=[],this[_0x37ca("0xdb7")]={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this[_0x37ca("0x197")]={},this.tileStyles={},this.poiStyles={},this[_0x37ca("0x9a4")]=16777215,this[_0x37ca("0xdb8")]=.875,this[_0x37ca("0xdb9")]=16776960,this.floorOpacity_=.875,this.model3DsRGB=0,this.model3DsRGBCity=0,this.selectedColor_=16750950,this[_0x37ca("0xa2f")]=16119296,this.polygonSelectColor_=16762412,this[_0x37ca("0x179")]={fillcolor:_0x37ca("0xcd1"),fontface:"",fontsize:"12.0",strokecolor:"255,255,255",strokewidth:"2",typeid:"0"},this[_0x37ca("0xdba")]={0:{fillcolor:_0x37ca("0xcd1"),fontface:"",fontsize:_0x37ca("0xdbb"),strokecolor:"255,255,255",strokewidth:"2",typeid:"0"},1:{fillcolor:"0,0,0",fontface:"",fontsize:"12.0",strokecolor:_0x37ca("0xdbc"),strokewidth:"2",typeid:"1"}},this.textureList={},this[_0x37ca("0xdbd")]={},this.bindedLineMatUpdate=!1,this[_0x37ca("0xdbe")]=16750950,this.modelLines=!1,this[_0x37ca("0xdbf")]=null,this[_0x37ca("0xa20")]=null,this[_0x37ca("0xdc0")]=null,this.mapRoadMats={normal:new THREE.MeshBasicMaterial({color:16777215}),main:new(THREE[_0x37ca("0xfc")])({color:16766720})},this[_0x37ca("0x9c0")]=[],this[_0x37ca("0xaf7")]={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this[_0x37ca("0xdc1")]=null,this[_0x37ca("0x409")]=a,this[_0x37ca("0x822")]=new THREE.TextureLoader,this.selectModelMat||(this[_0x37ca("0x3e5")]=new(THREE[_0x37ca("0x336")])({color:this[_0x37ca("0xdc2")],transparent:!0,name:_0x37ca("0xa2a")})),this[_0x37ca("0x3e5")].color=new THREE.Color(this[_0x37ca("0xdc2")]),a[_0x37ca("0x3e3")]&&a.selectedColor[_0x37ca("0x219")]&&(this[_0x37ca("0x3e5")][_0x37ca("0x13c")]=(new(THREE[_0x37ca("0x13d")])).setStyle(a[_0x37ca("0x3e3")][_0x37ca("0x219")][_0x37ca("0x13c")]),this.selectedColor_=esmap[_0x37ca("0x7b")].toColor(a[_0x37ca("0x3e3")][_0x37ca("0x219")][_0x37ca("0x13c")])),this[_0x37ca("0xdc3")]=this[_0x37ca("0xdc4")](this[_0x37ca("0xdb7")]),this[_0x37ca("0xdc5")]=new(n[_0x37ca("0xe")]),this[_0x37ca("0xdc5")][_0x37ca("0xdc6")]=[],a.randomTexture,this[_0x37ca("0xdc7")]=[{typeid:1,type:"AmbientLight",color:"#777777",intensity:1},{typeid:2,type:_0x37ca("0x773"),color:_0x37ca("0xdc8"),intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:_0x37ca("0x773"),color:_0x37ca("0xdc9"),intensity:0,pitchAngle:45,directionAngle:90}]}return(0,t.default)(x,[{key:_0x37ca("0xdca"),value:function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=a[_0x37ca("0x154")].lights[x];c?(a[_0x37ca("0x154")][_0x37ca("0xb5")][_0x37ca("0x147")](c),delete a[_0x37ca("0x154")][_0x37ca("0x771")][x]):(_0x37ca("0xdcb"),_0x37ca("0xdcc"))}},{key:"createLight",value:function(x){var a=esmap.ESMap[_0x37ca("0x35")],c=void 0;if(x[_0x37ca("0x22a")])switch(x[_0x37ca("0x22a")]){case _0x37ca("0xb33"):c=new(THREE[_0x37ca("0xb33")]);break;case _0x37ca("0x773"):c=new(THREE[_0x37ca("0x773")])(8947848,1)}c[_0x37ca("0x1aa")]=x[_0x37ca("0x61f")],a.mapView[_0x37ca("0x771")][x[_0x37ca("0x61f")]]=c,this.setLightProperties(c,x),a.mapView.scene.add(c)}},{key:"setLights",value:function(x){_0x37ca("0xdcd");for(var a=esmap[_0x37ca("0x34")].instance[_0x37ca("0x154")].lights,c=0;c<x[_0x37ca("0x4")];c++){var _=x[c];a[_[_0x37ca("0x61f")]]?this[_0x37ca("0xdce")](a[_[_0x37ca("0x61f")]],_):this[_0x37ca("0xdcf")](_)}}},{key:_0x37ca("0xdd0"),value:function(x,a,c){this[_0x37ca("0xdd1")](this[_0x37ca("0xdd2")],32,c,x,a)}},{key:_0x37ca("0xdd3"),value:function(x){for(var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=this[_0x37ca("0xdc1")].Building,e=0;e<x.length;e++){var t=x[e];if((0,s[_0x37ca("0xc2")])(t,c[e])){t[_0x37ca("0xfd")];var i=1*t[_0x37ca("0xcda")]||1,n=1*t.scaleheight||1;if(1==i)(0,_.default)(this[_0x37ca("0xcd7")][t[_0x37ca("0x61f")]],{scaleheight:n,color:t[_0x37ca("0x13c")]});else{if(!t[_0x37ca("0xdd4")]&&!t.sideimage){console[_0x37ca("0xca")]("主题文件错误,贴图样式"+t[_0x37ca("0x61f")]+"至少包含一种纹理图片!"),t[_0x37ca("0xcda")]=1,e--;continue}var r=esmap[_0x37ca("0x7b")][_0x37ca("0x9f6")](t[_0x37ca("0x13c")]),o=document.createElement(_0x37ca("0x6f9"));o[_0x37ca("0x398")]=16,o[_0x37ca("0x1a8")]=16;var l=o[_0x37ca("0x903")]("2d");l.fillStyle=r,l.fillRect(0,0,16,16),new(THREE[_0x37ca("0x416")])(o)[_0x37ca("0x13a")]=!0;var u=void 0,d=null,f=a[_0x37ca("0x36")].serverUrl+"/worldtheme/"+this.options_.themeID+_0x37ca("0xdd5"),h=1*t[_0x37ca("0xdd6")],g=1*t[_0x37ca("0xdd7")];if(t[_0x37ca("0xdd4")]){if(t[_0x37ca("0xdd4")][_0x37ca("0xda")]("/")>-1&&(f=a.options.mapDataSrc+a.id+_0x37ca("0x8e")+this[_0x37ca("0x409")][_0x37ca("0x6d")]+_0x37ca("0xdd8")),u=this[_0x37ca("0x822")][_0x37ca("0x140")](f+t[_0x37ca("0xdd4")]),t.topimagetype||(t.topimagetype=1),1*t[_0x37ca("0xdd9")]==1){var b=(1*t[_0x37ca("0xdd6")]||50)/500;u[_0x37ca("0x851")]=u[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],u[_0x37ca("0x110")].x=b,u[_0x37ca("0x110")].y=b}u[_0x37ca("0x13a")]=!0}if(t[_0x37ca("0xdda")]){if(t[_0x37ca("0xdda")][_0x37ca("0xda")]("/")>-1&&(f=a[_0x37ca("0x36")][_0x37ca("0x44")]+a.id+_0x37ca("0x8e")+this[_0x37ca("0x409")][_0x37ca("0x6d")]+"/upload/building/"),d=this[_0x37ca("0x822")][_0x37ca("0x140")](f+t[_0x37ca("0xdda")]),t.sideimagetype||(t[_0x37ca("0xddb")]=1),1*t[_0x37ca("0xddb")]==1){var v=(1*t.sideimagerepeat||50)/500;d[_0x37ca("0x851")]=d[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],d[_0x37ca("0x110")].x=v,d[_0x37ca("0x110")].y=v}d[_0x37ca("0x13a")]=!0}var p=this[_0x37ca("0xcd7")][t.typeid][_0x37ca("0xa9")][_0x37ca("0x11a")][_0x37ca("0xddc")];u&&(p[_0x37ca("0x342")].uniforms.topTex[_0x37ca("0xf2")]=u,p[_0x37ca("0x342")].uniforms[_0x37ca("0x339")][_0x37ca("0xf2")]=u.matrix),d&&(p[_0x37ca("0x342")][_0x37ca("0xff")].sideTex.value=d,p[_0x37ca("0x342")][_0x37ca("0xff")].sideTexMat[_0x37ca("0xf2")]=d[_0x37ca("0x245")]),(0,_[_0x37ca("0xe")])(this[_0x37ca("0xcd7")][t[_0x37ca("0x61f")]],{scaleheight:n,topTextureType:1*t.topimagetype||1,sideTextureType:1*t.sideimagetype||1,filltype:i,topImage:t[_0x37ca("0xdd4")],sideImage:t[_0x37ca("0xdda")],sideimagerepeat:g,topimagerepeat:h})}}}}},{key:_0x37ca("0xddd"),value:function(x){var a={fillcolor:_0x37ca("0xdde"),fontsize:_0x37ca("0xddf"),strokecolor:_0x37ca("0xde0"),strokewidth:_0x37ca("0xde1"),typeid:_0x37ca("0x61f")};for(var c in x){var e=x[c],t=e[_0x37ca("0x61f")];for(var i in this[_0x37ca("0x178")][t]=(0,_.default)({},this[_0x37ca("0x179")]),this.poiStyles[t][_0x37ca("0x61f")]=t,e)a[i]&&(this.poiStyles[t][a[i]]=e[i])}}},{key:_0x37ca("0xde2"),value:function(x){var a=this,c=esmap[_0x37ca("0x34")].instance,_=0,e=void 0,t=void 0;this[_0x37ca("0x9c0")]=[];for(var i=c[_0x37ca("0x36")][_0x37ca("0x23e")],n=0;n<x[_0x37ca("0x4")];n++){var s=x[n],o=1*s[_0x37ca("0xfd")]||0,l=!0,u=1*s.filltype||1,d=1*s[_0x37ca("0xde3")]||1,f=1*s.height||0,h=1*s[_0x37ca("0xde4")]||0,g=1*s[_0x37ca("0xde5")]||0,b=s[_0x37ca("0xde6")]||_0x37ca("0xdc9");if(h){var v=new(THREE[_0x37ca("0xfc")])({color:esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](s[_0x37ca("0x13c")]),transparent:l,opacity:o,side:0});this[_0x37ca("0xcd7")][s.typeid]={basic:h,material:v,borderwidth:g,bordercolor:b,prodMatIdx:1e3+1*s[_0x37ca("0x61f")],scaleheight:d,color:s.color,hasTexture:!1,filltype:1,height:f},this[_0x37ca("0xcd7")][1e3+1*s.typeid]=this[_0x37ca("0xcd7")][s[_0x37ca("0x61f")]]}else if(1==u){var p=new THREE.MeshLambertMaterial({color:esmap[_0x37ca("0x7b")].toColor(s.color),transparent:l,opacity:o,side:0});this[_0x37ca("0xcd7")][s[_0x37ca("0x61f")]]={borderwidth:g,bordercolor:b,material:p,prodMatIdx:0,scaleheight:d,color:s.color,hasTexture:!1,filltype:1,height:f}}else{if(!s[_0x37ca("0xdd4")]&&!s.sideimage){console[_0x37ca("0xca")](_0x37ca("0xde7")+s[_0x37ca("0x61f")]+"至少包含一种纹理图片!"),s[_0x37ca("0xcda")]=1,n--;continue}var A=esmap[_0x37ca("0x7b")][_0x37ca("0x9f6")](s[_0x37ca("0x13c")]),m=new r.default({colorStr:A}),C=document[_0x37ca("0x22")](_0x37ca("0x6f9"));C[_0x37ca("0x398")]=16,C.height=16;var I=C[_0x37ca("0x903")]("2d");I[_0x37ca("0x9fe")]=A,I.fillRect(0,0,16,16);var y=new(THREE[_0x37ca("0x416")])(C);y[_0x37ca("0x13a")]=!0;var E=void 0,w=null,T=1*s[_0x37ca("0xdd6")],k=1*s[_0x37ca("0xdd7")];if(s[_0x37ca("0xdd4")]){var S=c[_0x37ca("0x36")][_0x37ca("0x46")]+"/worldtheme/"+this.options_[_0x37ca("0x6d")]+_0x37ca("0xdd5");if(s[_0x37ca("0xdd4")][_0x37ca("0xda")]("/")>-1&&(S=c[_0x37ca("0x36")][_0x37ca("0x44")]+"/"+c.id+"/worldtheme/"+this.options_[_0x37ca("0x6d")]+"/upload/building/"),this[_0x37ca("0xdbd")][s[_0x37ca("0xdd4")]]={uuid:null,texture:null,loaded:!1},E=this.textureLoader[_0x37ca("0x140")](S+s[_0x37ca("0xdd4")],(function(x){var _=x[_0x37ca("0x3c5")],e=!0;for(var t in x[_0x37ca("0x13a")]=!0,a[_0x37ca("0xdbd")])a[_0x37ca("0xdbd")][t][_0x37ca("0x3c5")]===_&&(a[_0x37ca("0xdbd")][t][_0x37ca("0xa6c")]=!0),a.tileTextures[t].loaded||(e=!1);e&&c.fire(_0x37ca("0xde8"))})),this[_0x37ca("0xdbd")][s[_0x37ca("0xdd4")]][_0x37ca("0x3c5")]=E[_0x37ca("0x3c5")],this[_0x37ca("0xdbd")][s[_0x37ca("0xdd4")]][_0x37ca("0x56b")]=E,s[_0x37ca("0xdd9")]||(s[_0x37ca("0xdd9")]=1),1*s[_0x37ca("0xdd9")]==1){var M=(1*s[_0x37ca("0xdd6")]||50)/500;E[_0x37ca("0x851")]=E[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],E[_0x37ca("0x110")].x=M,E[_0x37ca("0x110")].y=M}this[_0x37ca("0xdbd")][E]}if(s[_0x37ca("0xdda")]){var R=c[_0x37ca("0x36")][_0x37ca("0x46")]+_0x37ca("0x8e")+this[_0x37ca("0x409")][_0x37ca("0x6d")]+_0x37ca("0xdd5");if(s[_0x37ca("0xdda")][_0x37ca("0xda")]("/")>-1&&(R=c[_0x37ca("0x36")][_0x37ca("0x44")]+"/"+c.id+"/worldtheme/"+this[_0x37ca("0x409")][_0x37ca("0x6d")]+_0x37ca("0xdd8")),this[_0x37ca("0xdbd")][s[_0x37ca("0xdda")]]={uuid:null,texture:null,loaded:!1},w=this[_0x37ca("0x822")].load(R+s[_0x37ca("0xdda")],(function(x){var _=x[_0x37ca("0x3c5")],e=!0;for(var t in x[_0x37ca("0x13a")]=!0,a[_0x37ca("0xdbd")])a[_0x37ca("0xdbd")][t][_0x37ca("0x3c5")]===_&&(a[_0x37ca("0xdbd")][t][_0x37ca("0xa6c")]=!0),a.tileTextures[t][_0x37ca("0xa6c")]||(e=!1);e&&c[_0x37ca("0x1da")](_0x37ca("0xde8"))})),this[_0x37ca("0xdbd")][s[_0x37ca("0xdda")]][_0x37ca("0x3c5")]=w[_0x37ca("0x3c5")],this[_0x37ca("0xdbd")][s[_0x37ca("0xdda")]][_0x37ca("0x56b")]=w,s[_0x37ca("0xddb")]||(s[_0x37ca("0xddb")]=1),1*s.sideimagetype==1){var L=(1*s[_0x37ca("0xdd7")]||50)/500;w.wrapS=w.wrapT=THREE[_0x37ca("0x142")],w[_0x37ca("0x110")].x=L,w[_0x37ca("0x110")].y=L}}var H=e;e&&0!==_||((H=m[_0x37ca("0x333")]({topTexture:E||y,sideTexture:w||y}))[_0x37ca("0x11a")][_0x37ca("0xde9")]=w,H[_0x37ca("0x11a")][_0x37ca("0xdea")]=E,H[_0x37ca("0xfa")]=l,H.userData.roomTex=m,H[_0x37ca("0xfd")]=o,e=H,this[_0x37ca("0x9c0")][_0x37ca("0x0")](H),H[_0x37ca("0x11a")][_0x37ca("0xdeb")]=this.modelBasicMat[_0x37ca("0x4")]-1),t||(t=H),this.tileStyles[s[_0x37ca("0x61f")]]={borderwidth:g,bordercolor:b,scaleheight:d,material:H,prodMatIdx:H[_0x37ca("0x11a")][_0x37ca("0xdeb")],hasTexture:!0,topTextureType:1*s[_0x37ca("0xdd9")]||1,sideTextureType:1*s[_0x37ca("0xddb")]||1,filltype:u,topImage:s[_0x37ca("0xdd4")],sideImage:s.sideimage,sideimagerepeat:k,topimagerepeat:T,height:f},i?this[_0x37ca("0xcd7")][s.typeid].roomTexture=m:_+=1,4===_&&(_=0)}}var P={};for(var D in this[_0x37ca("0xcd7")])this.tileStyles[D].basic||1*this[_0x37ca("0xcd7")][D].filltype!=1||i||(this[_0x37ca("0xcd7")][D][_0x37ca("0xa9")]=t,this[_0x37ca("0xcd7")][D][_0x37ca("0xdec")]=0),P[D]=this[_0x37ca("0xcd7")][D][_0x37ca("0xdec")];this[_0x37ca("0xded")]=P}},{key:_0x37ca("0xdee"),value:function(x){var a=esmap[_0x37ca("0x34")].instance;if(a.options.loadRoads)for(var c=0;c<x.length;c++){var _=x[c],e=_[_0x37ca("0x61f")],t=new(THREE[_0x37ca("0xfc")])({color:16777215,transparent:true,opacity:1*_[_0x37ca("0xfd")],side:THREE[_0x37ca("0x10f")]});t.transparent=true,t[_0x37ca("0xfd")]=1*_.opacity;var i=null;if(1==_[_0x37ca("0xcda")])t.color=new(THREE[_0x37ca("0x13d")])(esmap[_0x37ca("0x7b")].toColor(_[_0x37ca("0x13c")]));else{i=a.options[_0x37ca("0x46")]+_0x37ca("0x8e")+this[_0x37ca("0x409")][_0x37ca("0x6d")]+"/line/"+_[_0x37ca("0x497")],_.image.indexOf("/")>-1&&(i=this.options_[_0x37ca("0x46")]+(1==this[_0x37ca("0x409")][_0x37ca("0x43")]?a.options[_0x37ca("0x44")]+a.id:"/")+_0x37ca("0x8e")+this.options_[_0x37ca("0x6d")]+_0x37ca("0xdef")+_.image);var n=this[_0x37ca("0x822")][_0x37ca("0x140")](i);n.repeat.y=1,n.offset.y=0,n.minFilter=THREE[_0x37ca("0x7e8")],n[_0x37ca("0x851")]=THREE.RepeatWrapping,n[_0x37ca("0x852")]=THREE.RepeatWrapping,n[_0x37ca("0x110")].x=.01,n[_0x37ca("0x141")]=a[_0x37ca("0x154")][_0x37ca("0x693")].capabilities[_0x37ca("0xc7c")](),t[_0x37ca("0x39")]=n}_[_0x37ca("0x1a7")]=_[_0x37ca("0x1a7")]||0,_.hasOwnProperty(_0x37ca("0xfd"))||(_.opacity=1),this[_0x37ca("0x197")][e]={url:i,animationspeed:1*_[_0x37ca("0x1a7")],material:t,color:_[_0x37ca("0x13c")],filltype:_[_0x37ca("0xcda")],height:1*_.height,image:_.image,linetype:_[_0x37ca("0xdf0")],linewidth:1*_[_0x37ca("0x1a6")],layerstyle:_.layerstyle,opacity:1*_.opacity}}}},{key:"setLightProperties",value:function(x,a){a[_0x37ca("0x1")](_0x37ca("0x3ea"))&&(x.intensity=1*a[_0x37ca("0x3ea")]),a[_0x37ca("0x1")](_0x37ca("0x13c"))&&(x.color=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](a[_0x37ca("0x13c")])),x[_0x37ca("0x22a")]==_0x37ca("0x773")&&a[_0x37ca("0x1")](_0x37ca("0xa05"))&&a.hasOwnProperty("directionAngle")&&x[_0x37ca("0xb20")]({pitchAngle:a[_0x37ca("0xa05")],directionAngle:a[_0x37ca("0xa07")]})}},{key:_0x37ca("0xcc9"),value:function(x){this[_0x37ca("0xdf1")]=1*x[_0x37ca("0xdf1")]||!1,this[_0x37ca("0xdee")](x[_0x37ca("0xdf2")]),this[_0x37ca("0xde2")](x[_0x37ca("0x210")]),x.Poi&&this[_0x37ca("0xddd")](x.Poi),this.maptheme=x}},{key:_0x37ca("0xc4e"),value:function(x){var a=x.id,c=x.data;this[_0x37ca("0xa27")](a,c)}},{key:_0x37ca("0xa27"),value:function(x,a){this[_0x37ca("0x9a4")]=esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](a.mapstyle[_0x37ca("0xdf3")]);var c=this[_0x37ca("0xa24")][x]={};c.poiStyle={},c[_0x37ca("0xdf4")]={},c.materialList={},c[_0x37ca("0x34f")]=a,c.modelLines=1*a.mapstyle[_0x37ca("0xdf1")]||!1,esmap.ESMap[_0x37ca("0x35")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]&&(a.lights?this[_0x37ca("0xdf5")](a[_0x37ca("0x771")]):this.setLights(this[_0x37ca("0xdc7")])),this[_0x37ca("0xdf6")]=1*a.mapstyle[_0x37ca("0xdf6")]||0;for(var _=a[_0x37ca("0xdf7")],e=0;e<_[_0x37ca("0x4")];e++){var t=_[e];t[_0x37ca("0xdf8")]=esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](t[_0x37ca("0x13c")]),1==t[_0x37ca("0x61f")]&&(this.selectedColor_=t[_0x37ca("0xdf8")]),t[_0x37ca("0xdf9")]=esmap.ESMapUtil[_0x37ca("0x2c2")](t.strokecolor),t.alpha=t[_0x37ca("0xfa")],c[_0x37ca("0xdfa")][t[_0x37ca("0x61f")]]=this[_0x37ca("0xdc4")](t,null,x),c[_0x37ca("0xdf4")][t[_0x37ca("0x61f")]]=t}var i={},n=a[_0x37ca("0xdfb")];if(c[_0x37ca("0xdfc")]={},n&&n.length>0){var r=n[0];this[_0x37ca("0xdb9")]=esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](r[_0x37ca("0x13c")]),r[_0x37ca("0xfa")]&&(this[_0x37ca("0xdfd")]=1-parseFloat(r.transparent)),n[_0x37ca("0x1f")]((function(x){c.floorStyleBase[x[_0x37ca("0x48f")]]={height:x[_0x37ca("0xdfe")],opacity:1-parseFloat(x[_0x37ca("0xfa")]),color:esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](x.color),image:x.image||"",imagesize:x[_0x37ca("0x49c")]||""};var a=x[_0x37ca("0x497")];a&&!i[a[_0x37ca("0x102")](_0x37ca("0xdff"),"")]&&(i[a[_0x37ca("0x102")](_0x37ca("0xdff"),"")]=1)}))}this[_0x37ca("0xdd2")]=i,c[_0x37ca("0xe00")]={},c[_0x37ca("0xdba")]={};var s=a.fontstyle;if(s){s[0]&&(this[_0x37ca("0x179")]=s[0],s[1]&&(this.labelSelectedStyle_=s[1]));var o,l=this[_0x37ca("0x409")][_0x37ca("0x6b")]+x+"/";for(e=0;e<s[_0x37ca("0x4")];e++){null!=(o=s[e]).image&&""!=o[_0x37ca("0x497")]&&(o[_0x37ca("0x56b")]=esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](l+o[_0x37ca("0x497")]));for(var u=o[_0x37ca("0x61f")][_0x37ca("0x2b")](","),d=0;d<u[_0x37ca("0x4")];d++)c[_0x37ca("0xe00")][u[d]]=o}}}},{key:_0x37ca("0xdc4"),value:function(x,a,c){var _=x[_0x37ca("0xe01")]||!1,e=new(THREE[_0x37ca("0x336")])({color:a||x[_0x37ca("0xdf8")],opacity:1*x[_0x37ca("0xe3")]});if(e.opacity<1&&(e[_0x37ca("0xfa")]=!0),e.onBeforeCompile=function(x){x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x33d"),_0x37ca("0xe02")),x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x104"),_0x37ca("0xe03")),x[_0x37ca("0x105")]=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x106"),_0x37ca("0xe04")),x[_0x37ca("0x105")]=x.fragmentShader.replace(_0x37ca("0x108"),"\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ")},x[_0x37ca("0x497")]){var t=esmap.ESMap[_0x37ca("0x35")][_0x37ca("0x36")].mapThemeSrc+"/"+c+"/"+x[_0x37ca("0x497")],i=esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](t);i.wrapS=THREE[_0x37ca("0x142")],i[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],e[_0x37ca("0x39")]=i,e.map[_0x37ca("0x13a")]=!0,e[_0x37ca("0x13a")]=!0}return x[_0x37ca("0x1")](_0x37ca("0x859"))&&(e.roughness=1*x[_0x37ca("0x859")]),x[_0x37ca("0x1")]("metalness")&&(e[_0x37ca("0xfb")]=1*x[_0x37ca("0xfb")]),_&&(e[_0x37ca("0x124")]=!1),e}},{key:_0x37ca("0xe05"),value:function(x,a){var c=this[_0x37ca("0xa24")][x].roomStyle[a];return(0,i[_0x37ca("0x1a")])(c||this[_0x37ca("0xdb7")])}},{key:"getFontTheme",value:function(x,a){var c=this[_0x37ca("0xa24")][x][_0x37ca("0xdba")];for(var _ in c)if(1*c[_][_0x37ca("0x61f")]==a)return c[_]}},{key:"getModelMaterial",value:function(x,a,c){var _;c[_0x37ca("0x4")]<1?_=this[_0x37ca("0xa24")][x][_0x37ca("0xdfa")][a]||this[_0x37ca("0xdc4")](this[_0x37ca("0xdb7")]):(_=this[_0x37ca("0xdc4")](this.getModelTheme(a),esmap.ESMapUtil[_0x37ca("0x2c2")](c)))[_0x37ca("0xdf8")]=esmap.ESMapUtil.toColor(c);return _||this[_0x37ca("0xdc3")]}},{key:_0x37ca("0xe06"),value:function(x,a,c,_){var e=esmap[_0x37ca("0x34")][_0x37ca("0x35")],t=void 0;if(e[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building)t=isNaN(a)?e.options[_0x37ca("0x44")]+"/"+e.id+_0x37ca("0xd4f")+a:e[_0x37ca("0x36")][_0x37ca("0x6b")]?e[_0x37ca("0x36")].mapThemeSrc+"/"+x+"/"+a+_0x37ca("0xdff"):e[_0x37ca("0x36")][_0x37ca("0x44")]+"/"+e.id+_0x37ca("0x6c")+x+"/"+a+_0x37ca("0xdff");else if(1!=e.options[_0x37ca("0x43")])t=isNaN(a)?1==_?e[_0x37ca("0x36")].serverUrl+"/buildingImagelabel/"+a:e[_0x37ca("0x36")].serverUrl+_0x37ca("0x8a")+c+"/imagelabel/"+a:e[_0x37ca("0x36")][_0x37ca("0x46")]+_0x37ca("0x90")+x+"/"+a+_0x37ca("0xdff");else if(isNaN(a))if(1==_){var i=3==e[_0x37ca("0x36")].s?"/EsmapTileOffData/":"/EsmapTileData/";t=e[_0x37ca("0x36")][_0x37ca("0x46")]+i+e.id+"/buildingImagelabel/"+a}else{var n=3==e[_0x37ca("0x36")].s?"/EsmapJsonOffData/":_0x37ca("0x92");t=e[_0x37ca("0x36")][_0x37ca("0x46")]+n+c+_0x37ca("0xd4f")+a}else t=e[_0x37ca("0x36")][_0x37ca("0x46")]+_0x37ca("0x6c")+x+"/"+a+_0x37ca("0xdff");var r=esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](t);return r.minFilter=THREE.LinearFilter,r.magFilter=THREE.NearestFilter,new(THREE[_0x37ca("0x28e")])({map:r})}},{key:_0x37ca("0xdd1"),value:function(x,a,c,_,e){var t=esmap.ESMap[_0x37ca("0x35")],i=this[_0x37ca("0xa24")][c];for(var n in x){var r={};if(r.id=n,r.height=a,!i[_0x37ca("0xe07")][r.id]&&12e4!=r.id){var s="";s=t[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?t[_0x37ca("0x36")][_0x37ca("0x6b")]?t[_0x37ca("0x36")][_0x37ca("0x6b")]+"/"+c+"/"+r.id+_0x37ca("0xdff"):t.options[_0x37ca("0x44")]+"/"+t.id+_0x37ca("0x6c")+c+"/"+r.id+_0x37ca("0xdff"):1!=t.options.tid?t.options[_0x37ca("0x46")]+_0x37ca("0x90")+c+"/"+r.id+".png":t[_0x37ca("0x36")].serverUrl+_0x37ca("0x6c")+c+"/"+r.id+".png",r.id&&r.id[_0x37ca("0x30")]()[_0x37ca("0xda")](_0x37ca("0xdff"))>0&&(e==esmap[_0x37ca("0xac1")][_0x37ca("0xcd3")]?s=this.options_[_0x37ca("0x44")]+"/"+_+_0x37ca("0xe08")+r.id:1!=this[_0x37ca("0x409")].tid&&(s=this[_0x37ca("0x409")][_0x37ca("0x44")]+_0x37ca("0x8a")+_+_0x37ca("0xd4f")+r.id));var o=esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](s);o.minFilter=THREE[_0x37ca("0x420")],o[_0x37ca("0x850")]=THREE[_0x37ca("0x7e4")],r.material_=new(THREE[_0x37ca("0x28e")])({map:o}),r[_0x37ca("0xe09")][_0x37ca("0x576")]=a,i[_0x37ca("0xe07")][r.id]=r}}this[_0x37ca("0xdd2")]=null}},{key:_0x37ca("0xe0a"),value:function(x,a){var c=this,_=esmap[_0x37ca("0x34")][_0x37ca("0x35")];a||(a=_.getBuilding()[_0x37ca("0x36")].themeID),c.setThemeList(a,x),_[_0x37ca("0x9a3")](c.clearColor_,1);var e=c[_0x37ca("0xa24")],t=_[_0x37ca("0x625")](),i=e[a];t[_0x37ca("0xa5")][_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa4")])switch(x[_0x37ca("0xa4")][_0x37ca("0xc8")]){case esmap[_0x37ca("0xe8")][_0x37ca("0xe9")]:if(!i)return;x[_0x37ca("0xa9")].color=new THREE.Color(i.strokeColor_),x[_0x37ca("0xa9")][_0x37ca("0x1a6")]=i[_0x37ca("0xde1")];break;case esmap[_0x37ca("0xe8")][_0x37ca("0xa90")]:var e=c[_0x37ca("0xdb9")],t=c[_0x37ca("0xdfd")];if(x.parent[_0x37ca("0xbb")]&&x[_0x37ca("0xbb")][_0x37ca("0xbb")][_0x37ca("0xa4")]instanceof esmap[_0x37ca("0x3bc")]){var n=x[_0x37ca("0xbb")][_0x37ca("0xbb")].datas_[_0x37ca("0x17b")][_0x37ca("0x48f")],r=i[_0x37ca("0xdfc")][n]||i[_0x37ca("0xdfc")][0];if(r)if(e=r[_0x37ca("0x13c")],t=r[_0x37ca("0xfd")],r.image){var s=x[_0x37ca("0xa9")];Array[_0x37ca("0x474")](s)&&(s=x[_0x37ca("0xa9")][0]);var o=[s,s.clone()],l=o[0],u=o[1];u[_0x37ca("0x13c")]=new THREE.Color(e),u[_0x37ca("0xfd")]=t;var d=_[_0x37ca("0x36")][_0x37ca("0x6b")]+"/"+a+"/"+r.image;esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](d,(function(x){x[_0x37ca("0x851")]=x[_0x37ca("0x852")]=THREE[_0x37ca("0x142")];var a=(_[_0x37ca("0x453")]-_.minX)/(_.maxY-_[_0x37ca("0x43f")]),c=r[_0x37ca("0x49c")][_0x37ca("0x2b")](",");x[_0x37ca("0x110")][_0x37ca("0x11d")](c[0]*a,c[1]),l[_0x37ca("0x13c")][_0x37ca("0x11d")](16777215),l[_0x37ca("0x39")]=x,l[_0x37ca("0x39")][_0x37ca("0x13a")]=!0,l[_0x37ca("0x13a")]=!0})),x[_0x37ca("0xa9")]=o}else x[_0x37ca("0xa9")]instanceof Array?(x[_0x37ca("0xa9")][0][_0x37ca("0x39")]&&(x[_0x37ca("0xa9")][0][_0x37ca("0x39")][_0x37ca("0xa8")](),x[_0x37ca("0xa9")][0][_0x37ca("0x39")]=void 0),x[_0x37ca("0xa9")][0][_0x37ca("0x13c")]=new THREE.Color(e),x.material[0].opacity=t):(x[_0x37ca("0xa9")].color=new THREE.Color(e),x.material[_0x37ca("0xfd")]=t)}break;case esmap.ESNodeType[_0x37ca("0x622")]:var f=x[_0x37ca("0xa4")][_0x37ca("0x331")][0][_0x37ca("0x621")],h=i.roomStyle[f];if(!h)return;var g=h[_0x37ca("0x13c")];if(_0x37ca("0xf")==typeof g&&(g=esmap[_0x37ca("0x7b")].toColor(h[_0x37ca("0x13c")])),x.material[_0x37ca("0x13c")])x.material[_0x37ca("0x13c")]=new(THREE[_0x37ca("0x13d")])(g),x[_0x37ca("0xa9")][_0x37ca("0xfd")]=h.alpha||1,x[_0x37ca("0xa9")].needsUpdate=!0;else{var b=x[_0x37ca("0xa9")];b[0][_0x37ca("0x13c")]=new THREE.Color(g),b[0][_0x37ca("0xfd")]=1*h[_0x37ca("0xe3")]||1,b[0][_0x37ca("0x13a")]=!0}break;case esmap[_0x37ca("0xe8")].FACILITY:if(!i)return;break;case esmap.ESNodeType.LABEL:x[_0x37ca("0xc31")](c.labelStyle_);break;case esmap[_0x37ca("0xe8")].TEXT_MARKER:x[_0x37ca("0xc31")](x[_0x37ca("0xa4")].style_);break;case esmap[_0x37ca("0xe8")].ELEMENT:_0x37ca("0x592")==x[_0x37ca("0x608")]&&x.datas_[_0x37ca("0xc31")]()}}))}},{key:_0x37ca("0xa38"),set:function(x){this.model3DSelectedColor_=esmap.ESMapUtil[_0x37ca("0x2c2")](x)},get:function(){return this[_0x37ca("0xdbe")]}}]),x}();a.default=l},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=o(c(12)),e=o(c(43)),t=o(c(8)),i=o(c(13)),n=o(c(0)),r=o(c(1)),s=c(305);function o(x){return x&&x.__esModule?x:{default:x}}var l=function(){function x(){(0,n[_0x37ca("0xe")])(this,x),this.materials=[]}var a;return(0,r[_0x37ca("0xe")])(x,[{key:_0x37ca("0xe0b"),value:function(x){function a(e){if("side"==e){if(1==x)return t=(0,s[_0x37ca("0xe0c")])(0,2);var t=(0,s[_0x37ca("0xe0c")])(2,c[_0x37ca("0x10e")].length);t=Math.random()<.6?2:t;var i=c[_0x37ca("0x10e")][t][_0x37ca("0x22a")];return 2==x&&2==i?a(e):t}var n=c.side[_][_0x37ca("0xe0d")][_0x37ca("0x4")];if(n>1){var r=(0,s[_0x37ca("0xe0c")])(0,n);return c[_0x37ca("0x10e")][_][_0x37ca("0xe0d")][r]}return c[_0x37ca("0x10e")][_][_0x37ca("0xe0d")][0]}var c=this[_0x37ca("0xdc6")],_=a(_0x37ca("0x10e")),e=a("top");return{sideIndex:_,topIndex:e}}},{key:_0x37ca("0xe0e"),value:(a=(0,i[_0x37ca("0xe")])(_[_0x37ca("0xe")].mark((function x(a){var c,i,n;return _[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return n=function(x,a,c,_,e){var t=document[_0x37ca("0x22")](_0x37ca("0x6f9")),i=t[_0x37ca("0x903")]("2d");return t[_0x37ca("0x398")]=_,t[_0x37ca("0x1a8")]=e,i.drawImage(x,a,c,_,e,0,0,_,e),t},c=this,i=s.dataA,a&&(i.url=a),x.abrupt(_0x37ca("0x2a0"),new t.default((function(x){(new(THREE[_0x37ca("0xe0f")]))[_0x37ca("0x140")](i[_0x37ca("0x4a")],(function(a){for(var _,t=[],r={top:[],side:[]},s=0;s<i[_0x37ca("0x10e")][_0x37ca("0x4")]&&!(s>0);s++){var o=(g=i[_0x37ca("0x10e")][s])[_0x37ca("0x3ca")];if(1==g[_0x37ca("0x22a")]){_=n(a,o.x,o.y,o.w,o.h),(f=new(THREE[_0x37ca("0x416")])(_)).wrapS=f[_0x37ca("0x852")]=1e3,f.needsUpdate=!0;var l=new(THREE[_0x37ca("0xfc")])({});t.push(l),r[_0x37ca("0x10e")][_0x37ca("0x0")]({topIndex:g[_0x37ca("0xe0d")],sideIndex:t[_0x37ca("0x4")]-1,type:1})}else if(2==g.type||3==g[_0x37ca("0x22a")]){for(var u=[{x:o.x,y:o.y,w:o.w,h:o.h}],d=0;d<u[_0x37ca("0x4")];d++){_=n(a,u[d].x,u[d].y,u[d].w,u[d].h);var f=new(THREE[_0x37ca("0x416")])(_);0==d||2==d?(f.wrapS=1e3,f.wrapT=1e3):1!=d&&3!=d||(f[_0x37ca("0x851")]=f[_0x37ca("0x852")]=1e3),f.needsUpdate=!0,l=new(THREE[_0x37ca("0xfc")])({map:f,transparent:!0,opacity:1}),t[_0x37ca("0x0")](l)}r.side[_0x37ca("0x0")]({topIndex:g[_0x37ca("0xe0d")],sideIndex:t[_0x37ca("0x4")]-1,type:g[_0x37ca("0x22a")]})}}for(var h=0;h<i[_0x37ca("0x173")][_0x37ca("0x4")]&&!(h>0);h++){var g;if(1==(g=i[_0x37ca("0x173")][h])[_0x37ca("0x22a")])_=n(a,g.x,g.y,g.w,g.h),(f=new(THREE[_0x37ca("0x416")])(_)).wrapS=f[_0x37ca("0x852")]=THREE[_0x37ca("0x7e9")],f[_0x37ca("0x13a")]=!0,l=new(THREE[_0x37ca("0xfc")])({}),t[_0x37ca("0x0")](l),r.top[_0x37ca("0x0")]({index:[t[_0x37ca("0x4")]-1],type:g.type});else if(2==g.type){var b=Number(g.w)/2,v=Number(g.h)/2,p=(u=[{x:g.x,y:g.y},{x:g.x+b,y:g.y},{x:g.x,y:g.y+v},{x:g.x+b,y:g.y+v}],!0),A=!1,m=void 0;try{for(var C,I=(0,e.default)(u);!(p=(C=I[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);p=!0){var y=C[_0x37ca("0xf2")];_=n(a,y.x,y.y,b,v),(f=new(THREE[_0x37ca("0x416")])(_))[_0x37ca("0x851")]=f.wrapT=THREE[_0x37ca("0x142")],f.needsUpdate=!0,l=new(THREE[_0x37ca("0xfc")])({map:f,transparent:!0,opacity:1}),t[_0x37ca("0x0")](l)}}catch(x){A=!0,m=x}finally{try{!p&&I[_0x37ca("0x2a0")]&&I[_0x37ca("0x2a0")]()}finally{if(A)throw m}}var E=t.length;r[_0x37ca("0x173")][_0x37ca("0x0")]({index:[E-4,E-3,E-2,E-1],type:g[_0x37ca("0x22a")]})}}var w=t;c[_0x37ca("0xb3")]=w,c[_0x37ca("0xdc6")]=r,x()}))})));case 5:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return a[_0x37ca("0x3")](this,arguments)})}]),x}();a[_0x37ca("0xe")]=l},function(x,a,c){"use strict";function _(x,a){var c=a-x,_=Math[_0x37ca("0x2f")]();return x+Math[_0x37ca("0x2e")](_*c)}Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var e={url:_0x37ca("0xe10"),side:[{type:1,topIndex:[0],point:{x:0,y:128,w:128,h:128}},{type:1,topIndex:[1],point:{x:0,y:256,w:128,h:128}},{type:3,topIndex:[2],point:{x:0,y:0,w:128,h:128}},{type:3,topIndex:[3],point:{x:128,y:0,w:128,h:128}},{type:3,topIndex:[4],point:{x:128,y:128,w:128,h:128}},{type:3,topIndex:[5],point:{x:128,y:256,w:128,h:128}}],top:[{type:1,x:256,y:256,w:128,h:128},{type:1,x:384,y:128,w:128,h:128},{type:1,x:384,y:0,w:128,h:128},{type:1,x:256,y:0,w:128,h:128},{type:1,x:256,y:128,w:128,h:128},{type:1,x:384,y:256,w:128,h:128}]};a[_0x37ca("0xe11")]=e,a[_0x37ca("0xe12")]=function(x,a){return function(x,a){function c(t){if(t==_0x37ca("0x10e")){if(1==a)return i=_(0,8);var i=_(8,x[_0x37ca("0x10e")][_0x37ca("0x4")]),n=x[_0x37ca("0x10e")][i][_0x37ca("0x22a")];return 2==a&&2==n?c(t):i}var r=x.side[e].topIndex.length;if(r>1){var s=_(0,r);return x[_0x37ca("0x10e")][e][_0x37ca("0xe0d")][s]}return x.side[e][_0x37ca("0xe0d")][0]}var e=c(_0x37ca("0x10e")),t=c(_0x37ca("0x173"));return{sideIndex:e,topIndex:t}}(a,3)},a[_0x37ca("0xe0c")]=_},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(){(0,_.default)(this,x),this.rects_}return(0,e.default)(x,[{key:_0x37ca("0x69d"),value:function(){this[_0x37ca("0xe13")]=[]}},{key:_0x37ca("0x0"),value:function(x,a){if(0==this[_0x37ca("0xe13")][_0x37ca("0x4")])return this[_0x37ca("0xe13")][_0x37ca("0x0")](a),!1;for(var c in this[_0x37ca("0xe13")]){var _=this[_0x37ca("0xe13")][c];if(this.collision_(_,a))return!0}return this[_0x37ca("0xe13")][_0x37ca("0x0")](a),!1}},{key:_0x37ca("0xe14"),value:function(x,a){return a[_0x37ca("0x576")]<=x[_0x37ca("0x576")]&&x.x<a.x+a.w/2&&x.x+x.w/2>a.x&&x.y<a.y+a.h/2&&x.h/2+x.y>a.y}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=o(c(4)),e=o(c(0)),t=o(c(1)),i=o(c(5)),n=o(c(6)),r=c(11),s=c(44);function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var l=function(x){function a(){return(0,e.default)(this,a),(0,i.default)(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x3")](this,arguments))}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0x265"),value:function(x){this.originSize||(this[_0x37ca("0xdb2")]={width:this.width_,height:this[_0x37ca("0xe15")]}),this.width_=this.originSize[_0x37ca("0x398")],this[_0x37ca("0xe15")]=this[_0x37ca("0xdb2")][_0x37ca("0x1a8")],(x=x||{})[_0x37ca("0x1ba")]=null==x[_0x37ca("0x1ba")]?.6:x[_0x37ca("0x1ba")];var a=this;if(a[_0x37ca("0xe16")]=null,!this[_0x37ca("0x1b4")]||x[_0x37ca("0x1c5")])return a[_0x37ca("0x1b4")]=!0,x[_0x37ca("0x22e")]=(0,r[_0x37ca("0x1b8")])(x,"scale",1.5),x.times=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1b5"),1),x[_0x37ca("0x1b7")]=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1b7"),0),0==x[_0x37ca("0x1b5")]&&(x[_0x37ca("0x1b5")]=Number[_0x37ca("0x1b6")]),x[_0x37ca("0x1ba")]=null==x[_0x37ca("0x1ba")]?.6:x.time,a[_0x37ca("0xe16")]&&clearInterval(a[_0x37ca("0xe16")]),this.flashId&&this.flashId[_0x37ca("0x1bc")](),this[_0x37ca("0xe17")]=new(esmap.TWEEN[_0x37ca("0x1bd")])(this).to({width_:this.width_*x[_0x37ca("0x22e")],height_:this[_0x37ca("0xe15")]*x.scale},200*x.time)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing.Quadratic.In).onUpdate((function(x){}))[_0x37ca("0x1c4")]((function(){a[_0x37ca("0xe17")]=new(esmap.TWEEN[_0x37ca("0x1bd")])(a).to({width_:a.originSize[_0x37ca("0x398")],height_:a[_0x37ca("0xdb2")][_0x37ca("0x1a8")]},800*x[_0x37ca("0x1ba")])[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x1be")][_0x37ca("0x1c3")]).onComplete((function(){x[_0x37ca("0x1b5")]--,x[_0x37ca("0x1b5")]>0?a[_0x37ca("0xe16")]=setTimeout((function(){x[_0x37ca("0x1c5")]=!0,a[_0x37ca("0x265")](x)}),1e3*x[_0x37ca("0x1b7")]):(a[_0x37ca("0x1b4")]=!1,x.callback&&x[_0x37ca("0x1c7")]())}))[_0x37ca("0x1c6")]()}))[_0x37ca("0x1c6")]()}},{key:_0x37ca("0xe18"),value:function(x){var a,c,_=this;x=x||{};if(!this[_0x37ca("0x1b4")]||x[_0x37ca("0x1c5")])return _._isAnimating=!0,x[_0x37ca("0x22e")]=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x22e"),1.5),x.times=(0,r.getValues)(x,_0x37ca("0x1b5"),1),x.delay=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1b7"),0),0==x[_0x37ca("0x1b5")]&&(x[_0x37ca("0x1b5")]=Number.MAX_VALUE),x[_0x37ca("0x1ba")]=null==x[_0x37ca("0x1ba")]?.6:x[_0x37ca("0x1ba")],a=_.scale[_0x37ca("0xde")]()[_0x37ca("0x26b")](x[_0x37ca("0x22e")]),c=_[_0x37ca("0x22e")][_0x37ca("0xde")](),this[_0x37ca("0xe19")]&&this.flashId1[_0x37ca("0x1bc")](),_[_0x37ca("0xe19")]=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(_[_0x37ca("0x22e")]).to(a,.2*x.time*1e3)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].In),_[_0x37ca("0xe1a")]=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(_[_0x37ca("0x22e")]).to(c,.8*x[_0x37ca("0x1ba")]*1e3)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].Out).onComplete((function(){x[_0x37ca("0x1b5")]--,x.times>0?_[_0x37ca("0x1b4")]&&(x[_0x37ca("0x1c5")]=!0,_[_0x37ca("0xe19")][_0x37ca("0x1b7")](1e3*x[_0x37ca("0x1b7")])[_0x37ca("0x1c6")]()):(_._isAnimating=!1,_.flashId1[_0x37ca("0x1bc")](),x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]())})),_[_0x37ca("0xe19")][_0x37ca("0xe1b")](_[_0x37ca("0xe1a")]).start(),x}},{key:"alwaysShow",value:function(x,a){var c=esmap[_0x37ca("0x7b")][_0x37ca("0x5eb")](this[_0x37ca("0xa4")]),_=esmap[_0x37ca("0x22c")][c];a=null==a?null==_?10:_:a,x=null==x||x,this[_0x37ca("0xa9")].depthWrite=!x,this[_0x37ca("0xa9")].depthTest=!x,this[_0x37ca("0x127")]=x?a:0}},{key:_0x37ca("0x936"),value:function(x){function a(t){var f=!1;if(e[_0x37ca("0xaa1")][e[_0x37ca("0xaa1")].length-1]==a&&(f=!0),u+=t*r,(_=getPointByDistance(d,u,o))&&_[_0x37ca("0x3ca")]){var h=null,g=i.matrix[_0x37ca("0xde")]();g[_0x37ca("0x25b")](i[_0x37ca("0xb8")],new(THREE[_0x37ca("0xe2")])(_.point.x+n[_0x37ca("0xb8")].x,i.position.y,_[_0x37ca("0x3ca")].z+n[_0x37ca("0xb8")].z),i.up),g[_0x37ca("0x281")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](new THREE.Euler(0,l,0))),h=(new(THREE[_0x37ca("0x22f")]))[_0x37ca("0x25d")](g)}_[_0x37ca("0xe1c")]?s?u=0:(i[_0x37ca("0x1bc")](),i[_0x37ca("0x1bc")]=null,c.emit("animateEnd",{_this:c})):function(a,t,r){x[_0x37ca("0x2e1")];i[_0x37ca("0xb8")].x=_[_0x37ca("0x3ca")].x+n[_0x37ca("0xb8")].x,i[_0x37ca("0xb8")].z=_[_0x37ca("0x3ca")].z+n[_0x37ca("0xb8")].z;var s={x:-a-map.mapScene[_0x37ca("0x19a")],z:t+map.mapScene[_0x37ca("0x19b")]};if(c[_0x37ca("0x242")](_0x37ca("0x27b"),{x:s.x,y:s.z}),x[_0x37ca("0x2e1")]&&f){var o=new THREE.Vector3(1,0,0),u=o[_0x37ca("0xde")](),d=i[_0x37ca("0x245")].clone();d.setPosition(new(THREE[_0x37ca("0xe2")])),u[_0x37ca("0x247")](d);var g=(g=u[_0x37ca("0xde")]().cross(o)).y<0?-1:1,b=o.angleTo(u),v=Math.PI-b*g-l;e.controls[_0x37ca("0xc")]instanceof THREE[_0x37ca("0x886")]&&(v+=Math.PI),e.controls[_0x37ca("0x119")]({forceTheta:v})}x[_0x37ca("0x2f0")]&&f&&e[_0x37ca("0x250")]({x:s.x,y:s.z,time:0,FloorNum:1,callback:null});i.quaternion.slerp(h,.2)}(i[_0x37ca("0xb8")].x,i[_0x37ca("0xb8")].z)}var c=this;if(x&&x[_0x37ca("0xee")]){var _,e=esmap[_0x37ca("0x34")][_0x37ca("0x35")],t=x[_0x37ca("0xee")][_0x37ca("0x39")]((function(x){return new(THREE[_0x37ca("0xe2")])(-e[_0x37ca("0x14c")][_0x37ca("0x19a")]-x.x,0,x.y-e[_0x37ca("0x14c")][_0x37ca("0x19b")])})),i=this[_0x37ca("0xa5")],n=t,r=x.speed||12,s=x[_0x37ca("0x2a9")],o=x[_0x37ca("0x137")]||0,l=x[_0x37ca("0x252")]*THREE.Math.DEG2RAD,u=x.startDistance||0,d=(new(THREE[_0x37ca("0xe2")])(1,0,0),void 0===x[_0x37ca("0xe1d")]?Math.PI:x.rotateY,n);n.position={x:0,y:0,z:0},e[_0x37ca("0xaa1")][_0x37ca("0x0")](a),i[_0x37ca("0x1bc")]&&i[_0x37ca("0x1bc")](),e.on(_0x37ca("0x119"),a),i[_0x37ca("0x1bc")]=function(){i._stop&&i[_0x37ca("0xe1e")](),e[_0x37ca("0x62")](_0x37ca("0x119"),a)}}}},{key:_0x37ca("0x24f"),value:function(x){if(void 0===this.enabledUpdateSize&&(this[_0x37ca("0xe1f")]=!0),this.enabledUpdateSize){var a,c=(x=x||esmap[_0x37ca("0x34")].instance[_0x37ca("0x154")]).map[_0x37ca("0x186")],_=x[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building;this.originPosition||(this.originPosition=this.position[_0x37ca("0xde")]()),(null==this[_0x37ca("0x1b3")]||isNaN(this.initY_))&&(isNaN(this[_0x37ca("0xb8")].y)&&(this.position.y=0),this[_0x37ca("0x1b3")]=this[_0x37ca("0xb8")].y);var e=this[_0x37ca("0x17b")]?0==this[_0x37ca("0x17b")][_0x37ca("0xd4c")]?0:this[_0x37ca("0x17b")].ShowLevel:0==this.datas_[_0x37ca("0xe20")]?0:this[_0x37ca("0xa4")][_0x37ca("0xe20")];if(a=_?x[_0x37ca("0x39")][_0x37ca("0x224")]:x[_0x37ca("0x39")][_0x37ca("0x156")],e instanceof Array){var t=e[0],i=e[1];a>=t&&a<=i?this[_0x37ca("0xed")]||(this[_0x37ca("0xed")]=!0):this[_0x37ca("0xed")]&&(this.visible=!1)}else(e||0==e)&&(_?a>e?this[_0x37ca("0xed")]&&(this[_0x37ca("0xed")]=!1):this[_0x37ca("0xed")]||(this[_0x37ca("0xed")]=!0):a<e?this.visible&&(this[_0x37ca("0xed")]=!1):this.visible||(this[_0x37ca("0xed")]=!0));if("3D"==x[_0x37ca("0x39")][_0x37ca("0x610")]){if(0==x.h_)return;this[_0x37ca("0xe21")]=void 0;var n=esmap[_0x37ca("0x289")][_0x37ca("0xe22")](this,x),r=this[_0x37ca("0xa4")]instanceof esmap[_0x37ca("0xe23")]&&!this.datas_[_0x37ca("0xe24")]?16:2;n=esmap[_0x37ca("0x289")][_0x37ca("0xe22")](this,x);if(!this[_0x37ca("0x11a")][_0x37ca("0xe25")])return this[_0x37ca("0x22e")][_0x37ca("0x11d")](.01,.01,1),void(this.userData[_0x37ca("0xe25")]=!0);if(this[_0x37ca("0xe26")]&&this[_0x37ca("0xe15")]){var s=this[_0x37ca("0xe26")]/32*10,o=this[_0x37ca("0xe15")]/32*10;this[_0x37ca("0x22e")][_0x37ca("0x11d")](s,o,1)}var l=this[_0x37ca("0xe15")]?this[_0x37ca("0xe15")]*n[_0x37ca("0xe27")]/r:0;this[_0x37ca("0x17b")][_0x37ca("0x28a")]&&(l/=2);this[_0x37ca("0xe28")];if(this.type_!=_0x37ca("0xe29")&&this[_0x37ca("0xb8")].setY(this[_0x37ca("0x1b3")]),this.type_&&("UserPOI"==this[_0x37ca("0x18b")]||this[_0x37ca("0x18b")]==_0x37ca("0xe29")||this[_0x37ca("0x18b")]==_0x37ca("0xe2a"))&&(this.datas_.unspritify_||null!=this[_0x37ca("0xa4")][_0x37ca("0xe24")]&&!this[_0x37ca("0xa4")][_0x37ca("0xe24")]))return;0==n[_0x37ca("0x22e")].x&&(n[_0x37ca("0x22e")].x=1),this[_0x37ca("0x22e")][_0x37ca("0x268")](n.scale)}else{if(this[_0x37ca("0x18b")]&&(this.type_==_0x37ca("0xe2b")||"Model3D"==this.type_||this.type_==_0x37ca("0xe2a"))&&(null!=this[_0x37ca("0xa4")][_0x37ca("0xe24")]&&!this[_0x37ca("0xa4")].spritify_||this[_0x37ca("0xa4")][_0x37ca("0xe2c")]))return;r=this[_0x37ca("0xa4")]instanceof esmap[_0x37ca("0xe23")]&&!this[_0x37ca("0xa4")].spritify_?16:2,n=esmap[_0x37ca("0x289")][_0x37ca("0xe22")](this,x);if(!this[_0x37ca("0x11a")][_0x37ca("0xe25")])return this[_0x37ca("0x22e")].set(.01,.01,1),void(this[_0x37ca("0x11a")][_0x37ca("0xe25")]=!0);if(this[_0x37ca("0xe26")]&&this[_0x37ca("0xe15")]){var u=this[_0x37ca("0xe26")]/32*10;o=this.height_/32*10;this[_0x37ca("0x22e")][_0x37ca("0x11d")](u,o,1)}l=this[_0x37ca("0xe15")]?this[_0x37ca("0xe15")]*n[_0x37ca("0xe27")]/r:0;this[_0x37ca("0x17b")][_0x37ca("0x28a")]&&(l/=2);this.notAddImageHeight;this.type_!=_0x37ca("0xe29")&&this[_0x37ca("0xb8")][_0x37ca("0xe2d")](this[_0x37ca("0x1b3")]),this._lastScale=esmap[_0x37ca("0x289")][_0x37ca("0xe22")](this,x)[_0x37ca("0x22e")],this[_0x37ca("0x22e")][_0x37ca("0x268")](this._lastScale[_0x37ca("0xde")]().multiplyScalar(1/c[_0x37ca("0x612")]))}}}},{key:_0x37ca("0xe2e"),value:function(x,a){if(x&&x[_0x37ca("0xda")]("\\n")>-1){var c=x[_0x37ca("0x2b")]("\\n"),_="";c[_0x37ca("0x1f")]((function(x){_+=x+"\n"})),x=_}function e(x,a){if(O[x]&&""!=O[x]){if(_0x37ca("0x13c")==a)return esmap[_0x37ca("0x7b")][_0x37ca("0x5ea")](O[x]);if("number"==a)return parseFloat(O[x])}return 0}var t,i=this;if(void 0===a&&(a={}),a[_0x37ca("0xe2f")]=a[_0x37ca("0x49c")],i.data_&&i[_0x37ca("0x17b")].image){var n;if(a[_0x37ca("0xe30")]=i[_0x37ca("0x17b")].w,a[_0x37ca("0xe2f")]=i[_0x37ca("0x17b")].h,i.data_[_0x37ca("0xe31")])n=i[_0x37ca("0x17b")][_0x37ca("0x497")];else{var r=(i[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x70")]?"-"+String(i[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x70")]):"")+"/";n=i[_0x37ca("0xe32")]?i[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")]+"/"+i[_0x37ca("0x39")][_0x37ca("0xb07")]+(_0x37ca("0xe33")+r)+"/"+i[_0x37ca("0x17b")][_0x37ca("0x497")]:i[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")]+"/"+i[_0x37ca("0x39")][_0x37ca("0xb07")]+"/imagelabel"+r+"/"+i.data_[_0x37ca("0x497")]}this[_0x37ca("0xe34")]!=n&&(this[_0x37ca("0xe34")]=n,this[_0x37ca("0xe35")]=null,esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](n,(function(x){x[_0x37ca("0x13a")]=!0,i[_0x37ca("0xe35")]=x,i[_0x37ca("0xe36")]&&i[_0x37ca("0xe36")](x)})))}var o=a[_0x37ca("0x1")](_0x37ca("0xe37"))?a[_0x37ca("0xe37")]:_0x37ca("0xe38"),l=a[_0x37ca("0x1")]("fontsize")?a[_0x37ca("0xddf")]:36,u=0;l=Math[_0x37ca("0xa18")](l*(this[_0x37ca("0xe39")]||1));var d=a[_0x37ca("0x1")]("color")?a[_0x37ca("0x13c")]:"rgba(0,0,0,1)",f=a[_0x37ca("0x1")](_0x37ca("0xe3a"))?a[_0x37ca("0xe3a")]:2,h=a[_0x37ca("0x1")](_0x37ca("0xe3b"))?a[_0x37ca("0xe3b")]:_0x37ca("0xe3c"),g=esmap[_0x37ca("0x7b")].getPlatform()[_0x37ca("0x20f")];null==f&&(f=2),0==f&&(h=d,u=2),f*=g?3:2,u*=g?3.5:2.5;var b,v,p=Math[_0x37ca("0xa18")](l*(g&&l<=36?1.1:1)),A=p+_0x37ca("0xb9e")+o;i[_0x37ca("0x6f9")]||(i.canvas=document[_0x37ca("0x22")]("canvas")),i.context||(i[_0x37ca("0x1d3")]=i[_0x37ca("0x6f9")].getContext("2d")),b=i.canvas,(v=i[_0x37ca("0x1d3")])[_0x37ca("0xb96")]=A;for(var m=f/2,C=x[_0x37ca("0x2b")]("\n"),I=[],y=0,E=0,w=0;w<C[_0x37ca("0x4")];w++)if(""==C[w])C[_0x37ca("0x5")](w,1),w--;else{var T=v[_0x37ca("0xb97")](C[w])[_0x37ca("0x398")]+f;y=Math[_0x37ca("0x30d")](y,T),E+=p+f+u,I.push({text:C[w],width:T})}a[_0x37ca("0xe3d")]=a[_0x37ca("0xe3d")],E+=a[_0x37ca("0xe3d")]*(C[_0x37ca("0x4")]-1),0==f&&(E+=g?3:2);var k=null,S=!1,M={x:m,y:-f},R={x:0,y:0},L=y+f,H=null==x||""==x?0:E,P=1*a[_0x37ca("0xe3e")]||0,D=y,O=i[_0x37ca("0x17b")]&&i[_0x37ca("0x17b")][_0x37ca("0xe3f")]&&i[_0x37ca("0x39")].mapTheme[_0x37ca("0xdba")]?i[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xdba")][i[_0x37ca("0x17b")][_0x37ca("0xe3f")]]:void 0;if(O){var B=e(_0x37ca("0xddf"),"number"),N=e(_0x37ca("0xe40"),_0x37ca("0x143")),F=e("platecolor",_0x37ca("0x13c")),z=e(_0x37ca("0xe41"),_0x37ca("0x13c"));if(N){var j=4*(N-B);L=(y+=2*j)+f,H=E+=j,contentSize=a[_0x37ca("0x49c")]||contentSize+j}}if(i[_0x37ca("0x17b")]&&i[_0x37ca("0x17b")][_0x37ca("0x497")])switch(S=!0,a[_0x37ca("0xd50")]){case _0x37ca("0x172"):a[_0x37ca("0xe2f")]>E?(M.y=(a[_0x37ca("0xe2f")]-E)/2-f,H=a[_0x37ca("0xe2f")]):(M.y=-f,R.y=(E-a[_0x37ca("0xe2f")])/2),M.x=a[_0x37ca("0xe30")]+P,L=y+M.x;break;case _0x37ca("0x174"):a.imageheight>E?(M.y=(a.imageheight-E)/2,H=a[_0x37ca("0xe2f")]):(M.y=-f,R.y=(E-a.imageheight)/2),R.x=0!=y?y+P:0,L=y+a[_0x37ca("0xe30")]+P;break;case _0x37ca("0x173"):D=Math[_0x37ca("0x30d")](y,a[_0x37ca("0xe30")])+f,y>=a.imagewidth?R.x=Math.ceil((y+m-a[_0x37ca("0xe30")])/2):M.x=Math[_0x37ca("0xa18")]((a[_0x37ca("0xe30")]-y+m)/2),H=H+a.imageheight+P,L=D,M.y=a[_0x37ca("0xe2f")]+P-m;break;case"bottom":D=Math[_0x37ca("0x30d")](y,a.imagewidth)+f,y>=a[_0x37ca("0xe30")]?R.x=Math[_0x37ca("0xa18")]((y+m-a[_0x37ca("0xe30")])/2):M.x=Math[_0x37ca("0xa18")]((a.imagewidth-y+m)/2);var X=H;H=H+a.imageheight+P,L=D,R.y=X+P}if(L+=a[_0x37ca("0xe42")]*x[_0x37ca("0x4")],b[_0x37ca("0x398")]=L,b[_0x37ca("0x1a8")]=H,i[_0x37ca("0xe43")]=new(THREE[_0x37ca("0xe2")])(b[_0x37ca("0x398")]/2,0,b[_0x37ca("0x1a8")]/2),i[_0x37ca("0xe44")]=i[_0x37ca("0xe43")][_0x37ca("0xde")](),i.width_=b[_0x37ca("0x398")],i.height_=b.height,S)var Y=function(x){(k=x[_0x37ca("0x497")])&&(v[_0x37ca("0xe45")](k,R.x,R.y,a.imagewidth,a[_0x37ca("0xe2f")]),i[_0x37ca("0xe46")]=new(THREE[_0x37ca("0xe2")])(R.x+a[_0x37ca("0xe30")]/2,0,R.y+a[_0x37ca("0xe2f")]/2),"icon"==a[_0x37ca("0xe47")]&&(i[_0x37ca("0xe48")]=i[_0x37ca("0xe46")]),t&&(t[_0x37ca("0x13a")]=!0)),i[_0x37ca("0xe49")]&&!i[_0x37ca("0xe4a")]&&(i[_0x37ca("0xe49")](i),i[_0x37ca("0xe4a")]=!0)};if(i[_0x37ca("0xe36")]=Y,i[_0x37ca("0xe35")]&&Y(i[_0x37ca("0xe35")]),null!=x&&x){if(a[_0x37ca("0xe4b")]){var U=a.shadowoffset.split(",");v.shadowOffsetX=1*U[0],v[_0x37ca("0x90c")]=1*U[1],v[_0x37ca("0x909")]=_0x37ca("0x605")+a[_0x37ca("0xe4c")]+")",v[_0x37ca("0x90d")]=a[_0x37ca("0xe4d")]}if(v[_0x37ca("0xb96")]=A,v.imageSmoothingEnabled=!0,N){v[_0x37ca("0xe4e")]=z,v[_0x37ca("0x115")]=4;var G=0;"top"==a.imagealign&&(G=a.imagewidth+P),v[_0x37ca("0xe4f")](M.x+4,4+G,y-8,E-8,10)[_0x37ca("0xe50")](),v.fillStyle=F,v[_0x37ca("0xe4f")](M.x+4,4+G,y-8,E-8,10)[_0x37ca("0x32d")]()}var Q=0;for(w=0;w<I[_0x37ca("0x4")];w++){var V=(y-I[w][_0x37ca("0x398")])/2+M.x,W=(w+1)*(p+a.lineheight+f)+M.y-a[_0x37ca("0xe3d")];N?Q=j/2:(Q=0,v[_0x37ca("0xe4e")]=(0,s[_0x37ca("0xc3")])(h),v[_0x37ca("0x115")]=f),v[_0x37ca("0x9fe")]=(0,s[_0x37ca("0xc3")])(d),v[_0x37ca("0xe51")](I[w].text,V,W,Q,a[_0x37ca("0xe42")])}}return(t=new(THREE[_0x37ca("0x416")])(b))[_0x37ca("0x41f")]=THREE[_0x37ca("0x420")],t[_0x37ca("0x141")]=esmap[_0x37ca("0x34")].instance.mapView[_0x37ca("0x693")][_0x37ca("0xc7f")].getMaxAnisotropy(),t[_0x37ca("0xe52")]=!1,t.needsUpdate=!0,a[_0x37ca("0xe53")]||this.material_||(this[_0x37ca("0xe09")]=new(THREE[_0x37ca("0x28e")])({})),this[_0x37ca("0xe09")][_0x37ca("0x39")]=t,this.material_[_0x37ca("0x39")][_0x37ca("0x13a")]=!0,this[_0x37ca("0xe09")][_0x37ca("0x13a")]=!0,t}},{key:_0x37ca("0xc31"),value:function(x){x=x||this[_0x37ca("0x24")],this[_0x37ca("0xe2e")](this[_0x37ca("0xe54")],{fontsize:2*x[_0x37ca("0xddf")],borderThickness:0==x[_0x37ca("0xde1")]?0:x.strokewidth,color:x[_0x37ca("0xdde")]||"0,0,0",borderColor:x.strokecolor||_0x37ca("0xdbc"),imagealign:x[_0x37ca("0xd50")]||_0x37ca("0x172"),imagesize:x[_0x37ca("0x49c")],lineheight:1*x[_0x37ca("0xe3d")]||4,imagespace:x.imagespace,fontspace:x.fontspace||4,pivottype:x.pivottype||_0x37ca("0xe5"),shadow:1*x[_0x37ca("0xe4b")]||0,shadowcolor:x[_0x37ca("0xe4c")]||"0,0,0,1",shadowoffset:x[_0x37ca("0xe55")]||_0x37ca("0xe56"),shadowblur:x[_0x37ca("0xe4d")]||1}),this[_0x37ca("0xa9")]=this[_0x37ca("0xe09")]}},{key:"setname",value:function(x){this[_0x37ca("0xe54")]=x,this[_0x37ca("0xc31")]()}},{key:_0x37ca("0xe57"),value:function(x){this.style.fontsize=x,this[_0x37ca("0xc31")]()}},{key:_0x37ca("0xe58"),value:function(x){this.style.fillcolor=x,this.updateStyle()}},{key:_0x37ca("0xe59"),value:function(x){this[_0x37ca("0x24")][_0x37ca("0xde0")]=x,this[_0x37ca("0xc31")]()}},{key:_0x37ca("0x266"),value:function(){if(this[_0x37ca("0xe17")]){if(this[_0x37ca("0xe17")]&&this[_0x37ca("0xe17")][_0x37ca("0x1bc")](),this[_0x37ca("0xdb2")])this[_0x37ca("0xe26")]=this.originSize[_0x37ca("0x398")],this.height_=this[_0x37ca("0xdb2")][_0x37ca("0x1a8")];else{var x=new(THREE[_0x37ca("0xe2")])(1,1,1);this[_0x37ca("0xe17")]=new(esmap.TWEEN[_0x37ca("0x1bd")])(this.scale).to(x,100)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c6")]()}this[_0x37ca("0x1b4")]=!1}}},{key:_0x37ca("0x3bd"),value:function(x){clearInterval(this._moveToID),this[_0x37ca("0x1b4")]=!1}},{key:_0x37ca("0xe5a"),value:function(){this[_0x37ca("0x1bb")]&&this[_0x37ca("0x1bb")][_0x37ca("0x1bc")](),this._jumpID2&&this[_0x37ca("0x1c0")][_0x37ca("0x1bc")](),null!=this[_0x37ca("0xe5b")]&&(this.initY_=this._initY),this[_0x37ca("0x1b4")]=!1}},{key:_0x37ca("0x263"),value:function(x){var a=this;if(x=x||{},!this[_0x37ca("0x1b4")]||x[_0x37ca("0x1c5")])return a[_0x37ca("0x1b4")]=!0,null==x[_0x37ca("0xe5b")]&&(a[_0x37ca("0xe5b")]=a[_0x37ca("0x1b3")]),x[_0x37ca("0x1b5")]=(0,r.getValues)(x,"times",1),0==x[_0x37ca("0x1b5")]&&(x[_0x37ca("0x1b5")]=Number.MAX_VALUE),x[_0x37ca("0x1b7")]=(0,r[_0x37ca("0x1b8")])(x,"delay",0),x[_0x37ca("0x1a8")]=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1a8"),8),x.duration=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),"duration",1),this[_0x37ca("0x1bb")]&&this[_0x37ca("0x1bb")][_0x37ca("0x1bc")](),this._jumpID1=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(this).to({initY_:a[_0x37ca("0xe5b")]+x[_0x37ca("0x1a8")]},.2*x.duration*1e3).easing(esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x1be")].InOut)[_0x37ca("0x1c4")]((function(){})),this[_0x37ca("0x1c0")]=new(esmap[_0x37ca("0x1c1")].Tween)(this).to({initY_:a[_0x37ca("0xe5b")]},.8*x.duration*1e3).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Bounce.Out)[_0x37ca("0x1c4")]((function(){x[_0x37ca("0x1b5")]--,x[_0x37ca("0x1b5")]>0?a[_0x37ca("0x1b4")]&&(x[_0x37ca("0x1c5")]=!0,a[_0x37ca("0x1bb")][_0x37ca("0x1b7")](1e3*x[_0x37ca("0x1b7")])[_0x37ca("0x1c6")]()):(a[_0x37ca("0x1b4")]=!1,a[_0x37ca("0x1bb")].stop(),x[_0x37ca("0x1c7")]&&x.callback())})),this[_0x37ca("0x1bb")][_0x37ca("0xe1b")](this[_0x37ca("0x1c0")])[_0x37ca("0x1c6")](),x}},{key:_0x37ca("0x250"),value:function(x){var a=this,c=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),_0x37ca("0x1b9"),1),_=esmap.ESMap[_0x37ca("0x35")],e=(0,r.getValues)(x,"height","z",_0x37ca("0xe5c"),"offset","offsetHeight",null),t=_[_0x37ca("0xaa3")]({x:x.x,y:x.y}),i=_[_0x37ca("0x181")]({x:t.x,y:t.y}),n=i.x,s=i.z,o=null==e?a[_0x37ca("0xb8")].y:e;return 0==c?(a[_0x37ca("0xb8")].x=n,a[_0x37ca("0xb8")].y=o,a.position.z=s,x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")](),x):(a._isAnimating=!0,a[_0x37ca("0x251")]&&a[_0x37ca("0x251")][_0x37ca("0x1bc")](),a._moveToID=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a.position).to({x:n,z:s,y:o},1e3*c)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(c){x.update&&x[_0x37ca("0x119")]({x:a.x,y:a.y})}))[_0x37ca("0x1c4")]((function(){a[_0x37ca("0x1b4")]=!1,x.callback&&x.callback()}))[_0x37ca("0x1c6")](),x)}},{key:_0x37ca("0xd3e"),value:function(x){var a=this,c=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),"duration",1),_=!1;return a.datas_&&a[_0x37ca("0xa4")][_0x37ca("0xe5d")]&&"es3dmarker"==a[_0x37ca("0xa4")][_0x37ca("0xe5d")]&&(_=!0),a._rotateID&&a[_0x37ca("0xe5e")][_0x37ca("0x1bc")](),a._rotateID=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(_?a[_0x37ca("0x1a3")]:a).to({y:THREE.Math[_0x37ca("0x26d")](x[_0x37ca("0x252")])},1e3*c)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]()}))[_0x37ca("0x1c6")](),x}},{key:_0x37ca("0xe5f"),value:function(x){var a=this;if(a[_0x37ca("0xa9")]&&!a[_0x37ca("0xe60")]){a[_0x37ca("0xe60")]=!0,(x=x||{})[_0x37ca("0xe61")]||(a[_0x37ca("0xed")]=!0);var c=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),"duration",.2);a[_0x37ca("0xe62")]&&a[_0x37ca("0xe62")][_0x37ca("0x1bc")](),a[_0x37ca("0xe62")]=new(esmap[_0x37ca("0x1c1")].Tween)(a.material).to({opacity:x[_0x37ca("0xe61")]?0:1},1e3*c)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x1c4")]((function(){a[_0x37ca("0xe60")]=!1,x[_0x37ca("0xe61")]&&(a[_0x37ca("0xed")]=!1),x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]()}))[_0x37ca("0x1c6")]()}}},{key:_0x37ca("0xe63"),value:function(x){var a=this;if(a[_0x37ca("0xa9")]&&a.material[_0x37ca("0xb3")])for(var c=0;c<a[_0x37ca("0xa9")][_0x37ca("0xb3")].length;c++){_(a[_0x37ca("0xa9")][_0x37ca("0xb3")][c],c==a[_0x37ca("0xa9")][_0x37ca("0xb3")][_0x37ca("0x4")]-1)}else _(a.material,!0);function _(a,c){new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a).to({opacity:0},500)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")][_0x37ca("0x260")]).onComplete((function(){c&&x&&x()}))[_0x37ca("0x1c6")]()}}},{key:_0x37ca("0xe64"),value:function(x){var a=this;if(a.material&&a.material.materials)for(var c=0;c<a[_0x37ca("0xa9")][_0x37ca("0xb3")][_0x37ca("0x4")];c++){_(a[_0x37ca("0xa9")][_0x37ca("0xb3")][c],c==a[_0x37ca("0xa9")][_0x37ca("0xb3")][_0x37ca("0x4")]-1)}else _(a.material,!0);function _(a,c){new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a).to({opacity:1},500)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")].None)[_0x37ca("0x12f")]((function(x){})).onComplete((function(){c&&x&&x()}))[_0x37ca("0x1c6")]()}}},{key:_0x37ca("0xe48"),get:function(){return this.pivot_},set:function(x){if(x instanceof THREE.Vector3){this[_0x37ca("0xe44")]=x,this[_0x37ca("0xe65")]=new(THREE[_0x37ca("0xe2")])(this[_0x37ca("0xe26")]/2-x.x,0,x.y-this.height_/2);var a=new(THREE[_0x37ca("0x231")])(this[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x2e7")](),this[_0x37ca("0x39")][_0x37ca("0x275")].getAzimuthalAngle(),0,"YXZ"),c=(new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](a);this[_0x37ca("0xb8")][_0x37ca("0x268")](this[_0x37ca("0xe66")].clone()[_0x37ca("0xe0")](this[_0x37ca("0xe65")].clone()[_0x37ca("0x26b")](this.meterperpixel_).applyMatrix4(c)))}}}]),a}(THREE[_0x37ca("0x291")]),u=function(){function x(a,c,_,t){(0,e[_0x37ca("0xe")])(this,x),this[_0x37ca("0x39")]=esmap[_0x37ca("0x34")].instance,this[_0x37ca("0xe32")]=t||!1,this[_0x37ca("0x17b")]=c,this[_0x37ca("0x17b")][_0x37ca("0x48f")]=a,c[_0x37ca("0xe67")]&&(this[_0x37ca("0x17b")].x_=c[_0x37ca("0xe67")][0],this[_0x37ca("0x17b")].y_=c[_0x37ca("0xe67")][1]),this[_0x37ca("0xe26")],this[_0x37ca("0xe15")],this[_0x37ca("0xe09")]=null,this.scaleRatio_=1,this[_0x37ca("0xe1f")]=!0,this.message=c[_0x37ca("0x1aa")],this[_0x37ca("0xe68")]=c[_0x37ca("0xe68")],(_=_||{})[_0x37ca("0xd50")]=_[_0x37ca("0xd50")]||_0x37ca("0x172"),_[_0x37ca("0x49c")]=_[_0x37ca("0x49c")]||null,_[_0x37ca("0xe3e")]=_[_0x37ca("0xe3e")]||.5,_.lineheight=1*_[_0x37ca("0xe3d")]||4,_[_0x37ca("0xe42")]=_.textspace||.5,_[_0x37ca("0xe47")]=_.pivottype||_0x37ca("0xe5"),this[_0x37ca("0x24")]=_,this[_0x37ca("0xe66")]=null,this[_0x37ca("0xe65")]=null,this.pivot_=null,this[_0x37ca("0xe43")]=null,this.iconPivot=null,this[_0x37ca("0xe4a")]=!1,this[_0x37ca("0xe49")]=c[_0x37ca("0x1c7")]||null,this[_0x37ca("0xc31")](_),THREE[_0x37ca("0x291")].call(this,this[_0x37ca("0xe09")]),this[_0x37ca("0xe09")]=null,this[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].label;var i=c[_0x37ca("0x22e")]||1;if(this[_0x37ca("0xe35")]=null,this[_0x37ca("0xe34")]=null,!this[_0x37ca("0xe68")]){var n=174.22169477307486/this[_0x37ca("0x39")][_0x37ca("0x154")].h_*.3,r=(this.scaleRatio_,this[_0x37ca("0xe26")]*n),s=this[_0x37ca("0xe15")]*n;this[_0x37ca("0x22e")][_0x37ca("0x11d")](r*i,s*i,1)}c[_0x37ca("0x497")]||!this[_0x37ca("0xe49")]||this.isCallbackExeced||(this[_0x37ca("0xe49")](this),this[_0x37ca("0xe4a")]=!0)}return(0,t[_0x37ca("0xe")])(x,null,[{key:_0x37ca("0xe22"),value:function(x,a){var c=x[_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")]));x.userData[_0x37ca("0xe69")]&&(c=x.userData.computePosition[_0x37ca("0xde")]());var _=c,e=a[_0x37ca("0x611")].position,t=a[_0x37ca("0x39")].controls[_0x37ca("0x276")][_0x37ca("0xde")](),i=_.distanceTo(e),n=t[_0x37ca("0xde")]()[_0x37ca("0x2d7")](e).normalize(),r=_[_0x37ca("0xde")]()[_0x37ca("0x2d7")](e)[_0x37ca("0x2d8")]();i*=n[_0x37ca("0x8b3")](r),i=Math.abs(i);var s=a.map[_0x37ca("0x36")][_0x37ca("0xb2c")]==esmap.ESCameraMode.NEAR?1.8:1,o=i/a.h_*.3*s,l=(x[_0x37ca("0xe39")],x.width_*o),u=x[_0x37ca("0xe15")]*o;return x[_0x37ca("0xe6a")]=o,{scale:6==x[_0x37ca("0xa4")][_0x37ca("0xc8")]?new(THREE[_0x37ca("0xe2")])(l,u,l):new THREE.Vector3(l,u,1),meterperpixel:o}}}]),x}();u[_0x37ca("0x11")]=new l,esmap[_0x37ca("0x7b")]._setGeneralProperties(u[_0x37ca("0x11")],_0x37ca("0xe66")),CanvasRenderingContext2D.prototype[_0x37ca("0xe51")]=function(x,a,c,_,e){var t=this,i=t[_0x37ca("0x6f9")],n=c+_;if(!e&&i){var r=window[_0x37ca("0x393")](i);e=parseFloat(r[_0x37ca("0xe6b")])}if(!e)return this[_0x37ca("0xe6c")](x,a,c),this[_0x37ca("0xe6d")](x,a,n);var s=x.split(""),o=t[_0x37ca("0xe6e")]||_0x37ca("0x172"),l=t[_0x37ca("0xb97")](x)[_0x37ca("0x398")]+e*(s[_0x37ca("0x4")]-1);o==_0x37ca("0xe5")?a-=l/2:"right"==o&&(a-=l),t.textAlign=_0x37ca("0x172"),s[_0x37ca("0x1f")]((function(x){var _=t[_0x37ca("0xb97")](x)[_0x37ca("0x398")];t[_0x37ca("0xe6c")](x,a,c),t[_0x37ca("0xe6d")](x,a,n),a=a+_+e})),t[_0x37ca("0xe6e")]=o},a.default=u},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=n(c(4)),e=n(c(5)),t=n(c(6)),i=n(c(0));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=function x(a,c,_,e,t,n){var r;(0,i[_0x37ca("0xe")])(this,x),this[_0x37ca("0x17b")]=c,this[_0x37ca("0x17b")].floornum=a;var s=c[_0x37ca("0xd46")];c[_0x37ca("0x497")]&&""!=c[_0x37ca("0x497")]&&(s=c.image),esmap.ESMapPoi._mats=esmap.ESMapPoi[_0x37ca("0xcf3")]||{},(r=esmap[_0x37ca("0x188")][_0x37ca("0xcf3")][a+"_"+s])||(r=_[_0x37ca("0xe06")](e,s,t,n),esmap[_0x37ca("0x188")]._mats[a+"_"+s]=r),THREE[_0x37ca("0x291")][_0x37ca("0x6")](this,r),this[_0x37ca("0x22e")][_0x37ca("0x11d")](10,10,10),this[_0x37ca("0xa9")][_0x37ca("0x124")]=!1,this[_0x37ca("0x127")]=esmap.ESRenderOrder.facility,this[_0x37ca("0xe26")]=parseFloat(c.w),this[_0x37ca("0xe15")]=parseFloat(c.h)},s=function(x){function a(){var x,c,t,n;(0,i[_0x37ca("0xe")])(this,a);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return c=t=(0,e[_0x37ca("0xe")])(this,(x=a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")].apply(x,[this][_0x37ca("0x15")](s))),t.updateScreenSize=esmap.ESMapLabel[_0x37ca("0x11")][_0x37ca("0x24f")],t.flash=esmap.ESMapLabel[_0x37ca("0x11")][_0x37ca("0x265")],t[_0x37ca("0x263")]=esmap.ESMapLabel[_0x37ca("0x11")].jump,t.stopJump=esmap[_0x37ca("0x289")].prototype[_0x37ca("0xe5a")],n=c,(0,e[_0x37ca("0xe")])(t,n)}return(0,t.default)(a,x),a}(THREE.Sprite);r.prototype=new s,esmap[_0x37ca("0x7b")][_0x37ca("0x5f5")](r[_0x37ca("0x11")]),a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=l(c(8)),e=l(c(12)),t=l(c(13)),i=l(c(4)),n=l(c(5)),r=l(c(6)),s=l(c(0)),o=l(c(142));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=function x(a,c,_){(0,s[_0x37ca("0xe")])(this,x),d[_0x37ca("0x6")](this),this[_0x37ca("0x17b")]=a,this.visible=!1,this[_0x37ca("0xe70")]=null,this[_0x37ca("0xe71")]=null,this[_0x37ca("0x4a")]=c;var e=new(THREE[_0x37ca("0x28e")]);this[_0x37ca("0x21a")]=!0,THREE[_0x37ca("0x291")].call(this,e),this.scale.set(1,1,1),a.glow||(this[_0x37ca("0xe71")]=e,this[_0x37ca("0x21a")]=!1),this.genTexture({material:e,data:a,glowMode:a[_0x37ca("0x28a")],glowColor:this[_0x37ca("0x17b")][_0x37ca("0xe72")],url:c,callback:_}),this[_0x37ca("0xe73")]=!1,this[_0x37ca("0xe74")]=null},d=function(){var x;this.stopFloat=function(){this._floatTween&&(this._floatTween[_0x37ca("0x1bc")](),this[_0x37ca("0xe75")]=null,this.position.y=this._originalHeight),this[_0x37ca("0xe73")]&&(this.floating=!1)},this[_0x37ca("0x450")]=function(x){var a=this[_0x37ca("0xb8")].y;this[_0x37ca("0xe75")]&&(this[_0x37ca("0xe75")][_0x37ca("0x1bc")](),this[_0x37ca("0xe75")]=null),this[_0x37ca("0x1")](_0x37ca("0xe76"))||(this[_0x37ca("0xe76")]=a);var c=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(this.position).to({y:a+x[_0x37ca("0x1a8")]},1e3*x[_0x37ca("0x1ba")]).easing(esmap[_0x37ca("0x1c1")].Easing.Quadratic.In),_=new(esmap.TWEEN[_0x37ca("0x1bd")])(this[_0x37ca("0xb8")]).to({y:a},1e3*x[_0x37ca("0x1ba")])[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x25f")].None);c[_0x37ca("0xe1b")](_),_.chain(c),c[_0x37ca("0x1c6")](),this[_0x37ca("0xe75")]=c,this.floating||(this[_0x37ca("0xe73")]=!0)},this[_0x37ca("0xe77")]=(x=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a,c){var _,t;return e.default.wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(!(_=this)[_0x37ca("0x1b4")]){x[_0x37ca("0x29a")]=3;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 3:if(this[_0x37ca("0xe74")]||(this._originCenter=this[_0x37ca("0xe5")][_0x37ca("0xde")]()),!a){x[_0x37ca("0x29a")]=21;break}if(c==_[_0x37ca("0x17b")][_0x37ca("0xe72")]&&_[_0x37ca("0xe70")]){x[_0x37ca("0x29a")]=12;break}return t=new(THREE[_0x37ca("0x28e")]),x[_0x37ca("0x29a")]=9,this.genTexture({material:t,data:this.data_,glowMode:!0,glowColor:c,url:_[_0x37ca("0x4a")],callback:null});case 9:_[_0x37ca("0xe70")]=_.material,x.next=13;break;case 12:a!=_.glowing&&(_[_0x37ca("0xe26")]*=2,_[_0x37ca("0xe15")]*=2);case 13:_[_0x37ca("0xdb2")]&&(this.originSize[_0x37ca("0x398")]=_[_0x37ca("0xe26")],this[_0x37ca("0xdb2")].height=_[_0x37ca("0xe15")]),_[_0x37ca("0xa9")]=_.glowMat,_[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0,_.data_[_0x37ca("0x28a")]=!0,_[_0x37ca("0x21a")]=!0,0==this[_0x37ca("0xe74")].y&&(this[_0x37ca("0xe5")].y=.25),x[_0x37ca("0x29a")]=35;break;case 21:if(_[_0x37ca("0xe71")]){x[_0x37ca("0x29a")]=28;break}return t=new(THREE[_0x37ca("0x28e")]),x[_0x37ca("0x29a")]=25,this[_0x37ca("0xe78")]({material:t,data:this.data_,glowMode:!1,url:_[_0x37ca("0x4a")],callback:null});case 25:_.noramlMat=t,x[_0x37ca("0x29a")]=29;break;case 28:a!=_[_0x37ca("0x21a")]&&(_[_0x37ca("0xe26")]/=2,_[_0x37ca("0xe15")]/=2);case 29:_[_0x37ca("0xdb2")]&&(this[_0x37ca("0xdb2")][_0x37ca("0x398")]=_[_0x37ca("0xe26")],this[_0x37ca("0xdb2")][_0x37ca("0x1a8")]=_[_0x37ca("0xe15")]),_.material=_[_0x37ca("0xe71")],_.material[_0x37ca("0x13a")]=!0,_[_0x37ca("0x17b")][_0x37ca("0x28a")]=!1,_.glowing=!1,0==this[_0x37ca("0xe74")].y&&(this.center.y=0);case 35:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(a,c){return x[_0x37ca("0x3")](this,arguments)}),this[_0x37ca("0xe78")]=function(x){var a=this,c=0,e=0,t=x[_0x37ca("0xe79")],i=x[_0x37ca("0x34f")],n=x[_0x37ca("0xa9")],r=x[_0x37ca("0x4a")],s=x[_0x37ca("0x1c7")],o=x.glowColor,l=(esmap[_0x37ca("0x34")].instance,this[_0x37ca("0x17b")].canvasSize||1);return new(_[_0x37ca("0xe")])((function(x){i[_0x37ca("0xe7a")]instanceof Object?(c=i.size_.w,e=i.size_.h):c=e=i[_0x37ca("0xe7a")],t&&(c*=2,e*=2);var _=document[_0x37ca("0x22")](_0x37ca("0x6f9")),u=new Image;u[_0x37ca("0x74b")]=_0x37ca("0x741");var d=_[_0x37ca("0x903")]("2d"),f=Math.max(c,64);f=f>1024?1024:f;var h=Math[_0x37ca("0x30d")](e,64);h=h>1024?1024:h,f*=l,h*=l,_[_0x37ca("0x398")]=f,_[_0x37ca("0x1a8")]=h,t?(u[_0x37ca("0x398")]=f/2,u.height=h/2):(u[_0x37ca("0x398")]=f,u.height=h),u[_0x37ca("0x414")]=r,u.onload=function(r){i.clip_?i[_0x37ca("0xe7b")]==_0x37ca("0x113")&&function(x,a,c,_,e){x.save();var t=2*e,i=c+e,n=_+e;x[_0x37ca("0x90e")](i,n,e,0,2*Math.PI),x.clip(),x.drawImage(a,c,_,t,t),x[_0x37ca("0xe6f")]()}(d,u,0,0,c/2):t?d[_0x37ca("0xe45")](u,u.width/2,u[_0x37ca("0x1a8")]/2,u[_0x37ca("0x398")],u[_0x37ca("0x1a8")]):d[_0x37ca("0xe45")](u,0,0,u.width,u[_0x37ca("0x1a8")]);var l=new(THREE[_0x37ca("0x416")])(_);l.minFilter=THREE.LinearFilter,l[_0x37ca("0x141")]=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x154")][_0x37ca("0x693")].capabilities.getMaxAnisotropy(),a[_0x37ca("0x56b")]=l,a.material!=n&&(a[_0x37ca("0xa9")]=n),n[_0x37ca("0x39")]=l,n[_0x37ca("0x39")].needsUpdate=!0,a[_0x37ca("0xed")]=!0;var f=c/32*10,h=e/32*10;a[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x597")],a.scale[_0x37ca("0x11d")](f,h,1),a[_0x37ca("0xe26")]=c,a[_0x37ca("0xe15")]=e,s&&s(l,a),t&&a[_0x37ca("0xe7c")](o),x()}}))},this[_0x37ca("0xe7c")]=function(x){var a=this,c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],_=(document[_0x37ca("0x22")](_0x37ca("0x413")),_0x37ca("0xe7d")),e=(new THREE.TextureLoader)[_0x37ca("0x140")](_);a[_0x37ca("0xe70")]&&(a[_0x37ca("0xe70")][_0x37ca("0xa8")](),c[_0x37ca("0x62")](_0x37ca("0x119"),a[_0x37ca("0xe7e")][_0x37ca("0xe7f")])),a[_0x37ca("0xe7e")]=new o.default({texture:a.texture,aoTexture:e,colorStr:x});var t=function(x){a[_0x37ca("0xe7e")][_0x37ca("0x578")](x)};c.on(_0x37ca("0x119"),t),a.activeSprite_[_0x37ca("0xe7f")]=t,a[_0x37ca("0xa9")]=a.activeSprite_[_0x37ca("0xa9")],a[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0,a[_0x37ca("0xe70")]=a.material},this.setUrl=esmap[_0x37ca("0x58a")][_0x37ca("0xe80")]},f=function(x){function a(){var x,c,_,e;(0,s[_0x37ca("0xe")])(this,a);for(var t=arguments[_0x37ca("0x4")],r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return c=_=(0,n[_0x37ca("0xe")])(this,(x=a[_0x37ca("0x1cd")]||(0,i[_0x37ca("0xe")])(a)).call[_0x37ca("0x3")](x,[this].concat(r))),_.updateScreenSize=esmap.ESMapLabel[_0x37ca("0x11")][_0x37ca("0x24f")],_.flash=esmap.ESMapLabel[_0x37ca("0x11")][_0x37ca("0x265")],_[_0x37ca("0xe81")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")].alwaysShow,_[_0x37ca("0x250")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x250")],_[_0x37ca("0xe5f")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe5f")],_[_0x37ca("0x263")]=esmap[_0x37ca("0x289")].prototype.jump,_.stopJump=esmap[_0x37ca("0x289")][_0x37ca("0x11")].stopJump,_.stopFlash=esmap.ESMapLabel.prototype[_0x37ca("0x266")],e=c,(0,n.default)(_,e)}return(0,r[_0x37ca("0xe")])(a,x),a}(THREE[_0x37ca("0x291")]);u.prototype=new f,window[_0x37ca("0x41c")].ESMapUtil[_0x37ca("0x5f5")](u[_0x37ca("0x11")]),a.default=u},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=o(c(10)),e=o(c(8)),t=o(c(4)),i=o(c(0)),n=o(c(1)),r=o(c(5)),s=o(c(6));function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var l=function(x){function a(x,c,_,e){(0,i.default)(this,a);var n=(0,r[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,t[_0x37ca("0xe")])(a)).call(this));n[_0x37ca("0x24f")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x24f")],n[_0x37ca("0x265")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x265")],n.alwaysShow=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe81")],n[_0x37ca("0x250")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x250")],n[_0x37ca("0xe5f")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe5f")];var s=new(THREE[_0x37ca("0x148")]),o=new(THREE[_0x37ca("0x336")])({transparent:!0,side:THREE[_0x37ca("0x10f")]});o[_0x37ca("0xed")]=!1,s[_0x37ca("0xa9")]=o;var l=new THREE.PlaneBufferGeometry(1,1,1,1);s[_0x37ca("0xa7")]=l,n.data_=c,n.visible=!1,n[_0x37ca("0xe85")]=c[_0x37ca("0xe85")],n[_0x37ca("0xe0")](s),n.main=s;var u=n,d=esmap.ESMap[_0x37ca("0x35")];c[_0x37ca("0x120")]?n[_0x37ca("0xe86")]():n[_0x37ca("0x198")]=n[_0x37ca("0xf7")],n[_0x37ca("0xe78")]({url:_,glowMode:!1,material:o,glowColor:_0x37ca("0x28b"),clip:c.clip})[_0x37ca("0x792")]((function(){n.main[_0x37ca("0xa9")][_0x37ca("0xed")]=!0,n[_0x37ca("0xed")]=!0,e&&e(u)})),d.on(_0x37ca("0x119"),(function(){n[_0x37ca("0xe85")]&&s[_0x37ca("0x1a3")][_0x37ca("0x11d")](0,0,-d[_0x37ca("0x24d")]/180*Math.PI,_0x37ca("0x1a4"))})),n.data_[_0x37ca("0x123")]&&(o.depthWrite=!1,o[_0x37ca("0x28f")]=!1),s[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x595")];var f={};c.size_ instanceof Object?(f.w=c[_0x37ca("0xe7a")].w,f.h=c.size_.h):f.w=f.h=c[_0x37ca("0xe7a")];var h=f.w/32*10,g=f.h/32*10;return u.scale[_0x37ca("0x11d")](h,g,1),u[_0x37ca("0x1a3")][_0x37ca("0x11d")](-Math.PI/2,0,Math.PI,_0x37ca("0x1a4")),u[_0x37ca("0xe26")]=f.w,u[_0x37ca("0xe15")]=f.h,n}return(0,s[_0x37ca("0xe")])(a,x),(0,n[_0x37ca("0xe")])(a,[{key:"initArrow",value:function(){var x=this[_0x37ca("0x17b")],a=this.createArrow({color:x[_0x37ca("0xe87")],scale:x[_0x37ca("0xe88")]/x.size_,offset:x.arrowOffset});this[_0x37ca("0x17b")][_0x37ca("0x123")]&&(a[_0x37ca("0xa9")][_0x37ca("0x124")]=!1,a[_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),a[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].locationMarker-.5,a.position.z-=.05;var c=new(THREE[_0x37ca("0x216")]);c[_0x37ca("0xe0")](a),this[_0x37ca("0xe0")](c),this[_0x37ca("0x198")]=c,this[_0x37ca("0xe89")]=c}},{key:"createArrow",value:function(x){var a=x[_0x37ca("0x13c")],c=x.scale,_=x[_0x37ca("0x137")],e=document[_0x37ca("0x22")](_0x37ca("0x6f9")),t=64;e[_0x37ca("0x398")]=t,e.height=t;var i=e[_0x37ca("0x903")]("2d");i[_0x37ca("0x9fd")](),i[_0x37ca("0x250")](0,t),i[_0x37ca("0x55f")](32,0),i.lineTo(t,t),i.lineTo(t,t),i[_0x37ca("0x90f")](),i.stroke(),i[_0x37ca("0x9fe")]=a,i[_0x37ca("0x32d")]();var n=new THREE.Texture(e),r=new(THREE[_0x37ca("0xfc")])({map:n,transparent:!0});r[_0x37ca("0xed")]=!0,r[_0x37ca("0x39")][_0x37ca("0x13a")]=!0;var s=new(THREE[_0x37ca("0x6a0")])(c,c,c,c),o=new(THREE[_0x37ca("0x148")])(s,r);return o[_0x37ca("0x1aa")]=_0x37ca("0x120"),o[_0x37ca("0x127")]=esmap.ESRenderOrder[_0x37ca("0x595")]-1,o[_0x37ca("0xb8")].y+=_,o}},{key:_0x37ca("0xe80"),value:function(x){this[_0x37ca("0xe78")]({url:x,glowMode:!1,material:this[_0x37ca("0xf7")].material,glowColor:_0x37ca("0x28b"),clip:this[_0x37ca("0x17b")][_0x37ca("0xe82")]})}},{key:_0x37ca("0xe78"),value:function(x){var a=x.glowMode,c=x[_0x37ca("0xa9")],t=x[_0x37ca("0x4a")],i=(x[_0x37ca("0x1c7")],x[_0x37ca("0xe72")],esmap[_0x37ca("0x34")][_0x37ca("0x35")]),n=128,r=128;x[_0x37ca("0x576")]&&(n=x.size.w,r=x[_0x37ca("0x576")].h);var s=this[_0x37ca("0x17b")].canvasSize||1;return new e.default((function(e){a&&(n*=2,r*=2);var o=document[_0x37ca("0x22")](_0x37ca("0x6f9")),l=o[_0x37ca("0x903")]("2d"),u=Math[_0x37ca("0x30d")](n,64);u=u>1024?1024:u;var d=Math.max(r,64);d=d>1024?1024:d,u*=s,d*=s,o.width=u,o[_0x37ca("0x1a8")]=d,i[_0x37ca("0x163")][_0x37ca("0xd4b")].FetchImgByUrl(t,(function(t){if(a?(t[_0x37ca("0x398")]=u/2,t[_0x37ca("0x1a8")]=d/2):(t.width=u,t.height=d),x[_0x37ca("0xe82")]){var i=null;(0,_.default)(x[_0x37ca("0xe82")])==_0x37ca("0xc")?((i=x[_0x37ca("0xe82")])[_0x37ca("0xe83")]=x[_0x37ca("0xe82")][_0x37ca("0xe83")]||_0x37ca("0xcc"),i[_0x37ca("0xe84")]=x[_0x37ca("0xe82")][_0x37ca("0xe84")]||1):typeof x[_0x37ca("0xe82")]==_0x37ca("0xf")&&(i={type:x[_0x37ca("0xe82")],strokeColor:"#FFF",strokeWidth:1}),i&&i[_0x37ca("0x22a")]==_0x37ca("0x113")&&function(x,a,c,_,e,t){x.save();var i=2*e,n=c+e,r=_+e;x[_0x37ca("0x90e")](n,r,e,0,2*Math.PI),x[_0x37ca("0xe82")](),x[_0x37ca("0xe45")](a,c,_,i,i),x.beginPath(),x[_0x37ca("0x90e")](n,r,e-t.strokeWidth,0,2*Math.PI),x.strokeStyle=t[_0x37ca("0xe83")],x.lineWidth=t[_0x37ca("0xe84")],x.stroke(),x[_0x37ca("0xe6f")]()}(l,t,0,0,n/2,i)}else a?l.drawImage(t,t[_0x37ca("0x398")]/2,t[_0x37ca("0x1a8")]/2,t[_0x37ca("0x398")],t[_0x37ca("0x1a8")]):l[_0x37ca("0xe45")](t,0,0,t.width,t.height);var r=new THREE.CanvasTexture(o);r[_0x37ca("0x13a")]=!0,r[_0x37ca("0x41f")]=THREE.LinearMipMapLinearFilter,esmap.ESMap[_0x37ca("0x35")]&&(r[_0x37ca("0x141")]=esmap.ESMap[_0x37ca("0x35")][_0x37ca("0x154")].renderer[_0x37ca("0xc7f")].getMaxAnisotropy(),c[_0x37ca("0x39")]=r,c[_0x37ca("0x39")][_0x37ca("0x13a")]=!0,c[_0x37ca("0x13a")]=!0,e())}))}))}},{key:_0x37ca("0x120"),get:function(){return this[_0x37ca("0xe89")]&&this[_0x37ca("0xe89")].visible},set:function(x){x?(this[_0x37ca("0xe89")]?this[_0x37ca("0xe89")][_0x37ca("0xed")]=!0:this[_0x37ca("0xe86")](),this[_0x37ca("0x198")]=this[_0x37ca("0xe89")]):(this.arrowGroup&&(this[_0x37ca("0xe89")][_0x37ca("0xed")]=!1),this[_0x37ca("0x198")]=this[_0x37ca("0xf7")])}}]),a}(THREE.Object3D);window[_0x37ca("0x41c")][_0x37ca("0x7b")][_0x37ca("0x5f5")](l[_0x37ca("0x11")]),a[_0x37ca("0xe")]=l},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(4)),e=n(c(0)),t=n(c(5)),i=n(c(6));function n(x){return x&&x.__esModule?x:{default:x}}var r=new THREE.PlaneGeometry(1,1,1,1),s=function(x){function a(x,c,i,n){(0,e[_0x37ca("0xe")])(this,a);var s=new THREE.MeshLambertMaterial({transparent:!0}),o={fontsize:2*i.fontsize,borderThickness:.1,color:esmap.ESMapUtil[_0x37ca("0x5ea")](i.fillcolor||_0x37ca("0xcd1")),borderColor:esmap[_0x37ca("0x7b")].toRgba(i[_0x37ca("0xde0")]||_0x37ca("0xdbc")),imagealign:i[_0x37ca("0xd50")]||_0x37ca("0x172"),imagesize:i.imagesize,imagespace:i[_0x37ca("0xe3e")],textspace:i.textspace||4,pivottype:i[_0x37ca("0xe47")]||_0x37ca("0xe5")},l=(i[_0x37ca("0xddf")],(0,t.default)(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,r,s)));l[_0x37ca("0xe80")]=esmap[_0x37ca("0x58a")].setUrl,l[_0x37ca("0x24f")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x24f")],l[_0x37ca("0x265")]=esmap[_0x37ca("0x289")].prototype.flash,l[_0x37ca("0xe81")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe81")],l[_0x37ca("0x250")]=esmap[_0x37ca("0x289")].prototype.moveTo,l[_0x37ca("0xe5f")]=esmap.ESMapLabel.prototype[_0x37ca("0xe5f")];var u=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe2e")][_0x37ca("0x6")](l,c.name,o),d=u[_0x37ca("0x497")][_0x37ca("0x398")],f=u[_0x37ca("0x497")][_0x37ca("0x1a8")];u[_0x37ca("0x13a")]=!0,l[_0x37ca("0xa9")].map=u,l[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x13a")]=!0,l.material.doubleSided=!0,l.material[_0x37ca("0x13a")]=!0,l[_0x37ca("0xa7")]=new(THREE[_0x37ca("0xe8a")])(d,f,1,1),l[_0x37ca("0x17b")]=c,l[_0x37ca("0xed")]=!1;var h=l;return h.rotation[_0x37ca("0x11d")](-Math.PI/2,0,Math.PI,_0x37ca("0x1a4")),h[_0x37ca("0xe8b")](THREE[_0x37ca("0x249")][_0x37ca("0x26d")](Number(c[_0x37ca("0x252")]))),h[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].locationMarker,h[_0x37ca("0x22e")][_0x37ca("0x11d")](.04,.04,1),n&&n(),l}return(0,i[_0x37ca("0xe")])(a,x),a}(THREE[_0x37ca("0x148")]);esmap.ESMapUtil[_0x37ca("0x5f5")](s[_0x37ca("0x11")]),a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(313));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a,c){(0,_[_0x37ca("0xe")])(this,x),this.mapSceneData=null,this[_0x37ca("0x19a")]=0,this[_0x37ca("0x19b")]=0,this[_0x37ca("0xe8c")]=0,this[_0x37ca("0xaac")]=null,this[_0x37ca("0x9d4")]=null,this[_0x37ca("0xacf")]=null,this.minX_=0,this[_0x37ca("0xe8d")]=0,this[_0x37ca("0xafa")]=0,this[_0x37ca("0xafb")]=0,this.asyncWaitTime=0,this.map=a,this.mapTheme_=c;c=esmap[_0x37ca("0x7b")][_0x37ca("0x20e")]();this[_0x37ca("0x20f")]=c[_0x37ca("0x20f")],this[_0x37ca("0x14b")]=new(t[_0x37ca("0xe")])(this),this[_0x37ca("0xbe6")]=new(THREE[_0x37ca("0xe8e")]),this[_0x37ca("0x96b")]=[],this[_0x37ca("0xcd8")]={building:0,model:0},this[_0x37ca("0xe8f")]()}return(0,e.default)(x,[{key:_0x37ca("0x69d"),value:function(x){!function x(a){if(null!==a){a[_0x37ca("0xa4")]&&a[_0x37ca("0xa4")].o3d_&&(a[_0x37ca("0xa4")][_0x37ca("0xa5")]=void 0,a[_0x37ca("0xa4")]=void 0);for(var c=0;c<a.children[_0x37ca("0x4")];c++)x(a[_0x37ca("0xa6")][c]);a[_0x37ca("0xa7")]&&(a[_0x37ca("0xa7")][_0x37ca("0xa8")](),a.geometry=void 0),a.material&&(a[_0x37ca("0xa9")][_0x37ca("0xb3")]?a[_0x37ca("0xa9")][_0x37ca("0xb3")][_0x37ca("0x1f")]((function(x){x.map&&(x[_0x37ca("0x39")][_0x37ca("0xa8")](),x.map=void 0),x[_0x37ca("0xa8")](),x=void 0})):(a[_0x37ca("0xa9")][_0x37ca("0xa8")](),a[_0x37ca("0xa9")]=void 0))}a=void 0}(x)}},{key:"initBase",value:function(){this[_0x37ca("0xaac")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0xaac")][_0x37ca("0x1aa")]=_0x37ca("0xf7"),this[_0x37ca("0x9d4")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0x9d4")][_0x37ca("0x1aa")]=_0x37ca("0x9d4"),this.o3dScene_[_0x37ca("0xe0")](this[_0x37ca("0x9d4")]),this[_0x37ca("0x9c3")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0x9c3")][_0x37ca("0x1aa")]=_0x37ca("0xac4"),this[_0x37ca("0x1ae")]=new THREE.Object3D,this[_0x37ca("0x1ae")][_0x37ca("0x1aa")]=_0x37ca("0xe90"),this[_0x37ca("0x1a5")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0xaac")].add(this[_0x37ca("0x1a5")]),this.o3dScene_[_0x37ca("0xe0")](this.tileScene_),this[_0x37ca("0xaac")][_0x37ca("0xe0")](this.buildingScene_)}},{key:_0x37ca("0x9a0"),value:function(x,a,c){var _=this,e=x.maptime<32503514?x[_0x37ca("0x42f")]:x[_0x37ca("0x42f")]/1e3;if(!((new Date).getTime()>1e6*e)&&(esmap[_0x37ca("0x7b")].encode64(x[_0x37ca("0x79")]+x[_0x37ca("0x449")]+x[_0x37ca("0x442")]+(x.o1||0)+_0x37ca("0xc9e")+(x.o2||0))==x.Hash||x[_0x37ca("0x430")]==x.token||x.token==_0x37ca("0xabd"))){if(this.mapSceneData=x,x[_0x37ca("0xe91")]>0?this.sceneX_=-x[_0x37ca("0xe91")]:this[_0x37ca("0x19a")]=x[_0x37ca("0xe91")],this.sceneZ_=x[_0x37ca("0xe92")],!this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xe93")]&&this[_0x37ca("0x39")][_0x37ca("0x36")].center){var t=this[_0x37ca("0x39")][_0x37ca("0x181")]({x:this[_0x37ca("0x39")][_0x37ca("0x36")].center[0],y:this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xe5")][1]});this[_0x37ca("0x39")].on(_0x37ca("0xe94"),(function(){_[_0x37ca("0x39")][_0x37ca("0x275")].target.set(t.x,0,t.z),_[_0x37ca("0x39")][_0x37ca("0x275")].update({forceTheta:Math.PI-_.map.options[_0x37ca("0x1f8")]*THREE[_0x37ca("0x249")].DEG2RAD,forcePhi:_[_0x37ca("0x39")][_0x37ca("0x36")].defaultTiltAngle*THREE.Math[_0x37ca("0xad5")]})}))}if(this.map[_0x37ca("0x154")][_0x37ca("0x156")]=this[_0x37ca("0x39")].options[_0x37ca("0x156")],this.map.mode==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]){this[_0x37ca("0x99e")]=new(esmap[_0x37ca("0x5d1")])(this[_0x37ca("0x39")].id,{undergroundOffset:0},this[_0x37ca("0x39")]),this[_0x37ca("0x99e")][_0x37ca("0x616")]=esmap[_0x37ca("0xac1")][_0x37ca("0xcf6")],this[_0x37ca("0x99e")][_0x37ca("0xe95")]=[1],this[_0x37ca("0x99e")].floorNums=[1],this[_0x37ca("0x99e")][_0x37ca("0xc04")][1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this[_0x37ca("0x99e")][_0x37ca("0xcf7")]=0,this[_0x37ca("0x99e")][_0x37ca("0xcfa")]=0,this[_0x37ca("0x99e")][_0x37ca("0xe5")]=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xe5")];var i=new(esmap[_0x37ca("0x3bc")])(this,{name:"室外",Elevation:0,Name_en:_0x37ca("0xe96"),Alias:"室外",floornum:1});i[_0x37ca("0xa5")][_0x37ca("0xe97")]={Elevation:0,floornum:1},this[_0x37ca("0x99e")].o3dFloors_[1]=i[_0x37ca("0xa5")];var n=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x217")]);n[_0x37ca("0x1aa")]=_0x37ca("0xc0a"),i[_0x37ca("0xe98")](n),this[_0x37ca("0x99e")][_0x37ca("0xa5")][_0x37ca("0xe0")](i[_0x37ca("0xa5")]);var r=this.userScene;this.map.on(_0x37ca("0x955"),(function(){r.map&&(r[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1e6")]?(r[_0x37ca("0x39")][_0x37ca("0x609")].enabled&&(timer=setTimeout((function(){r[_0x37ca("0x14f")][_0x37ca("0x27f")]=!1,r[_0x37ca("0x14f")][_0x37ca("0x280")]=!1,timer&&window.clearTimeout(timer)}),100)),r[_0x37ca("0x14f")][_0x37ca("0xe99")](),r.modelLoadManager.invisibleMergeModels(),r[_0x37ca("0x14f")][_0x37ca("0xc0e")]()):(r[_0x37ca("0x14f")][_0x37ca("0xc08")](),r.modelLoadManager[_0x37ca("0xc0e")](r)))})),this[_0x37ca("0x9c3")].add(this[_0x37ca("0x99e")][_0x37ca("0xa5")])}this[_0x37ca("0x20f")]||(this[_0x37ca("0xaac")][_0x37ca("0xb8")].y+=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1e8")]),a&&(this[_0x37ca("0xacf")]=esmap[_0x37ca("0x641")][_0x37ca("0xc51")](c)),this[_0x37ca("0xaf9")]=this[_0x37ca("0xe9a")][_0x37ca("0x43e")],this[_0x37ca("0xafa")]=this[_0x37ca("0xe9a")][_0x37ca("0x453")],this[_0x37ca("0xe8d")]=this[_0x37ca("0xe9a")][_0x37ca("0x43f")],this[_0x37ca("0xafb")]=this[_0x37ca("0xe9a")][_0x37ca("0x440")],this[_0x37ca("0x39")].zonTempObj[_0x37ca("0x412")](),this[_0x37ca("0x39")].mapView[_0x37ca("0xb5")][_0x37ca("0xe0")](this.o3dScene_)}}},{key:_0x37ca("0xe9b"),value:function(){return esmap[_0x37ca("0x641")][_0x37ca("0xe9b")](this[_0x37ca("0xacf")])}},{key:_0x37ca("0xa4f"),value:function(){return this[_0x37ca("0xaac")]}},{key:"getBuildingScene",value:function(){return this.buildingScene_}},{key:_0x37ca("0xa53"),value:function(){return this[_0x37ca("0x1ae")]}},{key:_0x37ca("0xe9c"),value:function(x,a){var c=this.map[_0x37ca("0x27e")],_=a.boxCollision_,e=a[_0x37ca("0xa4")][_0x37ca("0xe9d")];for(var t in _[_0x37ca("0x69d")](),a[_0x37ca("0xa6")]){var i=a[_0x37ca("0xa6")][t];if(i[_0x37ca("0xe9e")]){var n=this[_0x37ca("0x39")][_0x37ca("0xe9f")](i),r=i[_0x37ca("0xe26")]/2,s=i[_0x37ca("0xe15")]/2,o=i.center,l=n.y-s/2+(o.y-.5)*s,u=n.x-r/2+(.5-o.x)*r;e&&_.push(i,{x:u,y:l,w:r,h:s,size:r*s})?i[_0x37ca("0xed")]=!c:(i[_0x37ca("0xed")]=!0,i.updateScreenSize(x))}}}},{key:"updateCollide",value:function(x){for(var a=this,c=this.getBuildingScene(),_=0;_<c[_0x37ca("0xa6")][_0x37ca("0x4")];_++){c[_0x37ca("0xa6")][_][_0x37ca("0xa6")][_0x37ca("0x1f")]((function(c){if(c[_0x37ca("0xed")])for(var _=0;_<c[_0x37ca("0xa6")].length;_++){var e=c[_0x37ca("0xa6")][_],t=e[_0x37ca("0xa4")];t&&t.visible&&(t._type_==esmap[_0x37ca("0x16c")].MODEL_LABEL||t[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0xa9e")]?a[_0x37ca("0xe9c")](x,e):(t[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")].MODEL_POI||t._type_==esmap[_0x37ca("0x16c")][_0x37ca("0xa9d")])&&a.collideLabel_(x,e))}}))}var e=this[_0x37ca("0xa53")]();for(_=0;_<e[_0x37ca("0xa6")][_0x37ca("0x4")];_++){e.children[_][_0x37ca("0xa6")][_0x37ca("0x1f")]((function(c){(c[_0x37ca("0xa4")]&&c[_0x37ca("0xa4")][_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]||c.datas_&&c.datas_[_0x37ca("0x608")]==esmap.ESLayerType[_0x37ca("0x170")])&&a.collideLabel_(x,c)}))}var t=this.userScene[_0x37ca("0xa5")];t&&t[_0x37ca("0xa6")][_0x37ca("0x1f")]((function(c){var _=c[_0x37ca("0xa4")];_&&_[_0x37ca("0xed")]&&(_._type_==esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]||_[_0x37ca("0x608")]==esmap.ESLayerType[_0x37ca("0xa9d")]||_._type_==esmap[_0x37ca("0x16c")].TEXT_MARKER?a.collideLabel_(x,c):(_[_0x37ca("0x608")]==esmap.ESLayerType[_0x37ca("0x170")]||_[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0xa9d")]||_[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")].IMAGE_MARKER)&&a[_0x37ca("0xe9c")](x,c))}))}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(314));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0xc98")]=new(t[_0x37ca("0xe")])(a),this[_0x37ca("0xb5")]=a,this[_0x37ca("0xea0")]=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x970")]}return(0,e.default)(x,[{key:_0x37ca("0x166"),value:function(x,a,c,_){var e=this[_0x37ca("0xb5")],t=e.sceneX_,i=e[_0x37ca("0x19b")];_||(t=(x[_0x37ca("0xea1")][_0x37ca("0xab")]-x[_0x37ca("0xea1")][_0x37ca("0xae")])/2+x.floorEdge.minx,i=(x.floorEdge[_0x37ca("0xac")]-x[_0x37ca("0xea1")].miny)/2+x[_0x37ca("0xea1")].miny);var n=e.sceneX_,r=e[_0x37ca("0x19b")],s={lod:x[_0x37ca("0x165")],fnum:a,sceneX:n,sceneZ:r,isTile:_,floorCenX:-t,floorCenZ:i,minX:c.sourceData[_0x37ca("0x43e")],minY:c[_0x37ca("0x169")][_0x37ca("0x43f")],maxX:c.sourceData[_0x37ca("0x453")],maxY:c.sourceData[_0x37ca("0x440")],modelHeight:5,isMerge:e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ea")],editMode:e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],showBase:e[_0x37ca("0x39")].options[_0x37ca("0x201")],layers:x[_0x37ca("0x61a")],maptheme:e[_0x37ca("0x39")].mapTheme[_0x37ca("0xdc1")],tileStylesMap:e[_0x37ca("0x39")][_0x37ca("0xf5")].tileStylesMap,layerType:1,messageType:1,isBim:c.type>100};this[_0x37ca("0xc98")][_0x37ca("0xea2")](s,c)}},{key:_0x37ca("0x167"),value:function(x,a,c,_){var e=this.scene,t=e[_0x37ca("0x19a")],i=e.sceneZ_;_||(t=(x[_0x37ca("0xea1")][_0x37ca("0xab")]-x[_0x37ca("0xea1")][_0x37ca("0xae")])/2+x[_0x37ca("0xea1")][_0x37ca("0xae")],i=(x[_0x37ca("0xea1")][_0x37ca("0xac")]-x[_0x37ca("0xea1")][_0x37ca("0xaf")])/2+x[_0x37ca("0xea1")][_0x37ca("0xaf")]);var n=e[_0x37ca("0x19a")],r=e[_0x37ca("0x19b")],s={lod:x[_0x37ca("0x165")],isTile:_,fnum:a,sceneX:n,sceneZ:r,floorCenX:-t,floorCenZ:i,minX:c[_0x37ca("0x169")][_0x37ca("0x43e")],minY:c[_0x37ca("0x169")][_0x37ca("0x43f")],maxX:c[_0x37ca("0x169")][_0x37ca("0x453")],maxY:c[_0x37ca("0x169")][_0x37ca("0x440")],modelHeight:5,isMerge:e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ea")],editMode:e[_0x37ca("0x39")].options.editMode,showBase:e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x201")],layers:x[_0x37ca("0x618")],maptheme:e[_0x37ca("0x39")][_0x37ca("0xf5")].maptheme,tileStylesMap:e[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xded")],layerType:0,messageType:1,isBim:c[_0x37ca("0x22a")]>100};this.modelWorker[_0x37ca("0xea2")](s,c)}},{key:_0x37ca("0xea3"),value:function(x,a,c,_){var e=this[_0x37ca("0xb5")],t=(x[_0x37ca("0xea1")][_0x37ca("0xab")]-x[_0x37ca("0xea1")][_0x37ca("0xae")])/2+x[_0x37ca("0xea1")][_0x37ca("0xae")],i=(x[_0x37ca("0xea1")][_0x37ca("0xac")]-x[_0x37ca("0xea1")][_0x37ca("0xaf")])/2+x[_0x37ca("0xea1")].miny,n=e.sceneX_,r=e[_0x37ca("0x19b")],s={editMode:e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],fnum:a,sceneX:n,sceneZ:r,floorCenX:-t,floorCenZ:i,minX:_.sourceData[_0x37ca("0x43e")],minY:_[_0x37ca("0x169")].minY,maxX:_.sourceData[_0x37ca("0x453")],maxY:_[_0x37ca("0x169")][_0x37ca("0x440")],floorHeight:c,layers:x[_0x37ca("0xea4")],layerType:2,messageType:1};this.modelWorker[_0x37ca("0xea2")](s,_)}}]),x}();a.default=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(315));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=window[_0x37ca("0x582")],r=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x);var c=this;c[_0x37ca("0xb5")]=a,c[_0x37ca("0xea5")]=[],c[_0x37ca("0xea6")]=[],c.loader_=new t.default(a),c.workers={},c.workerStatus={},c.tsTank=[],c[_0x37ca("0xea7")]=0,c.receiveCount=0;var e=0,i=window[_0x37ca("0xea8")].hardwareConcurrency;e=i?i-2<0?1:i-2:2;(new Date)[_0x37ca("0x78")]();for(var r=function(x){n[_0x37ca("0xea9")](x,(function(_){c[_0x37ca("0xeaa")][x]=_,c.workerStatus[x]=!0,_[_0x37ca("0x33")](_0x37ca("0xe54"),(function(x){c[_0x37ca("0xeab")][x[_0x37ca("0x34f")].id]=!0,c[_0x37ca("0xeac")]++;var _=null;if(x[_0x37ca("0x34f")][_0x37ca("0xe54")]==_0x37ca("0xead")||x[_0x37ca("0x34f")][_0x37ca("0xe54")]==_0x37ca("0xeae")){var e=x[_0x37ca("0x34f")][_0x37ca("0x5de")]||x[_0x37ca("0x34f")][_0x37ca("0x34f")][_0x37ca("0x5de")];(_=a[_0x37ca("0x39")][_0x37ca("0xf0")](e)).modelLoadManager.bimLoader[_0x37ca("0xeaf")](x[_0x37ca("0x34f")])}else if(x.data[_0x37ca("0xe32")])(_=a[_0x37ca("0x39")].getTileById(x[_0x37ca("0x34f")][_0x37ca("0xef")]))||(_=a[_0x37ca("0x39")][_0x37ca("0xeb0")](x[_0x37ca("0x34f")][_0x37ca("0xef")])),c.loader_[_0x37ca("0xea0")](x[_0x37ca("0x34f")],_);else{if(!(_=a[_0x37ca("0x39")][_0x37ca("0xf0")](x.data[_0x37ca("0xef")])))return;2==x.data.layerType?_[_0x37ca("0x985")][_0x37ca("0xeb1")](x[_0x37ca("0x34f")],_):_[_0x37ca("0x985")][_0x37ca("0xeb2")](x[_0x37ca("0x34f")],_)}}))}))},s=0;s<e;s++)r(s);c[_0x37ca("0xb5")][_0x37ca("0x39")].on(_0x37ca("0x955"),(function(){c[_0x37ca("0xeb3")]()}))}return(0,e[_0x37ca("0xe")])(x,[{key:"checkWorker",value:function(x){0!=this[_0x37ca("0xeb4")].length&&(this[_0x37ca("0xeb4")][0].id=x,this.workers[x].postMessage(this[_0x37ca("0xeb4")][0]),this.workerStatus[x]=!1,this[_0x37ca("0xeb4")].shift())}},{key:_0x37ca("0xeb3"),value:function(){if(0!=this[_0x37ca("0xeb4")][_0x37ca("0x4")]){var x=this[_0x37ca("0xeaa")];for(var a in x)if(this[_0x37ca("0xeab")][a]){var c=this.tsTank[0];c.id=a,this[_0x37ca("0xeab")][a]=!1,this[_0x37ca("0xeb4")].shift();try{this[_0x37ca("0xeaa")][a].postMessage(c)}catch(x){console[_0x37ca("0xca")](x)}return c=null,void this[_0x37ca("0xea7")]++}}}},{key:"addTask",value:function(x,a){var c=a.id;x.bid=c;var _=this[_0x37ca("0xeaa")];for(var e in _)if(this[_0x37ca("0xeab")][e])return x.id=e,this[_0x37ca("0xeab")][e]=!1,this.workers[e][_0x37ca("0xeb5")](x),this.postCount++,void(x=null);this[_0x37ca("0xeb4")][_0x37ca("0x0")](x)}},{key:_0x37ca("0x69d"),value:function(x){this[_0x37ca("0xc99")].modelLayers={},this[_0x37ca("0xc99")].baseLayers={},this[_0x37ca("0xc99")][_0x37ca("0xeb6")]={}}},{key:_0x37ca("0xeb7"),value:function(){}}]),x}();a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=s(c(12)),e=s(c(13)),t=s(c(0)),i=s(c(1)),n=c(141),r=(c(56),c(57),s(c(24)));function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=null,l=function(){function x(a){(0,t[_0x37ca("0xe")])(this,x),this.scene=a,this[_0x37ca("0x986")]={},this[_0x37ca("0xeb8")]={},this.modelLineLayers={},this.toHandle={},this[_0x37ca("0x98a")]={},this[_0x37ca("0x98e")]={},this[_0x37ca("0x14d")]=0,this._lodRecords={}}return(0,i.default)(x,[{key:"appendAttribute",value:function(x,a){var c=a[_0x37ca("0x19f")].length,_=x[_0x37ca("0x4")],e=new Float32Array(c+_);e[_0x37ca("0x11d")](a[_0x37ca("0x19f")]),e.set(x,c),a[_0x37ca("0x19f")]=e,a.count+=_/a.itemSize,a[_0x37ca("0x13a")]=!0}},{key:_0x37ca("0xea0"),value:function(x,a){var c,_=this[_0x37ca("0xb5")],e=x[_0x37ca("0xeb9")],t=null,i=a.id,r=a[_0x37ca("0xa5")],s=this[_0x37ca("0xb5")][_0x37ca("0x39")].id,o=this.scene[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],l=this[_0x37ca("0xb5")][_0x37ca("0x39")].mapTheme.modelLines,u=x.lod,d={points:x[_0x37ca("0xeba")],types:{}};if(this.toHandle[i]||((c=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0x217")]))[_0x37ca("0x1aa")]=_0x37ca("0xc0a"),r[_0x37ca("0xe0")](c[_0x37ca("0xa5")]),a[_0x37ca("0xebb")]=c,this.toHandle[i]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:c},1:{model3data:[],geometries:{},meshes:{},rmodellayer:c}}),c=a[_0x37ca("0xebb")],this[_0x37ca("0xebc")][i][e].model3data=this[_0x37ca("0xebc")][i][e][_0x37ca("0xebd")][_0x37ca("0x15")](x[_0x37ca("0xebe")]),e)if(this.modelLayers[i])t=this[_0x37ca("0x986")][i];else{var f=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x622")],{});r[_0x37ca("0xe0")](f[_0x37ca("0xa5")]),this.modelLayers[i]=f,t=f}else if(this.baseLayers[i])t=this.baseLayers[i];else{var h=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x9eb")],{});r[_0x37ca("0xe0")](h[_0x37ca("0xa5")]),this[_0x37ca("0xeb8")][i]=h,t=h}var g=0;for(var b in x[_0x37ca("0xebf")]){var v=x.types[b],p=v[_0x37ca("0x331")],A=x[_0x37ca("0x402")][b],m=[],C=[];if(l&&p[0]){var I=p[0].RoomStyle,y={},E={bordercolor:_[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xcd7")][I].bordercolor,borderwidth:_[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xcd7")][I].borderwidth||0};E[_0x37ca("0xde5")]&&(y[_0x37ca("0x448")]=I,y[_0x37ca("0xec0")]=E,y.id=I,y[_0x37ca("0xec1")]=v[_0x37ca("0xec2")],d[_0x37ca("0xebf")][I]=y,this[_0x37ca("0xec3")](d,!0,a))}var w=0;this[_0x37ca("0xebc")][i][e][_0x37ca("0x3d9")][b]&&(w=this[_0x37ca("0xebc")][i][e].geometries[b].userData.lastGeoCount);for(var T=[],k=0;k<p[_0x37ca("0x4")];k++){var S=p[k],M=_.map[_0x37ca("0x163")][_0x37ca("0x157")][_0x37ca("0xec4")]({ID:S.ID,name:S[_0x37ca("0x1aa")]});M&&T[_0x37ca("0x0")]({start:S[_0x37ca("0xbc")][0],end:S.faceRange[1],data:M});var R=A[S.ID],L=[R[1][_0x37ca("0x1c6")],R[1][_0x37ca("0x1c6")]+R[1][_0x37ca("0xb9")]];0!=w&&(S[_0x37ca("0xbc")][0]+=w,S.faceRange[1]+=w,L[0]+=w,L[1]+=w);var H=_[_0x37ca("0x39")][_0x37ca("0x17e")]({from:_.map[_0x37ca("0x180")],to:_[_0x37ca("0x39")][_0x37ca("0x36")].userCrs,coord:S[_0x37ca("0x3ba")]});_.map[_0x37ca("0xf5")][_0x37ca("0xdb6")][_0x37ca("0xda")](S[_0x37ca("0x621")])<0&&_[_0x37ca("0x39")].mapTheme[_0x37ca("0xdb6")][_0x37ca("0x0")](S[_0x37ca("0x621")]);var P={ID:S.ID,dataID:S[_0x37ca("0x62f")],gid:S[_0x37ca("0xa8b")],RoomHigh:S[_0x37ca("0x620")],RoomStyle:S[_0x37ca("0x621")],buildingFnums:S.Fnums,faceRange:S[_0x37ca("0xbc")],sideRange:L,nodeType:5,top:S[_0x37ca("0x173")],bclick:S[_0x37ca("0xa8a")],bid:s,tileId:i,mapId:S[_0x37ca("0x38")]||null,bType:1,parentType:1,name:S.name,typeID:S[_0x37ca("0x5e2")],size:S[_0x37ca("0x576")],mapCoord:H};m[_0x37ca("0x0")](P),o&&(m[m[_0x37ca("0x4")]-1][_0x37ca("0xee")]=S.points),C.push({ID:S.ID,range:S[_0x37ca("0xbc")],sideRange:L,split:R[1][_0x37ca("0x1c6")]+w})}for(var D=x[_0x37ca("0xa74")][_0x37ca("0x556")](3*g,3*(g+v[_0x37ca("0xec1")])),O=x.normals[_0x37ca("0x556")](3*g,3*(v[_0x37ca("0xec1")]+g)),B=x[_0x37ca("0x9ed")][_0x37ca("0x556")](g,v.groupIndex+g),N=x[_0x37ca("0xa29")][_0x37ca("0x556")](g,v[_0x37ca("0xec1")]+g),F=x[_0x37ca("0x332")][_0x37ca("0x556")](1*g,1*(g+v[_0x37ca("0xec1")])),z=x.highLightFlags[_0x37ca("0x556")](1*g,1*(g+v.groupIndex)),j=x.buildingsHeight[_0x37ca("0x556")](1*g,1*(g+v[_0x37ca("0xec1")])),X=x[_0x37ca("0xec5")][_0x37ca("0x556")](1*g,1*(g+v[_0x37ca("0xec1")])),Y=x.buildingsColorAttr[_0x37ca("0x556")](4*g,4*(g+v[_0x37ca("0xec1")])),U=x[_0x37ca("0xec6")][_0x37ca("0x556")](4*g,4*(g+v[_0x37ca("0xec1")])),G=x[_0x37ca("0xec7")][_0x37ca("0x556")](g,1*(g+v[_0x37ca("0xec1")])),Q=x.sideTexIndex.subarray(g,1*(g+v[_0x37ca("0xec1")])),V=x[_0x37ca("0xec8")][_0x37ca("0x556")](2*g,2*(v.groupIndex+g)),W=x.uvs[_0x37ca("0x556")](2*g,2*(v[_0x37ca("0xec1")]+g)),Z=x.rUvs.subarray(2*g,2*(v[_0x37ca("0xec1")]+g)),J=0;J<T[_0x37ca("0x4")];J++){for(var K=T[J],q=K.start;q<K[_0x37ca("0x2dc")];q++)z[q]=1;for(var $=4*K.start;$<4*K[_0x37ca("0x2dc")];$+=4)U[$]=K.data[0],U[$+1]=K.data[1],U[$+2]=K.data[2],U[$+3]=K[_0x37ca("0x34f")][3]}var xx=null;if(this[_0x37ca("0xebc")][i][e][_0x37ca("0x3d9")][b]){xx=this.toHandle[i][e][_0x37ca("0x3d9")][b];this.toHandle[i][e][_0x37ca("0xb4")][b];this.appendAttribute(D,xx[_0x37ca("0x19d")](_0x37ca("0xb8"))),this.appendAttribute(O,xx[_0x37ca("0x19d")]("normal")),this.appendAttribute(W,xx[_0x37ca("0x19d")]("uv")),this.appendAttribute(Z,xx.getAttribute(_0x37ca("0xec9"))),this[_0x37ca("0xece")](V,xx.getAttribute(_0x37ca("0x54d"))),this[_0x37ca("0xece")](F,xx.getAttribute(_0x37ca("0x332"))),this.appendAttribute(z,xx.getAttribute(_0x37ca("0x9f2"))),this[_0x37ca("0xece")](j,xx[_0x37ca("0x19d")](_0x37ca("0xeca"))),this[_0x37ca("0xece")](X,xx[_0x37ca("0x19d")]("randomFactor")),this[_0x37ca("0xece")](Y,xx[_0x37ca("0x19d")](_0x37ca("0xecf"))),this[_0x37ca("0xece")](U,xx.getAttribute("highLightColor")),this[_0x37ca("0xece")](B,xx[_0x37ca("0x19d")](_0x37ca("0x9ed"))),this[_0x37ca("0xece")](N,xx[_0x37ca("0x19d")](_0x37ca("0xa29"))),G.length>0&&this[_0x37ca("0xece")](G,xx[_0x37ca("0x19d")](_0x37ca("0xec7"))),Q[_0x37ca("0x4")]>0&&this[_0x37ca("0xece")](Q,xx[_0x37ca("0x19d")](_0x37ca("0xecc"))),xx.brothers=xx[_0x37ca("0x331")].concat(C),C[_0x37ca("0x4")]>0&&(xx[_0x37ca("0x11a")].lastGeoCount=C[C[_0x37ca("0x4")]-1].range[1])}else{var ax=new(THREE[_0x37ca("0x1a1")])(D,3),cx=new(THREE[_0x37ca("0x1a1")])(O,3),_x=new(THREE[_0x37ca("0x1a1")])(W,2),ex=new THREE.BufferAttribute(V,2),tx=new(THREE[_0x37ca("0x1a1")])(Z,2),ix=new(THREE[_0x37ca("0x1a1")])(F,1),nx=new THREE.BufferAttribute(z,1),rx=new(THREE[_0x37ca("0x1a1")])(j,1),sx=new THREE.BufferAttribute(X,1),ox=new(THREE[_0x37ca("0x1a1")])(Y,4),lx=new(THREE[_0x37ca("0x1a1")])(U,4),ux=new(THREE[_0x37ca("0x1a1")])(B,1);(xx=new(n[_0x37ca("0x54c")]))[_0x37ca("0x1a0")]("position",ax),xx.addAttribute(_0x37ca("0xf8"),cx),xx[_0x37ca("0x1a0")]("uv",_x),xx[_0x37ca("0x1a0")]("normalizeUv",ex),xx.addAttribute(_0x37ca("0xec9"),tx),xx[_0x37ca("0x1a0")](_0x37ca("0x332"),ix),xx[_0x37ca("0x1a0")](_0x37ca("0x9f2"),nx),xx[_0x37ca("0x1a0")](_0x37ca("0xeca"),rx),xx[_0x37ca("0x1a0")](_0x37ca("0xecb"),sx),xx.addAttribute("buildingsColor",ox),xx[_0x37ca("0x1a0")]("highLightColor",lx),xx.addAttribute(_0x37ca("0x9ed"),ux),xx.addAttribute(_0x37ca("0xa29"),new(THREE[_0x37ca("0x1a1")])(N,1));var dx=void 0;dx=G.length>0?new(THREE[_0x37ca("0x1a1")])(G,1):new(THREE[_0x37ca("0x1a1")])(new Float32Array(D.length),1),xx.addAttribute(_0x37ca("0xec7"),dx);var fx=void 0;fx=Q[_0x37ca("0x4")]>0?new(THREE[_0x37ca("0x1a1")])(Q,1):new(THREE[_0x37ca("0x1a1")])(new Float32Array(D.length),1),xx[_0x37ca("0x1a0")](_0x37ca("0xecc"),fx),xx[_0x37ca("0x331")]=C,C.length>0?xx[_0x37ca("0x11a")].lastGeoCount=C[C[_0x37ca("0x4")]-1][_0x37ca("0x555")][1]:xx[_0x37ca("0x11a")][_0x37ca("0xecd")]=0,this[_0x37ca("0xebc")][i][e][_0x37ca("0x3d9")][b]=xx}xx[_0x37ca("0x132")](),xx.addGroup(0,xx[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],0);var hx,gx=void 0;if(999==b)gx=[_[_0x37ca("0x189")][_0x37ca("0xdc3")]];else if(o){var bx=_.mapTheme_.tileStyles[b];bx||(bx=_[_0x37ca("0x189")].tileStyles[0]),gx=[bx[_0x37ca("0xa9")]]}else gx=_[_0x37ca("0x189")][_0x37ca("0x9c0")][b];for(var vx in g+=v.groupIndex,this[_0x37ca("0xebc")][i][e][_0x37ca("0xb4")][b]?(hx=this[_0x37ca("0xebc")][i][e].meshes[b]).datas_[_0x37ca("0x331")]=hx.datas_[_0x37ca("0x331")][_0x37ca("0x15")](m):((hx=new(THREE[_0x37ca("0x148")]))[_0x37ca("0xa7")]=xx,hx[_0x37ca("0xa9")]=gx,hx.name=b,hx[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),hx.datas_={bid:i,o3d_:hx,brothers:m,nodeType:esmap[_0x37ca("0xe8")].MODEL},this[_0x37ca("0xebc")][i][e][_0x37ca("0xb4")][b]=hx,hx[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x219")],null!=_[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x204")]&&1*b==999?_[_0x37ca("0x39")][_0x37ca("0x36")].hideRoomLogoMeshes&&(hx[_0x37ca("0xed")]=!1,hx[_0x37ca("0xa7")][_0x37ca("0x132")](),hx.geometry[_0x37ca("0x8c9")][_0x37ca("0xb9")]=0):1*b!=999||_[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]||(hx[_0x37ca("0xed")]=!1,hx.geometry.clearGroups(),hx.geometry[_0x37ca("0x8c9")].count=0),t[_0x37ca("0xa5")][_0x37ca("0xe0")](hx),(x.layerType||_.map[_0x37ca("0x36")][_0x37ca("0x23e")]&&_.map[_0x37ca("0x36")][_0x37ca("0x201")])&&_[_0x37ca("0x39")].mapPicker[_0x37ca("0x183")](hx,i)),m){var px=m[vx];px[_0x37ca("0xa5")]=hx,px[_0x37ca("0x38")]&&!_[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x9fa")][px[_0x37ca("0x38")]]&&(_[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x5da")][px.mapId]&&(_[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x5da")][px[_0x37ca("0x38")]][_0x37ca("0x1aa")]=px[_0x37ca("0x1aa")]),_[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x9fa")][px[_0x37ca("0x38")]]=px)}_[_0x37ca("0x39")].tileService[_0x37ca("0x9c8")]()}this[_0x37ca("0xed0")][i]||(this[_0x37ca("0xed0")][i]={1:0,2:0,3:0}),this[_0x37ca("0xed0")][i][u]+=1,2==this[_0x37ca("0xed0")][i][u]&&a[_0x37ca("0x15d")](),this[_0x37ca("0xed1")](a,e)}},{key:"loadModelandImage",value:function(x,a){var c,t=(c=(0,e[_0x37ca("0xe")])(_[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){return _[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:s(a);case 1:case _0x37ca("0x2dc"):return x.stop()}}),x,this)}))),function(){return c[_0x37ca("0x3")](this,arguments)}),i=this,n=i[_0x37ca("0xb5")],r=x.id;function s(x){if(n.map[_0x37ca("0x36")].loadModel3D){var a=i[_0x37ca("0xebc")][r][x][_0x37ca("0xebd")],c=n[_0x37ca("0x39")][_0x37ca("0x973")]?n[_0x37ca("0x39")][_0x37ca("0x609")].target:n[_0x37ca("0x39")].controls[_0x37ca("0x276")],_=n[_0x37ca("0x39")][_0x37ca("0x315")](r);if(_){_[_0x37ca("0x14f")][_0x37ca("0xbf4")]();var e=[];for(n[_0x37ca("0xcd8")][_0x37ca("0x219")]+=a[_0x37ca("0x4")];a[_0x37ca("0x4")]>0;){var t=a[_0x37ca("0x2")](),s=i.loadModel(t,x,null,r);s&&(s[_0x37ca("0x1ab")]<=12?_[_0x37ca("0x14f")][_0x37ca("0xbf6")](s):(s[_0x37ca("0xed2")]=s[_0x37ca("0xb8")].distanceTo(c),e[_0x37ca("0x0")](s)))}for(e[_0x37ca("0x408")]((function(x,a){return x[_0x37ca("0xed3")]-a[_0x37ca("0xed3")]}));e.length>0;){var o=e[_0x37ca("0x2")]();_.modelLoadManager[_0x37ca("0xbf6")](o)}_.modelLoadManager[_0x37ca("0xbed")][x]=!0}}}t()[_0x37ca("0x792")]((function(){i[_0x37ca("0x98e")][x.id]||(x[_0x37ca("0x39")].on("update",(function(){x.map&&(x[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1e6")]?(x[_0x37ca("0x39")].firstPersonControls.enabled&&(o=setTimeout((function(){x[_0x37ca("0x14f")].queueRanked=!1,x[_0x37ca("0x14f")][_0x37ca("0x280")]=!1,o&&window[_0x37ca("0x2e8")](o)}),100)),x[_0x37ca("0x14f")].disposeInvisible(),x.modelLoadManager.checkIfNeedLoad()):x[_0x37ca("0x14f")][_0x37ca("0xc0e")](x))})),i[_0x37ca("0x98e")][x.id]=!0)}))}},{key:_0x37ca("0xed4"),value:function(x,a,c,_){var e,t=this[_0x37ca("0xb5")],i=t[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],n=(t[_0x37ca("0x39")][_0x37ca("0x36")].tid,t.map.id),s=t.map[_0x37ca("0x315")](_),o=x[_0x37ca("0x219")].replace(_0x37ca("0xa1"),""),l=t.map[_0x37ca("0x36")][_0x37ca("0xc49")]==_0x37ca("0x536")&&!t.map[_0x37ca("0x36")][_0x37ca("0x23e")];x[_0x37ca("0x38")]&&t.map[_0x37ca("0x157")].bidList[x.mapId]&&(t.map[_0x37ca("0x157")][_0x37ca("0x5da")][x.mapId][_0x37ca("0x1aa")]=x.name);var u=r[_0x37ca("0xe")].getPath(_0x37ca("0x59"),{filename:o,modeltoken:t[_0x37ca("0x39")].__mtn});c?e=c:e=this[_0x37ca("0xebc")][_][a]?this[_0x37ca("0xebc")][_][a][_0x37ca("0xed5")][_0x37ca("0xa5")]:t[_0x37ca("0x990")][a][_0x37ca("0xa4")][_0x37ca("0x193")](esmap.ESLayerType[_0x37ca("0x217")])[0][_0x37ca("0xa5")];if(1*x[_0x37ca("0x173")]==3){var d=x[_0x37ca("0xed6")][_0x37ca("0xee")][0][_0x37ca("0x39")]((function(x){return x.x*=-1,x})),f=x[_0x37ca("0x137")][_0x37ca("0x2b")](",")[1],h=new esmap.ESWall({type:"tile",useCrst:!1,merge:!0,bid:_,model:x.model,fnum:a,bclick:!!i,points:d,gid:x.gid||0,callback:function(){s[_0x37ca("0xc04")][a].model3D--},repeatset:1,thickset:1,heightset:1,name:x[_0x37ca("0x1aa")],id:x.id,height:1*f,showLevel:x[_0x37ca("0x1ab")]});return h[_0x37ca("0xef")]=n,h[_0x37ca("0x93")]=_,t[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x164")]--,null}if(l&&x.model.indexOf(_0x37ca("0xbf7"))>=0){var g=s[_0x37ca("0x14f")];return g[_0x37ca("0x29c")][x[_0x37ca("0x219")]]||g.loadingList[x.model]||(g.loadingList[x.model]=!0,s[_0x37ca("0x14f")][_0x37ca("0x305")](x[_0x37ca("0x219")],u)),!1}var b=new THREE.Vector3(1,1.5,1);if(x[_0x37ca("0x22e")]){var v=x[_0x37ca("0x22e")][_0x37ca("0x2b")](",");b=new THREE.Vector3(parseFloat(v[0]),parseFloat(v[1]),parseFloat(v[2]))}var p=0;if(x[_0x37ca("0xd3e")]){var A=Math.PI/180,m=x[_0x37ca("0xd3e")][_0x37ca("0x2b")](",");p=1*m[1];var C=new(THREE[_0x37ca("0x231")])(parseFloat(m[0])*A,parseFloat(m[1])*A,parseFloat(m[2])*A)}var I=void 0;I=t[_0x37ca("0x39")][_0x37ca("0x181")]({x:x.x,y:x.y});var y=t[_0x37ca("0x39")][_0x37ca("0x17e")]({from:_0x37ca("0x645"),to:_0x37ca("0x1e7"),coord:{x:x.x,y:x.y}}),E={x:y.x,y:y.y,offsetHeight:0};if(x.offset){var w=x.offset.split(",");I.x+=parseFloat(w[0]),I.y+=parseFloat(w[1]),I.z+=parseFloat(w[2]),E.x+=parseFloat(w[0]),E.y+=parseFloat(w[2]),E[_0x37ca("0x28")]=parseFloat(w[1])}x[_0x37ca("0x219")][_0x37ca("0xda")](_0x37ca("0xa1"))<0&&(x[_0x37ca("0x219")]+=".gltf"),t[_0x37ca("0x96b")].push({scale:b.x,angle:p,x:E.x,y:E.y,id:x.id,name:x[_0x37ca("0x1aa")],dataID:x[_0x37ca("0x62f")],offsetHeight:E[_0x37ca("0x28")]});var T={bid:n,tileId:_,name:x.name,model:x[_0x37ca("0x219")],url:u,dataID:x.dataID,angle:p,classID:x[_0x37ca("0xed6")][_0x37ca("0x62b")],scale:b,top:x[_0x37ca("0x173")],mapId:x[_0x37ca("0x38")]||null,gid:x.gid||0,typeID:x[_0x37ca("0xed6")].typeid||0,rotation:C,position:I,showLevel:x[_0x37ca("0x1ab")],data_:{CenX:x.x,CenY:x.y,scale:x[_0x37ca("0x22e")]||null,rotate:x[_0x37ca("0xd3e")]||null,offset:x[_0x37ca("0x137")]||null},parent:e,id:x.id,bclick:x.bclick,callbackparams:x.callbackparams||null,callback:function(){s[_0x37ca("0xc04")]&&s[_0x37ca("0xc04")][a][_0x37ca("0x293")]--},fnum:a};return i&&(T[_0x37ca("0xed6")]=x.roomdata),T}},{key:_0x37ca("0xec3"),value:function(x,a,c){var _,e=this,t=(x.id,c.id);this[_0x37ca("0xeb6")][t]?_=this.modelLineLayers[t]:((_=new esmap.ESLayer(esmap.ESLayerType[_0x37ca("0xed7")],{}))[_0x37ca("0x1aa")]=_0x37ca("0xdf1"),c[_0x37ca("0x14e")].addLayer(_),this.modelLineLayers[t]=_);var i=x.types;if(a){var n=new(THREE[_0x37ca("0x3ee")]);n[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0xee")],3));var r=[],s=0;for(var o in i){var l=i[o][_0x37ca("0xec0")],u={precision:_0x37ca("0xb29"),color:esmap[_0x37ca("0x7b")][_0x37ca("0x2c2")](l[_0x37ca("0xde6")]),linewidth:1*l[_0x37ca("0xde5")]>5?5:1*l.borderwidth},d=new(THREE[_0x37ca("0x196")])(u);d[_0x37ca("0x1aa")]=o,r[_0x37ca("0x0")](d),n[_0x37ca("0x133")](s,i[o].groupIndex,r[_0x37ca("0x4")]-1),i[o].startIndex=s,s+=i[o].groupIndex}var f=new(THREE[_0x37ca("0x1a2")])(n,r);f[_0x37ca("0xb0b")]=!1,f[_0x37ca("0xa4")]={nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],id:1},f.rotation[_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),f[_0x37ca("0x127")]=esmap.ESRenderOrder[_0x37ca("0x128")],f[_0x37ca("0x11a")][_0x37ca("0xed8")]=i;return _[_0x37ca("0xa5")][_0x37ca("0xe0")](f),f}for(var h in i){var g=new(THREE[_0x37ca("0x3ee")]),b=0,v=x.points[_0x37ca("0x556")](3*b,3*(b+i[h][_0x37ca("0xec1")]));g[_0x37ca("0x1a0")]("position",new(THREE[_0x37ca("0x1a1")])(v,3));var p=i[h][_0x37ca("0xec0")],A=[],m={precision:"highp",color:p.strokeColor_,linewidth:p[_0x37ca("0xde1")]>5?5:p.strokewidth},C=new(THREE[_0x37ca("0x196")])(m);A.push(C),g.addGroup(b,i[h][_0x37ca("0xec1")],A[_0x37ca("0x4")]-1),b+=i[h][_0x37ca("0xec1")];var I=new(THREE[_0x37ca("0x1a2")])(g,A);I[_0x37ca("0xb0b")]=!1,I[_0x37ca("0xa4")]={nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],id:1*i[h].id,bid:building.id,bType:2},I[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),I.renderOrder=esmap[_0x37ca("0x22c")][_0x37ca("0x128")],null!=e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")].hideRoomLogoMeshes?e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")].hideRoomLogoMeshes&&(C[_0x37ca("0xed")]=!1,g[_0x37ca("0x132")](),g[_0x37ca("0x8c9")][_0x37ca("0xb9")]=0):1*h!=999||e[_0x37ca("0xb5")].map[_0x37ca("0x36")][_0x37ca("0x23e")]||(C[_0x37ca("0xed")]=!1,g.clearGroups(),g[_0x37ca("0x8c9")].count=0);var y=e.scene.map[_0x37ca("0xf5")][_0x37ca("0xdf1")];null!=e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xdf1")]&&(y=e[_0x37ca("0xb5")][_0x37ca("0x39")].options[_0x37ca("0xdf1")]),y&&_.o3d_.add(I)}return I}}]),x}();a.default=l},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=c(11);function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(){(0,_[_0x37ca("0xe")])(this,x)}return(0,e[_0x37ca("0xe")])(x,null,[{key:"doDispose",value:function(x){if(null!==x){x[_0x37ca("0xa4")]&&x.datas_[_0x37ca("0xa5")]&&(x[_0x37ca("0xa4")][_0x37ca("0x331")]&&(x[_0x37ca("0xa4")][_0x37ca("0x331")][_0x37ca("0x1f")]((function(x){x[_0x37ca("0xa5")]&&(x[_0x37ca("0xa5")]=void 0)})),x[_0x37ca("0xa4")][_0x37ca("0x331")]=void 0),x.datas_[_0x37ca("0xa5")]=void 0,x.datas_=void 0);for(var a=0;a<x[_0x37ca("0xa6")].length;a++)this[_0x37ca("0x1b2")](x[_0x37ca("0xa6")][a]);x[_0x37ca("0xa7")]&&x[_0x37ca("0xa7")][_0x37ca("0xa8")](),x.material&&(x[_0x37ca("0xa9")]instanceof Array?x[_0x37ca("0xa9")][_0x37ca("0x1f")]((function(x){x.map&&(x[_0x37ca("0x39")][_0x37ca("0xa8")](),x[_0x37ca("0x39")]=void 0),x.dispose()})):(x.material[_0x37ca("0x39")]&&(x[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xa8")](),x.material[_0x37ca("0x39")]=void 0),x[_0x37ca("0xa9")][_0x37ca("0xa8")]()))}x[_0x37ca("0xa8")]&&x[_0x37ca("0xa8")](),x=void 0}},{key:_0x37ca("0xc51"),value:function(x){var a=Number[_0x37ca("0xed9")],c=Number[_0x37ca("0xeda")],_=x.floors;for(var e in _){var t=_[e][_0x37ca("0x491")];a=Math[_0x37ca("0x30e")](a,t),c=Math.max(c,t)}return new(THREE[_0x37ca("0x302")])(new THREE.Vector3(x.minX,a,x[_0x37ca("0x43f")]),new(THREE[_0x37ca("0xe2")])(x[_0x37ca("0x453")],c,x[_0x37ca("0x440")]))}},{key:_0x37ca("0xe9b"),value:function(x){var a=x[_0x37ca("0xe5")](),c=x[_0x37ca("0x576")]();return{target:new(THREE[_0x37ca("0xe2")])(0,a.y,0),position:new THREE.Vector3(1*c.x,a.y+.75*c.x,1*-c.x)}}},{key:_0x37ca("0x5f9"),value:function(x,a,c,_){if(x.length>=3){var e=Math.PI/20,t=Math.PI-e,i=c||1,n=null==a?8:a;if(0==n)return x;var r=1/n;x[_0x37ca("0x0")](x[x[_0x37ca("0x4")]-1]);for(var s=[],o=0;o<x.length-2;){var l=x[o][_0x37ca("0xde")](),u=x[o+1][_0x37ca("0xde")](),d=x[o+2][_0x37ca("0xde")](),f=l[_0x37ca("0xde")]()[_0x37ca("0x2d7")](u),h=d[_0x37ca("0xde")]()[_0x37ca("0x2d7")](u),g=f[_0x37ca("0x248")](h),b=f[_0x37ca("0x4")](),v=h.length();l[_0x37ca("0xe6")]=x[o][_0x37ca("0xe6")],u[_0x37ca("0xe6")]=x[o+1][_0x37ca("0xe6")],d[_0x37ca("0xe6")]=x[o+2][_0x37ca("0xe6")],l[_0x37ca("0xef")]=x[o][_0x37ca("0xef")],u[_0x37ca("0xef")]=x[o+1][_0x37ca("0xef")],d[_0x37ca("0xef")]=x[o+2][_0x37ca("0xef")];var p=u.y==d.y&&d.y==l.y,A=!_||p;if(s[_0x37ca("0x0")](l),g>e&&g<t&&b>i&&v>i&&A){var m=u.clone().lerp(l,i/b),C=u[_0x37ca("0xde")]()[_0x37ca("0xedb")](d,i/v);m[_0x37ca("0xe6")]=u[_0x37ca("0xe6")],m[_0x37ca("0xef")]=u[_0x37ca("0xef")],s[_0x37ca("0x0")](m);for(var I=r;I<.999999;I+=r){var y=I,E=m[_0x37ca("0xde")]().lerp(u,y),w=u[_0x37ca("0xde")]()[_0x37ca("0xedb")](C,y),T=E.lerp(w,y);T[_0x37ca("0xe6")]=m.fnum,T.bid=m[_0x37ca("0xef")],s.push(T)}x[o+1]=C,C.fnum=d.fnum,C[_0x37ca("0xef")]=d.bid,o++}else o++;o==x[_0x37ca("0x4")]-2&&s[_0x37ca("0x0")](d)}return s}return x}},{key:_0x37ca("0x250"),value:function(x,a){var c=x,_=(0,t[_0x37ca("0x1b8")])(a,_0x37ca("0x1ba"),_0x37ca("0x1b9"),1),e=esmap[_0x37ca("0x34")][_0x37ca("0x35")],i=-e[_0x37ca("0x14c")][_0x37ca("0x19a")],n=e[_0x37ca("0x14c")][_0x37ca("0x19b")];c[_0x37ca("0x1b4")]=!0,c[_0x37ca("0x251")]&&c[_0x37ca("0x251")][_0x37ca("0x1bc")](),c[_0x37ca("0x251")]=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(x[_0x37ca("0xa5")][_0x37ca("0xb8")]).to({x:i-a.x,z:a.y-n},1e3*_).easing(esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x25f")][_0x37ca("0x260")])[_0x37ca("0x12f")]((function(){a[_0x37ca("0x119")]&&a[_0x37ca("0x119")]({x:c.x,y:c.y})}))[_0x37ca("0x1c4")]((function(){x._isAnimating=!1,a[_0x37ca("0x1c7")]&&a.callback()}))[_0x37ca("0x1c6")]()}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(x){function a(x,c){(0,e[_0x37ca("0xe")])(this,a);var t=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,x));return t[_0x37ca("0x189")]=c,t[_0x37ca("0xedc")]=!1,t.selected_=!1,t.defaultMaterial_=null,t[_0x37ca("0xedd")]=null,t}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0xede"),value:function(){this[_0x37ca("0xa9")][_0x37ca("0x13c")]=new THREE.Color(this[_0x37ca("0x189")][_0x37ca("0xdf8")])}},{key:_0x37ca("0xedf"),value:function(x){var a=null==x?this.mapTheme_.selectedColor_:x;this.material[_0x37ca("0x13c")]=new THREE.Color(a)}},{key:_0x37ca("0x3e3"),set:function(x){x=new(THREE[_0x37ca("0x13d")])(x),this[_0x37ca("0xedf")](x)},get:function(){return this[_0x37ca("0xedd")]?this[_0x37ca("0xedd")][_0x37ca("0x13c")]:this.mapTheme_[_0x37ca("0xdc2")]}}]),a}(THREE[_0x37ca("0x148")]);a.default=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a,c,e){(0,_.default)(this,x),this.x=a,this.y=c,this.z=e}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xee0"),value:function(x){this.x=x.x,this.y=x.y}}]),x}();a.default=i},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a,c){(0,_.default)(this,x),this[_0x37ca("0xee1")]=a,this.controls_=c,this[_0x37ca("0xee2")]=!0,this[_0x37ca("0xee3")]=!0,this[_0x37ca("0xee4")]=!0,this[_0x37ca("0xee5")]=!0,this[_0x37ca("0xee6")]=!0,this[_0x37ca("0xee7")]=!0}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x273"),get:function(){return this[_0x37ca("0xee2")]},set:function(x){x!=this[_0x37ca("0xee2")]&&(this[_0x37ca("0xee2")]=x,this.controls_[_0x37ca("0xbbb")]=x)}},{key:_0x37ca("0xee8"),get:function(){return this[_0x37ca("0xee3")]},set:function(x){x!=this[_0x37ca("0xee3")]&&(this[_0x37ca("0xee3")]=x,this[_0x37ca("0xb17")][_0x37ca("0xee9")]=x,this[_0x37ca("0xb17")][_0x37ca("0xbd4")]=x)}},{key:_0x37ca("0xeea"),get:function(){return this[_0x37ca("0xee7")]},set:function(x){x!=this.enableCompassTap_&&(this[_0x37ca("0xee7")]=x)}},{key:"enableMapIncline",get:function(){return this[_0x37ca("0xee4")]},set:function(x){x!=this.enableMapIncline_&&(this[_0x37ca("0xee4")]=x,this[_0x37ca("0xb17")].enableIncline=x)}},{key:_0x37ca("0xeeb"),get:function(){return this[_0x37ca("0xee5")]},set:function(x){x!=this[_0x37ca("0xee5")]&&(this[_0x37ca("0xee5")]=x,this[_0x37ca("0xb17")][_0x37ca("0xbb8")]=x)}},{key:_0x37ca("0xeec"),get:function(){return this[_0x37ca("0xee6")]},set:function(x){x!=this[_0x37ca("0xee6")]&&(this[_0x37ca("0xee6")]=x,this[_0x37ca("0xee1")][_0x37ca("0x57b")]=x)}}]),x}();a.default=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(4)),e=n(c(0)),t=n(c(5)),i=n(c(6));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=function(x){function a(x){(0,e[_0x37ca("0xe")])(this,a);var c=(x=x||{})[_0x37ca("0x34f")],i=(0,t[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_.default)(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")][_0x37ca("0xeed")],c,x[_0x37ca("0xeee")]||new(THREE[_0x37ca("0x14a")]),x[_0x37ca("0xb5")]||esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x14c")]));return i.params=x,c&&null!=c.typeID&&(i[_0x37ca("0x5e2")]=x[_0x37ca("0x34f")].typeID),i[_0x37ca("0x608")]=x.type||esmap[_0x37ca("0x5c3")][_0x37ca("0xa9a")],i}return(0,i[_0x37ca("0xe")])(a,x),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function a(x,c,t,n){var r;return(0,e[_0x37ca("0xe")])(this,a),r=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_.default)(a))[_0x37ca("0x6")](this,esmap.ESNodeType.FACILITY,x,c,t)),r[_0x37ca("0x265")]=function(x){return this[_0x37ca("0xa5")][_0x37ca("0x265")](x)},r[_0x37ca("0x263")]=function(x){return this[_0x37ca("0xa5")][_0x37ca("0x263")](x)},r[_0x37ca("0xe5a")]=function(x){this[_0x37ca("0xa5")][_0x37ca("0xe5a")](x)},r.o3d_[_0x37ca("0xe9e")]=r[_0x37ca("0xa5")].visible,r[_0x37ca("0xef")]=n,r}return(0,n.default)(a,x),(0,t[_0x37ca("0xe")])(a,[{key:"ID",get:function(){return this[_0x37ca("0x17b")][_0x37ca("0x61c")]}},{key:"id",get:function(){return this[_0x37ca("0x17b")][_0x37ca("0x61c")]}},{key:_0x37ca("0x1aa"),get:function(){return this.data_[_0x37ca("0x1aa")]}},{key:"typeID",get:function(){return this[_0x37ca("0x17b")][_0x37ca("0xd46")]}},{key:"x",get:function(){return this.mapCoord.x},set:function(x){}},{key:"y",get:function(){return this[_0x37ca("0x3ba")].y},set:function(x){}},{key:"z",get:function(){return this[_0x37ca("0xeef")].z},set:function(x){}},{key:_0x37ca("0x3ba"),get:function(){if(!this[_0x37ca("0xeef")]){var x=this.data_;this[_0x37ca("0xeef")]=new(esmap[_0x37ca("0x3bb")])(x.X,x.Y,this[_0x37ca("0xa5")][_0x37ca("0xbb")][_0x37ca("0xef0")](new(THREE[_0x37ca("0xe2")])(0,6,0)).y)}return this[_0x37ca("0xeef")]}},{key:_0x37ca("0xed"),get:function(){return this.o3d_[_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")].forceVisible_=x,this[_0x37ca("0xa5")][_0x37ca("0xed")]=x}}]),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=o(c(2)),e=o(c(4)),t=o(c(0)),i=o(c(1)),n=o(c(5)),r=o(c(6)),s=c(11);function o(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function a(x){var c;return(0,t.default)(this,a),c=(0,n.default)(this,(a.__proto__||(0,e[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")][_0x37ca("0xa9d")],{},new(THREE[_0x37ca("0x14a")]))),c[_0x37ca("0xe81")]=function(x,a){this.o3d_.alwaysShow(x,a)},c[_0x37ca("0xe5f")]=function(x){this[_0x37ca("0xa5")][_0x37ca("0xe5f")](x)},c.float=function(x){var a=(0,_.default)({time:2,height:5},x);this[_0x37ca("0xa5")].float(a)},c[_0x37ca("0xef1")]=function(){this[_0x37ca("0xa5")][_0x37ca("0xef1")]()},c[_0x37ca("0xa5")][_0x37ca("0xe9e")]=c[_0x37ca("0xa5")].visible,c[_0x37ca("0xe5d")]=_0x37ca("0x597"),c.opts_=x||{},c[_0x37ca("0xef2")](),c}return(0,r[_0x37ca("0xe")])(a,x),(0,i[_0x37ca("0xe")])(a,[{key:_0x37ca("0xef2"),value:function(){if(!(!this.o3d_ instanceof THREE[_0x37ca("0x14a")])){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")],a=x[_0x37ca("0x14c")],c=-a[_0x37ca("0x19a")],_=a[_0x37ca("0x19b")];this.x_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"x",c),this.y_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"y",_),this[_0x37ca("0x3b8")][_0x37ca("0x4a")]=(0,s[_0x37ca("0x16")])(this.opts_,_0x37ca("0x4a"),_0x37ca("0xef3")),this.opts_[_0x37ca("0x252")]=(0,s.getValue)(this[_0x37ca("0x3b8")],_0x37ca("0x252"),null),this.name_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0x1aa"),null),this.id_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"id",1),this[_0x37ca("0xe7a")]=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0x576"),32),this.up_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"up",!0),this[_0x37ca("0xef")]=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xef"),0),this[_0x37ca("0xef4")]=(0,s[_0x37ca("0x16")])(this.opts_,_0x37ca("0xef5"),1),this[_0x37ca("0xe24")]=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"spritify",!0);var e=x[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?18:12;this.showLevel_=(0,s.getValue)(this.opts_,_0x37ca("0x223"),e),this[_0x37ca("0xe7b")]=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"clip",null),this[_0x37ca("0xa7d")]=(0,s[_0x37ca("0x16")])(this.opts_,_0x37ca("0x123"),!1),this[_0x37ca("0xef6")]=(0,s.getValue)(this[_0x37ca("0x3b8")],_0x37ca("0x28a"),!1),this.glowColor_=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xe72"),"#F3F3F3");var t=x._insureUserCoordInbounds({x:this.x_,y:this.y_});this.x_=t.x,this.y_=t.y,this[_0x37ca("0xef7")]=(0,s[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xe5"),null);var i=this,n=this[_0x37ca("0xa5")].forceVisible_;if(0==this.opts_[_0x37ca("0x252")]||this.opts_[_0x37ca("0x252")]){var r;r=null!=i[_0x37ca("0x3b8")].height?i[_0x37ca("0x3b8")].height:null!=i[_0x37ca("0x3b8")].z?i.opts_.z:3,this[_0x37ca("0xa5")]=new(esmap[_0x37ca("0x5b9")])(this.id_,{vertex:[this.x_,this.y_],name:this[_0x37ca("0xef8")],size_:this[_0x37ca("0xe7a")],canvasSize:this.canvasSize_,alwaysShow:!1,ShowLevel:this.showLevel_},this[_0x37ca("0x3b8")][_0x37ca("0x4a")],(function(a){setTimeout((function(){i[_0x37ca("0xed")]=n;var a=x[_0x37ca("0x181")]({x:i.x_,y:i.y_});i[_0x37ca("0xa5")][_0x37ca("0xb8")].set(a.x,r,a.z),i[_0x37ca("0xa5")].rotation[_0x37ca("0x11d")](0,0,0,"XYZ"),i[_0x37ca("0xef9")]?i[_0x37ca("0xa5")][_0x37ca("0x1a3")].y=THREE[_0x37ca("0x249")].degToRad(i.opts_[_0x37ca("0x252")]):(i[_0x37ca("0xa5")].rotation.set(-Math.PI/2,0,Math.PI,_0x37ca("0x1a4")),i[_0x37ca("0xa5")][_0x37ca("0x1a3")].z=THREE.Math[_0x37ca("0x26d")](i[_0x37ca("0x3b8")].angle)),i[_0x37ca("0xa5")][_0x37ca("0xa9")]&&(i.o3d_[_0x37ca("0xa9")][_0x37ca("0x10e")]=THREE.DoubleSide),i[_0x37ca("0xa7d")]&&i.o3d_[_0x37ca("0xa9")]&&(i.o3d_[_0x37ca("0x127")]=77,i[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),i.o3d_[_0x37ca("0xe1f")]=this[_0x37ca("0xe24")],i[_0x37ca("0x3b8")].callback&&i[_0x37ca("0x3b8")][_0x37ca("0x1c7")](i)}),0),i.o3d_[_0x37ca("0x1b3")]=r})),this[_0x37ca("0xa5")].up[_0x37ca("0x26b")](-1)}else{var o;o=null!=i[_0x37ca("0x3b8")][_0x37ca("0x1a8")]?i[_0x37ca("0x3b8")].height:null!=i[_0x37ca("0x3b8")].z?i[_0x37ca("0x3b8")].z:6,this[_0x37ca("0xa5")]=new esmap.ESMapPoi2({id:this.id_,vertex:[this.x_,this.y_],name:this[_0x37ca("0xef8")],size_:this[_0x37ca("0xe7a")],glow:this.glow_,glowColor:this[_0x37ca("0xefa")],clip_:this[_0x37ca("0xe7b")],ShowLevel:this[_0x37ca("0xe20")],canvasSize:this[_0x37ca("0xef4")]},this[_0x37ca("0x3b8")].url,(function(a,c){if(i[_0x37ca("0xa5")]){i[_0x37ca("0xed")]=n,c[_0x37ca("0x127")]=90;var _=x[_0x37ca("0x181")]({x:i.x_,y:i.y_});if(c.position[_0x37ca("0x11d")](_.x,o,_.z),c[_0x37ca("0xbb")]&&c.parent[_0x37ca("0xa4")].viewRadius)if(x[_0x37ca("0x156")]>=c[_0x37ca("0xbb")][_0x37ca("0xa4")][_0x37ca("0xefb")])x[_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xdf")](c[_0x37ca("0xb8")])>c.parent[_0x37ca("0xa4")][_0x37ca("0xefc")]&&(i[_0x37ca("0xa5")][_0x37ca("0xe9e")]=!1,i[_0x37ca("0xed")]=!1);i[_0x37ca("0xa7d")]&&i.o3d_[_0x37ca("0xa9")]&&(i[_0x37ca("0xa5")][_0x37ca("0x127")]=78,i[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),i.opts_.callback&&i[_0x37ca("0x3b8")].callback(i),x.onUpdating(!0),i[_0x37ca("0x3b8")][_0x37ca("0xe5")]?c[_0x37ca("0xe5")][_0x37ca("0x11d")](i[_0x37ca("0x3b8")][_0x37ca("0xe5")].x,i[_0x37ca("0x3b8")][_0x37ca("0xe5")].y):c[_0x37ca("0xe5")].set(.5,0),c[_0x37ca("0xa9")].needsUpdate=!0}})),this[_0x37ca("0xa5")][_0x37ca("0x1b3")]=o}this[_0x37ca("0xa5")].forceVisible_=!1,this[_0x37ca("0xa5")][_0x37ca("0xed")]=!1,this[_0x37ca("0xa5")][_0x37ca("0xa4")]=this}}},{key:_0x37ca("0x26c"),value:function(x){var a=this;_0x37ca("0x143")==typeof x&&(x={to:x});var c,_=(0,s[_0x37ca("0x1b8")])(x,_0x37ca("0x1ba"),"duration",.3),e=a.angle,t=esmap[_0x37ca("0x7b")][_0x37ca("0x5ec")](e,x.to);return a._rotateToID&&a[_0x37ca("0xaee")][_0x37ca("0x1bc")](),a[_0x37ca("0xaee")]=esmap[_0x37ca("0x1c1")].fadeTo(_,(function(x){(c=e+t*x[_0x37ca("0xf2")])<=0?c=360+c:c>=360&&(c-=360),a[_0x37ca("0x252")]=c}),null,(function(){x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")]()})),a[_0x37ca("0xaee")]}},{key:"moveTo",value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x250")](x)}},{key:_0x37ca("0x265"),value:function(x){return this[_0x37ca("0xa5")][_0x37ca("0x265")](x)}},{key:_0x37ca("0x263"),value:function(x){return this[_0x37ca("0xa5")][_0x37ca("0x263")](x)}},{key:_0x37ca("0xe5a"),value:function(){this[_0x37ca("0xa5")][_0x37ca("0xe5a")]()}},{key:_0x37ca("0x266"),value:function(){this.o3d_[_0x37ca("0x266")]()}},{key:_0x37ca("0x3bd"),value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x3bd")](x)}},{key:_0x37ca("0xefd"),value:function(x){this.oc||(this.oc=this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")]);var a=new(THREE[_0x37ca("0x13d")])(x);this.o3d_[_0x37ca("0xa9")][_0x37ca("0x13c")]=a}},{key:_0x37ca("0x28a"),value:function(x){this[_0x37ca("0xa5")].toggleGlow(!0,x)}},{key:_0x37ca("0x287"),value:function(){this.o3d_[_0x37ca("0xe77")](!1)}},{key:"restoreColor",value:function(){this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")]=this.oc}},{key:_0x37ca("0x690"),value:function(x){var a=this,c=a[_0x37ca("0xa5")][_0x37ca("0xe26")],_=a[_0x37ca("0xa5")].height_,e=.3;x instanceof Object?(c=x.width,_=x[_0x37ca("0x1a8")],e=x[_0x37ca("0x1")](_0x37ca("0x1ba"))?x[_0x37ca("0x1ba")]:e):(c=x,_=x),a[_0x37ca("0xefe")]&&a.setSizeAnimId.stop();var t=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a[_0x37ca("0xa5")]).to({width_:c,height_:_},1e3*e).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1bf")])[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]();a[_0x37ca("0xefe")]=t}},{key:_0x37ca("0x21a"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0x21a")]}},{key:_0x37ca("0xe73"),get:function(){return this.o3d_[_0x37ca("0xe73")]}},{key:_0x37ca("0x4a"),get:function(){return this[_0x37ca("0x3b8")][_0x37ca("0x4a")]},set:function(x){this[_0x37ca("0x3b8")][_0x37ca("0x4a")]=x,this.o3d_.setUrl(x)}},{key:_0x37ca("0xed"),get:function(){return this[_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")]&&(this[_0x37ca("0xa5")][_0x37ca("0xe9e")]=x,this.o3d_[_0x37ca("0xed")]=x)}},{key:"ID",get:function(){return this[_0x37ca("0xeff")]}},{key:_0x37ca("0x1aa"),get:function(){return this[_0x37ca("0xef8")]},set:function(x){this[_0x37ca("0xef8")]=x}},{key:"x",get:function(){return this.x_},set:function(x){this.x_=x}},{key:"y",get:function(){return this.y_},set:function(x){this.y_=x}},{key:_0x37ca("0x252"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0x1a3")].y*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")]},set:function(x){this[_0x37ca("0xef9")]?this[_0x37ca("0xa5")][_0x37ca("0x1a3")].y=x*THREE[_0x37ca("0x249")].DEG2RAD:this[_0x37ca("0xa5")][_0x37ca("0x1a3")].z=x*THREE[_0x37ca("0x249")][_0x37ca("0xad5")]}}]),a}(esmap[_0x37ca("0x5c2")]);l[_0x37ca("0x11")].forceVisible_={get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xe9e")]=x}},a[_0x37ca("0xe")]=l},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function a(x,c,t){var n;return(0,e[_0x37ca("0xe")])(this,a),(n=(0,i[_0x37ca("0xe")])(this,(a.__proto__||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap.ESNodeType[_0x37ca("0xa91")],x,c,t)))[_0x37ca("0xa5")].forceVisible_=n[_0x37ca("0xa5")].visible,n.bid=t.id,n}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:"ID",get:function(){return this[_0x37ca("0x17b")][_0x37ca("0x61c")]}},{key:_0x37ca("0x1aa"),get:function(){return this.data_[_0x37ca("0x1aa")]}},{key:"x",get:function(){return this[_0x37ca("0xeef")].x},set:function(x){}},{key:"y",get:function(){return this[_0x37ca("0xeef")].y},set:function(x){}},{key:"z",get:function(){return this[_0x37ca("0xeef")].z},set:function(x){}},{key:_0x37ca("0x3ba"),get:function(){if(!this.coord_){var x=this.data_;this[_0x37ca("0xeef")]=new(esmap[_0x37ca("0x3bb")])(x.X,x.Y,x.Height)}return this.coord_}},{key:"visible",get:function(){return this[_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")].forceVisible_=x,this[_0x37ca("0xa5")][_0x37ca("0xed")]=x}}]),a}(esmap.ESNode);a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=l(c(55)),e=l(c(2)),t=l(c(4)),i=l(c(0)),n=l(c(1)),r=l(c(5)),s=l(c(6)),o=c(11);function l(x){return x&&x.__esModule?x:{default:x}}var u=function(x){function a(x){var c;return(0,i[_0x37ca("0xe")])(this,a),c=(0,r[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,t[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")].LOCATION_MARKER,{},new THREE.Object3D)),c[_0x37ca("0x12c")]=esmap[_0x37ca("0x5d6")][_0x37ca("0x11")].visibleFloorNumsChanged,c[_0x37ca("0xe81")]=esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0xe81")],c[_0x37ca("0xa5")][_0x37ca("0xe9e")]=c.o3d_[_0x37ca("0xed")],c[_0x37ca("0x3b8")]=x,c[_0x37ca("0xe6")]=1,c[_0x37ca("0xef2")](),c}return(0,s[_0x37ca("0xe")])(a,x),(0,n[_0x37ca("0xe")])(a,[{key:_0x37ca("0xef2"),value:function(x){if(this[_0x37ca("0xa5")]instanceof THREE[_0x37ca("0x14a")]){var a=this[_0x37ca("0x3b8")][_0x37ca("0x39")]||esmap.ESMap[_0x37ca("0x35")];this.x_=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"x",a[_0x37ca("0xe5")].x),this.y_=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"y",a.center.y),this.url_=(0,o.getValue)(this[_0x37ca("0x3b8")],"url","../image/user.png"),this[_0x37ca("0xef8")]=(0,o[_0x37ca("0x16")])(this.opts_,_0x37ca("0x1aa"),null),this[_0x37ca("0xeff")]=(0,o[_0x37ca("0x16")])(this.opts_,"id",1),this.size_=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0x576"),128),this[_0x37ca("0xe24")]=(0,o[_0x37ca("0x16")])(this.opts_,_0x37ca("0xe68"),!0),this[_0x37ca("0xf00")]=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xe85"),!1),this.arrow_=(0,o[_0x37ca("0x16")])(this.opts_,_0x37ca("0x120"),!1),this.arrowSize_=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xe88"),this[_0x37ca("0xe7a")]/2),this[_0x37ca("0xf01")]=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xe87"),"#50C1E9"),this[_0x37ca("0xf02")]=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],_0x37ca("0xf03"),.65),this[_0x37ca("0xa7d")]=(0,o[_0x37ca("0x16")])(this[_0x37ca("0x3b8")],"seeThrough",!0),this[_0x37ca("0xe7b")]=(0,o.getValue)(this[_0x37ca("0x3b8")],"clip",!1);var c=this;this[_0x37ca("0xa5")][_0x37ca("0xe9e")],this[_0x37ca("0xa5")]=new(esmap[_0x37ca("0x5b9")])(0,{id:this[_0x37ca("0xeff")],vertex:[0,0],name:this[_0x37ca("0xef8")],size_:this.size_,arrow:this[_0x37ca("0xf04")],arrowSize:this[_0x37ca("0xf05")],arrowColor:this[_0x37ca("0xf01")],fixedAngle:this[_0x37ca("0xf00")],arrowOffset:this[_0x37ca("0xf02")],clip:this[_0x37ca("0xe7b")],seeThrough:this[_0x37ca("0xa7d")]},this[_0x37ca("0xf06")],(function(x){c[_0x37ca("0xf07")]=!0,x[_0x37ca("0xf7")][_0x37ca("0xa9")]&&(x.main[_0x37ca("0xa9")][_0x37ca("0xed")]=!0),c[_0x37ca("0xa7d")]&&(x[_0x37ca("0xf7")][_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),c[_0x37ca("0x3b8")][_0x37ca("0x4f1")]&&(c[_0x37ca("0x4f1")]=c[_0x37ca("0x3b8")][_0x37ca("0x4f1")]),c._visibleFloorNumsChanged=c.visibleFloorNumsChanged[_0x37ca("0x10")](c),a.on(_0x37ca("0x12c"),c[_0x37ca("0xf08")]),c.opts_.callback&&c[_0x37ca("0x3b8")][_0x37ca("0x1c7")](c)})),c[_0x37ca("0xa5")][_0x37ca("0x1b3")]=0,c[_0x37ca("0x3b8")][_0x37ca("0x1a8")]&&(c[_0x37ca("0xa5")].initY_=c[_0x37ca("0x3b8")][_0x37ca("0x1a8")]),this[_0x37ca("0xf09")]=null,this[_0x37ca("0xa5")].x=this.x_,this[_0x37ca("0xa5")].y=this.y_,this[_0x37ca("0xa5")][_0x37ca("0xa4")]=this,this.o3d_.up[_0x37ca("0x26b")](-1),this[_0x37ca("0xf0a")]=this[_0x37ca("0xf0b")][_0x37ca("0x10")](this),a.on("update",this[_0x37ca("0xf0a")])}}},{key:_0x37ca("0x690"),value:function(x){var a=this,c=a.o3d_[_0x37ca("0xe26")],_=a[_0x37ca("0xa5")][_0x37ca("0xe15")],e=.3;x instanceof Object?(c=x.width,_=x[_0x37ca("0x1a8")],e=x.hasOwnProperty(_0x37ca("0x1ba"))?x[_0x37ca("0x1ba")]:e):(c=x,_=x),a[_0x37ca("0xefe")]&&a[_0x37ca("0xefe")].stop();var t=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a[_0x37ca("0xa5")]).to({width_:c,height_:_},1e3*e)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Quadratic[_0x37ca("0x1bf")])[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]();a[_0x37ca("0xefe")]=t}},{key:_0x37ca("0x250"),value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x250")](x)}},{key:_0x37ca("0xf0c"),value:function(){this.circle&&(this[_0x37ca("0x113")][_0x37ca("0xed")]=!1)}},{key:"showBound",value:function(){var x=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,e.default)({color:_0x37ca("0xf0d"),linewidth:0,radius:10,opacity:.5},x);var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")];if(this[_0x37ca("0x113")]){if(this[_0x37ca("0x113")][_0x37ca("0xed")]||(this.circle[_0x37ca("0xed")]=!0),this[_0x37ca("0x113")].datas_.points[_0x37ca("0x630")]==x[_0x37ca("0x630")])return;var c=x[_0x37ca("0x630")]/this.circle[_0x37ca("0xa4")][_0x37ca("0xf0e")];return this.circle.scale.set(c,c,1),void(this[_0x37ca("0x113")][_0x37ca("0xa4")][_0x37ca("0xee")].radius=x.radius)}var _=new(esmap[_0x37ca("0x5c6")])({bid:0,alpha:x[_0x37ca("0xfd")],color:x.color,lineWidth:x[_0x37ca("0x1a6")],seeThrough:!0,points:{type:"circle",center:{x:a.center.x,y:a[_0x37ca("0xe5")].y},radius:x[_0x37ca("0x630")],segments:40},height:-.1,lineType:esmap.ESLineType[_0x37ca("0xf0f")]});_[_0x37ca("0xf0e")]=x[_0x37ca("0x630")],this[_0x37ca("0xa5")][_0x37ca("0xbb")][_0x37ca("0xe0")](_[_0x37ca("0xa5")]),this.circle=_[_0x37ca("0xa5")]}},{key:_0x37ca("0x26c"),value:function(x){var a=this;_0x37ca("0x143")==typeof x&&(x={angle:x});var c,_=(0,o[_0x37ca("0x1b8")])(x,"time",_0x37ca("0x1b9"),.3),e=a[_0x37ca("0x4f1")],t=esmap[_0x37ca("0x7b")].getNearestAngle(e,x.angle);return a[_0x37ca("0xaee")]&&a[_0x37ca("0xaee")].stop(),a[_0x37ca("0xaee")]=esmap[_0x37ca("0x1c1")][_0x37ca("0x983")](_,(function(x){(c=e+t*x[_0x37ca("0xf2")])<=0?c=360+c:c>=360&&(c-=360),a[_0x37ca("0x4f1")]=c}),null,(function(){x[_0x37ca("0x1c4")]&&x[_0x37ca("0x1c4")]()})),a[_0x37ca("0xaee")]}},{key:_0x37ca("0x246"),value:function(x){var a=this,c=esmap[_0x37ca("0x34")].instance;this.x=x.x,this.y=x.y;var _=(0,o[_0x37ca("0x1b8")])(x,_0x37ca("0xe6"),_0x37ca("0x48f"),_0x37ca("0x236"),null),e=(0,o[_0x37ca("0x1b8")])(x,_0x37ca("0x1a8"),_0x37ca("0xe5c"),_0x37ca("0x137"),"offsetHeight",0),t=(0,o[_0x37ca("0x1b8")])(x,_0x37ca("0xef"),c.id),i=c.getBuildingById(t);this[_0x37ca("0xf09")]&&this.building&&this[_0x37ca("0x5b")].id!=t&&(this[_0x37ca("0x5b")].off(_0x37ca("0xf1"),this[_0x37ca("0xf09")]),this._onFloorHeightChanged=null,this[_0x37ca("0x5b")]=null);var n={x:x.x,y:x.y};_=_||i[_0x37ca("0x91b")],this[_0x37ca("0xe6")]=_,this.o3d_[_0x37ca("0x1b3")]=i.getFloorHeight(_)+(e||0)+i.o3d_[_0x37ca("0xb8")].y;var r=c[_0x37ca("0xaa3")]({x:n.x,y:n.y}),s=c[_0x37ca("0x181")]({x:r.x,y:r.y});this.position[_0x37ca("0x11d")](s.x,this[_0x37ca("0xa5")][_0x37ca("0x1b3")],s.z),this[_0x37ca("0xef")]=t,-1==i[_0x37ca("0xe95")][_0x37ca("0xda")](_)?this[_0x37ca("0xed")]&&(this[_0x37ca("0xed")]=!1):!this[_0x37ca("0xed")]&&(this[_0x37ca("0xed")]=!0),this[_0x37ca("0x5b")]=i,this.building.on("floorHeightChanged",(function(x){var c=x[_0x37ca("0xe6")],_=x[_0x37ca("0xf2")];c==a[_0x37ca("0xe6")]&&(a.o3d_.initY_=_+(e||0)+i.o3d_[_0x37ca("0xb8")].y)}))}},{key:_0x37ca("0x4f1"),get:function(){return this.o3d_[_0x37ca("0x198")].rotation.z/Math.PI*180},set:function(x){this.o3d_[_0x37ca("0x198")][_0x37ca("0x1a3")][_0x37ca("0x11d")](0,0,x/180*Math.PI,_0x37ca("0x1a4"))}},{key:_0x37ca("0x4a"),get:function(){return this[_0x37ca("0x3b8")].url},set:function(x){this[_0x37ca("0x3b8")][_0x37ca("0x4a")]=x,this.o3d_[_0x37ca("0xe80")](x)}},{key:_0x37ca("0x120"),set:function(x){this.o3d_[_0x37ca("0x120")]=x},get:function(){return this[_0x37ca("0xa5")].arrow}},{key:_0x37ca("0xe85"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xe85")]},set:function(x){this.o3d_[_0x37ca("0xe85")]=x}},{key:_0x37ca("0xed"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")].forceVisible_=x,this[_0x37ca("0xa5")][_0x37ca("0xed")]=x}},{key:_0x37ca("0x1a8"),set:function(x){this[_0x37ca("0xa5")][_0x37ca("0x1b3")]=x},get:function(){return this[_0x37ca("0xa5")].position.y}},{key:_0x37ca("0x48f"),get:function(){return this[_0x37ca("0xe6")]},set:function(x){this.fnum=x}},{key:_0x37ca("0xb8"),get:function(){return this[_0x37ca("0xa5")].position}},{key:"ID",get:function(){return this.id_}},{key:_0x37ca("0x1aa"),get:function(){return this.name_}}]),a}(esmap.ESNode);(0,_[_0x37ca("0xe")])(u[_0x37ca("0x11")],{_update:{value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x24f")](esmap.ESMap[_0x37ca("0x35")][_0x37ca("0x154")]),this[_0x37ca("0x113")]&&(this[_0x37ca("0x113")].position[_0x37ca("0x8ab")](this[_0x37ca("0xa5")][_0x37ca("0xb8")])||this[_0x37ca("0x113")][_0x37ca("0xb8")].copy(this[_0x37ca("0xa5")].position))}},getPosition:{value:function(){var x=esmap[_0x37ca("0x34")].instance[_0x37ca("0x234")](this[_0x37ca("0xb8")]);return x.z=this[_0x37ca("0xa5")].initY_||0,x.fnum=this.fnum,x}},dispose:{value:function(){this[_0x37ca("0xa5")]&&this.o3d_[_0x37ca("0xbb")]&&(esmap[_0x37ca("0x34")][_0x37ca("0x35")].off(_0x37ca("0x119"),this[_0x37ca("0xf0a")]),this[_0x37ca("0xa5")].parent[_0x37ca("0x147")](this[_0x37ca("0xa5")]))}}}),a[_0x37ca("0xe")]=u},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=u(c(10)),e=u(c(2)),t=u(c(4)),i=u(c(0)),n=u(c(1)),r=u(c(5)),s=u(c(6)),o=u(c(326)),l=u(c(67));function u(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var d=function(x){function a(x){var c;(0,i[_0x37ca("0xe")])(this,a),(c=(0,r.default)(this,(a.__proto__||(0,t[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap.ESNodeType[_0x37ca("0xa2d")],{},new(THREE[_0x37ca("0x14a")]))))[_0x37ca("0xf10")]=null;var _=x||{};if(c[_0x37ca("0xe5d")]=_0x37ca("0x594"),c.map=_[_0x37ca("0x39")]||esmap.ESMap[_0x37ca("0x35")],(0,e[_0x37ca("0xe")])(c,{color:"#1ee3cf",alpha:.5,name:"",imageRepeat:{x:1,y:1},lineWidth:1,lineType:esmap[_0x37ca("0xe1")][_0x37ca("0xf0f")],lineStyle:{fixedWidth:!1},seeThrough:!1,imageAngle:180,height:6,thickness:0,showLevel:null,bid:0,points:{type:"rectangle",center:c[_0x37ca("0x39")][_0x37ca("0xe5")],width:30,height:30}},_),c.ID=c.id,c.mapScene=c[_0x37ca("0x39")][_0x37ca("0x14c")],c[_0x37ca("0xa5")]=new THREE.Mesh,c[_0x37ca("0xa5")].material[_0x37ca("0xfa")]=!0,c[_0x37ca("0xa5")].material[_0x37ca("0x124")]=!0,c[_0x37ca("0xa5")].material.side=THREE.DoubleSide,c[_0x37ca("0xa5")][_0x37ca("0xa4")]=c,c[_0x37ca("0x123")]&&(c.o3d_[_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),c[_0x37ca("0xf11")]&&c[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](c[_0x37ca("0xa5")],c[_0x37ca("0xef")]||_0x37ca("0xf7")),0==c[_0x37ca("0xf12")]?(Array[_0x37ca("0x474")](c[_0x37ca("0xee")])&&c.points[_0x37ca("0x4")]>=3&&(c[_0x37ca("0xee")][0].x==c.points[c.points[_0x37ca("0x4")]-1].x&&c[_0x37ca("0xee")][0].y==c.points[c.points[_0x37ca("0x4")]-1].y||c[_0x37ca("0xee")][_0x37ca("0x0")](c[_0x37ca("0xee")][0])),c.update(c,!0),c.image&&c.setImage(c[_0x37ca("0x497")])):(c[_0x37ca("0xa5")][_0x37ca("0xa9")]=new(THREE[_0x37ca("0x856")])({transparent:!0,side:THREE[_0x37ca("0x10f")]}),c[_0x37ca("0xf13")](c,!0)),c[_0x37ca("0x223")]){var n=c[_0x37ca("0x223")][0],s=c.showLevel[1];c[_0x37ca("0x39")].on(_0x37ca("0x12d"),(function(x){x>=n&&x<=s?c[_0x37ca("0xa5")][_0x37ca("0xed")]||c[_0x37ca("0xf14")]():c[_0x37ca("0xa5")][_0x37ca("0xed")]&&c.hide()}))}return c[_0x37ca("0xa5")].addEventListener("removed",(function(){c.line&&(c[_0x37ca("0xa3e")][_0x37ca("0xa8")](),c[_0x37ca("0xa3e")]=null)})),c}return(0,s[_0x37ca("0xe")])(a,x),(0,n.default)(a,[{key:_0x37ca("0x269"),value:function(){this.o3d_.visible=!1}},{key:_0x37ca("0xf14"),value:function(){this[_0x37ca("0xa5")][_0x37ca("0xed")]=!0}},{key:"_init_",value:function(){var x=0;this[_0x37ca("0xef")]||(x=this.map.getBuildingById(0).getFloorHeight(1)),this[_0x37ca("0xa5")][_0x37ca("0xb8")].y=this._height+x}},{key:_0x37ca("0xf15"),value:function(x){var a=esmap.ESMapUtil[_0x37ca("0x58b")](x);this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")]=a,this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xe5")].x=.5,this[_0x37ca("0xa5")].material[_0x37ca("0x39")][_0x37ca("0xe5")].y=.5,this.o3d_[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x851")]=this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")].wrapT=THREE[_0x37ca("0x142")],this.o3d_.material.map.repeat.x=this[_0x37ca("0xf16")].x,this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x110")].y=this[_0x37ca("0xf16")].y,this.o3d_[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x1a3")]=this[_0x37ca("0xf17")]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],this[_0x37ca("0xa5")][_0x37ca("0xa9")].color[_0x37ca("0x290")](this[_0x37ca("0x13c")]),this[_0x37ca("0xa5")].material[_0x37ca("0x39")][_0x37ca("0x13a")]=!0,this.o3d_[_0x37ca("0xa9")][_0x37ca("0x13a")]=!0}},{key:_0x37ca("0x303"),value:function(){var x=esmap.ESMapUtil[_0x37ca("0x5f6")](this.points_);return esmap[_0x37ca("0x7b")][_0x37ca("0x5f7")](x)}},{key:_0x37ca("0xf18"),value:function(x){if(!this[_0x37ca("0xa5")].userData.processsedUv){this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0xf19")]=!0;var a=this[_0x37ca("0x39")][_0x37ca("0x36")].editMode,c=x.vertices,_=x[_0x37ca("0xa71")],e=c.length;x[_0x37ca("0xf1a")](),x[_0x37ca("0xf1b")][0]=[],x.computeBoundingBox();for(var t=x.boundingBox.max,i=x[_0x37ca("0x562")][_0x37ca("0x30e")],n=new(THREE[_0x37ca("0x563")])(0-i.x,0-i.y),r=new THREE.Vector2(t.x-i.x,t.y-i.y),s=e-2,o=0;o<s;o++)if(_[o]){var l=x[_0x37ca("0xa74")][_[o].a],u=x[_0x37ca("0xa74")][_[o].b],d=x[_0x37ca("0xa74")][_[o].c];x[_0x37ca("0xf1b")][0][o]=[new THREE.Vector2((l.x+n.x)/r.x,(l.y+n.y)/r.y),new(THREE[_0x37ca("0x563")])((u.x+n.x)/r.x,(u.y+n.y)/r.y),new THREE.Vector2((d.x+n.x)/r.x,(d.y+n.y)/r.y)]}else a||console[_0x37ca("0xca")]("多边形生成错误，请检查数据",this);x[_0x37ca("0xf1c")]=!0,x[_0x37ca("0xf1d")]=!0}}},{key:_0x37ca("0xf1e"),value:function(x){this[_0x37ca("0xf18")]();var a=esmap[_0x37ca("0x7b")][_0x37ca("0x5f6")](this.points_);x[_0x37ca("0x453")]=a.maxX,x.minX=a.minX,x[_0x37ca("0x440")]=a[_0x37ca("0x440")],x[_0x37ca("0x43f")]=a[_0x37ca("0x43f")],this[_0x37ca("0x91a")]=new(o[_0x37ca("0xe")])(x);var c=this.heatmap.getTexture();this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0xfa")]=!0,this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0xfd")]=x.opacity,this.o3d_.material.map=c,this[_0x37ca("0xa5")].material[_0x37ca("0x13c")][_0x37ca("0x11d")](16777215),this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13a")]=!0,this[_0x37ca("0xa5")][_0x37ca("0xa9")].map[_0x37ca("0x13a")]=!0}},{key:_0x37ca("0xf1f"),value:function(x){this[_0x37ca("0x91a")][_0x37ca("0x92e")](x)}},{key:_0x37ca("0xf20"),value:function(){this[_0x37ca("0x91a")][_0x37ca("0x92a")]()}},{key:"clearHeatMap",value:function(){this.heatmap[_0x37ca("0x92a")](),this[_0x37ca("0x91a")][_0x37ca("0x69d")](),this.heatmap[_0x37ca("0x56b")][_0x37ca("0x13a")]=!0}},{key:_0x37ca("0xf21"),value:function(){this.heatmap[_0x37ca("0x119")]()}},{key:"addHeatPoints",value:function(x){this[_0x37ca("0x91a")].addPoints(x)}},{key:_0x37ca("0xf22"),value:function(x){this[_0x37ca("0x91a")][_0x37ca("0xf23")](x.x,x.y,x[_0x37ca("0xf2")])}},{key:"_dispose_",value:function(){this.pickable&&this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0xf24")](this.o3d_)}},{key:_0x37ca("0xe81"),value:function(x,a){esmap[_0x37ca("0x289")].prototype.alwaysShow[_0x37ca("0x6")](this[_0x37ca("0xa5")],x,a),esmap[_0x37ca("0x289")][_0x37ca("0x11")].alwaysShow[_0x37ca("0x6")](this.line,x,a)}},{key:_0x37ca("0xefd"),value:function(x){this[_0x37ca("0x119")]({color:x})}},{key:_0x37ca("0xf25"),value:function(x){this[_0x37ca("0x119")]({lineWidth:x})}},{key:_0x37ca("0x284"),value:function(x){this[_0x37ca("0x119")]({alpha:x})}},{key:_0x37ca("0xf26"),value:function(x){var a=this;return x[_0x37ca("0x39")]((function(x){var c=a[_0x37ca("0x39")][_0x37ca("0xaa3")]({x:x.x,y:x.y}),_=a.map[_0x37ca("0x181")](c);return new(THREE[_0x37ca("0x563")])(_.x,-_.z)}))}},{key:_0x37ca("0xf13"),value:function(x,a){var c=this;if(a||(0,e[_0x37ca("0xe")])(c,x),x[_0x37ca("0xee")]){var t=null;if(x[_0x37ca("0xee")]instanceof Array){if((t=x.points)[_0x37ca("0x4")]<3)return}else if(_0x37ca("0xc")==(0,_[_0x37ca("0xe")])(x[_0x37ca("0xee")])&&!(t=c[_0x37ca("0xf27")](x[_0x37ca("0xee")])))return;c.o3d_[_0x37ca("0xa7")].dispose(),c[_0x37ca("0x423")]=t;var i=c[_0x37ca("0xf26")](t),n=new(THREE[_0x37ca("0x55c")])(i),r=new(THREE[_0x37ca("0x561")])(n,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});c[_0x37ca("0xa5")][_0x37ca("0xa7")]=r,a&&(c[_0x37ca("0xa5")].rotateX(-Math.PI/2),c[_0x37ca("0xa5")][_0x37ca("0xb8")].y=c[_0x37ca("0x1a8")]),c[_0x37ca("0xa5")].renderOrder=esmap[_0x37ca("0x22c")][_0x37ca("0x594")]}x[_0x37ca("0x13c")]&&c[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")][_0x37ca("0x290")](c[_0x37ca("0x13c")]),null!=x.alpha&&c.o3d_.material.opacity&&(c.o3d_[_0x37ca("0xa9")][_0x37ca("0xfd")]=c[_0x37ca("0xe3")])}},{key:"_createLine",value:function(x){var a=this;a[_0x37ca("0xa3e")]&&(a[_0x37ca("0xa3e")][_0x37ca("0xa8")](),a[_0x37ca("0xa3e")]=null);var c=a.lineStyle;a[_0x37ca("0x39")][_0x37ca("0xf0")](0);a[_0x37ca("0xef")]&&a[_0x37ca("0x39")][_0x37ca("0xf0")](a[_0x37ca("0xef")]),a[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x19a")],a[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x19b")],(x=a[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0xa74")].map((function(x){return new(THREE[_0x37ca("0xe2")])(x.x,x.z,x.y)}))).push(x[0][_0x37ca("0xde")]());var _=(0,e[_0x37ca("0xe")])({color:a[_0x37ca("0x13c")],fixedWidth:!1,notCenter:!0,lineWidth:a[_0x37ca("0x115")],lineType:a[_0x37ca("0x9d5")],hiddenByFloor:!1},c);_[_0x37ca("0x9d5")]!=esmap[_0x37ca("0xe1")][_0x37ca("0xbb3")]?a[_0x37ca("0xa3e")]=new(esmap[_0x37ca("0x5d6")])(x,_,!1):a.line=new l.default(x,_,!1),a[_0x37ca("0xa3e")][_0x37ca("0xf28")](-Math.PI/2),a[_0x37ca("0xa5")][_0x37ca("0xe0")](a[_0x37ca("0xa3e")]),a[_0x37ca("0xa3e")][_0x37ca("0xb8")].set(0,0,0),a[_0x37ca("0xa3e")][_0x37ca("0xa9")][_0x37ca("0xed")]=!0,a.line[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x594")],a[_0x37ca("0xa3e")].children[0]&&(a[_0x37ca("0xa3e")][_0x37ca("0xa6")][0][_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x594")])}},{key:"_createPoints",value:function(x){switch(x[_0x37ca("0x22a")]){case"circle":if(x[_0x37ca("0xe5")]&&x.radius){for(var a=x[_0x37ca("0xe5")],c=x[_0x37ca("0x630")]||30,_=x[_0x37ca("0x63f")]||40,e=[],t=0;t<_;t++)e[_0x37ca("0x0")]({x:a.x+c*Math.cos(2*Math.PI/_*t),y:a.y+c*Math[_0x37ca("0x613")](2*Math.PI/_*t)});return e}break;case _0x37ca("0xf29"):if(x[_0x37ca("0x398")]&&x[_0x37ca("0x1a8")]&&(x[_0x37ca("0x8d9")]||x[_0x37ca("0xe5")])){a=x[_0x37ca("0xe5")]||this[_0x37ca("0x39")][_0x37ca("0xe5")];if(!(i=x.startPoint))var i={x:a.x-x[_0x37ca("0x398")]/2,y:a.y-x.height/2};return[{x:i.x,y:i.y},{x:i.x+x.width,y:i.y},{x:i.x+x[_0x37ca("0x398")],y:i.y+x[_0x37ca("0x1a8")]},{x:i.x,y:i.y+x[_0x37ca("0x1a8")]}]}}}},{key:_0x37ca("0x119"),value:function(x,a){var c=this;if(a||(0,e[_0x37ca("0xe")])(c,x),x[_0x37ca("0xee")]){var t=null;if(x[_0x37ca("0xee")]instanceof Array){if((t=x.points).length<3)return}else if("object"==(0,_[_0x37ca("0xe")])(x[_0x37ca("0xee")])&&!(t=c[_0x37ca("0xf27")](x.points)))return;if(c[_0x37ca("0xa5")][_0x37ca("0xa7")][_0x37ca("0xa8")](),t[_0x37ca("0x4")]<3)return void(c.line&&(c[_0x37ca("0xa3e")].dispose(),c.line=null));c[_0x37ca("0x423")]=t;var i=0;this.bid||(i=this[_0x37ca("0x39")][_0x37ca("0xf0")](0)[_0x37ca("0x2f2")](1));var n=c._normalizePoints(t),r=new(THREE[_0x37ca("0xf2a")])(new(THREE[_0x37ca("0x55c")])(n));c[_0x37ca("0xf18")](r),c[_0x37ca("0xa5")].geometry=r,a&&(c[_0x37ca("0xa5")][_0x37ca("0xf28")](-Math.PI/2),c[_0x37ca("0xa5")].position.y=c[_0x37ca("0x1a8")]+i),c[_0x37ca("0xa5")][_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].polygonMarker}x[_0x37ca("0x115")]?c[_0x37ca("0xf2b")](n):c[_0x37ca("0xa3e")]&&(c[_0x37ca("0xa3e")][_0x37ca("0xa8")](),c[_0x37ca("0xa3e")]=null,c[_0x37ca("0xf2b")](n)),x[_0x37ca("0x13c")]&&c[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")][_0x37ca("0x290")](c.color),null!=x[_0x37ca("0xe3")]&&c.o3d_[_0x37ca("0xa9")][_0x37ca("0xfd")]&&(c[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0xfd")]=c.alpha)}},{key:_0x37ca("0xf2c"),value:function(x){var a=(0,e.default)(x);a=this[_0x37ca("0xf26")]([a])[0];var c=new(THREE[_0x37ca("0xe2")])(a.x,this[_0x37ca("0xa5")].getWorldPosition(new(THREE[_0x37ca("0xe2")])).y+30,-a.y),_=new THREE.Vector3(0,-1,0);return new(THREE[_0x37ca("0x3c1")])(c,_)[_0x37ca("0xadf")](this[_0x37ca("0xa5")])[_0x37ca("0x4")]>0}},{key:"height",get:function(){return this._height},set:function(x){var a=0;this.bid||(a=this[_0x37ca("0x39")][_0x37ca("0xf0")](0).getFloorHeight(1)),this[_0x37ca("0x683")]=x,this[_0x37ca("0xa5")]&&(this[_0x37ca("0xa5")][_0x37ca("0xb8")].y=x+a)}}]),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=d},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=i(c(0)),e=i(c(1)),t=c(19);function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this.config(a),this[_0x37ca("0x8f8")]={},this[_0x37ca("0x56b")]=null,this[_0x37ca("0xee")]=[]}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0x8f9"),value:function(x){var a=this,c=a.maxX-a.minX,_=a[_0x37ca("0x440")]-a[_0x37ca("0x43f")],e={w:parseFloat(c),h:parseFloat(_)},i=(0,t[_0x37ca("0x1b")])();e.w=e.w*i[0]/15,e.h=e.h*i[1]/15;var n=1,r=x.maxSize||8192;return(c>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(n=e.h/e.w,e.w=r,e.h=r*n):(n=e.w/e.h,e.h=r,e.w=r*n)),e}},{key:"getPixXY",value:function(x,a){var c={x:1-(x-this[_0x37ca("0x43e")])/(this[_0x37ca("0x453")]-this.minX),y:(a-this[_0x37ca("0x43f")])/(this[_0x37ca("0x440")]-this.minY)};return c.x=c.x*this.options.width,c.y=c.y*this[_0x37ca("0x36")].height,c}},{key:_0x37ca("0x3af"),value:function(x){var a=this;a.minX=x[_0x37ca("0x43e")],a[_0x37ca("0x453")]=x[_0x37ca("0x453")],a.minY=x[_0x37ca("0x43f")],a[_0x37ca("0x440")]=x.maxY;var c=a[_0x37ca("0x8f9")](x),_=c.w,e=c.h;a.options={width:_,height:e,radius:x[_0x37ca("0x630")]?x.radius:30,opacity:x.hasOwnProperty("opacity")?x[_0x37ca("0xfd")]:1,mapOpacity:x[_0x37ca("0x1")](_0x37ca("0x8fc"))?x.mapOpacity:1,bshadow:x.radius?x.radius/20:1.5,maxSize:x.maxSize||8192,boundVal:15e3,shadowBlur:15,points:{max:x[_0x37ca("0x30d")]?x[_0x37ca("0x30d")]:100,data:[]},gradient:x[_0x37ca("0x8ff")]?x[_0x37ca("0x8ff")]:{.45:_0x37ca("0x900"),.55:"rgb(0,255,255)",.65:_0x37ca("0x901"),.95:_0x37ca("0x902"),1:_0x37ca("0xf2d")}};var t=document[_0x37ca("0x22")](_0x37ca("0x6f9")),i=t[_0x37ca("0x903")]("2d");t[_0x37ca("0x398")]=_,t[_0x37ca("0x1a8")]=e,a[_0x37ca("0x36")][_0x37ca("0x904")]=i,a[_0x37ca("0x36")][_0x37ca("0x6f9")]=t}},{key:"renderShadow",value:function(x,a,c,_){var e=this,t=e[_0x37ca("0x36")].ctx,i=(e[_0x37ca("0x36")][_0x37ca("0x630")],e[_0x37ca("0x36")][_0x37ca("0x908")]),n=parseFloat(c/e[_0x37ca("0x36")].points[_0x37ca("0x30d")],10);t.shadowColor=_0x37ca("0x911")+n+")",t[_0x37ca("0x90b")]=i,t[_0x37ca("0x90c")]=i,t[_0x37ca("0x90d")]=e[_0x37ca("0x36")][_0x37ca("0x90d")],t[_0x37ca("0x9fd")](),t[_0x37ca("0x90e")](x-i,a-i,e[_0x37ca("0x36")].radius,0,2*Math.PI,!0),t.closePath(),t[_0x37ca("0x32d")]()}},{key:"colorize",value:function(){for(var x=this,a=x[_0x37ca("0x36")].width,c=x[_0x37ca("0x36")].height,_=x[_0x37ca("0x36")].ctx,e=_[_0x37ca("0x912")](0,0,a,c),t=e[_0x37ca("0x34f")],i=t[_0x37ca("0x4")],n=x.getPalette(),r=x[_0x37ca("0x36")][_0x37ca("0xfd")]?255*x[_0x37ca("0x36")][_0x37ca("0xfd")]:25500,s=3;s<i;s+=4){var o=t[s],l=4*o;if(l){var u=o<r?o:r;t[s-3]=n[l],t[s-2]=n[l+1],t[s-1]=n[l+2],t[s]=u}}e[_0x37ca("0x34f")][_0x37ca("0x11d")](t),_[_0x37ca("0xf2e")](e,0,0)}},{key:_0x37ca("0xf2f"),value:function(){var x=this,a=x.options[_0x37ca("0x6f9")];return x[_0x37ca("0x56b")]||(x[_0x37ca("0x56b")]=new THREE.Texture(a)),x[_0x37ca("0x56b")]}},{key:_0x37ca("0x913"),value:function(){var x=document.createElement(_0x37ca("0x6f9")),a=x[_0x37ca("0x903")]("2d");x.width=1,x[_0x37ca("0x1a8")]=256;var c=this[_0x37ca("0x36")][_0x37ca("0x8ff")],_=a[_0x37ca("0x927")](0,0,1,256);for(var e in c)_[_0x37ca("0xf30")](e,c[e]);return a[_0x37ca("0x9fe")]=_,a[_0x37ca("0x928")](0,0,1,256),a.getImageData(0,0,1,256)[_0x37ca("0x34f")]}},{key:"cachePoint",value:function(x,a,c){var _=this[_0x37ca("0x36")][_0x37ca("0xee")],e=_[_0x37ca("0x34f")];c>_.max&&(_[_0x37ca("0x30d")]=c),e[_0x37ca("0x0")]([x,a,c])}},{key:_0x37ca("0x92a"),value:function(){this.points=[]}},{key:"addPoint",value:function(x,a,c){if(x&&a&&c){var _=this[_0x37ca("0x8fb")](x,a);if(_){this[_0x37ca("0xee")][_0x37ca("0x0")]({x:_.x,y:_.y,value:c})}}}},{key:_0x37ca("0x69d"),value:function(){this[_0x37ca("0x36")][_0x37ca("0x904")][_0x37ca("0x92b")](0,0,this.options[_0x37ca("0x398")],this[_0x37ca("0x36")][_0x37ca("0x1a8")])}},{key:_0x37ca("0x92d"),value:function(x){for(var a=x[_0x37ca("0x4")],c=0;c<a;c++){var _=x[c][_0x37ca("0xf2")];if(_){var e=this.getPixXY(x[c].x,x[c].y);this.points[_0x37ca("0x0")]({x:e.x,y:e.y,value:_})}}}},{key:_0x37ca("0x119"),value:function(){var x=this;x[_0x37ca("0x69d")]();for(var a=x.points,c=0;c<a[_0x37ca("0x4")];c++){var _=a[c];x[_0x37ca("0x910")](_.x,_.y,_[_0x37ca("0xf2")])}x[_0x37ca("0xf31")](),x[_0x37ca("0x56b")].needsUpdate=!0}},{key:_0x37ca("0x92e"),value:function(x){var a=this,c=a.options[_0x37ca("0x398")],_=a.options.height,e=a[_0x37ca("0x36")][_0x37ca("0xee")][_0x37ca("0x30d")];a[_0x37ca("0xee")]=[];for(var t=0;t<x;t++){var i=Math[_0x37ca("0x2e")](Math[_0x37ca("0x2f")]()*c+1),n=Math[_0x37ca("0x2e")](Math[_0x37ca("0x2f")]()*_+1),r=Math[_0x37ca("0x2e")](Math[_0x37ca("0x2f")]()*e+1);a[_0x37ca("0xee")].push({x:i,y:n,value:r})}}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function a(x){var c;(0,e.default)(this,a),(c=(0,i.default)(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,x)))._type_=esmap[_0x37ca("0x59d")][_0x37ca("0x9ec")];var t=new(THREE[_0x37ca("0x6a0")])(1,1,1,1),n=new(THREE[_0x37ca("0x336")])({transparent:!0,side:THREE[_0x37ca("0x10f")],depthWrite:!1});return n[_0x37ca("0xed")]=!1,c[_0x37ca("0xa5")]=new(THREE[_0x37ca("0x148")])(t,n),c.o3d_.datas_=c,1==x[_0x37ca("0x24")].angle?c.o3d_[_0x37ca("0x1a3")][_0x37ca("0x11d")](-Math.PI/2,0,Math.PI-x[_0x37ca("0x24")][_0x37ca("0xd3e")]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],_0x37ca("0xf32")):c.o3d_.rotation.set(Math.PI,-x.style[_0x37ca("0xd3e")]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],Math.PI,"XZY"),c[_0x37ca("0xa5")][_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x592")],c.updateStyle(c[_0x37ca("0xf33")].style),c}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0xc31"),value:function(x){var a=this;a[_0x37ca("0x176")]=setInterval((function(){a[_0x37ca("0xa5")]&&(x.image,x[_0x37ca("0x497")][_0x37ca("0x497")]&&(clearInterval(a[_0x37ca("0x176")]),a[_0x37ca("0xa5")].material[_0x37ca("0xed")]=!0,a[_0x37ca("0xa5")].material.map=x.image,a[_0x37ca("0xa5")][_0x37ca("0xa9")].map[_0x37ca("0x41f")]=THREE[_0x37ca("0x420")],a[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x141")]=16))}),0),this[_0x37ca("0xa5")].scale[_0x37ca("0x11d")](x.size.width,x[_0x37ca("0x576")][_0x37ca("0x1a8")],1),this[_0x37ca("0xa5")][_0x37ca("0xb8")][_0x37ca("0x11d")](-(x[_0x37ca("0x1c8")].x+this[_0x37ca("0xf33")].sx)+x[_0x37ca("0x137")].x,x[_0x37ca("0x1a8")]+x[_0x37ca("0x137")].z,x[_0x37ca("0x1c8")].y-this.params.sz+x[_0x37ca("0x137")].y)}}]),a}(esmap.ESElement);a.default=s},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=o(c(4)),e=o(c(0)),t=o(c(1)),i=o(c(5)),n=o(c(6)),r=c(11),s=o(c(142));function o(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function a(x){(0,e[_0x37ca("0xe")])(this,a);var c=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap.ESNodeType[_0x37ca("0xa9e")],{},new(THREE[_0x37ca("0x14a")])));c[_0x37ca("0xa5")][_0x37ca("0xe9e")]=c[_0x37ca("0xa5")].visible,c[_0x37ca("0x3b8")]=x||{};var t={};return t[_0x37ca("0xddf")]=x[_0x37ca("0xddf")]||12,t[_0x37ca("0xdde")]=x[_0x37ca("0xdde")]||_0x37ca("0xcd1"),t[_0x37ca("0xde0")]=x[_0x37ca("0xde0")]||_0x37ca("0xdbc"),t.alpha=x.alpha||1,t[_0x37ca("0xd50")]=x[_0x37ca("0xd51")]||_0x37ca("0x172"),t[_0x37ca("0x49c")]=x[_0x37ca("0xf34")]||32,t[_0x37ca("0xde1")]=x[_0x37ca("0x1")](_0x37ca("0xde1"))?x[_0x37ca("0xde1")]:2,t[_0x37ca("0xe42")]=x[_0x37ca("0xe42")]||0,t[_0x37ca("0xe3e")]=x[_0x37ca("0xe3e")]||0,t.lineheight=x[_0x37ca("0xe3d")]||4,t[_0x37ca("0xf35")]=x[_0x37ca("0xf35")]||"3,3",t[_0x37ca("0x909")]=x.shadowColor||"0,0,0,1",t[_0x37ca("0x90d")]=x[_0x37ca("0x90d")]||1,t[_0x37ca("0xe4b")]=x.shadow||0,c[_0x37ca("0xf36")]=t,isNaN(t[_0x37ca("0x49c")])||(t[_0x37ca("0x49c")]={w:t[_0x37ca("0x49c")],h:t[_0x37ca("0x49c")]}),c[_0x37ca("0xf37")]=[],c[_0x37ca("0xef2")](),c}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0xe7c"),value:function(x){var a=this,c=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this.glowSprite&&(this.glowSprite.material[_0x37ca("0xa8")](),c[_0x37ca("0x62")](_0x37ca("0x119"),this[_0x37ca("0x288")][_0x37ca("0xe7f")]),this.o3d_[_0x37ca("0x147")](this[_0x37ca("0x288")]),this[_0x37ca("0x288")]=null);var _=new(THREE[_0x37ca("0x291")]),e=Math[_0x37ca("0x30d")](this[_0x37ca("0xf36")].imagesize.w,this.style_[_0x37ca("0x49c")].h),t=(new(THREE[_0x37ca("0x13f")]))[_0x37ca("0x140")]("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC"),i=new(s[_0x37ca("0xe")])({aoTexture:t,colorStr:x[_0x37ca("0xe72")],glowOpacity:x[_0x37ca("0xf38")]}),n=function(x){if(a[_0x37ca("0xa5")]){var c=a[_0x37ca("0xa5")][_0x37ca("0x22e")].x/a.o3d_[_0x37ca("0x22e")].y,t=e/390;c!=_.scale.y&&_[_0x37ca("0x22e")][_0x37ca("0x11d")](1*t,c*t,1),i[_0x37ca("0x578")](x)}};c.on(_0x37ca("0x119"),n),_[_0x37ca("0xe7f")]=n,_.material=i[_0x37ca("0xa9")],_[_0x37ca("0xa9")].needsUpdate=!0,_[_0x37ca("0x127")]=this[_0x37ca("0xa5")].renderOrder-1,_[_0x37ca("0xa9")][_0x37ca("0x124")]=!1,this[_0x37ca("0x288")]=_,this.o3d_.add(_)}},{key:_0x37ca("0xf39"),value:function(){this[_0x37ca("0x288")]&&(this[_0x37ca("0x288")].material[_0x37ca("0xa8")](),map.off("update",this[_0x37ca("0x288")][_0x37ca("0xe7f")]),this.o3d_[_0x37ca("0x147")](this[_0x37ca("0x288")]),this[_0x37ca("0x288")]=null)}},{key:"glow",value:function(x){var a=arguments[_0x37ca("0x4")]>1&&void 0!==arguments[1]?arguments[1]:.8;this[_0x37ca("0x220")]?this[_0x37ca("0xe7c")]({glowColor:x,glowOpacity:a}):this[_0x37ca("0xf37")].push(this[_0x37ca("0xe7c")].bind(this,{glowColor:x,glowOpacity:a}))}},{key:_0x37ca("0xefd"),value:function(x){this.oc||(this.oc=this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")]);var a=new THREE.Color(x);this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x13c")]=a}},{key:_0x37ca("0x287"),value:function(){this[_0x37ca("0xf39")]()}},{key:_0x37ca("0xef2"),value:function(){var x=this,a=(0,r[_0x37ca("0x16")])(x.opts_,_0x37ca("0x39"),esmap[_0x37ca("0x34")][_0x37ca("0x35")]);a[_0x37ca("0x14c")];x[_0x37ca("0x220")]=!1,x[_0x37ca("0x39")]=a,x.x_=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],"x",a[_0x37ca("0xe5")].x),x.y_=(0,r[_0x37ca("0x16")])(x.opts_,"y",a[_0x37ca("0xe5")].y),x.z_=(0,r[_0x37ca("0x16")])(x.opts_,"height",6),x[_0x37ca("0xef")]=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0xef"),a.id),x[_0x37ca("0xef8")]=(0,r[_0x37ca("0x16")])(x.opts_,_0x37ca("0x1aa"),"模拟文本")+"",x.id_=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],"id",_0x37ca("0xf3a")+(new Date)[_0x37ca("0x78")]()),x[_0x37ca("0xf3b")]=(0,r.getValue)(x.opts_,"image",""),x[_0x37ca("0xf3c")]=(0,r.getValue)(x.opts_,_0x37ca("0x22e"),1),x.text_=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0xf3d"),null),null==x.text_&&(x[_0x37ca("0xf3e")]=x[_0x37ca("0xef8")]),x[_0x37ca("0xe24")]=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0xe68"),!0),x[_0x37ca("0xf3f")]=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0x252"),90),x[_0x37ca("0xa7d")]=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0x123"),!1),x.pickPriority_=(0,r.getValue)(this[_0x37ca("0x3b8")],_0x37ca("0xf40"),!1);var c=a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building?20:12;x[_0x37ca("0xe20")]=(0,r[_0x37ca("0x16")])(x[_0x37ca("0x3b8")],_0x37ca("0x223"),c),x.o3d_[_0x37ca("0xe9e")]=!1,x[_0x37ca("0xef7")]=(0,r[_0x37ca("0x16")])(x.opts_,_0x37ca("0xe5"),null);var _=a[_0x37ca("0xaa3")]({x:this.x_,y:this.y_});this.x_=_.x,this.y_=_.y,x[_0x37ca("0xa5")]=new(esmap[_0x37ca("0x289")])(a[_0x37ca("0x236")],{oid:x[_0x37ca("0xeff")],vertex:[x.x_,x.y_],invisible:!0,name:x[_0x37ca("0xf3e")],w:x[_0x37ca("0xf36")][_0x37ca("0x49c")].w,h:x[_0x37ca("0xf36")].imagesize.h,spritify:x.spritify_,image:x.img_,callback:function(c){if(x.o3d_=c,c[_0x37ca("0xa9")]){c[_0x37ca("0xa4")]=x;var _=a[_0x37ca("0x181")]({x:x.x_,y:x.y_});c[_0x37ca("0xb8")][_0x37ca("0x11d")](_.x,x.z_,_.z),x.seeThrough_&&(c[_0x37ca("0xa9")][_0x37ca("0x28f")]=!1),c[_0x37ca("0xed")]=!0,c.material[_0x37ca("0xed")]=!0,c.forceVisible_=!0,x.opts_[_0x37ca("0xe5")]?c[_0x37ca("0xe5")].set(x[_0x37ca("0x3b8")][_0x37ca("0xe5")].x,x[_0x37ca("0x3b8")][_0x37ca("0xe5")].y):c[_0x37ca("0xe5")][_0x37ca("0x11d")](.5,0),x.opts_[_0x37ca("0x1c7")]&&x[_0x37ca("0x3b8")][_0x37ca("0x1c7")](x),x[_0x37ca("0x220")]=!0,c[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x598")],x.seeThrough_&&(c[_0x37ca("0xa9")][_0x37ca("0x28f")]=!1,c.renderOrder=100),x[_0x37ca("0xf37")][_0x37ca("0x1f")]((function(x){x()}))}},ShowLevel:x[_0x37ca("0xe20")],isMarker:!0,scale:x[_0x37ca("0xf3c")]},x[_0x37ca("0xf36")]),x[_0x37ca("0xa5")][_0x37ca("0x1b3")]=x.z_}},{key:_0x37ca("0x263"),value:function(x){this[_0x37ca("0xa5")][_0x37ca("0x263")](x)}},{key:_0x37ca("0xe5a"),value:function(){this[_0x37ca("0xa5")].stopJump()}},{key:_0x37ca("0x690"),value:function(x){var a=this,c=a[_0x37ca("0xa5")][_0x37ca("0xe26")],_=a[_0x37ca("0xa5")][_0x37ca("0xe15")],e=.3;x instanceof Object?(c=x[_0x37ca("0x398")],_=x[_0x37ca("0x1a8")],e=x.hasOwnProperty("time")?x[_0x37ca("0x1ba")]:e):(c=x,_=x),a.setSizeAnimId&&a[_0x37ca("0xefe")][_0x37ca("0x1bc")]();var t=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(a[_0x37ca("0xa5")]).to({width_:c,height_:_},1e3*e).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].InOut)[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]();a[_0x37ca("0xefe")]=t}},{key:_0x37ca("0x265"),value:function(x){return this.o3d_[_0x37ca("0x265")](x)}},{key:"stopFlash",value:function(){this[_0x37ca("0xa5")][_0x37ca("0x266")]()}},{key:_0x37ca("0x250"),value:function(x){this[_0x37ca("0x220")]?this.o3d_&&this[_0x37ca("0xa5")][_0x37ca("0x250")](x):this[_0x37ca("0xf37")][_0x37ca("0x0")](this[_0x37ca("0xa5")][_0x37ca("0x250")][_0x37ca("0x10")](this[_0x37ca("0xa5")],x))}},{key:_0x37ca("0xf3d"),get:function(){return this.text_||this[_0x37ca("0xef8")]},set:function(x){var a=this,c=function(){a.o3d_[_0x37ca("0xf41")](x),a.opts_=a[_0x37ca("0x3b8")]||{},a.opts_[_0x37ca("0xf3d")]=x,a[_0x37ca("0xf3e")]=x};this[_0x37ca("0x220")]?c():this[_0x37ca("0xf37")][_0x37ca("0x0")](c)}},{key:_0x37ca("0x1aa"),get:function(){if(this[_0x37ca("0x3b8")]&&this[_0x37ca("0x3b8")][_0x37ca("0x1aa")])return this[_0x37ca("0x3b8")][_0x37ca("0x1aa")]},set:function(x){this.opts_.name=x}},{key:"center",set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xe5")][_0x37ca("0x11d")](x.x,x.y)}},{key:"fontsize",get:function(){if(this.style_&&this[_0x37ca("0xf36")].fontsize)return this.style_.fontsize},set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xe57")](x),this[_0x37ca("0xf36")]=this.style_||{},this[_0x37ca("0xf36")][_0x37ca("0xddf")]=x}},{key:_0x37ca("0x4a"),get:function(){return this[_0x37ca("0x3b8")][_0x37ca("0x497")]},set:function(x){this[_0x37ca("0x3b8")][_0x37ca("0x497")]=x,this[_0x37ca("0xa5")][_0x37ca("0x17b")][_0x37ca("0x497")]=x,this[_0x37ca("0xa5")][_0x37ca("0xc31")]()}},{key:_0x37ca("0xdde"),get:function(){if(this[_0x37ca("0xf36")]&&this[_0x37ca("0xf36")][_0x37ca("0xdde")])return this.style_.fillcolor},set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xe58")](x),this[_0x37ca("0xf36")]=this[_0x37ca("0xf36")]||{},this[_0x37ca("0xf36")][_0x37ca("0xdde")]=x}},{key:_0x37ca("0xde0"),get:function(){if(this[_0x37ca("0xf36")]&&this[_0x37ca("0xf36")][_0x37ca("0xde0")])return this.style_[_0x37ca("0xde0")]},set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xe59")](x),this[_0x37ca("0xf36")]=this[_0x37ca("0xf36")]||{},this[_0x37ca("0xf36")][_0x37ca("0xde0")]=x}},{key:_0x37ca("0x24"),get:function(){return this.style_}},{key:_0x37ca("0xed"),get:function(){return this[_0x37ca("0xe9e")]},set:function(x){this[_0x37ca("0xa5")]&&(this[_0x37ca("0xa5")].forceVisible_=x,this[_0x37ca("0xa5")].visible=x)}},{key:"ID",get:function(){return this[_0x37ca("0xeff")]}}]),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=l},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(x){function a(x,c){(0,e[_0x37ca("0xe")])(this,a);var t=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a)).call(this,0,c,new(THREE[_0x37ca("0x14a")]),x));return t[_0x37ca("0x14e")]=new(esmap[_0x37ca("0x5c7")])(t[_0x37ca("0xa5")]),t}return(0,n[_0x37ca("0xe")])(a,x),(0,t.default)(a,[{key:_0x37ca("0xf42"),value:function(x){var a=x[_0x37ca("0xf2")],c=[][_0x37ca("0x15")](x[_0x37ca("0x1aa")]),_=[][_0x37ca("0x15")](x[_0x37ca("0x22a")]),e=[];this[_0x37ca("0x9e9")][_0x37ca("0x1f")]((function(x){x.name&&c.includes(x[_0x37ca("0x1aa")])&&e[_0x37ca("0x0")](x),x[_0x37ca("0x608")]&&_[_0x37ca("0xcd")](x[_0x37ca("0x608")])&&e[_0x37ca("0x0")](x)})),e[_0x37ca("0x1f")]((function(x){x.visible=a}))}},{key:_0x37ca("0xe98"),value:function(x){this[_0x37ca("0x14e")].addLayer(x)}},{key:"getOrCreateLayerByName",value:function(x,a){return this[_0x37ca("0x14e")][_0x37ca("0x192")](x,a)}},{key:_0x37ca("0x193"),value:function(x,a){return this[_0x37ca("0x14e")][_0x37ca("0x193")](x,a)}},{key:"getLayersByNames",value:function(x,a){return this[_0x37ca("0x14e")][_0x37ca("0x194")](x,a)}},{key:_0x37ca("0x920"),value:function(x,a){return this[_0x37ca("0x14e")][_0x37ca("0x920")](x,a)}},{key:_0x37ca("0xf43"),value:function(x){return this[_0x37ca("0x14e")][_0x37ca("0xf43")](x)}},{key:_0x37ca("0xf44"),value:function(x){this[_0x37ca("0x14e")][_0x37ca("0xf44")](x)}},{key:_0x37ca("0xf45"),value:function(x){this[_0x37ca("0x14e")].removeLayersByTypes(x)}},{key:_0x37ca("0xf46"),value:function(x){this.layerManager[_0x37ca("0xf46")](x)}},{key:"applyHeatMap",value:function(x){x&&this.data_[_0x37ca("0x48f")]&&x[_0x37ca("0x916")](this[_0x37ca("0x17b")][_0x37ca("0x48f")])}},{key:"removeHeatMap",value:function(x){x&&this.data_[_0x37ca("0x48f")]&&x[_0x37ca("0x925")](this[_0x37ca("0x17b")][_0x37ca("0x48f")])}},{key:"traverse",value:function(x){this.layerManager[_0x37ca("0xb6")](x)}},{key:"FloorNum",get:function(){return this.data_[_0x37ca("0x48f")]}},{key:_0x37ca("0xf47"),get:function(){return this[_0x37ca("0x17b")][_0x37ca("0x493")]}},{key:_0x37ca("0xf48"),get:function(){return this.data_[_0x37ca("0x1aa")]}},{key:_0x37ca("0xf49"),get:function(){return this.data_[_0x37ca("0x491")]}},{key:_0x37ca("0xf4a"),get:function(){return this[_0x37ca("0x17b")].Alias}},{key:_0x37ca("0x3ba"),get:function(){return new(esmap[_0x37ca("0x3bb")])(this[_0x37ca("0x14c")][_0x37ca("0x39")][_0x37ca("0xe5")].x,this.mapScene.map.center.y,this.o3d_[_0x37ca("0xe97")][_0x37ca("0x491")])}},{key:_0x37ca("0x9e9"),get:function(){return this[_0x37ca("0x14e")][_0x37ca("0x9e9")]}},{key:"bid",get:function(){return this[_0x37ca("0xbb")].id}}]),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=c(11);function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0xa5")]=a}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xe98"),value:function(x){!x instanceof esmap.ESLayer?console[_0x37ca("0x3eb")](_0x37ca("0xf4b")):this[_0x37ca("0xa5")][_0x37ca("0xe0")](x[_0x37ca("0xa5")])}},{key:"getOrCreateLayerByName",value:function(x,a){var c=this.getLayersByNames(x);if(0==c[_0x37ca("0x4")]){switch(a){case _0x37ca("0x597"):c=new(esmap[_0x37ca("0x16b")])(esmap.ESLayerType[_0x37ca("0xa9d")]);break;case"textMarker":c=new esmap.ESLayer(esmap.ESLayerType[_0x37ca("0xa9e")]);break;case"polygonMarker":c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0xa2d")]);break;case"storeImage":c=new(esmap[_0x37ca("0x16b")])(esmap.ESLayerType[_0x37ca("0xf4c")]);case _0x37ca("0x3e4"):c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x217")]);break;case _0x37ca("0x219"):c=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0x622")]);break;case _0x37ca("0x592"):c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x9ec")]);break;case _0x37ca("0x591"):c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0xed7")]);break;case _0x37ca("0xf4d"):c=new(esmap[_0x37ca("0x16b")])(esmap.ESLayerType[_0x37ca("0xf4e")]);break;case _0x37ca("0xf4f"):c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0xf50")]);break;case"cardMarker":c=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0xf51")]);break;case"lineMarker":c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")].LINE_MARKER)}c[_0x37ca("0x1aa")]=x,this[_0x37ca("0xe98")](c)}else c=c[0];return c}},{key:_0x37ca("0x193"),value:function(x,a){x=[][_0x37ca("0x15")](x);for(var c=!1,_=[],e=0;e<this[_0x37ca("0x9e9")][_0x37ca("0x4")];e++){var t=this[_0x37ca("0x9e9")][e];if(t._type_&&x.indexOf(t[_0x37ca("0x608")])>-1&&(a&&(c=a(t,t[_0x37ca("0x608")])),_.push(t)),c)return 0==_.length?null:1==_[_0x37ca("0x4")]?_[0]:_}return _}},{key:_0x37ca("0x194"),value:function(x,a){x=[][_0x37ca("0x15")](x);for(var c=[],_=0;_<this[_0x37ca("0x9e9")][_0x37ca("0x4")];_++){var e=this.layers[_];e[_0x37ca("0x1aa")]&&x[_0x37ca("0xda")](e[_0x37ca("0x1aa")])>-1&&(a&&a(e,e.name)&&_--,c.push(e))}return c}},{key:"getObjectsByAlias",value:function(x,a){var c=[];return this[_0x37ca("0x193")](x,(function(x){if(null!=a)for(var _=x[_0x37ca("0xa5")][_0x37ca("0xa6")],e=0;e<_;e++)a(x[_0x37ca("0xa5")].children[e])&&c[_0x37ca("0x0")](x[_0x37ca("0xa5")][_0x37ca("0xa6")][e]);else c[_0x37ca("0x0")][_0x37ca("0x3")](c,x[_0x37ca("0xa5")].children)})),c}},{key:_0x37ca("0xf43"),value:function(x){var a=this[_0x37ca("0x193")](x);return a?a[_0x37ca("0x4")]?a[0]:a:null}},{key:_0x37ca("0xf44"),value:function(x){x[_0x37ca("0xa5")][_0x37ca("0xed")]=!1;for(var a=0;x.o3d_[_0x37ca("0xa6")][_0x37ca("0x4")]>a;){var c=x[_0x37ca("0xa5")][_0x37ca("0xa6")][a];c.em&&c.em[_0x37ca("0xa8")]?c.em.dispose():a++}this[_0x37ca("0xa5")][_0x37ca("0x147")](x[_0x37ca("0xa5")])}},{key:"removeLayersByTypes",value:function(x){for(var a=[][_0x37ca("0x15")](x),c=0;c<this[_0x37ca("0x9e9")].length;c++){var _=this[_0x37ca("0x9e9")][c];if(_[_0x37ca("0x608")]&&(0,t.exitInArray)(a,_[_0x37ca("0x608")])){_.o3d_[_0x37ca("0xed")]=!1;for(var e=0;_[_0x37ca("0xa5")][_0x37ca("0xa6")].length>e;){var i=_[_0x37ca("0xa5")][_0x37ca("0xa6")][e];i.em&&i.em.dispose?i.em[_0x37ca("0xa8")]():e++}this.o3d_[_0x37ca("0x147")](_.o3d_),c--}}}},{key:"removeLayersByNames",value:function(x){for(var a=[][_0x37ca("0x15")](x),c=0;c<this[_0x37ca("0x9e9")][_0x37ca("0x4")];c++){var _=this[_0x37ca("0x9e9")][c];if(_[_0x37ca("0x1aa")]&&(0,t[_0x37ca("0xc0")])(a,_[_0x37ca("0x1aa")])){_[_0x37ca("0xa5")].visible=!1;for(var e=0;_[_0x37ca("0xa5")].children[_0x37ca("0x4")]>e;){var i=_[_0x37ca("0xa5")][_0x37ca("0xa6")][e];i.em&&i.em[_0x37ca("0xa8")]?i.em[_0x37ca("0xa8")]():e++}this.o3d_[_0x37ca("0x147")](_[_0x37ca("0xa5")]),c--}}}},{key:_0x37ca("0xf52"),value:function(x){x&&this[_0x37ca("0x17b")][_0x37ca("0x48f")]&&x[_0x37ca("0x916")](this)}},{key:_0x37ca("0xf53"),value:function(x){x&&this.data_[_0x37ca("0x48f")]&&x.disposeHeatMap(this[_0x37ca("0x17b")][_0x37ca("0x48f")])}},{key:_0x37ca("0xb6"),value:function(x){return this.traverse_(x,this[_0x37ca("0xa5")],!1)}},{key:_0x37ca("0xf54"),value:function(x,a,c){if(a.datas_&&(c=x(a[_0x37ca("0xa4")])),c)return!0;for(var _=0;_<a.children[_0x37ca("0x4")];_++){if(this[_0x37ca("0xf54")](x,a[_0x37ca("0xa6")][_],c))return!0}}},{key:_0x37ca("0x3ba"),get:function(){return new(esmap[_0x37ca("0x3bb")])(-this[_0x37ca("0x14c")].sceneX_,this.mapScene[_0x37ca("0x19b")],this.o3d_[_0x37ca("0xe97")][_0x37ca("0x491")])}},{key:_0x37ca("0x9e9"),get:function(){for(var x=[],a=0;a<this.o3d_[_0x37ca("0xa6")][_0x37ca("0x4")];a++){var c=this[_0x37ca("0xa5")][_0x37ca("0xa6")][a].datas_;c&&x.push(c)}return x}}]),x}();a.default=n},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=r(c(4)),e=r(c(0)),t=r(c(1)),i=r(c(5)),n=r(c(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=0,o=function(x){function a(x,c){(0,e[_0x37ca("0xe")])(this,a);var t=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a)).call(this,0,c,new THREE.Object3D));switch(t[_0x37ca("0x608")]=x||esmap[_0x37ca("0x16c")][_0x37ca("0xa9a")],t[_0x37ca("0x1aa")]="",x){case esmap[_0x37ca("0x16c")][_0x37ca("0xa9d")]:case esmap[_0x37ca("0x16c")][_0x37ca("0xa9e")]:t[_0x37ca("0xa5")][_0x37ca("0x16e")]=new(esmap[_0x37ca("0x16f")]),t[_0x37ca("0xe9d")]=!1;break;case esmap[_0x37ca("0x16c")].MODEL:break;case esmap.ESLayerType.FLOOR_BASE:case esmap[_0x37ca("0x16c")][_0x37ca("0x170")]:case esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]:t.requireCollide_=!0;case esmap[_0x37ca("0x16c")][_0x37ca("0xf51")]:}if(t[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")].TEXT_MARKER||t[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0xa9d")]||t[_0x37ca("0x608")]==esmap[_0x37ca("0x16c")][_0x37ca("0x16d")]||t[_0x37ca("0x608")]==esmap.ESLayerType[_0x37ca("0x170")]){var n=esmap[_0x37ca("0x34")][_0x37ca("0x35")];n.on(_0x37ca("0x119"),(function(){if("3D"!=n[_0x37ca("0xac6")])t[_0x37ca("0xa5")][_0x37ca("0xb8")].y=.2;else{var x=n[_0x37ca("0x275")].getPolarAngle();t[_0x37ca("0xa5")][_0x37ca("0xb8")].y=x<=.11689?.2:0}}))}return t.viewRadius=null,t}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0x27e"),value:function(){this.requireCollide_=!0}},{key:_0x37ca("0xf55"),value:function(){this.requireCollide_=!1}},{key:"addMarker",value:function(x){var a=esmap[_0x37ca("0x34")].instance,c=x,_=this;if(this.checkType(c[_0x37ca("0xc8")]))switch(c[_0x37ca("0xc8")]){case esmap.ESNodeType.IMAGE_MARKER:var e=c.bid;this[_0x37ca("0xa5")][_0x37ca("0xe0")](c.o3d_),a.mapPicker.addObject(c[_0x37ca("0xa5")],e||_0x37ca("0xf7"));break;case esmap[_0x37ca("0xe8")][_0x37ca("0xa9e")]:e=c.bid;this[_0x37ca("0xa5")][_0x37ca("0xe0")](c.o3d_),a.mapPicker[_0x37ca("0x183")](c[_0x37ca("0xa5")],e||_0x37ca("0xf7"));break;case esmap[_0x37ca("0xe8")][_0x37ca("0xf51")]:this[_0x37ca("0xa5")][_0x37ca("0xe0")](c.o3d_),a[_0x37ca("0x182")].addObject(c.o3d_,e||_0x37ca("0xf7"));break;case esmap[_0x37ca("0xe8")][_0x37ca("0x217")]:var t=a[_0x37ca("0xaa2")]()[_0x37ca("0x14f")],i=!1;if(a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building&&(a.mapService[_0x37ca("0x603")]("sk")&&a.options.editMode||(a[_0x37ca("0x163")][_0x37ca("0x603")]("ul")>>1&1||0)<1&&(console.info(esmap[_0x37ca("0x29e")][_0x37ca("0xf56")]),i=!0)),i&&!a[_0x37ca("0x163")][_0x37ca("0xabc")])return void console.info(esmap.ESInfo[_0x37ca("0xf56")]);_.loadManger=t,_.load3dmarker(c,_),_[_0x37ca("0xf57")][_0x37ca("0x27f")]=!1,s++;break;case esmap.ESNodeType[_0x37ca("0xf4e")]:this[_0x37ca("0xa5")][_0x37ca("0xe0")](c.o3d_),a[_0x37ca("0x182")][_0x37ca("0x183")](c[_0x37ca("0xa5")]);break;case esmap.ESNodeType[_0x37ca("0xa2d")]:this[_0x37ca("0xa5")][_0x37ca("0xe0")](c[_0x37ca("0xa5")]);break;case esmap.ESNodeType.BOARD_MARKER:if((a[_0x37ca("0x163")].sourceData.o1||0)<=1)return;this[_0x37ca("0xa5")].add(c),c.datas_={name:_0x37ca("0xf58"),nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xf50")]},a.on(_0x37ca("0x119"),(function(){c[_0x37ca("0x24f")]()}))}else console.info(_0x37ca("0xf59"));c._init_&&c[_0x37ca("0xf5a")]()}},{key:_0x37ca("0xf5b"),value:function(){var x=this[_0x37ca("0xa5")][_0x37ca("0x3c5")];this[_0x37ca("0xf57")].userModelLoadStatus[x]=!0}},{key:_0x37ca("0xbfb"),value:function(){var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")].mapService[_0x37ca("0xc8e")]||0;return s>x||0==x}},{key:_0x37ca("0xf5c"),value:function(x,a){var c=a[_0x37ca("0xa5")][_0x37ca("0x3c5")];this[_0x37ca("0xf57")].addUserModel({data:x[_0x37ca("0x34f")],model:x[_0x37ca("0x219")],name:x[_0x37ca("0x1aa")],scale:x.scale,rotation:x[_0x37ca("0x252")],merge:x[_0x37ca("0xc1")],layerid:c,url:x.url,seeThrough:x[_0x37ca("0x123")],showLevel:x[_0x37ca("0x223")],position:x.position,parent:a.o3d_,marker:x,id:x.ID,bclick:x[_0x37ca("0xf5d")]||!1,spritify:x[_0x37ca("0xe68")],onError:x[_0x37ca("0xf5e")],callback:x.callback})}},{key:_0x37ca("0xf5f"),value:function(x){for(var a=this[_0x37ca("0xa5")][_0x37ca("0xa6")],c=esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x275")].target,_=0;_<a[_0x37ca("0x4")];_++){var e=a[_];e[_0x37ca("0xb8")][_0x37ca("0xdf")](c)>x?(e[_0x37ca("0xe9e")]=!1,e[_0x37ca("0xed")]=!1):(e[_0x37ca("0xe9e")]=!0,e[_0x37ca("0xed")]=!0)}}},{key:_0x37ca("0xf60"),value:function(x){var a=this,c=x[_0x37ca("0xefb")],_=x[_0x37ca("0xf2")],e=(this.o3d_[_0x37ca("0xa6")],c),t=esmap[_0x37ca("0x34")][_0x37ca("0x35")],i=!1;this[_0x37ca("0xefc")]=_,this[_0x37ca("0xefb")]=c,t.on(_0x37ca("0x12d"),(function(x){x>=e?1!=i&&(i=!0,a[_0x37ca("0xf5f")](_)):0!=i&&(i=!1,a[_0x37ca("0xf5f")](1/0))}));var n=null;t.on(_0x37ca("0x155"),(function(){if(t[_0x37ca("0x156")]>=e&&(i||(i=!0)),i){var x=t[_0x37ca("0x275")][_0x37ca("0x276")],c={x:1*x.x[_0x37ca("0x60a")](1),y:1*x.z.toFixed(1)};n&&n.x==c.x&&n.y==c.y||a.checkViewRadius(_),n=c}}))}},{key:_0x37ca("0xf61"),value:function(x){var a=this._type_,c=null;for(var _ in esmap[_0x37ca("0x16c")])if(esmap[_0x37ca("0x16c")][_]==a){c=_;break}return esmap[_0x37ca("0xe8")][c]==x||(console.info(_0x37ca("0xf62")),!1)}},{key:_0x37ca("0xe0"),value:function(x){this.o3d_[_0x37ca("0xe0")](x.o3d_)}},{key:_0x37ca("0x147"),value:function(x){x.dispose()}},{key:_0x37ca("0x825"),value:function(){for(var x=0;this.o3d_.children[_0x37ca("0x4")]>x;){var a=this[_0x37ca("0xa5")][_0x37ca("0xa6")][x];a[_0x37ca("0xa4")]&&a.datas_[_0x37ca("0xa8")]?a[_0x37ca("0xa4")][_0x37ca("0xa8")]():x++}}},{key:_0x37ca("0xb6"),value:function(x){return this[_0x37ca("0xf54")](x,this.o3d_,!1)}},{key:_0x37ca("0xf54"),value:function(x,a,c){if(a.datas_&&(c=x(a.datas_)),c)return!0;for(var _=0;_<a[_0x37ca("0xa6")][_0x37ca("0x4")];_++){if(this.traverse_(x,a.children[_],c))return!0}}},{key:"loadqueue",get:function(){return esmap[_0x37ca("0x34")][_0x37ca("0x35")][_0x37ca("0x14c")].loadqueue}}]),a}(esmap[_0x37ca("0x5c2")]);a[_0x37ca("0xe")]=o},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=t(c(2)),e=t(c(0));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}a[_0x37ca("0xe")]=function x(a){(0,e[_0x37ca("0xe")])(this,x);var c=esmap[_0x37ca("0x7b")][_0x37ca("0x20e")]()[_0x37ca("0x20f")];(0,_[_0x37ca("0xe")])(this,a),this[_0x37ca("0x576")]=a&&a[_0x37ca("0x576")]?a[_0x37ca("0x576")]:c?esmap.EScontrolSize[_0x37ca("0xf63")]:esmap[_0x37ca("0xf64")][_0x37ca("0xf65")],this.position=a&&a[_0x37ca("0xb8")]?a[_0x37ca("0xb8")]:null,this[_0x37ca("0xf66")]=a&&a[_0x37ca("0xf66")]?a.allLayer:null,this[_0x37ca("0x137")]=a&&a.offset?a[_0x37ca("0x137")]:c?new(esmap[_0x37ca("0xf67")])(20,50):new(esmap[_0x37ca("0xf67")])(10,10),this[_0x37ca("0xf68")]=a&&a[_0x37ca("0xf68")]?a.imgURL:"image/wedgets/",this[_0x37ca("0xf69")]=a&&a[_0x37ca("0x1")](_0x37ca("0xf69"))?a[_0x37ca("0xf69")]:10}},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _,e=c(0),t=(_=e)&&_[_0x37ca("0xb")]?_:{default:_};a.default=function x(a,c){(0,t.default)(this,x),this.x=a||0,this.y=c||0}},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=r(c(2)),e=r(c(0)),t=r(c(1)),i=c(19),n=c(70);function r(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var s=function(){function x(a,c){var t=this;(0,e[_0x37ca("0xe")])(this,x),this[_0x37ca("0x39")]=a,this.timer2=null,this.taped=!1,this[_0x37ca("0xf6a")]={},this[_0x37ca("0xf6b")]=!1,this[_0x37ca("0xf6c")]=!1,this[_0x37ca("0xf6d")]=!1,this.building=null;var i=new(esmap[_0x37ca("0x5c8")])(c);((0,_.default)(i,{scale:null,textColor:"#252c41",toggleColor:_0x37ca("0xf6e"),bgColor:_0x37ca("0xf6f"),focusTextColor:_0x37ca("0xf6f"),focusBgColor:"#1F6ED4",showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this[_0x37ca("0x39")][_0x37ca("0x37")]!=esmap[_0x37ca("0x3c")][_0x37ca("0x3d")],viewModeBtn:this[_0x37ca("0x39")].mode!=esmap[_0x37ca("0x3c")][_0x37ca("0x3d")],expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0},c),i[_0x37ca("0xb8")]=i[_0x37ca("0xb8")]||2,i.showBtnCount>5&&(i.showBtnCount=5),this.configs=i,this[_0x37ca("0x20f")]=esmap[_0x37ca("0x7b")].getPlatform()[_0x37ca("0x20f")],this[_0x37ca("0x173")]=20,this.left=10,this[_0x37ca("0x174")]=10,this[_0x37ca("0xf70")]=!1,this.expanded=!1,a.on("preCloseBuilding",(function(){t[_0x37ca("0xa8")]()})),a.on(_0x37ca("0xa99"),(function(x){if(2==x[_0x37ca("0x17d")]&&x[_0x37ca("0xef")]){var c=a.getBuildingById(x[_0x37ca("0xef")]);t.building&&t[_0x37ca("0x5b")].id==x[_0x37ca("0xef")]&&t[_0x37ca("0xf70")]?t[_0x37ca("0x119")](c):t[_0x37ca("0x5b")]||t[_0x37ca("0x119")](c)}})),a[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")])?a[_0x37ca("0x625")]()&&this.update(a[_0x37ca("0x625")]()):a.on(_0x37ca("0x9b7"),(function(x){t[_0x37ca("0x119")](x)}))}return(0,t[_0x37ca("0xe")])(x,[{key:"update",value:function(x){var a=this[_0x37ca("0x3bf")];this[_0x37ca("0xf71")]&&this[_0x37ca("0x39")].mapView.rendererCss2D[_0x37ca("0x31a")].removeChild(this[_0x37ca("0xf71")]),this[_0x37ca("0x5b")]=x;var c=x[_0x37ca("0x62d")][_0x37ca("0x4")];c>=3&&a[_0x37ca("0xf72")]<3&&(a.showBtnCount=3),c<a[_0x37ca("0xf72")]&&(a[_0x37ca("0xf72")]=c),4==a[_0x37ca("0xf73")]&&(a[_0x37ca("0xf73")]=3),c<=2&&(a[_0x37ca("0xf74")]=!1);a[_0x37ca("0x576")]||(a[_0x37ca("0x576")]=this.isPC?"normal":_0x37ca("0x5b2"));var _={small:42,normal:42}[a[_0x37ca("0x576")]]||a[_0x37ca("0x576")];this.buttonSize=_,this[_0x37ca("0xea")]()}},{key:_0x37ca("0x246"),value:function(x){var a=this[_0x37ca("0x3bf")][_0x37ca("0x137")].x,c=this.configs[_0x37ca("0x137")].y,_=this[_0x37ca("0x3bf")][_0x37ca("0xb8")];switch(x.style[_0x37ca("0x173")]="unset",x.style[_0x37ca("0x172")]=_0x37ca("0xf75"),x[_0x37ca("0x24")][_0x37ca("0x174")]=_0x37ca("0xf75"),_){case 1:x[_0x37ca("0x24")].top=c+"px",x[_0x37ca("0x24")].left=a+"px";break;case 2:x[_0x37ca("0x24")][_0x37ca("0x175")]=c+"px",x[_0x37ca("0x24")][_0x37ca("0x172")]=a+"px";break;case 3:x.style[_0x37ca("0x173")]=c+"px",x.style.right=a+"px";break;case 4:x[_0x37ca("0x24")][_0x37ca("0x175")]=c+"px",x[_0x37ca("0x24")][_0x37ca("0x174")]=a+"px"}}},{key:_0x37ca("0xc31"),value:function(x){var a={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},c=[{keys:[],getStyle:function(){return _0x37ca("0xf76")+e+_0x37ca("0xf77")}},{keys:[_0x37ca("0x932"),"borderRadius"],getStyle:function(){return _0x37ca("0xf78")+e+" .layersToggle , ."+e+_0x37ca("0xf79")+e+_0x37ca("0xf7a")+i[_0x37ca("0x932")]+_0x37ca("0xf7b")+i[_0x37ca("0xcb2")]+_0x37ca("0xf7c")}},{keys:[_0x37ca("0xf7d")],getStyle:function(){return _0x37ca("0xf7e")+e+_0x37ca("0xf7f")+i[_0x37ca("0xf7d")]+_0x37ca("0xf80")}},{keys:[_0x37ca("0xf81")],getStyle:function(){return"."+e+_0x37ca("0xf82")+e+_0x37ca("0xf83")+e+_0x37ca("0xf84")+e+" .view3d, "+e+_0x37ca("0xf85")+i.toggleColor+_0x37ca("0xf86")}},{keys:[_0x37ca("0xf87"),_0x37ca("0xf88")],getStyle:function(){return"\n                    ."+e+_0x37ca("0xf89")+i[_0x37ca("0xf87")]+_0x37ca("0xf8a")+i[_0x37ca("0xf88")]+_0x37ca("0xf80")}},{keys:[_0x37ca("0xf8b")],getStyle:function(){return"\n                    ."+e+_0x37ca("0xf8c")+e+" .viewModeToggle{\n                        margin-bottom:"+i[_0x37ca("0xf8b")]+_0x37ca("0xf8d")}},{keys:[_0x37ca("0xb9d")],getStyle:function(){return _0x37ca("0xf76")+e+" .floor-item-devide{\n                        font-size: "+i.textSize+_0x37ca("0xf8d")}},{keys:[_0x37ca("0xf87")],getStyle:function(){return _0x37ca("0xf76")+e+_0x37ca("0xf8e")+i.focusBgColor+_0x37ca("0xf80")}}],e=this[_0x37ca("0xf8f")];(0,_[_0x37ca("0xe")])(this[_0x37ca("0x3bf")],x);var t=[],i=this[_0x37ca("0x3bf")];for(var n in x)if(a[n]){var r=[][_0x37ca("0x15")](a[n]);for(var s in r){var o=r[s];if(!t[_0x37ca("0xcd")](o)){var l=c[o][_0x37ca("0xf90")]();this[_0x37ca("0xf91")][_0x37ca("0xf92")](o),this[_0x37ca("0xf91")][_0x37ca("0xf93")](l,o),t[_0x37ca("0x0")](o)}}}}},{key:_0x37ca("0xf94"),value:function(x){2==x||(this.$scroller[_0x37ca("0x24")][_0x37ca("0x173")]="unset");var a=this[_0x37ca("0xf95")];this[_0x37ca("0x3bf")][_0x37ca("0xf74")]&&(this[_0x37ca("0xf96")][_0x37ca("0x24")][_0x37ca("0x1a8")]=x*a-0+"px"),this[_0x37ca("0x3bf")][_0x37ca("0xf72")]=x}},{key:_0x37ca("0xa8"),value:function(){this[_0x37ca("0xf71")]&&(this[_0x37ca("0x39")].mapView.rendererCss2D[_0x37ca("0x31a")].removeChild(this.$box),this[_0x37ca("0xf71")]=null),this[_0x37ca("0xf70")]=!0,this[_0x37ca("0x5b")]=null}},{key:_0x37ca("0xf97"),value:function(x){var a=this,c=this[_0x37ca("0xf95")];this[_0x37ca("0xf98")]={};var _=document.createElement(_0x37ca("0x38c"));_[_0x37ca("0x24")][_0x37ca("0x398")]=c+"px",_[_0x37ca("0x24")][_0x37ca("0x1a8")]=c+"px",_[_0x37ca("0x24")][_0x37ca("0xf99")]=_0x37ca("0xf9a"),_[_0x37ca("0x24")][_0x37ca("0xf9b")]=_0x37ca("0xf9c"),_.style.boxSizing=_0x37ca("0x323"),_[_0x37ca("0x39e")]=_0x37ca("0xf9d"),_[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x31f"),_.style.justifyContent=_0x37ca("0xe5"),_[_0x37ca("0x24")][_0x37ca("0xf9e")]=_0x37ca("0xf9f");var e=document[_0x37ca("0x22")](_0x37ca("0x38c"));e[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),e[_0x37ca("0x24")][_0x37ca("0x1a8")]="100%",e[_0x37ca("0x39e")]=_0x37ca("0xfa0"),e[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfa1"),e[_0x37ca("0x324")]=this[_0x37ca("0xfa2")],_[_0x37ca("0x27")](e),this[_0x37ca("0xfa3")]=e;var t=document[_0x37ca("0x22")](_0x37ca("0x38c"));t[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),t[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x31e"),t[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d"),t.innerHTML=this[_0x37ca("0xfa4")],t[_0x37ca("0x39e")]=_0x37ca("0xfa5"),this[_0x37ca("0xfa6")]=t,_[_0x37ca("0x27")](t),_.addEventListener("mousedown",(function(x){x[_0x37ca("0x370")](),x[_0x37ca("0x36f")]()})),_[_0x37ca("0x33")](_0x37ca("0x73b"),(function(x){x.stopPropagation(),x[_0x37ca("0x36f")](),a[_0x37ca("0xfa7")]()})),_[_0x37ca("0x33")](_0x37ca("0xb4f"),(function(x){a[_0x37ca("0xfa7")]()})),x.appendChild(_),this[_0x37ca("0xfa8")]=_}},{key:_0x37ca("0xfa7"),value:function(){this.buttonSize;this.expanded?(this[_0x37ca("0x5b")][_0x37ca("0xfa9")](0),this[_0x37ca("0xfa3")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfa1"),this.shrinkIcon[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d")):(this[_0x37ca("0x5b")][_0x37ca("0xfa9")](this.configs.expandSpan),this[_0x37ca("0xfa3")][_0x37ca("0x24")][_0x37ca("0x6f8")]="none",this.shrinkIcon[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfa1")),this[_0x37ca("0xfaa")]=!this[_0x37ca("0xfaa")]}},{key:_0x37ca("0xea"),value:function(){var x=this,a=this[_0x37ca("0x39")],c=this.building;this.icon2d=_0x37ca("0xfab"),this.icon3d='<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',this[_0x37ca("0xfac")]='<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>',this.iconLayers=_0x37ca("0xfad"),this[_0x37ca("0xfae")]=_0x37ca("0xfaf"),this[_0x37ca("0xfa2")]=_0x37ca("0xfb0"),this.iconShrink=_0x37ca("0xfb1"),this.iconExit=_0x37ca("0xfb2");var _=c[_0x37ca("0x62d")][_0x37ca("0x408")]((function(x,a){return x-a})),e=this.configs;e[_0x37ca("0xf74")]||(_=c[_0x37ca("0x62d")][_0x37ca("0x408")]((function(x,a){return a-x})));var t=this.buttonSize,n="F"+(0,i[_0x37ca("0x1e")])(5),r=document[_0x37ca("0x22")]("style");r[_0x37ca("0x22a")]=_0x37ca("0xfb3"),r.innerHTML="\n        ."+n+_0x37ca("0xfb4")+n+" .layersToggle , ."+n+_0x37ca("0xf79")+n+" .controlWrapper{\n            background-color: "+e[_0x37ca("0x932")]+_0x37ca("0xfb5")+e[_0x37ca("0xcb2")]+_0x37ca("0xfb6")+n+_0x37ca("0xfb7")+e[_0x37ca("0xf7d")]+_0x37ca("0xfb8")+n+_0x37ca("0xf82")+n+_0x37ca("0xf83")+n+_0x37ca("0xf84")+n+_0x37ca("0xfb9")+n+" .exit{\n            fill: "+e.toggleColor+_0x37ca("0xfb8")+n+" .floor-item.active .floor-item-devide{\n            background-color: "+e[_0x37ca("0xf87")]+_0x37ca("0xfba")+e.focusTextColor+";\n        }\n        ."+n+_0x37ca("0xf8c")+n+_0x37ca("0xfbb")+e[_0x37ca("0xf8b")]+_0x37ca("0xfbc")+n+_0x37ca("0xfbd")+e.textSize+_0x37ca("0xfbc")+n+_0x37ca("0xfbe")+e[_0x37ca("0xf87")]+_0x37ca("0xfbf"),this[_0x37ca("0xf8f")]=n,document[_0x37ca("0xfc0")]("head")[_0x37ca("0x27")](r),this[_0x37ca("0xf91")]=r.sheet;var s=document.createElement(_0x37ca("0x38c"));s[_0x37ca("0x39e")]=n,s.style[_0x37ca("0xb8")]="absolute",s[_0x37ca("0x24")][_0x37ca("0x701")]=_0x37ca("0xfc1"),s[_0x37ca("0x24")].display=_0x37ca("0xfc2"),s[_0x37ca("0x24")].boxSizing=_0x37ca("0x323"),e[_0x37ca("0x22e")]&&(s[_0x37ca("0x24")][_0x37ca("0x644")]=_0x37ca("0xfc3")+e[_0x37ca("0x22e")]+")"),s[_0x37ca("0x33")](_0x37ca("0x38e"),(function(x){x[_0x37ca("0x370")]()}));var o=document[_0x37ca("0x22")](_0x37ca("0x38c"));o[_0x37ca("0x24")][_0x37ca("0x398")]=t+"px",o[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px",o.style[_0x37ca("0xf99")]="8px",o[_0x37ca("0x24")][_0x37ca("0xf9b")]="pointer",o[_0x37ca("0x24")][_0x37ca("0xfc4")]=_0x37ca("0x323"),o[_0x37ca("0x39e")]=_0x37ca("0xf9d");var l=c[_0x37ca("0xe95")][_0x37ca("0x4")]==c[_0x37ca("0x62d")][_0x37ca("0x4")];c[_0x37ca("0x39")].mode==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?x.allFloorsState=l:2==c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xcf1")]&&(x.allFloorsState=!0);var u=document[_0x37ca("0x22")](_0x37ca("0x38c"));u.style[_0x37ca("0x398")]="100%",u[_0x37ca("0x24")].height=_0x37ca("0x31e"),u[_0x37ca("0x39e")]=_0x37ca("0x9e9"),u[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca(l?"0xfa1":"0x58d"),u[_0x37ca("0x324")]=this[_0x37ca("0xfc5")],o[_0x37ca("0x27")](u),this[_0x37ca("0xfc6")]=o,this[_0x37ca("0xfc7")]=u;var d=document[_0x37ca("0x22")]("div");d[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),d[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x31e"),d[_0x37ca("0x24")].display=l?"none":_0x37ca("0xfa1"),d[_0x37ca("0x324")]=this[_0x37ca("0xfac")],d.className="layer";var f=1==_[_0x37ca("0x4")];o[_0x37ca("0x27")](d),this[_0x37ca("0xfc8")]=d,o[_0x37ca("0x33")](_0x37ca("0x73a"),(function(x){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")]()})),o[_0x37ca("0x33")](_0x37ca("0x73b"),(function(a){x[_0x37ca("0xf6b")]||(a.preventDefault(),a.stopPropagation(),x[_0x37ca("0xfc9")](!x.allFloorsState))})),o[_0x37ca("0x33")](_0x37ca("0xb55"),(function(a){x[_0x37ca("0xf6b")]||(a[_0x37ca("0x36f")](),a[_0x37ca("0x370")]())})),o[_0x37ca("0x33")](_0x37ca("0xb4f"),(function(a){a[_0x37ca("0x36f")](),a.stopPropagation(),x[_0x37ca("0xfc9")](!x.allFloorsState)})),f&&(o.style[_0x37ca("0x6f8")]=_0x37ca("0x58d")),this[_0x37ca("0xfca")]=a[_0x37ca("0xac6")];var h=document[_0x37ca("0x22")](_0x37ca("0x38c"));h[_0x37ca("0x24")][_0x37ca("0x398")]=t+"px",h[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px",h[_0x37ca("0x24")][_0x37ca("0xf99")]=_0x37ca("0xf9a"),h[_0x37ca("0x24")].cursor=_0x37ca("0xf9c"),h[_0x37ca("0x24")][_0x37ca("0xfc4")]=_0x37ca("0x323"),h[_0x37ca("0x39e")]=_0x37ca("0xfcb");var g=this[_0x37ca("0xfca")],b=g==_0x37ca("0x173")||"2d"==g,v=document.createElement(_0x37ca("0x38c"));v[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),v[_0x37ca("0x24")][_0x37ca("0x1a8")]="100%",v[_0x37ca("0x39e")]="view2d",v.style[_0x37ca("0x6f8")]=b?_0x37ca("0xfa1"):"none",v[_0x37ca("0x324")]=this[_0x37ca("0xfcc")],h[_0x37ca("0x27")](v),this.view2d=v;var p=document[_0x37ca("0x22")](_0x37ca("0x38c"));p[_0x37ca("0x24")][_0x37ca("0x398")]="100%",p[_0x37ca("0x24")][_0x37ca("0x1a8")]="100%",p[_0x37ca("0x24")][_0x37ca("0x6f8")]=b?"none":_0x37ca("0xfa1"),p[_0x37ca("0x324")]=this[_0x37ca("0xfcd")],p[_0x37ca("0x39e")]=_0x37ca("0xfa5"),h[_0x37ca("0x27")](p),this.view3d=p,h[_0x37ca("0x33")](_0x37ca("0x73a"),(function(x){x.preventDefault(),x[_0x37ca("0x370")]()})),h[_0x37ca("0x33")]("mouseup",(function(a){x[_0x37ca("0xf6b")]||(a.preventDefault(),a.stopPropagation(),x[_0x37ca("0xfce")]())})),h[_0x37ca("0x33")]("touchstart",(function(a){x[_0x37ca("0xf6b")]||(a[_0x37ca("0x36f")](),a.stopPropagation())})),h.addEventListener(_0x37ca("0xb4f"),(function(a){a[_0x37ca("0x36f")](),a.stopPropagation(),x[_0x37ca("0xfce")]()})),e.viewModeBtn&&s[_0x37ca("0x27")](h),e.fnumToggleBtn&&s[_0x37ca("0x27")](o),!f&&e[_0x37ca("0xfcf")]&&this[_0x37ca("0xf97")](s),this.$box=s,this[_0x37ca("0x3bf")][_0x37ca("0xfd0")]&&a[_0x37ca("0x37")]===esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]&&this[_0x37ca("0xfd1")]();var A=document.createElement(_0x37ca("0x38c"));A.className=_0x37ca("0xfd2"),A[_0x37ca("0x24")].width=t+"px",A[_0x37ca("0x24")][_0x37ca("0x6db")]=_0x37ca("0x6dc"),A[_0x37ca("0x24")][_0x37ca("0xcbc")]=_0x37ca("0x58d"),A[_0x37ca("0x24")].display="flex",A[_0x37ca("0x24")].alignItems=_0x37ca("0xe5"),A[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),A[_0x37ca("0x24")][_0x37ca("0x885")]=_0x37ca("0xfd3"),A[_0x37ca("0x24")][_0x37ca("0x885")]="1111.11rem",A[_0x37ca("0x24")][_0x37ca("0xfd4")]="1111.11rem",A[_0x37ca("0x24")]["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",A[_0x37ca("0x24")][_0x37ca("0xfd5")]=_0x37ca("0xfd6"),A[_0x37ca("0x24")][_0x37ca("0xfd7")]=_0x37ca("0xe5");var m=document[_0x37ca("0x22")](_0x37ca("0x38c"));this.$scroller=m,m[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6f0"),m[_0x37ca("0x24")].width=_0x37ca("0x31e"),e.scrollMode?m[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px":(m[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x31e"),A.style[_0x37ca("0xf99")]=_0x37ca("0xfd8")),this.$controlWrapper=A,this.updateBtnCount(e[_0x37ca("0xf74")]?this[_0x37ca("0x3bf")].showBtnCount:_[_0x37ca("0x4")]),e.scrollMode&&(m[_0x37ca("0x24")][_0x37ca("0xfd9")]="preserve-3d",m[_0x37ca("0x24")]["-webkit-transform-style"]=_0x37ca("0x6de")),m[_0x37ca("0x39e")]="floor-scroller smooth";var C=0,I=5==this[_0x37ca("0x3bf")][_0x37ca("0xf72")]?2:1;_[_0x37ca("0x4")]>=3&&(I+=2);var y=Math[_0x37ca("0x30e")](360/(_.length+I),25.714);this.angleStep=y;var E=c.focusFloorNum;if(!f){var w=void 0;if(this[_0x37ca("0x3bf")].scrollMode){w=y<25.714?8*_[_0x37ca("0x4")]:3==this[_0x37ca("0x3bf")].showBtnCount?100:110;var T=document.createElement(_0x37ca("0x38c"));T.classList[_0x37ca("0xe0")](_0x37ca("0xfda")),T[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px",T[_0x37ca("0x24")][_0x37ca("0xfdb")]=t+"px",T[_0x37ca("0x24")].position=_0x37ca("0x6d9"),T[_0x37ca("0x24")][_0x37ca("0x175")]="unset",T[_0x37ca("0x24")][_0x37ca("0xfc4")]="border-box",T[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x31f"),T[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),T[_0x37ca("0x24")][_0x37ca("0x321")]="center",T[_0x37ca("0x24")][_0x37ca("0xf9b")]=_0x37ca("0xf9c"),T[_0x37ca("0x24")][_0x37ca("0x398")]=t+"px";var k=C-y;T[_0x37ca("0x24")][_0x37ca("0xfdc")]=_0x37ca("0xfdd")+k+_0x37ca("0xfde")+w+_0x37ca("0x6e3"),T[_0x37ca("0x24")][_0x37ca("0x644")]=_0x37ca("0xfdd")+k+_0x37ca("0xfde")+w+_0x37ca("0x6e3"),T.style[_0x37ca("0xfdf")]="hidden",T[_0x37ca("0x24")][_0x37ca("0xfe0")]=_0x37ca("0x6dc"),T[_0x37ca("0x24")]["-moz-backface-visibility"]=_0x37ca("0x6dc"),T.style[_0x37ca("0xfe1")]=_0x37ca("0x6dc"),T[_0x37ca("0x32b")](_0x37ca("0x252"),-y),T[_0x37ca("0x324")]=this[_0x37ca("0xfae")],T.childNodes[0][_0x37ca("0x24")][_0x37ca("0x644")]=_0x37ca("0xfe2"),T[_0x37ca("0xfe3")][0][_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0xfe4"),T.childNodes[0][_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0xfe4"),T[_0x37ca("0x33")](_0x37ca("0x73a"),(function(x){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")]()})),T[_0x37ca("0x33")](_0x37ca("0x73b"),(function(a){if(!(x[_0x37ca("0xf6c")]>1)){var c=a[_0x37ca("0xfe5")][_0x37ca("0x19d")](_0x37ca("0x252"));x[_0x37ca("0xfe6")](c),x.toggleTargetClass(c),a.stopPropagation(),a.preventDefault()}})),T[_0x37ca("0x33")](_0x37ca("0xb4f"),(function(a){if(!(x[_0x37ca("0xf6c")]>1)){var c=a.currentTarget[_0x37ca("0x19d")](_0x37ca("0x252"));x[_0x37ca("0xfe6")](c),x.toggleTargetClass(c),a[_0x37ca("0x370")](),a[_0x37ca("0x36f")]()}})),m[_0x37ca("0x27")](T)}else w=60;for(var S=0;S<_[_0x37ca("0x4")];S++){var M=_[S],R=c[_0x37ca("0x617")](M)[_0x37ca("0xf47")],L=document[_0x37ca("0x22")](_0x37ca("0x38c"));L[_0x37ca("0x39e")]=_0x37ca("0xfe7"),L[_0x37ca("0x24")][_0x37ca("0x1a8")]=t+"px",L[_0x37ca("0x24")][_0x37ca("0xfdb")]=t+"px",L.style[_0x37ca("0x175")]=_0x37ca("0xf75"),L[_0x37ca("0x24")].boxSizing=_0x37ca("0x323"),L[_0x37ca("0x24")].display=_0x37ca("0x31f"),L[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),L[_0x37ca("0x24")][_0x37ca("0x321")]=_0x37ca("0xe5"),L[_0x37ca("0x24")][_0x37ca("0xf9b")]=_0x37ca("0xf9c"),L[_0x37ca("0x24")][_0x37ca("0x398")]=t+"px",e[_0x37ca("0xf74")]&&(L[_0x37ca("0x24")][_0x37ca("0xfdc")]=_0x37ca("0xfdd")+C+"deg) translateZ("+w+_0x37ca("0x6e3"),L[_0x37ca("0x24")].transform=_0x37ca("0xfdd")+C+_0x37ca("0xfde")+w+_0x37ca("0x6e3"),L[_0x37ca("0x24")][_0x37ca("0xfdf")]="hidden",L.style[_0x37ca("0xfe0")]=_0x37ca("0x6dc"),L.style["-moz-backface-visibility"]="hidden",L[_0x37ca("0x24")][_0x37ca("0xfe1")]=_0x37ca("0x6dc"),L[_0x37ca("0x24")][_0x37ca("0xb8")]="absolute",L.setAttribute(_0x37ca("0x252"),-C)),E==M&&(this[_0x37ca("0xfe6")](-C),L[_0x37ca("0x39e")]+=_0x37ca("0xfe8")),L[_0x37ca("0x32b")](_0x37ca("0xe6"),M);var H=document[_0x37ca("0x22")](_0x37ca("0xcb5"));H[_0x37ca("0xfe9")]=R,H[_0x37ca("0x24")][_0x37ca("0xfea")]="bolder",H[_0x37ca("0x24")].width=_0x37ca("0xfeb"),H[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0xfeb"),H.style[_0x37ca("0x6f8")]="flex",H[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),H[_0x37ca("0x24")][_0x37ca("0x321")]=_0x37ca("0xe5"),H[_0x37ca("0x24")][_0x37ca("0xe6e")]=_0x37ca("0xe5"),H.style[_0x37ca("0xfdb")]=_0x37ca("0x31e"),H[_0x37ca("0x24")].whiteSpace=_0x37ca("0xfec"),H.style[_0x37ca("0xcb2")]="100%",H.style[_0x37ca("0x6db")]=_0x37ca("0x6dc"),H[_0x37ca("0x24")][_0x37ca("0x384")]=_0x37ca("0xfed"),H[_0x37ca("0x24")]["-webkit-transition"]=_0x37ca("0xfed"),H[_0x37ca("0x39e")]=_0x37ca("0xfee"),L[_0x37ca("0x27")](H),m[_0x37ca("0x27")](L),C+=y}if(e[_0x37ca("0xf74")]){var P=document[_0x37ca("0x22")](_0x37ca("0x38c"));P[_0x37ca("0x39c")].add(_0x37ca("0xfda")),P.style.height=t+"px",P[_0x37ca("0x24")][_0x37ca("0xfdb")]=t+"px",P[_0x37ca("0x24")].position=_0x37ca("0x6d9"),P[_0x37ca("0x24")][_0x37ca("0x175")]=_0x37ca("0xf75"),P[_0x37ca("0x24")][_0x37ca("0xfc4")]=_0x37ca("0x323"),P.style.display="flex",P[_0x37ca("0x24")][_0x37ca("0x320")]=_0x37ca("0xe5"),P[_0x37ca("0x24")][_0x37ca("0x321")]=_0x37ca("0xe5"),P[_0x37ca("0x24")][_0x37ca("0xf9b")]=_0x37ca("0xf9c"),P[_0x37ca("0x24")].width=t+"px",P[_0x37ca("0x24")][_0x37ca("0xfdc")]="rotateX("+C+"deg) translateZ("+w+"px)",P.style[_0x37ca("0x644")]=_0x37ca("0xfdd")+C+_0x37ca("0xfde")+w+"px)",P[_0x37ca("0x24")].backfaceVisibility=_0x37ca("0x6dc"),P[_0x37ca("0x24")][_0x37ca("0xfe0")]="hidden",P[_0x37ca("0x24")]["-moz-backface-visibility"]=_0x37ca("0x6dc"),P.style[_0x37ca("0xfe1")]="hidden",P[_0x37ca("0x32b")](_0x37ca("0x252"),-(C-2*y)),P.innerHTML=this.iconArrow,P.childNodes[0][_0x37ca("0x24")][_0x37ca("0x644")]="rotate(-90deg)",P[_0x37ca("0xfe3")][0][_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0xfe4"),P.childNodes[0][_0x37ca("0x24")][_0x37ca("0x1a8")]="40%",P[_0x37ca("0x33")]("mousedown",(function(x){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")]()})),P.addEventListener(_0x37ca("0x73b"),(function(a){if(!(x.tapCount>1)){var c=a[_0x37ca("0xfe5")].getAttribute("angle");x[_0x37ca("0xfe6")](c),x.toggleTargetClass(c),a[_0x37ca("0x370")](),a[_0x37ca("0x36f")]()}})),P[_0x37ca("0x33")](_0x37ca("0xb4f"),(function(a){if(!(x[_0x37ca("0xf6c")]>1)){var c=a[_0x37ca("0xfe5")].getAttribute(_0x37ca("0x252"));x[_0x37ca("0xfe6")](c),x[_0x37ca("0xfef")](c),a[_0x37ca("0x370")](),a[_0x37ca("0x36f")]()}})),m[_0x37ca("0x27")](P)}this[_0x37ca("0xff0")]=-1*(C-y),this[_0x37ca("0xf96")][_0x37ca("0x27")](m),s[_0x37ca("0x27")](A)}a[_0x37ca("0x154")][_0x37ca("0x319")][_0x37ca("0x31a")][_0x37ca("0x27")](s),this[_0x37ca("0x246")](s),e[_0x37ca("0xf74")]&&(A.onmousewheel=this[_0x37ca("0xff1")][_0x37ca("0x10")](this));for(var D=document[_0x37ca("0xff2")](_0x37ca("0xfe7")),O=function(a){if(x[_0x37ca("0xf6d")]=!0,!(x[_0x37ca("0xf6c")]>1)){var c=a[_0x37ca("0xfe5")];if(e[_0x37ca("0xf74")]){var _=c[_0x37ca("0x19d")](_0x37ca("0x252"));x[_0x37ca("0xfe6")](_),x.toggleTargetClass(_)}else{var t=c[_0x37ca("0x19d")](_0x37ca("0xe6"));x[_0x37ca("0xff3")](t),x[_0x37ca("0xa03")](t)}a.stopPropagation(),a[_0x37ca("0x36f")]()}},B=function(a){if(x[_0x37ca("0xf6d")]=!0,!(x.tapCount>1)){var c=a[_0x37ca("0xfe5")];if(e[_0x37ca("0xf74")]){var _=c[_0x37ca("0x19d")](_0x37ca("0x252")),t=x[_0x37ca("0xff4")];t[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x9d2"))||t.classList[_0x37ca("0xe0")](_0x37ca("0x9d2")),x.setTransformAngle(_),x[_0x37ca("0xfef")](_)}else{var i=c[_0x37ca("0x19d")]("fnum");x[_0x37ca("0xff3")](i),x[_0x37ca("0xa03")](i)}a.stopPropagation(),a[_0x37ca("0x36f")]()}},N=0;N<D[_0x37ca("0x4")];N++){var F=D[N];F[_0x37ca("0x33")](_0x37ca("0x73a"),(function(x){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")]()})),F[_0x37ca("0x33")](_0x37ca("0x73b"),O),F[_0x37ca("0x33")](_0x37ca("0xb4f"),B)}this.isPC?A[_0x37ca("0x33")](_0x37ca("0x73a"),this[_0x37ca("0xb53")][_0x37ca("0x10")](this),!1):(e[_0x37ca("0xf74")]&&(A[_0x37ca("0x33")](_0x37ca("0xb55"),this[_0x37ca("0xb81")][_0x37ca("0x10")](this),!1),A[_0x37ca("0x33")]("touchmove",this[_0x37ca("0xff5")][_0x37ca("0x10")](this),!1)),A[_0x37ca("0x33")](_0x37ca("0xb4f"),this[_0x37ca("0xff6")][_0x37ca("0x10")](this),!1)),c.on(_0x37ca("0x957"),(function(a){x[_0x37ca("0xf70")]||(x[_0x37ca("0xf6d")]?x[_0x37ca("0xf6d")]=!1:x[_0x37ca("0xff3")](a))})),a.on("viewModeChanged",(function(a){x[_0x37ca("0xf70")]||(x.triggerSkip?x[_0x37ca("0xf6d")]=!1:x[_0x37ca("0xff7")](a))})),c.on(_0x37ca("0x12c"),(function(a){x[_0x37ca("0xf70")]||(a[_0x37ca("0x4")]==c[_0x37ca("0x62d")].length?x.setAllFloorState(!0,!0):x[_0x37ca("0xfc9")](!1,!0))})),x.configs.scrollMode&&this[_0x37ca("0xff8")]()}},{key:_0x37ca("0xff8"),value:function(){if(5==this[_0x37ca("0x3bf")][_0x37ca("0xf72")]&&this[_0x37ca("0x5b")][_0x37ca("0x62d")].length>=5){var x=this[_0x37ca("0xff4")][_0x37ca("0xa6")],a=this[_0x37ca("0xff4")].querySelector(_0x37ca("0xff9")),c=Array[_0x37ca("0x11")][_0x37ca("0xda")].call(x,a),_=a[_0x37ca("0x396")](),e=[],t=(e=x[c+1]&&x[c+2]?[x[c+1],x[c+2]]:[x[c-1],x[c-2]])[0][_0x37ca("0x396")](),i=e[1].getBoundingClientRect(),n=_[_0x37ca("0x1a8")]/2+t.height+i[_0x37ca("0x1a8")];this[_0x37ca("0xf96")][_0x37ca("0x24")][_0x37ca("0x1a8")]=2*n+"px"}}},{key:_0x37ca("0xfd1"),value:function(){var x=this,a=this[_0x37ca("0xf95")],c=document.createElement(_0x37ca("0x38c"));c.style[_0x37ca("0x398")]=a+"px",c[_0x37ca("0x24")][_0x37ca("0x1a8")]=a+"px",c[_0x37ca("0x24")][_0x37ca("0xf99")]=_0x37ca("0xf9a"),c.style.cursor=_0x37ca("0xf9c"),c[_0x37ca("0x24")][_0x37ca("0xfc4")]=_0x37ca("0x323"),c[_0x37ca("0x39e")]="layersToggle";var _=document[_0x37ca("0x22")](_0x37ca("0x38c"));_[_0x37ca("0x24")][_0x37ca("0x398")]=_0x37ca("0x31e"),_[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x31e"),_[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfa1"),_[_0x37ca("0x39e")]=_0x37ca("0xa6a"),_.innerHTML=this[_0x37ca("0xffa")],c.appendChild(_),c[_0x37ca("0x33")]("mousedown",(function(x){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")]()})),c[_0x37ca("0x33")](_0x37ca("0x73b"),(function(a){a[_0x37ca("0x36f")](),a[_0x37ca("0x370")]();var c=x[_0x37ca("0x5b")];!esmap[_0x37ca("0x34")][_0x37ca("0x980")]&&c[_0x37ca("0x39")][_0x37ca("0xa65")](c.id),x[_0x37ca("0xa8")]()})),c.addEventListener(_0x37ca("0xb55"),(function(a){var c=x[_0x37ca("0x5b")];a.stopPropagation(),a.preventDefault(),!esmap.ESMap[_0x37ca("0x980")]&&c.map[_0x37ca("0xa65")](c.id),x[_0x37ca("0xa8")]()})),this[_0x37ca("0xf71")][_0x37ca("0x27")](c)}},{key:_0x37ca("0xff7"),value:function(x){"2D"==x?(this[_0x37ca("0xfa0")][_0x37ca("0x24")].display=_0x37ca("0xfa1"),this[_0x37ca("0xfa5")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d")):(this[_0x37ca("0xfa5")].style.display="inline-block",this[_0x37ca("0xfa0")][_0x37ca("0x24")][_0x37ca("0x6f8")]="none"),this[_0x37ca("0xfca")]=x}},{key:_0x37ca("0xfce"),value:function(x){var a="3D"==this[_0x37ca("0xfca")]?"2D":"3D";this[_0x37ca("0xff7")](a),this[_0x37ca("0xffb")]&&this[_0x37ca("0xfc9")](!1,!1),!x&&this.setMapViewMode(a)}},{key:_0x37ca("0xffc"),value:function(x){window[_0x37ca("0x41c")][_0x37ca("0xab6")]?esmap[_0x37ca("0xcc1")][_0x37ca("0x610")]=x:this[_0x37ca("0x39")][_0x37ca("0x610")]=x}},{key:_0x37ca("0xfc9"),value:function(x,a){var c=this[_0x37ca("0x5b")],_=this.map[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]||1==this.map[_0x37ca("0x36")].buildingFoucsMode;x!=this[_0x37ca("0xffb")]&&(x?("2D"!=this[_0x37ca("0xfca")]&&this[_0x37ca("0xfca")]!=_0x37ca("0x173")||this.setMapViewMode("3D"),_&&!a&&(c[_0x37ca("0xe95")]=c[_0x37ca("0x62d")]),this.layerImage[_0x37ca("0x24")][_0x37ca("0x6f8")]="none",this[_0x37ca("0xfc7")][_0x37ca("0x24")].display=_0x37ca("0xfa1"),this[_0x37ca("0xffb")]=!0):(_&&!a&&(c[_0x37ca("0xe95")]=[c[_0x37ca("0x91b")]]),this[_0x37ca("0xfc7")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d"),this[_0x37ca("0xfc8")][_0x37ca("0x24")].display="inline-block",this[_0x37ca("0xffb")]=!1))}},{key:"onScroll",value:function(x){window[_0x37ca("0x2e8")](this[_0x37ca("0xffd")]);var a=this,c=this[_0x37ca("0xff4")],_=0;x[_0x37ca("0xffe")]?x[_0x37ca("0xffe")]<0?_+=10:_-=10:x.detail;var e=-1*c[_0x37ca("0x24")].transform[_0x37ca("0xcf")](/[0-9]\d*/)[0],t=this.limitValue(e+_);c.style[_0x37ca("0x644")]=_0x37ca("0xfdd")+t+_0x37ca("0xfff"),this.taped||(this[_0x37ca("0x1000")]=!0),a.timer2=setTimeout((function(){a.onmouseup[_0x37ca("0x6")](a)}),300)}},{key:_0x37ca("0x1001"),value:function(){for(var x=document[_0x37ca("0xff2")](_0x37ca("0xfe7")),a=0;a<x.length;a++){var c=x[a];if(c.classList.contains(_0x37ca("0x1002")))return 1*c[_0x37ca("0x19d")]("angle")}}},{key:"setTransformAngle",value:function(x){this[_0x37ca("0x3bf")][_0x37ca("0xf74")]&&(this.$scroller[_0x37ca("0x24")].transform=_0x37ca("0xfdd")+x+_0x37ca("0xfff"))}},{key:_0x37ca("0x1003"),value:function(){return-1*this[_0x37ca("0xff4")].style[_0x37ca("0x644")].match(/[0-9]\d*/)[0]}},{key:"ontouchstart",value:function(x){this[_0x37ca("0xf6b")]=!0,x[_0x37ca("0x370")](),this.tapCount=0,this[_0x37ca("0x1000")]=!0,this.tapedPos=x[_0x37ca("0xb70")]?x.touches[0].pageY:x[_0x37ca("0x728")],this.tapedAngle=this[_0x37ca("0x1003")]()}},{key:"onmousedown",value:function(x){x.preventDefault(),x[_0x37ca("0x370")]()}},{key:_0x37ca("0xff5"),value:function(x){if(!this[_0x37ca("0xf70")]&&(x.preventDefault(),x[_0x37ca("0x370")](),this[_0x37ca("0xf6c")]++,this[_0x37ca("0x1000")])){var a=this[_0x37ca("0xff4")];a[_0x37ca("0x39c")][_0x37ca("0x6fa")]("smooth")&&a[_0x37ca("0x39c")][_0x37ca("0x147")](_0x37ca("0x9d2"));var c=x[_0x37ca("0xb70")]?x[_0x37ca("0xb70")][0][_0x37ca("0x728")]:x[_0x37ca("0x728")];c>this.tapedPos?1:-1;var _=this[_0x37ca("0xf6a")]-c,e=this[_0x37ca("0x1004")](_+this[_0x37ca("0x1005")]);this[_0x37ca("0xfe6")](e)}}},{key:_0x37ca("0xb6e"),value:function(x){if(!this.disposed&&this[_0x37ca("0x1000")]){x[_0x37ca("0x36f")](),x[_0x37ca("0x370")](),this[_0x37ca("0xf6c")]++;var a=this[_0x37ca("0xff4")];a[_0x37ca("0x39c")].contains(_0x37ca("0x9d2"))&&a[_0x37ca("0x39c")].remove("smooth");var c=x[_0x37ca("0xb70")]?x[_0x37ca("0xb70")][0][_0x37ca("0x728")]:x[_0x37ca("0x728")],_=this.tapedPos-c,e=this[_0x37ca("0x1004")](_+this[_0x37ca("0x1005")]);this[_0x37ca("0xfe6")](e)}}},{key:_0x37ca("0xff6"),value:function(x){if(!this[_0x37ca("0xf70")]){x&&(x.stopPropagation(),x.preventDefault());var a=this[_0x37ca("0xff4")];a.classList[_0x37ca("0x6fa")]("smooth")||a[_0x37ca("0x39c")][_0x37ca("0xe0")]("smooth"),this[_0x37ca("0x1000")]=!1,this.tapedPos=null,this.tapedAngle=null,this[_0x37ca("0x1006")](),this[_0x37ca("0xf6b")]=!1}}},{key:_0x37ca("0xb54"),value:function(x){if(!this.disposed&&this[_0x37ca("0x1000")]){x&&(x[_0x37ca("0x370")](),x[_0x37ca("0x36f")]());var a=this[_0x37ca("0xff4")];a[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x9d2"))||a.classList[_0x37ca("0xe0")]("smooth"),this[_0x37ca("0x1000")]=!1,this.tapedPos=null,this[_0x37ca("0x1005")]=null,this.checkPos(),this[_0x37ca("0xf6b")]=!1}}},{key:_0x37ca("0x1004"),value:function(x){return x>0?x=0:x<this.$maxAngle&&(x=this.$maxAngle),x}},{key:_0x37ca("0xff3"),value:function(x){for(var a=document[_0x37ca("0xff2")](_0x37ca("0xfe7")),c=0;c<a.length;c++){var _=a[c];if(1*_.getAttribute(_0x37ca("0xe6"))==x){if(!_[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x1002"))){var e=_[_0x37ca("0x19d")](_0x37ca("0x252"));_[_0x37ca("0x39c")][_0x37ca("0xe0")](_0x37ca("0x1002")),this[_0x37ca("0xfe6")](e)}}else _[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x1002"))&&_[_0x37ca("0x39c")].remove(_0x37ca("0x1002"))}}},{key:"toggleTargetClass",value:function(x){for(var a=document.getElementsByClassName("floor-item"),c=!1,_=0;_<a[_0x37ca("0x4")];_++){var e=a[_],t=e.getAttribute(_0x37ca("0x252"));if(Math[_0x37ca("0x24e")]((0,n[_0x37ca("0x1cb")])(x))==Math[_0x37ca("0x24e")]((0,n[_0x37ca("0x1cb")])(t))){if(c=!0,!e[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x1002"))){var i=e.getAttribute(_0x37ca("0xe6"));e[_0x37ca("0x39c")][_0x37ca("0xe0")]("active"),this[_0x37ca("0xa03")](i)}}else e.classList[_0x37ca("0x6fa")]("active")&&e[_0x37ca("0x39c")][_0x37ca("0x147")]("active")}if(!c&&x>200){var r=a[a[_0x37ca("0x4")]-1];if(!r[_0x37ca("0x39c")][_0x37ca("0x6fa")](_0x37ca("0x1002"))){r[_0x37ca("0x39c")][_0x37ca("0xe0")]("active");var s=r.getAttribute("fnum");this[_0x37ca("0xa03")](s)}}}},{key:_0x37ca("0xa03"),value:function(x){x*=1;var a=this[_0x37ca("0x5b")];if(this[_0x37ca("0x5b")][_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]){var c=a[_0x37ca("0x62d")][_0x37ca("0x408")]((function(x,a){}))[_0x37ca("0x14")](0,x);2==this[_0x37ca("0x5b")][_0x37ca("0x36")][_0x37ca("0x1007")]?a[_0x37ca("0xe95")]=c:a[_0x37ca("0xe95")]=[x]}else this[_0x37ca("0xffb")]||(a[_0x37ca("0xe95")]=[x]);a[_0x37ca("0x91b")]=x}},{key:_0x37ca("0x1006"),value:function(){for(var x=1*this.$scroller[_0x37ca("0x24")][_0x37ca("0x644")][_0x37ca("0xcf")](/[0-9]\d*/)[0],a=document[_0x37ca("0xff2")](_0x37ca("0xfe7")),c=null,_=0;_<a[_0x37ca("0x4")];_++){var e=a[_][_0x37ca("0x19d")](_0x37ca("0x252"));if(c){var t=Math[_0x37ca("0x24e")](Math.abs(1*e)-Math[_0x37ca("0x24e")](x));Math[_0x37ca("0x24e")](t)<Math[_0x37ca("0x24e")](c.dis)&&(c.dis=t,c[_0x37ca("0xc11")]=_,c[_0x37ca("0x252")]=1*e)}else c={dis:Math.abs(Math.abs(1*e)-Math[_0x37ca("0x24e")](x)),ind:_,angle:1*e}}this[_0x37ca("0xfe6")](c[_0x37ca("0x252")]),this[_0x37ca("0xfef")](c[_0x37ca("0x252")])}},{key:"x",get:function(){return this[_0x37ca("0x3bf")].offset.x},set:function(x){this[_0x37ca("0x3bf")].offset.x=x,this[_0x37ca("0x246")](this.$box)}},{key:"y",get:function(){return this.configs[_0x37ca("0x137")].y},set:function(x){this[_0x37ca("0x3bf")].offset.y=x,this[_0x37ca("0x246")](this[_0x37ca("0xf71")])}},{key:"position",get:function(){return this[_0x37ca("0x3bf")][_0x37ca("0xb8")]},set:function(x){this[_0x37ca("0x3bf")][_0x37ca("0xb8")]=x,this[_0x37ca("0x246")](this[_0x37ca("0xf71")])}},{key:_0x37ca("0xed"),set:function(x){this[_0x37ca("0xf71")][_0x37ca("0x24")][_0x37ca("0x6f8")]=x?"block":_0x37ca("0x58d")},get:function(){return this[_0x37ca("0xf71")].style[_0x37ca("0x6f8")]==_0x37ca("0xfc2")}}]),x}();a[_0x37ca("0xe")]=s},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a,c){(0,_.default)(this,x),this[_0x37ca("0x409")]=new(esmap[_0x37ca("0x5c8")])(c),_0x37ca("0xf8"),this[_0x37ca("0x409")].size,this.w_=42,this.h_=42,this[_0x37ca("0x1008")]=0,this.x_=this[_0x37ca("0x409")][_0x37ca("0x137")].x,this.y_=this[_0x37ca("0x409")].offset.y,this.init2D_=this[_0x37ca("0x409")][_0x37ca("0x1009")],this.init2D_?this[_0x37ca("0xac6")]=_0x37ca("0x173"):this.viewMode_="3d",this[_0x37ca("0x100a")]=!!this.options_[_0x37ca("0x100b")]&&this[_0x37ca("0x409")][_0x37ca("0x100b")],this[_0x37ca("0x100c")]=this[_0x37ca("0x100a")],this[_0x37ca("0x100d")]=10,this[_0x37ca("0x410")]=!0,this[_0x37ca("0x100e")]=this.options_[_0x37ca("0xb8")]?this[_0x37ca("0x409")][_0x37ca("0xb8")]:3,this.top_=20,this[_0x37ca("0x100f")]=10,this[_0x37ca("0x1010")]=10,this[_0x37ca("0x1011")]=!!this[_0x37ca("0x409")][_0x37ca("0xfaa")]&&this[_0x37ca("0x409")].expanded,this[_0x37ca("0x1012")]=_0x37ca("0x1013"),this[_0x37ca("0x1014")]=_0x37ca("0x1015"),this[_0x37ca("0x1016")]=this.options_[_0x37ca("0xf68")],a&&(this.map=a,this[_0x37ca("0xea")](a))}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xea"),value:function(x){var a=document[_0x37ca("0x22")](_0x37ca("0x38c"));a[_0x37ca("0x32b")](_0x37ca("0x325"),_0x37ca("0x1017")),a.style[_0x37ca("0x701")]=10,a.style[_0x37ca("0xb8")]=_0x37ca("0x6d9"),a[_0x37ca("0x24")].height=this.h_+"px",a[_0x37ca("0x24")][_0x37ca("0x398")]=this.w_+"px",a[_0x37ca("0x24")].cursor=_0x37ca("0xf9c"),a[_0x37ca("0x24")][_0x37ca("0x8ec")]=_0x37ca("0xcb0"),a.style.boxShadow=this[_0x37ca("0x1012")],a[_0x37ca("0x24")].borderRadius=this[_0x37ca("0x1014")],this[_0x37ca("0x1011")]?a[_0x37ca("0x24")][_0x37ca("0xa1f")]="white url("+this[_0x37ca("0x1016")]+_0x37ca("0x1018"):a[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+_0x37ca("0x101a"),a[_0x37ca("0x101b")]=this[_0x37ca("0x101c")][_0x37ca("0x10")](this);var c=document.createElement(_0x37ca("0x38c"));c.setAttribute("class",_0x37ca("0x101d")),c[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6d9"),c.style[_0x37ca("0x6f8")]=this[_0x37ca("0x1011")]?_0x37ca("0xfc2"):_0x37ca("0x58d");var _=document[_0x37ca("0x22")](_0x37ca("0x38c"));_[_0x37ca("0x32b")](_0x37ca("0x325"),_0x37ca("0x101e")),_[_0x37ca("0x24")][_0x37ca("0x1a8")]=this.h_+"px",_[_0x37ca("0x24")].width=this.w_+"px",_.style[_0x37ca("0xf99")]=this.margin_+"px",_[_0x37ca("0x24")][_0x37ca("0xf9b")]="pointer",_[_0x37ca("0x24")][_0x37ca("0x101f")]=this[_0x37ca("0x1012")],_.style[_0x37ca("0xcb2")]=this.defaultRadius_,this[_0x37ca("0x1020")]?_[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+"2D.png) no-repeat 50% 50%":_[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+"3D.png) no-repeat 50% 50%",_[_0x37ca("0x24")][_0x37ca("0x8ec")]=_0x37ca("0xcb0"),_[_0x37ca("0x101b")]=this[_0x37ca("0x1021")][_0x37ca("0x10")](this);var e=document.createElement(_0x37ca("0x38c"));e[_0x37ca("0x32b")](_0x37ca("0x325"),_0x37ca("0x1022")),e[_0x37ca("0x24")][_0x37ca("0x1a8")]=this.h_+"px",e.style.width=this.w_+"px",e[_0x37ca("0x24")][_0x37ca("0xf99")]=this[_0x37ca("0x1008")]+"px",e[_0x37ca("0x24")][_0x37ca("0x1023")]=this.defaultPadding_+"px",e[_0x37ca("0x24")][_0x37ca("0xf9b")]=_0x37ca("0xf9c"),e[_0x37ca("0x24")][_0x37ca("0x101f")]=this[_0x37ca("0x1012")],e[_0x37ca("0x24")][_0x37ca("0xcb2")]=this[_0x37ca("0x1014")],this[_0x37ca("0x100a")]?e[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+_0x37ca("0x1024"):e[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+"group.png) no-repeat 50% 50%",e[_0x37ca("0x101b")]=this.controlFloor[_0x37ca("0x10")](this),c[_0x37ca("0x27")](_),c[_0x37ca("0x27")](e);var t=x.mapView[_0x37ca("0x1025")][_0x37ca("0x1026")](_0x37ca("0x6f9"))[0];x[_0x37ca("0x154")][_0x37ca("0x1025")][_0x37ca("0x6fb")](a,t),x[_0x37ca("0x154")].container_[_0x37ca("0x6fb")](c,t),this.setPosition_(a),this[_0x37ca("0x1027")](c,this.h_),this[_0x37ca("0x1028")]()}},{key:_0x37ca("0x1028"),value:function(){if(this[_0x37ca("0x39")]){var x=this;this.map.on(_0x37ca("0x119"),(function(){var a=document[_0x37ca("0xfc0")](_0x37ca("0x1029")),c=document[_0x37ca("0xfc0")](_0x37ca("0x102a"));x[_0x37ca("0x1027")](a),x.setPosition_(c,x.h_)}))}}},{key:"setPosition_",value:function(x,a){switch(this[_0x37ca("0x100e")]){case 1:a?x[_0x37ca("0x24")].top=this[_0x37ca("0x102b")]+a+this[_0x37ca("0x100d")]+this.y_+"px":x.style[_0x37ca("0x173")]=this[_0x37ca("0x102b")]+this.y_+"px",x[_0x37ca("0x24")][_0x37ca("0x172")]=this[_0x37ca("0x100f")]+this.x_+"px";break;case 2:var c=this[_0x37ca("0x39")].mapView.container_[_0x37ca("0x28")]-x[_0x37ca("0x3a6")]-60;a&&(c=c-a-this[_0x37ca("0x100d")]),x.style[_0x37ca("0x173")]=c-this.y_+"px",x.style[_0x37ca("0x172")]=this[_0x37ca("0x100f")]+this.x_+"px";break;case 3:x[_0x37ca("0x24")][_0x37ca("0x173")]=a?this[_0x37ca("0x102b")]+a+this[_0x37ca("0x100d")]+this.y_+"px":this[_0x37ca("0x102b")]+this.y_+"px",x[_0x37ca("0x24")][_0x37ca("0x174")]=this[_0x37ca("0x1010")]+this.x_+"px";break;case 4:var _=this.map[_0x37ca("0x154")][_0x37ca("0x1025")][_0x37ca("0x28")]-x[_0x37ca("0x3a6")]-60;a&&(_=_-a-this[_0x37ca("0x100d")]),x[_0x37ca("0x24")][_0x37ca("0x173")]=_-this.y_+"px",x[_0x37ca("0x24")][_0x37ca("0x174")]=this[_0x37ca("0x1010")]+this.x_+"px"}}},{key:_0x37ca("0x101c"),value:function(){var x=document[_0x37ca("0xff2")](_0x37ca("0x1017"))[0],a=document[_0x37ca("0xff2")](_0x37ca("0x101d"))[0];_0x37ca("0x58d")==a[_0x37ca("0x24")][_0x37ca("0x6f8")]?(x[_0x37ca("0x24")].background=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+_0x37ca("0x1018"),a[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfc2")):(x[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+"more.png) no-repeat 50% 50%",a.style.display=_0x37ca("0x58d"))}},{key:_0x37ca("0x1021"),value:function(x){if(this[_0x37ca("0x39")]){var a=document[_0x37ca("0xff2")]("to-3d-view-btn")[0];if(this[_0x37ca("0xac6")]&&"3d"!=this[_0x37ca("0xac6")])a[_0x37ca("0x24")][_0x37ca("0xa1f")]="white url("+this[_0x37ca("0x1016")]+_0x37ca("0x102c"),this[_0x37ca("0x39")][_0x37ca("0x610")]=esmap[_0x37ca("0x5b1")][_0x37ca("0x102d")],this[_0x37ca("0xac6")]="3D";else{if(this[_0x37ca("0x100c")]){var c=document[_0x37ca("0xff2")]("tool-floor-btn")[0];if(document[_0x37ca("0x62c")])c[_0x37ca("0x9e3")]();else{var _=document.createEvent(_0x37ca("0x102e"));_[_0x37ca("0x6fe")](_0x37ca("0x9e3"),!0,!0),c[_0x37ca("0x42")](_)}}a[_0x37ca("0x24")].background=_0x37ca("0x1019")+this.imgURL_+_0x37ca("0x102f"),this[_0x37ca("0x39")][_0x37ca("0x610")]=esmap[_0x37ca("0x5b1")][_0x37ca("0xad4")],this[_0x37ca("0xac6")]="2D"}}}},{key:_0x37ca("0x1030"),value:function(x){if(this[_0x37ca("0x39")]){var a=document.getElementsByClassName(_0x37ca("0x1022"))[0];if(this.floors_)a[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+_0x37ca("0x1031"),this[_0x37ca("0x39")][_0x37ca("0xe95")]=[map[_0x37ca("0x91b")]];else{if("top"==this.viewMode_){var c=document[_0x37ca("0xff2")](_0x37ca("0x101e"))[0];if(document.all)c[_0x37ca("0x9e3")]();else{var _=document[_0x37ca("0x6fc")]("MouseEvents");_[_0x37ca("0x6fe")](_0x37ca("0x9e3"),!0,!0),c[_0x37ca("0x42")](_)}}a[_0x37ca("0x24")][_0x37ca("0xa1f")]=_0x37ca("0x1019")+this[_0x37ca("0x1016")]+"groups.png) no-repeat",this.map[_0x37ca("0xe95")]=map[_0x37ca("0x62d")]}this.map[_0x37ca("0x91b")]={floornum:map[_0x37ca("0x91b")],time:0},this[_0x37ca("0x100c")]=!this.floors_}}},{key:_0x37ca("0x1032"),value:function(){return this[_0x37ca("0x100c")]}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(100));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a,c){(0,_[_0x37ca("0xe")])(this,x),this[_0x37ca("0x409")]=new(esmap[_0x37ca("0x5c8")])(c),"normal"==this.options_[_0x37ca("0x576")]?(this.w_=42,this.h_=42,this[_0x37ca("0x1033")]=14):(this.w_=28,this.h_=28,this[_0x37ca("0x1033")]=8),this.x_=this[_0x37ca("0x409")][_0x37ca("0x137")].x,this.y_=this[_0x37ca("0x409")][_0x37ca("0x137")].y,this[_0x37ca("0x100e")]=this[_0x37ca("0x409")][_0x37ca("0xb8")]?this[_0x37ca("0x409")][_0x37ca("0xb8")]:4,this[_0x37ca("0x102b")]=20,this[_0x37ca("0x100f")]=10,this[_0x37ca("0x1010")]=10,this[_0x37ca("0x1012")]=_0x37ca("0x1013"),this[_0x37ca("0x1014")]=_0x37ca("0x1015"),this[_0x37ca("0x1016")]=this[_0x37ca("0x409")][_0x37ca("0xf68")],this[_0x37ca("0x410")]=!0,a&&(this[_0x37ca("0x39")]=a,this[_0x37ca("0xea")](a))}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xea"),value:function(x){var a=(0,t.default)(_0x37ca("0x38c"))[_0x37ca("0x329")](_0x37ca("0x325"),"zoom-wrap")[_0x37ca("0x24")]({zIndex:10,position:_0x37ca("0x6d9"),backgroundColor:_0x37ca("0xcb0"),boxShadow:this[_0x37ca("0x1012")],borderRadius:this[_0x37ca("0x1014")]})[_0x37ca("0x328")],c=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c")).attr(_0x37ca("0x325"),"zoom-in-btn").style({padding:this.padding_+"px",cursor:"pointer",height:this.h_})[_0x37ca("0x32c")](_0x37ca("0x9e3"),this.scaleLevelIn.bind(this)).element,_=(0,t[_0x37ca("0xe")])("img")[_0x37ca("0x329")](_0x37ca("0x414"),this[_0x37ca("0x1016")]+_0x37ca("0x1034"))[_0x37ca("0x24")]({width:this.w_-2*this[_0x37ca("0x1033")]+"px",height:this.h_-2*this.padding_+"px"}).element;c[_0x37ca("0x27")](_);var e=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c"))[_0x37ca("0x329")]("class",_0x37ca("0x1035"))[_0x37ca("0x24")]({padding:this[_0x37ca("0x1033")]+"px",cursor:_0x37ca("0xf9c"),height:this.h_})[_0x37ca("0x32c")](_0x37ca("0x9e3"),this[_0x37ca("0xa1a")][_0x37ca("0x10")](this)).element,i=(0,t[_0x37ca("0xe")])("img")[_0x37ca("0x329")]("src",this[_0x37ca("0x1016")]+_0x37ca("0x1036"))[_0x37ca("0x24")]({width:this.w_-2*this[_0x37ca("0x1033")]+"px",height:this.h_-2*this[_0x37ca("0x1033")]+"px"})[_0x37ca("0x328")];e[_0x37ca("0x27")](i),a[_0x37ca("0x27")](c),a[_0x37ca("0x27")](this[_0x37ca("0x1037")]()),a[_0x37ca("0x27")](e);var n=x[_0x37ca("0x154")][_0x37ca("0x1ed")][_0x37ca("0x1026")](_0x37ca("0x6f9"))[0];x[_0x37ca("0x154")].container.insertBefore(a,n),this[_0x37ca("0x1027")](a),this[_0x37ca("0x1028")]()}},{key:_0x37ca("0x1028"),value:function(){if(this[_0x37ca("0x39")]){var x=this;this.map.on("update",(function(){var a=document.querySelector(_0x37ca("0x1038"));x[_0x37ca("0x1027")](a)}))}}},{key:_0x37ca("0x1027"),value:function(x,a){switch(this[_0x37ca("0x100e")]){case 1:(0,t[_0x37ca("0xe")])(x)[_0x37ca("0x24")]({top:this[_0x37ca("0x102b")]+this.y_+"px",left:this.left_+this.x_+"px"});break;case 2:a=this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x1025")][_0x37ca("0x28")]-x[_0x37ca("0x3a6")]-60;(0,t[_0x37ca("0xe")])(x)[_0x37ca("0x24")]({top:a-this.y_+"px",left:this[_0x37ca("0x100f")]+this.x_+"px"});break;case 3:(0,t.default)(x)[_0x37ca("0x24")]({top:this[_0x37ca("0x102b")]+this.y_+"px",right:this.right_+this.x_+"px"});break;case 4:a=this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x1025")].offsetHeight-x.clientHeight-60;(0,t[_0x37ca("0xe")])(x).style({top:a-this.y_+"px",right:this[_0x37ca("0x1010")]+this.x_+"px"})}}},{key:_0x37ca("0x1037"),value:function(){return(0,t[_0x37ca("0xe")])("hr").style({height:"1px",border:_0x37ca("0x58d"),borderTop:_0x37ca("0x1039"),width:_0x37ca("0x103a"),margin:_0x37ca("0x103b"),filter:_0x37ca("0x103c")})[_0x37ca("0x328")]}},{key:_0x37ca("0xa1a"),value:function(x){this.map&&this.map.scaleLevelOut(),_0x37ca("0xc5")==typeof x&&x(this.scalelevel)}},{key:_0x37ca("0xa19"),value:function(x){this.map&&this[_0x37ca("0x39")][_0x37ca("0xa19")](),_0x37ca("0xc5")==typeof x&&x(this[_0x37ca("0x103d")])}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=b(c(53)),e=b(c(102)),t=b(c(31)),i=b(c(33)),n=b(c(12)),r=b(c(8)),s=b(c(13)),o=b(c(2)),l=b(c(0)),u=b(c(1)),d=b(c(54)),f=c(70),h=b(c(343)),g=c(19);function b(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var v=new d.default,p=new(d[_0x37ca("0xe")]),A=new(d[_0x37ca("0xe")]),m=new d.default,C={x:0,y:0},I={"上行":"up","下行":_0x37ca("0x103e"),"左转":"left","右转":_0x37ca("0x174"),"左前方直行":_0x37ca("0x103f"),"右前方直行":_0x37ca("0x1040"),"直行":"continue","即将到达目的地":_0x37ca("0x1041")},y=function(){function x(a){(0,l[_0x37ca("0xe")])(this,x),this[_0x37ca("0x1042")]=null,this[_0x37ca("0x1043")]=0,this[_0x37ca("0x1044")]=new esmap.ESLayer(esmap[_0x37ca("0x16c")].IMAGE_MARKER),this.endMarkerLayer=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0xa9d")]),this[_0x37ca("0x1045")]=null,this.realNaviClock=null,this[_0x37ca("0x1046")]={},this[_0x37ca("0x1047")]=null,this[_0x37ca("0x1048")]=null,this[_0x37ca("0x1049")]=null,this[_0x37ca("0x104a")]=null,this[_0x37ca("0x104b")]=null,this[_0x37ca("0x104c")]=_0x37ca("0x80c"),this[_0x37ca("0x104d")]=.01086500000124215,this[_0x37ca("0x94a")]=new(THREE[_0x37ca("0x21c")]),this[_0x37ca("0x104e")]=[],this.allowPlayDis={},this[_0x37ca("0x104f")]=null,this[_0x37ca("0x1050")]=!1,this[_0x37ca("0x1051")]={},this[_0x37ca("0x1052")]=null,this[_0x37ca("0x1053")]=!0,this.isNaving=!1,this.pause=!1,this[_0x37ca("0x1054")]=(new Date)[_0x37ca("0x78")](),this[_0x37ca("0x1055")]=null,this[_0x37ca("0x1056")]=0,this[_0x37ca("0x1057")]={},this[_0x37ca("0x1058")]=null,this[_0x37ca("0x1059")]=[],this[_0x37ca("0x105a")]={index:0,dis2next:0},this.audioPlayed={},this.count={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this[_0x37ca("0x105b")]=null,this[_0x37ca("0x105c")]=null,this[_0x37ca("0x105d")]=0,this._preGid=0,this[_0x37ca("0x105e")]=!1,this._animID=null,this[_0x37ca("0x105f")]=null,this[_0x37ca("0x1060")]=null,this[_0x37ca("0x1061")]=new(h[_0x37ca("0xe")]);var c=this;em.Evento[_0x37ca("0x1062")](c),(0,o[_0x37ca("0xe")])(c,{map:esmap[_0x37ca("0x34")][_0x37ca("0x35")],changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,isMultiFloors:0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:5,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossFloorTime:250,tipDistance:6,noGoingBack:!1,locationMarkerOptions:{},lineStyle:{lineType:esmap[_0x37ca("0xe1")][_0x37ca("0x1063")],curvature:0,color:"#33cc61",lineWidth:6,offsetHeight:.5},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},a),c.lineStyle[_0x37ca("0x9d6")]=!0;var _=c[_0x37ca("0x39")];if(c[_0x37ca("0x1064")]){if(!_[_0x37ca("0x9bd")])try{_.initESAudioTool()}catch(x){console[_0x37ca("0x29d")]("init audiotool error")}}else _[_0x37ca("0x9bd")]||(_[_0x37ca("0x9bd")]={playSoundByName:function(){}});this[_0x37ca("0x1061")].appKey=this.appKey}var a;return(0,u[_0x37ca("0xe")])(x,[{key:_0x37ca("0x1065"),value:function(x){this[_0x37ca("0x1061")].setPreferCrosses(x)}},{key:_0x37ca("0x1066"),value:function(x){var a=this[_0x37ca("0x1061")].routeCore[_0x37ca("0x1067")][40015].allPointMap,c=[];x.forEach((function(x){var _=a[x];c[_0x37ca("0x0")]({x:_.X,y:_.Y,fnum:4,id:_[_0x37ca("0x176")]})}));var _=new(esmap[_0x37ca("0xc97")])({id:_0x37ca("0x1068"),name:_0x37ca("0x1068"),points:c,style:this[_0x37ca("0xc2a")]});this[_0x37ca("0x39")].drawLineMark(_)}},{key:_0x37ca("0x1069"),value:function(x,a){var c=null,_=null;a?(this[_0x37ca("0x1049")]&&this.startMarker[_0x37ca("0xa8")](),_=this[_0x37ca("0x1044")],c=x.url||_0x37ca("0x106a")):(this.endMarker&&this[_0x37ca("0x104b")][_0x37ca("0xa8")](),_=this[_0x37ca("0x106b")],c=x.url||_0x37ca("0x106c"));var e=this[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?23:12,t=null==x[_0x37ca("0x1a8")]?6:x[_0x37ca("0x1a8")],i=new(esmap[_0x37ca("0x5c4")])({x:x.x,y:x.y,url:c,height:t,seeThrough:x[_0x37ca("0x123")]||!1,clip:x[_0x37ca("0xe82")]||null,showLevel:x[_0x37ca("0x223")]||e,size:x[_0x37ca("0x576")]||64,callback:function(){x[_0x37ca("0x1c7")]&&x[_0x37ca("0x1c7")](i)}});_[_0x37ca("0x222")](i),a?this[_0x37ca("0x1049")]=i:this[_0x37ca("0x104b")]=i;var n=x[_0x37ca("0xef")]||this[_0x37ca("0x39")].id,r=this[_0x37ca("0x39")].getBuildingById(n),s=x[_0x37ca("0xe6")]||1;r[_0x37ca("0x617")](s)[_0x37ca("0xe98")](_)}},{key:_0x37ca("0x106d"),value:function(x){var a=this.map,c=null==x[_0x37ca("0x1ba")]?1:x[_0x37ca("0x1ba")],_="3D"===a[_0x37ca("0x610")];x[_0x37ca("0x1")](_0x37ca("0x2f6"))&&_&&a[_0x37ca("0xa10")]({angle:x[_0x37ca("0x2f6")],time:c}),x.hasOwnProperty(_0x37ca("0x224"))&&a.scaleLevelTo({value:x[_0x37ca("0x224")],time:c}),x[_0x37ca("0x1")](_0x37ca("0x24d"))&&a[_0x37ca("0x26c")]({angle:x[_0x37ca("0x252")],time:c}),x[_0x37ca("0x1")](_0x37ca("0x1c8"))&&a[_0x37ca("0x250")]({x:x.coord.x,y:x[_0x37ca("0x1c8")].y,time:.5*c}),x[_0x37ca("0x1c4")]&&setTimeout(x[_0x37ca("0x1c4")],1e3*c)}},{key:_0x37ca("0x106e"),value:function(x){this[_0x37ca("0x106f")](),!this._isEnd_&&this[_0x37ca("0x1bc")](),this.startData=(0,o.default)({bid:this[_0x37ca("0x39")].id},this[_0x37ca("0x1047")],x),this[_0x37ca("0x1069")](x,!0)}},{key:_0x37ca("0x1070"),value:function(x){this.clearNaviLines(),!this[_0x37ca("0x1053")]&&this[_0x37ca("0x1bc")](),this[_0x37ca("0x1048")]=(0,o[_0x37ca("0xe")])({bid:this[_0x37ca("0x39")].id},this[_0x37ca("0x1048")],x),this[_0x37ca("0x1069")](x,!1)}},{key:_0x37ca("0x1071"),value:function(){this[_0x37ca("0x1047")]&&this[_0x37ca("0x1048")]&&(this[_0x37ca("0x1058")]=null,this[_0x37ca("0x106f")](),this[_0x37ca("0x1072")](),this[_0x37ca("0x1073")]&&this.drawNaviLine())}},{key:_0x37ca("0x1074"),value:function(x){this[_0x37ca("0x1075")](),this.startData={x:x[0][_0x37ca("0x1076")][0].x,y:x[0][_0x37ca("0x1076")][0].y,fnum:x[0][_0x37ca("0xe6")]};var a=x[x.length-1][_0x37ca("0x1076")];this[_0x37ca("0x1048")]={x:a[a[_0x37ca("0x4")]-1].x,y:a[a[_0x37ca("0x4")]-1].y,fnum:x[x[_0x37ca("0x4")]-1][_0x37ca("0xe6")]},this[_0x37ca("0x1073")]={result:x},this[_0x37ca("0x1045")]=this.outcome[_0x37ca("0xc61")],this._getFloorsPoints();var c=this._naviDescriptions(this[_0x37ca("0x1045")]);this[_0x37ca("0x104e")]=c[0],this[_0x37ca("0x1077")]=c[1],this[_0x37ca("0x1043")]=c[2],this[_0x37ca("0x1078")]=this._getCrossPoints();for(var _=0;_<this[_0x37ca("0x1078")][_0x37ca("0x4")];_++)this.toPassedFnum[this[_0x37ca("0x1078")][_][_0x37ca("0xe6")]]||(this.toPassedFnum[this[_0x37ca("0x1078")][_][_0x37ca("0xe6")]]=!1);this[_0x37ca("0x1046")][this[_0x37ca("0x1047")][_0x37ca("0xe6")]]=!0,this.drawNaviLine()}},{key:_0x37ca("0x1079"),value:function(){var x=this[_0x37ca("0x1073")].result;if(x){for(var a=[],c=null,_=null,e=0;e<x[_0x37ca("0x4")];e++){var t=x[e],i=c==t[_0x37ca("0xe6")];0==t[_0x37ca("0x4")]&&0!=e&&e!=x.length-1||(i||(c=t[_0x37ca("0xe6")],_&&a[_0x37ca("0x0")](_),_={fnum:t[_0x37ca("0xe6")],pointList:[]}),Array[_0x37ca("0x11")][_0x37ca("0x0")][_0x37ca("0x3")](_.pointList,t[_0x37ca("0x1076")]))}return _&&a[_0x37ca("0x0")](_),this[_0x37ca("0x107a")]=a,a}}},{key:_0x37ca("0x2ae"),value:function(){this[_0x37ca("0x1072")]()}},{key:_0x37ca("0x107b"),value:function(){for(var x=[],a=this[_0x37ca("0x1073")][_0x37ca("0xc61")],c=0;c<a.length;c++)if(0==a[c].length&&1==a[c][_0x37ca("0x1076")].length){var _=(0,o[_0x37ca("0xe")])({},a[c][_0x37ca("0x1076")][0]);a[c][_0x37ca("0x1076")][0].id;if(_.id){var e=this[_0x37ca("0x1061")][_0x37ca("0x107c")](_.bid,_.id);_[_0x37ca("0x43")]=e[_0x37ca("0x43")]||0,x[_0x37ca("0x0")](_)}}return x}},{key:_0x37ca("0x107d"),value:function(x){for(var a,c=[],_=this[_0x37ca("0x37")],e=this.ladderType,t=this.map,i=0;i<x[_0x37ca("0x4")]-1;i++){var n=x[i];n[_0x37ca("0xef")]||(n[_0x37ca("0xef")]=this.map.id);var r=x[i+1];if(r[_0x37ca("0xef")]||(r[_0x37ca("0xef")]=this[_0x37ca("0x39")].id),n.x!==r.x||n.y!==r.y){!a&&(a=n[_0x37ca("0xe6")]);var s=this[_0x37ca("0x1061")][_0x37ca("0x1072")]({bid:t[_0x37ca("0xb07")],startPoint:n,endPoint:r,mode:_,ladderType:e,linkStartEnd:this[_0x37ca("0x107e")],linkMinDistance:this[_0x37ca("0x107f")],useAMap:!1,type:null});this[_0x37ca("0x1080")]||(this.routePlanner[_0x37ca("0x1081")]=[]),i<x.length-2&&s[_0x37ca("0xc61")][s.result[_0x37ca("0x4")]-1][_0x37ca("0x1076")][_0x37ca("0xdab")](),s[_0x37ca("0xc61")][_0x37ca("0x1f")]((function(x,a,_){c.push(x)}))}}for(var o={},l=0;l<c[_0x37ca("0x4")];l++)for(var u=0;u<c[l][_0x37ca("0x1076")][_0x37ca("0x4")];u++)o[c[l].pointList[u].id]?u!=c[l][_0x37ca("0x1076")][_0x37ca("0x4")]-1&&(c[l].pointList[u].x+=.8,c[l][_0x37ca("0x1076")][u].y+=.8):o[c[l][_0x37ca("0x1076")][u].id]=1;for(var d=0;d<c.length-1;d++)c[d][_0x37ca("0xe6")]==c[d+1][_0x37ca("0xe6")]&&0!=c[d][_0x37ca("0x4")]&&0!=c[d+1][_0x37ca("0x4")]&&(c[d][_0x37ca("0x4")]+=c[d+1][_0x37ca("0x4")],c[d][_0x37ca("0x1076")]=c[d][_0x37ca("0x1076")][_0x37ca("0x15")](c[d+1][_0x37ca("0x1076")]),c[_0x37ca("0x5")](d+1,1),d--);this[_0x37ca("0x1047")]={x:x[0].x,y:x[0].y,fnum:x[0][_0x37ca("0xe6")],bid:x[0][_0x37ca("0xef")]},this[_0x37ca("0x1048")]={x:x[x[_0x37ca("0x4")]-1].x,y:x[x[_0x37ca("0x4")]-1].y,fnum:x[x[_0x37ca("0x4")]-1].fnum,bid:x[x.length-1][_0x37ca("0xef")]},this[_0x37ca("0x1073")]={result:c},this[_0x37ca("0x1045")]=c,this[_0x37ca("0x1079")]();x=this[_0x37ca("0x1082")](this[_0x37ca("0x1045")]);this[_0x37ca("0x104e")]=x[0],this.naviDescriptionsData=x[1],this[_0x37ca("0x1043")]=x[2],this[_0x37ca("0x1078")]=this._getCrossPoints();for(var f=0;f<this[_0x37ca("0x1078")].length;f++)this[_0x37ca("0x1046")][this.crossPoints[f].fnum]||(this[_0x37ca("0x1046")][this.crossPoints[f][_0x37ca("0xe6")]]=!1);this[_0x37ca("0x1046")][a]=!0}},{key:_0x37ca("0x1072"),value:(a=(0,s[_0x37ca("0xe")])(n[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var a,c,_,e,t,i,s,l,u,d,f,h,g,b,v,p,A,m,C,I,y,E,w,T,k,S=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:{};return n[_0x37ca("0xe")].wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x[_0x37ca("0x29a")]=2,new(r[_0x37ca("0xe")])((function(x){setTimeout(x,0)}));case 2:if(x[_0x37ca("0x299")]=2,a=S[_0x37ca("0x1083")]||!1,c=S.useAMap||!1,_=S[_0x37ca("0x22a")]||"driving",!this[_0x37ca("0x1047")]||!this.endData){x[_0x37ca("0x29a")]=69;break}if(e=this.startData,t=this[_0x37ca("0x1048")],i=this.mode,s=this[_0x37ca("0x39")],e[_0x37ca("0xef")]||(e[_0x37ca("0xef")]=s.sceneId_),e.fnum||(e[_0x37ca("0xe6")]=1),t.bid||(t[_0x37ca("0xef")]=s[_0x37ca("0xb07")]),t[_0x37ca("0xe6")]||(t[_0x37ca("0xe6")]=1),l=this[_0x37ca("0x39")][_0x37ca("0x17e")]({from:this.map.options.userCrs,to:this[_0x37ca("0x39")].coordSystem,coord:{x:e.x,y:e.y}}),u=this.map[_0x37ca("0x17e")]({from:this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x2ef")],to:this[_0x37ca("0x39")].coordSystem,coord:{x:t.x,y:t.y}}),d=(0,o[_0x37ca("0xe")])({},e,l),f=(0,o[_0x37ca("0xe")])({},t,u),!c){x[_0x37ca("0x29a")]=34;break}return this[_0x37ca("0x104c")]="AMAP",x[_0x37ca("0x29a")]=23,this.routePlanner[_0x37ca("0x1072")]({bid:s[_0x37ca("0xb07")],startPoint:d,endPoint:f,mode:i,ladderType:this.ladderType,linkStartEnd:this[_0x37ca("0x107e")],linkMinDistance:this.linkMinDistance,useAMap:c,type:_});case 23:h=x[_0x37ca("0x5dc")],g=h.rawPointList,b=h.distance,v=h[_0x37ca("0x1084")],p=h[_0x37ca("0x1076")],this[_0x37ca("0x1085")]=v,this[_0x37ca("0x1086")]=g,this[_0x37ca("0x1043")]=b,A=this[_0x37ca("0x39")].transformCoordArray({from:this.map[_0x37ca("0x180")],to:this[_0x37ca("0x39")][_0x37ca("0x17f")],coords:p}),a&&(m=new esmap.ESLineMarker({id:"navLine",bid:0,points:A,style:this[_0x37ca("0xc2a")]}),this.lineObj=m,this[_0x37ca("0x39")][_0x37ca("0x9ce")](m)),this[_0x37ca("0x242")](_0x37ca("0x347"),A),x[_0x37ca("0x29a")]=69;break;case 34:if(this[_0x37ca("0x104c")]=_0x37ca("0x80c"),this[_0x37ca("0x1073")]=this[_0x37ca("0x1061")][_0x37ca("0x1072")]({bid:s[_0x37ca("0xb07")],startPoint:d,endPoint:f,mode:i,ladderType:this.ladderType,linkStartEnd:this[_0x37ca("0x107e")],linkMinDistance:this[_0x37ca("0x107f")],useAMap:c,type:_}),this[_0x37ca("0x1073")]){x.next=39;break}throw console[_0x37ca("0x29d")](_0x37ca("0x1087")),_0x37ca("0x1087");case 39:if(this[_0x37ca("0x39")][_0x37ca("0x37")]!=esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]){x[_0x37ca("0x29a")]=58;break}C=0;case 41:if(!(C<this[_0x37ca("0x1073")][_0x37ca("0xc61")][_0x37ca("0x4")])){x[_0x37ca("0x29a")]=58;break}I=this[_0x37ca("0x1073")][_0x37ca("0xc61")][C][_0x37ca("0x1076")],x.t0=n[_0x37ca("0xe")][_0x37ca("0x5e1")](I);case 44:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x[_0x37ca("0x29a")]=55;break}if(y=x.t1[_0x37ca("0xf2")],!(E=I[y])[_0x37ca("0x1088")]){x[_0x37ca("0x29a")]=49;break}return x.abrupt(_0x37ca("0x5e4"),44);case 49:w=this[_0x37ca("0x39")][_0x37ca("0x17e")]({from:this[_0x37ca("0x39")].coordSystem,to:this.map[_0x37ca("0x36")][_0x37ca("0x2ef")],coord:{x:E.x,y:E.y}}),E.x=w.x,E.y=w.y,E[_0x37ca("0x1088")]=!0,x[_0x37ca("0x29a")]=44;break;case 55:C++,x[_0x37ca("0x29a")]=41;break;case 58:for(this[_0x37ca("0x1045")]=this[_0x37ca("0x1073")][_0x37ca("0xc61")],this._getFloorsPoints(),T=this[_0x37ca("0x1082")](this[_0x37ca("0x1045")]),this.naviDescriptions=T[0],this[_0x37ca("0x1077")]=T[1],this[_0x37ca("0x1043")]=T[2],this[_0x37ca("0x1078")]=this[_0x37ca("0x107b")](),k=0;k<this[_0x37ca("0x1078")].length;k++)this[_0x37ca("0x1046")][this[_0x37ca("0x1078")][k][_0x37ca("0xe6")]]||(this[_0x37ca("0x1046")][this[_0x37ca("0x1078")][k][_0x37ca("0xe6")]]=!1);this[_0x37ca("0x1046")][this[_0x37ca("0x1047")].fnum]=!0,a&&this.drawNaviLine(),this[_0x37ca("0x242")](_0x37ca("0x347"),this[_0x37ca("0x1073")]);case 69:x[_0x37ca("0x29a")]=74;break;case 71:x[_0x37ca("0x299")]=71,x.t2=x[_0x37ca("0x828")](2),this[_0x37ca("0x242")](_0x37ca("0xca"),x.t2);case 74:case"end":return x[_0x37ca("0x1bc")]()}}),x,this,[[2,71]])}))),function(){return a.apply(this,arguments)})},{key:"_transformResults",value:function(){var x=this[_0x37ca("0x39")],a=this[_0x37ca("0x1073")];for(var c in a[_0x37ca("0xc61")]){var _=a.result[c][_0x37ca("0x1076")];for(var e in _){var t=_[e],i=(0,o[_0x37ca("0xe")])({},t);if(!i[_0x37ca("0x1088")]){var n=x[_0x37ca("0x17e")]({from:x.coordSystem,to:x[_0x37ca("0x36")][_0x37ca("0x2ef")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i._trs=!0,_[e]=i}}}}},{key:_0x37ca("0x1089"),value:function(){var x=A[_0x37ca("0x34a")](this);x&&(this[_0x37ca("0x39")][_0x37ca("0x182")].findAndDelete(x[_0x37ca("0xa5")]),x&&(this[_0x37ca("0x39")][_0x37ca("0xad9")](x),A.set(this,null)))}},{key:"clearMarkers",value:function(){this[_0x37ca("0x1049")]&&(this.startMarker[_0x37ca("0xa8")](),this[_0x37ca("0x108a")]=null,this[_0x37ca("0x1047")]=null),this[_0x37ca("0x104b")]&&(this[_0x37ca("0x104b")].dispose(),this[_0x37ca("0x104b")]=null,this[_0x37ca("0x1048")]=null),this[_0x37ca("0x1045")]=null}},{key:"clearNaviLines",value:function(){this[_0x37ca("0x39")][_0x37ca("0x9cc")]("navLine")}},{key:_0x37ca("0x1075"),value:function(){this[_0x37ca("0x1bc")](),this[_0x37ca("0x108b")](),this[_0x37ca("0x106f")](),this[_0x37ca("0x1089")](),this[_0x37ca("0x1047")]=null,this[_0x37ca("0x1048")]=null}},{key:_0x37ca("0x108c"),value:function(x,a){var c=this;(a=null==a||a)&&c[_0x37ca("0x106f")]();for(var _=[],e=0;e<x[_0x37ca("0x4")];e++){var t=x[e][_0x37ca("0x3ca")],i=(0,o[_0x37ca("0xe")])({},t);if(i._trs)_[_0x37ca("0x0")](i);else{var n=c[_0x37ca("0x39")].transformCoord({from:c[_0x37ca("0x39")][_0x37ca("0x180")],to:c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x2ef")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i[_0x37ca("0x1088")]=!0,_[_0x37ca("0x0")](i)}}c._drawlineByResults(_,a)}},{key:_0x37ca("0x108d"),value:function(x,a){(a=null==a||a)&&this[_0x37ca("0x106f")]();var c=new(esmap[_0x37ca("0xc97")])({id:_0x37ca("0x1068"),name:"navLine",points:x,style:this[_0x37ca("0xc2a")]});this[_0x37ca("0x108e")]=c,_0x37ca("0x120")==this[_0x37ca("0xc2a")].type||_0x37ca("0x5b0")==this[_0x37ca("0xc2a")][_0x37ca("0x22a")]?this[_0x37ca("0xc2a")].yScale=.3:this.lineStyle.yScale=1,this[_0x37ca("0x39")][_0x37ca("0x9ce")](c)}},{key:_0x37ca("0x108f"),value:function(x,a){if(this.clearNaviLines(),this.startData&&this[_0x37ca("0x1048")]&&this[_0x37ca("0x1073")]){this.lineStyle.up=new(THREE[_0x37ca("0xe2")])(0,1,0),this.lineStyle[_0x37ca("0x1090")]=!1,!this[_0x37ca("0x1091")]&&a&&this[_0x37ca("0x106f")]();this[_0x37ca("0x108c")](this[_0x37ca("0x1086")],this[_0x37ca("0x1091")]),this[_0x37ca("0x1092")]()}}},{key:"_locMarkerToStartPoint",value:function(x){if(this[_0x37ca("0x1045")]){var a=this[_0x37ca("0x1045")][0].pointList[0],c=this[_0x37ca("0x1045")][0][_0x37ca("0xe6")],_=this[_0x37ca("0x1045")][0].bid||0;x=null==x?3:x,this[_0x37ca("0x595")][_0x37ca("0x246")]({x:a.x,y:a.y,bid:_,fnum:c,offsetHeight:x||1.01*this[_0x37ca("0x28")]})}}},{key:"_moveTo",value:function(x,a,c){return null==a&&(a=0),this[_0x37ca("0x39")].moveTo({x:x.x,y:x.y,time:a,FloorNum:x[_0x37ca("0xe6")],callback:c})}},{key:_0x37ca("0x1093"),value:function(x){if(this.audioPlay){for(var a=0;a<x[_0x37ca("0x4")];a++)typeof x[a]==_0x37ca("0xf")&&x[a][_0x37ca("0xcf")](/\s/)&&x[_0x37ca("0x5")].apply(x,[a,1][_0x37ca("0x15")]((0,i[_0x37ca("0xe")])(x[a][_0x37ca("0x2b")](" "))));this[_0x37ca("0x39")][_0x37ca("0x9bd")][_0x37ca("0xd9f")](x)}}},{key:_0x37ca("0x1094"),value:function(x){I[x]&&this.lastNavCode!=I[x]&&(this.lastNavCode=I[x],this[_0x37ca("0x242")]("navCodeChanged",this[_0x37ca("0x1055")]))}},{key:_0x37ca("0x1095"),value:function(x){var a=this.map,c=a[_0x37ca("0x154")][_0x37ca("0x611")].fov;return{radius:"3D"==a.viewMode?x/(2*Math[_0x37ca("0x311")](c/2*Math.PI/180)):x/(2*Math.tan(c/2*Math.PI/180))}}},{key:_0x37ca("0x1096"),value:function(x,a,c){}},{key:_0x37ca("0x109b"),value:function(x,a,c){var _=this,e=_.naviDescriptions[x],t=_.naviDescriptionsData[x],i=_[_0x37ca("0x104e")][x+1],n=_[_0x37ca("0x1077")][x+1],r=(_.naviDescriptions[_0x37ca("0x4")],t.distance-a),s=1==_[_0x37ca("0x37")]?_.maxEnd+5:_[_0x37ca("0x109c")]+12,o=_[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xa5d")],l=null,u="";if(c<=s)l=o[_0x37ca("0xd7b")](_0x37ca("0xd69")),_.audioPlayed[_0x37ca("0x109d")]||(_._setNavCode(_0x37ca("0xd69")),_[_0x37ca("0x1093")]([_0x37ca("0xd69")]),_.audioPlayed[_0x37ca("0x109d")]=!0);else if(c<=_[_0x37ca("0x109c")])l=o[_0x37ca("0xd7b")](_0x37ca("0x109e")),_[_0x37ca("0x109f")][_0x37ca("0x10a0")]||(_.audioPlayed[_0x37ca("0x10a0")]=!0);else if(_[_0x37ca("0x2f0")]&&_[_0x37ca("0x1096")](t,r,a),1==_.mode)!t[_0x37ca("0x10a1")]&&r>=1&&(_[_0x37ca("0x1094")](e[0]),u=[e[0],Math[_0x37ca("0xa18")](a)-2,"米","后",e[2]],_[_0x37ca("0x1093")](u),t[_0x37ca("0x10a1")]=!0),a<=_[_0x37ca("0x10a2")]?(l=o[_0x37ca("0xd7b")](e[2]),t[_0x37ca("0x10a3")]||(_[_0x37ca("0x1094")](e[2]),u=[e[2]],_.playAudio(u),t[_0x37ca("0x10a3")]=!0)):a>=20&&r>=t[_0x37ca("0x10a4")]&&(_[_0x37ca("0x1094")]("直行"),t[_0x37ca("0x10a4")]+=30,u=[Math[_0x37ca("0xa18")](a)-2,"米","后",e[2]],_[_0x37ca("0x1093")](u));else if(!t[_0x37ca("0x10a5")]&&r>=1&&(u=[e[0],Math[_0x37ca("0xa18")](a)-2,"米","后",e[2]],_[_0x37ca("0x1093")](u),t[_0x37ca("0x10a5")]=!0),a<=12&&(l=n.distance<=12?o[_0x37ca("0xd7b")](e[2])+o.getDesFromNavLib("后")+o[_0x37ca("0xd7b")](i[2]):o[_0x37ca("0xd7b")](e[2])),a<=12&&!t[_0x37ca("0x10a6")]){if(n[_0x37ca("0x258")]<12&&"终"!=n[_0x37ca("0x10a7")]){var d=e[2],f=i[2];e[2][_0x37ca("0xda")]("左")>-1?d="左转":e[2].indexOf("右")>-1&&(d="右转"),i[2][_0x37ca("0xda")]("左")>-1?f="左转":i[2].indexOf("右")>-1&&(f="右转"),_[_0x37ca("0x1094")](f),u=[d+"后"+f],_[_0x37ca("0x1093")](u)}else u=[e[2]],_[_0x37ca("0x1093")](u),_._setNavCode(e[2]);t.carModeTipEnded=!0}else t.distance>=50&&a<=37?t.tipSlowDowned||(_[_0x37ca("0x1093")]([_0x37ca("0xd79")]),t.tipSlowDowned=!0):r>=t[_0x37ca("0x10a8")]&&(t[_0x37ca("0x10a8")]+=40,u=[Math[_0x37ca("0xa18")](a)-2,"米","后",e[2]],_[_0x37ca("0x1093")](u));_[_0x37ca("0x1077")][x].over||(_[_0x37ca("0x1077")][x].over=!0),l||(_[_0x37ca("0x1094")](e[0]),l=o[_0x37ca("0xd7b")](e[0])+" "+Math[_0x37ca("0xa18")](a)+" "+o[_0x37ca("0xd7b")]("米")+" "+o[_0x37ca("0xd7b")]("后")+" "+o[_0x37ca("0xd7b")](e[2])),_[_0x37ca("0x10a9")]=l}},{key:_0x37ca("0x10aa"),value:function(x,a){for(var c={dis:-1,point1:null,point2:null},_=0;_<this[_0x37ca("0x1078")][_0x37ca("0x4")];_++){var e=this[_0x37ca("0x1078")][_];if(e.fnum!=x||30!=e[_0x37ca("0x43")]&&40!=e[_0x37ca("0x43")]){if(c[_0x37ca("0x10ab")]&&(30==e[_0x37ca("0x43")]||40==e.tid)&&e[_0x37ca("0xe6")]!=c[_0x37ca("0x10ab")][_0x37ca("0xe6")]){c[_0x37ca("0x10ac")]=e,c[_0x37ca("0x10ad")]=(0,f[_0x37ca("0xbd")])(c[_0x37ca("0x10ab")],c.point2),c[_0x37ca("0x252")]=this.getRouteAngle(c.point1,c[_0x37ca("0x10ac")]);break}}else c[_0x37ca("0x637")]=(0,f[_0x37ca("0xbd")])(e,a),c.point1=e}return c}},{key:"_checkDeviated",value:function(x,a){for(var c=x[_0x37ca("0xe6")],_={x:x.x,y:x.y},i=this[_0x37ca("0x39")][_0x37ca("0xb07")],n=this.routePlanner.routeCore.source[i][_0x37ca("0x42e")][c-1].Nodes,r=this[_0x37ca("0x1061")][_0x37ca("0x10ae")].source[i].navs[c-1][_0x37ca("0x190")],s=this[_0x37ca("0x1061")][_0x37ca("0x10ae")][_0x37ca("0x1067")][i][_0x37ca("0x10af")],o=(new t.default,new(e[_0x37ca("0xe")])),l=new(t[_0x37ca("0xe")]),u=0;u<navi[_0x37ca("0x1073")][_0x37ca("0xc61")][_0x37ca("0x4")];u++){navi[_0x37ca("0x1073")][_0x37ca("0xc61")][u][_0x37ca("0x10b0")][_0x37ca("0x1f")]((function(x){l[_0x37ca("0xe0")](1*x)}))}for(var d in n){var h=n[d],g={x:h.X,y:h.Y};if((0,f[_0x37ca("0xbd")])(g,x)<100){var b=s[h[_0x37ca("0x176")]];if(b)for(var v in b){var p=1*b[v];if(!l.has(p)){var A=r[p];if(A&&!o[_0x37ca("0x10b1")](p)){var m=n[A[_0x37ca("0x4e9")]==h[_0x37ca("0x176")]?A[_0x37ca("0x4ee")]:A[_0x37ca("0x4e9")]];if(m){if((0,f[_0x37ca("0xbe")])({x:_.x,y:_.y},{x:h.X,y:h.Y},{x:m.X,y:m.Y},{})<a)return!0;o[_0x37ca("0x11d")](p,!0)}}}}}}return!1}},{key:_0x37ca("0x10b2"),value:function(x,a,c,_){var e=this,t=e.count,i=this[_0x37ca("0x104c")],n=(new Date)[_0x37ca("0x78")]();if(e[_0x37ca("0x1050")]&&n-e.crossFutiTime>e[_0x37ca("0x10b3")]*e.crossFloorTime&&(e[_0x37ca("0x1050")]=!1,e[_0x37ca("0x10b4")]=(new Date)[_0x37ca("0x78")]()),!e[_0x37ca("0x1050")]){var r="3"==e[_0x37ca("0x1061")][_0x37ca("0x10b5")]?3:1,s=e[_0x37ca("0x10b6")]?e[_0x37ca("0x10b6")]:8*r;if(x[_0x37ca("0x137")]>s)this[_0x37ca("0x10b7")](a,x[_0x37ca("0x137")])&&t[_0x37ca("0x10b8")]++;else t.deviateCount=0;if(t[_0x37ca("0x10b8")]>=e.reRouteLimit){e[_0x37ca("0x1bc")](),e[_0x37ca("0x1064")]&&e.map[_0x37ca("0x9bd")][_0x37ca("0xd9f")](["已重新规划路线"]);var l=a;if(e[_0x37ca("0x595")][_0x37ca("0x250")]({x:l.x,y:l.y}),e[_0x37ca("0x1047")].x=a.x,e[_0x37ca("0x1047")].y=a.y,e.startData[_0x37ca("0xe6")]=a[_0x37ca("0xe6")],e[_0x37ca("0x242")]("reRouting"),e[_0x37ca("0x1049")])if(e[_0x37ca("0x1049")].FloorNum!=a.fnum){var u=e[_0x37ca("0x1049")][_0x37ca("0x223")],d=e[_0x37ca("0x1049")][_0x37ca("0x1a8")],f=e[_0x37ca("0x1049")].url,h=e[_0x37ca("0x1049")][_0x37ca("0x576")],g=(0,o[_0x37ca("0xe")])({},e[_0x37ca("0x1048")]);e[_0x37ca("0x108b")](),e[_0x37ca("0x106e")]({x:a.x,y:a.y,showLevel:u,fnum:a[_0x37ca("0xe6")],height:d,url:f,size:h}),e.setEndPoint(g)}else e[_0x37ca("0x1049")][_0x37ca("0x250")](a),e[_0x37ca("0x106f")](),e[_0x37ca("0x1072")]({drawRoute:!0}),e.once(_0x37ca("0x347"),(function(){t[_0x37ca("0x10b8")]=0,e[_0x37ca("0x1c6")](!0)}));return}if(0!=t[_0x37ca("0x10b9")]&&t[_0x37ca("0x10b9")]<x[_0x37ca("0x10ba")]?t[_0x37ca("0x10bb")]++:t[_0x37ca("0x10bb")]=0,c&&(t[_0x37ca("0x10bb")]=0),0==t[_0x37ca("0x10bb")]||t[_0x37ca("0x10bb")]>=10*r){var b=e[_0x37ca("0x39")][_0x37ca("0x181")](x[_0x37ca("0x3ca")]);if(b[_0x37ca("0xe6")]=x[_0x37ca("0x3ca")][_0x37ca("0xe6")],b[_0x37ca("0xef")]=x[_0x37ca("0x3ca")].bid,this[_0x37ca("0x242")](_0x37ca("0x10bc"),x),this[_0x37ca("0x10bd")](b,x.angle,x[_0x37ca("0x3ca")],x[_0x37ca("0x10be")],_),t[_0x37ca("0x10b9")]=x[_0x37ca("0x10ba")],x[_0x37ca("0x10ba")]<e[_0x37ca("0x109c")]?t.arrivalCount++:t[_0x37ca("0x10bf")]=0,t[_0x37ca("0x10bf")]>e[_0x37ca("0x10bf")]||x.remain<=1){if(e[_0x37ca("0x10c0")]){var v=null;if(i==_0x37ca("0x80c")&&(40004==e[_0x37ca("0x1048")].tid?e[_0x37ca("0x1077")][e[_0x37ca("0x1077")][_0x37ca("0x4")]-1].parkDir&&(v=e[_0x37ca("0x1077")][e[_0x37ca("0x1077")].length-1][_0x37ca("0x10c1")]):!e[_0x37ca("0x1077")][e.naviDescriptionsData.length-1][_0x37ca("0x10c2")]&&e.naviDescriptionsData[e[_0x37ca("0x1077")][_0x37ca("0x4")]-2]&&e.naviDescriptionsData[e[_0x37ca("0x1077")][_0x37ca("0x4")]-2].over&&(v=e[_0x37ca("0x1077")][e[_0x37ca("0x1077")].length-2][_0x37ca("0x10a7")])),e[_0x37ca("0x1bc")](),e._updateLinePass(0,!0),e.audioPlay&&e[_0x37ca("0x10c3")])if(v){v=v[_0x37ca("0xda")]("左")<0?"右":"左";var p=_0x37ca("0x10c4")+v+"侧";this[_0x37ca("0x1093")]([p,"导航结束"])}else this[_0x37ca("0x1093")]([_0x37ca("0x10c5")])}e.restoreState(),e.emit("complete")}else if(e.navMode==_0x37ca("0x80c"))e[_0x37ca("0x109b")](x.descriptionIndex,x[_0x37ca("0x10c6")],x.remain);else{var A=e.combinePoints[x[_0x37ca("0x2e5")]][_0x37ca("0x10c7")];if(x.remain<=10){if(e.navTip=_0x37ca("0xd69"),x[_0x37ca("0x10ba")]<=1)return e[_0x37ca("0x10a9")]=_0x37ca("0x109e"),e[_0x37ca("0x1bc")](),e.restoreState(),void e[_0x37ca("0x242")](_0x37ca("0x2e9"))}else e[_0x37ca("0x10a9")]=e.outDoorNaviDescriptions[A][_0x37ca("0x10c8")]}}}}},{key:_0x37ca("0x10c9"),value:function(){}},{key:_0x37ca("0x10ca"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,o[_0x37ca("0xe")])({far:1.2},x);if(this[_0x37ca("0x1073")]){var c=this[_0x37ca("0x1073")][_0x37ca("0xc61")][0][_0x37ca("0x1076")],_=esmap[_0x37ca("0x7b")][_0x37ca("0x5f6")](c),e=c[0][_0x37ca("0xe6")],t=esmap[_0x37ca("0x7b")].computeCameraStateByBounds(_),i=t[_0x37ca("0x630")]*a[_0x37ca("0x3c3")];if(i<this[_0x37ca("0x10cb")]&&(i=this.bestViewMinDistance),"3D"!=this[_0x37ca("0x39")][_0x37ca("0x610")]){var n=i/this[_0x37ca("0x39")][_0x37ca("0x275")].initDistance_;this[_0x37ca("0x39")][_0x37ca("0x971")]({value:n,raw:!0,time:1}),this[_0x37ca("0x39")][_0x37ca("0x250")](t[_0x37ca("0x276")]),this[_0x37ca("0x39")][_0x37ca("0x26c")](0)}else this[_0x37ca("0x39")][_0x37ca("0xa02")]({x:t[_0x37ca("0x276")].x,y:t[_0x37ca("0x276")].y,z:1,fnum:e,radius:i,pitchAngle:1})}}},{key:"stop",value:function(){C={x:0,y:0},this[_0x37ca("0x10cc")]?(clearInterval(this[_0x37ca("0x10cd")]),this[_0x37ca("0x10ce")]&&this[_0x37ca("0x10ce")].stop(),this[_0x37ca("0x10cf")]&&clearInterval(this[_0x37ca("0x10cf")]),this[_0x37ca("0x251")]&&this[_0x37ca("0x251")][_0x37ca("0x1bc")](),this[_0x37ca("0x1060")]&&this[_0x37ca("0x1060")][_0x37ca("0x1bc")](),this._animateFun&&this[_0x37ca("0x39")][_0x37ca("0x62")](_0x37ca("0x119"),this[_0x37ca("0x105f")]),this._allLen=0,this[_0x37ca("0x10d0")]=0,this[_0x37ca("0x10d1")]=null,this._groupPointsIndex=0,this[_0x37ca("0x105b")]=this[_0x37ca("0x105c")]=null,this[_0x37ca("0x94a")][_0x37ca("0x1bc")](),this[_0x37ca("0x10cc")]=!1,this._gpsData=null,this[_0x37ca("0x1053")]=!0):this.isNaving&&(this[_0x37ca("0x10d2")]=!1,this.count[_0x37ca("0x10b8")]=0,this[_0x37ca("0xb9")][_0x37ca("0x10bf")]=0,this[_0x37ca("0xb9")].backcount=0,this[_0x37ca("0xb9")][_0x37ca("0x10b9")]=0,window[_0x37ca("0x10d3")](this[_0x37ca("0x10d4")]),this[_0x37ca("0x10d4")]=0,this[_0x37ca("0x105a")][_0x37ca("0x2e5")]=0,this[_0x37ca("0x105a")][_0x37ca("0x10d5")]=0,this[_0x37ca("0x10d6")]=20,this.allowPlayDis={},this[_0x37ca("0x1059")]=[],this.filterList={}),this[_0x37ca("0x105a")]={index:0,dis2next:0},this[_0x37ca("0x109f")]={},this[_0x37ca("0x1051")]={},this[_0x37ca("0x10d0")]=null,this[_0x37ca("0x10d1")]=null,this[_0x37ca("0x1054")]=null,this.combinePoints=null,this[_0x37ca("0x1058")]=null,this.lastAngle=null}},{key:_0x37ca("0x10d7"),value:function(x,a){for(var c=this[_0x37ca("0x108e")][_0x37ca("0xa5")][_0x37ca("0xa6")],_=0,e=0;e<c.length;e++)if(a)c[e][_0x37ca("0x100")]=1;else{var t=_;if((c[e][_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x2d2"))<0||c[e][_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x9d9"))>=0)&&(_+=c[e][_0x37ca("0x4")]),!c[e][_0x37ca("0x11a")][_0x37ca("0x10d8")]){if(c[e].name[_0x37ca("0xda")](_0x37ca("0x2d2"))<0||c[e][_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0x9d9"))>=0){if(x<_){c[e][_0x37ca("0x100")]=(x-t)/c[e][_0x37ca("0x4")];break}}else c[e][_0x37ca("0x11a")][_0x37ca("0x10d8")]||(c[e-1]&&c[e-1][_0x37ca("0x11a")][_0x37ca("0x10d8")]?(c[e-1][_0x37ca("0x100")]=1,c[e][_0x37ca("0x100")]=1):c[e][_0x37ca("0x100")]=1);c[e].userData.passed=!0}}}},{key:_0x37ca("0x1092"),value:function(){}},{key:"_onstartNavi",value:function(x,a){if(this.startData&&this[_0x37ca("0x1048")]){this[_0x37ca("0x1058")]||(this[_0x37ca("0x1058")]=this._analyse().map((function(x){return{x:x.x,y:x.z,z:0,distance:x.distance,bid:x.bid,fnum:x.fnum,index:x[_0x37ca("0x10d9")]}})));var c=this;(a=a||{})[_0x37ca("0x10da")]||c[_0x37ca("0x10da")];if(a.scaleLevel=a.scaleLevel||c.scaleLevel||0,c[_0x37ca("0x10db")]((0,g[_0x37ca("0x1b8")])(a,_0x37ca("0x1a8"),_0x37ca("0xe5c"),_0x37ca("0x137"),1.01*c[_0x37ca("0x28")])),(c[_0x37ca("0x10dc")]||(0,g.getValues)(a,_0x37ca("0x6b2"),!1))&&c[_0x37ca("0x108f")](null,!0),c.isMultiFloors||this._linesVisible([c[_0x37ca("0x1047")][_0x37ca("0xe6")]]),c[_0x37ca("0x2f0")]&&c.scaleAnimate){var _=c[_0x37ca("0x39")][_0x37ca("0xf0")](this[_0x37ca("0x1047")][_0x37ca("0xef")]);c.isMultiFloors||(_[_0x37ca("0xe95")]=[c.startData.fnum]),_[_0x37ca("0x91b")]!=c[_0x37ca("0x1047")][_0x37ca("0xe6")]?(_[_0x37ca("0x91b")]={floornum:c[_0x37ca("0x1047")][_0x37ca("0xe6")],time:.3},setTimeout((function(){c[_0x37ca("0x106d")]({time:1.5,coord:{x:c[_0x37ca("0x1047")].x,y:c[_0x37ca("0x1047")].y},scaleLevel:c.scaleLevel,tiltAngle:10,onComplete:function(){x()}})}),300)):c[_0x37ca("0x106d")]({time:1.5,coord:{x:c[_0x37ca("0x1047")].x,y:c[_0x37ca("0x1047")].y},scaleLevel:c[_0x37ca("0x224")],tiltAngle:10,onComplete:function(){x()}})}else!function(){if(c[_0x37ca("0x39")].mode==esmap[_0x37ca("0x3c")].Building||c[_0x37ca("0x1047")][_0x37ca("0xef")]!=c.map.id){var a=c[_0x37ca("0x39")][_0x37ca("0xf0")](c.startData[_0x37ca("0xef")]);a.visibleFloorNums=[c.startData[_0x37ca("0xe6")]],a[_0x37ca("0x91b")]={floornum:c[_0x37ca("0x1047")][_0x37ca("0xe6")],time:.3},setTimeout((function(){x()}),300)}else x()}()}}},{key:_0x37ca("0x1c6"),value:function(){var x=this;x[_0x37ca("0x10dd")]((function(){x[_0x37ca("0x10d2")]=!0}))}},{key:_0x37ca("0x10de"),value:function(){}},{key:_0x37ca("0x10df"),value:function(x){var a=this;a[_0x37ca("0x1086")]||a[_0x37ca("0x2ae")](),a[_0x37ca("0x10dd")]((function(){a[_0x37ca("0x1053")]=!1,a[_0x37ca("0x10e0")]()}),x)}},{key:"walkTo",value:function(x,a){var c=this,_=x,e=_[_0x37ca("0x256")];if(!_.fnum){var t=c[_0x37ca("0x39")][_0x37ca("0x625")]();_[_0x37ca("0xe6")]=t[_0x37ca("0x91b")]}if(typeof _.x===_0x37ca("0x143")&&"number"==typeof _.y){if(_.x!=C.x||_.y!=C.y){var i=c[_0x37ca("0x39")][_0x37ca("0x17e")]({from:c.map.coordSystem,to:c[_0x37ca("0x39")][_0x37ca("0x17f")],coord:_});i.x<c[_0x37ca("0x39")][_0x37ca("0x43e")]-100||i.x>c[_0x37ca("0x39")][_0x37ca("0x453")]+100||i.y<c[_0x37ca("0x39")].minY-100||i.y>c[_0x37ca("0x39")][_0x37ca("0x440")]+100?_0x37ca("0x10e4"):((c.isNaving||c[_0x37ca("0x10cc")])&&function(){var x=c[_0x37ca("0x10e1")](_);if(x){var t={remain:x[_0x37ca("0x10ba")],walk:c[_0x37ca("0x1043")]-x[_0x37ca("0x10ba")],distanceToNext:x[_0x37ca("0x10c6")],angle:x.angle,point:x[_0x37ca("0x1c8")],index:x[_0x37ca("0x10e2")],isReal:!0,descriptionIndex:x[_0x37ca("0x10e2")],offset:x[_0x37ca("0x258")]};t.walk&&(c._preGid||(c[_0x37ca("0x10d0")]=c.startData.fnum),c._preBid||(c[_0x37ca("0x10d1")]=c.startData[_0x37ca("0xef")]),a=a||!1,c.curPathInfos={index:x[_0x37ca("0x2e5")],desIndex:x.naviinfoindex,dis2next:t[_0x37ca("0x10c6")]},c._walkingfunction(t,_,a,e))}}(),C.x=_.x,C.y=_.y)}}else console[_0x37ca("0xca")](_0x37ca("0x10e3"))}},{key:_0x37ca("0x10e1"),value:function(x){var a=this;if(a[_0x37ca("0x1047")]&&a[_0x37ca("0x1048")]){for(var c={coord:{fnum:x.fnum},distance:null,angle:0,balanceValue:null},_=a[_0x37ca("0x1058")],e={},t=function(x){for(var a=0,c=_.length-1;c>x[_0x37ca("0x2e5")];c--)if(c-1>x[_0x37ca("0x2e5")]){var e=_[c],t=_[c-1];e.fnum==t[_0x37ca("0xe6")]&&(a+=(0,f.DistanceofTwoPts)(e,t))}return a+=(0,f[_0x37ca("0xbd")])(_[x.index+1],x.coord)},i=t({coord:a[_0x37ca("0x39")][_0x37ca("0x253")](a.locationMarker[_0x37ca("0xb8")]),index:a[_0x37ca("0x105a")][_0x37ca("0x2e5")]}),n=1;n<_[_0x37ca("0x4")];n++){var r=_[n-1],s=_[n];if(r[_0x37ca("0xe6")]===x[_0x37ca("0xe6")]&&s[_0x37ca("0xe6")]===x[_0x37ca("0xe6")]){var l=(0,f[_0x37ca("0xbe")])(x,r,s,e),u=i-t({index:r[_0x37ca("0x2e5")],coord:e}),d=.5;a[_0x37ca("0x10cc")]&&(d=-1/0),Math[_0x37ca("0x24e")](u)<d&&0==(u*=10)&&(u=10);var h=.8*l+(l>1?Math[_0x37ca("0x24e")](.2*u):0);(null==c[_0x37ca("0x10e6")]||h<c[_0x37ca("0x10e6")])&&(c[_0x37ca("0x258")]=l,c.balanceValue=h,(0,o[_0x37ca("0xe")])(c[_0x37ca("0x1c8")],e),c[_0x37ca("0x252")]=a[_0x37ca("0x255")](r,s),c[_0x37ca("0x2e5")]=r[_0x37ca("0x2e5")],c.fnum=r.fnum)}}if(null!=c.distance){var g=t(c);c[_0x37ca("0x10ba")]=g-a[_0x37ca("0x1056")];var b=function(x){for(var c=a[_0x37ca("0x1077")],_=a[_0x37ca("0x1043")]-x,e=1/0,t=!1,i=!1,n=0,r=0,s=0,o=0,l=1,u=0;u<c[_0x37ca("0x4")];u++){var d=c[u];if(!i&&_<d[_0x37ca("0x10e5")])n=r=d.startPoint[_0x37ca("0xef")],i=!0,s=d[_0x37ca("0x10e5")]-_,o=u,l=d[_0x37ca("0x8d9")][_0x37ca("0xe6")],e=d.totalDisntance-_;else{if(t)return{distonex:s,index:o,nexbid:n,distancetonexbid:e,bid:r,fnum:l};if(i){var f=d[_0x37ca("0x8d9")][_0x37ca("0xef")];f!=r?(t=!0,n=f):e=d[_0x37ca("0x10e5")]-_}}}return i&&t?{distonex:s,index:o,nexbid:n,distancetonexbid:e,bid:r,fnum:l}:i&&!t?{distonex:s,index:o,nexbid:n,distancetonexbid:1/0,bid:r,fnum:l}:{distonex:0,index:c.length-1,distancetonexbid:1/0,bid:c[c[_0x37ca("0x4")]-1][_0x37ca("0x8d4")].bid,fnum:c[c[_0x37ca("0x4")]-1].endPoint[_0x37ca("0xe6")]}}(g-a[_0x37ca("0x1056")]);c[_0x37ca("0x10c6")]=b[_0x37ca("0x10e7")],c.naviinfoindex=b[_0x37ca("0x2e5")],c[_0x37ca("0x1c8")][_0x37ca("0xef")]=b.bid,c[_0x37ca("0x1c8")].fnum=b[_0x37ca("0xe6")],c[_0x37ca("0x10e8")]=b[_0x37ca("0x10e8")]}return c}}},{key:"getRouteAngle",value:function(x,a){var c=new(THREE[_0x37ca("0xe2")])(0,0,1),_=new(THREE[_0x37ca("0xe2")])(x.x,0,x.y),e=new THREE.Vector3(a.x,0,a.y).clone()[_0x37ca("0x2d7")](_)[_0x37ca("0x2d8")](),t=e[_0x37ca("0x248")](c)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")];return isNaN(t)&&(t=0),e[_0x37ca("0xde")]()[_0x37ca("0x2d2")](c).y>0?360-t:t}},{key:_0x37ca("0x10e9"),value:function(x,a,c){if(a>=c)return x[x.length-1];if(x){if(0==a)return x[0];for(var _,e,t=0,i=0,n=x[0],r=1;r<x[_0x37ca("0x4")];r++)if((_=x[r])[_0x37ca("0xe6")]==n[_0x37ca("0xe6")]){if((t+=(e=_[_0x37ca("0xde")]()[_0x37ca("0x2d7")](n))[_0x37ca("0x4")]())>=a){e.normalize();var s=n[_0x37ca("0xde")]().add(e.clone()[_0x37ca("0x26b")](a-i));return s[_0x37ca("0xe6")]=_.fnum,s[_0x37ca("0x2e5")]=_[_0x37ca("0x10d9")],s}(n=_[_0x37ca("0xde")]())[_0x37ca("0xe6")]=_[_0x37ca("0xe6")],n[_0x37ca("0x2e5")]=_[_0x37ca("0x10d9")],i=t}else(n=_.clone())[_0x37ca("0xe6")]=_.fnum,n[_0x37ca("0x2e5")]=_._index;var l=(0,o.default)(new(THREE[_0x37ca("0xe2")]),x[x[_0x37ca("0x4")]-1]);return l[_0x37ca("0x2e5")]=l[_0x37ca("0x10d9")],l}}},{key:_0x37ca("0x10ea"),value:function(x,a){var c=this,_=x.bid||c[_0x37ca("0x39")].id;if(x.id){var e,t;if(c[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].City&&x.bid==c[_0x37ca("0x39")].id)return this[_0x37ca("0x1052")]="室内","室内";if(1==c.mode){if(!c[_0x37ca("0x1061")][_0x37ca("0x10ae")][_0x37ca("0x1067")][_][_0x37ca("0x10eb")][_0x37ca("0x10ec")][x.id])return null;e=c[_0x37ca("0x1061")][_0x37ca("0x10ae")].dataList[_][_0x37ca("0x10eb")][_0x37ca("0x10ec")][x.id][0],t=c[_0x37ca("0x1061")][_0x37ca("0x10ae")][_0x37ca("0x1067")][_][_0x37ca("0x10ed")][e]}else{if(!c[_0x37ca("0x1061")][_0x37ca("0x10ae")][_0x37ca("0x1067")][_].crossSchemes.carModeScheme[x.id])return null;e=c[_0x37ca("0x1061")].routeCore.dataList[_][_0x37ca("0x10eb")].carModeScheme[x.id][0],t=c[_0x37ca("0x1061")][_0x37ca("0x10ae")][_0x37ca("0x1067")][_][_0x37ca("0x10ed")][e]}switch(1*t[_0x37ca("0x4f0")]||0){case 1:return this[_0x37ca("0x1052")]="楼梯","楼梯";case 2:return this.curLadder="电梯","电梯";case 3:return this[_0x37ca("0x1052")]="扶梯","扶梯";case 4:case 5:return this[_0x37ca("0x1052")]="坡道","坡道"}}return"梯"}},{key:_0x37ca("0x1082"),value:function(x){function a(x,a){var c=Math.PI/4,_=x/c,e=parseInt(_),t=_%1*c;return e%2==0?t>a&&(e+=1):t>=c-a&&(e+=1),e}function c(x,a){var c=a[_0x37ca("0x248")](x);return a.clone()[_0x37ca("0x2d2")](x).y<0&&(c=2*Math.PI-c),c}function _(x,_){if(_==x[_0x37ca("0x4")]-1)return{index:x[x[_0x37ca("0x4")]-1].index};var e=new(THREE[_0x37ca("0xe2")])(0,0,1),t=0==_?e:x[_][_0x37ca("0xde")]()[_0x37ca("0x2d7")](x[_-1])[_0x37ca("0x2d8")](),i=x[_+1][_0x37ca("0xde")]()[_0x37ca("0x2d7")](x[_]),n=i[_0x37ca("0x4")](),r=i[_0x37ca("0x2d8")](),s=a(c(e,r),22.5*THREE[_0x37ca("0x249")][_0x37ca("0xad5")]),o=c(t,r),l=a(o,22.5*THREE[_0x37ca("0x249")][_0x37ca("0xad5")]);return{relField:l,relDesc:A[l],relAngle:o*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")],absField:s,absDesc:p[s],distance:n,index:x[_][_0x37ca("0x2e5")]}}function e(x,a){for(var c=x[_0x37ca("0x39")]((function(x,a){var c=(0,o[_0x37ca("0xe")])(new THREE.Vector3,x),_=n[_0x37ca("0x39")].coordMapToThree(x);return c.x=_.x,c.y=_.y,c.z=_.z,c.index=a,c})),e=[],t=0;t<c[_0x37ca("0x4")];t++){var i=_(c,t);i[_0x37ca("0x3ca")]=x[t],i[_0x37ca("0xe6")]=a,e[_0x37ca("0x0")](i)}var r=[e[0]];for(t=1;t<e.length;t++)e[t][_0x37ca("0x10ee")]<=n[_0x37ca("0x10ef")]||360-e[t][_0x37ca("0x10ee")]<=n.combineAsset?r[r.length-1][_0x37ca("0x258")]+=e[t].distance:r[_0x37ca("0x0")](e[t]);return r}function t(x,a,c,_,e,t,i){var r=x[a],s=x[a+1],o=m[s[_0x37ca("0x10f0")]];if(n._boo=0,!o||n._boo)if(_){if(n._boo=!1,!o){var l=n[_0x37ca("0x39")][_0x37ca("0xf0")](i),u=n._getLadderType(s[_0x37ca("0x3ca")],c),d=_>c?"上行":"下行",f=l[_0x37ca("0x617")](_).floorDesc;o="室内"==u?_0x37ca("0x10f1"):"室外"==f?"进入 室外":"进入 "+u+" "+d+" 前往 "+f+" 层"}}else n[_0x37ca("0x10f2")]&&(n[_0x37ca("0x10f3")]=s.distance),o=_0x37ca("0xd6e");var h=[];return 0==a?h.push("直行",Math.ceil(r[_0x37ca("0x258")]),o):h[_0x37ca("0x0")]("直行",Math[_0x37ca("0xa18")](r[_0x37ca("0x258")]+(n[_0x37ca("0x10f2")]&&!_?s.distance:0)),o),h}function i(x,a,c,_,e,t,i){var r=x[a],s=x[a+1];if(!m[x[a+1][_0x37ca("0x10f0")]]||n[_0x37ca("0x10f2")])if(_){var o=_>c?"上":"下";s.relDesc=o}else s[_0x37ca("0x10f4")]="终";var l=r[_0x37ca("0x258")]+(n[_0x37ca("0x10f2")]&&!_?s[_0x37ca("0x258")]:0),u=s[_0x37ca("0x10c1")],d=!1,f=!1,h=!1,g=!1;return l<=40&&(h=!0),l<=20&&(d=!0),a==x[_0x37ca("0x4")]-1&&(f=!0,g=!0),{startPoint:r.point,startFloor:r[_0x37ca("0xe6")],startIndex:r.index,totalDisntance:r[_0x37ca("0x10e5")],endPoint:s[_0x37ca("0x3ca")],manModeTipStarted:d,manWalkedCount:30,carWalkedCount:40,parkDir:u,manModeTipEnded:f,carModeTipStarted:h,carModeTipEnded:g,endFloor:s[_0x37ca("0xe6")],endIndex:s[_0x37ca("0x2e5")],startDirection:r[_0x37ca("0x10f5")],endDirection:s.relDesc,distance:l}}var n=this;n[_0x37ca("0x1086")]=[],n[_0x37ca("0x10f2")]=!1,n._tailLen=0;for(var r,s,l,u,d,f=[],h=[],g=null,b=0,v=[],p=["北","东北","东","东南","南","西南","西","西北","北"],A=["前","右前","右","右后","后","左后","左","左前","前"],m=[_0x37ca("0x10f6"),_0x37ca("0xd6d"),"右转","右后转","后退",_0x37ca("0xd6c"),"左转",_0x37ca("0x10f7"),_0x37ca("0x10f6")],C=null,I=0,y=0;y<x[_0x37ca("0x4")];y++){if(g=(r=x[y]).fnum,l=null,y<x.length-1)for(d=y;d<x[_0x37ca("0x4")];d++)if(x[d][_0x37ca("0xe6")]!=g){l=x[d].fnum,u=x[d][_0x37ca("0xef")];break}var E=r[_0x37ca("0xef")];if(E,y<x[_0x37ca("0x4")]-1)for(var w=y;w<x[_0x37ca("0x4")];w++)if(x[w][_0x37ca("0xef")]!=E){x[w][_0x37ca("0xef")];break}var T,k=e(s=r[_0x37ca("0x1076")],g);T=s[0][_0x37ca("0xef")]==n[_0x37ca("0x39")].id?n[_0x37ca("0x39")][_0x37ca("0xf0")](0):n[_0x37ca("0x39")][_0x37ca("0xf0")](s[0].bid),k[_0x37ca("0x4")]>1&&Array.prototype[_0x37ca("0x0")][_0x37ca("0x3")](n[_0x37ca("0x1086")],k);n[_0x37ca("0x1086")][_0x37ca("0x4")];if(1==k[_0x37ca("0x4")]&&0!=r[_0x37ca("0x4")]&&Array[_0x37ca("0x11")][_0x37ca("0x0")][_0x37ca("0x3")](n[_0x37ca("0x1086")],k),1==k[_0x37ca("0x4")]){if(l&&0==r[_0x37ca("0x4")]&&(C==g||null==C)){var S=n._getLadderType(k[0][_0x37ca("0x3ca")]);S||(S=T.id);var M=T[_0x37ca("0x617")](l),R=void 0;R=(R=l>1&&0==T.id?"室内":M[_0x37ca("0xf48")])[_0x37ca("0x2b")]("").join(" ");var L=[_0x37ca("0x10f8")+S+" 前往 "+R+" 层"];f[_0x37ca("0x0")](L),h[_0x37ca("0x0")]({startPoint:s[0],startDirection:l>g?"上":"下",startFloor:g,endFloor:l,endPoint:x[d][_0x37ca("0x1076")][0]})}}else{for(var H=[(0,o.default)({},k[0])],P=1;P<k[_0x37ca("0x4")]-1;P++){var D=(0,o[_0x37ca("0xe")])({},k[P]);Math[_0x37ca("0x30e")](D[_0x37ca("0x10ee")],360-D[_0x37ca("0x10ee")])<=22.5?H[H[_0x37ca("0x4")]-1].distance+=D[_0x37ca("0x258")]:H[_0x37ca("0x0")](D)}H[_0x37ca("0x0")]((0,o[_0x37ca("0xe")])({},k[k[_0x37ca("0x4")]-1])),40004==n[_0x37ca("0x1048")][_0x37ca("0x43")]&&y==x[_0x37ca("0x4")]-1&&H.length>=3&&(H[_0x37ca("0xdab")](),H[H.length-1][_0x37ca("0x258")]<8&&(n[_0x37ca("0x1056")]=H[H.length-1][_0x37ca("0x258")],H[H[_0x37ca("0x4")]-1]={index:H[H[_0x37ca("0x4")]-1][_0x37ca("0x2e5")],point:H[H[_0x37ca("0x4")]-1][_0x37ca("0x3ca")],fnum:H[H.length-1][_0x37ca("0xe6")],parkDir:H[H[_0x37ca("0x4")]-1].relDesc}));for(var O=0;O<H[_0x37ca("0x4")]-1&&!n[_0x37ca("0x10f2")];O++)I+=H[O][_0x37ca("0x258")],H[O][_0x37ca("0x10e5")]=I,f[_0x37ca("0x0")](t(H,O,g,l,0,0,u)),h[_0x37ca("0x0")](i(H,O,g,l))}if(C=g,k.length>1){var B=k[_0x37ca("0xc6")]((function(x,a){return x+(a[_0x37ca("0x258")]||0)}),0);v[_0x37ca("0x0")]({fnum:g,distance:B}),b+=B}}return[f,h,b-=n[_0x37ca("0x1056")],v]}},{key:_0x37ca("0x10bd"),value:function(x,a,c,_,e){var t=this;function i(){t.locationMarker[_0x37ca("0xe6")]=x[_0x37ca("0xe6")],t[_0x37ca("0x595")][_0x37ca("0xed")]=!0}if(t[_0x37ca("0x10d0")]!=x[_0x37ca("0xe6")]||t[_0x37ca("0x10d1")]!=x[_0x37ca("0xef")]){t[_0x37ca("0x10d0")]=x[_0x37ca("0xe6")],t[_0x37ca("0x10fb")]++,t[_0x37ca("0x595")][_0x37ca("0xed")]=!1;var n={x:-x.x-t.map[_0x37ca("0x14c")][_0x37ca("0x19a")],y:x.z+t.map.mapScene[_0x37ca("0x19b")]};n[_0x37ca("0xe6")]=x.fnum,function(a){if(!t[_0x37ca("0x10f9")]){var c=t[_0x37ca("0x39")][_0x37ca("0xf0")](x[_0x37ca("0xef")]);0!=c.id&&(c.visibleFloorNums=[x[_0x37ca("0xe6")]],c[_0x37ca("0x91b")]={fnum:x[_0x37ca("0xe6")],notMove:!0});var _=t[_0x37ca("0x595")][_0x37ca("0x10fa")](),e=t[_0x37ca("0x107a")][t._groupPointsIndex];e&&e[_0x37ca("0x1076")]&&e[_0x37ca("0x1076")][_0x37ca("0x4")]>0&&(_=t[_0x37ca("0x107a")][t[_0x37ca("0x10fb")]].pointList[0]),_[_0x37ca("0xe6")]=x.fnum,t.locationMarker[_0x37ca("0x246")]({x:_.x,y:_.y,fnum:_.fnum,bid:x.bid,offsetHeight:1.01*t[_0x37ca("0x28")]})}a?(t[_0x37ca("0x39")][_0x37ca("0x10fc")]=!0,t._moveToID=t[_0x37ca("0x10fd")](n,t[_0x37ca("0x10da")],(function(){var x=t.map[_0x37ca("0x99a")][t[_0x37ca("0x224")]]<.2?t[_0x37ca("0x10fe")]:t.map[_0x37ca("0x99a")][t.scaleLevel];t[_0x37ca("0x39")][_0x37ca("0x971")]({value:x,time:t[_0x37ca("0x10da")],onComplete:function(){t[_0x37ca("0x105e")]=!1,t[_0x37ca("0x39")][_0x37ca("0x10fc")]=!1}}),i(),t[_0x37ca("0x10ff")]&&(t[_0x37ca("0x10ce")]=new(esmap[_0x37ca("0x1c1")].Tween)(t[_0x37ca("0x39")]).to({tiltAngle:t[_0x37ca("0x2f6")]},1e3*t.inTime)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")].Quadratic[_0x37ca("0x1bf")])[_0x37ca("0x1c6")]())}))):(i(),t[_0x37ca("0x105e")]=!1,t[_0x37ca("0x39")][_0x37ca("0x10fc")]=!1)}(!1),t[_0x37ca("0x242")](_0x37ca("0x1100"),x[_0x37ca("0xe6")])}t.followAngle&&(null===t.lastAngle||!isNaN(a)&&Math[_0x37ca("0x24e")](t[_0x37ca("0x104f")]-a)>.1)&&(t[_0x37ca("0x1060")]=t[_0x37ca("0x39")][_0x37ca("0x26c")]({angle:a,time:.6}));var r=1;if(e&&t[_0x37ca("0x104f")]!=a){var s=-a;s<0&&(s=360+s),t.locationMarker[_0x37ca("0x26c")]({angle:s,time:t.rotateTimer}),r=.2}t.lastAngle=a;var o={x:c.x,y:c.y,time:r};t[_0x37ca("0x595")][_0x37ca("0xed")]||(t[_0x37ca("0x595")][_0x37ca("0xed")]=!0),t[_0x37ca("0x10cc")]?o[_0x37ca("0x1ba")]=0:null!=t[_0x37ca("0x104a")]&&(o[_0x37ca("0x1ba")]=t[_0x37ca("0x104a")]);var l={x:o.x,y:o.y};l[_0x37ca("0x1ba")]=o[_0x37ca("0x1ba")],t[_0x37ca("0x595")].moveTo(l),t[_0x37ca("0x108e")][_0x37ca("0xa5")][_0x37ca("0xa6")][0]&&_&&t[_0x37ca("0x10d7")](_);var u=t[_0x37ca("0x1101")],d=1;!u&&t[_0x37ca("0x10cc")]&&(d=0);var f=(new Date)[_0x37ca("0x78")]();f-t[_0x37ca("0x1054")]>1e3*u+1e3*d&&(t[_0x37ca("0x2f0")]&&(t[_0x37ca("0x251")]=t.map[_0x37ca("0x95a")]({x:l.x,y:l.y,time:d})),t[_0x37ca("0x1054")]=f)}},{key:"_anim",value:function(){var x=this;x[_0x37ca("0x10cd")]&&clearInterval(x[_0x37ca("0x10cd")]);var a=x._analyse();x[_0x37ca("0x94a")][_0x37ca("0x1c6")](),x[_0x37ca("0x10cc")]=!0,x._groupPointsIndex=0,x[_0x37ca("0x10f3")]=0,x[_0x37ca("0x10cd")]=setInterval((function(){if(!x._isEnd_){var c=x.timerDelta;if(x[_0x37ca("0x1102")]=x[_0x37ca("0x2f3")]*c,!x[_0x37ca("0x105e")]&&!x[_0x37ca("0x2ca")]&&(x[_0x37ca("0x105d")]+=x.vvs,0!=x._allLen)){var _=x[_0x37ca("0x10e9")](a,x[_0x37ca("0x105d")]),e=x[_0x37ca("0x1043")]-x[_0x37ca("0x105d")],t=(0,o.default)({},_),i=(0,o[_0x37ca("0xe")])(new(THREE[_0x37ca("0xe2")]),_);t.y;if(!_)return void(x[_0x37ca("0x1053")]=!0);if(e<=0&&(x[_0x37ca("0x1053")]=!0,x[_0x37ca("0x595")][_0x37ca("0x246")](i.x,i.z,i[_0x37ca("0xe6")],1.01*x[_0x37ca("0x28")])),"NORMAL"==x.navMode)x[_0x37ca("0x1103")]({fnum:i[_0x37ca("0xe6")],x:i.x,y:i.z,orientToPath:!0});else{var n={x:i.x,y:i.z},r=0;if(a[_.index]){var s={x:a[_.index].x,y:a[_[_0x37ca("0x2e5")]].z};r=x[_0x37ca("0x255")](n,s)}x[_0x37ca("0x10b2")]({angle:r,remain:e,walk:x[_0x37ca("0x105d")],point:n,fnum:_.fnum||1,index:_[_0x37ca("0x2e5")]-1},n,100,!0)}}}}),10)}},{key:_0x37ca("0x1104"),value:function(){if(this[_0x37ca("0x1047")]&&this[_0x37ca("0x1048")]){if(this[_0x37ca("0x104c")]==_0x37ca("0x1105")){var x=-1,a=this[_0x37ca("0x1086")][_0x37ca("0x39")]((function(a,c){var _=new(THREE[_0x37ca("0xe2")])(a.x,0,a.z);return _.fnum=a[_0x37ca("0xe6")]||1,_.bid=a.bid||0,_._index=c,_[_0x37ca("0x1106")]=a[_0x37ca("0x10c7")],x=c,_})),c=this[_0x37ca("0x1086")][this[_0x37ca("0x1086")].length-1];return(_=new(THREE[_0x37ca("0xe2")])(c.x,0,c.z))[_0x37ca("0xe6")]=c[_0x37ca("0x1107")],_[_0x37ca("0x10d9")]=x+1,_[_0x37ca("0xef")]=c.bid,a.push(_),a}var _;x=-1,a=this[_0x37ca("0x1086")].map((function(a,c){var _=new THREE.Vector3(a[_0x37ca("0x3ca")].x,0,a[_0x37ca("0x3ca")].y);return _.fnum=a[_0x37ca("0x3ca")][_0x37ca("0xe6")],_[_0x37ca("0x10d9")]=c,_[_0x37ca("0x258")]=a.distance,_[_0x37ca("0xef")]=a.point[_0x37ca("0xef")],x=c,_})),c=this[_0x37ca("0x1086")][this[_0x37ca("0x1086")][_0x37ca("0x4")]-1];return(_=new(THREE[_0x37ca("0xe2")])(c[_0x37ca("0x3ca")].x,0,c[_0x37ca("0x3ca")].y))[_0x37ca("0xe6")]=c.point[_0x37ca("0xe6")],_[_0x37ca("0x10d9")]=x+1,_.distance=c[_0x37ca("0x258")],_[_0x37ca("0xef")]=c[_0x37ca("0x3ca")][_0x37ca("0xef")],a[_0x37ca("0x0")](_),a}}},{key:_0x37ca("0x1108"),value:function(x){for(var a=this[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x169")][_0x37ca("0x42e")],c=0;c<a[_0x37ca("0x4")];c++){if(a[c][_0x37ca("0x190")][x])return{floornum:a[c][_0x37ca("0x48f")]}}return null}},{key:_0x37ca("0x1109"),value:function(x){for(var a=this.map,c=this[_0x37ca("0x39")].sceneId_,e=(0,_[_0x37ca("0xe")])({},c,{}),t=0;t<x[_0x37ca("0x4")];t++){var i=x[t],n=i[_0x37ca("0x48f")];if(!n){var r=this[_0x37ca("0x1108")](i.id);if(!r){console[_0x37ca("0xca")](_0x37ca("0x110a")+i.id);continue}n=r[_0x37ca("0x48f")]}e[c][n]||(e[c][n]={}),e[c][n][i.id]=i[_0x37ca("0x6a2")]}for(var s in e){var l=e[s],u=a.mapService[_0x37ca("0x169")];if(u[_0x37ca("0x42e")]&&u.navs.length){for(var d={navs:[]},f=0;f<u.navs.length;f++){var h=u[_0x37ca("0x42e")][f],g=h[_0x37ca("0x48f")],b={},v=h[_0x37ca("0x4df")],p=l[g];for(var A in h[_0x37ca("0x190")]){var m=(0,o[_0x37ca("0xe")])({},h[_0x37ca("0x190")][A]);if(p&&p[_0x37ca("0x1")](A))switch(p[A]){case 0:continue;case 1:b[A]=m;break;case 2:m.direction="1",b[A]=m;break;case 3:m[_0x37ca("0x4f1")]="1";var C=m[_0x37ca("0x4e9")];m[_0x37ca("0x4e9")]=m[_0x37ca("0x4ee")],m[_0x37ca("0x4ee")]=C,b[A]=m;break;case 4:m[_0x37ca("0x4f1")]="0",b[A]=m}else b[A]=m}d[_0x37ca("0x42e")][_0x37ca("0x0")]({floornum:g,Lines:b,Nodes:v})}this.routePlanner[_0x37ca("0x10ae")][_0x37ca("0x1067")][s]=null,this[_0x37ca("0x1061")].routeCore[_0x37ca("0x848")][s]=d,this[_0x37ca("0x1061")].routeCore[_0x37ca("0x110b")](s)}else console[_0x37ca("0xca")]("源数据不存在: "+s)}}},{key:_0x37ca("0x110c"),get:function(){return this[_0x37ca("0x107a")]}},{key:_0x37ca("0x37"),get:function(){return v[_0x37ca("0x34a")](this)},set:function(x){this[_0x37ca("0x37")]!=x?(v.set(this,x),this[_0x37ca("0x1071")]()):v[_0x37ca("0x11d")](this,x)}},{key:_0x37ca("0x10a9"),get:function(){return m[_0x37ca("0x34a")](this)},set:function(x){var a=this[_0x37ca("0x10a9")];m.set(this,x),a!=x&&this[_0x37ca("0x242")](_0x37ca("0x110d"),x)}},{key:_0x37ca("0x10b5"),get:function(){return p[_0x37ca("0x34a")](this)},set:function(x){this[_0x37ca("0x10b5")]!=x?(p.set(this,x),this[_0x37ca("0x1071")]()):p[_0x37ca("0x11d")](this,x)}},{key:_0x37ca("0x595"),get:function(){if(!A.get(this)){var x=this[_0x37ca("0x110e")];x[_0x37ca("0x4a")]=this[_0x37ca("0x110f")]||_0x37ca("0x1110"),x.size=this[_0x37ca("0x1111")]||50,x[_0x37ca("0xe68")]=this[_0x37ca("0x1112")],x.seeThrough=this[_0x37ca("0x1113")],A[_0x37ca("0x11d")](this,new(esmap[_0x37ca("0x5c5")])(x)),this[_0x37ca("0x39")][_0x37ca("0xad8")](A.get(this))}return A.get(this)},set:function(x){x instanceof esmap[_0x37ca("0x5c5")]&&(A[_0x37ca("0x11d")](this,x),this[_0x37ca("0x39")][_0x37ca("0xad8")](A[_0x37ca("0x34a")](this)))}}]),x}();a[_0x37ca("0xe")]=y},,,,,,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=s(c(43)),e=s(c(8)),t=s(c(0)),i=s(c(1)),n=s(c(344)),r=c(70);function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(){function x(){(0,t.default)(this,x),this[_0x37ca("0x10ae")]=new(n[_0x37ca("0xe")]),this[_0x37ca("0x1073")]=null,this.appKey=null}return(0,i[_0x37ca("0xe")])(x,[{key:"analyticRouteData",value:function(x){for(var a={distance:x[_0x37ca("0x32")][0][_0x37ca("0x258")],posList:[]},c=x[_0x37ca("0x32")][0].steps,_=0,e=0,t=c.length;e<t;e++)for(var i=c[e],n=this[_0x37ca("0x1114")](i[_0x37ca("0x1115")]),s=this[_0x37ca("0x1116")](n),o=e==c[_0x37ca("0x4")]-1?s[_0x37ca("0x4")]:s.length-1,l=0;l<o;l++){var u=s[l],d=(new(THREE[_0x37ca("0xe2")]))[_0x37ca("0x268")](u);if(d[_0x37ca("0x10c7")]=e,a[_0x37ca("0x1117")][_0x37ca("0x0")](d),a[_0x37ca("0x1117")][_0x37ca("0x4")]>1){var f=a[_0x37ca("0x1117")][a[_0x37ca("0x1117")].length-2],h=a[_0x37ca("0x1117")][a[_0x37ca("0x1117")][_0x37ca("0x4")]-1];_+=(0,r[_0x37ca("0xbd")])({x:f.x,y:f.z},{x:h.x,y:h.z})}}return a[_0x37ca("0x1118")]=_,a}},{key:_0x37ca("0x1119"),value:function(x,a){var c=this;return new(e[_0x37ca("0xe")])((function(_,e){var t=a.url+"?",i=!1;for(var n in a[_0x37ca("0x31b")])i&&(t+="&"),t+=n+"="+a.param[n],i=!0;esmap[_0x37ca("0x585")][_0x37ca("0x34a")]({url:t})[_0x37ca("0x347")]((function(a){var t=JSON[_0x37ca("0x68")](a);if("1"===t.status||0===t.errcode){var i,n=null;"bicycling"!==x?(i=t[_0x37ca("0x111a")].paths[0],n=t[_0x37ca("0x111a")]):(i=t[_0x37ca("0x34f")].paths[0],n=t.data);for(var r=c[_0x37ca("0x111b")](n),s=r.computeDistance,o=[],l=r[_0x37ca("0x1117")],u=null,d=0;d<l[_0x37ca("0x4")];d++){var f=l[d];u&&f.x===u.x&&f.z===u.z||(o[_0x37ca("0x0")]({x:f.x,y:f.z}),u=f)}_({pointList:o,rawPointList:r[_0x37ca("0x1117")],distance:s,des:i[_0x37ca("0x111c")]})}else e(),c[_0x37ca("0x242")]("checkStatus",0)}))}))}},{key:_0x37ca("0x1114"),value:function(x){var a=x[_0x37ca("0x2b")](";"),c=[],e=!0,t=!1,i=void 0;try{for(var n,r=(0,_[_0x37ca("0xe")])(a);!(e=(n=r[_0x37ca("0x29a")]()).done);e=!0){var s=n[_0x37ca("0xf2")].split(","),o=[parseFloat(s[0]),parseFloat(s[1])];c[_0x37ca("0x0")](o)}}catch(x){t=!0,i=x}finally{try{!e&&r[_0x37ca("0x2a0")]&&r[_0x37ca("0x2a0")]()}finally{if(t)throw i}}return c}},{key:_0x37ca("0x1116"),value:function(x){var a=[],c=!0,e=!1,t=void 0;try{for(var i,n=(0,_.default)(x);!(c=(i=n[_0x37ca("0x29a")]())[_0x37ca("0x3d1")]);c=!0){var r=i[_0x37ca("0xf2")],s=esmap[_0x37ca("0x7b")][_0x37ca("0x646")](r[0],r[1]);a[_0x37ca("0x0")](new(THREE[_0x37ca("0xe2")])(s[0],0,s[1]))}}catch(x){e=!0,t=x}finally{try{!c&&n.return&&n[_0x37ca("0x2a0")]()}finally{if(e)throw t}}return a}},{key:_0x37ca("0x111d"),value:function(x,a,c){var _="";return x===_0x37ca("0x111e")&&(_=_0x37ca("0x111f")),x===_0x37ca("0x10bc")&&(_=_0x37ca("0x1120")),x===_0x37ca("0x1121")&&(_="https://restapi.amap.com/v4/direction/bicycling"),{url:_,param:{origin:a[0][_0x37ca("0x60a")](6)+","+a[1][_0x37ca("0x60a")](6),destination:c[0][_0x37ca("0x60a")](6)+","+c[1][_0x37ca("0x60a")](6),output:_0x37ca("0xb2"),key:this[_0x37ca("0x1042")]}}}},{key:_0x37ca("0x1072"),value:function(x){var a=x.bid,c=x.startPoint,_=x[_0x37ca("0x8d4")],e=x[_0x37ca("0x37")],t=x[_0x37ca("0x10b5")],i=x[_0x37ca("0x107e")],n=x.linkMinDistance,r=x.useAMap,s=x[_0x37ca("0x22a")],o=esmap[_0x37ca("0x7b")][_0x37ca("0xaa")](c.x,c.y),l=esmap[_0x37ca("0x7b")].Mercator2lonLat(_.x,_.y);if(r){var u=this[_0x37ca("0x111d")](s,o,l);return this.requestAMapData(s,u)}return this[_0x37ca("0x10ae")][_0x37ca("0x1122")]({linkMinDistance:n,linkStartEnd:i,bid:a,startPoint:c,endPoint:_,mode:e,ladderType:t})}},{key:_0x37ca("0x107c"),value:function(x,a){return this[_0x37ca("0x10ae")][_0x37ca("0x1123")](x,a)}},{key:_0x37ca("0x1124"),value:function(x){this[_0x37ca("0x10ae")][_0x37ca("0x848")]=x}},{key:"routeBetweenBuildings",value:function(x,a,c,_){return this[_0x37ca("0x10ae")][_0x37ca("0x1125")](x,a,c,_)}},{key:_0x37ca("0x1065"),value:function(x){this[_0x37ca("0x10ae")].preferCrosses=[];for(var a=0;a<x[_0x37ca("0x4")];a++)this[_0x37ca("0x10ae")][_0x37ca("0x1126")].push(x[a]+"")}}]),x}();a.default=o},function(x,a,c){"use strict";(function(x){Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=h(c(10)),e=h(c(97)),t=h(c(345)),i=h(c(31)),n=h(c(33)),r=h(c(53)),s=h(c(2)),o=h(c(0)),l=h(c(1)),u=c(70),d=c(19),f=c(346);function h(x){return x&&x.__esModule?x:{default:x}}var g=function(){function a(){(0,o.default)(this,a);var x=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this[_0x37ca("0x1067")]={},this.source={},this[_0x37ca("0x1126")]=[],this[_0x37ca("0x107f")]=5,this.linkStartEnd=!0,this.roomNodeMap={},this[_0x37ca("0x1127")]={},this[_0x37ca("0x1128")]=x.id,this[_0x37ca("0x1129")]={},this[_0x37ca("0x112a")]()}return(0,l[_0x37ca("0xe")])(a,[{key:_0x37ca("0x112a"),value:function(){var x=this,a=esmap[_0x37ca("0x34")].instance,c=a[_0x37ca("0x157")][_0x37ca("0x18f")];for(var _ in c){var e=c[_];e[_0x37ca("0x190")]&&e[_0x37ca("0x4df")]&&this[_0x37ca("0x112b")](e)}a.on(_0x37ca("0xcc4"),(function(a){a[_0x37ca("0xef")];var c=a.data;x[_0x37ca("0x112b")](c)}));var t=a[_0x37ca("0x999")].navData;for(var i in t){var n=t[i];this[_0x37ca("0x110b")](i,n)}a.on(_0x37ca("0x998"),(function(a){var c=a.bid,_=a[_0x37ca("0x34f")];x[_0x37ca("0x110b")](c,_)}))}},{key:_0x37ca("0x112c"),value:function(x){var a=esmap[_0x37ca("0x34")][_0x37ca("0x35")],c=a.id;if(x[_0x37ca("0xee")]){for(var _=[],e=0;e<x[_0x37ca("0xee")].length;e++){var t=x[_0x37ca("0xee")][e],i={x:t.x,y:t.y};_[_0x37ca("0x0")]({X:i.x,Y:i.y,bid:c,fnum:1})}return _}var n=x[_0x37ca("0x198")][_0x37ca("0x1ac")](2,x[_0x37ca("0x198")][_0x37ca("0x4")]-2)[_0x37ca("0x2b")](/,/),r={x:0,y:0},s=[];if(0==n[_0x37ca("0x4")])return!1;for(var o={x:0,y:0,z:0},l=0;l<n[_0x37ca("0x4")];l++){var u=n[l][_0x37ca("0x2b")](" "),d=1*u[2]||0,f=a.transformCoord({from:a[_0x37ca("0x17f")],to:a[_0x37ca("0x180")],coord:{x:1*u[0]+r.x+o.x,y:1*u[1]+r.y+o.y}});s[_0x37ca("0x0")]({X:f.x,Y:f.y,bid:c,fnum:1,offset:d+o.z}),0==l&&(r.x=1*u[0],r.y=1*u[1])}return s}},{key:_0x37ca("0x112b"),value:function(x){var a=this,c=esmap[_0x37ca("0x34")][_0x37ca("0x35")].id;a[_0x37ca("0x848")][c]||(a[_0x37ca("0x848")][c]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,s.default)(a[_0x37ca("0x848")][c][_0x37ca("0x42e")][0][_0x37ca("0x190")],x[_0x37ca("0x190")]),(0,s[_0x37ca("0xe")])(a.source[c][_0x37ca("0x42e")][0].Nodes,x[_0x37ca("0x4df")]),a[_0x37ca("0x1067")][c]||(a.dataList[c]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}});var _=a[_0x37ca("0x1067")][c][_0x37ca("0x112d")],e=a[_0x37ca("0x1067")][c].allLineMap,t=a[_0x37ca("0x1067")][c][_0x37ca("0x10af")],i=x,n=i[_0x37ca("0x4df")];for(var r in n){var o=n[r];o[_0x37ca("0xe6")]=1,o[_0x37ca("0xef")]=c,_[r]=o}var l=i[_0x37ca("0x190")];for(var r in l)l[r].length=l[r].dis,e[r]=l[r];for(var u in l){var d=l[u],f=null;if(d[_0x37ca("0xee")]&&d[_0x37ca("0xee")].length>=3)f=this.computeLinePoints(d);else{var h=this.computeLinePoints(d);h.length>=3&&(f=h)}var g=d[_0x37ca("0x4e9")],b=d[_0x37ca("0x4ee")];if(f){var v=g+"_"+b,p=b+"_"+g;this[_0x37ca("0x1129")][v]=f,this[_0x37ca("0x1129")][p]=f[_0x37ca("0x14")]()[_0x37ca("0x2f7")]()}var A=u;if(t[g])t[g][_0x37ca("0x0")](A);else{var m=[A];t[g]=m}if(t[b])t[b][_0x37ca("0x0")](A);else{m=[A];t[b]=m}}}},{key:_0x37ca("0x110b"),value:function(a,c){x[_0x37ca("0x112e")]==_0x37ca("0x112f")&&console[_0x37ca("0x23b")](_0x37ca("0x1130"),a,c);var _=this,e=esmap[_0x37ca("0x34")][_0x37ca("0x35")];if(!_[_0x37ca("0x1067")][a]){var s=e.id;e[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]&&(_.dataList[a]||(_.dataList[a]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}})),_[_0x37ca("0x1067")][s]||(_[_0x37ca("0x1067")][s]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),this[_0x37ca("0x848")][a]={navs:c},this[_0x37ca("0x10b5")]=null,this[_0x37ca("0x1081")]=[];for(var o={},l={1:[],2:[],3:[],6:[]},u={},d={},f={},h=c,g=(e[_0x37ca("0xf0")](a),0);g<h.length;g++){var b=h[g],v=b.floornum;if(b){var p=b[_0x37ca("0x4df")];for(var A in p){var m=p[A];if(m.fnum=v,m[_0x37ca("0x43")]&&11==m[_0x37ca("0x43")]&&s!=a){var C=this.getNearestGate({bid:s,x:m.X,y:m.Y})[_0x37ca("0x636")][_0x37ca("0x176")];if(C){for(var I=_[_0x37ca("0x1067")][s].nearbyLine[C],y=0;y<I[_0x37ca("0x4")];y++){var E=_.dataList[s][_0x37ca("0x10ed")][I[y]];E[_0x37ca("0x4e9")]==C?E[_0x37ca("0x4e9")]=m[_0x37ca("0x176")]:E[_0x37ca("0x4ee")]=m[_0x37ca("0x176")]}_[_0x37ca("0x1067")][s].nearbyLine[m._id]=I,delete _[_0x37ca("0x1067")][s].allPointMap[_0x37ca("0x1131")]}else console[_0x37ca("0xca")]("找不到进入室内"+a+_0x37ca("0x1132"))}s!=a&&(m[_0x37ca("0xef")]=a,_[_0x37ca("0x1067")][s].allPointMap[A]&&console[_0x37ca("0xca")]("重复的点",A),_.dataList[s].allPointMap[A]=m),u[A]=m}var w=b.Lines;for(var T in w)s!=a&&(_[_0x37ca("0x1067")][s][_0x37ca("0x10ed")][T]&&_0x37ca("0x1133"),_[_0x37ca("0x1067")][s][_0x37ca("0x10ed")][T]=w[T]),d[T]=w[T];for(var k in w){var S=w[k],M=S[_0x37ca("0x4e9")],R=S[_0x37ca("0x4ee")],L=k,H=S[_0x37ca("0x4f0")],P=null;if(v!=S[_0x37ca("0x4ef")]){if(["1","2","3","6"][_0x37ca("0xda")](H)<0){if(o[M])o[M][_0x37ca("0x0")](L);else{var D=[L];o[M]=D}if(o[R])o[R].push(L);else{D=[L];o[R]=D}}else if("5"!=H&&"0"!=H&&"6"!=H){var O,B,N=l[H];if("3"==H){var F=u[M];F=new(THREE[_0x37ca("0x563")])(F.X,F.Y);var z=_[_0x37ca("0x1123")](a,R),j=(z=new THREE.Vector2(z.X,z.Y))[_0x37ca("0xde")]()[_0x37ca("0x2d7")](F),X=j.length();j[_0x37ca("0x2d8")](),P=F.clone()[_0x37ca("0xe0")](j[_0x37ca("0xde")]()[_0x37ca("0x26b")](X/2))}else{var Y=u[M];P=new(THREE[_0x37ca("0x563")])(Y.X,Y.Y)}if(!N)return void console[_0x37ca("0xca")](_0x37ca("0x1134"));if(0==N[_0x37ca("0x4")])N.push({pointids:[M,R],fnums:[v,S[_0x37ca("0x4ef")]],lineids:[k],ladderType:H,cen:P,crosses:(O={},(0,r.default)(O,M,[k]),(0,r[_0x37ca("0xe")])(O,R,[k]),O),fnumPoints:[(B={},(0,r.default)(B,M,{at:v,to:S[_0x37ca("0x4ef")]}),(0,r[_0x37ca("0xe")])(B,R,{at:S[_0x37ca("0x4ef")],to:v}),B)]});else for(var U=0;U<N[_0x37ca("0x4")];U++){var G,Q,V=N[U];if(2==H){if(V.pointids[_0x37ca("0xda")](M)>-1||V[_0x37ca("0x1135")][_0x37ca("0xda")](R)>-1){var W;V[_0x37ca("0x1135")][_0x37ca("0x0")](M,R),V.fnums[_0x37ca("0x0")](v,S[_0x37ca("0x4ef")]),V[_0x37ca("0x1136")].push(k),V[_0x37ca("0x1136")]=[][_0x37ca("0x15")]((0,n.default)(new(i[_0x37ca("0xe")])(V[_0x37ca("0x1136")]))),V[_0x37ca("0x144")]=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(new i.default(V[_0x37ca("0x144")]))),V.pointids=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(new(i[_0x37ca("0xe")])(V[_0x37ca("0x1135")]))),V[_0x37ca("0x1137")][_0x37ca("0x0")]((W={},(0,r[_0x37ca("0xe")])(W,M,{at:v,to:S[_0x37ca("0x4ef")]}),(0,r[_0x37ca("0xe")])(W,R,{at:S.efnum,to:v}),W)),V[_0x37ca("0x1138")][M]?(V[_0x37ca("0x1138")][M][_0x37ca("0x0")](k),V[_0x37ca("0x1138")][M][_0x37ca("0x0")](k)):V[_0x37ca("0x1138")][M]=[k],V.crosses[R]?V[_0x37ca("0x1138")][R][_0x37ca("0x0")](k):V.crosses[R]=[k];break}}else if(V.pointids[_0x37ca("0xda")](M)>-1||V[_0x37ca("0x1135")][_0x37ca("0xda")](R)>-1){var Z;V[_0x37ca("0x1135")].push(M,R),V[_0x37ca("0x144")][_0x37ca("0x0")](v,S[_0x37ca("0x4ef")]),V[_0x37ca("0x1136")][_0x37ca("0x0")](k),V[_0x37ca("0x1136")]=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(new(i[_0x37ca("0xe")])(V[_0x37ca("0x1136")]))),V.fnums=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(new(i[_0x37ca("0xe")])(V[_0x37ca("0x144")]))),V[_0x37ca("0x1135")]=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(new(i[_0x37ca("0xe")])(V[_0x37ca("0x1135")]))),V.fnumPoints[_0x37ca("0x0")]((Z={},(0,r[_0x37ca("0xe")])(Z,M,{at:v,to:S[_0x37ca("0x4ef")]}),(0,r.default)(Z,R,{at:S.efnum,to:v}),Z)),V[_0x37ca("0x1138")][M]?V.crosses[M][_0x37ca("0x0")](k):V.crosses[M]=[k],2==V[_0x37ca("0x1138")][M].length&&V[_0x37ca("0x1138")][M][0]==V[_0x37ca("0x1138")][M][1]&&V.crosses[M].splice(1,1),V[_0x37ca("0x1138")][R]?V[_0x37ca("0x1138")][R].push(k):V[_0x37ca("0x1138")][R]=[k],2==V[_0x37ca("0x1138")][R][_0x37ca("0x4")]&&V.crosses[R][0]==V[_0x37ca("0x1138")][R][1]&&V[_0x37ca("0x1138")][R][_0x37ca("0x5")](1,1);break}if(U==N[_0x37ca("0x4")]-1)N.push({pointids:[M,R],fnums:[v,S[_0x37ca("0x4ef")]],lineids:[k],ladderType:H,cen:P,fnumPoints:[(G={},(0,r.default)(G,M,{at:v,to:S[_0x37ca("0x4ef")]}),(0,r[_0x37ca("0xe")])(G,R,{at:S[_0x37ca("0x4ef")],to:v}),G)],crosses:(Q={},(0,r[_0x37ca("0xe")])(Q,M,[k]),(0,r[_0x37ca("0xe")])(Q,R,[k]),Q)})}}}else{if(s!=a){var J=_[_0x37ca("0x1067")][s][_0x37ca("0x10af")];if(J[M])J[M][_0x37ca("0x0")](L);else{var K=[L];J[M]=K}if(J[R])J[R].push(L);else{var q=[L];J[R]=q}}if(f[M])f[M].push(L);else{D=[L];f[M]=D}if(f[R])f[R][_0x37ca("0x0")](L);else{D=[L];f[R]=D}}}}}var $=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])(l[1]),(0,n[_0x37ca("0xe")])(l[2]),(0,n[_0x37ca("0xe")])(l[3])),xx={};$[_0x37ca("0x1f")]((function(x){xx=(0,t[_0x37ca("0xe")])({},xx,x[_0x37ca("0x1138")])})),xx=(0,t.default)({},xx,o),_[_0x37ca("0x1067")][s][_0x37ca("0x10eb")].manModeScheme=[][_0x37ca("0x15")]((0,n[_0x37ca("0xe")])($),(0,n.default)(_[_0x37ca("0x1067")][s].crossSchemes[_0x37ca("0x1139")])),_[_0x37ca("0x1067")][s][_0x37ca("0x10eb")].manModeAllScheme=(0,t[_0x37ca("0xe")])({},xx,_[_0x37ca("0x1067")][s].crossSchemes[_0x37ca("0x10ec")],_.dataList[s][_0x37ca("0x10eb")][_0x37ca("0x113a")]),_[_0x37ca("0x1067")][s][_0x37ca("0x10eb")][_0x37ca("0x113a")]=(0,t[_0x37ca("0xe")])({},o,_[_0x37ca("0x1067")][s][_0x37ca("0x10eb")][_0x37ca("0x113a")]),_[_0x37ca("0x1067")][a]={allPointMap:u,allLineMap:d,nearbyLine:f,crossSchemes:{carModeScheme:o,manModeScheme:$,manModeAllScheme:xx}},x[_0x37ca("0x112e")]==_0x37ca("0x112f")&&console[_0x37ca("0x23b")](_0x37ca("0x113b")),e.fire(_0x37ca("0x113b"),{bid:a})}}},{key:_0x37ca("0x1122"),value:function(x){this[_0x37ca("0x107e")]=x[_0x37ca("0x107e")],this[_0x37ca("0x107f")]=x[_0x37ca("0x107f")];var a=x[_0x37ca("0x37")];this[_0x37ca("0x1081")]=[],x.startPoint[_0x37ca("0xe6")]||(x[_0x37ca("0x8d9")][_0x37ca("0xe6")]=1),x[_0x37ca("0x8d4")][_0x37ca("0xe6")]||(x.endPoint.fnum=1);var c=this[_0x37ca("0x113c")](x[_0x37ca("0x8d9")].bid,x.startPoint[_0x37ca("0xe6")]),_=this[_0x37ca("0x113c")](x.endPoint[_0x37ca("0xef")],x.endPoint[_0x37ca("0xe6")]);if(!c||!_)return _0x37ca("0x113d"),[new(esmap[_0x37ca("0x5cd")])(x[_0x37ca("0x8d9")][_0x37ca("0xef")],x[_0x37ca("0x113e")],0,[])];var e=this[_0x37ca("0x113f")](x[_0x37ca("0x8d9")][_0x37ca("0xef")],x[_0x37ca("0x8d9")],a),t=this[_0x37ca("0x113f")](x[_0x37ca("0x8d4")][_0x37ca("0xef")],x.endPoint,a);if(!e||!t)return null;var i=c[_0x37ca("0x4df")][e._id],n=_[_0x37ca("0x4df")][t[_0x37ca("0x176")]];return i&&n?(x[_0x37ca("0x8d4")].id=t[_0x37ca("0x176")],this[_0x37ca("0x1141")]({startPoint:x[_0x37ca("0x8d9")],endPoint:x[_0x37ca("0x8d4")],mode:x[_0x37ca("0x37")],ladderType:x[_0x37ca("0x10b5")]})):(console[_0x37ca("0x29d")](_0x37ca("0x1140")),null)}},{key:"getPointById",value:function(x,a){for(var c=this[_0x37ca("0x848")][x].navs,_=0;_<c[_0x37ca("0x4")];_++){var e=c[_][_0x37ca("0x4df")];if(e[a])return e[a]}return null}},{key:_0x37ca("0x113c"),value:function(x,a){for(var c=this[_0x37ca("0x848")][x][_0x37ca("0x42e")],_=0;_<c[_0x37ca("0x4")];_++)if(c[_].floornum==a)return c[_]}},{key:_0x37ca("0x1141"),value:function(x){var a=null,c=this,i=x[_0x37ca("0x8d9")],n=x[_0x37ca("0x8d4")],r=i[_0x37ca("0xe6")],o=n[_0x37ca("0xe6")],l=x[_0x37ca("0x37")],d=x[_0x37ca("0x10b5")],h=x[_0x37ca("0x1142")],g=this.baseSceneId,b=this[_0x37ca("0x113f")](i[_0x37ca("0xef")],x.startPoint,x[_0x37ca("0x37")],h),v=this[_0x37ca("0x113f")](n[_0x37ca("0xef")],x.endPoint,l,h),p=b[_0x37ca("0x176")],A=v[_0x37ca("0x176")],m=esmap[_0x37ca("0x34")].instance;if(p==A)return null;var C=null,I=c.dataList[g].allPointMap;if(1==l)if(r==o||i[_0x37ca("0xef")]!=n[_0x37ca("0xef")])(C=this[_0x37ca("0x1143")]({},p,A,l,g,d))&&0!=C.length||(C=this.getShortestPath(c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")].manModeAllScheme,p,A,l,g,d));else{var y=[],E=c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x1139")];(0,e[_0x37ca("0xe")])(E).forEach((function(x){x[_0x37ca("0x1ab")]=0,x.hold=!1,x[_0x37ca("0x144")][_0x37ca("0xda")](r)>-1&&x.fnums[_0x37ca("0xda")](o)>-1&&(1==d?(Math[_0x37ca("0x24e")](r-o)>=3&&2==x[_0x37ca("0x10b5")]&&(x[_0x37ca("0x1ab")]+=20),y[_0x37ca("0x0")](x)):2==d&&2==x[_0x37ca("0x10b5")]?y.push(x):(3==d&&1==x.ladderType||4==d&&3==x.ladderType)&&y[_0x37ca("0x0")](x))})),y[_0x37ca("0x1f")]((function(x){for(var a,c=void 0,_=o-r>0,e=0;e<x[_0x37ca("0x1137")][_0x37ca("0x4")];e++){var t=x[_0x37ca("0x1137")][e];if(a&&c)break;for(var s in t){var l=t[s].to-t[s].at>0;t[s].at==r&&l==_?a=s:t[s].at==o&&l==!_&&(c=s)}}if(a&&c){var d=null;if(p==a)d=.001;else{var h=I[a],g=(0,u[_0x37ca("0xbd")])(i,{x:h.X,y:h.Y}),b=I[c];d=g+(0,u[_0x37ca("0xbd")])(n,{x:b.X,y:b.Y})+(0,f[_0x37ca("0x1144")])({X:i.x,Y:i.y},h)}x[_0x37ca("0x1ab")]+=500/d}})),y[_0x37ca("0x408")]((function(x,a){return a.rank-x.rank}));for(var w=0;w<y[_0x37ca("0x4")];w++)if(!y[w][_0x37ca("0xa6d")])try{if((C=this[_0x37ca("0x1143")](y[w][_0x37ca("0x1138")],p,A,l,g,d))&&0!=C[_0x37ca("0x4")])break;continue}catch(x){continue}var T=null;if(this[_0x37ca("0x1126")][_0x37ca("0x4")]>0)for(var k in T={},c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x10ec")]){for(var S=!1,M=c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")].manModeAllScheme[k],R=0;R<M[_0x37ca("0x4")];R++)if(this[_0x37ca("0x1126")][_0x37ca("0xda")](M[R])>-1){S=!0;break}S&&(T[k]=M)}if(!C||0==C[_0x37ca("0x4")])if(1==d)T&&(C=this[_0x37ca("0x1143")](T,p,A,l,g,d)),C&&0!=C[_0x37ca("0x4")]||(C=this.getShortestPath(c.dataList[g][_0x37ca("0x10eb")][_0x37ca("0x10ec")],p,A,l,g,d));else{var L={};for(var H in c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")].manModeScheme)"1"==c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x1139")][H][_0x37ca("0x10b5")]&&3==d||"2"==c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x1139")][H].ladderType&&2==d?L=(0,t.default)({},L,c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x1139")][H][_0x37ca("0x1138")]):"3"==c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x1139")][H][_0x37ca("0x10b5")]&&4==d&&(L=(0,t[_0x37ca("0xe")])({},L,c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")].manModeScheme[H][_0x37ca("0x1138")]));T&&(C=this[_0x37ca("0x1143")](T,p,A,l,g,d)),C&&0!=C.length||(C=this[_0x37ca("0x1143")](L,p,A,l,g,d)),C&&0!=C[_0x37ca("0x4")]||(C=this[_0x37ca("0x1143")](c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x10ec")],p,A,l,g,d))}}else if(r==o)C=this[_0x37ca("0x1143")]({},p,A,l,g,d);else{var P=c[_0x37ca("0x1067")][g][_0x37ca("0x10eb")][_0x37ca("0x113a")];C=this[_0x37ca("0x1143")](P,p,A,l,g,d)}if(C&&C[_0x37ca("0x1145")]&&0!=C.walkPath.length){x[_0x37ca("0x1146")]&&(this[_0x37ca("0x1081")]=this.multiLinesUsed.concat(C[_0x37ca("0x1147")]));for(var D=C[_0x37ca("0x1145")],O=C.costDistance,B=C[_0x37ca("0x1147")],N={x:I[D[0]].X,y:I[D[0]].Y,fnum:I[D[0]][_0x37ca("0xe6")],id:I[D[0]][_0x37ca("0x176")],bid:I[D[0]][_0x37ca("0xef")]||g},F=[new esmap.ESNaviResult(N[_0x37ca("0xef")],r,O,[N])],z=0;z<D[_0x37ca("0x4")]-1;z++){var j=D[z],X=D[z+1];if((typeof j===_0x37ca("0x8")?"undefined":(0,_[_0x37ca("0xe")])(j))!=_0x37ca("0xc")&&(typeof X===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(X))!=_0x37ca("0xc")){var Y=j+"_"+X;if(this.nodeLinkMap[Y]){for(var U=[],G=this.nodeLinkMap[Y][_0x37ca("0x4")],Q=0;Q<G;Q++)if(0!=Q&&Q!=G-1){var V=(0,s.default)({},this[_0x37ca("0x1129")][Y][Q]);U[_0x37ca("0x0")](V)}D.splice.apply(D,[z+1,0].concat(U)),z+=U[_0x37ca("0x4")]}}}for(var W=0;W<D.length-1;W++){var Z=void 0,J=(Z=(0,_[_0x37ca("0xe")])(D[W])!=_0x37ca("0xc")?I[D[W]]:D[W])[_0x37ca("0xe6")],K=void 0,q=(K=(0,_[_0x37ca("0xe")])(D[W+1])!=_0x37ca("0xc")?I[D[W+1]]:D[W+1]).fnum,$=F[F[_0x37ca("0x4")]-1],xx=Z[_0x37ca("0xef")]||this[_0x37ca("0x1128")],ax=K[_0x37ca("0xef")]||this.baseSceneId,cx=m[_0x37ca("0xf0")](xx);xx==this[_0x37ca("0x1128")]&&(cx=m[_0x37ca("0xf0")](0));var _x=m[_0x37ca("0xf0")](ax);ax==this[_0x37ca("0x1128")]&&(_x=m[_0x37ca("0xf0")](0));var ex=xx!=ax;if(J-cx[_0x37ca("0x36")][_0x37ca("0xcf8")]==q-_x.options[_0x37ca("0xcf8")])ex&&$[_0x37ca("0x1076")][$[_0x37ca("0x1076")].length-1]&&($[_0x37ca("0x1076")][$[_0x37ca("0x1076")][_0x37ca("0x4")]-1][_0x37ca("0x1148")]=!0),$.pointList[_0x37ca("0x0")]({x:K.X,y:K.Y,bid:ax,fnum:K.fnum,id:K[_0x37ca("0x176")],entries:ex}),B[W]&&$[_0x37ca("0x10b0")].push(B[W]);else{Z.X,Z.Y,Z[_0x37ca("0xe6")],Z[_0x37ca("0x176")];var tx={x:K.X,y:K.Y,bid:ax,fnum:K.fnum,id:K[_0x37ca("0x176")]};F.push(new(esmap[_0x37ca("0x5cd")])(ax,q,O,[tx]))}}for(var ix=0;ix<F.length;ix++)0==F[ix].pointList.length&&(F[_0x37ca("0x5")](ix,1),ix--);for(var nx=1;nx<F[_0x37ca("0x4")]-1;nx++){var rx=F[nx];0!=rx[_0x37ca("0x4")]&&1==rx[_0x37ca("0x1076")][_0x37ca("0x4")]&&F[nx-1][_0x37ca("0xe6")]==rx[_0x37ca("0xe6")]&&F[nx+1][_0x37ca("0xe6")]==rx[_0x37ca("0xe6")]&&(F[_0x37ca("0x5")](nx-1,3),nx-=3)}if(this[_0x37ca("0x107e")]){var sx=this.linkMinDistance;if(F[0]&&F[0][_0x37ca("0x1076")][_0x37ca("0x4")]>=2){var ox=new(THREE[_0x37ca("0xe2")])(F[0][_0x37ca("0x1076")][0].x,0,F[0][_0x37ca("0x1076")][0].y),lx=new THREE.Vector3(i.x,0,i.y),ux=new THREE.Vector3(F[0].pointList[1].x,0,F[0].pointList[1].y),dx=ox.angleTo(lx),fx=ox[_0x37ca("0x248")](ux),hx=ox[_0x37ca("0xdf")](lx);if(Math.abs(dx-fx)>90)hx>=sx&&F[0].pointList[_0x37ca("0x975")]({x:i.x,y:i.y,bid:g,fnum:r});else{var gx={};(0,u[_0x37ca("0xbe")])({x:i.x,y:i.y},{x:F[0][_0x37ca("0x1076")][0].x,y:F[0].pointList[0].y},{x:F[0][_0x37ca("0x1076")][1].x,y:F[0][_0x37ca("0x1076")][1].y},gx),F[0].pointList[0].x=gx.x,F[0][_0x37ca("0x1076")][0].y=gx.y,hx>=sx&&F[0][_0x37ca("0x1076")][_0x37ca("0x975")]({x:i.x,y:i.y,bid:g,fnum:r})}}if(F[F[_0x37ca("0x4")]-1]&&F[F.length-1][_0x37ca("0x1076")].length>=2){var bx=F[F[_0x37ca("0x4")]-1][_0x37ca("0x1076")],vx=new(THREE[_0x37ca("0xe2")])(bx[bx.length-1].x,0,bx[bx.length-1].y),px=new(THREE[_0x37ca("0xe2")])(n.x,0,n.y),Ax=new(THREE[_0x37ca("0xe2")])(bx[bx[_0x37ca("0x4")]-2].x,0,bx[bx[_0x37ca("0x4")]-2].y),mx=vx.angleTo(px),Cx=vx[_0x37ca("0x248")](Ax),Ix=vx[_0x37ca("0xdf")](px);if(Math[_0x37ca("0x24e")](mx-Cx)>90)Ix>=sx&&F[F.length-1][_0x37ca("0x1076")][_0x37ca("0x0")]({x:n.x,y:n.y,bid:g,fnum:o});else{var yx={};(0,u.calcProjPoint)({x:n.x,y:n.y},{x:bx[bx[_0x37ca("0x4")]-1].x,y:bx[bx[_0x37ca("0x4")]-1].y},{x:bx[bx[_0x37ca("0x4")]-2].x,y:bx[bx.length-2].y},yx),bx[bx[_0x37ca("0x4")]-1].x=yx.x,bx[bx[_0x37ca("0x4")]-1].y=yx.y,Ix>=sx&&bx.push({x:n.x,y:n.y,bid:g,fnum:o})}}}for(var Ex=0,wx=0;wx<F[_0x37ca("0x4")];wx++){var Tx=F[wx];if(Tx[_0x37ca("0x1076")][_0x37ca("0x4")]>=2)for(var kx=Tx[_0x37ca("0x1076")],Sx=0;Sx<kx[_0x37ca("0x4")]-1;Sx++){var Mx=kx[Sx],Rx=kx[Sx+1];Ex+=Math.sqrt(Math[_0x37ca("0xb0")](Mx.x-Rx.x,2)+Math[_0x37ca("0xb0")](Mx.y-Rx.y,2))}}a={costDistance:Ex,result:F}}return a}},{key:"getShortestPath",value:function(x,a,c,_,e,t){if(a!=c){var i=this,n=i[_0x37ca("0x1067")][e][_0x37ca("0x112d")],r=i[_0x37ca("0x1067")][e][_0x37ca("0x10ed")],s=i[_0x37ca("0x1067")][e][_0x37ca("0x10af")],o={};o[_0x37ca("0x8d4")]=a,o[_0x37ca("0x114a")]=0,o.JudgeCostDistance=0,o[_0x37ca("0x1145")]=[a],o.walkLines=[];for(var l=[],u=[],f=n[c],h=s[c],g=1;g<1e4&&o;g++){if(o[_0x37ca("0x8d4")]==c)return o;if((0,d[_0x37ca("0xc0")])(l,o[_0x37ca("0x8d4")]))u[_0x37ca("0x408")](this[_0x37ca("0x114b")](_0x37ca("0x114c"))),o=u[0],u[_0x37ca("0x2")]();else{var b=this[_0x37ca("0x114d")](a,o,n,r,s,x,l,_,f,e,t);l.push(o[_0x37ca("0x8d4")]);for(var v=0;v<b[_0x37ca("0x4")];v++)u[_0x37ca("0x0")](b[v]);if(u[_0x37ca("0x408")](this.compare(_0x37ca("0x114c"))),!(o=u[0]))return[];var p=s[o[_0x37ca("0x8d4")]];if(h&&p&&1==p.length&&1!=g)0!=p.filter((function(x){return h[_0x37ca("0xda")](x)>=0}))[_0x37ca("0x4")]||x[o[_0x37ca("0x8d4")]]||l[_0x37ca("0x0")](o[_0x37ca("0x8d4")]);u.shift()}}return[]}console[_0x37ca("0x29d")](_0x37ca("0x1149"))}},{key:_0x37ca("0x114d"),value:function(x,a,c,_,e,t,i,n,r,s,o){var l=[],h=a[_0x37ca("0x8d4")],g={2:2,3:1,4:3,1:999};if(e[h])for(var b=e[h],v=0;v<b[_0x37ca("0x4")];v++){var p=(m=_[A=b[v]])[_0x37ca("0x4ee")];if(!(0,d[_0x37ca("0xc0")])(this[_0x37ca("0x1081")],A)&&(2!=n||"4"==m.bstair||"5"==m[_0x37ca("0x4f0")])){if(h==m[_0x37ca("0x4ee")]){if(2==n&&"1"==m.direction)continue;if(1==n&&"1"==m[_0x37ca("0x4f1")]&&("0"==m[_0x37ca("0x4f0")]||"6"==m[_0x37ca("0x4f0")]))continue;p=m[_0x37ca("0x4e9")]}if(!(0,d[_0x37ca("0xc0")])(i,p))(C=(0,f[_0x37ca("0x114e")])(a)).endPoint=p,C[_0x37ca("0x1145")].push(p),C[_0x37ca("0x1147")][_0x37ca("0x0")](A),C[_0x37ca("0x114a")]+=m[_0x37ca("0x4")],1e3!=m[_0x37ca("0x1ab")]&&(C[_0x37ca("0x114a")]+=1e3/m.rank),c[p]||console[_0x37ca("0x29d")](_0x37ca("0x114f")),C[_0x37ca("0x114c")]=(0,f[_0x37ca("0x1144")])(c[p],r,1),C.JudgeCostDistance+=C[_0x37ca("0x114a")],l[_0x37ca("0x0")](C)}}if(t[h])for(b=t[h],v=0;v<b.length;v++){var A,m;p=(m=_[A=b[v]]).eid;if(1*h==m[_0x37ca("0x4ee")]){if(2==n&&"1"==m[_0x37ca("0x4f1")])continue;if(1==n&&"1"==m.direction&&("1"==m[_0x37ca("0x4f0")]||"3"==m[_0x37ca("0x4f0")]))continue;p=m[_0x37ca("0x4e9")]}if(!(0,d.exitInArray)(i,p)){var C;(C=(0,f[_0x37ca("0x114e")])(a))[_0x37ca("0x8d4")]=p,C[_0x37ca("0x1145")][_0x37ca("0x0")](p),C.walkLines.push(A);var I=1e3;1e3!=m[_0x37ca("0x1ab")]&&(I=m.rank);var y,E=null;if(x==h||r._id==h)E=.001;else{var w=c[h],T=c[x],k=(0,u[_0x37ca("0xbd")])({x:T.X,y:T.Y},{x:w.X,y:w.Y}),S=c[p];E=k+(0,u.DistanceofTwoPts)({x:r.X,y:r.Y},{x:S.X,y:S.Y})+(0,f[_0x37ca("0x1144")])(T,w)}I+=E;for(var M=this.source[s][_0x37ca("0x42e")],R=0;R<M[_0x37ca("0x4")];R++)if(M[R][_0x37ca("0x4df")][m[_0x37ca("0x4e9")]]){y=R;break}y&&m[_0x37ca("0x4ef")]&&Math.abs(y-m[_0x37ca("0x4ef")])>1&&(C[_0x37ca("0x114a")]+=10);var L=g[o]==1*m.bstair?1:20;C[_0x37ca("0x114a")]+=L+1e3/I,l.push(C)}}return l}},{key:_0x37ca("0x113f"),value:function(x,a,c,_){var e=this.getSource(x,a[_0x37ca("0xe6")]),t=a[_0x37ca("0x1150")]||{x:a.x,y:a.y},i=e[_0x37ca("0x4df")],n=[1/0,0];if(2==c)for(var r in i){var s=i[r];if(!_||!s[_0x37ca("0x43")]||11!=s[_0x37ca("0x43")])if(4==s[_0x37ca("0x43")]||5==s.tid||54==s[_0x37ca("0x43")])(o=Math[_0x37ca("0x24e")](Math.sqrt(Math[_0x37ca("0xb0")](s.X-t.x,2)+Math[_0x37ca("0xb0")](s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}else for(var r in i){var o;s=i[r];if(!_||!s.tid||11!=s[_0x37ca("0x43")])(o=Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math.pow(s.X-t.x,2)+Math[_0x37ca("0xb0")](s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}return i[n[1]]}},{key:_0x37ca("0x1151"),value:function(x){var a=this[_0x37ca("0x848")][x.bid][_0x37ca("0x42e")],c=[];return a[_0x37ca("0x1f")]((function(x){var a=x.Nodes;for(var _ in a){var e=a[_];e.tid&&11==e[_0x37ca("0x43")]&&c[_0x37ca("0x0")](e)}})),c}},{key:_0x37ca("0x1152"),value:function(x,a){var c=this.source[x[_0x37ca("0xef")]][_0x37ca("0x42e")],_=[1/0,0,{},1];return c.forEach((function(c){var e=c[_0x37ca("0x4df")],t=c[_0x37ca("0x48f")];if(2==a)for(var i in e){if(4==(n=e[i])[_0x37ca("0x43")]||5==n.tid)(r=Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math.pow(n.X-x.x,2)+Math.pow(n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}else for(var i in e){var n,r;if((n=e[i]).tid&&11==n[_0x37ca("0x43")])(r=Math[_0x37ca("0x24e")](Math.sqrt(Math[_0x37ca("0xb0")](n.X-x.x,2)+Math.pow(n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}})),{node:_[2],fnum:_[3]}}},{key:"compare",value:function(x){return function(a,c){return a[x]-c[x]}}}]),a}();a[_0x37ca("0xe")]=g})[_0x37ca("0x6")](this,c(66))},,function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _,e=c(10),t=(_=e)&&_.__esModule?_:{default:_};a[_0x37ca("0x1144")]=function(x,a){return Math[_0x37ca("0x24e")](x.X-a.X)+Math[_0x37ca("0x24e")](x.Y-a.Y)},a[_0x37ca("0x114e")]=function x(a){var c;if("object"==(void 0===a?_0x37ca("0x8"):(0,t[_0x37ca("0xe")])(a)))if(null===a)c=null;else if(a instanceof Array){c=[];for(var _=0,e=a.length;_<e;_++)c.push(x(a[_]))}else for(var i in c={},a)c[i]=x(a[i]);else c=a;return c}},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=t(c(0)),e=t(c(1));function t(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var i=function(){function x(a,c,e,t){(0,_.default)(this,x),this[_0x37ca("0xe6")]=c,this[_0x37ca("0xef")]=a,this[_0x37ca("0x4")]=e,this[_0x37ca("0x1076")]=t,this[_0x37ca("0x10b0")]=[]}return(0,e.default)(x,[{key:_0x37ca("0x1153"),value:function(){return this[_0x37ca("0xe6")]}},{key:_0x37ca("0x1154"),value:function(){return this.length}},{key:"getPointList",value:function(){for(var x=[],a=0,c=this[_0x37ca("0x1076")][_0x37ca("0x4")];a<c;a++)x.push({x:this[_0x37ca("0x1076")][a].x,y:this.pointList[a].y,fnum:this[_0x37ca("0xe6")]});return x}}]),x}();a[_0x37ca("0xe")]=i},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=d(c(8)),e=d(c(12)),t=d(c(13)),i=d(c(2)),n=d(c(0)),r=d(c(1)),s=c(69),o=c(34),l=d(c(68)),u=d(c(24));function d(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var f=function(){function x(a){(0,n[_0x37ca("0xe")])(this,x),this[_0x37ca("0x3bf")]=(0,i[_0x37ca("0xe")])({type:_0x37ca("0x5b"),useCrst:!0,merge:!0,model:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},a),this.ID=this.configs.id,this[_0x37ca("0x1aa")]=this[_0x37ca("0x3bf")][_0x37ca("0x1aa")],this.o3d_=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0xc8")]=6,this[_0x37ca("0xa5")][_0x37ca("0xa4")]=this,this[_0x37ca("0xa5")].name=_0x37ca("0xba"),this.uuid=this[_0x37ca("0xa5")][_0x37ca("0x3c5")],this[_0x37ca("0xc1a")]=!0,this[_0x37ca("0x4a")]="",this.map=esmap[_0x37ca("0x34")].instance,this[_0x37ca("0xbf5")]=!1,this.disposed=!1,this[_0x37ca("0xbb")]=null,this[_0x37ca("0x1155")]=null,this[_0x37ca("0x237")](),this.init(),this.map[_0x37ca("0x156")]<this[_0x37ca("0x3bf")][_0x37ca("0x223")]&&(this.o3d_.visible=!1)}var a;return(0,r[_0x37ca("0xe")])(x,[{key:_0x37ca("0x237"),value:function(){var x=this;this[_0x37ca("0x39")].on(_0x37ca("0x155"),(function(){var a=x.map[_0x37ca("0x156")];x[_0x37ca("0xa5")]&&(a<x[_0x37ca("0x3bf")].showLevel?x[_0x37ca("0xa5")][_0x37ca("0xed")]&&(x[_0x37ca("0xa5")][_0x37ca("0xed")]=!1):x[_0x37ca("0xa5")].visible||(x[_0x37ca("0xa5")][_0x37ca("0xed")]=!0))}))}},{key:_0x37ca("0xa8"),value:function(){var x=this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x18d")][this.configs.bid];if(x){var a=x.indexOf(this.o3d_);a>-1&&x.splice(a,1)}this[_0x37ca("0xa5")]&&(this[_0x37ca("0xa5")][_0x37ca("0xed")]=!1,this.o3d_[_0x37ca("0xbb")]&&this.o3d_[_0x37ca("0xbb")][_0x37ca("0x147")](this.o3d_),(0,s[_0x37ca("0x1b2")])(this[_0x37ca("0xa5")],!1))}},{key:_0x37ca("0xea"),value:(a=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")].mark((function x(){var a,c,_,t,i,n,r,s,d,f,h,g,b,v,p;return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:if(!this.inited){x[_0x37ca("0x29a")]=2;break}return x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 2:if(a=this[_0x37ca("0x39")],c=this[_0x37ca("0x3bf")],_=c.bid,t=c[_0x37ca("0xee")],i=c[_0x37ca("0xa8a")],n=c[_0x37ca("0x22a")],0!=t[_0x37ca("0x4")]){x[_0x37ca("0x29a")]=9;break}return _0x37ca("0x1156"),this[_0x37ca("0xbf5")]=!0,x[_0x37ca("0x29f")]("return");case 9:return(r=this[_0x37ca("0x39")][_0x37ca("0x315")](_))||(r=this.map[_0x37ca("0xf0")](_)),r||(s=_[_0x37ca("0x2b")]("_"),d=(0,o[_0x37ca("0x1c9")])(1*s[0],1*s[1],a[_0x37ca("0x36")][_0x37ca("0x1ca")],!0),f=(d[_0x37ca("0xab")]-d.minx)/2+d.minx,h=(d.maxy-d[_0x37ca("0xaf")])/2+d[_0x37ca("0xaf")],(g=new(l[_0x37ca("0xe")])({id:_,map:a}))[_0x37ca("0xe5")]=[f,h],g.buildingType=1,g.o3d_[_0x37ca("0xb8")][_0x37ca("0x11d")](0,0,0),a.mapScene[_0x37ca("0xa53")]()[_0x37ca("0xe0")](g[_0x37ca("0xa5")]),r=g),1==r[_0x37ca("0x616")]?r.layerManager.getOrCreateLayerByName(_0x37ca("0x1157"),esmap[_0x37ca("0x16c")][_0x37ca("0x217")]).o3d_[_0x37ca("0xe0")](this.o3d_):r[_0x37ca("0x617")](this[_0x37ca("0x3bf")].fnum)[_0x37ca("0x192")]("walls",esmap[_0x37ca("0x16c")][_0x37ca("0x217")])[_0x37ca("0xa5")][_0x37ca("0xe0")](this[_0x37ca("0xa5")]),this[_0x37ca("0xbb")]=r,this[_0x37ca("0x14f")]=r[_0x37ca("0x14f")],b=this.configs[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xa1"),""),n==_0x37ca("0x5b")?this[_0x37ca("0x4a")]=u[_0x37ca("0xe")][_0x37ca("0x5d9")]("buildingModel",{filename:b,buildingId:this[_0x37ca("0x3bf")][_0x37ca("0xef")],modeltoken:a.__mtn}):this[_0x37ca("0x4a")]=u.default[_0x37ca("0x5d9")](_0x37ca("0x59"),{filename:b,modeltoken:a[_0x37ca("0x9d")]}),x[_0x37ca("0x29a")]=20,this.asyncGetWallModel();case 20:(v=x[_0x37ca("0x5dc")])?(p=v[_0x37ca("0xb5")].clone(),this[_0x37ca("0x1155")]=p,this[_0x37ca("0x1158")]=v,i&&this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](this[_0x37ca("0xa5")],_),this[_0x37ca("0x3ba")]={x:t[0].x,y:t[0].y},this[_0x37ca("0xbf5")]=!0,this[_0x37ca("0x1159")](t),this.configs[_0x37ca("0x220")]&&this[_0x37ca("0x3bf")][_0x37ca("0x220")](this)):(this[_0x37ca("0xbf5")]=!0,this[_0x37ca("0x3bf")][_0x37ca("0xca")]&&this[_0x37ca("0x3bf")].error(this));case 22:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return a[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0x1159"),value:function(x){if(this[_0x37ca("0xbf5")]){for(;this[_0x37ca("0xa5")].children[_0x37ca("0x4")]>0;){this.o3d_[_0x37ca("0xa6")][0];this[_0x37ca("0xa5")][_0x37ca("0xa6")][_0x37ca("0xdab")]()}var a=this[_0x37ca("0x3bf")].useCrst,c=this[_0x37ca("0x1155")],_=this,e=this[_0x37ca("0x3bf")],t=e[_0x37ca("0x219")],n=e[_0x37ca("0x115a")],r=e[_0x37ca("0x115b")],s=e[_0x37ca("0x1a8")],o=e.id,l=e[_0x37ca("0x115c")],u=e[_0x37ca("0xc1")];this[_0x37ca("0x3bf")].points=x,this[_0x37ca("0x3bf")].merge=!1;var d=this[_0x37ca("0x39")],f=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](this[_0x37ca("0x1155")]),h=f.max.x-f[_0x37ca("0x30e")].x,g=[];x[_0x37ca("0x1f")]((function(x){var c=x;a&&(c=d[_0x37ca("0x17e")]({from:d.DEFAULT_COORDSYSTEM,to:d[_0x37ca("0x180")],coord:{x:x.x,y:x.y}})),g[_0x37ca("0x0")](new THREE.Vector2(c.x,c.y))}));var b=[],v=h/l;if(this[_0x37ca("0xac3")](g,0,b,v,h),0==b.length)return console[_0x37ca("0x3eb")](_0x37ca("0x115d")+o+_0x37ca("0x115e")+t),void(this.inited=!0);var p=[];if(b[_0x37ca("0x1f")]((function(x,a){var c=new(THREE[_0x37ca("0xe2")])(parseFloat(x[_0x37ca("0x22e")]),parseFloat(r),parseFloat(n));0==c.x&&(c.x=1),0==c.y&&(c.y=1),0==c.z&&(c.z=1);var e=Math.PI/180,i=new(THREE[_0x37ca("0x231")])(0,parseFloat(x[_0x37ca("0x252")])*e,0),l=_[_0x37ca("0x39")][_0x37ca("0x181")](x,!0);l.y=0,l.y+=parseFloat(s),p.push({id:o+"-"+a,model:t,rotation:i,position:l,scale:c})})),u){c[_0x37ca("0xb6")]((function(x){x.material&&(x[_0x37ca("0xa9")]=x[_0x37ca("0xa9")][_0x37ca("0xde")]())}));var A=(0,i[_0x37ca("0xe")])({},this[_0x37ca("0x1158")],{scene:c,scenes:[c]}),m=this[_0x37ca("0x14f")][_0x37ca("0x629")].merge(A,p);m||console[_0x37ca("0xca")](_0x37ca("0x115f")),this[_0x37ca("0xa5")][_0x37ca("0xe0")](m),this[_0x37ca("0xa5")][_0x37ca("0x11a")][_0x37ca("0x1160")]=!0}else{c.traverse((function(x){x[_0x37ca("0xa9")]&&(x[_0x37ca("0xa9")]=x[_0x37ca("0xa9")][_0x37ca("0xde")]())}));for(var C=0;C<p[_0x37ca("0x4")];C++){var I=p[C],y=c[_0x37ca("0xde")](!0);(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](y).getCenter(y[_0x37ca("0xb8")]),y[_0x37ca("0xb8")][_0x37ca("0x26b")](-1);var E=new(THREE[_0x37ca("0x14a")]);E.add(y),y[_0x37ca("0x11a")].id=I.id,E[_0x37ca("0x1a3")][_0x37ca("0x268")](I[_0x37ca("0x1a3")]),E[_0x37ca("0x22e")][_0x37ca("0x268")](I[_0x37ca("0x22e")]),E[_0x37ca("0xb8")].copy(I.position),this.o3d_[_0x37ca("0xe0")](E)}}this.mapCoord={x:x[0].x,y:x[0].y}}}},{key:_0x37ca("0x1161"),value:function(){var x=this,a=this[_0x37ca("0x3bf")][_0x37ca("0x219")];return new _.default((function(c){if(x[_0x37ca("0x39")].mapService[_0x37ca("0x29c")][a])c(x[_0x37ca("0x39")][_0x37ca("0x163")].modelStore[a][_0x37ca("0x301")]);else{if(!x[_0x37ca("0x14f")][_0x37ca("0x304")][a]){var _={name:_0x37ca("0x1162"),layerid:x.uuid,model:x[_0x37ca("0x3bf")].model,url:x.url,id:_0x37ca("0x1162"),bclick:0,fnum:1,iswall:!0,gid:0,scale:new THREE.Vector3(1,1,1),rotation:new(THREE[_0x37ca("0xe2")])(0,0,0),position:new THREE.Vector3(1,1,1),parent:new(THREE[_0x37ca("0x216")])};x[_0x37ca("0x14f")][_0x37ca("0xbfa")](_)}x.map.on(_0x37ca("0xc27"),(function(x){x[_0x37ca("0x1aa")]==a&&c(x[_0x37ca("0x301")])})),x[_0x37ca("0x39")].on(_0x37ca("0x1163"),(function(x){x[_0x37ca("0x1aa")]==a&&c(null)}))}}))}},{key:_0x37ca("0xac3"),value:function(x,a,c,_,e){if(a==x.length-1)return!0;var t,i,n,r,s,o,l=x[a],u=x[a+1],d=u[_0x37ca("0xde")]()[_0x37ca("0x2d7")](l),f=_/2,h=(t=u,i=l,n=new(THREE[_0x37ca("0xe2")])(1,0,0),r=new(THREE[_0x37ca("0xe2")])(t.x,0,t.y),s=new(THREE[_0x37ca("0xe2")])(i.x,0,i.y)[_0x37ca("0xde")]()[_0x37ca("0x2d7")](r)[_0x37ca("0x2d8")](),o=s.angleTo(n)*THREE[_0x37ca("0x249")][_0x37ca("0x2d9")],s[_0x37ca("0xde")]().cross(n).y>0?o:360-o),g=d.length();if(d[_0x37ca("0x2d8")](),0!=g){if(g>_){var b=Math.floor(g/_),v=g%_,p=l[_0x37ca("0xde")]()[_0x37ca("0xe0")](d.clone()[_0x37ca("0x26b")](f));p[_0x37ca("0x252")]=h,p[_0x37ca("0x22e")]=_/e,c[_0x37ca("0x0")](p);for(var A=1;A<b;A++){var m=c[c[_0x37ca("0x4")]-1].clone()[_0x37ca("0xe0")](d[_0x37ca("0xde")]()[_0x37ca("0x26b")](_));m.angle=h,m.scale=_/e,c[_0x37ca("0x0")](m)}if(v>0)if(v>=e/2){var C=c[c[_0x37ca("0x4")]-1].clone().add(d[_0x37ca("0xde")]()[_0x37ca("0x26b")](f+v/2));C[_0x37ca("0x252")]=h,C.scale=v/e,c[_0x37ca("0x0")](C)}else{var I=c[c[_0x37ca("0x4")]-1];I.scale=(v+_)/e;var y=I.clone()[_0x37ca("0xe0")](d[_0x37ca("0xde")]().multiplyScalar(v/2));I.x=y.x,I.y=y.y}}else{var E=l[_0x37ca("0xde")]().add(d[_0x37ca("0xde")]()[_0x37ca("0x26b")](g/2));E.angle=h,E.scale=g/e,c[_0x37ca("0x0")](E)}this[_0x37ca("0xac3")](x,++a,c,_,e)}}},{key:_0x37ca("0x2be"),value:function(x){var a=!1===x,c=this[_0x37ca("0x3bf")][_0x37ca("0xc1")];this.o3d_[_0x37ca("0xb6")]((function(_){if(_[_0x37ca("0xa9")])if(_[_0x37ca("0xa9")]instanceof Array)if(c)_.material[0].userData[_0x37ca("0xa3a")]||(_[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xa3a")]=_.material[0][_0x37ca("0x2c1")].clone()),a?(_[_0x37ca("0xa9")][0][_0x37ca("0x2c1")]=_[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xa3a")],_[_0x37ca("0xa9")][0][_0x37ca("0x11a")][_0x37ca("0xa3a")]=null):_[_0x37ca("0xa9")][0][_0x37ca("0x2c1")]=new(THREE[_0x37ca("0x13d")])(x);else for(var e=0;e<_[_0x37ca("0xa9")][_0x37ca("0x4")];e++){var t=_[_0x37ca("0xa9")][e][_0x37ca("0xde")]();t.hasOwnProperty(_0x37ca("0x2c1"))&&(t[_0x37ca("0x11a")][_0x37ca("0xa3a")]||(t[_0x37ca("0x11a")][_0x37ca("0xa3a")]=t[_0x37ca("0x2c1")].clone()),t.emissive=a?t[_0x37ca("0x11a")][_0x37ca("0xa3a")]instanceof THREE[_0x37ca("0x13d")]?t[_0x37ca("0x11a")][_0x37ca("0xa3a")]:new THREE.Color(t[_0x37ca("0x11a")][_0x37ca("0xa3a")]):new(THREE[_0x37ca("0x13d")])(x),_.material[e]=t,t[_0x37ca("0x13a")]=!0)}else{var i=_.material;i[_0x37ca("0x1")]("emissive")&&(a?i.emissive=new(THREE[_0x37ca("0x13d")])(i[_0x37ca("0x11a")][_0x37ca("0xa3a")]):((i=_[_0x37ca("0xa9")][_0x37ca("0xde")]())[_0x37ca("0x11a")][_0x37ca("0xa3a")]||(i[_0x37ca("0x11a")][_0x37ca("0xa3a")]=_.material[_0x37ca("0x2c1")][_0x37ca("0x4ce")]()),i[_0x37ca("0x2c1")]=new THREE.Color(x),_.material=i),_.material[_0x37ca("0x13a")]=!0)}}))}}]),x}();a.default=f},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=l(c(4)),e=l(c(0)),t=l(c(1)),i=l(c(5)),n=l(c(6)),r=l(c(98)),s=c(11),o=(c(56),c(57),l(c(24)));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=function(x){function a(x){(0,e.default)(this,a);var c=esmap[_0x37ca("0x34")][_0x37ca("0x35")],t=c[_0x37ca("0x154")].getCenter();0==x.x&&(x.x=t.x),0==x.y&&(x.y=t.y);var n=c[_0x37ca("0x254")]({x:x.x,y:x.y,z:x.height||0}),r=void 0;if(x[_0x37ca("0x252")]instanceof Object)r={x:THREE[_0x37ca("0x249")].degToRad(x[_0x37ca("0x252")].x||0),y:THREE[_0x37ca("0x249")].degToRad(x[_0x37ca("0x252")].z||0),z:THREE[_0x37ca("0x249")].degToRad(x.angle.y||0)};else{var l;if(isNaN(x[_0x37ca("0x252")])&&null!=x[_0x37ca("0x252")])return l=console[_0x37ca("0xca")](_0x37ca("0x1164")),(0,i[_0x37ca("0xe")])(m,l);r={x:0,y:THREE.Math[_0x37ca("0x26d")]((0,s[_0x37ca("0x16")])(x,_0x37ca("0x252"),0)),z:0}}var u=(0,s[_0x37ca("0x16")])(x,_0x37ca("0x576"),1),d=u instanceof Object?{x:u.x||1,y:u.y||1,z:u.z||1}:{x:u,y:u,z:u},f=(0,s.getValue)(x,_0x37ca("0x4a"),_0x37ca("0x219")),h="",g=f[_0x37ca("0x29b")]("/");h=g>=0?f[_0x37ca("0x14")](g+1):f,c[_0x37ca("0x163")][_0x37ca("0x603")]("sk")&&(f=f[_0x37ca("0x102")](/\.gltf$/,"")+_0x37ca("0xa1"),f=c[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building?o[_0x37ca("0xe")].getPath(_0x37ca("0x57"),{filename:f,modeltoken:c[_0x37ca("0x9d")],buildingId:c.id}):o.default[_0x37ca("0x5d9")]("tileModel",{filename:f,modeltoken:c.__mtn}));var b=(0,s[_0x37ca("0x16")])(x,"id",1),v=c.mode==esmap.MapMode.Building?20:12,p=(0,s.getValue)(x,_0x37ca("0x223"),v),A=(0,s[_0x37ca("0x16")])(x,_0x37ca("0xef"),0),m=(0,i[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,{model:h,ID:b,bid:A,url:f,alias:_0x37ca("0x1165"),scale:d,rotation:r,position:n,showLevel:p,name:x[_0x37ca("0x1aa")]||_0x37ca("0x1165"),onError:x.onError||null,callback:x.callback||x.onComplete||null,clickAnimation:(0,s[_0x37ca("0x16")])(x,"clickAnimation",!1)}));return m[_0x37ca("0xf5d")]=!x[_0x37ca("0x1")](_0x37ca("0xf5d"))||x.clickable,m[_0x37ca("0x34f")]=x[_0x37ca("0x34f")]||null,m.o3d_.position.y=n.y,m.seeThrough=null!=x[_0x37ca("0x123")]&&x[_0x37ca("0x123")],m[_0x37ca("0xc1")]=null!=x[_0x37ca("0xc1")]&&x[_0x37ca("0xc1")],m[_0x37ca("0xc19")]=!0,m}return(0,n[_0x37ca("0xe")])(a,x),(0,t[_0x37ca("0xe")])(a,[{key:_0x37ca("0x936"),value:function(x){esmap[_0x37ca("0x289")][_0x37ca("0x11")][_0x37ca("0x936")].call(this,x)}},{key:_0x37ca("0x1bc"),value:function(){this.o3d_[_0x37ca("0x1bc")]()}},{key:_0x37ca("0x1a8"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xb8")].y},set:function(x){this[_0x37ca("0xa5")][_0x37ca("0xb8")].y=x}}]),a}(r[_0x37ca("0xe")]);u[_0x37ca("0x1166")]=r[_0x37ca("0xe")],a[_0x37ca("0xe")]=u},function(x,a,c){"use strict";CanvasRenderingContext2D[_0x37ca("0x11")].roundRect=function(x,a,c,_,e){return this[_0x37ca("0x9fd")](),this.moveTo(x+e,a),this[_0x37ca("0x1167")](x+c,a,x+c,a+_,e),this[_0x37ca("0x1167")](x+c,a+_,x,a+_,e),this[_0x37ca("0x1167")](x,a+_,x,a,e),this[_0x37ca("0x1167")](x,a,x+c,a,e),this.closePath(),this}},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=n(c(10)),e=n(c(33)),t=n(c(0)),i=n(c(1));function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=function(){function x(a,c){(0,t[_0x37ca("0xe")])(this,x);var _=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this.source=_[_0x37ca("0x163")][_0x37ca("0x18f")],this[_0x37ca("0x39")]=_,this[_0x37ca("0x1168")]={},this[_0x37ca("0x1169")]={}}return(0,i.default)(x,[{key:_0x37ca("0x110b"),value:function(x){var a=this;if(0!=x&&!a.dataList1[x]){var c={};c[_0x37ca("0x10af")]={},c[_0x37ca("0x116a")]={},c[_0x37ca("0x116b")]={},c[_0x37ca("0x116c")]={},c.crossScheme={};for(var _=[],e=[],t=a.source[x],i=this[_0x37ca("0x39")][_0x37ca("0xf0")](x),n=i.options.center[0],r=i[_0x37ca("0x36")][_0x37ca("0xe5")][1],s=n+i[_0x37ca("0x169")].DefaultCenX,o=r-i[_0x37ca("0x169")][_0x37ca("0x43d")],l=0;l<t.length;l++){var u=t[l].floornum,d=t[l][_0x37ca("0x4df")],f=t[l].Lines,h=[],g=[],b=[];for(var v in d){var p=d[v];p.X=p.X+s,p.Y=p.Y+o;var A=p[_0x37ca("0x4e9")]||0;if(a[_0x37ca("0xc0")](h,A)||h.push(A),0!=(p[_0x37ca("0x43")]||0)){var m=A+1e4*u;if(c[_0x37ca("0x116b")][m])c.layerPoints[m][_0x37ca("0x0")](p._id);else{var C=[p[_0x37ca("0x176")]];c[_0x37ca("0x116b")][m]=C}}c[_0x37ca("0x10af")][p[_0x37ca("0x176")]]=[]}for(var I in f){var y=f[I],E=(y.bstair,y[_0x37ca("0x4f1")]||0),w=y[_0x37ca("0x4e9")],T=y.eid;if(d[w]&&d[T])c[_0x37ca("0x10af")][w].push(y[_0x37ca("0x176")]),c[_0x37ca("0x10af")][T].push(y[_0x37ca("0x176")]),1==(y[_0x37ca("0x1ab")]||1e3)&&(0==E?b.push(y):g.push(y));else 0==E?e.push(y):_[_0x37ca("0x0")](y)}}a[_0x37ca("0x1168")][x]=c}}},{key:"getAreaFormId",value:function(x,a){for(var c=this.source[x],_=1;_<c.length;_++){var e=c[_][_0x37ca("0x48f")],t=c[_][_0x37ca("0x4df")];if(t[a]){var i=t[a][_0x37ca("0x4e9")];return i+=1e4*e}}return-1}},{key:"calculateCrossAreaPoints",value:function(x,a,c,_,e,t){for(var i=0;i<e[_0x37ca("0x4")];i++){x[e[i]+1e4*t]=[]}for(i=0;i<c.length;i++){var n=(l=c[i]).sid,r=l.eid,s=a[n].sid||0;s+=1e4*t;var o=a[r][_0x37ca("0x4e9")]||0;o+=1e4*t,x[s].push(n),x[o][_0x37ca("0x0")](r)}for(i=0;i<_[_0x37ca("0x4")];i++){var l;s=a[n=(l=_[i]).sid][_0x37ca("0x4e9")]||0;x[s+=1e4*t][_0x37ca("0x0")](n)}for(var i in x){0==x[i][_0x37ca("0x4")]&&delete x.i}}},{key:_0x37ca("0x116d"),value:function(x,a,c,_){for(var e={},t=0;t<_[_0x37ca("0x4")];t++){var i=_[t],n=this[_0x37ca("0x116e")](x,i,a,c);e[i]=n}return e}},{key:_0x37ca("0x116e"),value:function(x,a,c,_){for(var e=[],t=0;t<c.length;t++){(n=x[(i=c[t])[_0x37ca("0x4e9")]][_0x37ca("0x4e9")])!=(r=x[i[_0x37ca("0x4ee")]].sid)&&(n!=a||this.exitInArray(e,r)||e[_0x37ca("0x0")](r),r!=a||this[_0x37ca("0xc0")](e,n)||e.push(n))}for(t=0;t<_[_0x37ca("0x4")];t++){var i,n,r;(n=x[(i=_[t]).sid][_0x37ca("0x4e9")])!=(r=x[i[_0x37ca("0x4ee")]][_0x37ca("0x4e9")])&&(n!=a||this[_0x37ca("0xc0")](e,r)||e[_0x37ca("0x0")](r))}return e}},{key:_0x37ca("0x116f"),value:function(x,a,c){var _={};if(0==c.length)for(var e in x)for(var t=x[e],i=0;i<t[_0x37ca("0x4")];i++){var n=t[i],r=this[_0x37ca("0x1170")](n,a);_[n]=r}else{var s={};for(i=0;i<c[_0x37ca("0x4")];i++){var o=c[i],l=o.sid,u=o[_0x37ca("0x4ee")],d=[];for(var f in a){var h=a[f],g=[];if(s[f]&&(g=s[f]),(this[_0x37ca("0xc0")](h,l)||this[_0x37ca("0xc0")](g,l))&&d[_0x37ca("0x0")](f),this[_0x37ca("0xc0")](h,u)&&f,0!=d[_0x37ca("0x4")]){g=[];a[u]?g=a[u]:g[_0x37ca("0x0")](u);for(var b=0;b<d.length;b++){var v=d[b];if(s[v])for(var p=0;p<g.length;p++)s[v].push(g[p]);else s[v]=g}}}}for(var e in x)for(t=x[e],i=0;i<t[_0x37ca("0x4")];i++){n=t[i],r=this.getCanRunPoint2(n,a,s);_[n]=r}}return _}},{key:_0x37ca("0x1171"),value:function(x,a,c){var _=[];for(var e in a){var t=a[e];if(this[_0x37ca("0xc0")](t,x)){for(var i=0;i<t[_0x37ca("0x4")];i++)t[i]!=x&&_.push(t[i]);if(c[e]){var n=c[e];for(i=0;i<n[_0x37ca("0x4")];i++)_[_0x37ca("0x0")](n[i])}}}return _}},{key:"getCanRunPoint1",value:function(x,a){var c=[];for(var _ in a){var e=a[_];if(this[_0x37ca("0xc0")](e,x))for(var t=0;t<e[_0x37ca("0x4")];t++)e[t]!=x&&c[_0x37ca("0x0")](e[t])}return c}},{key:_0x37ca("0x1172"),value:function(x){for(var a={},c=1,_=0;_<x[_0x37ca("0x4")];_++){var e=x[_];if(0==_){(t=[]).push(e.sid),t.push(e[_0x37ca("0x4ee")]),a[c]=t}else{var t,i=!1;for(var n in a){var r=this[_0x37ca("0xc0")](a[n],e[_0x37ca("0x4e9")]),s=this[_0x37ca("0xc0")](a[n],e[_0x37ca("0x4ee")]);if(r&&!s){a[n][_0x37ca("0x0")](e.eid),i=!0;break}if(!r&&s){a[n][_0x37ca("0x0")](e.sid),i=!0;break}}if(!i)c++,(t=[])[_0x37ca("0x0")](e[_0x37ca("0x4e9")]),t[_0x37ca("0x0")](e[_0x37ca("0x4ee")]),a[c]=t}}var o=[];for(var _ in a){var l=a[_];this[_0x37ca("0x1173")](l,o)}a=[];for(_=0;_<o[_0x37ca("0x4")];_++)a[_]=o[_];return a}},{key:"pointIdListAdd",value:function(x,a){for(var c=a[_0x37ca("0x4")],_=-1,e=0;e<a[_0x37ca("0x4")];e++)if((_=this[_0x37ca("0x1174")](x,a[e]))>0){c=e;break}if(c==a[_0x37ca("0x4")])a[_0x37ca("0x0")](x);else{var t=a[c];for(e=0;e<x.length;e++){var i=x[e];i!=_&&t[_0x37ca("0x0")](i)}}}},{key:"getSameId",value:function(x,a){for(var c=-1,_=0;_<x.length;_++){for(var e=x[_],t=0;t<a[_0x37ca("0x4")];t++){if(e==a[t]){c=e;break}}if(c>0)break}return c}},{key:"initCrossScheme",value:function(x,a){var c=[];for(var _ in x)c[_0x37ca("0x0")](_);for(_=0;_<c.length;_++)for(var e=c[_],t=0;t<c.length;t++){var i=c[t];if(e!=i){var n=1e5*e+1*i;if(!a[n]){var r=this[_0x37ca("0x1175")](e,i,x);if(0!=r[_0x37ca("0x4")]){a[n]=r;var s=this[_0x37ca("0x1176")](r);a[1e5*i+1*e]=s;for(var o=[r],l=0;l<1e4&&0!=(o=this.getArrayMinus(o))[_0x37ca("0x4")]&&1!=o[0].length;l++)for(var u=0;u<o[_0x37ca("0x4")];u++){var d=o[u],f=d[0],h=d[d[_0x37ca("0x4")]-1],g=1e5*f+1*h;if(a[g])o.splice(u,1),u--;else{a[g]=d;var b=this[_0x37ca("0x1176")](d);a[1e5*h+1*f]=b}}}}}}}},{key:_0x37ca("0x1176"),value:function(x){for(var a=[],c=x.length-1;c>=0;c--)a[_0x37ca("0x0")](x[c]);return a}},{key:"getArrayMinus",value:function(x){for(var a=[],c=0;c<x[_0x37ca("0x4")];c++){for(var _=x[c],e=[],t=1;t<_[_0x37ca("0x4")];t++)e[_0x37ca("0x0")](_[t]);var i=[];for(t=0;t<_.length-1;t++)i[_0x37ca("0x0")](_[t]);a.push(e),a[_0x37ca("0x0")](i)}return a}},{key:_0x37ca("0x1175"),value:function(x,a,c){var _=[x];if(x!=a){var e=[],t=[x],i=[],n=c[x];if(n[a])_.push(a);else{for(var r=0;r<n[_0x37ca("0x4")];r++){var s=n[r],o=[x,s];i[_0x37ca("0x0")](o),t[_0x37ca("0x0")](s)}for(r=0;r<100;r++){if(0==(i=this[_0x37ca("0x1177")](i,t,c))[_0x37ca("0x4")])return[];for(var l=0;l<i.length;l++){var u=i[l];u[u[_0x37ca("0x4")]-1]==a&&e[_0x37ca("0x0")](u)}if(0!=e[_0x37ca("0x4")]){_=this[_0x37ca("0x1178")](e);break}}}}for(r=0;r<_[_0x37ca("0x4")];r++)_[r]*=1;return _}},{key:_0x37ca("0x1177"),value:function(x,a,c){for(var _=[],e=0;e<x[_0x37ca("0x4")];e++)for(var t=x[e],i=c[t[t[_0x37ca("0x4")]-1]],n=0;n<i.length;n++){var r=i[n];if(!this.exitInArray(a,r)){for(var s=[],o=0;o<t[_0x37ca("0x4")];o++)s.push(t[o]);s[_0x37ca("0x0")](r),_[_0x37ca("0x0")](s),a[_0x37ca("0x0")](r)}}return _}},{key:_0x37ca("0x1178"),value:function(x){for(var a=x[0],c=this[_0x37ca("0x1179")](a),_=1;_<x.length;_++){var e=x[_],t=this[_0x37ca("0x1179")](e);t<c&&(c=t,a=e)}return a}},{key:_0x37ca("0x1179"),value:function(x){for(var a=0,c=0;c<x[_0x37ca("0x4")]-1;c++){var _=x[c],e=x[c+1];Math[_0x37ca("0x2e")](_/1e4)==Math[_0x37ca("0x2e")](e/1e4)&&a++}return a}},{key:_0x37ca("0x117a"),value:function(x,a,c,_){x[_0x37ca("0xe6")],a[_0x37ca("0xe6")];var e=x.bid;this[_0x37ca("0x1168")][e][_0x37ca("0x117b")];if(x&&a){return this[_0x37ca("0x117c")](e,x,a,c,_)}console[_0x37ca("0x29d")]("请重新选点")}},{key:_0x37ca("0x1122"),value:function(x,a,c,_){var t=x[_0x37ca("0xef")],i=a[_0x37ca("0xef")];if(this[_0x37ca("0x110b")](t),this[_0x37ca("0x110b")](i),t!=i){if(0==x[_0x37ca("0xef")]){var n={x:x.x,y:x.y,bid:i,fnum:a[_0x37ca("0xe6")]},r={x:(l=this[_0x37ca("0x1152")](n))[_0x37ca("0x636")].X,y:l[_0x37ca("0x636")].Y,_id:l[_0x37ca("0x636")][_0x37ca("0x176")],fnum:l[_0x37ca("0xe6")],bid:i},s=this[_0x37ca("0x113f")](a,c),o=this[_0x37ca("0x117a")](r,s,c,_);return console[_0x37ca("0x23b")](_0x37ca("0x117d"),o),o}n={x:a.x,y:a.y,bid:t,fnum:1};var l,u={x:(l=this.getNearestGate(n))[_0x37ca("0x636")].X,y:l[_0x37ca("0x636")].Y,_id:l[_0x37ca("0x636")][_0x37ca("0x176")],fnum:l.fnum,bid:t},d=this[_0x37ca("0x113f")](x,c),f={x:d.x,y:d.y,_id:d[_0x37ca("0x176")],fnum:x[_0x37ca("0xe6")],bid:t};o=this[_0x37ca("0x117a")](f,u,c,_);return _0x37ca("0x117d"),o}var h=this[_0x37ca("0x113f")](x,c),g=this[_0x37ca("0x113f")](a,c);if(h[_0x37ca("0x176")]!=g[_0x37ca("0x176")]){var b={x:h.X,y:h.Y,_id:h[_0x37ca("0x176")],fnum:x[_0x37ca("0xe6")],bid:t},v={x:g.X,y:g.Y,_id:g[_0x37ca("0x176")],fnum:a[_0x37ca("0xe6")],bid:i},p=this[_0x37ca("0x117a")](b,v,c,_);return[][_0x37ca("0x15")]((0,e[_0x37ca("0xe")])(p.result))}console[_0x37ca("0x29d")]("起点与终点不能重复")}},{key:_0x37ca("0x1152"),value:function(x,a){var c=this[_0x37ca("0x848")][x[_0x37ca("0xef")]],_=[1/0,0,{},1];return c.forEach((function(c){var e=c[_0x37ca("0x4df")],t=c[_0x37ca("0x48f")];if(2==a)for(var i in e){if(4==(n=e[i]).tid||5==n.tid)(r=Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math[_0x37ca("0xb0")](n.X-x.x,2)+Math[_0x37ca("0xb0")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}else for(var i in e){var n,r;if((n=e[i]).tid&&11==n.tid)(r=Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math[_0x37ca("0xb0")](n.X-x.x,2)+Math[_0x37ca("0xb0")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}})),{node:_[2],fnum:_[3]}}},{key:"convertToCoor",value:function(x,a){for(var c=this.navdata[x][_0x37ca("0x4df")],_=0;_<a[_0x37ca("0x4")];_++){var e=c[a[_]],t={fnum:x,x:e.X,y:e.Y};a[_]=t}}},{key:_0x37ca("0x117e"),value:function(x,a,c,_,e,t){var i=[],n=this[_0x37ca("0x1168")][x][_0x37ca("0x117f")],r=this[_0x37ca("0x1168")][x].layerPoints,s=this[_0x37ca("0x1168")][x].layerPToP;if(1==t[_0x37ca("0x4")])i.push(a),i.push(c);else{for(var o=[],l=0;l<t[_0x37ca("0x4")]-1;l++){var u=t[l],d=Math[_0x37ca("0x2e")](u/1e4),f=t[l+1],h=Math[_0x37ca("0x2e")](f/1e4);if(d==h){var g=[];(y=[])[_0x37ca("0x0")](d),g[_0x37ca("0x0")](d);for(var b=n[u],v=this[_0x37ca("0x113c")](x,d),p=v.Nodes,A=v[_0x37ca("0x190")],m=0;m<b.length;m++){var C=b[m],I=this.findLine(x,C,f%1e4,A,p);0!=I[_0x37ca("0x4")]&&(y[_0x37ca("0x0")](C),g[_0x37ca("0x0")](I[_0x37ca("0x4ee")]))}if(0==y[_0x37ca("0x4")])return[];o[_0x37ca("0x0")](y),o[_0x37ca("0x0")](g)}else{var y;g=[];(y=[])[_0x37ca("0x0")](d),g[_0x37ca("0x0")](h);b=r[u];for(var E=r[f],w=0;w<b[_0x37ca("0x4")];w++){var T=s[C=b[w]];for(m=0;m<T[_0x37ca("0x4")];m++){var k=T[m];if(this[_0x37ca("0xc0")](E,k)){y[_0x37ca("0x0")](C),g.push(k);break}}}if(0==y[_0x37ca("0x4")])return[];o[_0x37ca("0x0")](y),o.push(g)}}var S={},M=[];M[_0x37ca("0x0")](a),this[_0x37ca("0x1180")](x,o,0,0,M,S);var R={};for(var L in S){var H=S[L],P=(p=this[_0x37ca("0x113c")](x,e)[_0x37ca("0x4df")])[H[H[_0x37ca("0x4")]-1]],D=p[c],O=this.getDistance(P,D);H[_0x37ca("0x0")](c),R[O+1*L]=H}var B=1e6;for(var N in R)parseInt(N)<parseInt(B)&&(B=N,i=R[N])}return i}},{key:_0x37ca("0x1181"),value:function(x,a,c,_,e){for(var t=this.dataList1[x][_0x37ca("0x10af")][a],i=0;i<t[_0x37ca("0x4")];i++){var n=_[t[i]];if(1==n[_0x37ca("0x1ab")])if(n.sid==a){if(e[n[_0x37ca("0x4ee")]][_0x37ca("0x4e9")]==c)return n}else if(e[n.sid][_0x37ca("0x4e9")]==c){var r=this[_0x37ca("0xde")](n);return r[_0x37ca("0x4e9")]=n[_0x37ca("0x4ee")],r[_0x37ca("0x4ee")]=n[_0x37ca("0x4e9")],r}}return[]}},{key:_0x37ca("0x5ff"),value:function(x,a){return(x.X-a.X)*(x.X-a.X)+(x.Y-a.Y)*(x.Y-a.Y)}},{key:_0x37ca("0x1180"),value:function(x,a,c,_,e,t){if(a.length>c)for(var i=a[c],n=a[c+1],r=i[0],s=this[_0x37ca("0x113c")](x,r)[_0x37ca("0x4df")],o=1;o<i[_0x37ca("0x4")];o++){var l=i[o],u=n[o],d=s[e[e[_0x37ca("0x4")]-1]],f=s[l],h=this[_0x37ca("0x5ff")](d,f);if(_+=h,e[_0x37ca("0x0")](l),e[_0x37ca("0x0")](u),this[_0x37ca("0x1180")](x,a,c+2,_,e,t),e[_0x37ca("0x4")]==a[_0x37ca("0x4")]+1){for(var g=[],b=0;b<e[_0x37ca("0x4")];b++)g[_0x37ca("0x0")](e[b]);t[_]=g}e[_0x37ca("0x5")](e[_0x37ca("0x4")]-1,1),e.splice(e[_0x37ca("0x4")]-1,1),_-=h}}},{key:_0x37ca("0x1143"),value:function(x,a,c,_,e,t,i,n){if(_!=e){var r={};r[_0x37ca("0x8d4")]=_,r[_0x37ca("0x114a")]=0,r[_0x37ca("0x1145")]=[1*_];for(var s=[_],o=[],l=1;l<1e5;l++){for(var u=this.updateNewShortestPathList(x,r,a,c,s,t,n),d=0;d<u[_0x37ca("0x4")];d++)o.push(u[d]);if(o[_0x37ca("0x408")](this[_0x37ca("0x114b")](_0x37ca("0x114a"))),0==o[_0x37ca("0x4")])return[];for(r=o[0];this[_0x37ca("0xc0")](s,r.endPoint);)o[_0x37ca("0x2")](),r=o[0];if(s[_0x37ca("0x0")](r[_0x37ca("0x8d4")]),o[_0x37ca("0x2")](),r[_0x37ca("0x8d4")]==e)return r[_0x37ca("0xe6")]=i,r}return[]}console[_0x37ca("0x29d")]("起点与终点不能相同")}},{key:_0x37ca("0x114d"),value:function(x,a,c,_,e,t,i){var n=[],r=a[_0x37ca("0x8d4")],s=this[_0x37ca("0x1168")][x][_0x37ca("0x10af")];if(s[r])for(var o=s[r],l=0;l<o[_0x37ca("0x4")];l++){var u=_[o[l]],d=u.bstair;if(1==i){if(5==d)continue}else if(1==d||2==d||3==d||6==d)continue;var f=u[_0x37ca("0x4ee")];if(r==u.eid){if(2==i&&"1"==u.direction)continue;f=u[_0x37ca("0x4e9")]}if(!this.exitInArray(e,f)){if(c[f][_0x37ca("0x4e9")]!=t)continue;var h=this[_0x37ca("0xde")](a);h[_0x37ca("0x8d4")]=f,h[_0x37ca("0x1145")][_0x37ca("0x0")](f),h[_0x37ca("0x114a")]+=u.length,n[_0x37ca("0x0")](h)}}return n}},{key:_0x37ca("0x1182"),value:function(x,a,c){var _=this;if(!_[_0x37ca("0x1169")][x]){for(var e={},t={},i={},n={},r=_[_0x37ca("0x848")][x],s=0;s<r[_0x37ca("0x4")];s++){var o=r[s],l=o[_0x37ca("0x4df")],u=o[_0x37ca("0x48f")];for(var d in l){var f=l[d];f[_0x37ca("0xe6")]=u,i[d]=f}var h=o[_0x37ca("0x190")];for(var g in h)n[g]=h[g];for(var b in h){var v=h[b],p=v[_0x37ca("0x4e9")],A=v[_0x37ca("0x4ee")],m=b,C=v.bstair;if(1==a){if(5==C)continue}else if(1==C||2==C||3==C||6==C)continue;if(l[p]&&l[A]){if(e[p])e[p][_0x37ca("0x0")](m);else{var I=[m];e[p]=I}if(e[A])e[A][_0x37ca("0x0")](m);else{I=[m];e[A]=I}}else{var y;switch(c){case 1:y=0;break;case 2:y=2;break;case 3:y=1;break;case 4:y=3}if(y&&v[_0x37ca("0x4f0")]!=y)continue;if(t[p])t[p][_0x37ca("0x0")](m);else{I=[m];t[p]=I}if(t[A])t[A][_0x37ca("0x0")](m);else{I=[m];t[A]=I}}}}_[_0x37ca("0x1169")][x]={nearbyLine:e,crossLine:t,allPointMap:i,allLineMap:n}}}},{key:"getNaviResult2",value:function(x,a,c,_,e){var t=null;this.initDataList2(x,_,e);var i=this[_0x37ca("0x1169")][x],n=i[_0x37ca("0x112d")],r=i[_0x37ca("0x10ed")],s=i[_0x37ca("0x10af")],o=i[_0x37ca("0x1183")],l=this[_0x37ca("0x1184")](n,r,s,o,a[_0x37ca("0x176")],c[_0x37ca("0x176")],_);if(l&&l[_0x37ca("0x1145")]&&0!=l[_0x37ca("0x1145")].length){for(var u=l[_0x37ca("0x1145")],d=l[_0x37ca("0x114a")],f={x:n[u[0]].X,y:n[u[0]].Y,fnum:n[u[0]][_0x37ca("0xe6")],bid:x,id:n[u[0]]._id},h=[new(esmap[_0x37ca("0x5cd")])(x,a[_0x37ca("0xe6")],d,[f])],g=[],b=0;b<u[_0x37ca("0x4")]-1;b++){var v=n[u[b]],p=v[_0x37ca("0xe6")],A=n[u[b+1]],m=A[_0x37ca("0xe6")],C=h[h[_0x37ca("0x4")]-1];if(g[_0x37ca("0x0")]({x:v.X,y:v.Y,fnum:p,bid:x,id:v[_0x37ca("0x176")]}),p==m)C[_0x37ca("0x1076")].push({x:A.X,y:A.Y,fnum:A.fnum,bid:x,id:A[_0x37ca("0x176")]});else{var I={x:v.X,y:v.Y,fnum:v[_0x37ca("0xe6")],bid:x,id:v[_0x37ca("0x176")]},y={x:A.X,y:A.Y,fnum:A[_0x37ca("0xe6")],bid:x,id:A[_0x37ca("0x176")]};h[_0x37ca("0x0")](new(esmap[_0x37ca("0x5cd")])(x,p,0,[I]),new esmap.ESNaviResult(x,m,0,[y]),new esmap.ESNaviResult(x,m,d,[y]))}}var E=n[u[u.length-1]];g[_0x37ca("0x0")]({x:E.X,y:E.Y,fnum:E[_0x37ca("0xe6")],bid:x,id:E[_0x37ca("0x176")]});for(var w=1;w<h[_0x37ca("0x4")]-1;w++){var T=h[w];0!=T[_0x37ca("0x4")]&&1==T.pointList[_0x37ca("0x4")]&&h[w-1].fnum==T[_0x37ca("0xe6")]&&h[w+1][_0x37ca("0xe6")]==T.fnum&&h[_0x37ca("0x5")](w-1,3)}t={result:h,pointList:g}}return t}},{key:_0x37ca("0x1184"),value:function(x,a,c,_,e,t,i){if(e!=t){var n={};n.endPoint=e,n[_0x37ca("0x114a")]=0,n[_0x37ca("0x1145")]=[e];for(var r=[e],s=[],o=1;o<1e5;o++){for(var l=this[_0x37ca("0x1185")](n,x,a,c,_,r,i),u=0;u<l[_0x37ca("0x4")];u++)s[_0x37ca("0x0")](l[u]);if(0==s[_0x37ca("0x4")])return[];for(s.sort(this.compare(_0x37ca("0x114a"))),n=s[0];this[_0x37ca("0xc0")](r,n.endPoint);)s.shift(),n=s[0];if(r[_0x37ca("0x0")](n[_0x37ca("0x8d4")]),s.shift(),n[_0x37ca("0x8d4")]==t)return n}return[]}console.info(_0x37ca("0x1149"))}},{key:_0x37ca("0x1185"),value:function(x,a,c,_,e,t,i){var n=[],r=x[_0x37ca("0x8d4")];if(_[r])for(var s=_[r],o=0;o<s[_0x37ca("0x4")];o++){var l=(u=c[s[o]])[_0x37ca("0x4ee")];if(r==u[_0x37ca("0x4ee")]){if(2==i&&"1"==u[_0x37ca("0x4f1")])continue;l=u[_0x37ca("0x4e9")]}if(!this[_0x37ca("0xc0")](t,l))(d=this[_0x37ca("0xde")](x))[_0x37ca("0x8d4")]=l,d[_0x37ca("0x1145")].push(l),d[_0x37ca("0x114a")]+=u.length,1==u[_0x37ca("0x1ab")]&&(d[_0x37ca("0x114a")]+=1e3),n[_0x37ca("0x0")](d)}if(e[r])for(s=e[r],o=0;o<s[_0x37ca("0x4")];o++){var u;l=(u=c[s[o]]).eid;if(r==u.eid){if(2==i&&"1"==u.direction)continue;l=u.sid}if(!this[_0x37ca("0xc0")](t,l)){var d;(d=this[_0x37ca("0xde")](x)).endPoint=l,d[_0x37ca("0x1145")].push(l);var f=10*(u.rank||1e3);d[_0x37ca("0x114a")]+=1e5+f,n.push(d)}}return n}},{key:"getSource",value:function(x,a){for(var c=this[_0x37ca("0x848")][x],_=0;_<c[_0x37ca("0x4")];_++)if(c[_][_0x37ca("0x48f")]==a)return c[_]}},{key:_0x37ca("0x113f"),value:function(x,a){var c=this[_0x37ca("0x113c")](x.bid,x.fnum).Nodes,_=[1/0,0];if(2==a)for(var e in c){if(4==(i=c[e])[_0x37ca("0x43")]||5==i[_0x37ca("0x43")])(t=Math[_0x37ca("0x24e")](Math[_0x37ca("0xc4")](Math.pow(i.X-x.x,2)+Math[_0x37ca("0xb0")](i.Y-x.y,2))))<_[0]&&(_[0]=t,_[1]=e)}else for(var e in c){var t,i=c[e];(t=Math[_0x37ca("0x24e")](Math.sqrt(Math[_0x37ca("0xb0")](i.X-x.x,2)+Math[_0x37ca("0xb0")](i.Y-x.y,2))))<_[0]&&(_[0]=t,_[1]=e)}return c[_[1]]}},{key:_0x37ca("0x114b"),value:function(x){return function(a,c){return a[x]-c[x]}}},{key:_0x37ca("0xc0"),value:function(x,a){for(var c=0;c<x[_0x37ca("0x4")];c++)if(x[c]==a)return!0;return!1}},{key:_0x37ca("0xde"),value:function(x){var a;if((typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))==_0x37ca("0xc"))if(null===x)a=null;else if(x instanceof Array){a=[];for(var c=0,e=x[_0x37ca("0x4")];c<e;c++)a[_0x37ca("0x0")](this.clone(x[c]))}else for(var t in a={},x)a[t]=this[_0x37ca("0xde")](x[t]);else a=x;return a}}]),x}();a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=i(c(0)),e=i(c(1)),t=i(c(100));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_.default)(this,x),this[_0x37ca("0x8f7")]=a;var c=a.options,e=a[_0x37ca("0x154")][_0x37ca("0x319")][_0x37ca("0x31a")];this[_0x37ca("0x1186")]=e.getBoundingClientRect();this[_0x37ca("0x1186")];var i=c[_0x37ca("0x1e4")],n=(0,t[_0x37ca("0xe")])("div")[_0x37ca("0x24")]({position:_0x37ca("0x6d9"),bottom:c[_0x37ca("0x1e3")][1]+"px",left:c.scalerOffet[0]+"px",width:i+"px",height:"20px",webkitTextSizeAdjust:_0x37ca("0x58d"),msTextSizeAdjust:_0x37ca("0x58d")}).element;e.appendChild(n);var r=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c"))[_0x37ca("0x24")]({position:"absolute",overflow:"hidden",fontSize:_0x37ca("0x1187"),fontFamily:_0x37ca("0x1188"),textAlign:"center",color:"#fff",width:"100%",cursor:"default",lineHeight:_0x37ca("0x1189"),textShadow:_0x37ca("0x118a")}).element;n[_0x37ca("0x27")](r),this[_0x37ca("0x118b")]=r;var s=(0,t.default)(_0x37ca("0x38c")).style({position:_0x37ca("0x6d9"),overflow:_0x37ca("0x6dc"),background:_0x37ca("0x118c"),width:_0x37ca("0x31e"),height:_0x37ca("0x118d"),fontSize:"0",bottom:_0x37ca("0x118e")}).element;n[_0x37ca("0x27")](s);var o=(0,t.default)("div")[_0x37ca("0x24")]({position:_0x37ca("0x6d9"),overflow:_0x37ca("0x6dc"),background:_0x37ca("0x118c"),width:_0x37ca("0x118f"),height:_0x37ca("0x1190"),fontSize:"0",bottom:"0",right:_0x37ca("0x118e")})[_0x37ca("0x328")];n.appendChild(o);var l=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c"))[_0x37ca("0x24")]({position:_0x37ca("0x6d9"),overflow:_0x37ca("0x6dc"),background:_0x37ca("0x118c"),width:"3px",height:_0x37ca("0x1190"),fontSize:"0",bottom:"0",left:_0x37ca("0x118e")})[_0x37ca("0x328")];n[_0x37ca("0x27")](l);var u=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c"))[_0x37ca("0x24")]({position:_0x37ca("0x6d9"),overflow:_0x37ca("0x6dc"),background:_0x37ca("0x1191"),width:_0x37ca("0x31e"),height:_0x37ca("0x118f"),fontSize:"0",bottom:"0"})[_0x37ca("0x328")];n[_0x37ca("0x27")](u);var d=(0,t[_0x37ca("0xe")])("div")[_0x37ca("0x24")]({position:_0x37ca("0x6d9"),overflow:_0x37ca("0x6dc"),background:_0x37ca("0x1191"),width:_0x37ca("0x1192"),height:"6px",fontSize:"0",bottom:"0",left:"0"})[_0x37ca("0x328")];n[_0x37ca("0x27")](d);var f=(0,t[_0x37ca("0xe")])(_0x37ca("0x38c"))[_0x37ca("0x24")]({position:"absolute",overflow:"hidden",background:"#000",width:"1px",height:_0x37ca("0x1193"),fontSize:"0",bottom:"0",right:"0"})[_0x37ca("0x328")];n[_0x37ca("0x27")](f),this[_0x37ca("0x1194")]=n[_0x37ca("0x396")](),this.barBoxer=n}return(0,e[_0x37ca("0xe")])(x,[{key:_0x37ca("0xbd"),value:function(x,a){return Math[_0x37ca("0xc4")]((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))}},{key:_0x37ca("0xab4"),value:function(){var x=this;if("3D"!=this[_0x37ca("0x8f7")][_0x37ca("0xac6")]){var a=this[_0x37ca("0x8f7")][_0x37ca("0xadb")](x[_0x37ca("0x1194")][_0x37ca("0x172")]-x[_0x37ca("0x1186")][_0x37ca("0x172")],x[_0x37ca("0x1194")].top-x[_0x37ca("0x1186")][_0x37ca("0x173")],0),c=this.map_.coordScreenToMap(x[_0x37ca("0x1194")][_0x37ca("0x174")]-x.box[_0x37ca("0x172")],x[_0x37ca("0x1194")][_0x37ca("0x173")]-x[_0x37ca("0x1186")][_0x37ca("0x173")],0);if(a&&c){var _=x[_0x37ca("0xbd")](a,c),e=void 0;e=_<50?_.toFixed(1)+_0x37ca("0x1195"):_>=50&&_<1e3?_[_0x37ca("0x60a")](0)+_0x37ca("0x1195"):(_/1e3)[_0x37ca("0x60a")](1)+"&nbsp;公里",x[_0x37ca("0x118b")][_0x37ca("0x324")]=e}}else{var t=60*this[_0x37ca("0x8f7")][_0x37ca("0x154")].resolution,i=void 0;i=t<50?t[_0x37ca("0x60a")](1)+_0x37ca("0x1195"):t>=50&&t<1e3?t[_0x37ca("0x60a")](0)+_0x37ca("0x1195"):(t/1e3)[_0x37ca("0x60a")](1)+_0x37ca("0x1196"),this[_0x37ca("0x118b")][_0x37ca("0x324")]=i}}},{key:_0x37ca("0xed"),set:function(x){x?this.barBoxer[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfc2"):this.barBoxer[_0x37ca("0x24")].display=_0x37ca("0x58d")},get:function(){return this[_0x37ca("0x1197")][_0x37ca("0x24")][_0x37ca("0x6f8")]!=_0x37ca("0x58d")}}]),x}();a.default=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=n(c(10)),e=n(c(0)),t=n(c(31)),i=c(19);function n(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var r=new t.default,s=function x(a){(0,e.default)(this,x);var c=esmap[_0x37ca("0x34")].instance;this[_0x37ca("0x1198")]=!1,this.hidden=!1,this[_0x37ca("0x3f5")]=!1,this[_0x37ca("0x409")]=a,this[_0x37ca("0x409")][_0x37ca("0x576")]=_0x37ca("0xf8"),"normal"==this[_0x37ca("0x409")][_0x37ca("0x576")]?(this.w_=this[_0x37ca("0x409")][_0x37ca("0x398")]?this.options_[_0x37ca("0x398")]:300,this.h_=this[_0x37ca("0x409")][_0x37ca("0x1a8")]?this.options_[_0x37ca("0x1a8")]:150,this.padding_=10):(this.w_=32,this.h_=32,this[_0x37ca("0x1033")]=8),this.defaultShadow_=_0x37ca("0x1013"),this[_0x37ca("0x1014")]=this[_0x37ca("0x409")][_0x37ca("0xcb2")]?this[_0x37ca("0x409")][_0x37ca("0xcb2")]:"6px",this.screenCoord_=this[_0x37ca("0x409")].screenCoord?this[_0x37ca("0x409")][_0x37ca("0x1199")]:null,this.updateAlign=!!this.options_.updateAlign&&this[_0x37ca("0x409")][_0x37ca("0x119a")],this[_0x37ca("0x39e")]=this[_0x37ca("0x409")][_0x37ca("0x39e")]?this.options_[_0x37ca("0x39e")]:null,this[_0x37ca("0xef")]=this[_0x37ca("0x409")].mapCoord[_0x37ca("0xef")]?this[_0x37ca("0x409")].mapCoord[_0x37ca("0xef")]:0,this[_0x37ca("0x119b")]=this[_0x37ca("0x409")][_0x37ca("0xc19")]?this.options_[_0x37ca("0xc19")]:null,this[_0x37ca("0x119c")]=this.options_.mapCoord?this[_0x37ca("0x409")][_0x37ca("0x3ba")]:null,this[_0x37ca("0xe20")]=this.options_[_0x37ca("0x223")]?this.options_[_0x37ca("0x223")]:null,this[_0x37ca("0x119c")]&&this.mapCoord_.height&&(this[_0x37ca("0x119c")].z=this[_0x37ca("0x119c")][_0x37ca("0x1a8")]),this[_0x37ca("0x119d")]=this.options_[_0x37ca("0x380")]?this[_0x37ca("0x409")][_0x37ca("0x380")]:_0x37ca("0x119e"),this[_0x37ca("0x119f")]=this[_0x37ca("0x409")].translateStyle?this[_0x37ca("0x409")][_0x37ca("0x11a0")]:_0x37ca("0x11a1");var _=void 0;if(_=this[_0x37ca("0x409")].hasOwnProperty("id")&&null!=this[_0x37ca("0x409")].id?this[_0x37ca("0x409")].id:(0,i.createHash)(8),this.ID=_,r[_0x37ca("0x10b1")](this.ID))return console[_0x37ca("0xca")](_0x37ca("0x11a2")+this.ID),null;if(r.add(this.ID),this.mapCoord_){null==this[_0x37ca("0x119c")].x&&(this[_0x37ca("0x119c")].x=c[_0x37ca("0xe5")].x),null==this[_0x37ca("0x119c")].y&&(this[_0x37ca("0x119c")].y=c[_0x37ca("0xe5")].y);var t=c[_0x37ca("0xaa3")]({x:this[_0x37ca("0x119c")].x,y:this[_0x37ca("0x119c")].y});this[_0x37ca("0x119c")].x=t.x,this[_0x37ca("0x119c")].y=t.y}this[_0x37ca("0x11a3")]=null,this.mapCoord_&&!this[_0x37ca("0x119c")][_0x37ca("0xe6")]&&(this[_0x37ca("0x119c")].fnum=1,this[_0x37ca("0x409")].mapCoord[_0x37ca("0xe6")]=1),this.options_.mapCoord[_0x37ca("0xef")]||(this[_0x37ca("0x409")][_0x37ca("0x3ba")].bid=0),this.screenCoord_&&this[_0x37ca("0x11a4")][_0x37ca("0x1a8")]&&(this[_0x37ca("0x11a4")].z=this.screenCoord_[_0x37ca("0x1a8")]),this[_0x37ca("0x5b")]=c[_0x37ca("0xf0")](this[_0x37ca("0xef")]),(this[_0x37ca("0x11a4")]||this.mapCoord_)&&(this[_0x37ca("0x11a5")]=!!this[_0x37ca("0x11a4")],this.$=function(x){return document.querySelector(x)},this[_0x37ca("0x100d")]=null==this[_0x37ca("0x409")][_0x37ca("0xf99")]?20:this.options_[_0x37ca("0xf99")],this[_0x37ca("0x11a6")]=this.h_-2*this[_0x37ca("0x100d")],this[_0x37ca("0x11a7")]=this[_0x37ca("0x409")][_0x37ca("0x74e")]?this[_0x37ca("0x409")].content:null,this[_0x37ca("0x11a8")]=this[_0x37ca("0x409")][_0x37ca("0x11a9")]?this[_0x37ca("0x409")].borderStyle:_0x37ca("0x11aa"),this[_0x37ca("0xe3b")]=this[_0x37ca("0x409")][_0x37ca("0xe3b")]?this[_0x37ca("0x409")][_0x37ca("0xe3b")]:_0x37ca("0x11ab"),this.backgroundColor=this[_0x37ca("0x409")][_0x37ca("0x8ec")]?this[_0x37ca("0x409")][_0x37ca("0x8ec")]:"255,255,255",this[_0x37ca("0x11ac")]=this[_0x37ca("0x409")][_0x37ca("0x11ac")]?this.options_[_0x37ca("0x11ac")]:1,this[_0x37ca("0xfd")]=1,this[_0x37ca("0x11ad")]=null!=this.options_.updateSize&&this[_0x37ca("0x409")][_0x37ca("0xab5")],this[_0x37ca("0x39")]=c,this.popDiv_=null,this[_0x37ca("0x22d")]=1,this.computedScale=1,this[_0x37ca("0x11ae")]())};s[_0x37ca("0x11")]={_tryInit:function(){var x=this,a=this,c=this[_0x37ca("0x39")],_=document[_0x37ca("0x22")]("div");if(_[_0x37ca("0x24")][_0x37ca("0x380")]="center bottom",_[_0x37ca("0xb53")]=function(x){x[_0x37ca("0x370")]()},_[_0x37ca("0xb54")]=function(x){a.map[_0x37ca("0x275")][_0x37ca("0xbc8")](),x[_0x37ca("0x370")]()},_[_0x37ca("0xb81")]=function(x){x[_0x37ca("0x370")]()},_[_0x37ca("0xff6")]=function(x){x[_0x37ca("0x370")]()},_[_0x37ca("0xff5")]=function(x){x[_0x37ca("0x370")]()},!this[_0x37ca("0x39e")]&&this.content_){this[_0x37ca("0x11a7")]="<div style='height:"+this[_0x37ca("0x11a6")]+_0x37ca("0x11af")+this[_0x37ca("0x11a7")]+_0x37ca("0x11b0"),_[_0x37ca("0x24")].width=this.w_+"px",_[_0x37ca("0x24")].height=this.h_+"px",_.style[_0x37ca("0xb8")]=_0x37ca("0x6f0"),_.setAttribute("class",_0x37ca("0x11b1")),_.style[_0x37ca("0xf99")]=this[_0x37ca("0x100d")]+"px",_[_0x37ca("0x24")][_0x37ca("0x8ec")]=_0x37ca("0x605")+this[_0x37ca("0x8ec")]+","+this[_0x37ca("0xfd")]+")",_[_0x37ca("0x24")].border=this.borderStyle_,_[_0x37ca("0x24")][_0x37ca("0xcb2")]=this.defaultRadius_,_[_0x37ca("0x24")][_0x37ca("0xfc4")]=_0x37ca("0x323");var e=document[_0x37ca("0x22")](_0x37ca("0xcb5"));e.setAttribute(_0x37ca("0x325"),_0x37ca("0x11b2")),e[_0x37ca("0x24")][_0x37ca("0x398")]=0,e[_0x37ca("0x24")][_0x37ca("0x1a8")]=0,e[_0x37ca("0x24")][_0x37ca("0xcb4")]=0,e[_0x37ca("0x24")].overflow=_0x37ca("0x6dc"),e[_0x37ca("0x24")].position=_0x37ca("0x6d9"),e[_0x37ca("0x24")][_0x37ca("0x11b3")]="20px",e[_0x37ca("0x24")][_0x37ca("0x11a9")]=_0x37ca("0xcb8"),e[_0x37ca("0x24")][_0x37ca("0xe3b")]=this[_0x37ca("0xe3b")]+_0x37ca("0x11b4"),e[_0x37ca("0x24")][_0x37ca("0x172")]=this.w_/2-25+"px",e.style[_0x37ca("0x175")]=_0x37ca("0x11b5");var t=document[_0x37ca("0x22")]("span");t[_0x37ca("0x32b")]("class",_0x37ca("0xcb6")),t[_0x37ca("0x24")].width=0,t[_0x37ca("0x24")][_0x37ca("0x1a8")]=0,t[_0x37ca("0x24")].fontSize=0,t[_0x37ca("0x24")][_0x37ca("0x6db")]=_0x37ca("0xcb7"),t[_0x37ca("0x24")].position=_0x37ca("0x6d9"),t[_0x37ca("0x24")][_0x37ca("0x11a9")]=_0x37ca("0xcb8"),t[_0x37ca("0x24")][_0x37ca("0x11b3")]="20px",t[_0x37ca("0x24")][_0x37ca("0xe3b")]=_0x37ca("0x605")+this[_0x37ca("0x8ec")]+","+this[_0x37ca("0xfd")]+_0x37ca("0xcba"),t[_0x37ca("0x24")][_0x37ca("0x172")]=this.w_/2-25+"px",t[_0x37ca("0x24")][_0x37ca("0x175")]=_0x37ca("0x11b6");var i=document[_0x37ca("0x22")](_0x37ca("0x891"));i[_0x37ca("0x22a")]="button",i.value="✖",i[_0x37ca("0x24")][_0x37ca("0xb8")]=_0x37ca("0x6d9"),i[_0x37ca("0x24")].right=_0x37ca("0xda5"),i.style[_0x37ca("0x173")]=_0x37ca("0xf9a"),i[_0x37ca("0x24")][_0x37ca("0xa1f")]="0 0 #eee",i[_0x37ca("0x24")].width="24px",i[_0x37ca("0x24")][_0x37ca("0x1a8")]=_0x37ca("0x11b7"),i[_0x37ca("0x24")][_0x37ca("0x11b8")]=0,i[_0x37ca("0x24")].webkitAppearance=_0x37ca("0x58d"),i.style[_0x37ca("0xf99")]="0",i[_0x37ca("0x101b")]=this.bindCloseClick_[_0x37ca("0x10")](this),i.ontouchend=this[_0x37ca("0x11b9")][_0x37ca("0x10")](this),_[_0x37ca("0x27")](i),_.appendChild(e),_[_0x37ca("0x27")](t)}else this[_0x37ca("0x39e")]&&_.setAttribute("class",this[_0x37ca("0x39e")]);var n=c[_0x37ca("0xf0")](this.bid),r=n[_0x37ca("0x617")](this[_0x37ca("0x409")][_0x37ca("0x3ba")][_0x37ca("0xe6")]),s=new(THREE[_0x37ca("0x216")]);s[_0x37ca("0x11a")].id=this.ID,s.name=_0x37ca("0xae5"),r[_0x37ca("0xa5")][_0x37ca("0xe0")](s),n.on(_0x37ca("0x12c"),(function(a){a[_0x37ca("0xda")](x[_0x37ca("0x409")].mapCoord[_0x37ca("0xe6")])<0?x[_0x37ca("0x6dc")]||x[_0x37ca("0x269")]():x.hidden&&x[_0x37ca("0xf14")]()}));var o=document[_0x37ca("0x22")]("div");o[_0x37ca("0x27")](_);var l=new THREE.CSS2DObject(o);this[_0x37ca("0x220")]=!1;var u=c[_0x37ca("0x181")](this[_0x37ca("0x409")][_0x37ca("0x3ba")]);s[_0x37ca("0xb8")][_0x37ca("0x268")](u);var d=this[_0x37ca("0x409")][_0x37ca("0x3ba")][_0x37ca("0x1a8")]||0;s[_0x37ca("0xb8")].y=d,s.initY=d,l[_0x37ca("0x119b")]=this[_0x37ca("0x119b")],l[_0x37ca("0xa4")]={nodeType:100};var f=_[_0x37ca("0x396")](),h=f.width,g=f[_0x37ca("0x1a8")];l[_0x37ca("0xe26")]=h,l[_0x37ca("0xe15")]=g,l[_0x37ca("0x11a")][_0x37ca("0x6f4")]=1,l[_0x37ca("0x11a")][_0x37ca("0x119a")]=this[_0x37ca("0x119a")],s.add(l),this[_0x37ca("0x11ba")]=l,s[_0x37ca("0xe26")]=64,s[_0x37ca("0xe15")]=64,this.group=s,s[_0x37ca("0xa4")]=this,a.bindMarker&&(_[_0x37ca("0x24")].bottom=d+"px");var b=function(){if(a.bindMarker&&a.bindMarker[_0x37ca("0xa5")]&&(s[_0x37ca("0xb8")].y=a[_0x37ca("0x119b")].o3d_[_0x37ca("0xb8")].y),a[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].City){var x=s[_0x37ca("0x23d")](new(THREE[_0x37ca("0xe2")]));a[_0x37ca("0x39")][_0x37ca("0xa75")](x,!0)&&a.inLevel?a[_0x37ca("0x6dc")]&&a[_0x37ca("0x11bb")](!0):!a.hidden&&a[_0x37ca("0x11bb")](!1)}},v=function(){if(a.updateSize_){var x=esmap[_0x37ca("0x289")][_0x37ca("0xe22")](l,a.map.mapView);a.originalScale||(x[_0x37ca("0xe27")]<=0?a[_0x37ca("0x267")]=1:a.originalScale=x[_0x37ca("0xe27")]);var c=a[_0x37ca("0x267")]/x[_0x37ca("0xe27")];c<=0&&(c=a[_0x37ca("0x267")]);var _=Math[_0x37ca("0x30e")](a.maxScale,c);l.userData[_0x37ca("0x6f4")]=_,a.computedScale=_}};a[_0x37ca("0xe20")]?a[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")]?a[_0x37ca("0x39")][_0x37ca("0x156")]<a[_0x37ca("0xe20")]?a.inLevel=!1:a[_0x37ca("0x11bc")]=!0:a[_0x37ca("0x39")].scaleLevel<a[_0x37ca("0xe20")]?a[_0x37ca("0x11bc")]=!0:a.inLevel=!1:a[_0x37ca("0x11bc")]=!0,a[_0x37ca("0x39")].on(_0x37ca("0x119"),b),a[_0x37ca("0xc2b")]=b,a[_0x37ca("0x11bd")]=v,a[_0x37ca("0x39")].on(_0x37ca("0x12d"),v),a.showLevel_&&a[_0x37ca("0x39")].on(_0x37ca("0x12d"),(function(){if(a.map[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].City){var x=a.map[_0x37ca("0x156")];if(a[_0x37ca("0x3f5")])return;x<a.showLevel_?a.hidden||(a[_0x37ca("0x11bb")](!1),a.inLevel=!1,a.onVisibleCallBack&&a[_0x37ca("0x11a3")](!1)):a[_0x37ca("0x6dc")]&&(a[_0x37ca("0x11bb")](!0),a[_0x37ca("0x11bc")]=!0,a[_0x37ca("0x11a3")]&&a[_0x37ca("0x11a3")](!0))}else{var c=a[_0x37ca("0x39")][_0x37ca("0x224")];if(a.locked)return;c>a.showLevel_?a.hidden||(a[_0x37ca("0x11bb")](!1),a[_0x37ca("0x11bc")]=!1,a[_0x37ca("0x11a3")]&&a[_0x37ca("0x11a3")](!1)):a[_0x37ca("0x6dc")]&&(a.setVisible(!0),a[_0x37ca("0x11bc")]=!0,a[_0x37ca("0x11a3")]&&a[_0x37ca("0x11a3")](!0))}})),this.content_&&_[_0x37ca("0x11be")](_0x37ca("0x11bf"),this[_0x37ca("0x11a7")]),this[_0x37ca("0xa0e")]=_,r.o3d_[_0x37ca("0xed")]||this[_0x37ca("0x269")](),document[_0x37ca("0x33")](_0x37ca("0x6ff"),(function(x){x.targetELement==o&&(a[_0x37ca("0x11bc")]||a[_0x37ca("0x11bb")](!1),a[_0x37ca("0x220")]||(a[_0x37ca("0x409")][_0x37ca("0x220")]&&a.options_[_0x37ca("0x220")](_[_0x37ca("0xa6")][0],a),a.created=!0))}))},onUpdatePosition:function(x){var a=this,c=this;c[_0x37ca("0x11c0")]=function(a){var _={x:a[_0x37ca("0xe54")].x,y:a[_0x37ca("0xe54")].y,display:a[_0x37ca("0xe54")][_0x37ca("0x6f8")],zIndex:c[_0x37ca("0x11ba")].element[_0x37ca("0x24")][_0x37ca("0x701")]};c[_0x37ca("0x3f5")]||c[_0x37ca("0x11bc")]||(_[_0x37ca("0x6f8")]=_0x37ca("0x58d"));var e=1;if(c[_0x37ca("0x11ad")]){var t=esmap[_0x37ca("0x289")].getPerspectiveScale(c[_0x37ca("0xa0d")],c[_0x37ca("0x39")].mapView);c.originalScale||(c.originalScale=t[_0x37ca("0xe27")]);var i=c[_0x37ca("0x267")]/t[_0x37ca("0xe27")];i<=0&&(i=c[_0x37ca("0x267")]),e=Math.min(c.maxScale,i)}x(_0x37ca("0x3a2")+c.translateStyle_+_0x37ca("0x6f5")+_.x+_0x37ca("0x6e2")+_.y+"px) scale("+e+")",_)},this[_0x37ca("0x11ba")][_0x37ca("0x33")](_0x37ca("0x119"),c[_0x37ca("0x11c0")]),this[_0x37ca("0x11ba")][_0x37ca("0x33")](_0x37ca("0x23f"),(function(){x(_0x37ca("0xf75"),{display:_0x37ca("0x58d")}),a[_0x37ca("0x11ba")].removeEventListener(_0x37ca("0x119"),c[_0x37ca("0x11c0")])}))},onVisibleChanged:function(x){this[_0x37ca("0x11a3")]=x},getMapCoord_Z:function(x,a){return a?this[_0x37ca("0x5b")][_0x37ca("0x2f2")](x)+a:this[_0x37ca("0x5b")][_0x37ca("0x2f2")](x)+2},getMapCoord_:function(x){if(_0x37ca("0xc")!=(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_.default)(x))||!x.x||!x.y||!x[_0x37ca("0xe6")])return null;var a={x:x.x,y:x.y,z:this[_0x37ca("0x11c1")](x[_0x37ca("0xe6")],x.z)};return this.map.coordScreenToMap(a.x,a.y,a.z)},getScreenCoord_:function(x){return _0x37ca("0xc")==(void 0===x?"undefined":(0,_[_0x37ca("0xe")])(x))&&x.x&&x.y&&x.z?this.map[_0x37ca("0xae0")](x.x,x.y,x.z):null},bindCloseClick_:function(){this[_0x37ca("0x2fa")](),this.options_[_0x37ca("0x11c2")]&&"function"==typeof this[_0x37ca("0x409")].closed&&this[_0x37ca("0x409")][_0x37ca("0x11c2")](!0)},close:function(){if(this[_0x37ca("0xa0e")]){var x=this[_0x37ca("0x5b")].getFloor(this.mapCoord_[_0x37ca("0xe6")]);this.group[_0x37ca("0x147")](this[_0x37ca("0xa0d")].children[0]),x.o3d_[_0x37ca("0x147")](this[_0x37ca("0xa0d")]),r[_0x37ca("0x296")](this.ID),this.popDiv_[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d"),this[_0x37ca("0x409")].closed&&"function"==typeof this[_0x37ca("0x409")].closed&&this.options_[_0x37ca("0x11c2")](!0),this[_0x37ca("0x39")][_0x37ca("0x62")](_0x37ca("0x119"),this[_0x37ca("0xc2b")])}},setVisible:function(x){this[_0x37ca("0x3f5")]||(x?(this[_0x37ca("0xa0e")]&&(this[_0x37ca("0xa0e")].style[_0x37ca("0x6f8")]=_0x37ca("0xfc2"),this[_0x37ca("0x6dc")]=!1),this[_0x37ca("0x11ba")][_0x37ca("0xed")]=!0):(this[_0x37ca("0xa0e")]&&(this[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d"),this.hidden=!0),this[_0x37ca("0x11ba")][_0x37ca("0xed")]=!1))},hide:function(){this[_0x37ca("0x3f5")]||(this[_0x37ca("0x3f5")]=!0),this.popDiv_&&(this[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0x6f8")]="none",this[_0x37ca("0x6dc")]=!0),this.cssObject[_0x37ca("0xed")]=!1},show:function(){this[_0x37ca("0x3f5")]||(this.locked=!0),this.popDiv_&&(this.popDiv_[_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfc2"),this[_0x37ca("0x6dc")]=!1),this[_0x37ca("0x11ba")][_0x37ca("0xed")]=!0},toggle:function(){this[_0x37ca("0xa0e")]&&(this[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0x6f8")]==_0x37ca("0x58d")?this[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0xfc2"):this[_0x37ca("0xa0e")][_0x37ca("0x24")][_0x37ca("0x6f8")]=_0x37ca("0x58d"))},moveTo:function(x){esmap[_0x37ca("0x289")].prototype[_0x37ca("0x250")][_0x37ca("0x6")](this[_0x37ca("0xa0d")],x)}},a.default=s},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=d(c(10)),e=d(c(8)),t=d(c(2)),i=d(c(0)),n=d(c(1)),r=d(c(102)),s=d(c(67)),o=d(c(355)),l=d(c(357)),u=(c(69),d(c(24)));function d(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var f=new(r[_0x37ca("0xe")]),h={x:0,y:0},g=function(){function x(a,c,_){var e=this;(0,i.default)(this,x),f[_0x37ca("0x11d")](_0x37ca("0xcca"),null),this.id=a,this[_0x37ca("0x1aa")]="",this[_0x37ca("0xa68")]=null,this[_0x37ca("0x39")]=_,this[_0x37ca("0xace")]=1,this[_0x37ca("0xe5")],this[_0x37ca("0xd58")]=[],this[_0x37ca("0x62d")]=[],this[_0x37ca("0x11c3")]=[],this[_0x37ca("0x8fa")]={},this[_0x37ca("0x990")]={},this[_0x37ca("0x100c")]={},this.o3d_=new(THREE[_0x37ca("0x14a")]),this.o3d_.datas_=this,this[_0x37ca("0x169")]=null,this[_0x37ca("0x14b")]=this.map[_0x37ca("0x14c")].meshHandler,this.options=c,null==this[_0x37ca("0x36")][_0x37ca("0x1ea")]&&(this.options.mergeModels=!0),this[_0x37ca("0x11c4")]={},this[_0x37ca("0x11c5")]=[],this[_0x37ca("0x11c6")]=!1,this.originFloorHeights={},this[_0x37ca("0xc04")]={},this[_0x37ca("0x98f")]=!1,this[_0x37ca("0x14f")]=new(o[_0x37ca("0xe")])(this),this.meshLoader=new l.default(this),this.entered=!1,this[_0x37ca("0x11c7")]=0,em[_0x37ca("0x218")][_0x37ca("0x1062")](this),this.map[_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].Building&&this[_0x37ca("0x39")].on(_0x37ca("0xb04"),(function(x){x==esmap[_0x37ca("0x5b1")][_0x37ca("0xad4")]&&e.visibleFloorNums[_0x37ca("0x4")]>1&&(e.visibleFloorNums=[e.focusFloorNum])})),this[_0x37ca("0x99a")]=[]}return(0,n[_0x37ca("0xe")])(x,[{key:_0x37ca("0x11c8"),value:function(x){var a=this;return x[_0x37ca("0x39")]((function(x){return(0,t.default)({},x,{x:x.x+a.offset.x,y:x.y+a[_0x37ca("0x137")].y})}))}},{key:_0x37ca("0x11c9"),value:function(x){for(var a=0;a<this.listFloors[_0x37ca("0x4")];a++){if(this[_0x37ca("0xcf9")][a][_0x37ca("0x498")][_0x37ca("0xb00")]()==x)return this[_0x37ca("0xcf9")][a][_0x37ca("0x48f")]}return console[_0x37ca("0xca")](_0x37ca("0x11ca")+x),null}},{key:_0x37ca("0x11cb"),value:function(x){try{var a=[];return this.floors_[x][_0x37ca("0x11cc")].forEach((function(x){var c={points:[],holes:[]};x[_0x37ca("0xee")][_0x37ca("0x1f")]((function(x){c[_0x37ca("0xee")][_0x37ca("0x0")]({x:-x.x,y:x.y})})),x[_0x37ca("0x554")][_0x37ca("0x1f")]((function(x){var a=[];x.forEach((function(x){a[_0x37ca("0x0")]({x:-x.x,y:x.y})})),c.holes.push(a)})),a[_0x37ca("0x0")](c)})),a}catch(x){return console[_0x37ca("0x29d")]("esmap.ESInfo.GETFLOORBOUNDS_ERR"),null}}},{key:_0x37ca("0xa03"),value:function(x,a){var c=this;if(1==c[_0x37ca("0x36")].focusMode)c[_0x37ca("0xe95")]=[x];else{var _=c[_0x37ca("0x62d")].sort(),e=[];for(var t in _)_[t]<=x&&e.push(_[t]);c[_0x37ca("0xe95")]=e}c[_0x37ca("0x91b")]={fnum:x,callback:a}}},{key:"asyncLoadRoads",value:function(x,a,c){var _=this,e=new THREE.Promise,t=x.roadDatas,i=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x11cd")]);return a.add(i.o3d_),setTimeout((function(){for(var x=0;x<t[_0x37ca("0x4")];x++){for(var a=t[x],i=0;i<a[_0x37ca("0xee")][_0x37ca("0x4")];i++)a[_0x37ca("0xee")][i].x=-a[_0x37ca("0xee")][i].x,a[_0x37ca("0xee")][i][_0x37ca("0xe6")]=c;var n=u[_0x37ca("0xe")][_0x37ca("0x5d9")]("buildingAsset",{filename:a[_0x37ca("0xd48")],type:_0x37ca("0xd4a"),buildingId:_.id});a.RoomLogo;var r={lineType:esmap.ESLineType[_0x37ca("0xbb3")],lineWidth:5,noAnimate:!0,color:_0x37ca("0xcc"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(r[_0x37ca("0x4a")]=n,a[_0x37ca("0xd49")]){var s=a.RoomLogoSize.split(",");1*s[1]?(r[_0x37ca("0x115")]=1*s[1],r.up=new(THREE[_0x37ca("0xe2")])(0,1,0)):(r[_0x37ca("0x115")]=1*s[0],r.up=new(THREE[_0x37ca("0xe2")])(1,0,0)),r.offsetHeight=a[_0x37ca("0x620")];var o=new(esmap[_0x37ca("0xc97")])({id:a[_0x37ca("0x61c")],points:a[_0x37ca("0xee")],style:r});o.data_=a,o.FloorNum=c,_[_0x37ca("0x39")][_0x37ca("0x9ce")](o)}}e[_0x37ca("0x77c")]()}),_[_0x37ca("0x11ce")]),e}},{key:_0x37ca("0x11cf"),value:function(x){var a,c=this,_=c[_0x37ca("0x62d")],e=!1,t=!1;x instanceof Object?(e=x[_0x37ca("0x1")](_0x37ca("0x11d0"))?x[_0x37ca("0x11d0")]:e,t=!!x.hasOwnProperty(_0x37ca("0x11d1"))&&x[_0x37ca("0x11d1")],a=x.id,_=x.fnum?x[_0x37ca("0xe6")]:_):typeof x==_0x37ca("0x143")&&(a=x);var i=null;return esmap.ESMapUtil.search(this[_0x37ca("0x39")],{fnum:_,bid:this.id},{nodeType:5,ID:a},(function(x){if(0!=x[_0x37ca("0x4")]){if(e)c[_0x37ca("0x39")][_0x37ca("0x939")][0]&&c[_0x37ca("0x39")][_0x37ca("0x939")][0].ID==x[0].ID||(c[_0x37ca("0x39")][_0x37ca("0xa09")](),c[_0x37ca("0x39")][_0x37ca("0xa0f")](x[0]));var a=x[0];if(t){var _=a.o3d_[_0x37ca("0xa7")],n=_[_0x37ca("0x402")];_[_0x37ca("0x11a")][_0x37ca("0x402")]=n,_.clearGroups(),c.map[_0x37ca("0x11d2")](a[_0x37ca("0xbc")][0],a[_0x37ca("0xbc")][1],n)[_0x37ca("0x1f")]((function(x){_[_0x37ca("0x133")](x[_0x37ca("0x1c6")],x.count,x[_0x37ca("0x3fd")])})),a[_0x37ca("0x11d3")]=!0}else if(a.hided){var r=a[_0x37ca("0xa5")][_0x37ca("0xa7")];r[_0x37ca("0x132")](),r.userData[_0x37ca("0x402")][_0x37ca("0x1f")]((function(x){r.addGroup(x[_0x37ca("0x1c6")],x.count,x[_0x37ca("0x3fd")])})),a[_0x37ca("0x11d3")]=!1}i=x[0]}})),i}},{key:"updateFloorSpan",value:function(x){var a,c=this,_=1,e=null,t=x;t instanceof Object?(_=null==t[_0x37ca("0x1ba")]?1:t[_0x37ca("0x1ba")],a=1*t[_0x37ca("0x1a8")],e=t[_0x37ca("0x1c7")]||null):a=1*t;for(var i=0;i<c[_0x37ca("0x11c5")][_0x37ca("0x4")];i++)c[_0x37ca("0x11c5")][i][_0x37ca("0x1bc")]();c[_0x37ca("0x11c5")]=[];var n=c.focusFloorNum,r=c.originFloorHeights[2]-c.originFloorHeights[1];if(this.floorSpanOffset!=t){this[_0x37ca("0x11c7")]=a;var s=c[_0x37ca("0x62d")];c[_0x37ca("0x11c6")]=!0;for(var o=c.options[_0x37ca("0x1007")],l=function(){if(1==o){if(s[u]===n)return"continue"}else a;var x=s[u];d=c.getFloor(x).o3d_;var t=void 0;t=2==o?(x-1)*(a+r):(x-n)*(a+r),f=new(esmap[_0x37ca("0x1c1")].Tween)(d[_0x37ca("0xb8")]).to({y:t},1e3*_).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")].Out)[_0x37ca("0x1c4")]((function(){c[_0x37ca("0x11c6")]&&e&&e(),c[_0x37ca("0x11c6")]=!1}))[_0x37ca("0x12f")]((function(a){c[_0x37ca("0x242")](_0x37ca("0xf1"),{fnum:x,value:a.y})}))[_0x37ca("0x1c6")](),c[_0x37ca("0x11c5")][_0x37ca("0x0")](f)},u=0;u<s.length;u++){var d,f;l();_0x37ca("0x5e4")}}}},{key:"getO3dFloor",value:function(x){return this[_0x37ca("0x990")][x]}},{key:"getFloor",value:function(x){var a=this[_0x37ca("0x990")][x];return null==a?null:a.datas_}},{key:_0x37ca("0x2f2"),value:function(x){return this[_0x37ca("0x11d4")](x)[_0x37ca("0xb8")].y}},{key:_0x37ca("0x9c5"),value:function(){var x=this,a=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]&&arguments[0],c=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x9c4")],_=null,e={time:1,scaleZ:.25};if(c===esmap.ShowBuildingMode[_0x37ca("0x11d5")])_=esmap[_0x37ca("0xbb0")][_0x37ca("0x11d5")];else if(c===esmap[_0x37ca("0xbb0")].PLANISH)_=esmap[_0x37ca("0xbb0")][_0x37ca("0xbb1")];else{if(c===esmap.ShowBuildingMode.NONE)return;_=c[_0x37ca("0x37")],(0,t.default)(e,c)}var i={mode:_};(0,t[_0x37ca("0xe")])(i,e),this[_0x37ca("0x11d6")]=i,a?this[_0x37ca("0xa69")]=!0:_===esmap.ShowBuildingMode[_0x37ca("0xbb1")]?this[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0xcfd")]({coord:this[_0x37ca("0xe5")],time:e.time,scaleZ:e.scaleZ,onComplete:function(){x[_0x37ca("0xa69")]=!0,x.map.tileService.buildingHighLighted=!0,x[_0x37ca("0x242")](_0x37ca("0x9c5"))}}):_===esmap[_0x37ca("0xbb0")].SINGLE?(this[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0xcff")](!1),this[_0x37ca("0x36")][_0x37ca("0x11d7")]=!0,this[_0x37ca("0xa69")]=!0,this.map[_0x37ca("0x157")][_0x37ca("0x11d8")]=!0,this.emit(_0x37ca("0x9c5"))):console[_0x37ca("0xca")](_0x37ca("0x11d9"))}},{key:"exit",value:function(){var x=this;return new(e[_0x37ca("0xe")])((function(a){x[_0x37ca("0x11d6")]?x[_0x37ca("0x11d6")].mode===esmap[_0x37ca("0xbb0")].PLANISH?(x.map.tileService[_0x37ca("0xcfd")]({scaleZ:!1,onComplete:function(){x[_0x37ca("0xa69")]=!1,x.emit(_0x37ca("0xa6a")),a()}}),x.map[_0x37ca("0x157")][_0x37ca("0x11d8")]=!1):x[_0x37ca("0x11d6")].mode===esmap[_0x37ca("0xbb0")][_0x37ca("0x11d5")]&&(x[_0x37ca("0x39")].tileService[_0x37ca("0xcff")](!0),x.options.focusAnimateMode=!1,x[_0x37ca("0xa69")]=!1,x[_0x37ca("0x39")][_0x37ca("0x157")].buildingHighLighted=!1,x[_0x37ca("0x242")](_0x37ca("0xa6a")),a()):a()}))}},{key:"putFloor",value:function(x,a){var c=this.floors_[x];c.floorTempData=a;var _=new esmap.ESFloorManager(this,c)[_0x37ca("0xa5")];_[_0x37ca("0xed")]=!0,_.meta_=c,_.position[_0x37ca("0x11d")](0,c.Elevation,0),this.o3dFloors_[x]=_,this[_0x37ca("0xa5")].add(_),this[_0x37ca("0x11da")][x]=_[_0x37ca("0xb8")][_0x37ca("0xde")]().y}},{key:_0x37ca("0x11db"),value:function(x,a){var c=this;c[_0x37ca("0xace")]=x,a=a||{};var _=this[_0x37ca("0x169")].floors,e=c[_0x37ca("0x39")][_0x37ca("0x275")];if(this[_0x37ca("0x39")]){var t=-this[_0x37ca("0x990")][x][_0x37ca("0xb8")].y,i=a[_0x37ca("0x11dc")]||!1;for(var n in _){var r=_[n],s=r[_0x37ca("0x48f")],o=this[_0x37ca("0x990")][s];if(s==x){var l=new(THREE[_0x37ca("0xe2")]);l.y=r[_0x37ca("0x491")],this.options[_0x37ca("0x91c")]&&esmap[_0x37ca("0x7b")][_0x37ca("0x11dd")]({fnum:x,bid:c.id,time:0});var u=this.map[_0x37ca("0x154")][_0x37ca("0x611")][_0x37ca("0xb8")][_0x37ca("0xde")](),d=this[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")].clone(),f=u.y-d.y;l.x=d.x,l.z=d.z;var h=l[_0x37ca("0xde")]().sub(d),g=l.y+f-u.y,b=null==a[_0x37ca("0x1ba")]?this[_0x37ca("0x36")][_0x37ca("0x11d7")]?this[_0x37ca("0x36")].focusAnimateTime:0:a[_0x37ca("0x1ba")];if(c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x91c")]&&c[_0x37ca("0x39")][_0x37ca("0xad7")](s,!0),c[_0x37ca("0x39")][_0x37ca("0x93a")]&&c[_0x37ca("0x39")].__moveToId[_0x37ca("0x1bc")](),2==c[_0x37ca("0x36")][_0x37ca("0x1007")])a[_0x37ca("0x11de")]?(c[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x611")][_0x37ca("0xb8")].y=u.y+g,e[_0x37ca("0x276")].y=l.y,e[_0x37ca("0x119")]()):c[_0x37ca("0x36")][_0x37ca("0x11d7")]&&(this[_0x37ca("0x93a")]&&this[_0x37ca("0x93a")][_0x37ca("0x1bc")](),this[_0x37ca("0x93a")]=new(esmap[_0x37ca("0x1c1")].Tween)({value:0}).to({value:1},1e3*b)[_0x37ca("0x261")](esmap.TWEEN[_0x37ca("0x1c2")].Circular[_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x,a){c[_0x37ca("0x39")]&&(c[_0x37ca("0x39")][_0x37ca("0x154")].camera[_0x37ca("0xb8")].y=u.y+g*a,e[_0x37ca("0x276")].y=d.y+h.y*a,e.update())}))[_0x37ca("0x1c4")]((function(c){a[_0x37ca("0x1c7")]&&a.callback(x)}))[_0x37ca("0x1c6")]());else{o[_0x37ca("0xb8")][_0x37ca("0xe6")]=s;var v=o[_0x37ca("0xb8")][_0x37ca("0xde")]();o[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x9d1"))||(o.userData[_0x37ca("0x9d1")]=v.y),v[_0x37ca("0xe6")]=s,v.y=v.y+t,i&&(c.originFloorHeights[s]=v.y),new(esmap[_0x37ca("0x1c1")].Tween)(o[_0x37ca("0xb8")]).to(v,800).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Circular[_0x37ca("0x1c3")])[_0x37ca("0x12f")]((function(x){c[_0x37ca("0x242")](_0x37ca("0xf1"),{value:x.y,fnum:x[_0x37ca("0xe6")]})}))[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x1c6")]()}}else if(o&&o[_0x37ca("0xed")]&&this.options.focusAlphaMode&&esmap[_0x37ca("0x7b")][_0x37ca("0x5f0")]({bid:this.id,fnum:s,alpha:this[_0x37ca("0x36")][_0x37ca("0xc06")]}),c.map[_0x37ca("0xad7")](s,!1),1==c[_0x37ca("0x36")][_0x37ca("0x1007")]){var p=o.position[_0x37ca("0xde")]();o[_0x37ca("0xb8")][_0x37ca("0xe6")]=s,o[_0x37ca("0x11a")][_0x37ca("0x1")](_0x37ca("0x9d1"))||(o[_0x37ca("0x11a")][_0x37ca("0x9d1")]=p.y);o.userData[_0x37ca("0x9d1")];p.y=p.y+t,p[_0x37ca("0xe6")]=s,i&&(c[_0x37ca("0x11da")][s]=p.y),new(esmap.TWEEN[_0x37ca("0x1bd")])(o.position).to(p,800)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x11df")].Out)[_0x37ca("0x1c4")]((function(){}))[_0x37ca("0x12f")]((function(x){c[_0x37ca("0x242")](_0x37ca("0xf1"),{value:x.y,fnum:x[_0x37ca("0xe6")]})}))[_0x37ca("0x1c6")]()}}}}},{key:_0x37ca("0x11e0"),value:function(x,a){var c=this[_0x37ca("0x11d4")](x);if(c){var _=this.floors_[x][_0x37ca("0x11e1")];this[_0x37ca("0x11e2")](_,c,x,!0)}}},{key:_0x37ca("0xc53"),value:function(x,a,c){var _=this;x==a[_0x37ca("0x4")]?(x=0,c&&c()):_[_0x37ca("0x11c3")][_0x37ca("0xda")](a[x])>-1?(x++,_[_0x37ca("0xc53")](x,a,c)):setTimeout((function(){_[_0x37ca("0x11e3")](a[x],(function(){x++,_[_0x37ca("0xc53")](x,a,c)}),x==a[_0x37ca("0x4")]-1)}),0)}},{key:_0x37ca("0x11e3"),value:function(x,a,c){var _=this;x>_.sourceData.floors[_0x37ca("0x4")]||(_[_0x37ca("0x100c")][x]=_[_0x37ca("0x169")][_0x37ca("0x445")][x-1],_[_0x37ca("0x39")][_0x37ca("0x999")][_0x37ca("0xd35")](_,x,(function(e){_.toLoaded[x].model3D=e[_0x37ca("0x11e4")],_[_0x37ca("0x11c3")].push(x),_[_0x37ca("0x11e5")](x,e),_[_0x37ca("0x36")][_0x37ca("0xc50")]==_0x37ca("0x173")?c&&(_[_0x37ca("0x36")][_0x37ca("0xc50")]=x,_[_0x37ca("0x91b")]=x):x==_[_0x37ca("0x36")][_0x37ca("0xc50")]&&(_[_0x37ca("0x91b")]={notMove:!0,init:!0,floornum:_.options.focusFloor,time:.3}),_[_0x37ca("0x11e6")](x,(function(a){a[_0x37ca("0xa4")][_0x37ca("0xc8")]==esmap[_0x37ca("0xe8")][_0x37ca("0x622")]&&(a[_0x37ca("0xa9")]=_.createMaterial_(a[_0x37ca("0xe97")][_0x37ca("0x11e7")]),a[_0x37ca("0x11a")]={sid:_.sceneId_,fnum:x},!_[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&_[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x11e8")](_.id,a))}),function(){a&&a(x)}[_0x37ca("0x10")](_),(function(){}),c)})))}},{key:_0x37ca("0x191"),value:function(x,a,c){if(!(x.rank<15)){x.direction;var _=x[_0x37ca("0x4f0")].substring(2,x.bstair[_0x37ca("0x4")]-2).split(/,/),e=this,t={x:0,y:0},i=[],n=e.map[_0x37ca("0x199")][_0x37ca("0x2b")](","),r=1*n[0],o=1*n[1],l=1*n[2];if(0!=_[_0x37ca("0x4")]){for(var u=0;u<_[_0x37ca("0x4")];u++){var d=_[u][_0x37ca("0x2b")](" "),f=new(THREE[_0x37ca("0xe2")])(-(1*d[0]+t.x+r),l-.3,1*d[1]+t.y+o);f.fnum=1,f[_0x37ca("0xef")]=0,f.offset=0,i.push(f),0==u&&(t.x=1*d[0],t.y=1*d[1])}var h=e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1a9")][_0x37ca("0x115")],g=new(s[_0x37ca("0xe")])(i,{color:e[_0x37ca("0x39")].options[_0x37ca("0x1a9")][_0x37ca("0x13c")],isMapRoad:!0,roadType:x[_0x37ca("0x1ab")],lineWidthMeter:!0,lineWidth:h,lineType:e.map.options[_0x37ca("0x1a9")].lineType,offsetHeight:Math[_0x37ca("0x2f")]()+2,url:e.map.options.roadStyle[_0x37ca("0x4a")]},!1);g[_0x37ca("0x11e9")]=2e-5*e[_0x37ca("0x39")][_0x37ca("0x36")].roadStyle[_0x37ca("0x2f3")],g.name=c,e[_0x37ca("0xa5")][_0x37ca("0xe0")](g)}}}},{key:_0x37ca("0x11ea"),value:function(){var x=this,a=x[_0x37ca("0x39")][_0x37ca("0x163")].navData[x.id];if(a){var c=a.navs[0].Lines,_=0;for(var e in c)_++,x[_0x37ca("0x191")](c[e],_,x.id)}}},{key:_0x37ca("0x11e6"),value:function(x,a,c,_,e){var t=this.getO3dFloor(x);if(t){this[_0x37ca("0xe95")][_0x37ca("0xda")](x)<0&&(t[_0x37ca("0xed")]=!1);var i=this[_0x37ca("0x100c")][x].floorTempData,n=this;n[_0x37ca("0x11e2")](i,t,x,!1)[_0x37ca("0x792")]((function(){c(),_&&_(),n[_0x37ca("0x14b")][_0x37ca("0x166")](i,x,n),n[_0x37ca("0x14b")].handlePolygons(i,x,n)}))[_0x37ca("0x792")](n[_0x37ca("0x11eb")][_0x37ca("0x10")](n,i,t,x)).then(n[_0x37ca("0x11ec")][_0x37ca("0x10")](n,i,t,x))[_0x37ca("0x792")](n[_0x37ca("0x11ed")][_0x37ca("0x10")](n,i,t,x))}}},{key:"asyncBuidExtents",value:function(x,a,c,_){var e=this,t=new(THREE[_0x37ca("0x586")]),i=x[_0x37ca("0xea4")],n=e[_0x37ca("0x100c")][c],r=(n[_0x37ca("0xd5a")],e[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0xa24")][e[_0x37ca("0x6d")]]),s=r[_0x37ca("0xdfc")][c]?r[_0x37ca("0xdfc")][c].height:r[_0x37ca("0xdfc")][0]?r[_0x37ca("0xdfc")][0][_0x37ca("0x1a8")]:1;return e[_0x37ca("0x11c4")][c]=s,n[_0x37ca("0x11cc")]=i[0][_0x37ca("0x11ee")],setTimeout((function(){e[_0x37ca("0x39")][_0x37ca("0x36")].tileMode&&e.buildingType==esmap[_0x37ca("0xac1")][_0x37ca("0xcd3")]&&!_?e[_0x37ca("0xc04")][c][_0x37ca("0x58e")]--:e[_0x37ca("0x14b")][_0x37ca("0xea3")](x,c,s,e),t.resolve(),e.map[_0x37ca("0xade")]()}),e.asyncWaitTime),t}},{key:_0x37ca("0x11eb"),value:function(x,a,c){var _=this,e=this[_0x37ca("0x39")].mapScene,t=new(THREE[_0x37ca("0x586")]),i=_.options[_0x37ca("0x17c")];if(_[_0x37ca("0x36")][_0x37ca("0x202")])return e[_0x37ca("0x11f0")]=null,setTimeout((function(){for(var n in x[_0x37ca("0x11f1")]){var r=x[_0x37ca("0x11f1")][n],s=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x170")]);a[_0x37ca("0xe0")](s[_0x37ca("0xa5")]),s.o3d_.boxCollision_=new(esmap[_0x37ca("0x16f")]);var o=r[_0x37ca("0x11f2")];for(var l in o){var u=o[l],d=new esmap.ESMapPoi(c,u,e[_0x37ca("0x189")],_[_0x37ca("0x6d")],_.id,2);new(esmap[_0x37ca("0x18a")])(u,d,e,_.id),s[_0x37ca("0xa5")][_0x37ca("0xe0")](d),d[_0x37ca("0xa4")].data_.scaleOffset=i;var f=u[_0x37ca("0x316")]||3,h=_[_0x37ca("0x39")][_0x37ca("0x17e")]({from:_[_0x37ca("0x39")].DEFAULT_COORDSYSTEM,to:_[_0x37ca("0x39")][_0x37ca("0x180")],coord:{x:u.X,y:u.Y}}),g=_[_0x37ca("0x39")][_0x37ca("0x181")](h);d[_0x37ca("0xb8")][_0x37ca("0x11d")](g.x,f,g.z),d[_0x37ca("0x1b3")]=f,d[_0x37ca("0x18b")]="POI",d[_0x37ca("0xe5")][_0x37ca("0x11d")](u.center.x,u[_0x37ca("0xe5")].y),d[_0x37ca("0x11a")][_0x37ca("0xe69")]=d[_0x37ca("0xb8")],d[_0x37ca("0x184")][_0x37ca("0x185")](e.map.currentCamera[_0x37ca("0x6e4")],d[_0x37ca("0x187")]),!e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&e.map[_0x37ca("0x182")].addObject(d,_.id)}}e[_0x37ca("0x39")].fire(_0x37ca("0x11f3"),{bid:_.id,fnum:c,type:_0x37ca("0x58f")}),_[_0x37ca("0xc04")][c][_0x37ca("0x11ef")]--,_[_0x37ca("0x15f")](c),t[_0x37ca("0x77c")]()}),e[_0x37ca("0x11ce")]),t;_[_0x37ca("0xc04")][c][_0x37ca("0x11ef")]=0}},{key:_0x37ca("0x11ec"),value:function(x,a,c){var _=this,e=new(THREE[_0x37ca("0x586")]),i=(_.map.mapScene,_.options[_0x37ca("0x17c")]);if(_.options[_0x37ca("0x203")])return setTimeout((function(){for(var n in x[_0x37ca("0x11f4")]){var r=x[_0x37ca("0x11f4")][n],s=new(esmap[_0x37ca("0x16b")])(esmap.ESLayerType[_0x37ca("0x16d")]);a[_0x37ca("0xe0")](s[_0x37ca("0xa5")]),s.o3d_[_0x37ca("0x16e")]=new(esmap[_0x37ca("0x16f")]);var o=r[_0x37ca("0x11f5")];for(var l in o){var u=o[l];if(""!=u[_0x37ca("0x1aa")]){var d=_[_0x37ca("0x39")].transformCoord({from:_[_0x37ca("0x39")][_0x37ca("0x17f")],to:_[_0x37ca("0x39")].coordSystem,coord:{x:u.X,y:u.Y}}),f=_.map[_0x37ca("0x181")](d),h=u[_0x37ca("0x316")]||2.5,g=(0,t.default)({},_[_0x37ca("0x39")][_0x37ca("0xf5")].labelStyle_,u),b=new(esmap[_0x37ca("0x289")])(c,u,g);new(esmap[_0x37ca("0x17a")])(u,b,_),b[_0x37ca("0xed")]=!1,s[_0x37ca("0xa5")][_0x37ca("0xe0")](b),b.datas_.data_[_0x37ca("0x17c")]=i,b[_0x37ca("0xe5")][_0x37ca("0x11d")](u[_0x37ca("0xe5")].x,u[_0x37ca("0xe5")].y),b.position[_0x37ca("0x11d")](f.x,h,f.z),b[_0x37ca("0x184")][_0x37ca("0x185")](_[_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e4")],b.matrixWorld),!_.map[_0x37ca("0x36")][_0x37ca("0xc03")]&&_[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](b,_.id)}}}_[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x11f3"),{bid:_.id,fnum:c,type:"label"}),_[_0x37ca("0xc04")][c][_0x37ca("0x590")]--,_.checkLoadedAll(c),e.resolve()}),_[_0x37ca("0x11ce")]),e;_[_0x37ca("0xc04")][c][_0x37ca("0x590")]=0}},{key:_0x37ca("0x15f"),value:function(x){if(0==this.id)return!0;var a=this[_0x37ca("0xc04")];for(var c in a[x])if(c!=_0x37ca("0x293")&&a[x][c])return!1;for(var _ in this[_0x37ca("0x36")][_0x37ca("0x11f6")]&&this.options[_0x37ca("0x11f6")](x),this.map[_0x37ca("0x1da")]("floorLoaded",{fnum:x,bid:this.id}),this[_0x37ca("0x36")][_0x37ca("0x91c")]&&this[_0x37ca("0x36")][_0x37ca("0xc50")]!=x&&esmap[_0x37ca("0x7b")][_0x37ca("0x5f0")]({bid:this.id,fnum:x,alpha:this[_0x37ca("0x36")].focusAlpha,time:0}),a)if(_!=x)for(var e in a[_])if(e!=_0x37ca("0x293")&&a[_][e])return!1;var t=!0;for(var _ in a){if(!t)break;for(var e in a[_])if(a[_][e]){t=!1;break}}return t&&!this.mapModelsLoadedAll&&(this.mapModelsLoadedAll=!0,this.emit(_0x37ca("0x9ad")),this[_0x37ca("0x39")][_0x37ca("0x1da")]("modelLoadedAll",{bid:this.id})),this[_0x37ca("0x39")].buildingList[_0x37ca("0xda")](this)<0&&(this[_0x37ca("0x39")].buildingList[_0x37ca("0x0")](this),this[_0x37ca("0x14b")][_0x37ca("0xc98")][_0x37ca("0x69d")](),this[_0x37ca("0x14b")].modelWorker.closeAll(),this[_0x37ca("0x985")][_0x37ca("0xed1")](),0!=this.id&&this.map.fire(_0x37ca("0x9b7"),this),this[_0x37ca("0x39")][_0x37ca("0x157")].bidList[this.id]&&(this[_0x37ca("0x39")].tileService.bidList[this.id].loaded=!0),this.map[_0x37ca("0x37")]!=esmap.MapMode.Building&&this.id!=this[_0x37ca("0x39")][_0x37ca("0x157")][_0x37ca("0x981")]||(this.map[_0x37ca("0x1da")](_0x37ca("0x11f7"),{}),esmap.ESMap[_0x37ca("0x980")]=!1,this[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xa5a"),{bid:this.id}),this[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x11f8")]=this[_0x37ca("0x39")][_0x37ca("0x11f9")]()),this[_0x37ca("0x39")][_0x37ca("0x37")]==esmap[_0x37ca("0x3c")].City&&this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x9c4")]&&(this[_0x37ca("0x39")].tileService[_0x37ca("0x11d8")]?this[_0x37ca("0x9c5")](!0):this.enter())),!0}},{key:_0x37ca("0x137"),get:function(){return h},set:function(x){h=x}},{key:"themeID",get:function(){return f.get("theme")},set:function(x){f.set(_0x37ca("0xcca"),x)}},{key:_0x37ca("0x224"),get:function(){for(var x=this[_0x37ca("0x39")].controls[_0x37ca("0xc")][_0x37ca("0xb8")],a=this.map[_0x37ca("0x254")](this[_0x37ca("0xe5")]),c=x[_0x37ca("0xdf")](a)/this._initDistance,_=0;_<this[_0x37ca("0xd3b")][_0x37ca("0x4")];_++)if(Math[_0x37ca("0x24e")](this[_0x37ca("0xd3b")][_]-c)>.001&&c<this[_0x37ca("0xd3b")][_])return _-1<0?0:_-1;return _-1<0?0:_-1}},{key:_0x37ca("0x11fa"),get:function(){return this[_0x37ca("0x169")][_0x37ca("0x443")].split(",")||null}},{key:"listFloors",get:function(){return this[_0x37ca("0x169")][_0x37ca("0x445")]}},{key:_0x37ca("0x91b"),set:function(x){if(!this[_0x37ca("0x39")][_0x37ca("0x10fc")]){var a=!1,c=null,e=null,t=this;if("object"==(typeof x===_0x37ca("0x8")?_0x37ca("0x8"):(0,_[_0x37ca("0xe")])(x))&&(e=x,a=x[_0x37ca("0xea")],c=x[_0x37ca("0x1c7")],x=null==x[_0x37ca("0x48f")]?x[_0x37ca("0xe6")]:x[_0x37ca("0x48f")]),this[_0x37ca("0xace")]!=x){if(t[_0x37ca("0x39")][_0x37ca("0x99f")]!=this&&(t.map[_0x37ca("0x99f")]=this,1!=t[_0x37ca("0x616")]&&t[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x11fc"),this)),t.options[_0x37ca("0xcf8")]&&2==t[_0x37ca("0x36")][_0x37ca("0x1007")]){var i=t[_0x37ca("0xcfb")];if(x<=t[_0x37ca("0x36")][_0x37ca("0xcf8")]){for(var n=t[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x9c3")],r=0;r<n[_0x37ca("0xa6")].length;r++){var s=n[_0x37ca("0xa6")][r];s[_0x37ca("0xa4")].id!=this.id&&s[_0x37ca("0xed")]&&(s[_0x37ca("0xed")]=!1,t[_0x37ca("0x39")].fire("visibleBuildingsChanged",t[_0x37ca("0x39")][_0x37ca("0x11fd")]))}t[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x9c3")][_0x37ca("0x11a")].blured=!0}else{if(t[_0x37ca("0x39")].mapScene[_0x37ca("0x9c3")][_0x37ca("0x11a")][_0x37ca("0x11fe")])for(var o=t[_0x37ca("0x39")][_0x37ca("0x14c")][_0x37ca("0x9c3")],l=0;l<o[_0x37ca("0xa6")].length;l++){var u=o[_0x37ca("0xa6")][l];u.visible||(u[_0x37ca("0xed")]=!0,t[_0x37ca("0x39")][_0x37ca("0x1da")]("visibleBuildingsChanged",t[_0x37ca("0x39")][_0x37ca("0x11fd")]))}THREE[_0x37ca("0x1bd")][_0x37ca("0x750")](t[_0x37ca("0xa5")].position,.5,{y:i},THREE[_0x37ca("0x1bd")][_0x37ca("0x11ff")],(function(){}),(function(x){}))}}(-1!=this.focusFnum_||(this[_0x37ca("0xace")]=x,this[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x957"),{floornum:x,bid:this.id}),this[_0x37ca("0x36")][_0x37ca("0x1200")]))&&(esmap[_0x37ca("0x34")][_0x37ca("0x980")]&&!e||(this.o3dFloors_[x]?(this.focusFloor_(x,e),a||(this[_0x37ca("0x242")](_0x37ca("0x957"),x),this[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x957"),{floornum:x,bid:this.id}))):this.on(_0x37ca("0x11fb"),(function c(_){_==x&&(t[_0x37ca("0x62")](_0x37ca("0x11fb"),c),t[_0x37ca("0x11db")](x,e),a&&(t[_0x37ca("0x242")]("focusFloorNumChanged",x),t[_0x37ca("0x39")].fire(_0x37ca("0x957"),{floornum:x,bid:t.id})))}))))}else c&&c()}},get:function(){return this[_0x37ca("0xace")]}},{key:_0x37ca("0x1201"),get:function(){return this.sourceData[_0x37ca("0x42e")]}},{key:_0x37ca("0xe95"),get:function(){return this.visibleFloorNums_},set:function(x){if(x[_0x37ca("0x4")]>0){for(var a in this[_0x37ca("0xd58")]=x,this.map.mapView[_0x37ca("0xb5")][_0x37ca("0xa6")][_0x37ca("0x1f")]((function(a){a[_0x37ca("0xa4")]instanceof esmap.ESLocationMarker&&x[_0x37ca("0xda")](a[_0x37ca("0xa4")].floornum)>-1&&(a.datas_[_0x37ca("0xed")]=!0)})),this.o3dFloors_){var c=this.o3dFloors_[a];c[_0x37ca("0xed")]=x[_0x37ca("0xda")](c[_0x37ca("0xe97")][_0x37ca("0x48f")])>=0}this.emit(_0x37ca("0x12c"),x),this[_0x37ca("0x39")].fire(_0x37ca("0x12c"),{bid:this.id,fnums:x})}}}]),x}();a[_0x37ca("0xe")]=g},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,"__esModule",{value:!0});var _=l(c(8)),e=l(c(12)),t=l(c(13)),i=l(c(0)),n=l(c(1)),r=l(c(98)),s=l(c(135)),o=l(c(356));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=0;function d(x){if(x){if(x[_0x37ca("0xa4")]&&x.datas_[_0x37ca("0xa5")]&&(x[_0x37ca("0xa4")][_0x37ca("0xa5")]=void 0,x[_0x37ca("0xa4")]=void 0),x.children)for(var a=0;a<x[_0x37ca("0xa6")][_0x37ca("0x4")];a++)d(x.children[a]);x[_0x37ca("0xa7")]&&(x[_0x37ca("0xa7")][_0x37ca("0xa8")](),x.geometry=void 0),x.material&&(x[_0x37ca("0xa9")]instanceof Array?x[_0x37ca("0xa9")][_0x37ca("0x1f")]((function(x){x&&(x.map&&(x.map.dispose(),x[_0x37ca("0x39")]=void 0),x[_0x37ca("0xa8")](),x=void 0)})):(x.material[_0x37ca("0xa8")](),x[_0x37ca("0xa9")]=void 0))}x=void 0}var f=function(){function x(a){(0,i[_0x37ca("0xe")])(this,x),this.scene=a[_0x37ca("0x39")][_0x37ca("0x14c")],this.loader=this[_0x37ca("0xb5")].modelLoader,this[_0x37ca("0x304")]={},this[_0x37ca("0xbe8")]=0,this[_0x37ca("0xc0f")]=1,this[_0x37ca("0xbe9")]=20,this[_0x37ca("0xbea")]=0,this[_0x37ca("0x9ac")]={},this[_0x37ca("0x9ab")]=[],this[_0x37ca("0xbec")]=[],this[_0x37ca("0x98d")]=[],this[_0x37ca("0x27f")]=!1,this[_0x37ca("0x280")]=!1,this[_0x37ca("0xbed")]={},this[_0x37ca("0x1202")]={},this[_0x37ca("0xbee")]={},this[_0x37ca("0xbef")]=null,this[_0x37ca("0x1203")]=50,this.maxShowModels=1e4,this[_0x37ca("0x629")]=new(s[_0x37ca("0xe")]),this[_0x37ca("0x1ea")]=!a.map[_0x37ca("0x36")][_0x37ca("0x23e")]&&(null==a.map.options[_0x37ca("0x1204")]?a[_0x37ca("0x39")].options[_0x37ca("0x1ea")]:a[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1204")]),this[_0x37ca("0x161")]={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this[_0x37ca("0xa76")]=new(THREE[_0x37ca("0xbf1")]);var c=this;a[_0x37ca("0x39")].on("mapDispose",(function(){u=0,c[_0x37ca("0xbea")]=0,c[_0x37ca("0x161")][_0x37ca("0x626")]=0,c.modelStatic[_0x37ca("0x162")]=0})),this[_0x37ca("0xef")]=a.id,this[_0x37ca("0x5b")]=a,this[_0x37ca("0xa85")]=new o.default(a),this.failed={}}var a,c,l,f;return(0,n[_0x37ca("0xe")])(x,[{key:_0x37ca("0xbf4"),value:function(){this[_0x37ca("0xa76")][_0x37ca("0xbf5")]||(this[_0x37ca("0xa76")][_0x37ca("0xc09")]((new THREE.Matrix4)[_0x37ca("0x185")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e8")],this[_0x37ca("0xb5")][_0x37ca("0x39")].currentCamera[_0x37ca("0x6e4")])),this[_0x37ca("0xa76")][_0x37ca("0xbf5")]=!0)}},{key:_0x37ca("0x8da"),value:function(){this[_0x37ca("0xa76")][_0x37ca("0xc09")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x185")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")].projectionMatrix,this.scene[_0x37ca("0x39")][_0x37ca("0x186")].matrixWorldInverse))}},{key:_0x37ca("0x1205"),value:function(){this[_0x37ca("0xa85")][_0x37ca("0x1c6")]()}},{key:"addBimModel",value:function(x){this.modelStatic[_0x37ca("0x1206")]++,this[_0x37ca("0xa85")][_0x37ca("0x1207")](x)}},{key:_0x37ca("0xbf6"),value:function(x,a){var c=x[_0x37ca("0x219")],_=x.url,e=x.fnum;this[_0x37ca("0xc7a")][c]?e&&this[_0x37ca("0x5b")][_0x37ca("0xc04")][e][_0x37ca("0x293")]--:(a=a||!1,c[_0x37ca("0xda")](_0x37ca("0xbf7"))>-1&&this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc49")]==_0x37ca("0x536")||(this[_0x37ca("0xbe8")]++,c[_0x37ca("0xda")]("__nomerge")>-1&&(a=!0),this[_0x37ca("0x1ea")]&&!a?(this[_0x37ca("0x29c")][c]||this[_0x37ca("0x304")][c]||(this[_0x37ca("0x304")][c]=!0,this.preFetchModel3D(c,_)),this[_0x37ca("0x9ac")][e]||(this[_0x37ca("0x9ac")][e]={}),this[_0x37ca("0x9ac")][e][c]||(this[_0x37ca("0x9ac")][e][c]=[]),this[_0x37ca("0x9ac")][e][c][_0x37ca("0x0")](x)):x[_0x37ca("0x1ab")]>=24?(this[_0x37ca("0x29c")][c]||this[_0x37ca("0x304")][c]||(this[_0x37ca("0x304")][c]=!0,this[_0x37ca("0x305")](c,_)),this[_0x37ca("0xbec")][_0x37ca("0x0")](x),this.rankRequisites()):(this.frustum[_0x37ca("0x8e4")](x.position)&&(this[_0x37ca("0x29c")][c]||this.loadingList[c]||(this[_0x37ca("0x304")][c]=!0,this[_0x37ca("0x305")](c,_))),this.rankSingModel(x))))}},{key:_0x37ca("0xbf9"),value:function(){this[_0x37ca("0xbec")][_0x37ca("0x408")]((function(x,a){return a[_0x37ca("0x1ab")]-x[_0x37ca("0x1ab")]}))}},{key:"addUserModel",value:function(x){var a=x.model,c=x[_0x37ca("0x4a")];this[_0x37ca("0xc7a")][a]||(this[_0x37ca("0xbe8")]++,this[_0x37ca("0x29c")][a]||this[_0x37ca("0x304")][a]||(this[_0x37ca("0x304")][a]=!0,this[_0x37ca("0x305")](a,c)),x[_0x37ca("0xc1")]?(this.userMergeQueue[x.layerid]||(this[_0x37ca("0xbee")][x[_0x37ca("0xbfd")]]={}),this[_0x37ca("0xbee")][x.layerid][a]||(this[_0x37ca("0xbee")][x[_0x37ca("0xbfd")]][a]=[]),this[_0x37ca("0xbee")][x[_0x37ca("0xbfd")]][a][_0x37ca("0x0")](x)):this.rankSingModel(x))}},{key:_0x37ca("0x1c6"),value:(f=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")].mark((function x(a){return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return x[_0x37ca("0x29a")]=2,this[_0x37ca("0xbff")](a);case 2:if(!(this[_0x37ca("0xbec")][_0x37ca("0x4")]>0)){x[_0x37ca("0x29a")]=5;break}return x[_0x37ca("0x29a")]=5,this[_0x37ca("0xc00")]();case 5:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return f.apply(this,arguments)})},{key:"startLoadModelsByFLoor",value:function(x,a){var c=this,_=c[_0x37ca("0x9ac")][a];for(var e in _){var t=_[e],i=!1;if(c[_0x37ca("0x29c")][e]&&t[_0x37ca("0x4")]>0){t[0][_0x37ca("0xc02")]&&(i=!0),!i&&e[_0x37ca("0xda")](_0x37ca("0xbf7"))<0&&(c.mapModelsCount+=t.length);for(var n=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](c[_0x37ca("0x29c")][e][_0x37ca("0x301")][_0x37ca("0xb5")]),r=t[0].parent,s=t[0][_0x37ca("0x4a")],o=n[_0x37ca("0x30d")].y-n[_0x37ca("0x30e")].y,l=0;l<t[_0x37ca("0x4")];l++){var d=t[l],f=o*d[_0x37ca("0x22e")].y,h=f+d[_0x37ca("0xb8")].y-f/2;d.Height=1*h[_0x37ca("0x60a")](2),d[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0x217")],d.ID=d.id;var g=c.scene[_0x37ca("0x39")].coordThreeToMap(d.position);d[_0x37ca("0x3ba")]=g}if(0!=c.modelStore[e][_0x37ca("0x301")][_0x37ca("0x2a2")][_0x37ca("0x4")]){for(var b=0;b<t[_0x37ca("0x4")];b++)c[_0x37ca("0xbf6")](t[b],!0);c[_0x37ca("0x9ac")][a][e]=[];continue}var v=c.GLTFMergeTool[_0x37ca("0xc1")](c[_0x37ca("0x29c")][e].gltfObj,t);if(!v){for(var p=0;p<t[_0x37ca("0x4")];p++)t[p][_0x37ca("0xc1")]=!1,u-=1,c[_0x37ca("0xbf6")](t[p]);return void(c[_0x37ca("0x9ac")][a][e]=[])}v[_0x37ca("0x1aa")]=_0x37ca("0xba"),v[_0x37ca("0x11a")][_0x37ca("0x9ee")]=!0,v[_0x37ca("0xa4")]={isWall:i,model:e,bid:c[_0x37ca("0x5b")].id,bType:2,FloorNum:a,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x217")],brothers:t,animations:[],o3d_:v,url:s},v.renderOrder=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],t[0][_0x37ca("0xa8a")]&&(2==x[_0x37ca("0x616")]?!c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x182")].addObject(v,x.id):c[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](v,x.id)),r.add(v);for(var A=0;A<t[_0x37ca("0x4")];A++)t[A][_0x37ca("0xa5")]=v;var m=(new THREE.Box3)[_0x37ca("0x3d4")](v),C={};[m.max.x-m[_0x37ca("0x30e")].x,m[_0x37ca("0x30d")].z-m[_0x37ca("0x30e")].z,m[_0x37ca("0x30d")].y-m[_0x37ca("0x30e")].y][_0x37ca("0x408")](),C[_0x37ca("0x30c")]=m,v[_0x37ca("0x11a")].modelinfo=C,c[_0x37ca("0xb5")][_0x37ca("0x39")].mapService[_0x37ca("0x164")]-=t[_0x37ca("0x4")],c[_0x37ca("0xb5")].map[_0x37ca("0x1da")](_0x37ca("0xc05"),v[_0x37ca("0xa4")]),x.toLoaded[a][_0x37ca("0x293")]-=t.length,x[_0x37ca("0x15f")](a),2==x[_0x37ca("0x616")]&&x[_0x37ca("0x36")][_0x37ca("0x91c")]&&x[_0x37ca("0x36")][_0x37ca("0xc06")]<1&&x.focusFloorNum!=a&&esmap.ESMapUtil[_0x37ca("0x5f0")]({bid:x.id,fnum:a,alpha:x[_0x37ca("0x36")][_0x37ca("0xc06")],time:0}),c[_0x37ca("0x9ac")][a][e]=[]}}}},{key:_0x37ca("0xc00"),value:function(){var x=this,a=this;return new _.default((function(c){for(var _=0,e=0;e<a[_0x37ca("0xbec")].length;e++){var t=a.requisitesQueue[e];if(_>=x.concurrencyLimit)break;a.modelStore[t.model]?(a[_0x37ca("0xbec")][_0x37ca("0x5")](e,1),e--,a[_0x37ca("0xc13")](t),_++):a[_0x37ca("0x304")][t[_0x37ca("0x219")]]||(a[_0x37ca("0x304")][t.model]=!0,a[_0x37ca("0x305")](t.model,t[_0x37ca("0x4a")]))}c()}))}},{key:"invisibleMergeModels",value:function(){var x=this;if(x[_0x37ca("0x1ea")]&&x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x27e")]&&!this[_0x37ca("0x280")]&&x[_0x37ca("0xb5")].map[_0x37ca("0x36")].dynamicLoadModels){for(var a=x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x224")],c=x[_0x37ca("0x5b")][_0x37ca("0x62d")],_=0;_<c[_0x37ca("0x4")];_++){var e=x[_0x37ca("0x5b")].getFloor(c[_]);if(!e)return;var t=e[_0x37ca("0x194")](_0x37ca("0x1208"))[0];if(!t)return;var i=t[_0x37ca("0xa5")][_0x37ca("0xa6")];this[_0x37ca("0xb5")].map[_0x37ca("0x973")]?this[_0x37ca("0xb5")].map.firstPersonControls[_0x37ca("0x276")].distanceTo(this[_0x37ca("0xb5")].map.currentCamera[_0x37ca("0xb8")]):this[_0x37ca("0xb5")].map.controls[_0x37ca("0x276")][_0x37ca("0xdf")](this.scene.map[_0x37ca("0x186")][_0x37ca("0xb8")]);for(var n=0;n<i.length;n++){for(var r=i[n],s=r[_0x37ca("0xa4")].brothers,o=[],l=[],u=0;u<s.length;u++){var d=s[u],f=d[_0x37ca("0xb8")][_0x37ca("0xde")]();f.project(this.scene[_0x37ca("0x39")][_0x37ca("0x186")]);var h=!1;(Math[_0x37ca("0x24e")](f.x)>=1.5||Math[_0x37ca("0x24e")](f.y)>=1.5)&&(h=!0);var g=x[_0x37ca("0x629")][_0x37ca("0x406")](r,d.id);d.showLevel<a||h?g&&o[_0x37ca("0x0")](d.id):!g&&l[_0x37ca("0x0")](d.id)}x.GLTFMergeTool[_0x37ca("0x405")](r,o,!1),x[_0x37ca("0x629")].setModelVisible(r,l,!0)}}this[_0x37ca("0x280")]=!0}}},{key:_0x37ca("0xe99"),value:function(){var x=this;if(!x[_0x37ca("0x1ea")]&&x.scene.map[_0x37ca("0x27e")]&&!this[_0x37ca("0x280")]){var a=x[_0x37ca("0x5b")],c=new THREE.Frustum;c[_0x37ca("0xc09")]((new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x185")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")].projectionMatrix,this.scene[_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0x6e4")]));for(var _=a[_0x37ca("0x62d")],e=0;e<_[_0x37ca("0x4")];e++){var t=a[_0x37ca("0x617")](_[e]);if(!t)return;var i=t.getLayersByNames(_0x37ca("0xc0a"))[0];if(!i)return;var n=i.o3d_[_0x37ca("0xa6")];this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x973")]?this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")][_0x37ca("0x276")].distanceTo(this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]):this.scene[_0x37ca("0x39")][_0x37ca("0x275")].target[_0x37ca("0xdf")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]);for(var r=0;r<n[_0x37ca("0x4")];r++){var s=n[r],o=(s[_0x37ca("0xb8")],s[_0x37ca("0x11a")][_0x37ca("0x30b")].sizeInfo,s[_0x37ca("0x11a")][_0x37ca("0x30b")].box3);c[_0x37ca("0x8e5")](o)||(x.toAddQueue[_0x37ca("0x0")](s[_0x37ca("0x11a")][_0x37ca("0x30b")]),s[_0x37ca("0xa4")][_0x37ca("0xa8")](),r--)}}this[_0x37ca("0x280")]=!0}}},{key:"applyMergeToMap",value:function(x,a,c,e){var t=this;return new(_[_0x37ca("0xe")])((function(_){if(t[_0x37ca("0x29c")][c]&&a[_0x37ca("0x4")]>0){t[_0x37ca("0xbea")]+=a[_0x37ca("0x4")];var i=a[0][_0x37ca("0xbb")],n=a[0][_0x37ca("0x4a")],r=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](t[_0x37ca("0x29c")][c][_0x37ca("0x301")][_0x37ca("0xb5")]),s=(r[_0x37ca("0x30d")].y-r.min.y)/2,o=0,l=0;if(0!=t[_0x37ca("0x29c")][c][_0x37ca("0x301")][_0x37ca("0x2a2")][_0x37ca("0x4")]){for(var f=0;f<a[_0x37ca("0x4")];f++)a[f][_0x37ca("0xc1")]=!1,u-=1,t.addUserModel(a[f]);return void(t[_0x37ca("0xbee")][e][c]=[])}for(var h=!1,g=!1,b=0;b<a[_0x37ca("0x4")];b++){a[b][_0x37ca("0xb8")].y+=s*a[b][_0x37ca("0x22e")].y,0==b&&a[b][_0x37ca("0xc02")]&&(h=!0),2==x[_0x37ca("0x616")]&&(0==x.id?(o=0,l=0):(o=x[_0x37ca("0x169")][_0x37ca("0x43c")]-t[_0x37ca("0xb5")].sceneX_,l=x[_0x37ca("0x169")][_0x37ca("0x43d")]-t.scene[_0x37ca("0x19b")]));var v=a[b][_0x37ca("0xb8")];a[b][_0x37ca("0xb8")].x=v.x-o,a[b][_0x37ca("0xb8")].z=v.z-l,a[b][_0x37ca("0x123")]&&!g&&(g=!0)}var p=t.GLTFMergeTool[_0x37ca("0xc1")](t[_0x37ca("0x29c")][c][_0x37ca("0x301")],a);if(!p){for(var A=0;A<a[_0x37ca("0x4")];A++)a[A].merge=!1,u-=1,t.addUserModel(a[A]);return void(t.userMergeQueue[e][c]=[])}p[_0x37ca("0x1aa")]="_root_";var m=a[0][_0x37ca("0xe6")];p[_0x37ca("0x11a")][_0x37ca("0x9ee")]=!0;p[_0x37ca("0xa4")]={isWall:h,model:c,bid:x.id,FloorNum:m,nodeType:esmap[_0x37ca("0xe8")].MODEL3D,brothers:a,animations:[],url:n,bType:2,o3d_:p,dispose:function(x){(x=x||this)[_0x37ca("0xed")]=!1;var a=x[_0x37ca("0xbb")];return a?(a.remove(x),d(x),!0):void 0}.bind(p)},p[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],g&&p.traverse((function(x){x[_0x37ca("0xa9")]&&(x[_0x37ca("0xa9")]instanceof Array?x[_0x37ca("0xa9")].map((function(x){x[_0x37ca("0x28f")]=!1})):x.material[_0x37ca("0x28f")]=!1)}));var C=a[0][_0x37ca("0xa8a")];for(var I in C&&(2==x[_0x37ca("0x616")]?!t.scene[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&t.scene.map[_0x37ca("0x182")][_0x37ca("0x183")](p,x.id):t.scene[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](p,x.id)),i[_0x37ca("0xe0")](p),a)a[I][_0x37ca("0xa5")]=p;t[_0x37ca("0xb5")][_0x37ca("0x39")].mapService[_0x37ca("0x164")]-=a[_0x37ca("0x4")],t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc05"),p[_0x37ca("0xa4")]),x[_0x37ca("0xc04")][m].model3D-=a[_0x37ca("0x4")],x[_0x37ca("0x15f")](m),x[_0x37ca("0x36")].focusAlphaMode&&x[_0x37ca("0x36")][_0x37ca("0xc06")]<1&&x[_0x37ca("0x91b")]!=m&&esmap.ESMapUtil[_0x37ca("0x5f0")]({bid:x.id,alpha:x[_0x37ca("0x36")].focusAlpha,fnum:m,time:0}),t[_0x37ca("0xbee")][e][c]=[]}_()}))}},{key:_0x37ca("0xc0d"),value:(l=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a,c){var _,t,i,n,r;return e[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x.next){case 0:for(i in t=(_=this)[_0x37ca("0xbee")][c])t[i].length;x.t0=e.default[_0x37ca("0x5e1")](t);case 5:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x[_0x37ca("0x29a")]=12;break}return n=x.t1[_0x37ca("0xf2")],r=t[n],x[_0x37ca("0x29a")]=10,_[_0x37ca("0xc0c")](a,r,n,c);case 10:x[_0x37ca("0x29a")]=5;break;case 12:case"end":return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x,a){return l[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0xbfb"),value:function(){var x=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xc8d")]||0;return u>x||0==x}},{key:_0x37ca("0xc0e"),value:function(){var x=this,a=this[_0x37ca("0x5b")];if(this[_0x37ca("0x1ea")]&&x[_0x37ca("0xbea")]<x[_0x37ca("0x161")][_0x37ca("0x162")])for(var c in this[_0x37ca("0xbed")])this[_0x37ca("0xbed")][c]&&this[_0x37ca("0xc07")](a,c);for(var _ in this[_0x37ca("0xbee")])this[_0x37ca("0x1202")][_]&&this[_0x37ca("0xc0d")](a,_);if(this[_0x37ca("0xc0f")]&&x.requisitesQueue[_0x37ca("0x4")]>0&&x[_0x37ca("0x1c6")](),this[_0x37ca("0xc0f")]&&x[_0x37ca("0xb5")][_0x37ca("0x39")].enableCollide&&(x[_0x37ca("0x9ab")].length>0||x[_0x37ca("0x98d")][_0x37ca("0x4")]>0)){if(!this[_0x37ca("0x27f")]){var e=x[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x973")];if(this.lasViewCenter||(e?this.lasViewCenter=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")][_0x37ca("0x276")][_0x37ca("0xde")]():this[_0x37ca("0xbef")]=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")][_0x37ca("0xde")]()),x[_0x37ca("0x9ab")]=x[_0x37ca("0x9ab")].concat(x[_0x37ca("0x98d")]),x[_0x37ca("0x98d")]=[],x.scene[_0x37ca("0x39")][_0x37ca("0x36")].dynamicLoadModels){var t=new(THREE[_0x37ca("0xbf1")]);e?this.scene.map[_0x37ca("0x609")][_0x37ca("0x276")][_0x37ca("0xdf")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]):this.scene[_0x37ca("0x39")][_0x37ca("0x275")].target[_0x37ca("0xdf")](this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x186")][_0x37ca("0xb8")]);var i=e?this[_0x37ca("0xb5")][_0x37ca("0x39")].firstPersonControls[_0x37ca("0x276")]:this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")];t[_0x37ca("0xc09")]((new(THREE[_0x37ca("0x25a")])).multiplyMatrices(this[_0x37ca("0xb5")].map[_0x37ca("0x186")][_0x37ca("0x6e8")],this[_0x37ca("0xb5")].map[_0x37ca("0x186")].matrixWorldInverse));for(var n=0;n<x.queue[_0x37ca("0x4")];n++){if(x[_0x37ca("0x9ab")][n].modelrank=1/x[_0x37ca("0x9ab")][n][_0x37ca("0xb8")][_0x37ca("0xdf")](i),x[_0x37ca("0x9ab")][n][_0x37ca("0x30c")]){if(!t[_0x37ca("0x8e5")](x[_0x37ca("0x9ab")][n].box3)){x[_0x37ca("0x98d")][_0x37ca("0x0")](x[_0x37ca("0x9ab")][n]),x[_0x37ca("0x9ab")].splice(n,1),n--;continue}x[_0x37ca("0x9ab")][n].modelrank=1/x[_0x37ca("0x9ab")][n][_0x37ca("0xb8")].distanceTo(i)}else if(!t[_0x37ca("0x8e4")](x.queue[n].position)){x[_0x37ca("0x98d")][_0x37ca("0x0")](x[_0x37ca("0x9ab")][n]),x[_0x37ca("0x9ab")][_0x37ca("0x5")](n,1),n--;continue}}for(var r=a.getFloor(1).getLayersByNames(_0x37ca("0xc0a"))[0].o3d_.children,s=[],o=0;o<r[_0x37ca("0x4")];o++){var l=r[o],u=(l[_0x37ca("0x11a")][_0x37ca("0x30b")][_0x37ca("0xc0b")],x[_0x37ca("0xb5")].map[_0x37ca("0x949")],{modelrank:1/l.position[_0x37ca("0xdf")](i),model:l,ind:o});s[_0x37ca("0x0")](u)}var d=[];(d=[][_0x37ca("0x15")](s,x[_0x37ca("0x9ab")]))[_0x37ca("0x408")]((function(x,a){return a[_0x37ca("0xc10")]-x[_0x37ca("0xc10")]}));var f=[];if(d[_0x37ca("0x4")]>x[_0x37ca("0xbf0")]){f=d[_0x37ca("0x5")](x[_0x37ca("0xbf0")]);for(var h=0;h<f[_0x37ca("0x4")];h++)f[h][_0x37ca("0x1")](_0x37ca("0xc11"))?(x.toAddQueue[_0x37ca("0x0")](f[h][_0x37ca("0x219")][_0x37ca("0x11a")][_0x37ca("0x30b")]),f[h].model.datas_.dispose(),f[h][_0x37ca("0x219")]=null):x[_0x37ca("0x98d")][_0x37ca("0x0")](f[h]),f[_0x37ca("0x5")](h,1),h--}for(var g=0;g<d.length;g++)d[g].hasOwnProperty(_0x37ca("0xc11"))&&(d[_0x37ca("0x5")](g,1),g--);x[_0x37ca("0x9ab")]=d}this[_0x37ca("0xc12")](),this[_0x37ca("0x27f")]=!0,e?this.lasViewCenter=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x609")][_0x37ca("0x276")][_0x37ca("0xde")]():this[_0x37ca("0xbef")]=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")].clone()}x[_0x37ca("0x1c6")](a)}}},{key:_0x37ca("0xbfe"),value:function(x){for(var a=this.scene[_0x37ca("0x39")].firstPersonMode?this[_0x37ca("0xb5")][_0x37ca("0x39")].firstPersonControls[_0x37ca("0x276")]:this.scene[_0x37ca("0x39")].controls[_0x37ca("0x276")],c=this[_0x37ca("0x9ab")].length,_=x[_0x37ca("0xb8")][_0x37ca("0xdf")](a),e=0;e<c;e++){if(this[_0x37ca("0x9ab")][e][_0x37ca("0xb8")][_0x37ca("0xdf")](a)>=_)return void this[_0x37ca("0x9ab")].splice(e,0,x)}this[_0x37ca("0x98d")][_0x37ca("0x0")](x),this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x27e")]=!0}},{key:_0x37ca("0xc12"),value:function(){var x=this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x973")]?this.scene.map[_0x37ca("0x609")][_0x37ca("0x276")]:this[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")];this[_0x37ca("0x9ab")][_0x37ca("0x4")];this[_0x37ca("0x9ab")][_0x37ca("0x408")]((function(a,c){return a[_0x37ca("0xb8")][_0x37ca("0xdf")](x)-c[_0x37ca("0xb8")][_0x37ca("0xdf")](x)})),this.queue}},{key:_0x37ca("0xbff"),value:function(){var x=this,a=this;return new(_[_0x37ca("0xe")])((function(c){for(var _=0,e=0;e<a[_0x37ca("0x9ab")][_0x37ca("0x4")];e++){var t=a[_0x37ca("0x9ab")][e];if(_>=x[_0x37ca("0xbe9")])break;a.modelStore[t[_0x37ca("0x219")]]?(a[_0x37ca("0x9ab")][_0x37ca("0x5")](e,1),e--,a[_0x37ca("0xc13")](t),_++):a[_0x37ca("0x304")][t[_0x37ca("0x219")]]||(a.loadingList[t[_0x37ca("0x219")]]=!0,a.preFetchModel3D(t[_0x37ca("0x219")],t[_0x37ca("0x4a")]))}c()}))}},{key:_0x37ca("0xc13"),value:function(x){var a,c=this,_=this.building,e=x.model,t=c.modelStore[e].gltfObj.scene,i=c[_0x37ca("0x29c")][e][_0x37ca("0x1209")],n=(i[_0x37ca("0x4")],!1);t[_0x37ca("0xa6")][_0x37ca("0x1f")]((function(x){(x instanceof THREE[_0x37ca("0x86b")]||x instanceof THREE[_0x37ca("0xc14")])&&(n=!0)})),(a=n?THREE[_0x37ca("0xc15")][_0x37ca("0xde")](t):t[_0x37ca("0xde")](!0))[_0x37ca("0xb6")]((function(x){x[_0x37ca("0xa9")]&&(x[_0x37ca("0xa9")]=x.material[_0x37ca("0xde")]())})),c[_0x37ca("0x3")](a,x,i,_)}},{key:_0x37ca("0x3"),value:function(x,a,c){var e=this,t=this,i=this.building;return new(_[_0x37ca("0xe")])((function(_){c=c||[];var n=t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x182")],s=a[_0x37ca("0xe6")],o=null,l=null;x[_0x37ca("0xb6")]((function(x){x&&x[_0x37ca("0x1aa")]&&x[_0x37ca("0x1aa")][_0x37ca("0xda")](_0x37ca("0xa7f"))>-1&&(o=x,l=x[_0x37ca("0xbb")])})),o&&l[_0x37ca("0x147")](o);var d=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](x);d[_0x37ca("0x303")](x[_0x37ca("0xb8")]),x[_0x37ca("0xb8")][_0x37ca("0x26b")](-1),o&&l[_0x37ca("0xe0")](o);var f,h,g=d.max.y-d[_0x37ca("0x30e")].y;d[_0x37ca("0x30d")].x,d.min.x;f=g<1?15:20,f*=a[_0x37ca("0x22e")].y;var b=a[_0x37ca("0x226")]||!1;if(a[_0x37ca("0xc19")]){u++;var v=a.url[_0x37ca("0x29b")]("/"),p=a[_0x37ca("0x4a")];v>-1&&(p=a[_0x37ca("0x4a")].slice(v+1)),h=a.marker,a[_0x37ca("0xc19")].addTo=a[_0x37ca("0xbb")],a.marker[_0x37ca("0x238")]=a[_0x37ca("0x238")],a[_0x37ca("0xc19")][_0x37ca("0x225")]=x,a[_0x37ca("0xc19")][_0x37ca("0x219")]=p,a.marker.animations=c,a.marker.isChildNode=b,a[_0x37ca("0xc19")][_0x37ca("0xea")](),a[_0x37ca("0xc19")].on(_0x37ca("0x23f"),(function(){u--})),a[_0x37ca("0xc02")]&&(a[_0x37ca("0xc19")][_0x37ca("0xc1a")]=!0)}else{var A=a[_0x37ca("0xb8")];a[_0x37ca("0xb8")].x=A.x-0,a[_0x37ca("0xb8")].y=A.y,a.position.z=A.z-0;var m=a.rank;t.scene.map[_0x37ca("0x37")]==esmap.MapMode[_0x37ca("0x3d")]&&(m=t.scene.map[_0x37ca("0x999")].convertShowLevel(a.rank,t[_0x37ca("0x5b")])),h=new(r[_0x37ca("0xe")])({name:a.name,fnum:a[_0x37ca("0xe6")],ID:a.id,dataID:a[_0x37ca("0x62f")],url:a[_0x37ca("0x4a")],gid:a[_0x37ca("0xa8b")],mapId:a[_0x37ca("0x38")],bid:i.id,bType:i[_0x37ca("0x616")],model:a.model,callback:a[_0x37ca("0x1c7")],top:a.top,rotation:a[_0x37ca("0x1a3")],position:a[_0x37ca("0xb8")],scale:a[_0x37ca("0x22e")],scaleRate:f,showLevel:m,child:x,addTo:a[_0x37ca("0xbb")],isChildNode:b,animations:c}),a.iswall&&(h[_0x37ca("0xc1a")]=!0),h[_0x37ca("0xea")](),e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x164")]--,a[_0x37ca("0xc02")]||i.toLoaded&&i.toLoaded[s]&&i[_0x37ca("0xc04")][s][_0x37ca("0x293")]--,i[_0x37ca("0x15f")]()}c.indexOf("onload")>-1&&h[_0x37ca("0x27c")]({name:"onload",time:2});var C=h[_0x37ca("0xa5")],I=(new THREE.Box3).setFromObject(C),y=[I[_0x37ca("0x30d")].x-I[_0x37ca("0x30e")].x,I.max.z-I[_0x37ca("0x30e")].z,I.max.y-I.min.y];y[_0x37ca("0x408")](),a.sizeInfo=y[1]*y[2],a.box3=I,C[_0x37ca("0x11a")][_0x37ca("0x30b")]=a,2==i.buildingType?t.setAlpha(i,C):e.setAlpha2(C),a.id!=_0x37ca("0xc20")&&(a.bclick||t.scene[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")])&&(2==i[_0x37ca("0x616")]?a[_0x37ca("0xc19")]?n[_0x37ca("0x183")](C,i.id):t[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x36")].disableIndoorClick||n.addObject(C,i.id):n.addObject(C,i.id)),h.mapId&&(e.scene[_0x37ca("0x39")][_0x37ca("0x163")].targetAndBuildingList[h.mapId]=h),e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x163")].tileService[_0x37ca("0x9c8")](),e[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc05"),h),_()}))}},{key:_0x37ca("0x305"),value:function(x,a,c){var _=this,e=_[_0x37ca("0xb5")][_0x37ca("0x39")].mapTheme[_0x37ca("0xdf6")],t=esmap.ESRenderOrder[_0x37ca("0x293")];_.scene[_0x37ca("0x39")][_0x37ca("0x36")].editMode,this.failed[x]||this[_0x37ca("0xc22")][_0x37ca("0x140")](a,(function(a){_[_0x37ca("0xbe8")]--,_.modelStatic[_0x37ca("0x626")]++,_[_0x37ca("0x304")][x]=!1;var i=new THREE.AnimationMixer(a[_0x37ca("0xb5")]);i.watching=!1;var n=[];a[_0x37ca("0x2a2")].forEach((function(x){n[_0x37ca("0x0")](x.name[_0x37ca("0x2a6")]())})),a[_0x37ca("0xb5")].traverse((function(x){x[_0x37ca("0x127")]=t,x[_0x37ca("0xa9")]&&x[_0x37ca("0xa9")][_0x37ca("0xc24")]&&(x[_0x37ca("0xa9")].name[_0x37ca("0xda")]("$basic")>-1&&(x[_0x37ca("0xa9")]=new(THREE[_0x37ca("0xfc")])({color:x[_0x37ca("0xa9")][_0x37ca("0x13c")],map:x[_0x37ca("0xa9")][_0x37ca("0x39")],transparent:x[_0x37ca("0xa9")].transparent,opacity:x[_0x37ca("0xa9")].opacity})),x.material[_0x37ca("0x859")]||(x.material[_0x37ca("0x859")]=.9),x[_0x37ca("0xa9")][_0x37ca("0x39")]&&(x[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x1aa")].indexOf(_0x37ca("0x120a"))>-1&&(x[_0x37ca("0xa9")].transparent=!1),e||(x[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x864")]=THREE.LinearEncoding)),!a[_0x37ca("0xb5")][_0x37ca("0x11a")].needDepth&&x[_0x37ca("0xa9")].name[_0x37ca("0xda")](_0x37ca("0x30a"))>=0&&(a.scene[_0x37ca("0x11a")][_0x37ca("0xc26")]=!0))}));var r=null;a.parser&&a[_0x37ca("0xb1")].json&&a[_0x37ca("0xb1")][_0x37ca("0xb2")].ms&&(r=a[_0x37ca("0xb1")].json.ms),_[_0x37ca("0x29c")][x]={mixer:i,gltfObj:a,queue:[],animations:a[_0x37ca("0x2a2")],animNames:n,ms:r},c&&c(a),_[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0xc27"),{name:x,gltfObj:a}),_.queueRanked=!1}),(function(){}),(function(c){_.modelStatic[_0x37ca("0x626")]++,_[_0x37ca("0xc7a")][x]=!0;var e=_.building;for(var t in _.mergeQueue){var i=_[_0x37ca("0x9ac")][t];for(var n in i)if(_[_0x37ca("0xc7a")][n]){var r=i[n][_0x37ca("0x4")];r>0&&(i[n]=[],e[_0x37ca("0xc04")][t][_0x37ca("0x293")]-=r,e.checkLoadedAll(t))}}for(var s=0;s<_[_0x37ca("0xbec")][_0x37ca("0x4")];s++)if(_[_0x37ca("0xbec")][s].model==x){_[_0x37ca("0xbec")][s].onError&&_[_0x37ca("0xbec")][s][_0x37ca("0xf5e")](_[_0x37ca("0x9ab")][s]);var o=_.requisitesQueue[s][_0x37ca("0xe6")];if(!o)continue;_.requisitesQueue[s][_0x37ca("0x1aa")]!=_0x37ca("0x1162")&&0!=e.id&&e.toLoaded[_.requisitesQueue[s][_0x37ca("0xe6")]].model3D--,_[_0x37ca("0xbec")].splice(s,1),s--,e.checkLoadedAll(o)}for(var l=0;l<_.queue[_0x37ca("0x4")];l++)if(_[_0x37ca("0x9ab")][l][_0x37ca("0x219")]==x){_[_0x37ca("0x9ab")][l].onError&&_[_0x37ca("0x9ab")][l][_0x37ca("0xf5e")](_.queue[l]);var u=_.queue[l].fnum;if(!u)continue;"wallModelPrefetch"!=_[_0x37ca("0x9ab")][l][_0x37ca("0x1aa")]&&0!=e.id&&e.toLoaded[_[_0x37ca("0x9ab")][l][_0x37ca("0xe6")]][_0x37ca("0x293")]--,_[_0x37ca("0x9ab")][_0x37ca("0x5")](l,1),l--,e[_0x37ca("0x15f")](u)}for(var d=0;d<_.toAddQueue[_0x37ca("0x4")];d++)if(_[_0x37ca("0x98d")][d][_0x37ca("0x219")]==x){var f=_[_0x37ca("0x98d")][d].fnum;if(!f)continue;_[_0x37ca("0x98d")][d][_0x37ca("0x1aa")]!=_0x37ca("0x1162")&&0!=e.id&&e[_0x37ca("0xc04")][_[_0x37ca("0x98d")][d][_0x37ca("0xe6")]][_0x37ca("0x293")]--,_[_0x37ca("0x98d")][_0x37ca("0x5")](d,1),d--,e[_0x37ca("0x15f")](f)}_[_0x37ca("0xb5")][_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x1163"),{name:x}),c&&console[_0x37ca("0xca")](_0x37ca("0x120b")+a+_0x37ca("0x120c")+c.toString()),_[_0x37ca("0xbe8")]--}),this[_0x37ca("0xef")])}},{key:_0x37ca("0xc28"),value:function(x){var a=esmap[_0x37ca("0x22c")][_0x37ca("0x293")];obj[_0x37ca("0x127")]=a,x.needsUpdate=!0}},{key:_0x37ca("0xc1f"),value:(c=(0,t[_0x37ca("0xe")])(e[_0x37ca("0xe")][_0x37ca("0x297")]((function x(a){var c;return e[_0x37ca("0xe")].wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:c=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],a[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0xa9")]){if(x[_0x37ca("0xa9")]instanceof Array)for(var a=0;a<x[_0x37ca("0xa9")][_0x37ca("0x4")];a++)x[_0x37ca("0xa9")][a];x[_0x37ca("0x127")]=c}}));case 2:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x){return c.apply(this,arguments)})},{key:_0x37ca("0x284"),value:(a=(0,t.default)(e[_0x37ca("0xe")].mark((function x(a,c){var _,t,i;return e.default.wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:_=c[_0x37ca("0xa4")][_0x37ca("0x236")],t=a[_0x37ca("0x990")][_],i=esmap[_0x37ca("0x22c")][_0x37ca("0x293")],t&&t[_0x37ca("0xed")]&&(a[_0x37ca("0x36")].focusAlpha,c.traverse((function(x){if(x[_0x37ca("0xa9")]){if(x[_0x37ca("0xa9")]instanceof Array)for(var a=0;a<x[_0x37ca("0xa9")][_0x37ca("0x4")];a++)x[_0x37ca("0xa9")][a];x[_0x37ca("0x127")]=i}})));case 6:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(x,c){return a.apply(this,arguments)})},{key:"modelStore",get:function(){return this.scene[_0x37ca("0x39")][_0x37ca("0x163")].modelStore},set:function(x){this.scene.map[_0x37ca("0x163")][_0x37ca("0x29c")]=x}}]),x}();a.default=f},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=u(c(33)),e=u(c(86)),t=u(c(2)),i=u(c(12)),n=u(c(13)),r=u(c(8)),s=u(c(0)),o=u(c(1)),l=u(c(129));function u(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var d=function(){function x(a){var c=this;(0,s.default)(this,x),this[_0x37ca("0x120d")]={},this[_0x37ca("0xe5")]=null,this[_0x37ca("0x120e")]={},this[_0x37ca("0x120f")]={},this[_0x37ca("0x1210")]={},this[_0x37ca("0x1211")]={},this.building=a,this.expiresIn=2592e5,this.scene=a[_0x37ca("0x39")].mapScene,this[_0x37ca("0x39")]=a.map,this[_0x37ca("0x9e9")]={},this[_0x37ca("0x29c")]={},this.total=0,this[_0x37ca("0x1212")]=0,this[_0x37ca("0x1213")]=0,this[_0x37ca("0xeae")]=null,this.bimInfoLib={},this[_0x37ca("0x1214")]=[],this[_0x37ca("0x1215")]=null,this[_0x37ca("0x736")]=!1,this[_0x37ca("0x1216")]=this.map[_0x37ca("0x36")][_0x37ca("0x207")];var _=this,e=null;this[_0x37ca("0xc6a")]=null,this.db=null,this[_0x37ca("0x1217")]=!1,this[_0x37ca("0x39")].on(_0x37ca("0x1218"),(function(){c[_0x37ca("0x1217")]=!0})),this.map.on("controlchange",(function(){c[_0x37ca("0x1217")]&&(_[_0x37ca("0x736")]=!0,window[_0x37ca("0x2e8")](e))})),this[_0x37ca("0x39")].on(_0x37ca("0x955"),(function(){_[_0x37ca("0x736")]||_[_0x37ca("0x1219")]()})),this[_0x37ca("0x39")].on("controlend",(function(){c[_0x37ca("0x1217")]=!1,e=setTimeout((function(){_[_0x37ca("0x736")]=!1}),800)}))}var a;return(0,o.default)(x,[{key:_0x37ca("0xea"),value:function(x){for(var a=this.building,c=0;c<a.floorNums[_0x37ca("0x4")];c++){var _=a[_0x37ca("0x62d")][c],e=a[_0x37ca("0x617")](_).getLayersByNames(_0x37ca("0xc0a"));e[0]?this[_0x37ca("0x9e9")][_]=e[0][_0x37ca("0xa5")]:console[_0x37ca("0x23b")](_0x37ca("0x121a"))}this.bins=x.bins,this[_0x37ca("0x576")]=x.onesize,this[_0x37ca("0x1212")]=x[_0x37ca("0x1212")],this.total=x[_0x37ca("0x121b")]}},{key:_0x37ca("0x1219"),value:function(){if(this[_0x37ca("0x1214")][_0x37ca("0x4")]>0){var x=this.tanks[_0x37ca("0x2")]();this[_0x37ca("0x1216")]?this[_0x37ca("0x121c")](x):this[_0x37ca("0x121d")](x),this[_0x37ca("0x121e")]()}}},{key:_0x37ca("0xeaf"),value:function(x){x[_0x37ca("0xe54")]==_0x37ca("0xead")?this[_0x37ca("0x1214")][_0x37ca("0x0")](x):x[_0x37ca("0xe54")]==_0x37ca("0xeae")&&this[_0x37ca("0x121f")](x),this[_0x37ca("0x121e")]()}},{key:_0x37ca("0x1220"),value:function(x,a){var c=this.db[_0x37ca("0xc5a")]([x],_0x37ca("0xc5c")).objectStore(x)[_0x37ca("0xc6b")](a);c[_0x37ca("0xc60")]=function(x){},c.onerror=function(x){}}},{key:_0x37ca("0x1221"),value:function(x,a){var c=this.db;return new(r[_0x37ca("0xe")])((function(_){var e=c.transaction([x],_0x37ca("0xc5c")).objectStore(x)[_0x37ca("0xe0")](a);e[_0x37ca("0xc60")]=function(x){_()},e[_0x37ca("0x5b5")]=function(x){}}))}},{key:_0x37ca("0x121e"),value:function(){if(this[_0x37ca("0x1212")]&&this.loadedCount===this.pages&&this[_0x37ca("0x120e")]){var x=(new Date)[_0x37ca("0x78")]()-this[_0x37ca("0xc6a")];console[_0x37ca("0x29d")]("bim加载完成，耗时"+x+"ms"),this.queues=null,this.map[_0x37ca("0x1da")](_0x37ca("0x1222"),{})}}},{key:_0x37ca("0x1223"),value:function(x){var a=this;return new(r[_0x37ca("0xe")])((function(c,_){var e=a.db[_0x37ca("0xc5a")](_0x37ca("0x1224"))[_0x37ca("0xc5d")](_0x37ca("0x1224"))[_0x37ca("0x34a")](x);e.onsuccess=function(){var x=e[_0x37ca("0xc61")];c(x||null)},e.onerror=function(x){console[_0x37ca("0x23b")](x),_(null)}}))}},{key:_0x37ca("0xc71"),value:function(){var x={db:_0x37ca("0xc67"),collections:[_0x37ca("0x1225"),_0x37ca("0xeae"),"bimSets"]},a=window[_0x37ca("0xc64")].open(x.db);a[_0x37ca("0xc60")]=function(){for(var c=a.result,_=x.collections,e=0;e<_[_0x37ca("0x4")];e++){var t=_[e];c.objectStoreNames[_0x37ca("0x6fa")](t)&&c.deleteObjectStore(t)}}}},{key:_0x37ca("0x1226"),value:function(){var x={db:_0x37ca("0xc67"),collections:[_0x37ca("0x1225"),_0x37ca("0xeae"),_0x37ca("0x1224")]},a=window.indexedDB[_0x37ca("0x2fc")](x.db);a[_0x37ca("0xc60")]=function(){for(var c=a[_0x37ca("0xc61")],_=x.collections,e=0;e<_[_0x37ca("0x4")];e++){var t=_[e],i=c.transaction([t],_0x37ca("0xc5c"))[_0x37ca("0xc5d")](t)[_0x37ca("0x69d")]();i[_0x37ca("0xc60")]=function(x){},i[_0x37ca("0x5b5")]=function(x){}}}}},{key:"start",value:(a=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var a,c,_,e,t,n,r,s,o,l;return i[_0x37ca("0xe")][_0x37ca("0x298")]((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return this[_0x37ca("0xc6a")]=(new Date)[_0x37ca("0x78")](),x[_0x37ca("0x29a")]=3,this.IDBTryInit({db:_0x37ca("0xc67"),version:2});case 3:if(a=x[_0x37ca("0x5dc")],c=!0,a){x.next=23;break}return console[_0x37ca("0xca")](_0x37ca("0x1227")),c=!1,x[_0x37ca("0x29a")]=10,this[_0x37ca("0x1228")]();case 10:if(_=x[_0x37ca("0x5dc")]){x[_0x37ca("0x29a")]=14;break}return _0x37ca("0x1229"),x.abrupt(_0x37ca("0x2a0"));case 14:for(this[_0x37ca("0xea")](_),this.bimSetData=_,e=this[_0x37ca("0x39")].sceneId_,_[_0x37ca("0x5de")]=e,_.id=e,t=0;t<this[_0x37ca("0x1212")];t++)this[_0x37ca("0x122a")](t,!1,c);return this.dispatchBimPageByControlIndex(_0x37ca("0x29d"),!1,c),x.abrupt(_0x37ca("0x2a0"));case 23:return this.db=a,x.next=26,this[_0x37ca("0x1228")]();case 26:if(n=x[_0x37ca("0x5dc")]){x.next=30;break}return _0x37ca("0x1229"),x[_0x37ca("0x29f")](_0x37ca("0x2a0"));case 30:return this.init(n),this[_0x37ca("0x1215")]=n,r=this[_0x37ca("0x39")][_0x37ca("0xb07")],n.bids=r,n.id=r,x.next=37,this[_0x37ca("0x1223")](r);case 37:if(s=x.sent,o=!0,s){x.next=47;break}return x[_0x37ca("0x29a")]=42,this[_0x37ca("0x122b")]();case 42:return x[_0x37ca("0x29a")]=44,this[_0x37ca("0x1221")](_0x37ca("0x1224"),n);case 44:o=!1,x[_0x37ca("0x29a")]=53;break;case 47:if(o=n[_0x37ca("0x122c")]===s.filetime){x[_0x37ca("0x29a")]=53;break}return x.next=51,this[_0x37ca("0x122b")]();case 51:return x[_0x37ca("0x29a")]=53,this[_0x37ca("0x1220")](_0x37ca("0x1224"),n);case 53:for(l=0;l<this.pages;l++)this[_0x37ca("0x122a")](l,o,c);this[_0x37ca("0x122a")](_0x37ca("0x29d"),o,c);case 55:case"end":return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return a[_0x37ca("0x3")](this,arguments)})},{key:_0x37ca("0x122b"),value:function(){var x=this.db,a=this[_0x37ca("0x39")][_0x37ca("0xb07")],c=new r.default((function(c){x.transaction("bimDatas",_0x37ca("0xc5c"))[_0x37ca("0xc5d")](_0x37ca("0x1225"))[_0x37ca("0xc72")]()[_0x37ca("0xc60")]=function(x){var _=x.target[_0x37ca("0xc61")];_?(_[_0x37ca("0xf2")].bids==a&&_[_0x37ca("0x296")](),_.continue()):c()}})),_=new r.default((function(c){x[_0x37ca("0xc5a")](_0x37ca("0xeae"),_0x37ca("0xc5c")).objectStore(_0x37ca("0xeae"))[_0x37ca("0xc72")]()[_0x37ca("0xc60")]=function(x){var _=x.target[_0x37ca("0xc61")];_?(_.value[_0x37ca("0x5de")]==a&&_[_0x37ca("0x296")](),_[_0x37ca("0x5e4")]()):c()}})),e=new(r[_0x37ca("0xe")])((function(c){x[_0x37ca("0xc5a")]("bimSets","readwrite").objectStore("bimSets")[_0x37ca("0xc72")]()[_0x37ca("0xc60")]=function(x){var _=x[_0x37ca("0x276")][_0x37ca("0xc61")];_?(_[_0x37ca("0xf2")][_0x37ca("0x5de")]==a&&_[_0x37ca("0x296")](),_.continue()):c()}}));return r[_0x37ca("0xe")].all([c,_,e])}},{key:_0x37ca("0x1228"),value:function(){var x=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")],a=this[_0x37ca("0x39")].sceneId_,c=x+"/"+a+"/"+a+"-bimset.bin";return new(r[_0x37ca("0xe")])((function(x,a){l[_0x37ca("0xe")][_0x37ca("0x34b")]({url:c}).success((function(a){x(a)})).error(a)}))}},{key:"dispatchBimPageByControlIndex",value:function(x,a,c){var _=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")],e=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x208")],t=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x207")],i=window[_0x37ca("0x76")][_0x37ca("0x77")],n=this.map.id,r=void 0;if(_.indexOf(_0x37ca("0xdc"))<0)if(_.startsWith("/"))r=""+window[_0x37ca("0x76")][_0x37ca("0x122d")]+_+"/"+n+"/"+n+"-bim"+x+_0x37ca("0x122e");else{var s=i[_0x37ca("0x29b")]("/"),o=i[_0x37ca("0x1ac")](0,s);o[_0x37ca("0x29b")]("#")>-1&&(o=o[_0x37ca("0x1ac")](0,o[_0x37ca("0x29b")]("#"))),r=o+"/"+_+"/"+n+"/"+n+"-bim"+x+".bin"}else r=_+"/"+n+"/"+n+_0x37ca("0x122f")+x+_0x37ca("0x122e");r=r[_0x37ca("0x102")](/\/+/g,"/"),this[_0x37ca("0xb5")].meshHandler.modelWorker[_0x37ca("0xea2")]({messageType:2,url:r,mapDataSrc:_,mapid:n,sceneX:this[_0x37ca("0xb5")][_0x37ca("0x19a")],sceneZ:this.scene.sceneZ_,datas:this[_0x37ca("0x120e")],controlIndex:x,useCache:a,useIDB:c,mergeMode:t,devMode:e},this[_0x37ca("0x5b")])}},{key:_0x37ca("0x1230"),value:function(x){for(var a={},c=this[_0x37ca("0xeae")][_0x37ca("0x1231")],_=0;_<x.length;_++){var e=x[_][_0x37ca("0x2b")]("-"),t=c[e[0]],i=c[e[1]];a[t]=i}return a}},{key:"getInfo",value:function(x){if(!this[_0x37ca("0xeae")])return null;var a=this[_0x37ca("0xeae")][_0x37ca("0x1232")],c=this.bimInfos[_0x37ca("0x1233")];for(var _ in a){var e=a[_];if(x==e.bimid){var t=e[_0x37ca("0x29d")],i={};for(var n in t){var r=c[n];r||(r=n);var s=t[n][_0x37ca("0x1234")],o=this[_0x37ca("0x1230")](s);i[r]=o}return{bimid:e[_0x37ca("0x1235")],infoList:i,uuid:e.uuid}}}return null}},{key:_0x37ca("0x1236"),value:function(){var x=this.queues;for(var a in x){var c=x[a];for(var _ in c)for(var e=c[_],t=0;t<e[_0x37ca("0x4")];t++){var i=e[t],n=this.getInfo(i.id);this.bimInfoLib[i.id]=n,n?(e[t][_0x37ca("0x3c5")]=n[_0x37ca("0x3c5")],e[t][_0x37ca("0xa87")]=n[_0x37ca("0xa87")],e[t][_0x37ca("0x1238")]=n[_0x37ca("0x1235")]):console[_0x37ca("0x23b")](_0x37ca("0x1237")+i.id)}}}},{key:"onGetBimInfo",value:function(x){this[_0x37ca("0xeae")]=x[_0x37ca("0x34f")]}},{key:_0x37ca("0x121d"),value:function(x){var a=x[_0x37ca("0x34f")],c=this[_0x37ca("0x5b")].id,_=this[_0x37ca("0x5b")][_0x37ca("0x6d")];for(var e in this[_0x37ca("0xe5")]||(this[_0x37ca("0xe5")]=x.center),a){var t=a[e];for(var i in t)for(var n=t[i],r=0;r<n[_0x37ca("0x4")];r++){var s=n[r];if(s)for(var o=0;o<s[_0x37ca("0x4")];o++){var l,u=new THREE.Object3D,d=s[o],f=d[_0x37ca("0xed8")][0].id,h=d[_0x37ca("0xb8")],g=d.uv,b=d[_0x37ca("0xed8")],v=d[_0x37ca("0x24")],p=d.index;l=v;var A=new(THREE[_0x37ca("0x3ee")]);A.setIndex(new(THREE[_0x37ca("0x1a1")])(p,1)),A.addAttribute(_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(h,3)),A[_0x37ca("0x1a0")]("uv",new(THREE[_0x37ca("0x1a1")])(g,2)),A[_0x37ca("0x123a")](),A[_0x37ca("0x122")](),A.addGroup(0,A.index[_0x37ca("0xb9")],0),A.userData.groupData=b;var m=this[_0x37ca("0x39")][_0x37ca("0xf5")][_0x37ca("0x123b")](_,v,""),C=m.clone();C.color=new THREE.Color(1,0,0);var I=[m,C],y=new(THREE[_0x37ca("0x148")])(A,I);u[_0x37ca("0xe0")](y),u[_0x37ca("0x11a")][_0x37ca("0x9ee")]=!0;var E=this.center,w=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](u);u[_0x37ca("0x11a")][_0x37ca("0x30b")]={box3:w};var T=w[_0x37ca("0x30d")].y-w[_0x37ca("0x30e")].y,k=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")],S=this.allDataMap[f],M=S.offset[_0x37ca("0x2b")](","),R=new(THREE[_0x37ca("0xe2")])(E.x+1*M[0],0+1*M[1],E.z+1*M[2]),L={};L[_0x37ca("0xb8")]=R,L[_0x37ca("0x316")]=T*S.scale.y+L.position.y-T/2,L.isBim=!0,L[_0x37ca("0x621")]=1*l,L[_0x37ca("0x62f")]=S[_0x37ca("0x62f")],L.bclick=S[_0x37ca("0xa8a")],L[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0x217")],L.ID=f,L.id=f,L[_0x37ca("0x1aa")]=S.name,L[_0x37ca("0x236")]=1*i,L[_0x37ca("0xef")]=c,L.o3d_=u,L[_0x37ca("0xd3e")]=S[_0x37ca("0xd3e")],L[_0x37ca("0x22e")]=S[_0x37ca("0x22e")],L[_0x37ca("0x137")]=S[_0x37ca("0x137")],L[_0x37ca("0x3ba")]=this.map[_0x37ca("0x234")](R),k&&(L[_0x37ca("0xa8a")]=1);var H=[L];u.datas_={bid:c,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:i,model:e,brothers:H,o3d_:u};var P=L[_0x37ca("0xa8a")];u[_0x37ca("0x1aa")]="_root_",this[_0x37ca("0x9e9")][i][_0x37ca("0xe0")](u),P&&this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](u,c)}else _0x37ca("0x1239")}}this[_0x37ca("0x1213")]++}},{key:"onQueueMerged",value:function(x){var a=x[_0x37ca("0x34f")],c=this[_0x37ca("0x5b")].id,_=this.building[_0x37ca("0x6d")];for(var e in this.center||(this[_0x37ca("0xe5")]=x[_0x37ca("0xe5")]),a){var i=a[e];for(var n in i){for(var r=i[n],s=new(THREE[_0x37ca("0x14a")]),o=0,l=0;l<r.length;l++){var u=r[l];if(u)for(var d=0;d<u[_0x37ca("0x4")];d++){var f=u[d],h=f[_0x37ca("0xb8")],g=f.uv,b=f.groupInfo,v=f[_0x37ca("0x24")],p=f[_0x37ca("0x2e5")];o=v;var A=new(THREE[_0x37ca("0x3ee")]);A.setIndex(new(THREE[_0x37ca("0x1a1")])(p,1)),A[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(h,3)),A[_0x37ca("0x1a0")]("uv",new THREE.BufferAttribute(g,2)),A[_0x37ca("0x123a")](),A.computeBoundingSphere(),A.addGroup(0,A[_0x37ca("0x2e5")][_0x37ca("0xb9")],0),A[_0x37ca("0x11a")].groupData=b;var m=this.map[_0x37ca("0xf5")][_0x37ca("0x123b")](_,v,""),C=m[_0x37ca("0xde")]();C[_0x37ca("0x13c")]=new THREE.Color(1,0,0);var I=[m,C],y=new(THREE[_0x37ca("0x148")])(A,I);s.add(y)}else console[_0x37ca("0x3eb")](e+_0x37ca("0x1239"))}var E=this[_0x37ca("0x120e")][e][n],w=this[_0x37ca("0xe5")],T=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](s);s.userData[_0x37ca("0x9ee")]=!0,s[_0x37ca("0x11a")][_0x37ca("0x30b")]={box3:T};var k=T[_0x37ca("0x30d")].y-T.min.y,S=this[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")];E=E.map((function(x){return(0,t[_0x37ca("0xe")])({},x)}));for(var M=0;M<E.length;M++){var R=this[_0x37ca("0x120f")][E[M].id],L=R[_0x37ca("0x137")].split(","),H=new THREE.Vector3(w.x+1*L[0],0+1*L[1],w.z+1*L[2]);E[M][_0x37ca("0xb8")]=H,E[M].Height=k*R[_0x37ca("0x22e")].y+E[M][_0x37ca("0xb8")].y-k/2,E[M].isBim=!0,E[M][_0x37ca("0x621")]=1*o,E[M][_0x37ca("0x62f")]=R[_0x37ca("0x62f")],E[M][_0x37ca("0xa8a")]=R.bclick,E[M][_0x37ca("0x1aa")]=R[_0x37ca("0x1aa")],E[M].nodeType=esmap[_0x37ca("0xe8")][_0x37ca("0x217")],E[M].ID=E[M].id,E[M].FloorNum=1*n,E[M][_0x37ca("0xef")]=c,E[M][_0x37ca("0x3ba")]=this.map.coordThreeToMap(H),S&&(E[M][_0x37ca("0xa8a")]=1)}s.datas_={bid:c,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:n,model:e,brothers:E,o3d_:s};var P=E[0].bclick;s[_0x37ca("0x1aa")]="_root_",this[_0x37ca("0x9e9")][n][_0x37ca("0xe0")](s),P&&this[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](s,c)}}this.loadedCount++}},{key:"addToQueue",value:function(x){this[_0x37ca("0x120e")][x[_0x37ca("0x219")]]||(this[_0x37ca("0x120e")][x.model]={}),this[_0x37ca("0x120e")][x[_0x37ca("0x219")]][x[_0x37ca("0xe6")]]||(this[_0x37ca("0x120e")][x.model][x.fnum]=[]),x.rotate||(x[_0x37ca("0xd3e")]=_0x37ca("0xcd1"));var a={x:1,y:1,z:1};x[_0x37ca("0x22e")]&&(a.x=x[_0x37ca("0x22e")].x,a.y=x[_0x37ca("0x22e")].y,a.z=x[_0x37ca("0x22e")].z),this.queues[x[_0x37ca("0x219")]][x[_0x37ca("0xe6")]].push({id:x.id,offset:x[_0x37ca("0x137")],rotate:x[_0x37ca("0xd3e")],scale:a,center:{x:x.x,y:x.y}}),this[_0x37ca("0x120f")][x.id]=x}},{key:"IDBUpgrade",value:function(x){var a=this;return new(r[_0x37ca("0xe")])((function(c,_){var e=window[_0x37ca("0xc64")][_0x37ca("0x2fc")](x.db,x.version);e[_0x37ca("0xc60")]=function(){a.db=e.db,c(!0)},e[_0x37ca("0x5b5")]=function(){var x=e[_0x37ca("0xc74")];console[_0x37ca("0xca")](x),_(!1)},e[_0x37ca("0xc6e")]=function(a){var c=a[_0x37ca("0x276")].result;c[_0x37ca("0xc6f")][_0x37ca("0x6fa")]("bimDatas")&&c[_0x37ca("0xc71")]("bimDatas"),c[_0x37ca("0xc6f")].contains(_0x37ca("0xeae"))&&c[_0x37ca("0xc71")](_0x37ca("0xeae")),c[_0x37ca("0xc6f")].contains(_0x37ca("0x1224"))&&c[_0x37ca("0xc71")]("bimSets");for(var _=0;_<x[_0x37ca("0x123c")].length;_++){var e=x[_0x37ca("0x123c")][_];if(e==_0x37ca("0x1225"))c[_0x37ca("0xc70")](e,{keyPath:"id"})[_0x37ca("0x123d")](_0x37ca("0x123e"),[_0x37ca("0x5de"),_0x37ca("0x123f")],{unique:!1});else if(e==_0x37ca("0x1224")){c[_0x37ca("0xc70")](e,{keyPath:"id"}).createIndex("myIndex",["bids"],{unique:!0})}else if(e==_0x37ca("0xeae")){c.createObjectStore(e,{keyPath:_0x37ca("0x5de")})[_0x37ca("0x123d")](_0x37ca("0x123e"),[_0x37ca("0x5de")],{unique:!0})}}}}))}},{key:"IDBTryInit",value:function(x){return new(r[_0x37ca("0xe")])((function(a,c){var _=window.indexedDB[_0x37ca("0x2fc")](x.db,x[_0x37ca("0x95")]);_[_0x37ca("0xc6e")]=function(x){var a=x.target[_0x37ca("0xc61")],c=x[_0x37ca("0x276")][_0x37ca("0xc5a")];a[_0x37ca("0xc6f")].contains(_0x37ca("0x1225"))?c[_0x37ca("0xc5d")](_0x37ca("0x1225"))[_0x37ca("0x69d")]():a[_0x37ca("0xc70")](_0x37ca("0x1225"),{keyPath:"id"})[_0x37ca("0x123d")](_0x37ca("0x123e"),[_0x37ca("0x5de"),_0x37ca("0x123f")],{unique:!1});a[_0x37ca("0xc6f")][_0x37ca("0x6fa")](_0x37ca("0xeae"))?c[_0x37ca("0xc5d")](_0x37ca("0xeae")).clear():a[_0x37ca("0xc70")](_0x37ca("0xeae"),{keyPath:_0x37ca("0x5de")})[_0x37ca("0x123d")]("myIndex",[_0x37ca("0x5de")],{unique:!0});a.objectStoreNames[_0x37ca("0x6fa")](_0x37ca("0x1224"))?c.objectStore("bimSets")[_0x37ca("0x69d")]():a.createObjectStore("bimSets",{keyPath:"id"})[_0x37ca("0x123d")](_0x37ca("0x123e"),["bids"],{unique:!0})},_[_0x37ca("0xc60")]=function(){var x=_.result;a(x)},_[_0x37ca("0x5b5")]=function(){var x=_.errorCode;console[_0x37ca("0xca")](_0x37ca("0xc75"),x),a(!1)}}))}},{key:_0x37ca("0x1240"),value:function(){var x,a=function(x){return new(r[_0x37ca("0xe")])((function(a){var t,i=indexedDB[_0x37ca("0x2fc")](x);i[_0x37ca("0x5b5")]=function(x){alert(_0x37ca("0x1242"))},i.onsuccess=function(x){t=x[_0x37ca("0x276")][_0x37ca("0xc61")],function(x,_){var t=x[_0x37ca("0xc6")]((function(x,a){return x[_0x37ca("0x0")](function(x,a){var c=this;return new(r[_0x37ca("0xe")])((function(_,t){if(null==x)return t();var i=0,n=(x=event.target.result)[_0x37ca("0xc5a")]([a]).objectStore(a)[_0x37ca("0xc72")]();n[_0x37ca("0xc60")]=function(x){var a=x.target[_0x37ca("0xc61")];if(a){var c=a[_0x37ca("0xf2")],t=(0,e[_0x37ca("0xe")])(c);i+=t[_0x37ca("0x4")],a.continue()}else _(i)}[_0x37ca("0x10")](c),n[_0x37ca("0x5b5")]=function(x){t(_0x37ca("0x1241")+a+": "+x)}}))}(_,a)),x}),[]);r[_0x37ca("0xe")][_0x37ca("0x62c")](t)[_0x37ca("0x792")]((function(a){console[_0x37ca("0x23b")](_0x37ca("0x1243")+_[_0x37ca("0x1aa")]+" -------------"),x[_0x37ca("0x1f")]((function(x,_){console[_0x37ca("0x23b")](_0x37ca("0x1244")+x+_0x37ca("0x1245")+c(a[_]))}));var e=a[_0x37ca("0xc6")]((function(x,a){return x+a}),0);console[_0x37ca("0x23b")](_0x37ca("0x1246")+c(e))}))[_0x37ca("0x792")](a)}([].concat((0,_[_0x37ca("0xe")])(t[_0x37ca("0xc6f")])),t)}}))},c=function(x){var a=1024;if(Math[_0x37ca("0x24e")](x)<a)return x+" B";var c=["KB","MB","GB","TB","PB","EB","ZB","YB"],_=-1;do{x/=a,++_}while(Math.abs(x)>=a&&_<c[_0x37ca("0x4")]-1);return x[_0x37ca("0x60a")](1)+" "+c[_]},t=(x=(0,n.default)(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(){var c=this;return i[_0x37ca("0xe")].wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:return console[_0x37ca("0x1ba")]("printIndexDBSizes"),x.next=3,indexedDB.databases().then(function(){var x=(0,n[_0x37ca("0xe")])(i[_0x37ca("0xe")][_0x37ca("0x297")]((function x(_){var e;return i[_0x37ca("0xe")].wrap((function(x){for(;;)switch(x.prev=x[_0x37ca("0x29a")]){case 0:e=0;case 1:if(!(e<_[_0x37ca("0x4")])){x[_0x37ca("0x29a")]=7;break}return x[_0x37ca("0x29a")]=4,a(_[e][_0x37ca("0x1aa")]);case 4:e++,x[_0x37ca("0x29a")]=1;break;case 7:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,c)})));return function(a){return x.apply(this,arguments)}}());case 3:console.timeEnd(_0x37ca("0x1247"));case 4:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return x[_0x37ca("0x3")](this,arguments)});t()}}]),x}();a[_0x37ca("0xe")]=d},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=l(c(12)),e=l(c(13)),t=l(c(33)),i=l(c(0)),n=l(c(1)),r=c(30),s=l(c(101)),o=(c(56),l(c(24)));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=null,d=function(){function x(a){(0,i[_0x37ca("0xe")])(this,x),this[_0x37ca("0x5b")]=a;var c=a[_0x37ca("0x39")][_0x37ca("0x14c")];this[_0x37ca("0xb5")]=c,this.modelLayers={},this[_0x37ca("0xeb8")]={},this.lineLayer={},this[_0x37ca("0xeb6")]={},this.toHandle={},this[_0x37ca("0x989")]={},this.modelTextureMeshs={},this[_0x37ca("0x98b")]={},this[_0x37ca("0x1248")]={},this[_0x37ca("0x1249")]=[],this[_0x37ca("0x988")]=[],this[_0x37ca("0x98e")]=!1;this[_0x37ca("0xb5")][_0x37ca("0x39")].on(_0x37ca("0xacc"),(function(x){x[_0x37ca("0x124a")]}))}return(0,n[_0x37ca("0xe")])(x,[{key:_0x37ca("0x124b"),value:function(x){var a=this;for(var c in a[_0x37ca("0x1248")])if(x>=1*c){if(a.dynamicShows[c].visible){for(var _=a[_0x37ca("0x1248")][c][_0x37ca("0x9ab")],e=function(x){var c=_[x].model.geometry,e=c[_0x37ca("0x402")];c[_0x37ca("0x11a")].groups=e,c.clearGroups();var t=_[x][_0x37ca("0x124c")],i=[];t[_0x37ca("0x1f")]((function(x){i=a[_0x37ca("0xb5")].map[_0x37ca("0x11d2")](x[0],x[1],e),e=i})),i[_0x37ca("0x1f")]((function(x){c[_0x37ca("0x133")](x[_0x37ca("0x1c6")],x[_0x37ca("0xb9")],x[_0x37ca("0x3fd")])}));var n=new(THREE[_0x37ca("0xfc")]);n[_0x37ca("0xed")]=!1,_[x][_0x37ca("0x219")][_0x37ca("0xa9")][100]=n},t=0;t<_[_0x37ca("0x4")];t++)e(t);a[_0x37ca("0x1248")][c][_0x37ca("0xed")]=!1}}else if(!a.dynamicShows[c].visible){var i=a[_0x37ca("0x1248")][c][_0x37ca("0x9ab")],n=function(x){var a=i[x][_0x37ca("0x219")][_0x37ca("0xa7")];if(!a[_0x37ca("0x11a")][_0x37ca("0x402")])return _0x37ca("0x5e4");a[_0x37ca("0x132")](),a[_0x37ca("0x11a")][_0x37ca("0x402")][_0x37ca("0x1f")]((function(x){a[_0x37ca("0x133")](x.start,x.count,x.materialIndex)}))};for(t=0;t<i[_0x37ca("0x4")];t++){n(t);_0x37ca("0x5e4")}a[_0x37ca("0x1248")][c][_0x37ca("0xed")]=!0}}},{key:"loadFloors2",value:function(x){var a=this.scene,c=this.building,_=x[_0x37ca("0xebf")],e=x[_0x37ca("0xe6")],t=a[_0x37ca("0x189")],i=c[_0x37ca("0x11d4")](e),n=a[_0x37ca("0x100c")][e],r=x[_0x37ca("0x402")],s=new(esmap[_0x37ca("0x16b")])(esmap.ESLayerType[_0x37ca("0x124d")]);c[_0x37ca("0x22a")]>=100&&(s[_0x37ca("0xed")]=!1),i[_0x37ca("0xe0")](s[_0x37ca("0xa5")]);var o=Math.max(a[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x169")][_0x37ca("0x453")]-a[_0x37ca("0x39")][_0x37ca("0x163")].sourceData[_0x37ca("0x43e")],a.map.mapService[_0x37ca("0x169")][_0x37ca("0x440")]-a[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0x169")][_0x37ca("0x43f")]);for(var l in o>1e3&&o/300,_){var u=t[_0x37ca("0xdfc")][e];null==u&&(u=t[_0x37ca("0xdfc")][0]);var d=t[_0x37ca("0xdb9")],f=a.mapTheme_.floorOpacity_,h=null,g=null;u&&((u.color||0===u[_0x37ca("0x13c")])&&(d=u[_0x37ca("0x13c")]),(u[_0x37ca("0xfd")]||0===u[_0x37ca("0xfd")])&&(f=u[_0x37ca("0xfd")]),u[_0x37ca("0x497")]&&(h=u[_0x37ca("0x497")],g=u[_0x37ca("0x49c")])),n[_0x37ca("0x497")]&&(h=n[_0x37ca("0x497")],g=n[_0x37ca("0x49c")]);var b=new(THREE[_0x37ca("0x3ee")]);b[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0xa74")],3)),b[_0x37ca("0x1a0")](_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x124e")],3)),b.addAttribute("uv",new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x124f")],2)),b[_0x37ca("0x1a0")](_0x37ca("0x91e"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x91e")],2));var v=new(THREE[_0x37ca("0x336")])({color:d,transparent:1*f!=1,opacity:f}),p=new(THREE[_0x37ca("0xfc")])({color:d,transparent:1*f!=1,opacity:f}),A=new THREE.Mesh(b,[v]);A.rotation[_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),A.position[_0x37ca("0xe2d")](esmap[_0x37ca("0x588")].EXTENT_EPSILON_Y),A[_0x37ca("0x127")]=10,A[_0x37ca("0xa4")]={floor:e,FloorNum:e,nodeType:esmap.ESNodeType[_0x37ca("0xa90")],o3d_:A,bid:c.id,bType:2};var m=[],C=0;if(r[0][_0x37ca("0x1f")]((function(x){var a=0;x[_0x37ca("0x1f")]((function(x){m[_0x37ca("0x0")]({start:x[_0x37ca("0x1c6")]+C,count:x[_0x37ca("0xb9")],materialIndex:x[_0x37ca("0x3fd")]}),a+=x[_0x37ca("0xb9")]})),C+=a})),h&&h[_0x37ca("0x4")]>1){var I=g[_0x37ca("0x2b")](","),y=[Number(I[0]),Number(I[1])];A.material=[p];var E=A[_0x37ca("0xa9")][0],w=E.clone();try{var T;!function(){var x=function(x,c){var _=c[_0x37ca("0xe09")].map.clone();_.wrapS=_[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],_[_0x37ca("0x141")]=a[_0x37ca("0x39")].mapView[_0x37ca("0x693")][_0x37ca("0xc7f")][_0x37ca("0xc7c")](),_[_0x37ca("0x850")]=1006,_[_0x37ca("0x41f")]=1008;var e=a[_0x37ca("0x39")][_0x37ca("0x8fa")][x],t=(e[_0x37ca("0xab")]-e.minx)/2+e[_0x37ca("0xae")],i=(e[_0x37ca("0xac")]-e.miny)/2+e[_0x37ca("0xaf")];Math[_0x37ca("0x24e")](t),Math.abs(a[_0x37ca("0x19a")]),a.sceneZ_;Math.abs(a[_0x37ca("0x19a")]),Math[_0x37ca("0x24e")](a[_0x37ca("0x19b")]);var n=I[2]*THREE.Math[_0x37ca("0xad5")];_[_0x37ca("0x137")].set(0,0),_[_0x37ca("0xe5")][_0x37ca("0x11d")](.5,.5),_[_0x37ca("0x110")][_0x37ca("0x11d")](y[0],y[1]),_.rotation=isNaN(n)?0:n,E[_0x37ca("0x39")]=_,E[_0x37ca("0x13c")][_0x37ca("0x11d")](16777215),_[_0x37ca("0x13a")]=!0,E[_0x37ca("0x13a")]=!0;var r=[E,w];m[_0x37ca("0x1f")]((function(x){b[_0x37ca("0x133")](x.start,x[_0x37ca("0xb9")],x[_0x37ca("0x3fd")])})),A[_0x37ca("0xa9")]=r},c=h[_0x37ca("0x102")](_0x37ca("0xdff"),""),_=t[_0x37ca("0x1250")][c][_0x37ca("0xe09")];if(T=_?_[_0x37ca("0x39")]:null,!(_&&T&&T[_0x37ca("0x497")]))throw a[_0x37ca("0x39")].on(_0x37ca("0x1251"),(function(a){a.id==c&&x(e,a)})),new Error(_0x37ca("0x1252"));x(e,{material_:_})}()}catch(x){b[_0x37ca("0x132")](),b[_0x37ca("0x133")](0,b[_0x37ca("0xb7")].position[_0x37ca("0xb9")],0)}}else b.addGroup(0,b.attributes.position.count,0);b[_0x37ca("0x11a")].groups=m,s[_0x37ca("0xa5")][_0x37ca("0xe0")](A),a.map[_0x37ca("0x182")][_0x37ca("0x1253")](A),a[_0x37ca("0x39")].emit(_0x37ca("0x11f3"),{fnum:e,type:_0x37ca("0x1254")})}c[_0x37ca("0xc04")][e].floorBase--,c[_0x37ca("0x15f")](e),x[_0x37ca("0x124e")]=null,x.uvs=null,x[_0x37ca("0xeba")]=null,x[_0x37ca("0xa74")]=null,x[_0x37ca("0xebf")]=null,x=null}},{key:_0x37ca("0xeb1"),value:function(x){var a=this.building,c=this[_0x37ca("0xb5")],_=a.id,e=a[_0x37ca("0x6d")],t=c[_0x37ca("0x189")][_0x37ca("0xa24")][e],i=x[_0x37ca("0xebf")],n=x[_0x37ca("0xe6")],r=a[_0x37ca("0x11d4")](n),s=a[_0x37ca("0x100c")][n],l=(a[_0x37ca("0x36")].filename,x[_0x37ca("0x402")]),u=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")][_0x37ca("0x124d")]);r[_0x37ca("0xe0")](u[_0x37ca("0xa5")]),a[_0x37ca("0x22a")]>=100&&(u[_0x37ca("0xed")]=!1);var d,f=a[_0x37ca("0x169")],h=c[_0x37ca("0x39")].options[_0x37ca("0x9c7")],g=Math[_0x37ca("0x30d")](f[_0x37ca("0x453")]-f.minX,f.maxY-f[_0x37ca("0x43f")]),b=0;for(var v in g>1e3&&(b=g/300),c[_0x37ca("0x39")].on(_0x37ca("0x1255"),(function(x){var a=-x/2.95*b;u[_0x37ca("0xa5")]&&(u[_0x37ca("0xa5")][_0x37ca("0xb8")].y=a)})),i){var p=t.floorStyleBase[n];null==p&&(p=t[_0x37ca("0xdfc")][0]);var A=t[_0x37ca("0xdb9")],m=c.mapTheme_[_0x37ca("0xdfd")],C=null,I=null;p&&((p[_0x37ca("0x13c")]||0===p[_0x37ca("0x13c")])&&(A=p[_0x37ca("0x13c")]),(p.opacity||0===p[_0x37ca("0xfd")])&&(m=p.opacity),p[_0x37ca("0x497")]&&(C=p.image,I=p[_0x37ca("0x49c")])),s.image&&(C=s[_0x37ca("0x497")],I=s.imagesize);var y=new THREE.BufferGeometry;y.addAttribute(_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0xa74")],3)),y.addAttribute(_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x124e")],3)),y.addAttribute("uv",new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x124f")],2)),y.addAttribute("floorUvs",new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x91e")],2));var E=new(THREE[_0x37ca("0x336")])({color:A,transparent:1*m!=1,opacity:m}),w=new(THREE[_0x37ca("0x148")])(y,[E]);w.rotation[_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),w[_0x37ca("0xb8")][_0x37ca("0xe2d")](esmap[_0x37ca("0x588")][_0x37ca("0x1256")]),w[_0x37ca("0x127")]=10,w[_0x37ca("0xa4")]={floor:n,FloorNum:n,bid:_,nodeType:esmap.ESNodeType[_0x37ca("0xa90")],bType:2},h&&(E[_0x37ca("0xed")]=!1);var T=[],k=0;if(l[0][_0x37ca("0x1f")]((function(x){var a=0;x[_0x37ca("0x1f")]((function(x){T.push({start:x[_0x37ca("0x1c6")]+k,count:x[_0x37ca("0xb9")],materialIndex:x[_0x37ca("0x3fd")]}),a+=x[_0x37ca("0xb9")]})),k+=a})),C&&C[_0x37ca("0x4")]>1){var S=I.split(","),M=[Number(S[0]),Number(S[1])],R=w.material[0],L=R[_0x37ca("0xde")]();try{d=void 0,d=o.default[_0x37ca("0x5d9")]("buildingThemeAsset",{themeID:e,filename:C}),esmap[_0x37ca("0x7b")].loadTexture(d,(function(x){!function(x,_){_[_0x37ca("0x851")]=_[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],_[_0x37ca("0x141")]=c[_0x37ca("0x39")][_0x37ca("0x154")][_0x37ca("0x693")][_0x37ca("0xc7f")].getMaxAnisotropy(),_.magFilter=1006,_.minFilter=1008;var e=a[_0x37ca("0x8fa")][x],t=(e[_0x37ca("0xab")]-e[_0x37ca("0xae")])/2+e[_0x37ca("0xae")],i=(e[_0x37ca("0xac")],e[_0x37ca("0xaf")],e.miny,a[_0x37ca("0x169")].DefaultCenX),n=a.sourceData[_0x37ca("0x43d")];Math[_0x37ca("0x24e")](t),Math[_0x37ca("0x24e")](i),Math[_0x37ca("0x24e")](i),Math[_0x37ca("0x24e")](n);var r=S[2]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")];_[_0x37ca("0x137")][_0x37ca("0x11d")](0,0),_[_0x37ca("0xe5")][_0x37ca("0x11d")](.5,.5),_[_0x37ca("0x110")][_0x37ca("0x11d")](M[0],M[1]),_.rotation=isNaN(r)?0:r,R[_0x37ca("0x39")]=_,R[_0x37ca("0x13c")].set(16777215),_[_0x37ca("0x13a")]=!0,R[_0x37ca("0x13a")]=!0;var s=[R,L];T[_0x37ca("0x1f")]((function(x){y[_0x37ca("0x133")](x[_0x37ca("0x1c6")],x[_0x37ca("0xb9")],x[_0x37ca("0x3fd")])})),h&&(s[_0x37ca("0xed")]=!1),w[_0x37ca("0xa9")]=s}(n,x)}),null,(function(){y[_0x37ca("0x132")](),y.addGroup(0,y.attributes[_0x37ca("0xb8")][_0x37ca("0xb9")],0)}))}catch(x){y[_0x37ca("0x132")](),y[_0x37ca("0x133")](0,y[_0x37ca("0xb7")][_0x37ca("0xb8")].count,0)}}else y[_0x37ca("0x133")](0,y[_0x37ca("0xb7")][_0x37ca("0xb8")].count,0);y[_0x37ca("0x11a")][_0x37ca("0x402")]=T,u[_0x37ca("0xa5")][_0x37ca("0xe0")](w),!c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&c[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](w,_),c[_0x37ca("0x39")][_0x37ca("0x1da")](_0x37ca("0x11f3"),{fnum:n,type:"extent"})}a.toLoaded[n].floorBase--,a[_0x37ca("0x15f")](n),x.normals=null,x[_0x37ca("0x124f")]=null,x[_0x37ca("0xeba")]=null,x.vertices=null,x.types=null,x=null}},{key:_0x37ca("0x1257"),value:function(x){for(var a=0;a<x.length;a++){var c=x[a],_=x[a+1];_&&c[1]==_[0]&&(x[a][1]=_[1],x[_0x37ca("0x5")](a+1,1),a--)}}},{key:_0x37ca("0xeb2"),value:function(x){var a=this,c=this[_0x37ca("0xb5")],_=x[_0x37ca("0xe6")],e=this.building,i=e.id,n=e[_0x37ca("0x6d")],s=(c[_0x37ca("0x189")][_0x37ca("0xa24")][n],x.layerType),o=null,l=x[_0x37ca("0x402")],u=e[_0x37ca("0x11d4")](_);if(x[_0x37ca("0xebf")]&&u){if(s)if(this.modelLayers[_])o=this[_0x37ca("0x986")][_];else{var d=new esmap.ESLayer(esmap[_0x37ca("0x16c")].MODEL,{});this[_0x37ca("0x986")][_]=d,u.add(d[_0x37ca("0xa5")]),o=d}else if(this[_0x37ca("0xeb8")][_])o=this.baseLayers[_];else{var f=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0x9eb")],{});this.baseLayers[_]=f,u.add(f[_0x37ca("0xa5")]),o=f}if(o.o3d_){var h=e[_0x37ca("0x169")],g=h[_0x37ca("0x42f")]<32503514?h[_0x37ca("0x42f")]:h[_0x37ca("0x42f")]/1e3;if(!((new Date).getTime()>1e6*g)){var b,v,p=x[_0x37ca("0xebf")],A=x[_0x37ca("0x201")],m=0,C={points:x.pointGeometrys,types:{},fnum:_},I=[];for(var y in p){var E=p[y],w=l[y];if(E){var T=y;if(0!=E.brothers[_0x37ca("0x4")]||E[_0x37ca("0x8e0")]||E.tubes){T=1==E[_0x37ca("0x331")].length?E[_0x37ca("0x331")][0].RoomStyle:E[_0x37ca("0x8e0")]&&E.planes[_0x37ca("0x331")].length>0?E.planes.brothers[0][_0x37ca("0x621")]:E[_0x37ca("0x1258")]&&E.tubes[_0x37ca("0x331")][_0x37ca("0x4")]>0?E[_0x37ca("0x1258")][_0x37ca("0x331")][0].RoomStyle:E.brothers[0].RoomStyle;var k=c[_0x37ca("0x189")][_0x37ca("0x123b")](n,T,""),S={},M=c[_0x37ca("0x189")][_0x37ca("0xe05")](n,T);if(S[_0x37ca("0x448")]=T,S[_0x37ca("0xec0")]=M,S.id=x[_0x37ca("0x1259")]?T:y,S[_0x37ca("0xec1")]=E[_0x37ca("0xec2")],C.types[y]=S,E[_0x37ca("0xec2")],0!=E.brothers[_0x37ca("0x4")]){var R,L,H=[],P=new THREE.BufferGeometry,D=x[_0x37ca("0xa74")][_0x37ca("0x556")](3*m,3*(m+E[_0x37ca("0xec1")])),O=x.normals.subarray(3*m,3*(E.groupIndex+m));x.isHideFlags&&(R=x[_0x37ca("0x9ed")][_0x37ca("0x556")](m,m+E[_0x37ca("0xec1")])),x[_0x37ca("0xa29")]&&(L=x.isSelectFlags.subarray(m,m+E[_0x37ca("0xec1")]));var B=x.uvs[_0x37ca("0x556")](2*m,2*(E[_0x37ca("0xec1")]+m));if(P[_0x37ca("0x1a0")]("position",new(THREE[_0x37ca("0x1a1")])(D,3)),P[_0x37ca("0x1a0")](_0x37ca("0xf8"),new THREE.BufferAttribute(O,3)),P.addAttribute("uv",new(THREE[_0x37ca("0x1a1")])(B,2)),R&&P[_0x37ca("0x1a0")]("isHideFlags",new(THREE[_0x37ca("0x1a1")])(R,1)),L&&P[_0x37ca("0x1a0")](_0x37ca("0xa29"),new(THREE[_0x37ca("0x1a1")])(L,1)),x.normalizeUvs){var N=x[_0x37ca("0xec8")].subarray(2*m,2*(E[_0x37ca("0xec1")]+m));P[_0x37ca("0x1a0")](_0x37ca("0x54d"),new(THREE[_0x37ca("0x1a1")])(N,2))}P[_0x37ca("0x11a")][_0x37ca("0xed8")]=w,H.push(k),k.name=_0x37ca("0x173"),m+=E[_0x37ca("0xec1")],c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ea")]?P[_0x37ca("0x133")](0,P[_0x37ca("0xb7")].position[_0x37ca("0xb9")],0):P[_0x37ca("0x133")](0,P[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],0);var F=new(THREE[_0x37ca("0x148")])(P,H);null!=c[_0x37ca("0x39")].options.hideRoomLogoMeshes?c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x204")]&&999==T&&(F[_0x37ca("0xed")]=!1,F.geometry.clearGroups(),F[_0x37ca("0xa7")][_0x37ca("0x8c9")][_0x37ca("0xb9")]=0):999!=T||c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]||(F[_0x37ca("0xed")]=!1,F.geometry[_0x37ca("0x132")](),F[_0x37ca("0xa7")][_0x37ca("0x8c9")][_0x37ca("0xb9")]=0),F.userData.selectMatIndex=H[_0x37ca("0x4")]-1,F[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),F[_0x37ca("0xa4")]={FloorNum:_,brothers:E[_0x37ca("0x331")],RoomStyle:T,o3d_:F,nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x622")],bid:e.id,bType:2},F[_0x37ca("0x1aa")]=T,c.map[_0x37ca("0x36")][_0x37ca("0x1ea")]||(F[_0x37ca("0xa4")][_0x37ca("0x1aa")]=E[_0x37ca("0x331")][0][_0x37ca("0x1aa")],F[_0x37ca("0xa4")][_0x37ca("0x620")]=E[_0x37ca("0x331")][0][_0x37ca("0x620")],F[_0x37ca("0xa4")].ShowLevel=E[_0x37ca("0x331")][0][_0x37ca("0xd4c")],F.datas_[_0x37ca("0xd45")]=E.brothers[0][_0x37ca("0xd45")],F.datas_.typeID=E[_0x37ca("0x331")][0][_0x37ca("0x5e2")],F[_0x37ca("0xa4")][_0x37ca("0x3ba")]=E.brothers[0][_0x37ca("0x3ba")]);var z={};E[_0x37ca("0x331")][_0x37ca("0x1f")]((function(x){var _=c[_0x37ca("0x39")][_0x37ca("0x17e")]({from:c[_0x37ca("0x39")][_0x37ca("0x180")],to:c[_0x37ca("0x39")][_0x37ca("0x36")].userCrs,coord:x[_0x37ca("0x3ba")]});x.bType=2,x.o3d_=F,x.mapCoord=_,x.ID;var e=P.userData[_0x37ca("0xed8")][x.ID][1];x.sideRange=[e[_0x37ca("0x1c6")],e[_0x37ca("0x1c6")]+e[_0x37ca("0xb9")]],x[_0x37ca("0xd45")]>=3&&(a[_0x37ca("0x98a")][x.ID]=F);var t=x[_0x37ca("0xd4c")];0!=t&&24!=t&&(z[t]||(z[t]={model:F,excludes:[]}),z[t][_0x37ca("0x124c")].push(x[_0x37ca("0xbc")]),a[_0x37ca("0x1257")](z[t][_0x37ca("0x124c")]))})),I[_0x37ca("0x0")](z),F[_0x37ca("0xb0b")]=!1,F[_0x37ca("0x127")]=1==s?esmap.ESRenderOrder[_0x37ca("0x219")]:esmap[_0x37ca("0x22c")].model,o[_0x37ca("0xa5")][_0x37ca("0xe0")](F),(A||x[_0x37ca("0xeb9")])&&!c[_0x37ca("0x39")].options.disableIndoorClick&&c[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](F,i)}var j=p[y].planes;if(j&&0!=j[_0x37ca("0x331")][_0x37ca("0x4")]){var X=[k],Y=[];j.geos[_0x37ca("0x1f")]((function(x){Y[_0x37ca("0x0")](x[_0x37ca("0xa7")])}));for(var U=r.BufferGeometryUtils[_0x37ca("0x567")](Y,!0),G=U.groups,Q=0;Q<G[_0x37ca("0x4")];Q++)G[Q][_0x37ca("0x3fd")]=0;U[_0x37ca("0x132")](),U[_0x37ca("0x133")](0,U[_0x37ca("0x2e5")][_0x37ca("0xb9")],0);var V=new(THREE[_0x37ca("0x148")])(U,X);V[_0x37ca("0x1aa")]=_0x37ca("0x134"),V.userData.selectMatIndex=X[_0x37ca("0x4")]-1,V[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,"XYZ"),V[_0x37ca("0x11a")][_0x37ca("0x402")]=G;for(var W=0;W<j[_0x37ca("0x331")][_0x37ca("0x4")];W++){var Z=j[_0x37ca("0x331")][W];j[_0x37ca("0x331")][W][_0x37ca("0xa5")]=V,Z.ID,Z[_0x37ca("0xd45")]>=3&&(a.modelTextureMeshs[Z.ID]=V,Z[_0x37ca("0x559")]=[0,0]);var J=c[_0x37ca("0x39")][_0x37ca("0x17e")]({from:c.map.coordSystem,to:c.map[_0x37ca("0x36")].userCrs,coord:Z[_0x37ca("0x3ba")]});Z[_0x37ca("0x17d")]=2,Z.mapCoord=J}V.datas_={FloorNum:_,bid:e.id,brothers:j[_0x37ca("0x331")],o3d_:F,nodeType:esmap.ESNodeType[_0x37ca("0x622")],bType:2},V[_0x37ca("0xb0b")]=!1,V[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x219")],null!=c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x204")]?c.map.options[_0x37ca("0x204")]&&999==T&&(V[_0x37ca("0xed")]=!1,modelMmodelMesh2esh[_0x37ca("0xa7")][_0x37ca("0x132")](),V.geometry.drawRange[_0x37ca("0xb9")]=0):999!=T||c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]||(V.visible=!1,V[_0x37ca("0xa7")][_0x37ca("0x132")](),V[_0x37ca("0xa7")][_0x37ca("0x8c9")][_0x37ca("0xb9")]=0),o[_0x37ca("0xa5")][_0x37ca("0xe0")](V),(A||x.layerType)&&!c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0xc03")]&&c[_0x37ca("0x39")][_0x37ca("0x182")][_0x37ca("0x183")](V,i)}var K=p[y][_0x37ca("0x1258")];if(K&&K[_0x37ca("0x331")].length>0){var q=[k],$=p[y][_0x37ca("0x125a")],xx=new(THREE[_0x37ca("0x3ee")]);xx[_0x37ca("0x3f2")](new THREE.BufferAttribute($[_0x37ca("0x2e5")][_0x37ca("0x19f")],1)),xx[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])($[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0x19f")],3)),xx[_0x37ca("0x1a0")](_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])($.attributes[_0x37ca("0xf8")][_0x37ca("0x19f")],3)),xx[_0x37ca("0x1a0")]("uv",new(THREE[_0x37ca("0x1a1")])($.attributes.uv[_0x37ca("0x19f")],2)),xx.clearGroups(),xx[_0x37ca("0x133")](0,xx[_0x37ca("0x2e5")][_0x37ca("0xb9")],0);for(var ax=new THREE.Mesh(xx,q),cx=0;cx<K[_0x37ca("0x331")][_0x37ca("0x4")];cx++)K[_0x37ca("0x331")][cx][_0x37ca("0xa5")]=ax;ax[_0x37ca("0xa4")]={name:"tube",nodeType:5,brothers:K[_0x37ca("0x331")],o3d_:ax,bid:e.id,bType:2},!c.map[_0x37ca("0x36")][_0x37ca("0xc03")]&&c.map.mapPicker[_0x37ca("0x183")](ax,i),o[_0x37ca("0xa5")][_0x37ca("0xe0")](ax)}}}}if(e.options[_0x37ca("0xdf1")]||c.map[_0x37ca("0xf5")][_0x37ca("0xa24")][e[_0x37ca("0x6d")]][_0x37ca("0xdf1")]){var _x=this[_0x37ca("0xec3")](C,x[_0x37ca("0x1259")]);I[_0x37ca("0x1f")]((function(x){for(var c in x)a.dynamicShows[c]||(a[_0x37ca("0x1248")][c]={queue:[],visible:!0}),x[c][_0x37ca("0xa3e")]=_x,a.dynamicShows[c][_0x37ca("0x9ab")][_0x37ca("0x0")](x[c])}))}if(!this[_0x37ca("0xebc")][_]){this[_0x37ca("0xebc")][_]={};var ex=new esmap.ESLayer(esmap.ESLayerType[_0x37ca("0x9ec")],{});u[_0x37ca("0xe0")](ex[_0x37ca("0xa5")]);var tx=new esmap.ESLayer(esmap[_0x37ca("0x16c")][_0x37ca("0x217")]);tx[_0x37ca("0x1aa")]=_0x37ca("0xc0a"),u.add(tx[_0x37ca("0xa5")]),this.toHandle[_][_0x37ca("0x125b")]=ex,this[_0x37ca("0xebc")][_][_0x37ca("0xed5")]=tx,this[_0x37ca("0xebc")][_][_0x37ca("0xebd")]=[],this[_0x37ca("0xebc")][_][_0x37ca("0x989")]=[],this[_0x37ca("0xebc")][_][_0x37ca("0x125c")]={},this[_0x37ca("0xebc")][_].bimModelDatas=[],this.modelMats[_]=[]}if(x[_0x37ca("0x125d")])(b=this[_0x37ca("0x1249")])[_0x37ca("0x0")][_0x37ca("0x3")](b,(0,t[_0x37ca("0xe")])(x.modelImagesData));if(x.bimModelData&&(this.toHandle[_][_0x37ca("0x125e")]=this.toHandle[_][_0x37ca("0x125e")][_0x37ca("0x15")](x.bimModelData)),x.modelTexturesData)if(c[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1ea")])(v=this[_0x37ca("0x988")])[_0x37ca("0x0")][_0x37ca("0x3")](v,(0,t[_0x37ca("0xe")])(x[_0x37ca("0x125f")]));else this[_0x37ca("0x988")][_0x37ca("0x0")](x.modelTexturesData);if(this[_0x37ca("0xebc")][_].model3data=this[_0x37ca("0xebc")][_][_0x37ca("0xebd")][_0x37ca("0x15")](x[_0x37ca("0xebe")]),0!=x[_0x37ca("0x1260")][_0x37ca("0x4")]){var ix=new(THREE[_0x37ca("0x3ee")]);ix[_0x37ca("0x1a0")](_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x1260")],3)),ix[_0x37ca("0x1a0")](_0x37ca("0xf8"),new(THREE[_0x37ca("0x1a1")])(x[_0x37ca("0x1261")],3)),ix.addAttribute("uv",new THREE.BufferAttribute(x[_0x37ca("0x1262")],2)),x.modelImageHideFlags&&ix[_0x37ca("0x1a0")](_0x37ca("0x9ed"),new THREE.BufferAttribute(x[_0x37ca("0x1263")],1)),ix[_0x37ca("0x3f2")](new THREE.BufferAttribute(x[_0x37ca("0x1264")],1)),ix[_0x37ca("0x11a")][_0x37ca("0xed8")]=x[_0x37ca("0x1265")],x[_0x37ca("0x1266")][_0x37ca("0x4")]>0?x[_0x37ca("0x1266")][_0x37ca("0x1f")]((function(x){ix[_0x37ca("0x133")](x.start,x[_0x37ca("0xb9")],x.materialIndex)})):ix[_0x37ca("0x133")](0,x.modelImageIndex[_0x37ca("0x4")],0),x[_0x37ca("0x1259")]?(ix[_0x37ca("0x11a")].id=s,this[_0x37ca("0xebc")][_][_0x37ca("0x989")][s]=ix):(ix.userData.id=x[_0x37ca("0x1267")],this.toHandle[_][_0x37ca("0x989")][_0x37ca("0x0")](ix))}x[_0x37ca("0xeb9")]?e[_0x37ca("0xc04")][_].model>0&&e[_0x37ca("0xc04")][_][_0x37ca("0x219")]--:e[_0x37ca("0xc04")][_].modelBase>0&&e[_0x37ca("0xc04")][_][_0x37ca("0x593")]--,e[_0x37ca("0x15f")](_),x[_0x37ca("0x124f")]=null,x[_0x37ca("0xeba")]=null,x.normals=null,x.vertices=null,x[_0x37ca("0xebf")]=null,x=null}}}}},{key:_0x37ca("0x1268"),value:function(x){function a(x,a){a[_0x37ca("0x851")]=a.wrapT=THREE[_0x37ca("0x142")];var c=x[_0x37ca("0xd3e")]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")];return x[_0x37ca("0x1269")]||a[_0x37ca("0x110")].set(x.size[0],x.size[1]),a[_0x37ca("0x137")][_0x37ca("0x11d")](x[_0x37ca("0x137")].x,x.offset.y),a[_0x37ca("0x1a3")]=isNaN(c)?0:c,a[_0x37ca("0x13a")]=!0,a}var c=this[_0x37ca("0xb5")],_=void 0,e=x[0].id,t=x[0].RS,i=this[_0x37ca("0x5b")].themeID,n=1*c[_0x37ca("0x189")][_0x37ca("0xe05")](i,t)[_0x37ca("0xe3")],r=this[_0x37ca("0x98a")][e];if(r){r.geometry[_0x37ca("0xb7")].uv[_0x37ca("0x19f")],x[0][_0x37ca("0x1269")]&&r[_0x37ca("0xa7")].addAttribute("uv",r[_0x37ca("0xa7")].getAttribute(_0x37ca("0x54d")));var o=c[_0x37ca("0x189")].themeList[i][_0x37ca("0xdf4")][t]?c[_0x37ca("0x189")][_0x37ca("0xa24")][i].roomStyle[t][_0x37ca("0x13c")]:c[_0x37ca("0x189")].themeList[i].roomStyle[0].color;o[_0x37ca("0xda")]("#")<0&&(o=esmap.ESMapUtil[_0x37ca("0x9f6")](o));var l=new(s[_0x37ca("0xe")])({colorStr:o});l[_0x37ca("0x330")](r),r.userData[_0x37ca("0x126a")]=!0;var u=r[_0x37ca("0xa9")][0][_0x37ca("0x13c")].getStyle();if(1==x[_0x37ca("0x4")]){var d=x[0],f=c[_0x37ca("0x39")].mapService[_0x37ca("0xd4b")][_0x37ca("0xc77")][d[_0x37ca("0xd48")]][_0x37ca("0xde")]();f=a(d,f);var h=document[_0x37ca("0x22")](_0x37ca("0x6f9"));h[_0x37ca("0x398")]=16,h.height=16;var g=h.getContext("2d");g[_0x37ca("0x9fe")]=u,g[_0x37ca("0x928")](0,0,16,16);var b=new(THREE[_0x37ca("0x416")])(h);b[_0x37ca("0x13a")]=!0,3==d[_0x37ca("0xd45")]?(_=l[_0x37ca("0x333")]({topTexture:f,sideTexture:b}))[_0x37ca("0x1aa")]=_0x37ca("0x334"):(_=l.createMaterial({topTexture:b,sideTexture:f}))[_0x37ca("0x1aa")]=_0x37ca("0x126b"),_.userData[_0x37ca("0x29d")]=d,_[_0x37ca("0x13a")]=!0,r[_0x37ca("0xa9")]=[_]}else{var v=x[0],p=c[_0x37ca("0x39")][_0x37ca("0x163")].ResourcePool.roomTexturePool[v.RoomLogo][_0x37ca("0xde")]();p=a(v,p);var A,m,C=x[1],I=c.map[_0x37ca("0x163")][_0x37ca("0xd4b")][_0x37ca("0xc77")][C[_0x37ca("0xd48")]][_0x37ca("0xde")]();I=a(C,I),3==v[_0x37ca("0xd45")]?(A=p,m=I):(A=I,m=p),(_=l[_0x37ca("0x333")]({topTexture:A,sideTexture:m}))[_0x37ca("0x13a")]=!0,_[_0x37ca("0x1aa")]=_0x37ca("0x126c"),_.userData[_0x37ca("0x29d")]=v,r[_0x37ca("0xa9")]=[_]}n<1&&(_.transparent=!0,_.opacity=n),r.geometry[_0x37ca("0xb7")].uv[_0x37ca("0x19f")]}else esmap.ESInfo.MODELTEXTURE_ERR}},{key:_0x37ca("0x126d"),value:function(x,a){var c=this,_=c[_0x37ca("0xb5")],e=x[_0x37ca("0xe6")],t=this[_0x37ca("0x5b")],i=_[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xd4b")][_0x37ca("0xc76")][x.RoomLogo];_[_0x37ca("0x39")][_0x37ca("0x36")].fixTextures&&(THREE[_0x37ca("0x249")][_0x37ca("0x126e")](i[_0x37ca("0x497")][_0x37ca("0x398")])&&THREE.Math[_0x37ca("0x126e")](i[_0x37ca("0x497")].height)||(i[_0x37ca("0x41f")]=THREE[_0x37ca("0x7e4")],i[_0x37ca("0xe52")]=!1,i[_0x37ca("0x126f")][_0x37ca("0x4")]=0,i[_0x37ca("0x13a")]=!0));var n=t[_0x37ca("0x36")].mergeModels?x[_0x37ca("0xeb9")]:x.id,r=c.toHandle[e].modelImageMeshs[n].material,s=x[_0x37ca("0x1270")],o=_[_0x37ca("0x39")].options[_0x37ca("0x20c")];if(t.options[_0x37ca("0x1ea")]||(c[_0x37ca("0xebc")][e].modelImageMeshs[n][_0x37ca("0xa4")][_0x37ca("0x3ba")]={x:x[_0x37ca("0x1c8")].x,y:x[_0x37ca("0x1c8")].y}),!r[s]){var l=new THREE.MeshBasicMaterial({transparent:!0,side:THREE[_0x37ca("0x10f")],depthWrite:!0,map:i});l.onBeforeCompile=function(x){x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")]("#include <uv_pars_vertex>",_0x37ca("0x1271")),x.vertexShader=x[_0x37ca("0x101")].replace("#include <uv_vertex>",_0x37ca("0x1272")),x.fragmentShader=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x106"),"\n                    uniform float opacity; \n                    varying float hideFlag;\n                    "),x[_0x37ca("0x105")]=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x108"),_0x37ca("0x1273"))},l[_0x37ca("0x1aa")]=x[_0x37ca("0xd48")],l[_0x37ca("0x11a")][_0x37ca("0x1274")]=x,l[_0x37ca("0x1aa")][_0x37ca("0xda")]("jpg")>0?l[_0x37ca("0xfa")]=!1:l[_0x37ca("0x85d")]=o,t[_0x37ca("0x91b")]!=e&&t[_0x37ca("0x36")].focusAlphaMode&&(l[_0x37ca("0x11a")].istransparent=l[_0x37ca("0xfa")],l[_0x37ca("0x11a")][_0x37ca("0xfd")]=l[_0x37ca("0xfd")],l[_0x37ca("0xfd")]=t[_0x37ca("0x36")].focusAlpha),t.options[_0x37ca("0x1ea")]?r[s]=l:(c[_0x37ca("0xebc")][e][_0x37ca("0x125c")][n].material.push(l),c[_0x37ca("0xebc")][e][_0x37ca("0x125c")][n].datas_[_0x37ca("0x1267")]=x.id,c[_0x37ca("0xebc")][e].modelImageMeshs[n].datas_[_0x37ca("0xd48")]=x[_0x37ca("0xd48")])}}},{key:_0x37ca("0xed1"),value:function(){var x,a=(x=(0,e[_0x37ca("0xe")])(_.default[_0x37ca("0x297")]((function x(){var a,e;return _[_0x37ca("0xe")].wrap((function(x){for(;;)switch(x[_0x37ca("0x299")]=x[_0x37ca("0x29a")]){case 0:x.t0=_[_0x37ca("0xe")][_0x37ca("0x5e1")](i[_0x37ca("0x62d")]);case 1:if((x.t1=x.t0())[_0x37ca("0x3d1")]){x.next=11;break}if(a=x.t1.value,e=i[_0x37ca("0x62d")][a],c[_0x37ca("0xebc")][e]){x[_0x37ca("0x29a")]=6;break}return x.abrupt(_0x37ca("0x5e4"),1);case 6:n(e),s(e),r(e),x.next=1;break;case 11:i[_0x37ca("0x22a")]>=100&&i[_0x37ca("0x14f")].handleBims();case 12:case _0x37ca("0x2dc"):return x[_0x37ca("0x1bc")]()}}),x,this)}))),function(){return x[_0x37ca("0x3")](this,arguments)}),c=this,t=c[_0x37ca("0xb5")],i=this.building;function n(x){c.toHandle[x][_0x37ca("0x989")][_0x37ca("0x1f")]((function(a,_){var e=new(THREE[_0x37ca("0x148")])(a,[]),t=a[_0x37ca("0x11a")].id;e[_0x37ca("0xa4")]={nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0x9ec")],o3d_:e,bid:i.id,bType:2},e[_0x37ca("0x127")]=esmap.ESRenderOrder[_0x37ca("0x592")],e[_0x37ca("0x1a3")][_0x37ca("0x11d")](-Math.PI/2,Math.PI,Math.PI-0*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],_0x37ca("0xf32")),c[_0x37ca("0xebc")][x][_0x37ca("0x125c")][t]=e,c[_0x37ca("0xebc")][x][_0x37ca("0x125b")][_0x37ca("0xa5")][_0x37ca("0xe0")](e)})),c[_0x37ca("0xebc")][x].modelImageGeos=[]}function r(x){var a=c.toHandle[x][_0x37ca("0x125e")],_=[];for(var e in a){var t=a[e];_[_0x37ca("0x0")](c.convertBimData(t))}for(c[_0x37ca("0xebc")][x][_0x37ca("0x125e")]=[];_[_0x37ca("0x4")]>0;){var n=_[_0x37ca("0x2")]();i.modelLoadManager[_0x37ca("0x1275")](n)}}function s(x){var a=c[_0x37ca("0xebc")][x][_0x37ca("0xebd")],_=t.map[_0x37ca("0x973")]?t.map[_0x37ca("0x609")].target:t[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x276")],e=[];for(var n in a){var r=c[_0x37ca("0xed4")](a[n],x);delete c.toHandle[x].model3data[n],r&&(r[_0x37ca("0x1ab")]>28?i.modelLoadManager.addMapModel(r):(r.viewrank=r.position[_0x37ca("0xdf")](_),e[_0x37ca("0x0")](r)))}for(e[_0x37ca("0x408")]((function(x,a){return x[_0x37ca("0xed3")]-a.viewrank}));e[_0x37ca("0x4")]>0;){var s=e.shift();i.modelLoadManager[_0x37ca("0xbf6")](s)}i[_0x37ca("0x14f")][_0x37ca("0xbed")][x]=!0}a().then((function(){c[_0x37ca("0x98e")]||(t.map.on(_0x37ca("0x119"),(function(){c[_0x37ca("0x1276")](),t[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x1e6")]?(t[_0x37ca("0x39")][_0x37ca("0x609")][_0x37ca("0x57b")]&&(u=setTimeout((function(){i[_0x37ca("0x14f")][_0x37ca("0x27f")]=!1,i.modelLoadManager.viewRangeUpdated=!1,u&&window[_0x37ca("0x2e8")](u)}),100)),i[_0x37ca("0x14f")].disposeInvisible(),i[_0x37ca("0x14f")][_0x37ca("0xc08")](),i[_0x37ca("0x14f")].checkIfNeedLoad()):(i[_0x37ca("0x14f")][_0x37ca("0xc08")](),i[_0x37ca("0x14f")][_0x37ca("0xc0e")]())})),c[_0x37ca("0x98e")]=!0)}))}},{key:_0x37ca("0x1276"),value:function(){var x=this,a=this[_0x37ca("0xb5")];if(x[_0x37ca("0x1249")][_0x37ca("0x4")]>0)for(var c=0;c<x.modelImageDatas[_0x37ca("0x4")];c++){var _=x[_0x37ca("0x1249")][c],e=a[_0x37ca("0x39")].options.mergeModels?_[_0x37ca("0xeb9")]:_.id;a[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xd4b")][_0x37ca("0xc76")][_[_0x37ca("0xd48")]]&&x[_0x37ca("0xebc")][_.fnum][_0x37ca("0x125c")][e]?(x[_0x37ca("0x126d")](_,c),x[_0x37ca("0x1249")][_0x37ca("0x5")](c,1),c--):null===a[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xd4b")][_0x37ca("0xc76")][_[_0x37ca("0xd48")]]&&(x[_0x37ca("0x1249")][_0x37ca("0x5")](c,1),c--)}if(x[_0x37ca("0x988")][_0x37ca("0x4")]>0)for(var t=0;t<x[_0x37ca("0x988")][_0x37ca("0x4")];t++)if(0!=x[_0x37ca("0x988")][t][_0x37ca("0x4")]){for(var i=!0,n=0;n<x[_0x37ca("0x988")][t][_0x37ca("0x4")];n++){var r=x[_0x37ca("0x988")][t][n];if(!a[_0x37ca("0x39")][_0x37ca("0x163")][_0x37ca("0xd4b")].roomTexturePool[r[_0x37ca("0xd48")]]){if(null!==a[_0x37ca("0x39")][_0x37ca("0x163")].ResourcePool[_0x37ca("0xc77")][r[_0x37ca("0xd48")]]){i=!1;break}x.modelTextureDatas[t][_0x37ca("0x5")](n,1),n--}}i&&x[_0x37ca("0x988")][t][_0x37ca("0x4")]>0&&(x.loadModelTextures(x[_0x37ca("0x988")][t]),x[_0x37ca("0x988")][_0x37ca("0x5")](t,1),t--)}else x[_0x37ca("0x988")][_0x37ca("0x5")](t,1),t--}},{key:"convertBimData",value:function(x){if(x[_0x37ca("0xb8")]={x:-x.x,z:x.y},x[_0x37ca("0xc8")]=6,x.scale){var a=x[_0x37ca("0x22e")].split(",");x.scale=new(THREE[_0x37ca("0xe2")])(1*a[0],1*a[1],1*a[2])}else x[_0x37ca("0x22e")]=new(THREE[_0x37ca("0xe2")])(1,1,1);return x[_0x37ca("0x1a3")]||(x[_0x37ca("0x1a3")]=new(THREE[_0x37ca("0xe2")])(0,0,0)),x}},{key:_0x37ca("0xed4"),value:function(x,a,c){var _,e=this[_0x37ca("0xb5")],t=this.building,i=this.building.id,n=(e[_0x37ca("0x39")][_0x37ca("0x36")].tid,e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x23e")]),r=(e[_0x37ca("0x39")][_0x37ca("0x36")][_0x37ca("0x44")],e[_0x37ca("0x39")].sceneId_,_0x37ca("0x74"),x[_0x37ca("0x219")].replace(".gltf",""),_0x37ca("0xa1")),s="low"==e.map[_0x37ca("0x36")].quality&&!e[_0x37ca("0x39")].options.editMode,l=x[_0x37ca("0x219")][_0x37ca("0x102")](_0x37ca("0xa1"),"");(r=o[_0x37ca("0xe")][_0x37ca("0x5d9")](_0x37ca("0x57"),{filename:l,buildingId:i,modeltoken:e[_0x37ca("0x39")].__mtn}),c)?_=c:_=this[_0x37ca("0xebc")][a]?this[_0x37ca("0xebc")][a][_0x37ca("0xed5")].o3d_:e[_0x37ca("0x990")][a][_0x37ca("0xa4")][_0x37ca("0x193")](esmap[_0x37ca("0x16c")][_0x37ca("0x217")])[0].o3d_;if(e[_0x37ca("0x39")].options[_0x37ca("0x1277")]&&x[_0x37ca("0x219")]){if(1*x[_0x37ca("0x173")]==3){var u=x[_0x37ca("0xed6")][_0x37ca("0xee")][_0x37ca("0x39")]((function(x){return x.x*=-1,x})),d=x.offset[_0x37ca("0x2b")](",")[1];return new(esmap[_0x37ca("0x5ce")])({type:_0x37ca("0x5b"),useCrst:!1,merge:!0,bid:i,model:x[_0x37ca("0x219")],fnum:a,bclick:!!n,points:u,gid:x[_0x37ca("0xa8b")]||0,error:function(x){t[_0x37ca("0xc04")][a].model3D--},created:function(x){t[_0x37ca("0xc04")][a].model3D--},repeatset:1,thickset:1,heightset:1,name:x.name,id:x.id,height:1*d})[_0x37ca("0xef")]=i,null}if(s&&x[_0x37ca("0x219")][_0x37ca("0xda")]("__singlemesh")>=0){var f=t.modelLoadManager;return f.modelStore[x[_0x37ca("0x219")]]||f[_0x37ca("0x304")][x[_0x37ca("0x219")]]||(f[_0x37ca("0x304")][x.model]=!0,t[_0x37ca("0x14f")][_0x37ca("0x305")](x.model,r)),!1}var h=new(THREE[_0x37ca("0xe2")])(1,1,1);if(x[_0x37ca("0x22e")]){var g=x[_0x37ca("0x22e")][_0x37ca("0x2b")](",");h=new(THREE[_0x37ca("0xe2")])(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]))}var b=0;if(x[_0x37ca("0xd3e")]){var v=Math.PI/180,p=x[_0x37ca("0xd3e")][_0x37ca("0x2b")](",");b=1*p[1];var A=new(THREE[_0x37ca("0x231")])(parseFloat(p[0])*v,parseFloat(p[1])*v,parseFloat(p[2])*v)}var m=new THREE.Vector3(x.x,x.y,0),C=new(THREE[_0x37ca("0xe2")])(-x.x-e[_0x37ca("0x19a")],0,x.y-e[_0x37ca("0x19b")]);if(x.offset){var I=x[_0x37ca("0x137")][_0x37ca("0x2b")](",");C.x+=parseFloat(I[0]),C.y+=parseFloat(I[1]),C.z+=parseFloat(I[2]),m.x-=parseFloat(I[0]),m.z+=parseFloat(I[1]),m.y+=parseFloat(I[2])}x[_0x37ca("0x219")][_0x37ca("0xda")](_0x37ca("0xa1"))<0&&(x[_0x37ca("0x219")]+=".gltf");var y={bid:i,bType:2,rank:x[_0x37ca("0x1ab")],name:x.name,dataID:x[_0x37ca("0x62f")],model:x[_0x37ca("0x219")],angle:b,mapId:null,url:r,scale:h,gid:x[_0x37ca("0xa8b")]||0,rotation:A,position:C,data_:{CenX:x.x,CenY:x.y,scale:x[_0x37ca("0x22e")]||null,rotate:x[_0x37ca("0xd3e")]||null,offset:x.offset||null},parent:_,id:x.id,bclick:x.bclick,typeID:x[_0x37ca("0xed6")][_0x37ca("0xd46")],mapCoord:m,callbackparams:x[_0x37ca("0x238")]||null,callback:function(){},fnum:a};return n&&(y[_0x37ca("0xed6")]=x[_0x37ca("0xed6")]),y}}},{key:_0x37ca("0xec3"),value:function(x,a){var c,_=x[_0x37ca("0xe6")];x.id;this.modelLineLayers[_]?c=this[_0x37ca("0xeb6")][_]:((c=new(esmap[_0x37ca("0x16b")])(esmap[_0x37ca("0x16c")].MODEL_LINE,{}))[_0x37ca("0x1aa")]=_0x37ca("0xdf1"),this[_0x37ca("0x5b")][_0x37ca("0x11d4")](_)[_0x37ca("0xe0")](c[_0x37ca("0xa5")]),this[_0x37ca("0xeb6")][_]=c);var e=x[_0x37ca("0xebf")];if(a){var t=new(THREE[_0x37ca("0x3ee")]);t[_0x37ca("0x1a0")](_0x37ca("0xb8"),new THREE.BufferAttribute(x[_0x37ca("0xee")],3));var i=[],n=0;for(var r in e){var s=e[r][_0x37ca("0xec0")],o={precision:_0x37ca("0xb29"),color:s.strokeColor_,linewidth:s[_0x37ca("0xde1")]>5?5:s[_0x37ca("0xde1")]},l=new(THREE[_0x37ca("0x196")])(o);l[_0x37ca("0x1aa")]=r,i[_0x37ca("0x0")](l),t[_0x37ca("0x133")](n,e[r][_0x37ca("0xec1")],i[_0x37ca("0x4")]-1),e[r][_0x37ca("0x1278")]=n,n+=e[r][_0x37ca("0xec1")],1*r==999&&(l.visible=!1)}var u=new(THREE[_0x37ca("0x1a2")])(t,i);return u[_0x37ca("0xb0b")]=!1,u.datas_={nodeType:esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],id:1},u[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,_0x37ca("0x1a4")),u.renderOrder=esmap.ESRenderOrder[_0x37ca("0x128")],u[_0x37ca("0x11a")].groupInfo=e,c[_0x37ca("0xa5")][_0x37ca("0xe0")](u),u}for(var d in e){var f=new(THREE[_0x37ca("0x3ee")]),h=0,g=x[_0x37ca("0xee")][_0x37ca("0x556")](3*h,3*(h+e[d][_0x37ca("0xec1")]));f.addAttribute(_0x37ca("0xb8"),new(THREE[_0x37ca("0x1a1")])(g,3));var b=e[d].lineTheme,v=[],p={precision:_0x37ca("0xb29"),color:b[_0x37ca("0xdf9")],linewidth:b.strokewidth>5?5:b[_0x37ca("0xde1")]},A=new(THREE[_0x37ca("0x196")])(p);v[_0x37ca("0x0")](A),f[_0x37ca("0x133")](h,e[d][_0x37ca("0xec1")],v.length-1),h+=e[d][_0x37ca("0xec1")];var m=new THREE.LineSegments(f,v);m[_0x37ca("0xb0b")]=!1,m.datas_={nodeType:esmap[_0x37ca("0xe8")].LINE,id:1*e[d].id,bid:this[_0x37ca("0x5b")].id,bType:2},m[_0x37ca("0x1a3")][_0x37ca("0x11d")](Math.PI/2,0,0,"XYZ"),m[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x128")],1*d==999&&(A[_0x37ca("0xed")]=!1,f.clearGroups(),f[_0x37ca("0x8c9")][_0x37ca("0xb9")]=0),c[_0x37ca("0xa5")].add(m)}return m}}]),x}();a.default=d},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=n(c(4)),e=n(c(0)),t=n(c(5)),i=n(c(6));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(x){function a(x){(0,e[_0x37ca("0xe")])(this,a);var c=(0,t[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,_[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")].MODEL3D,{},new(THREE[_0x37ca("0x216")])));return c[_0x37ca("0xa8b")]=x[_0x37ca("0xa8b")]||0,c[_0x37ca("0xa5")].name=_0x37ca("0xba"),c[_0x37ca("0x1aa")]=x[_0x37ca("0x1aa")],c.ID=x.id,c[_0x37ca("0x2a2")]=[],c[_0x37ca("0x219")]=x[_0x37ca("0x219")]||"",c}return(0,i[_0x37ca("0xe")])(a,x),a}(esmap.ESNode);a[_0x37ca("0xe")]=r},function(x,a,c){"use strict";Object.defineProperty(a,_0x37ca("0xb"),{value:!0});var _=i(c(2)),e=i(c(0)),t=i(c(1));function i(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var n=function(){function x(a){(0,e.default)(this,x);var c=(0,_.default)({id:1,bid:0,style:{alpha:.8,lineType:esmap[_0x37ca("0xe1")][_0x37ca("0xf0f")],isMapRoad:0}},a);this[_0x37ca("0x8f7")]=esmap[_0x37ca("0x34")][_0x37ca("0x35")],this.ID=c.id||0,this.name=c[_0x37ca("0x1aa")]||"",this[_0x37ca("0xee")]=c[_0x37ca("0xee")]||[],this[_0x37ca("0x24")]=c[_0x37ca("0x24")]||this.map_[_0x37ca("0xf5")][_0x37ca("0xaf7")],this[_0x37ca("0xa5")]=new(THREE[_0x37ca("0x14a")]),this[_0x37ca("0xa5")].name=_0x37ca("0xba"),this[_0x37ca("0xa5")][_0x37ca("0xa4")]=this,this[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0xa2e")],this[_0x37ca("0x36")]=c}return(0,t.default)(x,[{key:_0x37ca("0x1279"),value:function(x){if(this[_0x37ca("0x24")][_0x37ca("0x9d5")]==esmap[_0x37ca("0xe1")][_0x37ca("0xbb3")]){var a=this[_0x37ca("0x24")].fixedWidth,c=this.o3d_[_0x37ca("0xa6")][0],e={time:.3,percent:1,arrow:this[_0x37ca("0x24")][_0x37ca("0x120")]||!1,onComplete:null};(0,_[_0x37ca("0xe")])(e,x),0==e.percent&&(e.percent=.001);var t=e[_0x37ca("0x1ba")],i=e[_0x37ca("0x127a")],n=e[_0x37ca("0x120")],r=c.geometry.progress;if(this[_0x37ca("0x24")][_0x37ca("0x112")]==_0x37ca("0x113")){var s=c.geometry[_0x37ca("0x11a")][_0x37ca("0x11b")];new(esmap.TWEEN[_0x37ca("0x1bd")])({value:r}).to({value:i},1e3*t).easing(esmap.TWEEN[_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x1c4")]((function(){e[_0x37ca("0x1c4")]&&e.onComplete()}))[_0x37ca("0x12f")]((function(x){c.geometry[_0x37ca("0x119")](c.pathPointList,{radius:s,arrow:n,progress:x[_0x37ca("0xf2")]}),c[_0x37ca("0xa7")][_0x37ca("0x121")]=x.value,a&&c.updateLineWidth()}))[_0x37ca("0x1c6")]()}else{var o=c[_0x37ca("0xa7")][_0x37ca("0x11a")].trueRadius;new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])({value:r}).to({value:i},1e3*t)[_0x37ca("0x261")](esmap.TWEEN.Easing.Quadratic[_0x37ca("0x1c3")])[_0x37ca("0x1c4")]((function(){e[_0x37ca("0x1c4")]&&e[_0x37ca("0x1c4")]()}))[_0x37ca("0x12f")]((function(x){c[_0x37ca("0xa7")][_0x37ca("0x119")](c[_0x37ca("0x116")],{width:o,arrow:n,progress:x[_0x37ca("0xf2")]}),c[_0x37ca("0xa7")][_0x37ca("0x121")]=x[_0x37ca("0xf2")],a&&c[_0x37ca("0x12e")]()}))[_0x37ca("0x1c6")]()}}}},{key:_0x37ca("0x2f7"),value:function(){this[_0x37ca("0xee")][_0x37ca("0x2f7")](),this.updatePoints(this.points)}},{key:_0x37ca("0x127b"),value:function(x){var a=x[_0x37ca("0x127a")],c=void 0===a?.5:a,_=x[_0x37ca("0x127c")],e=void 0===_||_,t=x[_0x37ca("0xe3")],i=void 0===t?.5:t,n=this[_0x37ca("0xa5")].children[0];n&&(n.shaderConfigs[_0x37ca("0x127b")]={alpha:i,isFront:e},n.passPercent=c,n[_0x37ca("0x127d")]=!0)}},{key:_0x37ca("0x127e"),value:function(x){var a=this[_0x37ca("0x8f7")][_0x37ca("0x9f8")](x)[0];esmap[_0x37ca("0x7b")].interpolatePoints(a);var c=void 0,_=this[_0x37ca("0x24")];this.points=x,c=_.curvature?esmap[_0x37ca("0x641")][_0x37ca("0x5f9")](a,8,_[_0x37ca("0x9d7")]):a,this.o3d_[_0x37ca("0xa6")][0].updateGeometry(c)}},{key:_0x37ca("0xc31"),value:function(x){this[_0x37ca("0xa5")][_0x37ca("0xa6")][0][_0x37ca("0xc31")](x)}},{key:_0x37ca("0x13b"),value:function(x){var a=this[_0x37ca("0xa5")].children[0];a&&(a[_0x37ca("0xa3b")]?a.color=x:a[_0x37ca("0x13b")](x))}},{key:_0x37ca("0x127f"),value:function(x){var a={height:5,time:.6};x instanceof Object?a=(0,_[_0x37ca("0xe")])(a,x):isNaN(x)||(a[_0x37ca("0x1a8")]=x);var c=this[_0x37ca("0xa5")][_0x37ca("0xa6")][0],e=c[_0x37ca("0xb8")].y+a.height;this.updateHeightId_&&this[_0x37ca("0x1280")].stop(),this[_0x37ca("0x1280")]=new(esmap[_0x37ca("0x1c1")].Tween)(c.position).to({y:e},1e3*a.time)[_0x37ca("0x261")](esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")][_0x37ca("0x1be")][_0x37ca("0x1c3")])[_0x37ca("0x1c4")]((function(){})).start()}},{key:_0x37ca("0x121"),get:function(){return this[_0x37ca("0x24")][_0x37ca("0x9d5")]!=esmap[_0x37ca("0xe1")].TEXTURE?1:this[_0x37ca("0xa5")][_0x37ca("0xa6")][0].geometry[_0x37ca("0x121")]}},{key:_0x37ca("0xed"),set:function(x){this.o3d_.visible=x},get:function(){return this[_0x37ca("0xa5")].visible}}]),x}();a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=s(c(64)),e=s(c(2)),t=s(c(18)),i=s(c(86)),n=s(c(10)),r=c(19);function s(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var o=function(x,a,c,_){var e=this,t=esmap[_0x37ca("0x34")][_0x37ca("0x35")];this[_0x37ca("0x608")]=_0x37ca("0xe7"),esmap.ESComponent.call(this,t[_0x37ca("0x1281")],this),this[_0x37ca("0xe6")]=x[0]?x[0][_0x37ca("0xe6")]:1;var s=x.map((function(x){var a=x[_0x37ca("0xde")]();return a.fnum=x[_0x37ca("0xe6")],a[_0x37ca("0xef")]=x[_0x37ca("0xef")],a}));this.ind_=_,this[_0x37ca("0xee")]=x,this[_0x37ca("0xef")]=x[0][_0x37ca("0xef")]||0,this[_0x37ca("0xe6")]=x[0]&&x[0][_0x37ca("0xe6")]||1,this[_0x37ca("0x39")]=t,this[_0x37ca("0x18b")]="esline",this.style=a,this[_0x37ca("0x127d")]=!1;var o=a;o[_0x37ca("0xec")]=null==o.hiddenByFloor||o[_0x37ca("0xec")],this[_0x37ca("0x11e")]=null!=o[_0x37ca("0x11e")]&&o[_0x37ca("0x11e")],this[_0x37ca("0xc8")]=esmap[_0x37ca("0xe8")][_0x37ca("0xe9")],(c=c||{}).up=c.up||a.up||new(THREE[_0x37ca("0xe2")])(0,1,0),this[_0x37ca("0x24")].repeat=this[_0x37ca("0x24")][_0x37ca("0x110")]||1,this[_0x37ca("0x24")][_0x37ca("0xab5")]=null==this.style[_0x37ca("0xab5")]||a[_0x37ca("0xab5")],this[_0x37ca("0x24")][_0x37ca("0x1282")]=!this.style[_0x37ca("0x1")]("updateReapeat")||this[_0x37ca("0x24")][_0x37ca("0x1282")],this[_0x37ca("0x24")][_0x37ca("0x1283")]=null==this.style[_0x37ca("0x1283")]?23:this[_0x37ca("0x24")].minRepeatLevel,this[_0x37ca("0x24")][_0x37ca("0x1284")]=this[_0x37ca("0x24")][_0x37ca("0x1284")]||0,this.shaderConfigs={splitAlpha:null,splitGray:null},this[_0x37ca("0x1285")]=!1;var l;if(o.color=o[_0x37ca("0x1")](_0x37ca("0x13c"))?o[_0x37ca("0x13c")]:16711680,(0,n[_0x37ca("0xe")])(o[_0x37ca("0x13c")])===_0x37ca("0x143"))o[_0x37ca("0x13c")]=this[_0x37ca("0x13e")](o.color);o[_0x37ca("0x5ae")]||(o[_0x37ca("0x5ae")]={size:2,gap:1}),o.type="normal",o[_0x37ca("0x112")]=esmap[_0x37ca("0x5aa")][_0x37ca("0x1286")],_0x37ca("0x120")!=o.lineType&&_0x37ca("0x5b0")!=o[_0x37ca("0x9d5")]||(o.type=o[_0x37ca("0x9d5")],o[_0x37ca("0x112")]=esmap[_0x37ca("0x5aa")][_0x37ca("0x1287")]),o[_0x37ca("0x10b")]=o[_0x37ca("0x10b")]||o[_0x37ca("0x9d5")]&&this[_0x37ca("0x1288")](o.lineType)||[o[_0x37ca("0x5ae")][_0x37ca("0x576")],o[_0x37ca("0x5ae")][_0x37ca("0xaf8")]],o[_0x37ca("0x115")]=(0,r[_0x37ca("0x1b8")])(o,_0x37ca("0x115"),_0x37ca("0x1a6"),8),o[_0x37ca("0x114")]=(0,r[_0x37ca("0x1b8")])(o,_0x37ca("0x114"),0),o[_0x37ca("0x10b")]&&(this[_0x37ca("0x10c")]=o[_0x37ca("0x10b")][_0x37ca("0xc6")]((function(x,a){return x+a}))),l=this[_0x37ca("0x10c")];var u,d=JSON[_0x37ca("0x68")]((0,i[_0x37ca("0xe")])(o));delete d[_0x37ca("0x1a8")],this[_0x37ca("0xa3b")]=new(esmap[_0x37ca("0x1289")])(d),u=this[_0x37ca("0x24")][_0x37ca("0x4a")]?(new(THREE[_0x37ca("0x13f")])).load(this.style[_0x37ca("0x4a")]):new(THREE[_0x37ca("0x416")])(this[_0x37ca("0xa3b")][_0x37ca("0x6f9")]),this[_0x37ca("0x24")][_0x37ca("0x1284")]&&(u.offset.y=this[_0x37ca("0x24")][_0x37ca("0x1284")]||0),o[_0x37ca("0x9d5")]==esmap[_0x37ca("0xe1")].ESARROW?u[_0x37ca("0x41f")]=THREE[_0x37ca("0x7e8")]:u[_0x37ca("0x41f")]=THREE[_0x37ca("0x7e4")],this[_0x37ca("0x24")].url||(u.needsUpdate=!0);var f=o[_0x37ca("0x114")]?o[_0x37ca("0x115")]/2:o.lineWidth/16;this.radius=f;var h=o.up||c.up;this.up_=h,this[_0x37ca("0x128a")]=c[_0x37ca("0x128b")]||a[_0x37ca("0x128b")],this[_0x37ca("0x128c")]=o[_0x37ca("0x112")],this[_0x37ca("0x100")]=0;var g=new(esmap[_0x37ca("0x128d")])({radius:f,pathVertices:s,uvBaseLen:l,segments:a[_0x37ca("0x63f")]||12,up:h,notCenter:this[_0x37ca("0x128a")],lineMode:o[_0x37ca("0x112")],yScale:o[_0x37ca("0x128e")],smooth:o[_0x37ca("0x9d2")],billboard:o[_0x37ca("0x1090")]});this[_0x37ca("0x4")]=g[_0x37ca("0x4")]||0,u[_0x37ca("0x851")]=u[_0x37ca("0x852")]=THREE[_0x37ca("0x142")],this[_0x37ca("0x128f")]=Math[_0x37ca("0xa18")](g[_0x37ca("0x4")]/g.uvBaseLen),isNaN(this[_0x37ca("0x128f")])?u.repeat.x=1:u[_0x37ca("0x110")].x=this[_0x37ca("0x128f")],u[_0x37ca("0x110")].y=1,this[_0x37ca("0x24")].url||(u[_0x37ca("0x13a")]=!0);var b=new(THREE[_0x37ca("0xfc")]);b[_0x37ca("0xfa")]=!0,b[_0x37ca("0xfd")]=null==o[_0x37ca("0xfd")]?1:o[_0x37ca("0xfd")],b.map=u,b[_0x37ca("0x13a")]=!0,b[_0x37ca("0xed")]=!1,this[_0x37ca("0xed")]=!1,b[_0x37ca("0x124")]=!0,o[_0x37ca("0x123")]&&(b[_0x37ca("0x28f")]=!1),o[_0x37ca("0x1290")]&&(b.depthWrite=!1),this.style[_0x37ca("0x4a")]&&(b[_0x37ca("0x13c")]=(new(THREE[_0x37ca("0x13d")]))[_0x37ca("0x290")](this[_0x37ca("0x24")][_0x37ca("0x13c")]));var v=this;this[_0x37ca("0x24")][_0x37ca("0x9d5")]!==esmap[_0x37ca("0xe1")][_0x37ca("0xf0f")]&&(b[_0x37ca("0xfe")]=function(x){x[_0x37ca("0xff")][_0x37ca("0x100")]={value:0},x[_0x37ca("0xff")].isSectionAlpha={value:!1},x[_0x37ca("0xff")].isSectionGray={value:!0},x[_0x37ca("0xff")][_0x37ca("0x1291")]={value:0},x[_0x37ca("0xff")][_0x37ca("0x1292")]={value:0},x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x103"),"\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    "),x[_0x37ca("0x101")]=x[_0x37ca("0x101")][_0x37ca("0x102")](_0x37ca("0x104"),_0x37ca("0x1293")),x.fragmentShader=x[_0x37ca("0x105")][_0x37ca("0x102")](_0x37ca("0x1294"),_0x37ca("0x1295")),x[_0x37ca("0x105")]=x[_0x37ca("0x105")][_0x37ca("0x102")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x37ca("0x1296")),v[_0x37ca("0x10a")]=x}),THREE[_0x37ca("0x148")][_0x37ca("0x6")](this,g,b),this[_0x37ca("0xb8")].copy(g[_0x37ca("0xe5")]),this[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")][_0x37ca("0x128")],this._updateMaterialByNaviMap(),this.addEventListener(_0x37ca("0x23f"),this[_0x37ca("0xa8")]),this[_0x37ca("0xf0b")]=this[_0x37ca("0x119")][_0x37ca("0x10")](this),this[_0x37ca("0xa9")].side=o[_0x37ca("0x1297")]?THREE[_0x37ca("0x10f")]:THREE.FrontSide,this[_0x37ca("0x39")].on("update",this._update),this[_0x37ca("0xf08")]=this.visibleFloorNumsChanged[_0x37ca("0x10")](this);var p=this[_0x37ca("0x39")][_0x37ca("0xf0")](this[_0x37ca("0xef")]);if(o[_0x37ca("0xec")]&&(this.map.on(_0x37ca("0x12c"),this[_0x37ca("0xf08")]),p[_0x37ca("0xe95")][_0x37ca("0xda")](this[_0x37ca("0xe6")])<0&&(this[_0x37ca("0xed")]=!1)),this.baseFloorHeight=p[_0x37ca("0x2f2")](this[_0x37ca("0xe6")]),this.building=p,this.style[_0x37ca("0x2d2")]){var A=this[_0x37ca("0xee")][0].bid,m=this.points[1][_0x37ca("0xef")],C=this[_0x37ca("0x39")][_0x37ca("0xf0")](A),I=this[_0x37ca("0x39")][_0x37ca("0xf0")](m);C&&C.on(_0x37ca("0xf1"),(function(x){var a=x[_0x37ca("0xe6")],c=x[_0x37ca("0xf2")];a==e[_0x37ca("0xee")][0][_0x37ca("0xe6")]&&(e.points[0].y=c),e[_0x37ca("0xf3")](e[_0x37ca("0xee")])})),I&&I.on(_0x37ca("0xf1"),(function(x){var a=x[_0x37ca("0xe6")],c=x[_0x37ca("0xf2")];a==e[_0x37ca("0xee")][1][_0x37ca("0xe6")]&&(e[_0x37ca("0xee")][1].y=c),e[_0x37ca("0xf3")](e[_0x37ca("0xee")])}))}else p.on(_0x37ca("0xf1"),(function(x){var a=x[_0x37ca("0xe6")],c=x[_0x37ca("0xf2")]-e.baseFloorHeight;a==e.fnum&&(e.position.y=e[_0x37ca("0x11a")].originHeight+c)}));var y=new(THREE[_0x37ca("0x148")])(this.geometry,this[_0x37ca("0xa9")]);y[_0x37ca("0x127")]=esmap[_0x37ca("0x22c")].transparentLine,this[_0x37ca("0xe0")](y),this[_0x37ca("0x1298")]=y};o[_0x37ca("0x11")]=(0,t.default)(THREE[_0x37ca("0x148")][_0x37ca("0x11")],{height:{get:function(){return this[_0x37ca("0xb8")].y},set:function(x){this[_0x37ca("0xb8")].y=x}},color:{get:function(){return this[_0x37ca("0x24")][_0x37ca("0x13c")]},set:function(x){_0x37ca("0x143")==typeof x&&(x=this[_0x37ca("0x13e")](x)),this[_0x37ca("0xa3b")][_0x37ca("0x119")]({color:x}),this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x497")]&&(this[_0x37ca("0xa9")].map[_0x37ca("0x13a")]=!0)}},lineStyle:{get:function(){return this[_0x37ca("0x24")]},set:function(x){this[_0x37ca("0xc31")](x)}},alpha:{get:function(){return this[_0x37ca("0xa9")][_0x37ca("0xfd")]},set:function(x){this[_0x37ca("0xa9")][_0x37ca("0xfd")]=x}},lineWidth:{get:function(){return this[_0x37ca("0x24")].lineWidth},set:function(x){this[_0x37ca("0xc31")]({lineWidth:x})}}}),(0,e[_0x37ca("0xe")])(o[_0x37ca("0x11")],esmap[_0x37ca("0x5bd")][_0x37ca("0x11")],{updateGeometry:function(x){if(this.children[0]){this[_0x37ca("0xa6")][0][_0x37ca("0xa7")].dispose(),this[_0x37ca("0xa6")][0].geometry[_0x37ca("0xa74")]=[],this[_0x37ca("0xa6")][0][_0x37ca("0xa7")][_0x37ca("0xa73")]=!0,this[_0x37ca("0xa6")][0].geometry[_0x37ca("0xf1d")]=!0,this[_0x37ca("0xa7")][_0x37ca("0xa8")](),this[_0x37ca("0xa7")][_0x37ca("0xa74")]=[],this[_0x37ca("0xa7")][_0x37ca("0xa73")]=!0,this[_0x37ca("0xe6")]=x[0][_0x37ca("0xe6")];var a=this[_0x37ca("0x24")],c=x.map((function(x){var a=x.clone();return a[_0x37ca("0xe6")]=x[_0x37ca("0xe6")],a[_0x37ca("0xef")]=x[_0x37ca("0xef")],a})),_=new(esmap[_0x37ca("0x128d")])({radius:this[_0x37ca("0x630")],pathVertices:c,uvBaseLen:this[_0x37ca("0x10c")],segments:a[_0x37ca("0x63f")]||12,up:this[_0x37ca("0xef9")],notCenter:this[_0x37ca("0x128a")],lineMode:this[_0x37ca("0x112")],yScale:a[_0x37ca("0x128e")],smooth:a[_0x37ca("0x9d2")],billboard:a[_0x37ca("0x1090")]});this[_0x37ca("0x4")]=_[_0x37ca("0x4")],this[_0x37ca("0x128f")]=Math[_0x37ca("0xa18")](_[_0x37ca("0x4")]/_[_0x37ca("0x1299")]),this[_0x37ca("0xa7")]=_,this[_0x37ca("0xa7")][_0x37ca("0xa73")]=!0,this[_0x37ca("0xa7")][_0x37ca("0xf1d")]=!0,this.children[0][_0x37ca("0xa7")]=this[_0x37ca("0xa7")],this[_0x37ca("0xa6")][0][_0x37ca("0xa7")][_0x37ca("0xa73")]=!0,this[_0x37ca("0xa6")][0][_0x37ca("0xa7")][_0x37ca("0xf1d")]=!0,this[_0x37ca("0xb8")][_0x37ca("0x268")](_[_0x37ca("0xe5")])}},_colorToStr:function(x){if(_0x37ca("0x143")==typeof x){for(var a=x[_0x37ca("0x30")](16);a[_0x37ca("0x4")]<6;)a="0"+a;return"#"+a}return x},getDashArrayByLineType:function(x){if(x instanceof Array)return x;switch(x){case esmap.ESLineType[_0x37ca("0xf0f")]:return[1,0];case esmap.ESLineType.DOTTED:return[1,1];case esmap[_0x37ca("0xe1")].DOT_DASH:return[2.5,1,.5,1];case esmap[_0x37ca("0xe1")].CENTER:return[3,1,1.5,1];case esmap[_0x37ca("0xe1")][_0x37ca("0x129a")]:return[2,1];case esmap[_0x37ca("0xe1")][_0x37ca("0x129b")]:return[2.5,.5,.5,.5,.5,.5];case esmap.ESLineType[_0x37ca("0x129c")]:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap[_0x37ca("0xe1")][_0x37ca("0x129d")]:return[5,0];case esmap[_0x37ca("0xe1")][_0x37ca("0x1063")]:return[7,0]}},visibleFloorNumsChanged:function(x){var a=x[_0x37ca("0xef")],c=x[_0x37ca("0x144")];if(a==this[_0x37ca("0xef")]){var _=this[_0x37ca("0xe6")],e=!0;_0x37ca("0x143")==typeof _?-1==c[_0x37ca("0xda")](_)&&(e=!1):_ instanceof Array&&_[_0x37ca("0x1f")]((function(x){-1==c.indexOf(x)&&(e=!1)})),this[_0x37ca("0xed")]=e}},updateStyle:function(x){x[_0x37ca("0x13c")]&&_0x37ca("0x143")==typeof x[_0x37ca("0x13c")]&&(x[_0x37ca("0x13c")]=this[_0x37ca("0x13e")](x.color)),(0,e[_0x37ca("0xe")])(this.style,x),this[_0x37ca("0x24")][_0x37ca("0x22a")]="normal",_0x37ca("0x120")!=this[_0x37ca("0x24")][_0x37ca("0x9d5")]&&_0x37ca("0x5b0")!=this[_0x37ca("0x24")][_0x37ca("0x9d5")]||(this.style.type=this.style[_0x37ca("0x9d5")]),x[_0x37ca("0x9d5")]&&!x[_0x37ca("0x10b")]&&(this[_0x37ca("0x24")][_0x37ca("0x10b")]=this.getDashArrayByLineType(x[_0x37ca("0x9d5")])),delete this[_0x37ca("0x24")][_0x37ca("0x1a8")],this[_0x37ca("0xa3b")][_0x37ca("0x119")](this.style),this[_0x37ca("0x129e")](),this.material[_0x37ca("0x39")].image&&(this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x13a")]=!0,this.textureLength=this[_0x37ca("0x24")][_0x37ca("0x10b")][_0x37ca("0xc6")]((function(x,a){return x+a})),this.brothers&&this.brothers.length>0&&this[_0x37ca("0x331")][_0x37ca("0x1f")]((function(a){a[_0x37ca("0xc31")](x)})))},_updateMaterialByNaviMap:function(){if(!this.style.url){var x=this[_0x37ca("0xa3b")][_0x37ca("0x129f")];this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x137")].y=x.offset,this.material[_0x37ca("0x10e")]=(0,r[_0x37ca("0x1b8")])(x,_0x37ca("0x10e"),0)}},_firstUpdate:!0,update:function(x){if(this[_0x37ca("0xa9")]&&this[_0x37ca("0xa9")].map){this[_0x37ca("0x39")][_0x37ca("0x36")].naviLineAnimation&&!this.style[_0x37ca("0x130")]&&(this.material[_0x37ca("0x39")].offset.x-=x*(this[_0x37ca("0x24")][_0x37ca("0x5ae")][_0x37ca("0x2f3")]||this.style[_0x37ca("0x138")]||1));var a,c=this[_0x37ca("0x39")][_0x37ca("0x154")];c[_0x37ca("0x611")],this[_0x37ca("0x12a0")];this[_0x37ca("0xa9")]&&this[_0x37ca("0xa9")][_0x37ca("0x39")]&&(this[_0x37ca("0x10a")]&&this[_0x37ca("0xa7")][_0x37ca("0x4")]>0&&(this.shaderNeedUpdate&&(this[_0x37ca("0x12a1")][_0x37ca("0x127b")]?(this[_0x37ca("0x10a")][_0x37ca("0xff")][_0x37ca("0x12a2")][_0x37ca("0xf2")]=!0,this[_0x37ca("0x10a")][_0x37ca("0xff")][_0x37ca("0x1291")][_0x37ca("0xf2")]=this[_0x37ca("0x12a1")].splitAlpha[_0x37ca("0xe3")],this[_0x37ca("0x10a")][_0x37ca("0xff")][_0x37ca("0x1292")][_0x37ca("0xf2")]=this[_0x37ca("0x12a1")][_0x37ca("0x127b")][_0x37ca("0x127c")]?1:0):this[_0x37ca("0x12a1")][_0x37ca("0x12a3")],this[_0x37ca("0x127d")]=!1),this[_0x37ca("0x10a")][_0x37ca("0xff")].passPercent.value=this[_0x37ca("0x100")]),this[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x497")]&&(this[_0x37ca("0xa9")].map[_0x37ca("0x13a")]=!0),this.material[_0x37ca("0x13a")]=!0),a=esmap.ESMapUtil[_0x37ca("0x118")](this[_0x37ca("0x39")]),this.style[_0x37ca("0xab5")]&&0!=c.h_&&(this[_0x37ca("0x11e")]&&this[_0x37ca("0xa7")].setRadius(a*this[_0x37ca("0x24")][_0x37ca("0x115")]*.7),this[_0x37ca("0x12a4")](),this.initUpdated||(this[_0x37ca("0x1285")]=!0,this[_0x37ca("0xa9")].map[_0x37ca("0x110")].x=this[_0x37ca("0xa7")].length*this[_0x37ca("0x24")][_0x37ca("0x110")]/(this[_0x37ca("0x10c")]*a*7*1)),this.material&&this[_0x37ca("0x39")].zoomLevel<=this[_0x37ca("0x24")][_0x37ca("0x1283")]&&this.style.updateReapeat&&(this[_0x37ca("0xa9")][_0x37ca("0x39")].repeat.x=this[_0x37ca("0xa7")][_0x37ca("0x4")]*this[_0x37ca("0x24")][_0x37ca("0x110")]/(this[_0x37ca("0x10c")]*a*7*1)))}},_upVec:new(THREE[_0x37ca("0xe2")])(0,1,0),_zVec:new THREE.Vector3(0,0,1),_billboard:function(){if(this[_0x37ca("0x24")][_0x37ca("0x1090")]&&2==this[_0x37ca("0xa7")].pathVertices[_0x37ca("0x4")]){var x=this[_0x37ca("0xa7")][_0x37ca("0x12a5")],a=x[1][_0x37ca("0xde")]()[_0x37ca("0x2d7")](x[0])[_0x37ca("0x2d8")](),c=a[_0x37ca("0x8b3")](this._upVec),e=(0,_.default)(c)*this[_0x37ca("0x39")][_0x37ca("0x275")][_0x37ca("0x1098")][_0x37ca("0xaef")]();this[_0x37ca("0x232")][_0x37ca("0x12a6")](a,e)}},alwaysShow:esmap.ESMapLabel[_0x37ca("0x11")][_0x37ca("0xe81")],picked:function(){},dispose:function(){this[_0x37ca("0x331")]&&this[_0x37ca("0x331")].length>0&&this[_0x37ca("0x331")].forEach((function(x){x[_0x37ca("0xa8")]()})),esmap.ESComponent[_0x37ca("0x11")].dispose[_0x37ca("0x6")](this),this.map[_0x37ca("0x62")](_0x37ca("0x119"),this[_0x37ca("0xf0b")]),this[_0x37ca("0x39")].off(_0x37ca("0x12c"),this[_0x37ca("0xf08")]),this.parent&&this[_0x37ca("0xbb")].remove(this),this[_0x37ca("0x1298")]=null;var x=this[_0x37ca("0xa6")][0];x&&(x[_0x37ca("0xa9")]&&(x[_0x37ca("0xa9")].map&&(x[_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0xa8")](),x[_0x37ca("0xa9")][_0x37ca("0x39")]=null),x.material[_0x37ca("0xa8")](),x.material=void 0),x.geometry&&(x.geometry[_0x37ca("0xa8")](),x[_0x37ca("0xa7")]=void 0),this[_0x37ca("0xa6")][0]=null),this.geometry&&(this[_0x37ca("0xa7")][_0x37ca("0xa8")](),this.geometry=void 0),this[_0x37ca("0xa9")]&&(this[_0x37ca("0xa9")][_0x37ca("0x39")]&&(this[_0x37ca("0xa9")].map[_0x37ca("0xa8")](),this[_0x37ca("0xa9")][_0x37ca("0x39")]=null),this[_0x37ca("0xa9")][_0x37ca("0xa8")](),this[_0x37ca("0xa9")]=void 0)}}),a[_0x37ca("0xe")]=o},function(x,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _,e=c(2),t=(_=e)&&_.__esModule?_:{default:_},i=c(19);var n=function(x){(0,t[_0x37ca("0xe")])(this,{type:_0x37ca("0xf8"),width:128,height:128,color:_0x37ca("0x12a7"),arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:_0x37ca("0x12a8"),godEdgeColor:_0x37ca("0x12a9"),godArrowColor:_0x37ca("0x12aa"),godArrowXScale:.6,godArrowWidthPercent:.07},x),this.materialInfo={offset:0},this.ctx=document.createElement(_0x37ca("0x6f9"))[_0x37ca("0x903")]("2d"),this[_0x37ca("0x119")]()};n[_0x37ca("0x11")]={constructor:n,get canvas(){return this[_0x37ca("0x904")][_0x37ca("0x6f9")]},update:function(x){var a=this;switch((0,t.default)(a,x),a[_0x37ca("0x12ab")](),a.ctx[_0x37ca("0x6f9")].width=a[_0x37ca("0x398")],a[_0x37ca("0x904")].canvas.height=a[_0x37ca("0x1a8")],a.type){case"normal":a[_0x37ca("0x12ac")]();break;case"arrow":a[_0x37ca("0x12ad")]();break;case _0x37ca("0x5b0"):a[_0x37ca("0x12ae")]()}},_doColor:function(){var x=this;[_0x37ca("0x13c"),_0x37ca("0x12af"),"godEdgeColor","godArrowColor"][_0x37ca("0x1f")]((function(a){_0x37ca("0x143")==typeof x[a]&&(x[a]=esmap[_0x37ca("0x5d6")].prototype._colorToStr(x[a]))}))},_setMaterialInfo:function(){var x=this;x.materialInfo[_0x37ca("0x137")]=(0,i.getValues)(arguments,0,0),x[_0x37ca("0x129f")][_0x37ca("0x10e")]=(0,i[_0x37ca("0x1b8")])(arguments,1,0)},_drawNormal:function(){var x=this,a=x[_0x37ca("0x10b")][_0x37ca("0xc6")]((function(x,a){return x+a})),c=0;x[_0x37ca("0x10b")][_0x37ca("0x1f")]((function(_,e){e%2==0&&(x[_0x37ca("0x904")][_0x37ca("0x9fe")]=x[_0x37ca("0x13c")],x[_0x37ca("0x904")].fillRect(c/a*x.width,0,_/a*x[_0x37ca("0x398")],x[_0x37ca("0x1a8")])),c+=_})),x._setMaterialInfo(0)},_drawArrow:function(){var x=this,a=(1-x[_0x37ca("0x12b0")])*x[_0x37ca("0x1a8")]/2,c=x[_0x37ca("0x1a8")]*x[_0x37ca("0x12b0")];x.ctx[_0x37ca("0x9fd")](),x.ctx[_0x37ca("0x250")](0,a);var _=x[_0x37ca("0x398")]*(x[_0x37ca("0x12b1")]-x[_0x37ca("0x12b2")]);x[_0x37ca("0x904")][_0x37ca("0x55f")](_,a),x[_0x37ca("0x904")][_0x37ca("0x55f")](x[_0x37ca("0x398")]*x[_0x37ca("0x12b1")],a+c/2),x[_0x37ca("0x904")][_0x37ca("0x55f")](_,a+c),x.ctx[_0x37ca("0x55f")](0,a+c),x.ctx[_0x37ca("0x55f")](x.width*x[_0x37ca("0x12b2")],a+c/2),x[_0x37ca("0x904")][_0x37ca("0x90f")](),x[_0x37ca("0x904")][_0x37ca("0x9fe")]=x.color,x.ctx[_0x37ca("0x32d")](),x[_0x37ca("0x12b3")](-.25,2)},_drawGodArrow:function(){var x=this;x[_0x37ca("0x904")][_0x37ca("0x9fe")]=x.godEdgeColor,x[_0x37ca("0x904")].fillRect(0,(1-x.godHeightPercent)*x.height/2,x[_0x37ca("0x398")],x[_0x37ca("0x12b4")]*x.height),x[_0x37ca("0x904")][_0x37ca("0x9fe")]=x[_0x37ca("0x13c")];var a=(1-x[_0x37ca("0x12b4")]+x.godEdgePercent)*x[_0x37ca("0x1a8")]/2,c=(x[_0x37ca("0x12b4")]-x[_0x37ca("0x12b5")])*x[_0x37ca("0x1a8")];x[_0x37ca("0x904")].fillRect(0,a,x[_0x37ca("0x398")],c),x[_0x37ca("0x904")][_0x37ca("0x9fe")]=_0x37ca("0x12b6"),x[_0x37ca("0x904")][_0x37ca("0x90b")]=-2,x[_0x37ca("0x904")][_0x37ca("0x90c")]=2,x[_0x37ca("0x904")][_0x37ca("0x90d")]=4,x.ctx.shadowColor=_0x37ca("0x12b7");var _=x[_0x37ca("0x398")]/2,e=x[_0x37ca("0x1a8")]/2,t=x[_0x37ca("0x398")]*x.godArrowPercent,i=x[_0x37ca("0x398")]*x[_0x37ca("0x12b8")],n=x[_0x37ca("0x398")]*(x[_0x37ca("0x12b9")]-x[_0x37ca("0x12b8")])*x[_0x37ca("0x12ba")],r=_-t/2*x[_0x37ca("0x12ba")],s=e-t/2;x[_0x37ca("0x904")][_0x37ca("0x9fd")](),x[_0x37ca("0x904")][_0x37ca("0x250")](r,s),x[_0x37ca("0x904")][_0x37ca("0x55f")](r+i,s),x[_0x37ca("0x904")].lineTo(r+i+n,s+t/2),x[_0x37ca("0x904")].lineTo(r+i,s+t),x[_0x37ca("0x904")][_0x37ca("0x55f")](r,s+t),x[_0x37ca("0x904")].lineTo(r+n,s+t/2),x[_0x37ca("0x904")][_0x37ca("0x90f")](),x[_0x37ca("0x904")][_0x37ca("0x9fe")]=x[_0x37ca("0x12bb")],x[_0x37ca("0x904")][_0x37ca("0x32d")](),x[_0x37ca("0x12b3")](-.25,2)}},a[_0x37ca("0xe")]=n},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=o(c(2)),e=o(c(4)),t=o(c(0)),i=o(c(1)),n=o(c(5)),r=o(c(6)),s=c(19);function o(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function l(x){for(var a,c=[],_=2*Math.PI/x.segments,e=0;e<x[_0x37ca("0x63f")];e++){var t=new(THREE[_0x37ca("0xe2")])(0,x.radius*x.yScale*Math[_0x37ca("0x613")](_*e),x[_0x37ca("0x630")]*Math[_0x37ca("0x648")](_*e));c[_0x37ca("0x0")](t),0==e&&(a=t)}c.push(a);var i,n,r,s,o=x[_0x37ca("0x12a5")][_0x37ca("0x4")],l=function(x){for(var a=0,c=x[0][_0x37ca("0xde")](),_=1;_<x[_0x37ca("0x4")];_++)a+=x[_][_0x37ca("0xdf")](x[_-1]),c[_0x37ca("0xe0")](x[_]);return{length:a,center:c[_0x37ca("0xc29")](x[_0x37ca("0x4")])}}(x[_0x37ca("0x12a5")]);x[_0x37ca("0x4")]=l.length,x[_0x37ca("0xe5")]=l.center,x[_0x37ca("0x128b")]||function(x,a){x[_0x37ca("0x1f")]((function(x){x[_0x37ca("0x2d7")](a)}))}(x[_0x37ca("0x12a5")],x[_0x37ca("0xe5")]),x.perimeter=2*Math.PI*x[_0x37ca("0x630")];var d,h=0,g=0,b=x.perimeter/x[_0x37ca("0x63f")];x._uvs=[],f=x.up[_0x37ca("0xde")](),x[_0x37ca("0x12bc")]=null;for(e=0;e<o;e++){i=0==e?null:x[_0x37ca("0x12a5")][e-1],r=e==o-1?null:x[_0x37ca("0x12a5")][e+1],s=u(i,n=x[_0x37ca("0x12a5")][e],r),x[_0x37ca("0x12bc")]||(x[_0x37ca("0x12bc")]=new(THREE[_0x37ca("0xe2")])(0,1,0)[_0x37ca("0x247")](s)[_0x37ca("0x2d8")]()),e>0&&(h+=n[_0x37ca("0xdf")](i)),g=0,x._rings[e]=[],n.clone().y=0;for(var v=0;v<c[_0x37ca("0x4")];v++){d=c[v][_0x37ca("0xde")]().applyMatrix4(s),x[_0x37ca("0xa74")].push(d),x[_0x37ca("0x12bd")][e][_0x37ca("0x0")](d);var p=(h+0)/x[_0x37ca("0x4")],A=1-g/x[_0x37ca("0x12be")],m=Math[_0x37ca("0x30d")](p,A);m>x.maxUvVal&&(x[_0x37ca("0x8cf")]=m),x._uvs.push(new(THREE[_0x37ca("0x563")])(p,A)),g+=b}}}function u(x,a,c){var _,e=x&&x[_0x37ca("0xde")](),t=a[_0x37ca("0xde")](),i=c&&c.clone(),n=1,r=null;if(x)if(c){var s=t[_0x37ca("0xde")]()[_0x37ca("0x2d7")](e)[_0x37ca("0x2d8")](),o=i[_0x37ca("0x2d7")](t)[_0x37ca("0x2d8")]();r=s.angleTo(o)/2,n=1/Math.cos(r),n=THREE[_0x37ca("0x249")].clamp(n,1,2),_=s[_0x37ca("0xe0")](o)[_0x37ca("0x2d8")]()}else _=t[_0x37ca("0x2d7")](e)[_0x37ca("0x2d8")]();else _=i.sub(t)[_0x37ca("0x2d8")]();var l=new(THREE[_0x37ca("0xe2")])(0,0,1),u=f[_0x37ca("0xde")](),d=(new(THREE[_0x37ca("0xe2")])).crossVectors(_,u)[_0x37ca("0x2d8")]();0==d[_0x37ca("0x4")]()&&(u=l,d=(new(THREE[_0x37ca("0xe2")]))[_0x37ca("0x8ae")](_,u)[_0x37ca("0x2d8")]());var h=(new(THREE[_0x37ca("0xe2")]))[_0x37ca("0x8ae")](d,_)[_0x37ca("0x2d8")]();f=h[_0x37ca("0xde")](),d[_0x37ca("0x26b")](n);var g=(new(THREE[_0x37ca("0x25a")])).makeBasis(_,h,d).setPosition(a);return g[_0x37ca("0x252")]=r,g.vz=d,g}var d=function(x){!x.pathVertices||x[_0x37ca("0x12a5")][_0x37ca("0x4")]<2||(l(x),function(x){for(var a,c=x.pathVertices[_0x37ca("0x4")],_=x[_0x37ca("0x63f")]+1,e=0;e<c-1;e++){a=e*_;for(var t=0;t<_-1;t++)x[_0x37ca("0xa71")].push(new(THREE[_0x37ca("0x12bf")])(a+t+1,a+t,a+_+t)),x[_0x37ca("0xa71")][_0x37ca("0x0")](new(THREE[_0x37ca("0x12bf")])(a+t+1,a+t+_,a+_+t+1))}}(x),function(x){for(var a=x.faces[_0x37ca("0x4")],c=0;c<a;c++){var _=x[_0x37ca("0xa71")][c];x[_0x37ca("0xf1b")][0][_0x37ca("0x0")]([x[_0x37ca("0x12c0")][_.a],x[_0x37ca("0x12c0")][_.b],x[_0x37ca("0x12c0")][_.c]])}x[_0x37ca("0xf1c")]=!0}(x),x.computeFaceNormals())},f=null,h=function(x){function a(x){(0,t.default)(this,a);var c=(0,n[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,e[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this)),i=c;return i[_0x37ca("0x12a5")]=null,i.maxUvVal=0,i.radius=1,i[_0x37ca("0x63f")]=12,i[_0x37ca("0x1299")]=1,(0,_[_0x37ca("0xe")])(i,x),i[_0x37ca("0x128e")]||(i[_0x37ca("0x112")]==esmap.ESLineMode.PLANE?i[_0x37ca("0x128e")]=.3:i[_0x37ca("0x112")]==esmap.ESLineMode.CIRCLE&&(i.yScale=1)),i[_0x37ca("0x9d2")]=(0,s[_0x37ca("0x1b8")])(i,_0x37ca("0x9d2"),!0),i.up||(i.up=new(THREE[_0x37ca("0xe2")])(0,1,0)),c._uvs=[],c[_0x37ca("0x12bd")]=[],d(i),c}return(0,r.default)(a,x),(0,i[_0x37ca("0xe")])(a,[{key:_0x37ca("0xa40"),value:function(x){for(var a,c=this,_=0,e=c._rings,t=1,i=0;i<e[_0x37ca("0x4")];i++){var n=e[i],r=c[_0x37ca("0x12a5")][i];if(r)for(var s=0;s<n.length;s++){var o=n[s];0==s&&1!=c.yScale&&(a=n[0][_0x37ca("0xde")]()[_0x37ca("0x2d7")](r)[_0x37ca("0x4")]()),1!=c.yScale&&(t=o.clone().sub(r)[_0x37ca("0x4")]()/a);var l=r.clone()[_0x37ca("0xe0")](o[_0x37ca("0xde")]()[_0x37ca("0x2d7")](r)[_0x37ca("0x2d8")]()[_0x37ca("0x26b")](x*t));c.vertices[_][_0x37ca("0x268")](l),_++}}x<.1&&(x=.1),c[_0x37ca("0x630")]=x,c[_0x37ca("0xa73")]=!0}}]),a}(THREE.Geometry);a[_0x37ca("0xe")]=h},function(x,a,c){"use strict";Object[_0x37ca("0x9")](a,_0x37ca("0xb"),{value:!0});var _=l(c(2)),e=l(c(4)),t=l(c(0)),i=l(c(1)),n=l(c(5)),r=l(c(6)),s=c(19),o=function(x){if(x&&x[_0x37ca("0xb")])return x;var a={};if(null!=x)for(var c in x)Object[_0x37ca("0x11")].hasOwnProperty[_0x37ca("0x6")](x,c)&&(a[c]=x[c]);return a.default=x,a}(c(365));function l(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}var u=function(x){function a(x){(0,t[_0x37ca("0xe")])(this,a);var c=(0,n[_0x37ca("0xe")])(this,(a[_0x37ca("0x1cd")]||(0,e[_0x37ca("0xe")])(a))[_0x37ca("0x6")](this,esmap[_0x37ca("0xe8")].CARD_MARKER,{},new(THREE[_0x37ca("0x148")])));return c[_0x37ca("0xbf5")]=!1,c[_0x37ca("0x12c1")]=!1,c[_0x37ca("0xea")](x),c}return(0,r.default)(a,x),(0,i.default)(a,[{key:_0x37ca("0xf14"),value:function(){this[_0x37ca("0xa5")][_0x37ca("0xed")]=!0,this[_0x37ca("0x12c1")]||(this[_0x37ca("0x12c1")]=!0)}},{key:_0x37ca("0x269"),value:function(){this[_0x37ca("0xa5")][_0x37ca("0xed")]=!1,this[_0x37ca("0x12c1")]||(this._locked=!0)}},{key:_0x37ca("0x250"),value:function(x){esmap.ESMapLabel[_0x37ca("0x11")].moveTo.call(this[_0x37ca("0xa5")],x)}},{key:_0x37ca("0x12c2"),value:function(){var x=this,a=arguments[_0x37ca("0x4")]>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},c=this[_0x37ca("0x36")];setTimeout((function(){o[_0x37ca("0x12c3")](x.domElement,a)[_0x37ca("0x792")]((function(x){var a=document[_0x37ca("0x22")]("a"),_=(0,s.base64ToBlob)(x);document.createEvent(_0x37ca("0x6fd")).initEvent(_0x37ca("0x9e3"),!0,!0),a.download=c[_0x37ca("0x1aa")],a[_0x37ca("0x77")]=URL[_0x37ca("0x849")](_),a[_0x37ca("0x9e3")]()}))}),a[_0x37ca("0x1b7")])}},{key:"init",value:function(x){var a=this,c=null,e=esmap[_0x37ca("0x34")][_0x37ca("0x35")].mode==esmap[_0x37ca("0x3c")][_0x37ca("0x210")]?20:12;for(var t in x)null==x[t]&&delete x[t];var i=(0,_[_0x37ca("0xe")])({id:(0,s.createHash)(8),name:_0x37ca("0x12c4"),url:null,dom:null,data:{},x:null,y:null,scale:30,angle:null,offsetHeight:0,templateSize:{width:256,height:256},template:null,opacity:1,lookAt:!0,animateTime:2,animateHeight:5,animateDelay:0,created:null,showLevel:e},x);if(this[_0x37ca("0x36")]=i,i.url)esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](i[_0x37ca("0x4a")],(function(x){a[_0x37ca("0x12c5")](x)}));else if(i[_0x37ca("0x12c6")])setTimeout((function(){a[_0x37ca("0x31a")]=i[_0x37ca("0x12c6")],o[_0x37ca("0x12c7")](i[_0x37ca("0x12c6")])[_0x37ca("0x792")]((function(x){var c=new(THREE[_0x37ca("0x416")])(x);a[_0x37ca("0x12c5")](c)}))[_0x37ca("0x828")]((function(x){console[_0x37ca("0x23b")](x)}))}),0);else if(i[_0x37ca("0x12c8")]){var n=document.createElement(_0x37ca("0x38c"));n.style[_0x37ca("0xb8")]=_0x37ca("0x6d9"),n[_0x37ca("0x24")][_0x37ca("0x172")]="-9999px",n[_0x37ca("0x11be")](_0x37ca("0x11bf"),i[_0x37ca("0x12c8")]),document[_0x37ca("0x26")][_0x37ca("0x27")](n),c=n[_0x37ca("0xa6")][0],setTimeout((function(){a[_0x37ca("0x31a")]=c,o.toCanvas(c,{})[_0x37ca("0x792")]((function(x){var c=new(THREE[_0x37ca("0x416")])(x);a[_0x37ca("0x12c5")](c)}))}),0)}}},{key:_0x37ca("0x12c5"),value:function(x){var a=this,c=!1;if(!this.inited){c=!0;var e=esmap.ESMap[_0x37ca("0x35")],t=this[_0x37ca("0x36")],i=x[_0x37ca("0x497")],n=i.width/i[_0x37ca("0x1a8")],r=new(THREE[_0x37ca("0x6a0")])(1,1/n);r[_0x37ca("0x133")](0,r[_0x37ca("0xb7")][_0x37ca("0xb8")][_0x37ca("0xb9")],0);var s=new(THREE[_0x37ca("0xfc")])({transparent:!0,side:2});s[_0x37ca("0xfd")]=t[_0x37ca("0xfd")];var o=this[_0x37ca("0xa5")];if(o[_0x37ca("0xa7")]=r,o.material=s,o.renderOrder=77,t.angle)if(t[_0x37ca("0x252")]instanceof Object){var l=(0,_[_0x37ca("0xe")])({x:0,y:0,z:0},t.angle);o.rotation.x=l.x*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],o[_0x37ca("0x1a3")].y=l.y*THREE[_0x37ca("0x249")][_0x37ca("0xad5")],o[_0x37ca("0x1a3")].z=l.z*THREE[_0x37ca("0x249")][_0x37ca("0xad5")]}else o[_0x37ca("0x1a3")].y=t[_0x37ca("0x252")]*THREE[_0x37ca("0x249")][_0x37ca("0xad5")];var u=(new(THREE[_0x37ca("0x302")]))[_0x37ca("0x3d4")](o),d=(u[_0x37ca("0x30d")].y-u.min.y)/2;o[_0x37ca("0xa7")].translate(0,d,0);var f=e.coordMapToThree({x:t.x,y:t.y});if(f.y=t[_0x37ca("0x28")],o[_0x37ca("0xb8")][_0x37ca("0x268")](f),o[_0x37ca("0xa4")]=this,o.type_="card",e.mapPicker[_0x37ca("0x183")](o),o[_0x37ca("0x22e")][_0x37ca("0x11d")](t[_0x37ca("0x22e")],t[_0x37ca("0x22e")],1),t[_0x37ca("0x25b")]&&e.on(_0x37ca("0x119"),(function(){o[_0x37ca("0x25b")](e[_0x37ca("0x186")][_0x37ca("0xb8")])})),0!=t[_0x37ca("0x12c9")]){var h=o[_0x37ca("0xb8")].y,g=new(esmap.TWEEN[_0x37ca("0x1bd")])(o.position).to({y:h+t[_0x37ca("0x12ca")]},1e3*t.animateTime).easing(esmap[_0x37ca("0x1c1")].Easing[_0x37ca("0x1be")].In),b=new(esmap[_0x37ca("0x1c1")][_0x37ca("0x1bd")])(o[_0x37ca("0xb8")]).to({y:h},1e3*t[_0x37ca("0x12c9")]).easing(esmap[_0x37ca("0x1c1")][_0x37ca("0x1c2")].Linear[_0x37ca("0x260")]);g.chain(b),b[_0x37ca("0xe1b")](g),setTimeout((function(){g[_0x37ca("0x1c6")]()}),1e3*t[_0x37ca("0x12cb")])}var v=e.mode==esmap[_0x37ca("0x3c")][_0x37ca("0x3d")],p=t[_0x37ca("0x223")];e.on(_0x37ca("0x12d"),(function(){if(!a._locked&&a[_0x37ca("0xa5")]){var x=v?e.zoomLevel:e.scaleLevel;if(p instanceof Array){var c=p[0],_=p[1];x>=c&&x<=_?a[_0x37ca("0xed")]||(a[_0x37ca("0xed")]=!0):a[_0x37ca("0xed")]&&(a[_0x37ca("0xed")]=!1)}else v?x<p?a[_0x37ca("0xed")]&&(a[_0x37ca("0xed")]=!1):a[_0x37ca("0xed")]||(a[_0x37ca("0xed")]=!0):x>p?a[_0x37ca("0xed")]&&(a[_0x37ca("0xed")]=!1):a[_0x37ca("0xed")]||(a.visible=!0)}})),this[_0x37ca("0xbf5")]=!0}x[_0x37ca("0x41f")]=THREE[_0x37ca("0x420")],this.o3d_.material[_0x37ca("0x39")]=x,this[_0x37ca("0xa5")][_0x37ca("0xa9")][_0x37ca("0x39")][_0x37ca("0x13a")]=!0,c&&this.options[_0x37ca("0x220")]&&this[_0x37ca("0x36")][_0x37ca("0x220")](this)}},{key:_0x37ca("0x39"),get:function(){return esmap[_0x37ca("0x34")].instance}},{key:"ID",get:function(){return this[_0x37ca("0x36")].id}},{key:_0x37ca("0x1aa"),get:function(){return this.options[_0x37ca("0x1aa")]}},{key:_0x37ca("0x3ba"),get:function(){return{x:this[_0x37ca("0x36")].x,y:this.options.y}}},{key:"Height",get:function(){return this.options[_0x37ca("0x28")]}},{key:_0x37ca("0x2e"),get:function(){return this[_0x37ca("0xa5")][_0x37ca("0xbb")][_0x37ca("0xbb")][_0x37ca("0xa4")]}},{key:_0x37ca("0x236"),get:function(){return this[_0x37ca("0x2e")][_0x37ca("0x236")]}},{key:_0x37ca("0x4a"),get:function(){return this[_0x37ca("0x36")].url},set:function(x){var a=this;this[_0x37ca("0x36")].url=x,esmap[_0x37ca("0x7b")][_0x37ca("0x58b")](x,(function(x){a[_0x37ca("0x12c5")](x)}))}}]),a}(esmap[_0x37ca("0x5c2")]);a.default=u},function(x,a,c){"use strict";var _,e,t,i,n,r,s,o,l,u,d,f,h=v(c(102)),g=v(c(97)),b=v(c(16));function v(x){return x&&x[_0x37ca("0xb")]?x:{default:x}}function p(x,a,c){c(x,a);for(var _=0;_<x[_0x37ca("0xa6")][_0x37ca("0x4")];_++)p(x[_0x37ca("0xa6")][_],a[_0x37ca("0xa6")][_],c)}THREE.SkeletonUtils={retarget:(s=new(THREE[_0x37ca("0xe2")]),o=new(THREE[_0x37ca("0x22f")]),l=new(THREE[_0x37ca("0xe2")]),u=new(THREE[_0x37ca("0x25a")]),d=new(THREE[_0x37ca("0x25a")]),f=new(THREE[_0x37ca("0x25a")]),function(x,a,c){(c=c||{})[_0x37ca("0x12cc")]=void 0===c[_0x37ca("0x12cc")]||c[_0x37ca("0x12cc")],c[_0x37ca("0x12cd")]=void 0===c[_0x37ca("0x12cd")]||c[_0x37ca("0x12cd")],c[_0x37ca("0x12ce")]=void 0!==c[_0x37ca("0x12ce")]&&c[_0x37ca("0x12ce")],c.useTargetMatrix=void 0!==c.useTargetMatrix&&c[_0x37ca("0x12cf")],c[_0x37ca("0x12d0")]=void 0!==c[_0x37ca("0x12d0")]?c[_0x37ca("0x12d0")]:_0x37ca("0x12d0"),c.names=c.names||{};var _,e,t,i,n,r,h=a.isObject3D?a.skeleton.bones:this[_0x37ca("0x12d1")](a),g=x[_0x37ca("0x12d2")]?x[_0x37ca("0x12d3")].bones:this[_0x37ca("0x12d1")](x);if(x.isObject3D?x[_0x37ca("0x12d3")][_0x37ca("0x12d4")]():(c[_0x37ca("0x12cf")]=!0,c[_0x37ca("0x12cc")]=!1),c[_0x37ca("0x12cd")])for(n=[],r=0;r<g[_0x37ca("0x4")];r++)n[_0x37ca("0x0")](g[r].position[_0x37ca("0xde")]());if(c[_0x37ca("0x12cc")])for(x[_0x37ca("0x6eb")](),x[_0x37ca("0x187")].identity(),r=0;r<x[_0x37ca("0xa6")][_0x37ca("0x4")];++r)x[_0x37ca("0xa6")][r][_0x37ca("0x6eb")](!0);if(c[_0x37ca("0x12d5")])for(_=[],r=0;r<g[_0x37ca("0x4")];++r)e=g[r],t=c[_0x37ca("0x12d6")][e[_0x37ca("0x1aa")]]||e[_0x37ca("0x1aa")],c.offsets&&c[_0x37ca("0x12d5")][t]&&(e[_0x37ca("0x245")].multiply(c[_0x37ca("0x12d5")][t]),e.matrix.decompose(e[_0x37ca("0xb8")],e[_0x37ca("0x232")],e.scale),e[_0x37ca("0x6eb")]()),_[_0x37ca("0x0")](e[_0x37ca("0x187")].clone());for(r=0;r<g[_0x37ca("0x4")];++r){if(e=g[r],t=c[_0x37ca("0x12d6")][e[_0x37ca("0x1aa")]]||e[_0x37ca("0x1aa")],i=this[_0x37ca("0x12d7")](t,h),f[_0x37ca("0x268")](e[_0x37ca("0x187")]),i){if(i[_0x37ca("0x6eb")](),c[_0x37ca("0x12cf")]?d.copy(i.matrixWorld):(d[_0x37ca("0x6ec")](x.matrixWorld),d.multiply(i[_0x37ca("0x187")])),l[_0x37ca("0x12d8")](d),d.scale(l[_0x37ca("0x11d")](1/l.x,1/l.y,1/l.z)),f[_0x37ca("0x12d9")](o[_0x37ca("0x25d")](d)),x[_0x37ca("0x12d2")]){var b=g[_0x37ca("0xda")](e),v=_?_[b]:u.getInverse(x[_0x37ca("0x12d3")][_0x37ca("0x12da")][b]);f[_0x37ca("0x281")](v)}f[_0x37ca("0x6e6")](d)}e[_0x37ca("0xbb")]&&e[_0x37ca("0xbb")][_0x37ca("0x12db")]?(e[_0x37ca("0x245")][_0x37ca("0x6ec")](e.parent[_0x37ca("0x187")]),e[_0x37ca("0x245")][_0x37ca("0x281")](f)):e.matrix[_0x37ca("0x268")](f),c.preserveHipPosition&&t===c.hip&&e.matrix[_0x37ca("0x246")](s.set(0,e[_0x37ca("0xb8")].y,0)),e[_0x37ca("0x245")][_0x37ca("0x12dc")](e[_0x37ca("0xb8")],e[_0x37ca("0x232")],e.scale),e[_0x37ca("0x6eb")]()}if(c[_0x37ca("0x12cd")])for(r=0;r<g[_0x37ca("0x4")];++r)e=g[r],(t=c.names[e.name]||e[_0x37ca("0x1aa")])!==c.hip&&e[_0x37ca("0xb8")][_0x37ca("0x268")](n[r]);c.preserveMatrix&&x[_0x37ca("0x6eb")](!0)}),retargetClip:function(x,a,c,_){(_=_||{})[_0x37ca("0x12dd")]=void 0!==_[_0x37ca("0x12dd")]&&_[_0x37ca("0x12dd")],_[_0x37ca("0x12de")]=void 0!==_[_0x37ca("0x12de")]?_.fps:30,_[_0x37ca("0x12d6")]=_[_0x37ca("0x12d6")]||[],a[_0x37ca("0x12d2")]||(a=this[_0x37ca("0x12df")](a));var e,t,i,n,r,s,o=Math[_0x37ca("0x1cc")](c.duration*(_[_0x37ca("0x12de")]/1e3)*1e3),l=1/_[_0x37ca("0x12de")],u=[],d=new(THREE[_0x37ca("0x2a1")])(a),f=this[_0x37ca("0x12d1")](x.skeleton),h=[];for(d[_0x37ca("0x2a3")](c)[_0x37ca("0x2ba")](),d.update(0),a.updateMatrixWorld(),r=0;r<o;++r){var g=r*l;for(this[_0x37ca("0x12e0")](x,a,_),s=0;s<f[_0x37ca("0x4")];++s)n=_[_0x37ca("0x12d6")][f[s][_0x37ca("0x1aa")]]||f[s][_0x37ca("0x1aa")],this[_0x37ca("0x12d7")](n,a[_0x37ca("0x12d3")])&&(t=f[s],i=h[s]=h[s]||{bone:t},_[_0x37ca("0x12d0")]===n&&(i.pos||(i[_0x37ca("0x3e8")]={times:new Float32Array(o),values:new Float32Array(3*o)}),_[_0x37ca("0x12dd")]&&(0===r&&(e=t.position[_0x37ca("0xde")]()),t[_0x37ca("0xb8")][_0x37ca("0x2d7")](e)),i[_0x37ca("0x3e8")].times[r]=g,t[_0x37ca("0xb8")][_0x37ca("0x12e1")](i[_0x37ca("0x3e8")].values,3*r)),i[_0x37ca("0x12e2")]||(i[_0x37ca("0x12e2")]={times:new Float32Array(o),values:new Float32Array(4*o)}),i[_0x37ca("0x12e2")][_0x37ca("0x1b5")][r]=g,t[_0x37ca("0x232")][_0x37ca("0x12e1")](i[_0x37ca("0x12e2")].values,4*r));d[_0x37ca("0x119")](l),a[_0x37ca("0x6eb")]()}for(r=0;r<h[_0x37ca("0x4")];++r)(i=h[r])&&(i[_0x37ca("0x3e8")]&&u[_0x37ca("0x0")](new(THREE[_0x37ca("0x895")])(".bones["+i.bone[_0x37ca("0x1aa")]+_0x37ca("0x12e3"),i.pos[_0x37ca("0x1b5")],i[_0x37ca("0x3e8")][_0x37ca("0x843")])),u[_0x37ca("0x0")](new(THREE[_0x37ca("0x894")])(_0x37ca("0x12e4")+i[_0x37ca("0x12e5")][_0x37ca("0x1aa")]+_0x37ca("0x12e6"),i.quat[_0x37ca("0x1b5")],i[_0x37ca("0x12e2")][_0x37ca("0x843")])));return d[_0x37ca("0x12e7")](c),new THREE.AnimationClip(c.name,-1,u)},getHelperFromSkeleton:function(x){var a=new(THREE[_0x37ca("0x12e8")])(x[_0x37ca("0x12e9")][0]);return a[_0x37ca("0x12d3")]=x,a},getSkeletonOffsets:(_=new(THREE[_0x37ca("0xe2")]),e=new(THREE[_0x37ca("0xe2")]),t=new(THREE[_0x37ca("0xe2")]),i=new(THREE[_0x37ca("0xe2")]),n=new THREE.Vector2,r=new(THREE[_0x37ca("0x563")]),function(x,a,c){(c=c||{})[_0x37ca("0x12d0")]=void 0!==c.hip?c[_0x37ca("0x12d0")]:_0x37ca("0x12d0"),c[_0x37ca("0x12d6")]=c.names||{},a[_0x37ca("0x12d2")]||(a=this.getHelperFromSkeleton(a));var s,o,l,u,d=(0,b[_0x37ca("0xe")])(c.names),f=(0,g[_0x37ca("0xe")])(c.names),h=a[_0x37ca("0x12d2")]?a[_0x37ca("0x12d3")][_0x37ca("0x12e9")]:this[_0x37ca("0x12d1")](a),v=x[_0x37ca("0x12d2")]?x.skeleton[_0x37ca("0x12e9")]:this[_0x37ca("0x12d1")](x),p=[];for(x[_0x37ca("0x12d3")].pose(),u=0;u<v[_0x37ca("0x4")];++u)if(s=v[u],l=c.names[s[_0x37ca("0x1aa")]]||s.name,(o=this[_0x37ca("0x12d7")](l,h))&&l!==c[_0x37ca("0x12d0")]){var A=this[_0x37ca("0x12ea")](s.parent,d),m=this[_0x37ca("0x12ea")](o.parent,f);A[_0x37ca("0x6eb")](),m[_0x37ca("0x6eb")](),_[_0x37ca("0x6f1")](A.matrixWorld),e[_0x37ca("0x6f1")](s.matrixWorld),t.setFromMatrixPosition(m[_0x37ca("0x187")]),i[_0x37ca("0x6f1")](o.matrixWorld),n[_0x37ca("0x8b2")](new(THREE[_0x37ca("0x563")])(e.x,e.y),new THREE.Vector2(_.x,_.y)).normalize(),r[_0x37ca("0x8b2")](new(THREE[_0x37ca("0x563")])(i.x,i.y),new(THREE[_0x37ca("0x563")])(t.x,t.y)).normalize();var C=n.angle()-r[_0x37ca("0x252")](),I=(new(THREE[_0x37ca("0x25a")]))[_0x37ca("0x25c")](new(THREE[_0x37ca("0x231")])(0,0,C));s[_0x37ca("0x245")][_0x37ca("0x281")](I),s[_0x37ca("0x245")][_0x37ca("0x12dc")](s[_0x37ca("0xb8")],s[_0x37ca("0x232")],s[_0x37ca("0x22e")]),s[_0x37ca("0x6eb")](),p[l]=I}return p}),renameBones:function(x,a){for(var c=this.getBones(x),_=0;_<c[_0x37ca("0x4")];++_){var e=c[_];a[e[_0x37ca("0x1aa")]]&&(e[_0x37ca("0x1aa")]=a[e.name])}return this},getBones:function(x){return Array[_0x37ca("0x474")](x)?x:x[_0x37ca("0x12e9")]},getBoneByName:function(x,a){for(var c=0,_=this[_0x37ca("0x12d1")](a);c<_.length;c++)if(x===_[c][_0x37ca("0x1aa")])return _[c]},getNearestBone:function(x,a){for(;x.isBone;){if(-1!==a[_0x37ca("0xda")](x[_0x37ca("0x1aa")]))return x;x=x[_0x37ca("0xbb")]}},findBoneTrackData:function(x,a){for(var c=/\[(.*)\]\.(.*)/,_={name:x},e=0;e<a.length;++e){var t=c[_0x37ca("0x12eb")](a[e][_0x37ca("0x1aa")]);t&&x===t[1]&&(_[t[2]]=e)}return _},getEqualsBonesNames:function(x,a){var c=this.getBones(x),_=this[_0x37ca("0x12d1")](a),e=[];x:for(var t=0;t<c[_0x37ca("0x4")];t++)for(var i=c[t][_0x37ca("0x1aa")],n=0;n<_[_0x37ca("0x4")];n++)if(i===_[n][_0x37ca("0x1aa")]){e[_0x37ca("0x0")](i);continue x}return e},clone:function(x){var a=new(h[_0x37ca("0xe")]),c=new(h[_0x37ca("0xe")]),_=x[_0x37ca("0xde")]();return p(x,_,(function(x,_){a[_0x37ca("0x11d")](_,x),c.set(x,_)})),_[_0x37ca("0xb6")]((function(x){if(x[_0x37ca("0x86a")]){var _=x,e=a[_0x37ca("0x34a")](x),t=e[_0x37ca("0x12d3")][_0x37ca("0x12e9")];_[_0x37ca("0x12d3")]=e[_0x37ca("0x12d3")][_0x37ca("0xde")](),_[_0x37ca("0x12ec")].copy(e.bindMatrix),_[_0x37ca("0x12d3")][_0x37ca("0x12e9")]=t[_0x37ca("0x39")]((function(x){return c[_0x37ca("0x34a")](x)})),_[_0x37ca("0x10")](_[_0x37ca("0x12d3")],_[_0x37ca("0x12ec")])}})),_}}}]));

/*ESWorldTools 2.0 2023-3-7 5:34:06 ├F10: PM┤*/
var _0x29bc=['isLine','isSprite','bVisible','STENCIL_TEST','changeVisibilityOfSelectedObjects','updateTextureMatrix','changeVisibilityOfNonSelectedObjects','cameraNearFar','depthTexture','overlayMaterial','edgeTexture1','edgeTexture2','varying\x20vec4\x20vPosition;','uniform\x20mat4\x20textureMatrix;','\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','varying\x20vec4\x20projTexCoord;','uniform\x20sampler2D\x20depthTexture;','uniform\x20vec2\x20cameraNearFar;','\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);','\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;','\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','shadowConfigs','shadowCameraHelper','spherical','Spherical','farFactor','setShadowLight','mapHeight','LightShadow','normalBias','bias','mapWidth','mapSize','CameraHelper','shadowLight','setRoomShadow','initTileMapShadow','PCFSoftShadowMap','config','posX','posY','posZ','targetX','updateTileShadow','Height','bType','castMinHeight','-receiveShadow','-shadow','setModelObjShadowConfig','__no_receive_shadow','__no_cast_shadow','__no_shadow','setMergeMeshShadow','customDepthMaterial','activeShadow','setFromUnitVectors','applyQuaternion','exp2','FogExp2','density','showProjectorRange','updateCameraTarget','allMarkerList','_update','container_','sortObjects','autoRotate','autoRotateSpeed','off','backToMapControls','resetGroundPickView','setGroundPick','imgPath','images/out_light4.png','pickAnimateObj','face','isLockGroundPick','updateGroundPick','checkIsCanMove','transformDirection','flytoGroundPickPos3','maxDistance','InOut','flytoGroundPickPos2','getPolarAngle','getAzimuthalAngle','flytoGroundPickPos','testPoints','removeGroundPick','disposeMesh','orbitCameraFlyTo','domElement','maxPolarAngle','maxAzimuthAngle','enableDamping','dampingFactor','zoomSpeed','enableRotate','panSpeed','keyPanSpeed','enableKeys','mouseButtons','MOUSE','LEFT','MIDDLE','RIGHT','target0','position0','zoom0','zoom','saveState','NONE','inverse','setFromVector3','forceTheta','forcePhi','radioFactor','minAzimuthAngle','minPolarAngle','makeSafe','setFromSpherical','distanceToSquared','quaternion','contextmenu','mousedown','wheel','touchstart','touchmove','mousemove','mouseup','keydown','change','setFromMatrixColumn','body','clientHeight','isOrthographicCamera','clientWidth','minZoom','maxZoom','clientY','preventDefault','focus','ctrlKey','metaKey','PAN','ROTATE','DOLLY','stopPropagation','deltaY','keyCode','BOTTOM','touches','pageX','pageY','TOUCH_ROTATE','TOUCH_DOLLY_PAN','miniMapImgHeight','img','onload','div','relative','absolute','all','transformOrigin','px\x20','floorEdges','maxx','minx','maxy','miny','deg)','innerHTML','beginTime','_tempFrameRateList','_tempResultList','prevTime','trimmedMean','sort','reduce','mark','wrap','prev','sleep','computeAverageFps','stop','regeneratorRuntime','@@asyncIterator','@@toStringTag','_invoke','Generator\x20is\x20already\x20running','method','arg','delegate','throw','The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method','resultName','nextLoc','iterator\x20result\x20is\x20not\x20an\x20object','sent','_sent','dispatchException','abrupt','__await','catchLoc','finallyLoc','afterLoc','tryEntries','completion','suspendedStart','suspendedYield','completed','displayName','isGeneratorFunction','GeneratorFunction','awrap','AsyncIterator','async','Generator','[object\x20Generator]','reverse','tryLoc','try\x20statement\x20without\x20catch\x20or\x20finally','break','continue','rval','illegal\x20catch\x20attempt','searchEffectMarker','names','ES3DMarker','ESModel3D','setOutline','removeOutline','setFrameLine','showBoatFoam','setUvTransform','ESPolygonMarker','setBloomLight','ESLineMarker','ESFloorManager','getEffectLayersByNames','TWEEN','_tweensAddedDuringUpdate','_tweens','getId','_isPlaying','_nextId','nextId','hrtime','performance','_valuesStart','_valuesStartRepeat','_duration','_repeat','_repeatDelayTime','_yoyo','_reversed','_delayTime','_startTime','_easingFunction','Interpolation','_chainedTweens','_onStartCallback','_onStartCallbackFired','_onUpdateCallback','_onRepeatCallback','_onStopCallback','_group','_valuesEnd','_object','stopChainedTweens','_interpolationFunction','_onCompleteCallback','Bounce','Utils','CatmullRom','setTimeout\x20has\x20not\x20been\x20defined','run','fun','title','browser','argv','version','addListener','once','removeListener','removeAllListeners','prependListener','listeners','binding','process.binding\x20is\x20not\x20supported','cwd','chdir','process.chdir\x20is\x20not\x20supported','umask','tileType','amap','tileUrl','levelOffset','tileSourceLevelOffset','levelMax','tileSourceMaxLevel','levelExtent','tileSourceLevelExtent','getControlsInfo','tileTheme','isOpenControllerInertia','tileSourceZoom','Extent','EPSG:3857','DEFAULT_THEME','waterOriginColor','waterSkyTexture','waterSkyTexPath','PlanarView','tileThemeConfigs','tileMapView','camera3D','resetControls','moveToAnimate','levelChange','getSkybox','controlstart','MODE_2D','isMouseWheeling','ESViewMode','viewMode','updateTileView','viewMode_','MODE_3D','getShadow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tileModelInited','maxSubdivisionLevel','isOpenTileFrozen','16px','5px','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','4px','https://www.esmap.cn/','_blank','#000','textDecoration','innerText','google.cn','\x20|\x20©\x20谷歌地图\x20','http://www.google.cn','autonavi.com','https://map.amap.com/doc/serviceitem.html','tianditu.gov.cn','\x20|\x20©\x20天地图\x20','https://map.tianditu.gov.cn','geoq.cn','\x20|\x20©\x20GeoQ\x20','http://www.geoq.cn/index.html','text','href','link','paddingRight','100%','backgroundColor','_toggleTileLoadingMask','block','TMSSource','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','TMS_Map','GCJ02','Google','currLayer','_tileUpdateLock','flyFocusTo','cameraAnimateStart','_earthZoom','_tempMaxPolarAngle','pitchAnimate','delay','Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined','cameraFlyToHelper','zoomLevelTo','scaleLevel','preLoadBuildingId','setControlsInfo','getEarthZoomRadius','startZoom','initCameraPos','defaultAngle','maxNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','checkIsUseNearGroundPolarAngle','scaleLevelAnimate','targetLevel','initPitchAngle','cursor','wait','pointToPointAnimate','openTileClick','tileClickDebug','dblclick','tileMapInitComplete','tileClick','registerClickEvent','pickableBuildings','beforeLoad','planar','__trl','tile\x20url\x20domain\x20is\x20not\x20permission','tileurl','updateTile','tileScene_','ESTileMap\x20Theme\x20need\x20','isChangeDefaultTheme','skyColor','colorMapping','createColorMapping','steps','colors','contrast','hue','saturation','tileWater','waterReplaceColor','sparklingColor','waterSparklingColor','Tools','getLoLaFromWorldPos','minLevel','minEarthZoom','maxLevel','maxEarthZoom','isLockEarthZoom','_minEarthZoom','_maxEarthZoom','_isOpenAlpha','_isSetAlpha','_alpha','_sortOrder','tileView','_mousedown','mouseDown','_mousemove','mouseMove','_touchmove','_touchend','mouseUp','isMouseMove','moveCount','_mouseup','touchend','srcElement','offsetX','DataTexture','call','exports','defineProperty','undefined','toStringTag','__esModule','object','create','default','string','bind','prototype','hasOwnProperty','/dist/','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','length','enumerable','writable','key','function','virtual','Math','return\x20this','Symbol','Symbol.','store','get','set','value','apply','keys','toString','slice','Symbol(','concat','coordMapToThree','ESMap','directionFromAlphaBeta','getConfigAssetsPath','selectCityMapEffectConfigPath','getMaterialByRoomStyle','getOutdoorBuildingTheme','getMapInstance','setPositionFromMc','coordTransToThree','innerCoordTransToThree','MapMode','mapScene','sceneX_','sceneZ_','checkIsCityEngine','ESMapUtil','getVersion','CommonConstant','Engine','Park','getBuiding','mode','City','mapTheme','themeList','themeID','roomStyle','datas_','RoomStyle','material','userData','index','onlineEffectThemeId','effectId','effectThemeId','options','tid','serverUrl','mapDataSrc','/worldeffect/','/EsmapTileData/','selectBuildingMapEffectConfigPath','Effect','/effects/','indexOf','ESEffectTool','configPath','configUserPath','switchConfigPath','clearShaderCode','vertexShader','fragmentShader','sin','cos','getOS','test','userAgent','Expected\x20a\x20function','cannel','split','Array','Can\x27t\x20call\x20method\x20on\x20\x20','IE_PROTO','display','none','appendChild','src','document','open','write','close','\x20is\x20not\x20a\x20function!','floor','__core-js_shared__','versions','push','pure','©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf','valueOf','Can\x27t\x20convert\x20object\x20to\x20primitive\x20value','createElement','iterator','next','values','\x20Iterator','entries','name','charAt','min','Undefined','Null','Arguments','getOwnPropertySymbols','propertyIsEnumerable','String','symbol','constructor','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','__proto__','\x20is\x20not\x20iterable!','done','RETURN','@@iterator','isExtensible','NEED','_listeners','splice','type','target','EventDispatcher','textureLoader','TextureLoader','textureList','load','checkTextureIsLoaded','path','return','textureLoad','loadSixPicCubeTexture','CubeTextureLoader','loadTexture','getOwnPropertyNames','getOwnPropertyDescriptor','BoatFoam','ModelFresnelEffect','ModelLightBlend','ModelBlendEffect','GroundBlend','ProjectionVideo','ESInstanceMesh','TextureUvAnimation','RoomTexture','PlaneVideo','ClearSkyGround','CirclePlane','GroundTexture','WaterShape','ActiveSprite','EnvTextureLoader','GeometryMirro','PlaneCrossLine','MulripleMeshLine','FloatPoints','WaterSpread','Fire','Smoke','FireSmoke','EdgeLineEffect','ScrollWallEffect','ExtentWallEffect','SphereSpreadEffect','NumberUpEffect','MultiRadianRotateEffect','CylinderSpreadEffect','CircleRippleEffect','MultiCircleBreath','UnderGroundLine','Points','PointsLine','CurveLinkLine','CircleRotateYMarker','CylinderFloatMarker','CubeFloatMarker','CameraFlyTo','BuildingsTexture2','BuildingsTexture','SelectPoint','MapTileWater','ClearSky','CubeSkybox','Skybox','ModelUvAnimation','MoveObjBipsEffect','PlaneWindEffect','PlaneFogEffect','GroundPoints','ModelTerrain','documentElement','getPrototypeOf','dispose','map','geometry','traverse','remove','parent','Object','isArray',':\x20incorrect\x20invocation!','charCodeAt','getIterator','Bad\x20Promise\x20constructor','TypedArrayHelper','componentSize','TypedArrayConstructor','indexOffset','setSize','array','shrink','grow','info','Will\x20not\x20resize.','size','setFromArray','setVec2','setVec2Components','setVec3','setVec4','setVec4Components','setMat3','elements','setMat4','setColor','subarray','ShaderAttribute','typeSizeMap','arrayType','typedArray','dynamicBuffer','updateMin','updateMax','max','flagUpdate','updateRange','count','bufferAttribute','dynamic','forceUpdateAll','needsUpdate','_ensureTypedArray','_createBufferAttribute','REVISION','itemSize','BufferAttribute','getLength','shaderChunks','#define\x20PACKED_COLOR_SIZE\x20256.0','#define\x20PACKED_COLOR_DIVISOR\x20255.0','join','uniform\x20float\x20runTime;','uniform\x20sampler2D\x20texture1;','uniform\x20vec4\x20textureAnimation;','attribute\x20vec4\x20acceleration;','attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;','attribute\x20vec4\x20params;','attribute\x20vec4\x20size;','attribute\x20vec4\x20opacity;','varying\x20vec4\x20vColor;','#ifdef\x20SHOULD_ROTATE_TEXTURE','#endif','#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;','float\x20when_lt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{','\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','float\x20when_le(float\x20x,\x20float\x20y)\x20{','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20a\x20*\x20b;','float\x20or(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','\x20\x20\x20return\x20c;','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;','\x20\x20\x20\x20for(\x20int\x20i\x20=\x200;\x20i\x20<\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201;\x20++i\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20fIndex\x20=\x20float(\x20i\x20);','\x20\x20\x20\x20\x20\x20\x20shouldApplyValue\x20=\x20and(\x20when_gt(\x20deltaAge,\x20fIndex\x20),\x20when_le(\x20deltaAge,\x20fIndex\x20+\x201.0\x20)\x20);','\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20shouldApplyValue\x20*\x20mix(\x20attr[\x20i\x20],\x20attr[\x20i\x20+\x201\x20],\x20deltaAge\x20-\x20fIndex\x20);','\x20\x20\x20\x20}','\x20\x20\x20\x20return\x20value;','\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);','float\x20getAge()\x20{','float\x20getMaxAge()\x20{','\x20\x20\x20return\x20params.z;','float\x20getWiggle()\x20{','\x20\x20\x20return\x20params.w;','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20return\x20velocity\x20*\x20age;','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20vec3\x20translated;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20}','\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);','defines','uniforms','varyings','common','logdepthbuf_pars_vertex','ShaderChunk','fog_pars_vertex','branchAvoidanceFunctions','unpackColor','unpackRotationAxis','floatOverLifetime','colorOverLifetime','paramFetchingFunctions','forceFetchingFunctions','rotationFunctions','void\x20main()\x20{','\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);','\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20pos\x20+=\x20force;','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)','\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20#else','\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;','logdepthbuf_vertex','logdepthbuf_pars_fragment','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20','\x20\x20\x20\x20#ifdef\x20ALPHATEST','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','rotateTexture','logdepthbuf_fragment','\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);','boolean','number','ensureTypedArg','ensureInstanceOf','_value','_spread','clamp','interpolateArray','clone','ceil','lerpTypeAgnostic','random','types','NUMBER','lerp','Vector3','Vector4','Color','abs','roundToNearestMultiple','setVec3Components','sqrt','randomFloat','round','normalize','copy','multiplyScalar','add','setRGB','Group','utils','OBJECT','texture','uuid','fixedTimeStep','Texture','textureFrames','frames','Vector2','textureFrameCount','frameCount','textureLoop','loop','hasPerspective','colorize','BOOLEAN','maxParticleCount','blending','AdditiveBlending','alphaTest','depthWrite','depthTest','fog','scale','emitters','emitterIDs','_pool','_poolCreationSettings','_createNewWhenPoolEmpty','_attributesNeedRefresh','_attributesNeedDynamicReset','particleCount','attributes','attributeCount','attributeKeys','ShaderMaterial','shaders','vertex','fragment','transparent','BufferGeometry','mesh','_updateDefines','SHOULD_CALCULATE_SPRITE','SHOULD_ROTATE_TEXTURE','spread','SHOULD_ROTATE_PARTICLES','rotation','angle','angleSpread','SHOULD_WIGGLE_PARTICLES','wiggle','_applyAttributesToGeometry','setDrawRange','addEmitter','Emitter','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','error','Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.','_setBufferUpdateRanges','_setAttributeOffset','_assignPositionValue','_assignForceValue','velocity','_assignAbsLifetimeValue','opacity','_assignAngleValue','_assignRotationValue','_assignParamsValue','_assignColorValue','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','attributeOffset','params','_onRemove','getFromPool','releaseIntoPool','reset','unshift','getPool','addPool','position','maxAge','_triggerSingleEmitter','_updateUniforms','runTime','deltaTime','_updateBuffers','bufferUpdateRanges','setUpdateRange','tick','_resetBufferRanges','resetDynamic','valueOverLifetimeLength','acceleration','radius','drag','color','onParticleSpawn','distributions','BOX','spreadClamp','distribution','randomise','radiusScale','axis','axisSpread','center','ensureArrayInstanceOf','ensureArrayTypedArg','duration','isStatic','activeMultiplier','direction','alive','particlesPerSecond','activationIndex','attributeEnd','activeParticleCount','group','paramsArray','resetFlags','updateFlags','updateCounts','updateMap','ensureValueOverLifetimeCompliance','_rotationCenter','_randomise','NEGATIVE_INFINITY','_calculatePPSValue','activationEnd','_assignValue','_distribution','randomVector3','_spreadClamp','SPHERE','randomVector3OnSphere','_radius','_distributionClamp','DISC','_radiusScale','randomDirectionVector3OnSphere','randomDirectionVector3OnDisc','arrayValuesAreEqual','_axis','_axisSpread','_angle','_angleSpread','_static','rotationCenter','_center','randomColorAsHex','_resetParticle','_updateAttributeUpdateRange','bufferUpdateKeys','bufferUpdateCount','POSITIVE_INFINITY','age','_decrementParticleCount','_incrementParticleCount','_checkParticleAges','_activateParticles','disable','Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.','JSON','stringify','toPrimitive','symbol-registry','symbols','op-symbols','QObject','findChild','Symbol\x20is\x20not\x20a\x20constructor!','hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables','\x20is\x20not\x20a\x20symbol!','[null]','[object\x20Window]','asyncIterator','Incompatible\x20receiver,\x20','\x20required!','ESModelEffectConstant','ESParkConstant','ESTileConstant','ESMarkerLevel','ESMarkerType','cube_float','cylinder_float','circle_rotate','circle_ripple','circle_bips','circles_radian_rotate','circle_breath','sphere_spread','transfer_line','points','underground_line','extent_wall','smoke','fire','water_spread','float_points','routes_line','up_line','plane_video','guide_line','plane_wind','INDOOR','PARK','CITY','dark','style1','style2','light','technology','lineframe','species','assign','abcdefghijklmnopqrst','forEach','data','setImmediate','clearImmediate','Dispatch','nextTick','now','port2','postMessage','addEventListener','importScripts','message','script','removeChild','promise','requestEffectThemeConfig','jsonFileLoader','FileLoader','parse','effects.json','setStandardMaterialParams','roughness','metalness','envMapIntensity','mirrorReflection','from','view','controls','isFlying','flyTo','moveSpeed','radiusFactor','pitchAngle','ESDirection','distanceTo','_cameraSphericalRadius','NORTH','SOUTH','WAST','EAST','NORTH_WEST','SOUTH_EAST','SOUTH_WEST','flyToAnimate','p2pFlyFocusTo','cameraPosition','time','callback','tileUpdateCallbacks','toggleControlsLock','degToRad','Tween','easing','Easing','Quadratic','onStart','start','onUpdate','update','checkScaleLevel','complete','Out','enablePan','enableZoom','setPrototypeOf','clear','getConstructor','setStrong','defineProperties','imageWidth','xCount','timer','imageHeight','xSize','ySize','yCount','fps','xIndex','yIndex','repeat','getElapsedTime','offset','getSegementPoints','_getSegementPointsForVec3','_index','sub','height','createMaterial','colorStr','setStyle','dashArray','dashOffset','dashRatio','resolution','sizeAttenuation','near','camera','DoubleSide','makeSquare','Geometry','vertices','makeLineGeometry','MeshLine','taper','setGeometry','wavy','addLine','meshLines','linear','parabolic','Mesh','lineMaterial','renderOrder','object3d','getAngleToNextLine','lastAngle','addLineGeometry','tempDir','subVectors','tempEndPoint','angleTo','collectPoints','children','addAttribute','merge','Matrix4','makeScale','applyMatrix','MeshNormalMaterial','intersectObject','point','removeLine','disposeChilds','setResizeListen','resize','width','disposeAll','useFadeOut','fadeOutFactor','visible','#FFFFFF','lineWidth','speed','isCanChangeStyle','Object3D','wrapT','RepeatWrapping','tempStartPoint','container','eventName','click','layer','_handleGetPos','removeEventListener','getOffsetX','event','getBoundingClientRect','clientX','left','getOffsetY','pickPosition','lonLanToMc','CoordTransform','getWorldPosFromLoLa','google','mcToLonLan','Promise','process','resolve','then','Chrome/66','reject','emit','onrejectionhandled','enter','exit','Promise-chain\x20cycle','unhandledRejection','onunhandledrejection','console','Unhandled\x20promise\x20rejection','fail','domain','catch','MutationObserver','WebKitMutationObserver','navigator','standalone','observe','Set','def','positions','previous','side','indices_array','uvs','counters','buffer','UniformsLib','meshline_vert','meshline_frag','MeshLineMaterial','useMap','alphaMap','useAlphaMap','visibility','useChange','setMatrixWorld','matrixWorld','widthCallback','raycast','Sphere','boundingSphere','computeBoundingSphere','applyMatrix4','ray','intersectSphere','getInverse','LineSegments','fromArray','distanceSqToSegment','origin','far','compareV3','copyV3','copyArray','setIndex','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;','attribute\x20vec3\x20changeColor;','attribute\x20float\x20side;','attribute\x20float\x20counters;','uniform\x20vec2\x20resolution;','uniform\x20float\x20lineWidth;','uniform\x20vec3\x20color;','uniform\x20float\x20near;','uniform\x20float\x20sizeAttenuation;','varying\x20vec2\x20vUV;','varying\x20vec3\x20vChangeColor;','varying\x20float\x20vCounters;','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;','\x20\x20\x20\x20res.x\x20*=\x20aspect;','\x20\x20\x20\x20return\x20res;','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);','\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20vec2\x20dir;','\x20\x20\x20\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','fog_vertex','uniform\x20sampler2D\x20map;','uniform\x20sampler2D\x20alphaMap;','uniform\x20float\x20useMap;','uniform\x20float\x20useDash;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20alphaTest;','uniform\x20float\x20fadeOutFactor;','uniform\x20float\x20useChange;','uniform\x20vec2\x20repeat;','uniform\x20vec2\x20offset;','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);','\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','fog_fragment','isMeshLineMaterial','useDash','originColor','replaceColor','updateView','isShowWater','tileLayer','updateLayerNodesMaterial','isSpread','shaderMesh','onBeforeCompile','texture1','replace','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shader','PlaneBufferGeometry','render','#FF0000','deltaSpeed','MeshBasicMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20green\x20=\x20vec3(1.00,0.38,0.227);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(\x20length(vModelPos.xy)\x20<\x20200.0\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20bip2(vModelPos.xy,vec2(0.0,\x200.0))\x20*\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20bip2(vModelPos.xy,vec2(0.0,\x200.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#58ecff','iTime','segment','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','CircleBufferGeometry','isShowConeScan','coneMaterial','sphere','isCanUpdateAnimate','testBox','lookAtPoint','upDelta','downDelta','coneGroup','coneMesh1','coneMesh2','cone1','coneTex','#ffeb3b','magFilter','LinearMipMapLinearFilter','LinearFilter','minFilter','wrapS','SphereBufferGeometry','addCones','rotateX','cone2','lookAt','animate','lookAtAnimate','Linear','alphaTex','lookAtPos','texOffsetY','isCanUpdate','list','extentRadius','exRadius','#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttribute','randFloat','Float32BufferAttribute','frustumCulled','createRandomObj','lineHeight','lineNumber','setLookAtCamera','isNeedUpdateLookAt','end','aoTexture','gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20activeColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20aoTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(0.5\x20-\x20nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(0.5\x20-\x20nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20cUv\x20=\x20vec2(x,\x20y);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20aoTexColor\x20=\x20texture2D(aoTexture,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x201.0\x20-\x20(dot(cUv,\x20cUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d\x20+=\x20iTime\x20/\x203.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d\x20*=\x207.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colors\x20=\x20activeColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20aoTexColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20m\x20=\x20fract(d);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x202.0\x20*\x20(m\x20-\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x201.0\x20-\x20abs(m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x20smoothstep(0.0,\x201.0,\x20m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20m;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20rCol\x20=\x20vec4(\x20col.rgb,\x20\x20resultColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rCol.rgb\x20*=\x20colors;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rCol\x20=\x20mix(rCol,\x20texColor,\x20texColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20rCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSprite','Sprite','enabled','shaderParticleEngine','fireSmokeParticle','fireParticle','emitter','centerGroup','_visible','innerTex','outTex','spreadFactor','NormalBlending','fireSmokeEmitter','fogColor','fireEmitter','outfire','particleGroup','waterFlux','dirAngle','debug','AxesHelper','rotateY','closeWater','hypot','lineTexture','rippleTexture','initTexture','line','startRipple','endRipple','startPos','maxHeight','isDoubleSide','createRipple','CatmullRomCurve3','centripetal','TubeBufferGeometry','gapDistance','#ffffff','pointSize','deltaDistance','routePoints','currIndex','InterleavedBufferAttribute','cIndex','uniform\x20float\x20scale;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_addTestBox','emissive','animateHandle','_moveObjToTarget','None','autoScale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20sin(iTime\x20*\x205.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x\x20*\x20scaleSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y\x20*\x20scaleSize);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(texture1,\x20vec2(x,\x20y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSkybox','createTextureCube','ShaderLib','cube','BoxBufferGeometry','scene','format','RGBFormat','mapping','CubeReflectionMapping','encoding','mapView','textureCube','gradientShader','skyBox','canUpdate','CubeTexture','ImageLoader','canvas','getContext','drawImage','images','offsetY','intensity','tCube2','isCullGround','vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20samplerCube\x20tCube;','vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20-45e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BackSide','tCube','envMap','createGradientSky','topColorStr','#0077ff','bottomColorStr','exponent','topColor','bottomColor','skyTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<common>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor.a\x20*=\x20opacity;','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereSky','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereCubeSky','setBackground','dispatchEvent','skyMesh','sunPosition','skyConfigs','nightSkyConfigs','skyMaterial','setSkyConfig','UniformsUtils','turbidity','rayleigh','luminance','mieCoefficient','mieDirectionalG','refreshSky','theta','phi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','spriteTexture','lineColorStr','bgColorStr','numberColorStr','repeatX','lineSpeed','bgColor','numberColor','root','startMat','startPointShader','createNumberCanvas','fillStyle','rgba(255,\x20255,\x20255,\x200)','fillRect','40px\x20Verdana','textAlign','textBaseline','middle','fillText','SpriteMaterial','bgTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bgColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20numberColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bgTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numberTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20bc\x20=\x20texture2D(bgTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bc.rgb\x20*=\x20bgColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nc\x20=\x20texture2D(numberTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nc.rgb\x20*=\x20numberColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20bc\x20+\x20nc;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catmullrom','buildingColorStr','isBlending','isOpenScan','isOpenWireframScan','scanCenter','#6f6f6f','lightWidth','randomTexture','wireframeMaterial','scanExtent','lightDiffuse','lightColor','computeTopFaceAttr','brothers','faceRange','sideRange','fill','data_','RoomHigh','topFaceFlags','buildingsHeight','isUseRandomTexture','texPaths','Uniform','MeshLambertMaterial','textures','whFactor','buildingColor','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_RANDOM_TEXTURE','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20scanCenter;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20whFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20buildingWidth\x20=\x20whFactor.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceAspect\x20>\x200.){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20buildingWidth\x20=\x20faceAspect\x20*\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20repeatX\x20=\x20buildingWidth\x20/\x20whFactor.x,\x20repeatY\x20=\x20buildingsHeight\x20/\x20whFactor.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20texMatrix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texMatrix[0].x\x20=\x20floor(repeatX\x20+\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texMatrix[1].y\x20=\x20floor(repeatY\x20+\x200.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vtUv\x20=\x20(\x20texMatrix\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20for\x20line\x20scan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.x\x20+=\x20scanCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.z\x20-=\x20scanCenter.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textures[4];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20groundColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20lineScan\x20(vec3\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20lightWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec3(1.0,\x201.0,\x201.0),\x20resultColor,\x20extent\x20/\x20lightWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20lightWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20lightWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor\x20=\x20texture2D(texture1,\x20vec2(0.5,\x200.5));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20topTexColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol1\x20=\x20texture2D(textures[0],\x20vec2(nvUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol2\x20=\x20texture2D(textures[1],\x20vec2(nvUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol3\x20=\x20texture2D(textures[2],\x20vec2(nvUv));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol1\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol2\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol3\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20int\x20height\x20=\x20int(vHeight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(height\x20>\x2070){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol2.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20if(height\x20<=\x2070\x20&&\x20height\x20>\x2040){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol1.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20if(height\x20<=\x2040\x20&&\x20height\x20>\x2010){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol3.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isOpenScan\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20lineScan(resultColor.rgb,\x20vModelPos.x,\x20iTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','injectWireframeShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20scanCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20for\x20line\x20scan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.x\x20+=\x20scanCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.z\x20-=\x20scanCenter.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineScan\x20(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20lightWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x201.0,\x200.0,\x20extent\x20/\x20lightWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lightWidth\x20=\x20','toFixed','updateParams','getMaterial','getWireframeMaterial','wireframeShader','sign','log10','log','LOG10E','Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance','isIterable','createRadialGradient','addColorStop','rgba(255,\x20255,\x20255,\x201)','rgba(0,\x200,\x200,\x201)','ESMapTools\x20requires\x20esmap.js','EFFECT_MARKER','ESLayer','effectMarker','init','markers','buildings','floors','ground','lights','screenEffect','switchEffectLight','clearAll','esmap\x20is\x20not\x20initialized','getFloor','_effectLayers','FloorNum','o3d_','getFloorHeight','effect\x20initialize\x20is\x20not\x20complete!','isInitComplete','bid','fnum','getLayersByNames','buildingList','floorNums','Symbol\x20is\x20not\x20a\x20constructor','__Name__','this\x20is\x20null\x20or\x20not\x20defined','addMarker','removeAll','CircleRippleMarker','CircleRadianMarker','MultiCircleBreathMarker','UpLine','NumberUpParticle','FireSmokeMarker','SmokeMarker','FireMarker','WaterSpreadMarker','FloatPointsMarker','GuideLineMarker','SignalWifiMarker','PlaneWindMarker','imgUrl','images/building/circular2.png','cylinderHeight','moveHeight','isOpenScreenEffect','isShine','images/building/circular_04.png','anisotropy','renderer','getMaxAnisotropy','seeThrough','images/line/light2_old.png','images/points/out_light5.png','endPos','activeNum','images/points/particle1.png','period','image/line_seg2.png','images/points/pm_bg.png','lineColor','lineRepeatX','CircleBipsMarker','images/points/circle_extent.png','images/scale1.png','isCilpGround','scanHeight','setHSL','cincture','images/number/fly0101_03.png','offsetHeight','isRandomMarker','randomCenter','setUpdateListen','SphereSpreadMarker','images/scan/light2_6.png','scrollImgUrl','wallHeight','isTransparentLight','scrollXRepeat','wallMaterial','extentList','images/fire/inner_fire.png','images/fire/out_fire.png','isRandomColor','pointNum','images/line/up_line.png','imgRepeat','images/line/light_old.png','routeList','lineAngle','direct','lineAngle\x20extent\x20is\x20(0,\x2090)\x20or\x20(90,\x20180)','GuideLineSprite','contentWidth','showPoint','images/animate/wifi.gif','GifSprite','PlaneFogMarker','layers','enable','_instance','setPosition','addCube','_bindClick','POINTS','UNDERGROUND_LINE','CIRCLE_RIPPLE','CYLINDER_SPREAD','CylinderSpreadMarker','CIRCLES_RADIAN_ROTATE','NUMBER_UP_BEAM','SPHERE_SPREAD','ExtentWallMarker','changeStyle','addWall','isNoClose','deleteExtentById','FIRE','SMOKE','WATER_SPREAD','FLOAT_POINTS','UP_LINE','ROUTES_LINE','viewModeChanged','getBuildingById','_getMaterial','fadeOut','isChangeLineColor','PlaneVideoMarker','GUIDE_LINE','show','hide','appendContent','SIGNAL_WIFI','height_','getPerspectiveScale','controlchange','ESMapLabel','rotateTo','PLANE_FOG','setAlpha','debugAxeSize','_enabled','_removeListen','mapPicker','addObject','upadateMarker','zoomed','isForceVisible','showLevel','scaleLevelChanged','level','markerType','_options','mapService','getState','_bindShowLevel',':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker','texPath','topTexPath','gradientTexPath','emissiveTexPath','emissiveTexScale','highLightColorStr','emissiveColorStr','isBreathColor','isShowHorizonScan','isShowVerticalScan','isShowRadarScan','centerPos','hlColorStr','#fbfbfb','hlWidth','hlDiffuse','hlExtent','vlExtent','vlSpeed','vlIsTop','csColorStr','spreadValue','csMaxRadius','csSpeed','csCenterPos','radarRadius','radarCenterPos','radarTexPath','textureLightStrength','topRepeat','topRotate','screenSkyConfig','topTexture','gradientTexture','extentGradientTexture','screenSkyTexture','radarScanTexture','emissiveFactor','hlTime','vlTime','csTime','rdTime','isShowCenterSpread','hlColor','hlSpeed','vlColor','vlHeight','csColor','radarColor','radarSpeed','textureRotate','top','isUseExtentEffect','extentCenter','gradientImg','skyImg','themeImgMapping','themeTextureList','lightIntensity','unrealBloom','isTileBuilding','filltype','topImage','sideImage','topImgIndexMap','topTexArr','topTextureType','topTexWrapArr','buildingTexRepeat','buildingBaseRepeat','topTexRepeatArr','topimagerepeat','sideImgIndexMap','sideTexArr','sideTextureType','sideTexWrapArr','sideTexRepeatArr','sideimagerepeat','ClampToEdgeWrapping','getStyleFromRoomStyle','typeid','_heightColorConfigs','getDis','pow','computeRoomWidth','screenSkyTexPath','MeshStandardMaterial','sideTex','gradientTex','extentGradientTex','radarScanTex','emissiveTex','multiTexturesLoad','capabilities','topTex','emissiveTexture','screenSkyTex','selectedColor_','extentLightDown','highLightColor','selectedColor','buildingTexRotate','texLightStg','isShowScan','rdRadius','rdColor','exGradientTex','isUseScreenSky','styleId','#define\x20IS_TEXTURE','#define\x20IS_OPEN_EF','#define\x20IS_TILE_BUILDING','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<project_vertex>','#define\x20IS_GRADIENT_TEXTURE','#define\x20IS_EMISSIVE_TEXTURE','#define\x20HORIZONTAL_LINE','#define\x20CENTER_SPREAD','#define\x20RADAR_SCAN','#define\x20EXTENT_EFFECT','#define\x20IS_USE_SS_SKY','#include\x20<lights_fragment_begin>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<map_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderCompileComplete','toggleColorLight','toggleExtentLight','#ffc033','floatOffset','wireMaterial','settingShader','cubeShader','lineShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<logdepthbuf_vertex>','OctahedronBufferGeometry','moveOpts','animateOpts','CylinderBufferGeometry','swingHeight','centerHeight','rotateSpeed','textureAngle','InterleavedBuffer','PointsMaterial','animateType','isStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','breath','blink','twinkle','flash','textureSprites','isInit','initLoop','createTexture','addUv2AlphaMask','aoMap','aoMapIntensity','IS_USE_MASK_ALPHA','alphaMaskTex','#include\x20<alphamap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addUv2Channel','uv2Trans','uv2TransSpeed','texture2','tex2UvAni','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imgWidth','imgHeight','row','column','uvSpriteAnimate','uvTranslate','clipGroundY','cinctureCount','#include\x20<uv2_pars_vertex>','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focusColorStr','#ffee98','isScrollX','lineParams','GrannyKnot','extentWallList','_focusExtentId','focusColor','groundMaterial','isClockWise','FontSide','lineRep','lineTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extentId','addWallScrollYGeometry','computeBoundingBox','radiusSegments','addGround','createShape','ShapeBufferGeometry','Shape','moveTo','lineTo','checkIsHaveId','extentIds','getExtentWall','focusExtent','isAnimate','startPopAnimate','switchExtentsVisible','blurExtent','Elastic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extrusionSegments','closed','boundingBox','getCenter','_tempColor','lineType','lineList','mesh_line','LineBasicMaterial','createLineFrame','dispseMesh','createCircleGradient','CanvasTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thickness','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smokeParticle','tex','smokeEmitter','floatPointsParticle','extentHeight','isSpreadColor','createLinearGradient','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#777777','clipBias','texWidth','texHeight','recursion','textureWidth','devicePixelRatio','textureHeight','Reflector','ReflectorShader','Plane','WebGLRenderTarget','isPowerOfTwo','generateMipmaps','textureMatrix','onBeforeRender','setFromMatrixPosition','extractRotation','dot','reflect','negate','projectionMatrix','multiply','normal','constant','getRenderTarget','shadowMap','autoUpdate','setRenderTarget','isArrayCamera','viewport','\x0a\x09\x09uniform\x20vec3\x20color;\x0a\x09\x09uniform\x20sampler2D\x20tDiffuse;\x0a\x09\x09\x0a\x09\x09varying\x20vec4\x20vUv;\x0a\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x09\x09float\x20blendOverlay(\x20float\x20base,\x20float\x20blend\x20)\x20{\x0a\x09\x09\x09return(\x20base\x20<\x200.5\x20?\x20(\x202.0\x20*\x20base\x20*\x20blend\x20)\x20:\x20(\x201.0\x20-\x202.0\x20*\x20(\x201.0\x20-\x20base\x20)\x20*\x20(\x201.0\x20-\x20blend\x20)\x20)\x20);\x0a\x09\x09}\x0a\x0a\x09\x09vec3\x20blendOverlay(\x20vec3\x20base,\x20vec3\x20blend\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x20blendOverlay(\x20base.r,\x20blend.r\x20),\x20blendOverlay(\x20base.g,\x20blend.g\x20),\x20blendOverlay(\x20base.b,\x20blend.b\x20)\x20);\x0a\x09\x09}\x0a\x0a\x09\x09#define\x20ITERATIONS\x203\x0a\x0a\x09\x09#define\x20TAU\x20\x206.28318530718\x0a\x0a\x09\x09vec2\x20Sample(inout\x20vec2\x20r)\x0a\x09\x09{\x0a\x09\x09\x09r\x20=\x20fract(r\x20*\x20vec2(33.3983,\x2043.4427));\x0a\x09\x09\x09return\x20r-.5;\x0a\x09\x09\x09//return\x20sqrt(r.x+.001)\x20*\x20vec2(sin(r.y\x20*\x20TAU),\x20cos(r.y\x20*\x20TAU))*.5;\x20//\x20<<===\x20circular\x20sampling.\x0a\x09\x09}\x0a\x0a\x09\x09#define\x20HASHSCALE\x20443.8975\x0a\x09\x09vec2\x20Hash22(vec2\x20p)\x0a\x09\x09{\x0a\x09\x09\x09vec3\x20p3\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE);\x0a\x09\x09\x09p3\x20+=\x20dot(p3,\x20p3.yzx+19.19);\x0a\x09\x09\x09return\x20fract(vec2((p3.x\x20+\x20p3.y)*p3.z,\x20(p3.x+p3.z)*p3.y));\x0a\x09\x09}\x0a\x0a\x09\x09vec3\x20Blur(vec2\x20uv,\x20float\x20radius)\x0a\x09\x09{\x0a\x09\x09\x09radius\x20=\x20radius\x20*\x20.04;\x0a\x09\x09\x09\x0a\x09\x09\x09vec2\x20circle\x20=\x20vec2(radius)\x20*\x20vec2((vUV.y\x20/\x20vUV.x),\x201.0);\x0a\x09\x09\x09\x0a\x09\x09\x09//\x20Remove\x20the\x20time\x20reference\x20to\x20prevent\x20random\x20jittering\x20if\x20you\x20don\x27t\x20like\x20it.\x0a\x09\x09\x09vec2\x20random\x20=\x20Hash22(uv);\x0a\x0a\x09\x09\x09//\x20Do\x20the\x20blur\x20here...\x0a\x09\x09\x09vec3\x20acc\x20=\x20vec3(0.0);\x0a\x09\x09\x09for\x20(int\x20i\x20=\x200;\x20i\x20<\x20ITERATIONS;\x20i++)\x0a\x09\x09\x09{\x0a\x09\x09\x09\x09acc\x20+=\x20texture2D(tDiffuse,\x20uv\x20+\x20circle\x20*\x20Sample(random),\x20radius*10.0).xyz;\x0a\x09\x09\x09}\x0a\x09\x09\x09return\x20acc\x20/\x20float(ITERATIONS);\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vec4\x20base\x20=\x20texture2DProj(\x20tDiffuse,\x20vUv\x20);\x0a\x09\x09\x09vec3\x20mirroCol\x20=\x20blendOverlay(\x20base.rgb,\x20color\x20);\x0a\x0a\x09\x09\x09//\x20vec3\x20blurColor\x20=\x20vec3(Blur(vUv.xz\x20*\x20vec2(1.0,\x20-1.0),\x201.0));\x0a\x09\x09\x09//\x20mirroCol\x20*=\x20blurColor;\x0a\x0a\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20mirroCol,\x201.0\x20);\x0a\x09\x09}\x0a\x09','RGBELoader','loadHDR','resolutionSize','RGBEEncoding','NearestFilter','flipY','EquirectangularToCubeGenerator','PMREMGenerator','PMREMCubeUVPacker','envCubeMap','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','NoBlending','Scene','sourceTexture','isCubeTexture','SAMPLES_PER_LEVEL','toneMapping','toneMappingExposure','LinearToneMapping','gammaInput','gammaOutput','numLods','tFlip','cubeLods','renderToCubeMapTarget','renderToCubeMapTargetFace','faceIndex','samplesPerLevel','GammaEncoding','sRGBEncoding','PMREMGenerator.cube','RGBM16Encoding','CubeUVRenderTarget','CubeUVReflectionMapping','objects','setScalar','OrthographicCamera','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','bottom','updateProjectionMatrix','fromEquirectangular','CubemapFromEquirect','\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','tEquirect','CubeCamera','renderTarget','PerspectiveCamera','#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','equirectangularMap','CubemapGenerator','DefaultLoadingManager','DataTextureLoader','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader\x20Write\x20Error:\x20','THREE.RGBELoader\x20Bad\x20File\x20Format:\x20','THREE.RGBELoader:\x20Error:\x20','pos','fromCharCode','byteLength','RGBE','no\x20header\x20found','match','bad\x20initial\x20token','valid','programtype','comments','missing\x20image\x20size\x20specifier','missing\x20format\x20specifier','wrong\x20scanline\x20width','unable\x20to\x20allocate\x20buffer\x20space','bad\x20rgbe\x20scanline\x20format','bad\x20scanline\x20data','UnsignedByteType','RGBEFormat','FloatType','THREE.RGBELoader:\x20unsupported\x20type:\x20','gamma','exposure','setType','fluctuate','skyTexture','#00335f','lightColorStr','#b2b2e6','flowAngle','texUvScale','water','alphaMaskPath','targetMeshes','IS_USE_ORIGING_MAP','IS_USE_CUS_ALPHA','IS_USE_SS_SKY','flowDirect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','texScale','texRepeat','targetMesh','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRandom','#define\x20IS_RANDOM','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','particles','createPoints','transFactor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','basic','isShowScanLight','scanLightColorStr','scanLightColor','createGround','lambert','materialType','scanTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20','#define\x20IS_SCAN_LIGHT','videoElement','playVideo','play','playSound','muted','createVideoElement','video','style','setAttribute','playsinline','anonymous','source','video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2','currentTime','sideTexture','topTexMat','matrix','#define\x20USE_TOP_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat3\x20topTexMat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat3\x20sideTexMat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUV\x20=\x20(\x20topTexMat\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUV\x20=\x20(\x20sideTexMat\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor\x20=\x20texture2D(topTex,\x20tvUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5)\x20resultColor\x20=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor\x20=\x20texture2D(sideTex,\x20svUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5)\x20resultColor\x20=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num','shadowCamera','rot','isAnimation','isMorph','morphTargets','setShadow','castShadow','receiveShadow','depthMaterial','InstancedBufferGeometry','getIndex','morphAttributes','offsets','scales','Quaternion','Euler','DEG2RAD','rand','setFromEuler','orientations','InstancedBufferAttribute','setDynamic','orientationAttribute','offsetAttribute','scaleAttribute','orientation','vertexPars_V2','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec3\x20scales;','attribute\x20vec4\x20orientation;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[0][3]\x20=\x200.0;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;','B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[3][0]\x20=\x20position.x;','B[3][1]\x20=\x20position.y;','B[3][2]\x20=\x20position.z;','return\x20B;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','attribute\x20vec3\x20offset;','mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[2][3]\x20=\x200.0;','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];','float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;','float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;','float\x20detInv\x20=\x201.0\x20/\x20det;','mat3\x20B;','B[0][0]\x20=\x20t11\x20*\x20detInv;','B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;','B[2][0]\x20=\x20t13\x20*\x20detInv;','B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;','B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;','B[0][0]\x20=\x20A[0][0];','B[0][1]\x20=\x20A[1][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][1]\x20=\x20A[1][1];','B[1][2]\x20=\x20A[2][1];','B[2][0]\x20=\x20A[0][2];','B[2][1]\x20=\x20A[1][2];','return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','beginInstanceVertex','mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);','worldPosVertex','normalVertex','mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);','transformedNormal\x20=\x20-\x20transformedNormal;','#ifdef\x20USE_TANGENT','vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;','#ifdef\x20FLIP_SIDED','#ifdef\x20USE_MORPHTARGETS','transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];','transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];','transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];','#ifndef\x20USE_MORPHNORMALS','transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];','transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];','transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];','cmtx','matrixWorldInverse','morpher','#include\x20<common>\x0a','vertexPars_V1','#include\x20<defaultnormal_vertex>','projectVertex','MeshDepthMaterial','RGBADepthPacking','setMorph','morphTargetInfluences','setOrientation','setScale','receiveLayer','fov','videoAspect','isShowHelper','isShowFarPlane','projector','projectPlane','helper','containMeshList','cameraFar','cameraFov','VideoTexture','images/video_mask.png','createProjector','nodeType','Material','resetMaterial2','_originMaterial','_tempMaterial','isProjected','videoProject','isLockCameraControls','visualFieldColor','scanSceneMesh','minY','gridNum','rayPointer','raySceneMesh','raycastByCoord','focusFloorNum','ignoredUuids','updateWorldMatrix','minDistance','createCameraHelperFarPlane','getX','pointMap','getZ','setFromPoints','videoTexMask','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','saveCameraMatrices','objects_','_root_','resetMaterial','project','resetAllMaterial','type_','image','videoWidth','videoHeight','naturalWidth','naturalHeight','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectedTexelToLinear','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectionMatrixCamera','saveDimensions','isTextureLoaded','textureScale','cover','widthScaled','viewMatrixCamera','projPosition','projDirection','backgroundOpacity','textureOffset','isShowHepler','(\x20value\x20)','sRGB','RGBM7Encoding','(\x20value,\x207.0\x20)','RGBM','(\x20value,\x2016.0\x20)','RGBDEncoding','RGBD','(\x20value,\x20256.0\x20)','(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)','LogLuvEncoding','ToLinear','createMaterial2','basicLine','createBasicLine','FaceColors','cn1','cn2','cn4','cf1','cf3','cf4','matrixAutoUpdate','setPoint','vector','unproject','setXYZ','projectionMatrixInverse','cf2','cn3','isNoTileFactor','textureMaskPath','texture4Path','noisePath','normalUvIndex','normalFlipSide','textureManager','repeatFactor','texture3','texture4','textureMask','loadTextures','noise','IS_USE_MASK_TEXTURE2','IS_USE_MASK_TEXTURE3','alphaMask','IS_USE_CUS_NORMAL','normalMap','normalMapType','FLIP_SIDED','noiseTex','othersRepeat','noTileConfigs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isIgnoreAlpha','isUseScanEffect','isUseUv2Light','scanOffset','effectShader','ignoreAlpha','useScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<emissivemap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeLight','emissiveIntensity','onComplete','clearMaterials','power','glowColor','cyan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);','textureSprite','foam','createUvAnimate','updateFps','settingMaterial','heightExtent','isShowContour','isShowSeaGroundEffect','seaGroundConfigs','gradientLut','Lut','groundTexRepeat','getGradientConfig','ColorMapKeywords','gradientType','colorArray','createCanvas','seaGroundScale','fogNear','fogFar','seaGroundFog','groundTexPath','groundTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vec3(0,.35,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isShow','isShowWaterEffect','isShowSeaGround','lut','minV','maxV','rainbow','updateCanvas','getImageData','putImageData','checkFunLevel','preload','isShowBuildingTip','cameraFlyTo','directionAngle','getScreenCenter','toSceneCoord','rotateAngle','tiltAngle','addControls','removeWalkControls','removeControls','createMiniMap','isSetRoomEffect','envTexture','isEnv','addEffect','ESEffectsConstant','roomEffect','buildingScanConfigs','buildingScanLight','topImg','sideImg','colorImg','extentEffect','Buildings','buildingsThemes','tileRoomEffect','emissiveImg','screenSky','Floors','pointLight','isPointLight','Lights','directLight','ambientLight','isShowSkybox','isShowGround','repeatImg','Ground','floorNum','models','modelsConfigs','shadow','preInit','Fog','screenEffects','getPlatform','isPC','isPc','platform','iPod','effectQuality','high','Android','closeComposer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','isShowShadow','postProcessing','tileUpdated','modelLoadedAll','effectsDetectionComplete','medium','low','checkIsInLowDeviceComplete','%c\x20effect\x20quality:\x20','color:#66ccff;','isCanRender','IsMapLoading','loadComplete','EFFECT_EDITOR','EffectManager','Shadow','ESJsonFileLoader','ESEventDispatcher','pointsSegement','effectThemeSrc','loadRoads','showRoads','routesMarkers','isExecuteInit','tileBuilidngThemes','tileLoadComplete','setTileBuildingAttribute','navLoaded','unloadTile','themeLoaded','%c\x20effects\x20effectThemeSrc\x20and\x20effectThemeId\x20must\x20be\x20configured!','color:red;','debugParams','localEffectId','json','preLoadComplete','__singlemesh','createTileInstanceModel','singleMesheDatas','createInstanceModel','routeDataLoaded','tileService','navData','Lines','editMode','routes','loadTileRoutesData','isTileRouteShine','isChangeTileRoute','checkIsParkEngine','setModelShadow','isSetModelEffect','skybox','defaultCubeTexture','setModelsEffect','model','mergeModel3D','child','modelEffects','modelStore','setModelsEffect4','setModelsEffect3','mapId','EffectLayer','_building_cube_float','mapIds','bidList','modelinfo','box3','EffectMarker','tileId','envTextureCube','isSetTileBuilding','setTileBuildingsEnvTexture','currentShows','buildingLoadComplete','setBuildingRoomShadow','showShadow','getLayersByTypes','ESLayerType','MODEL_IMAGE','model_loading','imgdata','updateLightPoints','changeBuildingColor','updateTileBuildingHighLightColor','updateLts','Type','horizon','center_spread','updateTileBuildingCenterSpreadScan','radar_scan','updateTileBuildingRadarScan','toggleTileBuildingsScan','updateTileBuildingExtentLight','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','controlFloors','_originPos','directionalLights','updateAmbientLight','updateTileRoutesStyle','recoverTileRoutesStyle','toggleTileRoutesVisible','skyboxTool','updateSkybox','createWaveMarker','updateWaveLines','removeWaveLines','boatFoams','boat-foam:','gradientTerrainList','setGradientConfig','lightBlend','toggleLightPoints','uvTransformTextures','_markerId','modelName','modelsControlGroups','_ef_','_isBloom','setObjectBloomLight','removeObjectBloomLight','initVideoProjector','showVisualField','updateProjectorTarget','_bloomOriginColor','offsetHSL','not\x20support\x20this\x20obj','updateOutlineStyle','setObjectOutline','removeObjectOutline','clearSelectedOutline','updateAllLightConfig','updateLightProbe','closeShadow','updateShadow','checkIsInLowDevice','initComplete','Routes','Water','Models','Video','configs','createTileBuildingsEffect2','addBuildingsEffect','addPointLights','isDirectLight','isAmbientLight','initEnvTexture','isNavPath','loadRoutesLine','computeRoutesData','addWater','updateEffect','removeEffect','isCanUseScanStatus','lineScanCenter','sideImgRepeatFactor','topImgRepeatFactor','imgLightFactor','emissiveImgScale','emissiveColor','colorBreath','transprentHightLight','horizonScanColor','horizonScanWidth','horizonScanDiffuse','horizonScanSpeed','verticalScanColor','verticalScanSpeed','centerSpreadColor','centerSpreadSpeed','centerSpreadCenterPos','radarScanColor','radarScanRadius','radarScanSpeed','radarScanCenterPos','radarScanImg','extentEffectConfig','openScan','setBuildingScanConfig','MODEL','MODEL_BASE','setBuildingsTheme','frameColor','edgeLineFrameList','tileStyles','prodMatIdx','tileTextures','mappingThemeImgStyle','renderSort','addTileBuildingsEffect','modelBasicMat','getTileById','computeBuildingFaceAttr','maptheme','Building','topimage','sideimage','horizon_scan','scanColor','scanLightWidth','scanDiffuse','horizonScanExtent','scanSpeed','horizonScan','vertical_scan','verticalScanHeight','verticalScanExtent','verticalScan','maxRadius','centerSpread','scanRadius','scanImg','radarScan','updateTileBuildingHorizonScan','rdCenterPos','openLight','floorsMesh','floorEffects','controlFloorLayer','setFloorMaterial','FLOOR_BASE','effectType','effectConfigs','alphaTransitionImg','alphaTransitionRadius','alpha_trans','controlId','scanRepeatImg','gradient_floor','isControl','mirro','innerWidth','innerHeight','groundThemes','addGroundTexture','repeatType','repeatScaleFactor','frameOpacity','pointLights','tileBuildingLight','PointLight','distance','extent','addDirectLights','replaceLight','_originConfig','updateMatrixWorld','DirectionalLightHelper','DirectionalLight','updateDirectionalLightPos','isInfinite','planeScale','lightPlane','updateDirectionalLights','lightAnimate','getAmbientLight','AmbientLight','_originIntensity','animateTime','updatePointLights','imgPaths','HDR','createPMREMEnvTexture','createEnvTexture','envTextureCubes','createLightProbe','LightProbe','lightProbe','LightProbeGenerator','fromCubeTexture','getTextureCubeByName','updateMaterialsEnvMap','updateLightProbeAnimate','SphericalHarmonics3','coefficients','copySRGBToLinear','getBasisAt','tileRoute','routesLineGroup','isLoadedTileRouteStyle','routesEffectLayer','tileRoutesMarkers','isCanChangeTileRoutesStyle','isChangedTileRoutesStyle','changedTileRoutesStyleConfig','tempColor','coordTrans','isHightLight','initHeight','navs','naviData','floornum','computeNavDataToRoutesData','bstair','rank','sid','Nodes','#c37400','datatype','datas','createRoutesLine','lineImg','computeTileRoutesData','transformCoordArray','DEFAULT_COORDSYSTEM','coordSystem','idColorMapping','_id','geometries','mergeGeometrys','tile_route_line','lineColorMapping','BufferGeometryUtils2','mergeBufferGeometries','addGroup','updateTileRoutesRandomColors','tileList','colorList','lineScale','scaleLineWidth','tileRoutes','addLayerToMap','routeEffectLayer','roadStyles','colorRGB2Hex','linewidth','url','animationspeed','outline','tan','atan','tangent','groups','crossVectors','has','mergedUserData','mergeBufferAttributes','isInterleavedBufferAttribute','normalized','getY','getW','setX','setY','setZ','setW','BYTES_PER_ELEMENT','setArray','Number','textureCubes','shaderSky','isFirstTexCube','skyboxSwitchAnimate','setSkyBox','background','isPlane','createOnePicCubeTexture','createBox','box','tileMapInited','gradient_sphere','gradient_cube','createGradientCubeSky','createSixPicCubeTexture','sphere_cube','ESTileMap','inited','day','night','bindLight','azimuthAngle','verticalAngle','bindTileMapLevelChange','tileMapLevelChange','waterList','waveLineMarker','waveEffectLayer','createWater','addWaterShape','groundImg','_effectConfig','alpha','waveLine','modelBlendEffectList','modelTerrainList','isSetModelsConfigs','setEnvTextureMaterials','modelUvAnimation','lightPointsMeshs','lightPointsLayer','instanceMeshs','tileInstanceModels','getCurrModelConfig','getRenderOrder','order','splitEffectsTemplates','_mesh','matchModelEffectConfig','settingModelEffects','control','additive','fresnel','lineFrame','lineOpacity','createEdgeLineFrame','faces','wireFrame','wireframe','uvAnimation','createUvAnimation','uvTransform','textureBlend','blendEffect','createrBlendEffect','_createWater','createLightBlend','lightPoints','_lightPointsType','_lightPointsConfig','_lightPointsIsLookAt','isLookAt','terrain','translate','useUv2','lastIndexOf','substring','isUseAlphaMask','_ef_mask.','addSpriteAnimate','spriteAnimate','useSpriteAnimate','translateX','translateY','uvRotation','originalSrc','currentSrc','uv2UseAlpha','uv2TranslateY','_ef_uv-animate.','_effect','fixMobileIntensity','closeLight','createTextureBlend','_ef_blend-1.','_ef_blend-3.','normalUv','blendCount','isUseNormal','_ef_normal.','noOriginTexture','isUseGround','waveFactor','createTerrain','waterEffect','addEffectPointsMarker','createEffectPoints','getWorldPosition','coordThreeToMap','styleConfig','setRenderOrder','setTransparent','createEdgeLineFrameByMeshLine','gltfObj','Box3','setFromObject','radToDeg','mapmodel3ds','rotate','offsetPos','outlineSelectList','bindOutlineSelection','outlinePass','mapClickNode','ESNodeType','hiddenEdgeColor','edgeWidth','edgeStrength','edgeSpread','edgeThickness','patternTexture','maskTexture','usePatternTexture','blinkPeriod','selectedObjects','defaultOutlineConfig','composer','isWebGL2','fxaaPass','bloomPass','bloomFinalPass','originSize','scaleSize','bloomLayer','materials','darkMaterial','darkColor','originBgTexture','tempRendererClearColor','alphaMode','RGBAFormat','WebGLMultisampleRenderTarget','EffectComposer','RenderPass','ShaderPass','FXAAShader','iPhone','iPad','pulsePeriod','UnrealBloomPass','threshold','strength','bloomStrength','bloomRadius','bloomComposer','renderToScreen','addPass','renderTarget2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseTexture','needsSwap','sceneBackground','clearColor_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','renderBloom','rendererCss2D','cameraTop','clearDepth','sceneOrtho','restoreMaterial','darkenNonBloomed','SkinnedMesh','getSize','_pixelRatio','getPixelRatio','_width','_height','EffectComposer.rt1','renderTarget1','EffectComposer.rt2','writeBuffer','readBuffer','passes','CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','copyPass','clock','Clock','getDrawingBufferSize','isLastEnabledPass','context','stencilFunc','NOTEQUAL','EQUAL','swapBuffers','MaskPass','ClearMaskPass','Pass','THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.','FullScreenQuad','overrideMaterial','clearColor','autoClear','getClearColor','getHex','getClearAlpha','setClearColor','clearAlpha','autoClearColor','autoClearStencil','textureID','fsQuad','autoClearDepth','renderTargetsHorizontal','renderTargetsVertical','nMips','renderTargetBright','UnrealBloomPass.v','LuminosityHighPassShader','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader','highPassUniforms','luminosityThreshold','smoothWidth','materialHighPassFilter','separableBlurMaterials','compositeMaterial','blurTexture1','blurTexture2','blurTexture3','blurTexture4','blurTexture5','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearAlpha','texSize','oldClearColor','colorTexture','BlurDirectionX','BlurDirectionY','tDiffuse','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;','vUv\x20=\x20uv;','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20sampler2D\x20tDiffuse;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','gl_FragColor\x20=\x20opacity\x20*\x20texel;','luminosityHighPass','uniform\x20vec3\x20defaultColor;','uniform\x20float\x20luminosityThreshold;','float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);','float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);','precision\x20highp\x20float;','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag','//\x20SDK\x20Version:\x20v3.00','//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without','//\x20are\x20met:','//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.','//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its','//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived','//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE','//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,','//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,','//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE','#define\x20FXAA_GLSL_100\x201','#define\x20FXAA_QUALITY_PRESET\x2012','#ifndef\x20FXAA_PC_CONSOLE','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_GLSL_120','\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','#ifndef\x20FXAA_HLSL_3','#ifndef\x20FXAA_HLSL_4','\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200','#ifndef\x20FXAA_HLSL_5','\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200','/*==========================================================================*/','#ifndef\x20FXAA_GREEN_AS_LUMA','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.','\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.','\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','#ifndef\x20FXAA_EARLY_EXIT','\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.','\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.','\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200','\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200','#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','/*============================================================================','NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!','============================================================================*/','#ifndef\x20FXAA_QUALITY_PRESET','\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.','\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.','\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.','\x20\x20\x20\x20//\x20OPTIONS','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)','\x20\x20\x20\x20//\x20NOTES','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3','\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4','\x20\x20\x20\x20#define\x20FxaaHalf\x20half','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20\x20#version\x20120','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','#if\x20(FXAA_HLSL_3\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))','#if\x20(FXAA_HLSL_4\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','#else','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','#if\x20(FXAA_PC\x20==\x201)','FxaaFloat4\x20FxaaPixelShader(','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.','\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,','\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.','\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.','\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off','\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off','\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.','\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality','\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,','\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.','\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.','\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.y\x20=\x20pos.y;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);','\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);','\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);','\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;','\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;','\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;','\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);','\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));','\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);','\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20posB.x\x20=\x20posM.x;','\x20\x20\x20\x20FxaaFloat2\x20offNP;','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat2\x20posN;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;','\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;','\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;','\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);','\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;','\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);','\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vUv,','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,','\x20\x20\x20\x200.75,','\x20\x20\x20\x200.166,','\x20\x20\x20\x200.0833,','\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)','\x20\x20);','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel','\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','OutlinePass','renderScene','visibleEdgeColor','edgeGlow','downSampleRatio','maskBufferMaterial','renderTargetMaskBuffer','depthPacking','prepareMaskMaterial','renderCamera','isPerspectiveCamera','perspective','orthographic','DepthToViewZ','renderTargetDepthBuffer','OutlinePass.depth','renderTargetMaskDownSampleBuffer','OutlinePass.depthDownSample','renderTargetBlurBuffer1','OutlinePass.blur1','renderTargetBlurBuffer2','OutlinePass.blur2','edgeDetectionMaterial','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','renderTargetEdgeBuffer2','OutlinePass.edge2','getSeperableBlurMaterial','separableBlurMaterial1','kernelRadius','separableBlurMaterial2','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','tempPulseColor1','tempPulseColor2','isMesh'];(function(_0x599c55,_0xcd56f3){var _0xb17767=function(_0x1d3f9d){while(--_0x1d3f9d){_0x599c55['push'](_0x599c55['shift']());}};_0xb17767(++_0xcd56f3);}(_0x29bc,0x1c9));var _0x1c61=function(_0x312b05,_0xf2bf18){_0x312b05=_0x312b05-0x0;var _0x3eb77f=_0x29bc[_0x312b05];return _0x3eb77f;};!function(_0x2492de){var _0x2d8f05={};function _0x4b81bb(_0x4d74cb){if(_0x2d8f05[_0x4d74cb])return _0x2d8f05[_0x4d74cb]['exports'];var _0x5d52f1=_0x2d8f05[_0x4d74cb]={'i':_0x4d74cb,'l':!0x1,'exports':{}};return _0x2492de[_0x4d74cb][_0x1c61('0x0')](_0x5d52f1[_0x1c61('0x1')],_0x5d52f1,_0x5d52f1[_0x1c61('0x1')],_0x4b81bb),_0x5d52f1['l']=!0x0,_0x5d52f1['exports'];}_0x4b81bb['m']=_0x2492de,_0x4b81bb['c']=_0x2d8f05,_0x4b81bb['d']=function(_0x4d9c90,_0x2747a3,_0x2492de){_0x4b81bb['o'](_0x4d9c90,_0x2747a3)||Object[_0x1c61('0x2')](_0x4d9c90,_0x2747a3,{'enumerable':!0x0,'get':_0x2492de});},_0x4b81bb['r']=function(_0x540799){_0x1c61('0x3')!=typeof Symbol&&Symbol[_0x1c61('0x4')]&&Object[_0x1c61('0x2')](_0x540799,Symbol['toStringTag'],{'value':'Module'}),Object[_0x1c61('0x2')](_0x540799,_0x1c61('0x5'),{'value':!0x0});},_0x4b81bb['t']=function(_0x452b12,_0x3eea04){if(0x1&_0x3eea04&&(_0x452b12=_0x4b81bb(_0x452b12)),0x8&_0x3eea04)return _0x452b12;if(0x4&_0x3eea04&&_0x1c61('0x6')==typeof _0x452b12&&_0x452b12&&_0x452b12[_0x1c61('0x5')])return _0x452b12;var _0x2492de=Object[_0x1c61('0x7')](null);if(_0x4b81bb['r'](_0x2492de),Object[_0x1c61('0x2')](_0x2492de,_0x1c61('0x8'),{'enumerable':!0x0,'value':_0x452b12}),0x2&_0x3eea04&&_0x1c61('0x9')!=typeof _0x452b12)for(var _0x2d8f05 in _0x452b12)_0x4b81bb['d'](_0x2492de,_0x2d8f05,function(_0x3eea04){return _0x452b12[_0x3eea04];}[_0x1c61('0xa')](null,_0x2d8f05));return _0x2492de;},_0x4b81bb['n']=function(_0x1d6fa8){var _0x2cd721=_0x1d6fa8&&_0x1d6fa8[_0x1c61('0x5')]?function(){return _0x1d6fa8[_0x1c61('0x8')];}:function(){return _0x1d6fa8;};return _0x4b81bb['d'](_0x2cd721,'a',_0x2cd721),_0x2cd721;},_0x4b81bb['o']=function(_0x3ef659,_0x1b78c4){return Object[_0x1c61('0xb')][_0x1c61('0xc')][_0x1c61('0x0')](_0x3ef659,_0x1b78c4);},_0x4b81bb['p']=_0x1c61('0xd'),_0x4b81bb(_0x4b81bb['s']=0x187);}([function(_0x28e561,_0x53c6e2,_0xced954){'use strict';_0x53c6e2[_0x1c61('0x5')]=!0x0,_0x53c6e2[_0x1c61('0x8')]=function(_0x28e561,_0x53c6e2){if(!(_0x28e561 instanceof _0x53c6e2))throw new TypeError(_0x1c61('0xe'));};},function(_0x385a9a,_0x34a12b,_0x36c6a6){'use strict';_0x34a12b[_0x1c61('0x5')]=!0x0;var _0x36c6a6=_0x36c6a6(0x33),_0x5c685e=_0x36c6a6&&_0x36c6a6[_0x1c61('0x5')]?_0x36c6a6:{'default':_0x36c6a6};function _0x1e9e81(_0x385a9a,_0x34a12b){for(var _0x36c6a6=0x0;_0x36c6a6<_0x34a12b[_0x1c61('0xf')];_0x36c6a6++){var _0x1e9e81=_0x34a12b[_0x36c6a6];_0x1e9e81[_0x1c61('0x10')]=_0x1e9e81[_0x1c61('0x10')]||!0x1,_0x1e9e81['configurable']=!0x0,'value'in _0x1e9e81&&(_0x1e9e81[_0x1c61('0x11')]=!0x0),(0x0,_0x5c685e['default'])(_0x385a9a,_0x1e9e81[_0x1c61('0x12')],_0x1e9e81);}}_0x34a12b[_0x1c61('0x8')]=function(_0x385a9a,_0x34a12b,_0x36c6a6){return _0x34a12b&&_0x1e9e81(_0x385a9a['prototype'],_0x34a12b),_0x36c6a6&&_0x1e9e81(_0x385a9a,_0x36c6a6),_0x385a9a;};},function(_0x219af0,_0x441e3a){_0x219af0=_0x219af0[_0x1c61('0x1')]={'version':'2.6.12'};'number'==typeof __e&&(__e=_0x219af0);},function(_0xe42b77,_0x56465b,_0x52cace){function _0x39753a(_0xe42b77,_0x56465b,_0x52cace){var _0xfeb75b,_0xbd1168,_0x4a4c56,_0x50dfb2=_0xe42b77&_0x39753a['F'],_0x527cdd=_0xe42b77&_0x39753a['G'],_0x4cfe67=_0xe42b77&_0x39753a['S'],_0x273d4d=_0xe42b77&_0x39753a['P'],_0x36471c=_0xe42b77&_0x39753a['B'],_0xd5b662=_0xe42b77&_0x39753a['W'],_0x26d672=_0x527cdd?_0x12066b:_0x12066b[_0x56465b]||(_0x12066b[_0x56465b]={}),_0x32d742=_0x26d672[_0x459eb1],_0x69aeb7=_0x527cdd?_0x16033c:_0x4cfe67?_0x16033c[_0x56465b]:(_0x16033c[_0x56465b]||{})[_0x459eb1];for(_0xfeb75b in _0x52cace=_0x527cdd?_0x56465b:_0x52cace)(_0xbd1168=!_0x50dfb2&&_0x69aeb7&&void 0x0!==_0x69aeb7[_0xfeb75b])&&_0x5a0a06(_0x26d672,_0xfeb75b)||(_0x4a4c56=(_0xbd1168?_0x69aeb7:_0x52cace)[_0xfeb75b],_0x26d672[_0xfeb75b]=_0x527cdd&&'function'!=typeof _0x69aeb7[_0xfeb75b]?_0x52cace[_0xfeb75b]:_0x36471c&&_0xbd1168?_0x48f32d(_0x4a4c56,_0x16033c):_0xd5b662&&_0x69aeb7[_0xfeb75b]==_0x4a4c56?function(_0xfeb75b){function _0xe42b77(_0xe42b77,_0x56465b,_0x52cace){if(this instanceof _0xfeb75b){switch(arguments[_0x1c61('0xf')]){case 0x0:return new _0xfeb75b();case 0x1:return new _0xfeb75b(_0xe42b77);case 0x2:return new _0xfeb75b(_0xe42b77,_0x56465b);}return new _0xfeb75b(_0xe42b77,_0x56465b,_0x52cace);}return _0xfeb75b['apply'](this,arguments);}return _0xe42b77[_0x459eb1]=_0xfeb75b[_0x459eb1],_0xe42b77;}(_0x4a4c56):_0x273d4d&&_0x1c61('0x13')==typeof _0x4a4c56?_0x48f32d(Function['call'],_0x4a4c56):_0x4a4c56,_0x273d4d&&((_0x26d672[_0x1c61('0x14')]||(_0x26d672['virtual']={}))[_0xfeb75b]=_0x4a4c56,_0xe42b77&_0x39753a['R']&&_0x32d742&&!_0x32d742[_0xfeb75b]&&_0x225616(_0x32d742,_0xfeb75b,_0x4a4c56)));}var _0x16033c=_0x52cace(0x5),_0x12066b=_0x52cace(0x2),_0x48f32d=_0x52cace(0x10),_0x225616=_0x52cace(0xb),_0x5a0a06=_0x52cace(0xc),_0x459eb1=_0x1c61('0xb');_0x39753a['F']=0x1,_0x39753a['G']=0x2,_0x39753a['S']=0x4,_0x39753a['P']=0x8,_0x39753a['B']=0x10,_0x39753a['W']=0x20,_0x39753a['U']=0x40,_0x39753a['R']=0x80,_0xe42b77[_0x1c61('0x1')]=_0x39753a;},function(_0x205fd6,_0x31b1ca,_0x2eb11f){_0x205fd6[_0x1c61('0x1')]={'default':_0x2eb11f(0x4d),'__esModule':!0x0};},function(_0x20559e,_0x1314ae){_0x20559e=_0x20559e[_0x1c61('0x1')]=_0x1c61('0x3')!=typeof window&&window[_0x1c61('0x15')]==Math?window:'undefined'!=typeof self&&self[_0x1c61('0x15')]==Math?self:Function(_0x1c61('0x16'))();'number'==typeof __g&&(__g=_0x20559e);},function(_0x20f109,_0x5a09ef,_0x588269){var _0x3a02e1=_0x588269(0x23)('wks'),_0x432e56=_0x588269(0x18),_0x38e7c4=_0x588269(0x5)[_0x1c61('0x17')],_0x30bae6=_0x1c61('0x13')==typeof _0x38e7c4;(_0x20f109[_0x1c61('0x1')]=function(_0x20f109){return _0x3a02e1[_0x20f109]||(_0x3a02e1[_0x20f109]=_0x30bae6&&_0x38e7c4[_0x20f109]||(_0x30bae6?_0x38e7c4:_0x432e56)(_0x1c61('0x18')+_0x20f109));})[_0x1c61('0x19')]=_0x3a02e1;},function(_0x16b1ca,_0x5ea472,_0x59181e){_0x16b1ca[_0x1c61('0x1')]=!_0x59181e(0xd)(function(){return 0x7!=Object[_0x1c61('0x2')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x40c424,_0x33161b,_0x526cf3){var _0x384319=_0x526cf3(0xa),_0x479bc4=_0x526cf3(0x36),_0x45a1e7=_0x526cf3(0x25),_0x5bfb33=Object[_0x1c61('0x2')];_0x33161b['f']=_0x526cf3(0x7)?Object[_0x1c61('0x2')]:function(_0x40c424,_0x33161b,_0x526cf3){if(_0x384319(_0x40c424),_0x33161b=_0x45a1e7(_0x33161b,!0x0),_0x384319(_0x526cf3),_0x479bc4)try{return _0x5bfb33(_0x40c424,_0x33161b,_0x526cf3);}catch(_0x1538a4){}if(_0x1c61('0x1a')in _0x526cf3||_0x1c61('0x1b')in _0x526cf3)throw TypeError('Accessors\x20not\x20supported!');return _0x1c61('0x1c')in _0x526cf3&&(_0x40c424[_0x33161b]=_0x526cf3[_0x1c61('0x1c')]),_0x40c424;};},function(_0x2b1f27,_0x2ec755){_0x2b1f27['exports']=function(_0x2b1f27){return _0x1c61('0x6')==typeof _0x2b1f27?null!==_0x2b1f27:_0x1c61('0x13')==typeof _0x2b1f27;};},function(_0x824a4f,_0x58b06f,_0x563b45){var _0x296f41=_0x563b45(0x9);_0x824a4f[_0x1c61('0x1')]=function(_0x824a4f){if(_0x296f41(_0x824a4f))return _0x824a4f;throw TypeError(_0x824a4f+'\x20is\x20not\x20an\x20object!');};},function(_0x426950,_0x5d1e0e,_0x2407f9){var _0x3ae878=_0x2407f9(0x8),_0x1122db=_0x2407f9(0x15);_0x426950[_0x1c61('0x1')]=_0x2407f9(0x7)?function(_0x426950,_0x5d1e0e,_0x2407f9){return _0x3ae878['f'](_0x426950,_0x5d1e0e,_0x1122db(0x1,_0x2407f9));}:function(_0x426950,_0x5d1e0e,_0x2407f9){return _0x426950[_0x5d1e0e]=_0x2407f9,_0x426950;};},function(_0x2b45ea,_0x409319){var _0x332d35={}[_0x1c61('0xc')];_0x2b45ea['exports']=function(_0x2b45ea,_0x409319){return _0x332d35[_0x1c61('0x0')](_0x2b45ea,_0x409319);};},function(_0x14b13f,_0x2b7e7f){_0x14b13f[_0x1c61('0x1')]=function(_0x14b13f){try{return!!_0x14b13f();}catch(_0x191e91){return!0x0;}};},function(_0xd1836d,_0x1fa90d,_0x15de0e){var _0x4853b1=_0x15de0e(0x2f),_0x54135e=_0x15de0e(0x1e);_0xd1836d[_0x1c61('0x1')]=function(_0xd1836d){return _0x4853b1(_0x54135e(_0xd1836d));};},function(_0x24936a,_0x3d9717,_0x381c37){'use strict';_0x3d9717[_0x1c61('0x5')]=!0x0;_0x381c37=_0x381c37(0x66),_0x381c37=_0x381c37&&_0x381c37['__esModule']?_0x381c37:{'default':_0x381c37};_0x3d9717[_0x1c61('0x8')]=_0x381c37[_0x1c61('0x8')]||function(_0x24936a){for(var _0x3d9717=0x1;_0x3d9717<arguments[_0x1c61('0xf')];_0x3d9717++){var _0x381c37,_0x289467=arguments[_0x3d9717];for(_0x381c37 in _0x289467)Object['prototype']['hasOwnProperty'][_0x1c61('0x0')](_0x289467,_0x381c37)&&(_0x24936a[_0x381c37]=_0x289467[_0x381c37]);}return _0x24936a;};},function(_0x40d766,_0x5adda1,_0x2b814e){var _0x419125=_0x2b814e(0x20);_0x40d766[_0x1c61('0x1')]=function(_0x148f55,_0x4b38d9,_0x40d766){if(_0x419125(_0x148f55),void 0x0===_0x4b38d9)return _0x148f55;switch(_0x40d766){case 0x1:return function(_0x40d766){return _0x148f55[_0x1c61('0x0')](_0x4b38d9,_0x40d766);};case 0x2:return function(_0x40d766,_0x5adda1){return _0x148f55[_0x1c61('0x0')](_0x4b38d9,_0x40d766,_0x5adda1);};case 0x3:return function(_0x40d766,_0x5adda1,_0x2b814e){return _0x148f55[_0x1c61('0x0')](_0x4b38d9,_0x40d766,_0x5adda1,_0x2b814e);};}return function(){return _0x148f55[_0x1c61('0x1d')](_0x4b38d9,arguments);};};},function(_0x43dd5b,_0x13cb1f){_0x43dd5b[_0x1c61('0x1')]={};},function(_0x2881b3,_0x45a9b8,_0x23b089){var _0x3da2cd=_0x23b089(0x1e);_0x2881b3[_0x1c61('0x1')]=function(_0x2881b3){return Object(_0x3da2cd(_0x2881b3));};},function(_0x1a7bce,_0x11ca30){_0x1a7bce[_0x1c61('0x1')]=!0x0;},function(_0x4d04c8,_0x52628e,_0x473fdc){var _0xb3795a=_0x473fdc(0x38),_0x405c8f=_0x473fdc(0x24);_0x4d04c8[_0x1c61('0x1')]=Object[_0x1c61('0x1e')]||function(_0x4d04c8){return _0xb3795a(_0x4d04c8,_0x405c8f);};},function(_0x10b040,_0x445e25){_0x10b040[_0x1c61('0x1')]=function(_0x10b040,_0x445e25){return{'enumerable':!(0x1&_0x10b040),'configurable':!(0x2&_0x10b040),'writable':!(0x4&_0x10b040),'value':_0x445e25};};},function(_0x35ed4a,_0x5026aa){var _0x117c99={}[_0x1c61('0x1f')];_0x35ed4a[_0x1c61('0x1')]=function(_0x35ed4a){return _0x117c99[_0x1c61('0x0')](_0x35ed4a)[_0x1c61('0x20')](0x8,-0x1);};},function(_0x21eb86,_0x44dd99,_0x59afe8){var _0x2e9d90=_0x59afe8(0x8)['f'],_0x48fd45=_0x59afe8(0xc),_0x473dc8=_0x59afe8(0x6)(_0x1c61('0x4'));_0x21eb86[_0x1c61('0x1')]=function(_0x21eb86,_0x44dd99,_0x59afe8){_0x21eb86&&!_0x48fd45(_0x21eb86=_0x59afe8?_0x21eb86:_0x21eb86[_0x1c61('0xb')],_0x473dc8)&&_0x2e9d90(_0x21eb86,_0x473dc8,{'configurable':!0x0,'value':_0x44dd99});};},function(_0x34aa5a,_0x45c845){var _0x37be73=0x0,_0x45bf7f=Math['random']();_0x34aa5a[_0x1c61('0x1')]=function(_0x34aa5a){return _0x1c61('0x21')[_0x1c61('0x22')](void 0x0===_0x34aa5a?'':_0x34aa5a,')_',(++_0x37be73+_0x45bf7f)[_0x1c61('0x1f')](0x24));};},function(_0x992c77,_0x6054ee,_0x19383e){'use strict';var _0x34febd=_0x19383e(0x53)(!0x0);_0x19383e(0x28)(String,'String',function(_0x992c77){this['_t']=String(_0x992c77),this['_i']=0x0;},function(){var _0x992c77=this['_t'],_0x6054ee=this['_i'];return _0x6054ee>=_0x992c77['length']?{'value':void 0x0,'done':!0x0}:(_0x992c77=_0x34febd(_0x992c77,_0x6054ee),this['_i']+=_0x992c77['length'],{'value':_0x992c77,'done':!0x1});});},function(_0x1adfee,_0x4317e3,_0x37edaa){'use strict';function _0x11545a(_0x1adfee,_0x4317e3){_0x1adfee=_0x39d77d()[_0x1c61('0x23')]({'x':_0x1adfee,'y':_0x4317e3});return{'x':_0x1adfee['x'],'y':_0x1adfee['z']};}function _0x375c18(){return _0x39d77d()['mode']===esmap['MapMode']['City'];}function _0x39d77d(){if(esmap[_0x1c61('0x24')])return esmap[_0x1c61('0x24')]['instance'];}Object[_0x1c61('0x2')](_0x4317e3,_0x1c61('0x5'),{'value':!0x0}),_0x4317e3['debounce']=_0x4317e3['getOS']=_0x4317e3[_0x1c61('0x25')]=_0x4317e3['clearShaderCode']=_0x4317e3[_0x1c61('0x26')]=_0x4317e3['selectBuildingMapEffectConfigPath']=_0x4317e3[_0x1c61('0x27')]=_0x4317e3[_0x1c61('0x28')]=_0x4317e3[_0x1c61('0x29')]=_0x4317e3['getBuiding']=_0x4317e3[_0x1c61('0x2a')]=_0x4317e3[_0x1c61('0x2b')]=_0x4317e3['checkIsParkEngine']=_0x4317e3['checkIsCityEngine']=_0x4317e3[_0x1c61('0x2c')]=_0x4317e3[_0x1c61('0x2d')]=void 0x0;var _0x49c095=_0x37edaa(0x62);function _0x145931(_0x1adfee){var _0x4317e3=_0x39d77d();return _0x4317e3['mode']===esmap[_0x1c61('0x2e')]['Building']?_0x4317e3['getBuilding']():_0x4317e3['getBuildingById'](_0x1adfee);}_0x4317e3[_0x1c61('0x2d')]=function(_0x1adfee,_0x4317e3){var _0x37edaa=_0x39d77d();return{'x':-(_0x37edaa[_0x1c61('0x2f')][_0x1c61('0x30')]+_0x1adfee),'y':_0x4317e3-_0x37edaa[_0x1c61('0x2f')][_0x1c61('0x31')]};},_0x4317e3[_0x1c61('0x2c')]=_0x11545a,_0x4317e3[_0x1c61('0x32')]=_0x375c18,_0x4317e3['checkIsParkEngine']=function(){return esmap[_0x1c61('0x33')][_0x1c61('0x34')]()===_0x49c095[_0x1c61('0x35')][_0x1c61('0x36')][_0x1c61('0x37')];},_0x4317e3[_0x1c61('0x2b')]=function(_0x1adfee,_0x4317e3,_0x37edaa){_0x4317e3=_0x11545a(_0x4317e3['x'],_0x4317e3['y']);_0x1adfee['position'][_0x1c61('0x1b')](_0x4317e3['x'],_0x37edaa,_0x4317e3['y']);},_0x4317e3['getMapInstance']=_0x39d77d,_0x4317e3[_0x1c61('0x38')]=_0x145931,_0x4317e3['getOutdoorBuildingTheme']=function(_0x1adfee){var _0x4317e3=_0x39d77d();if(_0x4317e3[_0x1c61('0x39')]===esmap['MapMode'][_0x1c61('0x3a')])return!0x1;var _0x37edaa=_0x145931();return _0x4317e3[_0x1c61('0x3b')][_0x1c61('0x3c')][_0x37edaa[_0x1c61('0x3d')]][_0x1c61('0x3e')][_0x1adfee];},_0x4317e3['getMaterialByRoomStyle']=function(_0x1adfee,_0x4317e3){return _0x1adfee[_0x1c61('0x3f')]&&_0x1adfee[_0x1c61('0x3f')][_0x1c61('0x40')]&&+_0x1adfee['datas_'][_0x1c61('0x40')]==+_0x4317e3?(_0x1adfee[_0x1c61('0x41')][0x0][_0x1c61('0x42')][_0x1c61('0x43')]=0x0,_0x1adfee['material'][0x0]):null;},_0x4317e3[_0x1c61('0x27')]=function(_0x1adfee,_0x4317e3,_0x37edaa){return _0x4317e3[_0x1c61('0x44')]&&(_0x1adfee[_0x1c61('0x45')]=_0x4317e3[_0x1c61('0x44')]),_0x4317e3[_0x1c61('0x46')]&&(_0x1adfee['effectId']=_0x4317e3[_0x1c61('0x46')]),0x1!=_0x1adfee[_0x1c61('0x47')][_0x1c61('0x48')]||_0x37edaa?_0x1adfee['options'][_0x1c61('0x49')]+'/worldeffect/'+_0x1adfee['effectId']+'/':0x3===_0x1adfee[_0x1c61('0x47')]['s']?_0x1adfee[_0x1c61('0x47')][_0x1c61('0x4a')]+_0x1adfee['id']+_0x1c61('0x4b')+_0x1adfee[_0x1c61('0x45')]+'/':_0x1adfee[_0x1c61('0x47')][_0x1c61('0x49')]+_0x1c61('0x4c')+_0x1adfee['id']+_0x1c61('0x4b')+_0x1adfee[_0x1c61('0x45')]+'/';},_0x4317e3[_0x1c61('0x4d')]=function(_0x1adfee,_0x4317e3){return!!_0x4317e3[_0x1c61('0x4e')]&&''+_0x1adfee[_0x1c61('0x47')][_0x1c61('0x4a')]+_0x1adfee['id']+_0x1c61('0x4f')+_0x4317e3[_0x1c61('0x4e')]['effectThemeId']+'/';},_0x4317e3[_0x1c61('0x26')]=function(_0x1adfee){return _0x375c18()?_0x1adfee&&-0x1==_0x1adfee[_0x1c61('0x50')]('upload/')?esmap[_0x1c61('0x51')][_0x1c61('0x52')]+_0x1adfee:esmap['ESEffectTool'][_0x1c61('0x53')]+_0x1adfee:(esmap[_0x1c61('0x51')][_0x1c61('0x52')],esmap[_0x1c61('0x51')][_0x1c61('0x54')]&&esmap['ESEffectTool']['switchConfigPath'],esmap['ESEffectTool'][_0x1c61('0x52')]+_0x1adfee);},_0x4317e3[_0x1c61('0x55')]=function(_0x1adfee){_0x1adfee&&(_0x1adfee[_0x1c61('0x56')]&&(_0x1adfee[_0x1c61('0x56')]=''),_0x1adfee[_0x1c61('0x57')]&&(_0x1adfee[_0x1c61('0x57')]=''));},_0x4317e3[_0x1c61('0x25')]=function(_0x1adfee,_0x4317e3){var _0x1adfee=_0x1adfee/0xb4*Math['PI']+Math['PI']/0x2,_0x4317e3=-_0x4317e3/0xb4*Math['PI']+Math['PI']/0x2,_0x37edaa=new THREE['Vector3'](),_0x11545a=Math[_0x1c61('0x58')](_0x1adfee);return _0x37edaa['x']=_0x11545a*Math[_0x1c61('0x59')](_0x4317e3),_0x37edaa['y']=-Math['cos'](_0x1adfee),_0x37edaa['z']=_0x11545a*Math[_0x1c61('0x58')](_0x4317e3),_0x37edaa;},_0x4317e3[_0x1c61('0x5a')]=function(){return/macintosh|mac os x/i[_0x1c61('0x5b')](navigator[_0x1c61('0x5c')]);},_0x4317e3['debounce']=function(_0x11545a,_0x375c18,_0x39d77d){var _0x49c095=void 0x0,_0x145931=void 0x0;if(_0x1c61('0x13')!=typeof _0x11545a)throw new TypeError(_0x1c61('0x5d'));function _0x1adfee(){var _0x1adfee,_0x4317e3=this,_0x37edaa=arguments;return _0x49c095&&clearTimeout(_0x49c095),_0x39d77d?(_0x1adfee=!_0x49c095,_0x49c095=setTimeout(function(){_0x49c095=null;},_0x375c18),_0x1adfee&&(_0x145931=_0x11545a[_0x1c61('0x1d')](_0x4317e3,_0x37edaa))):_0x49c095=setTimeout(function(){_0x11545a[_0x1c61('0x1d')](_0x4317e3,_0x37edaa);},_0x375c18),_0x145931;}return _0x375c18=_0x375c18||0x0,_0x1adfee[_0x1c61('0x5e')]=function(){clearTimeout(_0x49c095),_0x49c095=null;},_0x1adfee;};},function(_0x332367,_0xdb98ca,_0x40fc56){_0x40fc56(0x4e);for(var _0x3df0e3=_0x40fc56(0x5),_0x1a7b03=_0x40fc56(0xb),_0x336dc3=_0x40fc56(0x11),_0xc4c230=_0x40fc56(0x6)(_0x1c61('0x4')),_0x1f10ef='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'[_0x1c61('0x5f')](','),_0x25744a=0x0;_0x25744a<_0x1f10ef[_0x1c61('0xf')];_0x25744a++){var _0xc599b3=_0x1f10ef[_0x25744a],_0x3736e0=_0x3df0e3[_0xc599b3],_0x3736e0=_0x3736e0&&_0x3736e0[_0x1c61('0xb')];_0x3736e0&&!_0x3736e0[_0xc4c230]&&_0x1a7b03(_0x3736e0,_0xc4c230,_0xc599b3),_0x336dc3[_0xc599b3]=_0x336dc3[_0x1c61('0x60')];}},function(_0x2b9463,_0x56d650){_0x56d650['f']={}['propertyIsEnumerable'];},function(_0x7ebea8,_0x2bbdb5,_0x4c54fa){_0x7ebea8[_0x1c61('0x1')]={'default':_0x4c54fa(0x6c),'__esModule':!0x0};},function(_0x53a6a1,_0x260f4b){_0x53a6a1[_0x1c61('0x1')]=function(_0x53a6a1){if(null==_0x53a6a1)throw TypeError(_0x1c61('0x61')+_0x53a6a1);return _0x53a6a1;};},function(_0x41cf12,_0x2d2286,_0x42b959){function _0x3755fe(){}var _0x1f42a0=_0x42b959(0xa),_0x444f1f=_0x42b959(0x3d),_0x482ca2=_0x42b959(0x24),_0x2973d3=_0x42b959(0x22)(_0x1c61('0x62')),_0x3ca9b9='prototype',_0x45c109=function(){var _0x41cf12=_0x42b959(0x27)('iframe'),_0x2d2286=_0x482ca2[_0x1c61('0xf')];for(_0x41cf12['style'][_0x1c61('0x63')]=_0x1c61('0x64'),_0x42b959(0x43)[_0x1c61('0x65')](_0x41cf12),_0x41cf12[_0x1c61('0x66')]='javascript:',(_0x41cf12=_0x41cf12['contentWindow'][_0x1c61('0x67')])[_0x1c61('0x68')](),_0x41cf12[_0x1c61('0x69')]('<script>document.F=Object</script>'),_0x41cf12[_0x1c61('0x6a')](),_0x45c109=_0x41cf12['F'];_0x2d2286--;)delete _0x45c109[_0x3ca9b9][_0x482ca2[_0x2d2286]];return _0x45c109();};_0x41cf12[_0x1c61('0x1')]=Object['create']||function(_0x41cf12,_0x2d2286){var _0x42b959;return null!==_0x41cf12?(_0x3755fe[_0x3ca9b9]=_0x1f42a0(_0x41cf12),_0x42b959=new _0x3755fe(),_0x3755fe[_0x3ca9b9]=null,_0x42b959[_0x2973d3]=_0x41cf12):_0x42b959=_0x45c109(),void 0x0===_0x2d2286?_0x42b959:_0x444f1f(_0x42b959,_0x2d2286);};},function(_0x5ea541,_0x4dc6b3){_0x5ea541[_0x1c61('0x1')]=function(_0x5ea541){if(_0x1c61('0x13')!=typeof _0x5ea541)throw TypeError(_0x5ea541+_0x1c61('0x6b'));return _0x5ea541;};},function(_0x3c6dd6,_0x2600de){var _0x5a8854=Math['ceil'],_0x5fd5db=Math[_0x1c61('0x6c')];_0x3c6dd6[_0x1c61('0x1')]=function(_0x3c6dd6){return isNaN(_0x3c6dd6=+_0x3c6dd6)?0x0:(0x0<_0x3c6dd6?_0x5fd5db:_0x5a8854)(_0x3c6dd6);};},function(_0x4566b0,_0x50f8d7,_0x46c9ac){var _0x32f761=_0x46c9ac(0x23)('keys'),_0x1d4877=_0x46c9ac(0x18);_0x4566b0[_0x1c61('0x1')]=function(_0x4566b0){return _0x32f761[_0x4566b0]||(_0x32f761[_0x4566b0]=_0x1d4877(_0x4566b0));};},function(_0x2a563d,_0x22063c,_0x255e49){var _0x1910bf=_0x255e49(0x2),_0x32b9bd=_0x255e49(0x5),_0x11ac43=_0x1c61('0x6d'),_0x509efe=_0x32b9bd[_0x11ac43]||(_0x32b9bd[_0x11ac43]={});(_0x2a563d[_0x1c61('0x1')]=function(_0x2a563d,_0x22063c){return _0x509efe[_0x2a563d]||(_0x509efe[_0x2a563d]=void 0x0!==_0x22063c?_0x22063c:{});})(_0x1c61('0x6e'),[])[_0x1c61('0x6f')]({'version':_0x1910bf['version'],'mode':_0x255e49(0x13)?_0x1c61('0x70'):'global','copyright':_0x1c61('0x71')});},function(_0x2b5148,_0x558a87){_0x2b5148[_0x1c61('0x1')]=_0x1c61('0x72')[_0x1c61('0x5f')](',');},function(_0x16a039,_0x3a9a85,_0x501050){var _0x329d88=_0x501050(0x9);_0x16a039[_0x1c61('0x1')]=function(_0x16a039,_0x3a9a85){if(!_0x329d88(_0x16a039))return _0x16a039;var _0x501050,_0x3df9e4;if(_0x3a9a85&&_0x1c61('0x13')==typeof(_0x501050=_0x16a039[_0x1c61('0x1f')])&&!_0x329d88(_0x3df9e4=_0x501050[_0x1c61('0x0')](_0x16a039)))return _0x3df9e4;if(_0x1c61('0x13')==typeof(_0x501050=_0x16a039[_0x1c61('0x73')])&&!_0x329d88(_0x3df9e4=_0x501050[_0x1c61('0x0')](_0x16a039)))return _0x3df9e4;if(_0x3a9a85||_0x1c61('0x13')!=typeof(_0x501050=_0x16a039['toString'])||_0x329d88(_0x3df9e4=_0x501050[_0x1c61('0x0')](_0x16a039)))throw TypeError(_0x1c61('0x74'));return _0x3df9e4;};},function(_0x12843d,_0x2ed526,_0xb0599a){_0x12843d['exports']={'default':_0xb0599a(0x86),'__esModule':!0x0};},function(_0x3afc8c,_0x1756c7,_0x5ce99d){var _0x23b447=_0x5ce99d(0x9),_0x5e725e=_0x5ce99d(0x5)[_0x1c61('0x67')],_0x45d113=_0x23b447(_0x5e725e)&&_0x23b447(_0x5e725e[_0x1c61('0x75')]);_0x3afc8c[_0x1c61('0x1')]=function(_0x3afc8c){return _0x45d113?_0x5e725e[_0x1c61('0x75')](_0x3afc8c):{};};},function(_0x4cf72d,_0x2ec396,_0x3d0a77){'use strict';function _0x5e5b89(){return this;}var _0x231c6a=_0x3d0a77(0x13),_0x63c9f7=_0x3d0a77(0x3),_0x1dd541=_0x3d0a77(0x37),_0x4ab276=_0x3d0a77(0xb),_0x4c788f=_0x3d0a77(0x11),_0x1b82b7=_0x3d0a77(0x50),_0x6ba2be=_0x3d0a77(0x17),_0x1707dc=_0x3d0a77(0x44),_0x413190=_0x3d0a77(0x6)(_0x1c61('0x76')),_0x3f2f40=!([][_0x1c61('0x1e')]&&_0x1c61('0x77')in[]['keys']()),_0x2450a8=_0x1c61('0x78');_0x4cf72d['exports']=function(_0x4cf72d,_0x2ec396,_0x3d0a77,_0x28ce92,_0x1b61d5,_0x4e7273,_0x436313){function _0x4667bf(_0x4cf72d){if(!_0x3f2f40&&_0x4cf72d in _0x25eae0)return _0x25eae0[_0x4cf72d];switch(_0x4cf72d){case _0x1c61('0x1e'):case _0x2450a8:return function(){return new _0x3d0a77(this,_0x4cf72d);};}return function(){return new _0x3d0a77(this,_0x4cf72d);};}_0x1b82b7(_0x3d0a77,_0x2ec396,_0x28ce92);var _0x2263f1,_0x5c66ef,_0x28ce92=_0x2ec396+_0x1c61('0x79'),_0x22a3cb=_0x1b61d5==_0x2450a8,_0x583662=!0x1,_0x25eae0=_0x4cf72d['prototype'],_0x4658df=_0x25eae0[_0x413190]||_0x25eae0['@@iterator']||_0x1b61d5&&_0x25eae0[_0x1b61d5],_0x4672e1=_0x4658df||_0x4667bf(_0x1b61d5),_0x16313e=_0x1b61d5?_0x22a3cb?_0x4667bf(_0x1c61('0x7a')):_0x4672e1:void 0x0,_0x2ad54b='Array'==_0x2ec396&&_0x25eae0[_0x1c61('0x7a')]||_0x4658df;if(_0x2ad54b&&(_0x2ad54b=_0x1707dc(_0x2ad54b['call'](new _0x4cf72d())))!==Object[_0x1c61('0xb')]&&_0x2ad54b['next']&&(_0x6ba2be(_0x2ad54b,_0x28ce92,!0x0),_0x231c6a||'function'==typeof _0x2ad54b[_0x413190]||_0x4ab276(_0x2ad54b,_0x413190,_0x5e5b89)),_0x22a3cb&&_0x4658df&&_0x4658df[_0x1c61('0x7b')]!==_0x2450a8&&(_0x583662=!0x0,_0x4672e1=function(){return _0x4658df[_0x1c61('0x0')](this);}),_0x231c6a&&!_0x436313||!_0x3f2f40&&!_0x583662&&_0x25eae0[_0x413190]||_0x4ab276(_0x25eae0,_0x413190,_0x4672e1),_0x4c788f[_0x2ec396]=_0x4672e1,_0x4c788f[_0x28ce92]=_0x5e5b89,_0x1b61d5)if(_0x2263f1={'values':_0x22a3cb?_0x4672e1:_0x4667bf(_0x2450a8),'keys':_0x4e7273?_0x4672e1:_0x4667bf('keys'),'entries':_0x16313e},_0x436313)for(_0x5c66ef in _0x2263f1)_0x5c66ef in _0x25eae0||_0x1dd541(_0x25eae0,_0x5c66ef,_0x2263f1[_0x5c66ef]);else _0x63c9f7(_0x63c9f7['P']+_0x63c9f7['F']*(_0x3f2f40||_0x583662),_0x2ec396,_0x2263f1);return _0x2263f1;};},function(_0x170af6,_0x17cb30,_0x15c6b9){_0x17cb30['f']=_0x15c6b9(0x6);},function(_0xa1bc84,_0x2eb028,_0x5ab0bc){var _0x5505f4=_0x5ab0bc(0x5),_0x16449b=_0x5ab0bc(0x2),_0x22286c=_0x5ab0bc(0x13),_0x41c8cd=_0x5ab0bc(0x29),_0x24beb6=_0x5ab0bc(0x8)['f'];_0xa1bc84[_0x1c61('0x1')]=function(_0xa1bc84){var _0x2eb028=_0x16449b[_0x1c61('0x17')]||(_0x16449b['Symbol']=!_0x22286c&&_0x5505f4[_0x1c61('0x17')]||{});'_'==_0xa1bc84[_0x1c61('0x7c')](0x0)||_0xa1bc84 in _0x2eb028||_0x24beb6(_0x2eb028,_0xa1bc84,{'value':_0x41c8cd['f'](_0xa1bc84)});};},function(_0xcacabb,_0x2427d5,_0x23b25b){var _0x23b39e=_0x23b25b(0x21),_0x1ef1b0=Math[_0x1c61('0x7d')];_0xcacabb[_0x1c61('0x1')]=function(_0xcacabb){return 0x0<_0xcacabb?_0x1ef1b0(_0x23b39e(_0xcacabb),0x1fffffffffffff):0x0;};},function(_0x4bdebb,_0x1065a7,_0x301047){var _0x2ada60=_0x301047(0x16),_0x1c4232=_0x301047(0x6)('toStringTag'),_0x1d0b02='Arguments'==_0x2ada60(function(){return arguments;}());_0x4bdebb[_0x1c61('0x1')]=function(_0x4bdebb){var _0x1065a7;return void 0x0===_0x4bdebb?_0x1c61('0x7e'):null===_0x4bdebb?_0x1c61('0x7f'):'string'==typeof(_0x1065a7=function(_0x4bdebb,_0x1065a7){try{return _0x4bdebb[_0x1065a7];}catch(_0x3450ae){}}(_0x4bdebb=Object(_0x4bdebb),_0x1c4232))?_0x1065a7:_0x1d0b02?_0x2ada60(_0x4bdebb):'Object'==(_0x1065a7=_0x2ada60(_0x4bdebb))&&_0x1c61('0x13')==typeof _0x4bdebb['callee']?_0x1c61('0x80'):_0x1065a7;};},function(_0x4799d4,_0x25b745){_0x25b745['f']=Object[_0x1c61('0x81')];},function(_0xe339b1,_0x5c500c,_0xc9529d){_0xe339b1['exports']={'default':_0xc9529d(0x88),'__esModule':!0x0};},function(_0x4383da,_0x2b1824,_0x43a00a){var _0x6c47cd=_0x43a00a(0x16);_0x4383da[_0x1c61('0x1')]=Object('z')[_0x1c61('0x82')](0x0)?Object:function(_0x4383da){return _0x1c61('0x83')==_0x6c47cd(_0x4383da)?_0x4383da[_0x1c61('0x5f')](''):Object(_0x4383da);};},function(_0x27d1f5,_0x4262d0,_0xc876d4){'use strict';_0x4262d0[_0x1c61('0x5')]=!0x0;var _0x399def=_0x26cb76(_0xc876d4(0x57)),_0x98c62c=_0x26cb76(_0xc876d4(0x45)),_0x248368='function'==typeof _0x98c62c['default']&&_0x1c61('0x84')==typeof _0x399def['default']?function(_0x27d1f5){return typeof _0x27d1f5;}:function(_0x27d1f5){return _0x27d1f5&&'function'==typeof _0x98c62c[_0x1c61('0x8')]&&_0x27d1f5[_0x1c61('0x85')]===_0x98c62c[_0x1c61('0x8')]&&_0x27d1f5!==_0x98c62c[_0x1c61('0x8')]['prototype']?_0x1c61('0x84'):typeof _0x27d1f5;};function _0x26cb76(_0x27d1f5){return _0x27d1f5&&_0x27d1f5[_0x1c61('0x5')]?_0x27d1f5:{'default':_0x27d1f5};}_0x4262d0['default']=_0x1c61('0x13')==typeof _0x98c62c[_0x1c61('0x8')]&&_0x1c61('0x84')===_0x248368(_0x399def['default'])?function(_0x27d1f5){return void 0x0===_0x27d1f5?_0x1c61('0x3'):_0x248368(_0x27d1f5);}:function(_0x27d1f5){return _0x27d1f5&&'function'==typeof _0x98c62c[_0x1c61('0x8')]&&_0x27d1f5[_0x1c61('0x85')]===_0x98c62c[_0x1c61('0x8')]&&_0x27d1f5!==_0x98c62c[_0x1c61('0x8')][_0x1c61('0xb')]?'symbol':void 0x0===_0x27d1f5?_0x1c61('0x3'):_0x248368(_0x27d1f5);};},function(_0x289e65,_0x4795ae,_0x3bab3e){'use strict';_0x4795ae[_0x1c61('0x5')]=!0x0;var _0x3bab3e=_0x3bab3e(0x30),_0x5822a7=_0x3bab3e&&_0x3bab3e['__esModule']?_0x3bab3e:{'default':_0x3bab3e};_0x4795ae['default']=function(_0x289e65,_0x4795ae){if(_0x289e65)return!_0x4795ae||'object'!==(void 0x0===_0x4795ae?_0x1c61('0x3'):(0x0,_0x5822a7[_0x1c61('0x8')])(_0x4795ae))&&_0x1c61('0x13')!=typeof _0x4795ae?_0x289e65:_0x4795ae;throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');};},function(_0x9fc93e,_0x30e037,_0x213d4e){'use strict';_0x30e037[_0x1c61('0x5')]=!0x0;var _0x46956b=_0x328ec5(_0x213d4e(0x75)),_0x24e584=_0x328ec5(_0x213d4e(0x1d)),_0x40e6e7=_0x328ec5(_0x213d4e(0x30));function _0x328ec5(_0x9fc93e){return _0x9fc93e&&_0x9fc93e['__esModule']?_0x9fc93e:{'default':_0x9fc93e};}_0x30e037[_0x1c61('0x8')]=function(_0x9fc93e,_0x30e037){if(_0x1c61('0x13')!=typeof _0x30e037&&null!==_0x30e037)throw new TypeError(_0x1c61('0x86')+(void 0x0===_0x30e037?_0x1c61('0x3'):(0x0,_0x40e6e7[_0x1c61('0x8')])(_0x30e037)));_0x9fc93e[_0x1c61('0xb')]=(0x0,_0x24e584['default'])(_0x30e037&&_0x30e037[_0x1c61('0xb')],{'constructor':{'value':_0x9fc93e,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0x30e037&&(_0x46956b[_0x1c61('0x8')]?(0x0,_0x46956b[_0x1c61('0x8')])(_0x9fc93e,_0x30e037):_0x9fc93e[_0x1c61('0x87')]=_0x30e037);};},function(_0x51aa2f,_0x2e4887,_0x3c9135){_0x51aa2f[_0x1c61('0x1')]={'default':_0x3c9135(0x4b),'__esModule':!0x0};},function(_0x1c9539,_0xc2e7b,_0x2be526){var _0x238c24=_0x2be526(0x10),_0x25931e=_0x2be526(0x6a),_0x3299b7=_0x2be526(0x6b),_0x3539b7=_0x2be526(0xa),_0x57f0ad=_0x2be526(0x2b),_0x2272bc=_0x2be526(0x39),_0x88b25f={},_0x2ff265={};(_0xc2e7b=_0x1c9539[_0x1c61('0x1')]=function(_0x1c9539,_0xc2e7b,_0x2be526,_0x20ae21,_0x566b90){var _0x3b581c,_0xd2391,_0x1a9ef1,_0x5c65fc,_0x566b90=_0x566b90?function(){return _0x1c9539;}:_0x2272bc(_0x1c9539),_0x41e446=_0x238c24(_0x2be526,_0x20ae21,_0xc2e7b?0x2:0x1),_0xb0af1e=0x0;if(_0x1c61('0x13')!=typeof _0x566b90)throw TypeError(_0x1c9539+_0x1c61('0x88'));if(_0x3299b7(_0x566b90)){for(_0x3b581c=_0x57f0ad(_0x1c9539[_0x1c61('0xf')]);_0xb0af1e<_0x3b581c;_0xb0af1e++)if((_0x5c65fc=_0xc2e7b?_0x41e446(_0x3539b7(_0xd2391=_0x1c9539[_0xb0af1e])[0x0],_0xd2391[0x1]):_0x41e446(_0x1c9539[_0xb0af1e]))===_0x88b25f||_0x5c65fc===_0x2ff265)return _0x5c65fc;}else for(_0x1a9ef1=_0x566b90[_0x1c61('0x0')](_0x1c9539);!(_0xd2391=_0x1a9ef1[_0x1c61('0x77')]())[_0x1c61('0x89')];)if((_0x5c65fc=_0x25931e(_0x1a9ef1,_0x41e446,_0xd2391[_0x1c61('0x1c')],_0xc2e7b))===_0x88b25f||_0x5c65fc===_0x2ff265)return _0x5c65fc;})['BREAK']=_0x88b25f,_0xc2e7b[_0x1c61('0x8a')]=_0x2ff265;},function(_0x446e6,_0x15a9ed){},function(_0x3db98f,_0x2b624e,_0x3942fd){_0x3db98f['exports']=!_0x3942fd(0x7)&&!_0x3942fd(0xd)(function(){return 0x7!=Object[_0x1c61('0x2')](_0x3942fd(0x27)('div'),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x5bd139,_0x573df6,_0x19e4e6){_0x5bd139[_0x1c61('0x1')]=_0x19e4e6(0xb);},function(_0x426cb4,_0x2a07d0,_0x4d99a8){var _0x4156a5=_0x4d99a8(0xc),_0x309fa9=_0x4d99a8(0xe),_0x3ddbc7=_0x4d99a8(0x51)(!0x1),_0x1fdb10=_0x4d99a8(0x22)(_0x1c61('0x62'));_0x426cb4['exports']=function(_0x426cb4,_0x2a07d0){var _0x4d99a8,_0x2a293f=_0x309fa9(_0x426cb4),_0x5e85d0=0x0,_0x319752=[];for(_0x4d99a8 in _0x2a293f)_0x4d99a8!=_0x1fdb10&&_0x4156a5(_0x2a293f,_0x4d99a8)&&_0x319752[_0x1c61('0x6f')](_0x4d99a8);for(;_0x2a07d0[_0x1c61('0xf')]>_0x5e85d0;)_0x4156a5(_0x2a293f,_0x4d99a8=_0x2a07d0[_0x5e85d0++])&&!~_0x3ddbc7(_0x319752,_0x4d99a8)&&_0x319752['push'](_0x4d99a8);return _0x319752;};},function(_0x8ad1c0,_0x2bf85d,_0x15ba6b){var _0x4eda8f=_0x15ba6b(0x2c),_0x272291=_0x15ba6b(0x6)(_0x1c61('0x76')),_0x336b30=_0x15ba6b(0x11);_0x8ad1c0['exports']=_0x15ba6b(0x2)['getIteratorMethod']=function(_0x8ad1c0){if(null!=_0x8ad1c0)return _0x8ad1c0[_0x272291]||_0x8ad1c0[_0x1c61('0x8b')]||_0x336b30[_0x4eda8f(_0x8ad1c0)];};},function(_0x1f50db,_0xcbc73c,_0x26931c){function _0x5d83fd(_0x1f50db){_0x242f23(_0x1f50db,_0x532424,{'value':{'i':'O'+ ++_0x57f673,'w':{}}});}var _0x532424=_0x26931c(0x18)('meta'),_0x3b4af9=_0x26931c(0x9),_0x2ff2ab=_0x26931c(0xc),_0x242f23=_0x26931c(0x8)['f'],_0x57f673=0x0,_0x33b4b3=Object[_0x1c61('0x8c')]||function(){return!0x0;},_0x33a26c=!_0x26931c(0xd)(function(){return _0x33b4b3(Object['preventExtensions']({}));}),_0xb8a476=_0x1f50db[_0x1c61('0x1')]={'KEY':_0x532424,'NEED':!0x1,'fastKey':function(_0x1f50db,_0xcbc73c){if(!_0x3b4af9(_0x1f50db))return'symbol'==typeof _0x1f50db?_0x1f50db:(_0x1c61('0x9')==typeof _0x1f50db?'S':'P')+_0x1f50db;if(!_0x2ff2ab(_0x1f50db,_0x532424)){if(!_0x33b4b3(_0x1f50db))return'F';if(!_0xcbc73c)return'E';_0x5d83fd(_0x1f50db);}return _0x1f50db[_0x532424]['i'];},'getWeak':function(_0x1f50db,_0xcbc73c){if(!_0x2ff2ab(_0x1f50db,_0x532424)){if(!_0x33b4b3(_0x1f50db))return!0x0;if(!_0xcbc73c)return!0x1;_0x5d83fd(_0x1f50db);}return _0x1f50db[_0x532424]['w'];},'onFreeze':function(_0x1f50db){return _0x33a26c&&_0xb8a476[_0x1c61('0x8d')]&&_0x33b4b3(_0x1f50db)&&!_0x2ff2ab(_0x1f50db,_0x532424)&&_0x5d83fd(_0x1f50db),_0x1f50db;}};},function(_0x251dd9,_0x1784c1,_0x5acdc9){'use strict';Object[_0x1c61('0x2')](_0x1784c1,_0x1c61('0x5'),{'value':!0x0}),_0x1784c1['EventDispatcher']=void 0x0;_0x5acdc9=_0x5acdc9(0xf);function _0xf4fb77(){}(0x0,(_0x5acdc9&&_0x5acdc9[_0x1c61('0x5')]?_0x5acdc9:{'default':_0x5acdc9})['default'])(_0xf4fb77[_0x1c61('0xb')],{'addEventListener':function(_0x251dd9,_0x1784c1){void 0x0===this['_listeners']&&(this[_0x1c61('0x8e')]={});var _0x5acdc9=this[_0x1c61('0x8e')];void 0x0===_0x5acdc9[_0x251dd9]&&(_0x5acdc9[_0x251dd9]=[]),-0x1===_0x5acdc9[_0x251dd9][_0x1c61('0x50')](_0x1784c1)&&_0x5acdc9[_0x251dd9][_0x1c61('0x6f')](_0x1784c1);},'hasEventListener':function(_0x251dd9,_0x1784c1){if(void 0x0===this[_0x1c61('0x8e')])return!0x1;var _0x5acdc9=this[_0x1c61('0x8e')];return void 0x0!==_0x5acdc9[_0x251dd9]&&-0x1!==_0x5acdc9[_0x251dd9]['indexOf'](_0x1784c1);},'removeEventListener':function(_0x251dd9,_0x1784c1){void 0x0!==this[_0x1c61('0x8e')]&&void 0x0!==(_0x251dd9=this[_0x1c61('0x8e')][_0x251dd9])&&-0x1!==(_0x1784c1=_0x251dd9[_0x1c61('0x50')](_0x1784c1))&&_0x251dd9[_0x1c61('0x8f')](_0x1784c1,0x1);},'dispatchEvent':function(_0x251dd9){if(void 0x0!==this[_0x1c61('0x8e')]){var _0x1784c1=this[_0x1c61('0x8e')][_0x251dd9[_0x1c61('0x90')]];if(void 0x0!==_0x1784c1){_0x251dd9[_0x1c61('0x91')]=this;for(var _0x5acdc9=_0x1784c1[_0x1c61('0x20')](0x0),_0xf4fb77=0x0,_0x402544=_0x5acdc9[_0x1c61('0xf')];_0xf4fb77<_0x402544;_0xf4fb77++)_0x5acdc9[_0xf4fb77][_0x1c61('0x0')](this,_0x251dd9);}}}}),_0x1784c1[_0x1c61('0x92')]=_0xf4fb77;},function(_0x1e93f5,_0x5f2c51,_0x4e1b3){'use strict';Object[_0x1c61('0x2')](_0x5f2c51,_0x1c61('0x5'),{'value':!0x0});var _0x2ce3be=_0x8120e(_0x4e1b3(0x2e)),_0x3de77e=_0x8120e(_0x4e1b3(0x4)),_0x241404=_0x8120e(_0x4e1b3(0x0));function _0x8120e(_0x1e93f5){return _0x1e93f5&&_0x1e93f5['__esModule']?_0x1e93f5:{'default':_0x1e93f5};}function _0x10aa22(){(0x0,_0x241404[_0x1c61('0x8')])(this,_0x10aa22),this[_0x1c61('0x93')]=new THREE[(_0x1c61('0x94'))](),this[_0x1c61('0x95')]=[];}(0x0,_0x8120e(_0x4e1b3(0x1))[_0x1c61('0x8')])(_0x10aa22,[{'key':_0x1c61('0x96'),'value':function(_0x1e93f5,_0x5f2c51){var _0x4e1b3=this[_0x1c61('0x97')](_0x1e93f5);return _0x5f2c51||!_0x4e1b3?(_0x5f2c51=this[_0x1c61('0x93')][_0x1c61('0x96')](_0x1e93f5),this[_0x1c61('0x95')][_0x1c61('0x6f')]({'texture':_0x5f2c51,'path':_0x1e93f5}),_0x5f2c51):_0x4e1b3['texture'];}},{'key':_0x1c61('0x97'),'value':function(_0x1e93f5){var _0x5f2c51=!0x0,_0x4e1b3=!0x1,_0x241404=void 0x0;try{for(var _0x2ce3be,_0x8120e=(0x0,_0x3de77e[_0x1c61('0x8')])(this['textureList']);!(_0x5f2c51=(_0x2ce3be=_0x8120e[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5f2c51=!0x0){var _0x10aa22=_0x2ce3be[_0x1c61('0x1c')];if(_0x10aa22[_0x1c61('0x98')]===_0x1e93f5)return _0x10aa22;}}catch(_0x20c130){_0x4e1b3=!0x0,_0x241404=_0x20c130;}finally{try{!_0x5f2c51&&_0x8120e[_0x1c61('0x99')]&&_0x8120e[_0x1c61('0x99')]();}finally{if(_0x4e1b3)throw _0x241404;}}return!0x1;}},{'key':'multiTexturesLoad','value':function(_0x1e93f5){for(var _0x5f2c51=[],_0x4e1b3=0x0,_0x241404=_0x1e93f5['length'];_0x4e1b3<_0x241404;_0x4e1b3++)_0x1e93f5[_0x4e1b3]['path']&&_0x5f2c51[_0x1c61('0x6f')](this[_0x1c61('0x9a')](_0x1e93f5[_0x4e1b3]));return _0x2ce3be[_0x1c61('0x8')]['all'](_0x5f2c51);}},{'key':_0x1c61('0x9a'),'value':function(_0x4e1b3){var _0x241404=this;return new _0x2ce3be[(_0x1c61('0x8'))](function(_0x5f2c51,_0x1e93f5){_0x241404['textureLoader']['load'](_0x4e1b3['path'],function(_0x1e93f5){_0x1e93f5[_0x1c61('0x7b')]=_0x4e1b3[_0x1c61('0x7b')],_0x5f2c51(_0x1e93f5);});});}}],[{'key':_0x1c61('0x9b'),'value':function(_0x241404){return new _0x2ce3be[(_0x1c61('0x8'))](function(_0x1e93f5,_0x5f2c51){var _0x4e1b3=new THREE[(_0x1c61('0x9c'))]()[_0x1c61('0x96')](_0x241404,function(){_0x1e93f5(_0x4e1b3);});});}},{'key':_0x1c61('0x9d'),'value':function(_0x4e1b3){return new _0x2ce3be[(_0x1c61('0x8'))](function(_0x5f2c51,_0x1e93f5){new THREE[(_0x1c61('0x94'))]()['load'](_0x4e1b3,function(_0x1e93f5){_0x5f2c51(_0x1e93f5);});});}}]),_0x5f2c51[_0x1c61('0x8')]=_0x10aa22;},function(_0x1f0318,_0xa3695f,_0x37a448){var _0x383dd8=_0x37a448(0x8),_0x594f25=_0x37a448(0xa),_0x4716d1=_0x37a448(0x14);_0x1f0318['exports']=_0x37a448(0x7)?Object['defineProperties']:function(_0x1f0318,_0xa3695f){_0x594f25(_0x1f0318);for(var _0x37a448,_0x5dc978=_0x4716d1(_0xa3695f),_0x550cbf=_0x5dc978['length'],_0x26223f=0x0;_0x26223f<_0x550cbf;)_0x383dd8['f'](_0x1f0318,_0x37a448=_0x5dc978[_0x26223f++],_0xa3695f[_0x37a448]);return _0x1f0318;};},function(_0x24470a,_0x142e53,_0xe1ab0d){_0x24470a['exports']={'default':_0xe1ab0d(0x64),'__esModule':!0x0};},function(_0x4152cd,_0x1209c4,_0x3ea310){var _0x55b69e=_0x3ea310(0x38),_0x5236c9=_0x3ea310(0x24)[_0x1c61('0x22')](_0x1c61('0xf'),_0x1c61('0xb'));_0x1209c4['f']=Object[_0x1c61('0x9e')]||function(_0x4152cd){return _0x55b69e(_0x4152cd,_0x5236c9);};},function(_0x376b97,_0x247a6c,_0x170b3d){var _0x937b2a=_0x170b3d(0x1c),_0x1020a0=_0x170b3d(0x15),_0x5dee42=_0x170b3d(0xe),_0x51fa33=_0x170b3d(0x25),_0x558171=_0x170b3d(0xc),_0x5975fa=_0x170b3d(0x36),_0x19dcc2=Object[_0x1c61('0x9f')];_0x247a6c['f']=_0x170b3d(0x7)?_0x19dcc2:function(_0x376b97,_0x247a6c){if(_0x376b97=_0x5dee42(_0x376b97),_0x247a6c=_0x51fa33(_0x247a6c,!0x0),_0x5975fa)try{return _0x19dcc2(_0x376b97,_0x247a6c);}catch(_0x2dc202){}if(_0x558171(_0x376b97,_0x247a6c))return _0x1020a0(!_0x937b2a['f'][_0x1c61('0x0')](_0x376b97,_0x247a6c),_0x376b97[_0x247a6c]);};},function(_0x307d13,_0x5d74e9,_0x5c3ecf){'use strict';Object[_0x1c61('0x2')](_0x5d74e9,_0x1c61('0x5'),{'value':!0x0}),_0x5d74e9['ModelTerrain']=_0x5d74e9[_0x1c61('0xa0')]=_0x5d74e9[_0x1c61('0xa1')]=_0x5d74e9[_0x1c61('0xa2')]=_0x5d74e9[_0x1c61('0xa3')]=_0x5d74e9[_0x1c61('0xa4')]=_0x5d74e9[_0x1c61('0xa5')]=_0x5d74e9[_0x1c61('0xa6')]=_0x5d74e9[_0x1c61('0xa7')]=_0x5d74e9[_0x1c61('0xa8')]=_0x5d74e9[_0x1c61('0xa9')]=_0x5d74e9[_0x1c61('0xaa')]=_0x5d74e9[_0x1c61('0xab')]=_0x5d74e9['GroundPoints']=_0x5d74e9[_0x1c61('0xac')]=_0x5d74e9[_0x1c61('0xad')]=_0x5d74e9[_0x1c61('0xae')]=_0x5d74e9[_0x1c61('0xaf')]=_0x5d74e9[_0x1c61('0xb0')]=_0x5d74e9[_0x1c61('0xb1')]=_0x5d74e9[_0x1c61('0xb2')]=_0x5d74e9[_0x1c61('0xb3')]=_0x5d74e9[_0x1c61('0xb4')]=_0x5d74e9[_0x1c61('0xb5')]=_0x5d74e9[_0x1c61('0xb6')]=_0x5d74e9[_0x1c61('0xb7')]=_0x5d74e9['PlaneFogEffect']=_0x5d74e9['PlaneWindEffect']=_0x5d74e9[_0x1c61('0xb8')]=_0x5d74e9[_0x1c61('0xb9')]=_0x5d74e9[_0x1c61('0xba')]=_0x5d74e9[_0x1c61('0xbb')]=_0x5d74e9[_0x1c61('0xbc')]=_0x5d74e9[_0x1c61('0xbd')]=_0x5d74e9[_0x1c61('0xbe')]=_0x5d74e9['MoveObjBipsEffect']=_0x5d74e9[_0x1c61('0xbf')]=_0x5d74e9['ModelUvAnimation']=_0x5d74e9[_0x1c61('0xc0')]=_0x5d74e9[_0x1c61('0xc1')]=_0x5d74e9[_0x1c61('0xc2')]=_0x5d74e9[_0x1c61('0xc3')]=_0x5d74e9[_0x1c61('0xc4')]=_0x5d74e9[_0x1c61('0xc5')]=_0x5d74e9[_0x1c61('0xc6')]=_0x5d74e9[_0x1c61('0xc7')]=_0x5d74e9[_0x1c61('0xc8')]=_0x5d74e9[_0x1c61('0xc9')]=_0x5d74e9[_0x1c61('0xca')]=_0x5d74e9[_0x1c61('0xcb')]=_0x5d74e9[_0x1c61('0xcc')]=_0x5d74e9[_0x1c61('0xcd')]=_0x5d74e9[_0x1c61('0xce')]=_0x5d74e9[_0x1c61('0xcf')]=void 0x0;var _0x5b78a8=_0x130ae8(_0x5c3ecf(0xac)),_0x54cf62=_0x130ae8(_0x5c3ecf(0xad)),_0x9dc1de=_0x130ae8(_0x5c3ecf(0xae)),_0x410e12=_0x130ae8(_0x5c3ecf(0x9d)),_0x52b365=_0x130ae8(_0x5c3ecf(0x85)),_0x5500de=_0x130ae8(_0x5c3ecf(0xb1)),_0x2cb05c=_0x130ae8(_0x5c3ecf(0xd1)),_0x1feb9=_0x130ae8(_0x5c3ecf(0x74)),_0x3304a1=_0x130ae8(_0x5c3ecf(0xd2)),_0x596178=_0x130ae8(_0x5c3ecf(0xd3)),_0x268eae=_0x130ae8(_0x5c3ecf(0xd4)),_0x5b6447=_0x130ae8(_0x5c3ecf(0xa9)),_0x31fe9e=_0x130ae8(_0x5c3ecf(0xaa)),_0x4bf1e3=_0x130ae8(_0x5c3ecf(0xd5)),_0x22d31f=_0x130ae8(_0x5c3ecf(0xb0)),_0x5e9c92=_0x130ae8(_0x5c3ecf(0xab)),_0x122e7d=_0x130ae8(_0x5c3ecf(0xd6)),_0x21e210=_0x130ae8(_0x5c3ecf(0x9e)),_0x1d5432=_0x130ae8(_0x5c3ecf(0x9f)),_0x50e7cc=_0x130ae8(_0x5c3ecf(0xd7)),_0x316b51=_0x130ae8(_0x5c3ecf(0xa0)),_0x497fda=_0x130ae8(_0x5c3ecf(0xa2)),_0x505ffd=_0x130ae8(_0x5c3ecf(0xa1)),_0x44b7af=_0x130ae8(_0x5c3ecf(0xd8)),_0x23993f=_0x130ae8(_0x5c3ecf(0xd9)),_0x3c691f=_0x130ae8(_0x5c3ecf(0xda)),_0x1542e8=_0x130ae8(_0x5c3ecf(0xdb)),_0x1d51fd=_0x130ae8(_0x5c3ecf(0xdc)),_0x7b05ba=_0x130ae8(_0x5c3ecf(0xa4)),_0x333e4b=_0x130ae8(_0x5c3ecf(0xdd)),_0x82504f=_0x130ae8(_0x5c3ecf(0xde)),_0x1a3143=_0x130ae8(_0x5c3ecf(0xa5)),_0x151f16=_0x130ae8(_0x5c3ecf(0xdf)),_0xd6938=_0x130ae8(_0x5c3ecf(0x84)),_0x98bf26=_0x130ae8(_0x5c3ecf(0xe0)),_0x26361f=_0x130ae8(_0x5c3ecf(0xe1)),_0x19487d=_0x130ae8(_0x5c3ecf(0xe3)),_0xdc4b2f=_0x130ae8(_0x5c3ecf(0xa3)),_0x65141c=_0x130ae8(_0x5c3ecf(0xe8)),_0x310026=_0x130ae8(_0x5c3ecf(0xe9)),_0x643f66=_0x130ae8(_0x5c3ecf(0xea)),_0x153de1=_0x130ae8(_0x5c3ecf(0xeb)),_0x51a987=_0x130ae8(_0x5c3ecf(0xec)),_0x233e48=_0x130ae8(_0x5c3ecf(0xed)),_0xf780f5=_0x130ae8(_0x5c3ecf(0xee)),_0x543b30=_0x130ae8(_0x5c3ecf(0x81)),_0x356132=_0x130ae8(_0x5c3ecf(0xef)),_0x56e63d=_0x130ae8(_0x5c3ecf(0xf0)),_0x49c3be=_0x130ae8(_0x5c3ecf(0xf4)),_0x54658d=_0x130ae8(_0x5c3ecf(0xf5)),_0x2b8823=_0x130ae8(_0x5c3ecf(0xf6)),_0x55926d=_0x130ae8(_0x5c3ecf(0xf7)),_0xea26ca=_0x130ae8(_0x5c3ecf(0xf8)),_0x5c3ecf=_0x130ae8(_0x5c3ecf(0xf9));function _0x130ae8(_0x5d74e9){return _0x5d74e9&&_0x5d74e9[_0x1c61('0x5')]?_0x5d74e9:{'default':_0x5d74e9};}_0x5d74e9[_0x1c61('0xcf')]=_0x54cf62[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xce')]=_0x5b78a8[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xcd')]=_0x9dc1de['default'],_0x5d74e9[_0x1c61('0xcc')]=_0x410e12['default'],_0x5d74e9[_0x1c61('0xcb')]=_0x52b365['default'],_0x5d74e9[_0x1c61('0xca')]=_0x5500de[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xc9')]=_0x2cb05c['default'],_0x5d74e9[_0x1c61('0xc8')]=_0x1feb9[_0x1c61('0x8')],_0x5d74e9['CubeFloatMarker']=_0x3304a1['default'],_0x5d74e9[_0x1c61('0xc6')]=_0x596178[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xc5')]=_0x268eae['default'],_0x5d74e9['CurveLinkLine']=_0x5b6447['default'],_0x5d74e9[_0x1c61('0xc3')]=_0x31fe9e[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xc2')]=_0x4bf1e3[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xc1')]=_0x22d31f[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xc0')]=_0x5e9c92[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xd0')]=_0x122e7d[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xbf')]=_0x21e210[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xd1')]=_0x1d5432[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xbe')]=_0x50e7cc[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xbd')]=_0x316b51[_0x1c61('0x8')],_0x5d74e9['NumberUpEffect']=_0x497fda[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xbb')]=_0x505ffd[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xba')]=_0x44b7af[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xb9')]=_0x23993f['default'],_0x5d74e9[_0x1c61('0xb8')]=_0x3c691f[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xd2')]=_0x1542e8[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xd3')]=_0x1d51fd[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xb7')]=_0x7b05ba[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xb6')]=_0x333e4b['default'],_0x5d74e9['Fire']=_0x82504f[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xb4')]=_0x1a3143['default'],_0x5d74e9[_0x1c61('0xb3')]=_0x151f16[_0x1c61('0x8')],_0x5d74e9['MulripleMeshLine']=_0xd6938[_0x1c61('0x8')],_0x5d74e9['PlaneCrossLine']=_0x98bf26[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xb0')]=_0x26361f['default'],_0x5d74e9[_0x1c61('0xaf')]=_0x19487d[_0x1c61('0x8')],_0x5d74e9['ActiveSprite']=_0xdc4b2f[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xad')]=_0x65141c['default'],_0x5d74e9[_0x1c61('0xac')]=_0x310026[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xd4')]=_0x643f66[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xab')]=_0x153de1[_0x1c61('0x8')],_0x5d74e9['ClearSkyGround']=_0x51a987[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xa9')]=_0x233e48['default'],_0x5d74e9[_0x1c61('0xa8')]=_0xf780f5[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xa7')]=_0x543b30[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xa6')]=_0x356132[_0x1c61('0x8')],_0x5d74e9[_0x1c61('0xa5')]=_0x56e63d['default'],_0x5d74e9['GroundBlend']=_0x49c3be['default'],_0x5d74e9['ModelBlendEffect']=_0x54658d['default'],_0x5d74e9[_0x1c61('0xa2')]=_0x2b8823[_0x1c61('0x8')],_0x5d74e9['ModelFresnelEffect']=_0x55926d['default'],_0x5d74e9[_0x1c61('0xa0')]=_0xea26ca['default'],_0x5d74e9[_0x1c61('0xd5')]=_0x5c3ecf[_0x1c61('0x8')];},function(_0x160b3c,_0x175c97){_0x160b3c[_0x1c61('0x1')]=function(_0x160b3c,_0x175c97){return{'value':_0x175c97,'done':!!_0x160b3c};};},function(_0xfd7f01,_0x4733c6,_0x58006d){_0x58006d=_0x58006d(0x5)[_0x1c61('0x67')];_0xfd7f01[_0x1c61('0x1')]=_0x58006d&&_0x58006d[_0x1c61('0xd6')];},function(_0x2b3734,_0x1282da,_0x2f1cc0){var _0x139ca6=_0x2f1cc0(0xc),_0x4a36df=_0x2f1cc0(0x12),_0x331216=_0x2f1cc0(0x22)(_0x1c61('0x62')),_0x508395=Object[_0x1c61('0xb')];_0x2b3734['exports']=Object[_0x1c61('0xd7')]||function(_0x2b3734){return _0x2b3734=_0x4a36df(_0x2b3734),_0x139ca6(_0x2b3734,_0x331216)?_0x2b3734[_0x331216]:'function'==typeof _0x2b3734[_0x1c61('0x85')]&&_0x2b3734 instanceof _0x2b3734['constructor']?_0x2b3734[_0x1c61('0x85')][_0x1c61('0xb')]:_0x2b3734 instanceof Object?_0x508395:null;};},function(_0x5d0620,_0xeec032,_0x4a9682){_0x5d0620[_0x1c61('0x1')]={'default':_0x4a9682(0x5a),'__esModule':!0x0};},function(_0x179137,_0x732141,_0x37ef45){'use strict';function _0x288127(_0x179137){_0x179137&&(_0x179137[_0x1c61('0xd8')]?_0x179137['dispose']():(_0x179137[_0x1c61('0x41')]&&(_0x179137[_0x1c61('0x41')][_0x1c61('0xd9')]&&(_0x179137[_0x1c61('0x41')][_0x1c61('0xd9')]['dispose'](),_0x179137[_0x1c61('0x41')]['map']=null),_0x179137['material'][_0x1c61('0xd8')](),_0x179137['material']=null),_0x179137[_0x1c61('0xda')]&&(_0x179137[_0x1c61('0xda')]['dispose'](),_0x179137[_0x1c61('0xda')]=null)));}function _0x4043e7(_0x179137){var _0x732141=[];_0x179137[_0x1c61('0xdb')](function(_0x179137){_0x732141[_0x1c61('0x6f')](_0x179137);});for(var _0x37ef45=0x0,_0x4043e7=_0x732141['length'];_0x37ef45<_0x4043e7;_0x37ef45++)_0x179137[_0x1c61('0xdc')](_0x732141[_0x37ef45]),_0x288127(_0x732141[_0x37ef45]);_0x732141=null;}Object[_0x1c61('0x2')](_0x732141,_0x1c61('0x5'),{'value':!0x0}),_0x732141[_0x1c61('0x8')]={'disposeAll':function(_0x179137){_0x4043e7(_0x179137),_0x179137[_0x1c61('0xdd')][_0x1c61('0xdc')](_0x179137),_0x288127(_0x179137);},'disposeChilds':_0x4043e7,'dispseMesh':_0x288127};},function(_0x333d3c,_0x5b0346,_0x2b73da){var _0x2191c6=_0x2b73da(0x3),_0x393e21=_0x2b73da(0x2),_0x5598ea=_0x2b73da(0xd);_0x333d3c[_0x1c61('0x1')]=function(_0x333d3c,_0x5b0346){var _0x2b73da=(_0x393e21[_0x1c61('0xde')]||{})[_0x333d3c]||Object[_0x333d3c],_0x3fbb1d={};_0x3fbb1d[_0x333d3c]=_0x5b0346(_0x2b73da),_0x2191c6(_0x2191c6['S']+_0x2191c6['F']*_0x5598ea(function(){_0x2b73da(0x1);}),_0x1c61('0xde'),_0x3fbb1d);};},function(_0x1b86e6,_0x81f0f5,_0x5363f5){var _0x163e97=_0x5363f5(0x16);_0x1b86e6[_0x1c61('0x1')]=Array[_0x1c61('0xdf')]||function(_0x1b86e6){return _0x1c61('0x60')==_0x163e97(_0x1b86e6);};},function(_0x117694,_0x3a4def){_0x117694[_0x1c61('0x1')]=function(_0x117694,_0x3a4def,_0x4542d3,_0x32411b){if(!(_0x117694 instanceof _0x3a4def)||void 0x0!==_0x32411b&&_0x32411b in _0x117694)throw TypeError(_0x4542d3+_0x1c61('0xe0'));return _0x117694;};},function(_0x2e8369,_0xdce963,_0xfc4f){var _0x1008a1=_0xfc4f(0xb);_0x2e8369[_0x1c61('0x1')]=function(_0x2e8369,_0xdce963,_0xfc4f){for(var _0x13de3d in _0xdce963)_0xfc4f&&_0x2e8369[_0x13de3d]?_0x2e8369[_0x13de3d]=_0xdce963[_0x13de3d]:_0x1008a1(_0x2e8369,_0x13de3d,_0xdce963[_0x13de3d]);return _0x2e8369;};},function(_0x213a64,_0x58ebb0,_0x86cb95){_0x86cb95(0x4c);var _0x148ca9=_0x86cb95(0x2)[_0x1c61('0xde')];_0x213a64['exports']=function(_0x213a64,_0x58ebb0,_0x86cb95){return _0x148ca9[_0x1c61('0x2')](_0x213a64,_0x58ebb0,_0x86cb95);};},function(_0x20a292,_0x39c4da,_0x455bca){var _0xb09ef6=_0x455bca(0x3);_0xb09ef6(_0xb09ef6['S']+_0xb09ef6['F']*!_0x455bca(0x7),_0x1c61('0xde'),{'defineProperty':_0x455bca(0x8)['f']});},function(_0x456b5f,_0x517d32,_0x3ccbed){_0x3ccbed(0x1b),_0x3ccbed(0x19),_0x456b5f[_0x1c61('0x1')]=_0x3ccbed(0x54);},function(_0x4d6f2d,_0x27732c,_0x2db8fe){'use strict';var _0x579bb0=_0x2db8fe(0x4f),_0x573fbb=_0x2db8fe(0x42),_0x7a4dcc=_0x2db8fe(0x11),_0x4b7211=_0x2db8fe(0xe);_0x4d6f2d[_0x1c61('0x1')]=_0x2db8fe(0x28)(Array,_0x1c61('0x60'),function(_0x4d6f2d,_0x27732c){this['_t']=_0x4b7211(_0x4d6f2d),this['_i']=0x0,this['_k']=_0x27732c;},function(){var _0x4d6f2d=this['_t'],_0x27732c=this['_k'],_0x2db8fe=this['_i']++;return!_0x4d6f2d||_0x2db8fe>=_0x4d6f2d[_0x1c61('0xf')]?(this['_t']=void 0x0,_0x573fbb(0x1)):_0x573fbb(0x0,'keys'==_0x27732c?_0x2db8fe:_0x1c61('0x78')==_0x27732c?_0x4d6f2d[_0x2db8fe]:[_0x2db8fe,_0x4d6f2d[_0x2db8fe]]);},_0x1c61('0x78')),_0x7a4dcc['Arguments']=_0x7a4dcc[_0x1c61('0x60')],_0x579bb0(_0x1c61('0x1e')),_0x579bb0(_0x1c61('0x78')),_0x579bb0('entries');},function(_0x557ef8,_0x45ef37){_0x557ef8[_0x1c61('0x1')]=function(){};},function(_0x271485,_0x283bbb,_0x23a073){'use strict';var _0x430aa1=_0x23a073(0x1f),_0x312e02=_0x23a073(0x15),_0x221274=_0x23a073(0x17),_0x54c9d6={};_0x23a073(0xb)(_0x54c9d6,_0x23a073(0x6)('iterator'),function(){return this;}),_0x271485[_0x1c61('0x1')]=function(_0x271485,_0x283bbb,_0x23a073){_0x271485[_0x1c61('0xb')]=_0x430aa1(_0x54c9d6,{'next':_0x312e02(0x1,_0x23a073)}),_0x221274(_0x271485,_0x283bbb+_0x1c61('0x79'));};},function(_0x57b11b,_0x34229f,_0x43c1d1){var _0x546bc9=_0x43c1d1(0xe),_0x10e370=_0x43c1d1(0x2b),_0x5092af=_0x43c1d1(0x52);_0x57b11b[_0x1c61('0x1')]=function(_0x30a77e){return function(_0x57b11b,_0x34229f,_0x43c1d1){var _0x3b459b,_0x595efc=_0x546bc9(_0x57b11b),_0x16d50b=_0x10e370(_0x595efc[_0x1c61('0xf')]),_0x580dd2=_0x5092af(_0x43c1d1,_0x16d50b);if(_0x30a77e&&_0x34229f!=_0x34229f){for(;_0x580dd2<_0x16d50b;)if((_0x3b459b=_0x595efc[_0x580dd2++])!=_0x3b459b)return!0x0;}else for(;_0x580dd2<_0x16d50b;_0x580dd2++)if((_0x30a77e||_0x580dd2 in _0x595efc)&&_0x595efc[_0x580dd2]===_0x34229f)return _0x30a77e||_0x580dd2||0x0;return!_0x30a77e&&-0x1;};};},function(_0x1afaf2,_0x4229e6,_0x206562){var _0xa244bc=_0x206562(0x21),_0x393e9c=Math['max'],_0x2d7d76=Math[_0x1c61('0x7d')];_0x1afaf2[_0x1c61('0x1')]=function(_0x1afaf2,_0x4229e6){return(_0x1afaf2=_0xa244bc(_0x1afaf2))<0x0?_0x393e9c(_0x1afaf2+_0x4229e6,0x0):_0x2d7d76(_0x1afaf2,_0x4229e6);};},function(_0x132d6d,_0x534f61,_0x3cd588){var _0x2eea54=_0x3cd588(0x21),_0x488d6c=_0x3cd588(0x1e);_0x132d6d['exports']=function(_0x2240ea){return function(_0x132d6d,_0x534f61){var _0x3cd588,_0x132d6d=String(_0x488d6c(_0x132d6d)),_0x534f61=_0x2eea54(_0x534f61),_0x4d35ed=_0x132d6d[_0x1c61('0xf')];return _0x534f61<0x0||_0x4d35ed<=_0x534f61?_0x2240ea?'':void 0x0:(_0x3cd588=_0x132d6d[_0x1c61('0xe1')](_0x534f61))<0xd800||0xdbff<_0x3cd588||_0x534f61+0x1===_0x4d35ed||(_0x4d35ed=_0x132d6d[_0x1c61('0xe1')](_0x534f61+0x1))<0xdc00||0xdfff<_0x4d35ed?_0x2240ea?_0x132d6d['charAt'](_0x534f61):_0x3cd588:_0x2240ea?_0x132d6d[_0x1c61('0x20')](_0x534f61,_0x534f61+0x2):_0x4d35ed-0xdc00+(_0x3cd588-0xd800<<0xa)+0x10000;};};},function(_0x1969e3,_0x2215db,_0x1c738f){var _0x57425c=_0x1c738f(0xa),_0x5d4935=_0x1c738f(0x39);_0x1969e3[_0x1c61('0x1')]=_0x1c738f(0x2)[_0x1c61('0xe2')]=function(_0x1969e3){var _0x2215db=_0x5d4935(_0x1969e3);if(_0x1c61('0x13')!=typeof _0x2215db)throw TypeError(_0x1969e3+_0x1c61('0x88'));return _0x57425c(_0x2215db[_0x1c61('0x0')](_0x1969e3));};},function(_0x23dd12,_0x4a4f79,_0x17187c){'use strict';var _0x4be017=_0x17187c(0x20);function _0x41497b(_0x23dd12){var _0x17187c,_0x41497b;this['promise']=new _0x23dd12(function(_0x23dd12,_0x4a4f79){if(void 0x0!==_0x17187c||void 0x0!==_0x41497b)throw TypeError(_0x1c61('0xe3'));_0x17187c=_0x23dd12,_0x41497b=_0x4a4f79;}),this['resolve']=_0x4be017(_0x17187c),this['reject']=_0x4be017(_0x41497b);}_0x23dd12[_0x1c61('0x1')]['f']=function(_0x23dd12){return new _0x41497b(_0x23dd12);};},function(_0x452b04,_0x2e6482,_0x1f0776){'use strict';var _0x2ac3dc,_0x2f64ef=_0x3b3e30(_0x1f0776(0x33)),_0x36287b=_0x3b3e30(_0x1f0776(0x3e)),_0x106e04=_0x3b3e30(_0x1f0776(0x30));function _0x3b3e30(_0x452b04){return _0x452b04&&_0x452b04[_0x1c61('0x5')]?_0x452b04:{'default':_0x452b04};}var _0x2b2e49,_0x52aa27,_0x58f251,_0x3bde76,_0x48c889,_0x2649f2,_0x1db652,_0x27be90={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x1f0776='function'==typeof(_0x2ac3dc=_0x27be90)?_0x2ac3dc['call'](_0x2e6482,_0x1f0776,_0x2e6482,_0x452b04):_0x2ac3dc)&&(_0x452b04[_0x1c61('0x1')]=_0x1f0776),_0x27be90[_0x1c61('0xe4')]=function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){this[_0x1c61('0xe5')]=_0x1f0776||0x1,this['size']=_0x2e6482||0x1,this[_0x1c61('0xe6')]=_0x452b04||Float32Array,this['array']=new _0x452b04(_0x2e6482*this[_0x1c61('0xe5')]),this[_0x1c61('0xe7')]=_0x2ac3dc||0x0;},_0x27be90['TypedArrayHelper'][_0x1c61('0x85')]=_0x27be90[_0x1c61('0xe4')],_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xe8')]=function(_0x452b04,_0x2e6482){var _0x1f0776=this[_0x1c61('0xe9')][_0x1c61('0xf')];return _0x2e6482||(_0x452b04*=this['componentSize']),_0x452b04<_0x1f0776?this[_0x1c61('0xea')](_0x452b04):_0x1f0776<_0x452b04?this[_0x1c61('0xeb')](_0x452b04):void console[_0x1c61('0xec')]('TypedArray\x20is\x20already\x20of\x20size:',_0x452b04+'.',_0x1c61('0xed'));},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xea')]=function(_0x452b04){return this[_0x1c61('0xe9')]=this['array']['subarray'](0x0,_0x452b04),this[_0x1c61('0xee')]=_0x452b04,this;},_0x27be90[_0x1c61('0xe4')]['prototype'][_0x1c61('0xeb')]=function(_0x452b04){var _0x2e6482=this[_0x1c61('0xe9')],_0x1f0776=new this[(_0x1c61('0xe6'))](_0x452b04);return _0x1f0776['set'](_0x2e6482),this[_0x1c61('0xe9')]=_0x1f0776,this[_0x1c61('0xee')]=_0x452b04,this;},_0x27be90[_0x1c61('0xe4')]['prototype'][_0x1c61('0x8f')]=function(_0x452b04,_0x2e6482){_0x452b04*=this[_0x1c61('0xe5')],_0x2e6482*=this['componentSize'];for(var _0x1f0776=[],_0x2ac3dc=this['array'],_0x2f64ef=_0x2ac3dc[_0x1c61('0xf')],_0x36287b=0x0;_0x36287b<_0x2f64ef;++_0x36287b)(_0x36287b<_0x452b04||_0x2e6482<=_0x36287b)&&_0x1f0776[_0x1c61('0x6f')](_0x2ac3dc[_0x36287b]);return this[_0x1c61('0xef')](0x0,_0x1f0776),this;},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xef')]=function(_0x452b04,_0x2e6482){var _0x1f0776=_0x452b04+_0x2e6482['length'];return _0x1f0776>this[_0x1c61('0xe9')][_0x1c61('0xf')]?this['grow'](_0x1f0776):_0x1f0776<this[_0x1c61('0xe9')]['length']&&this[_0x1c61('0xea')](_0x1f0776),this[_0x1c61('0xe9')]['set'](_0x2e6482,this[_0x1c61('0xe7')]+_0x452b04),this;},_0x27be90[_0x1c61('0xe4')]['prototype'][_0x1c61('0xf0')]=function(_0x452b04,_0x2e6482){return this[_0x1c61('0xf1')](_0x452b04,_0x2e6482['x'],_0x2e6482['y']);},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xf1')]=function(_0x452b04,_0x2e6482,_0x1f0776){var _0x2ac3dc=this[_0x1c61('0xe9')],_0x452b04=this[_0x1c61('0xe7')]+_0x452b04*this[_0x1c61('0xe5')];return _0x2ac3dc[_0x452b04]=_0x2e6482,_0x2ac3dc[_0x452b04+0x1]=_0x1f0776,this;},_0x27be90['TypedArrayHelper']['prototype'][_0x1c61('0xf2')]=function(_0x452b04,_0x2e6482){return this['setVec3Components'](_0x452b04,_0x2e6482['x'],_0x2e6482['y'],_0x2e6482['z']);},_0x27be90['TypedArrayHelper'][_0x1c61('0xb')]['setVec3Components']=function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){var _0x2f64ef=this[_0x1c61('0xe9')],_0x452b04=this[_0x1c61('0xe7')]+_0x452b04*this[_0x1c61('0xe5')];return _0x2f64ef[_0x452b04]=_0x2e6482,_0x2f64ef[_0x452b04+0x1]=_0x1f0776,_0x2f64ef[_0x452b04+0x2]=_0x2ac3dc,this;},_0x27be90['TypedArrayHelper']['prototype'][_0x1c61('0xf3')]=function(_0x452b04,_0x2e6482){return this[_0x1c61('0xf4')](_0x452b04,_0x2e6482['x'],_0x2e6482['y'],_0x2e6482['z'],_0x2e6482['w']);},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')]['setVec4Components']=function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef){var _0x36287b=this['array'],_0x452b04=this[_0x1c61('0xe7')]+_0x452b04*this[_0x1c61('0xe5')];return _0x36287b[_0x452b04]=_0x2e6482,_0x36287b[_0x452b04+0x1]=_0x1f0776,_0x36287b[_0x452b04+0x2]=_0x2ac3dc,_0x36287b[_0x452b04+0x3]=_0x2f64ef,this;},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xf5')]=function(_0x452b04,_0x2e6482){return this['setFromArray'](this[_0x1c61('0xe7')]+_0x452b04*this[_0x1c61('0xe5')],_0x2e6482[_0x1c61('0xf6')]);},_0x27be90['TypedArrayHelper']['prototype'][_0x1c61('0xf7')]=function(_0x452b04,_0x2e6482){return this['setFromArray'](this['indexOffset']+_0x452b04*this[_0x1c61('0xe5')],_0x2e6482[_0x1c61('0xf6')]);},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')][_0x1c61('0xf8')]=function(_0x452b04,_0x2e6482){return this['setVec3Components'](_0x452b04,_0x2e6482['r'],_0x2e6482['g'],_0x2e6482['b']);},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')]['setNumber']=function(_0x452b04,_0x2e6482){return this[_0x1c61('0xe9')][this[_0x1c61('0xe7')]+_0x452b04*this[_0x1c61('0xe5')]]=_0x2e6482,this;},_0x27be90[_0x1c61('0xe4')][_0x1c61('0xb')]['getValueAtIndex']=function(_0x452b04){return this[_0x1c61('0xe9')][this[_0x1c61('0xe7')]+_0x452b04];},_0x27be90['TypedArrayHelper'][_0x1c61('0xb')]['getComponentValueAtIndex']=function(_0x452b04){return this[_0x1c61('0xe9')][_0x1c61('0xf9')](this['indexOffset']+_0x452b04*this[_0x1c61('0xe5')]);},_0x27be90[_0x1c61('0xfa')]=function(_0x452b04,_0x2e6482,_0x1f0776){var _0x2ac3dc=_0x27be90['ShaderAttribute'][_0x1c61('0xfb')];this[_0x1c61('0x90')]=_0x1c61('0x9')==typeof _0x452b04&&_0x2ac3dc[_0x1c61('0xc')](_0x452b04)?_0x452b04:'f',this[_0x1c61('0xe5')]=_0x2ac3dc[this[_0x1c61('0x90')]],this[_0x1c61('0xfc')]=_0x1f0776||Float32Array,this[_0x1c61('0xfd')]=null,this['bufferAttribute']=null,this[_0x1c61('0xfe')]=!!_0x2e6482,this[_0x1c61('0xff')]=0x0,this[_0x1c61('0x100')]=0x0;},_0x27be90[_0x1c61('0xfa')]['constructor']=_0x27be90[_0x1c61('0xfa')],_0x27be90['ShaderAttribute'][_0x1c61('0xfb')]={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x27be90[_0x1c61('0xfa')][_0x1c61('0xb')]['setUpdateRange']=function(_0x452b04,_0x2e6482){this[_0x1c61('0xff')]=Math[_0x1c61('0x7d')](_0x452b04*this['componentSize'],this[_0x1c61('0xff')]*this[_0x1c61('0xe5')]),this[_0x1c61('0x100')]=Math[_0x1c61('0x101')](_0x2e6482*this[_0x1c61('0xe5')],this[_0x1c61('0x100')]*this[_0x1c61('0xe5')]);},_0x27be90['ShaderAttribute'][_0x1c61('0xb')][_0x1c61('0x102')]=function(){var _0x452b04=this['bufferAttribute'],_0x2e6482=_0x452b04[_0x1c61('0x103')];_0x2e6482['offset']=this[_0x1c61('0xff')],_0x2e6482[_0x1c61('0x104')]=Math[_0x1c61('0x7d')](this[_0x1c61('0x100')]-this[_0x1c61('0xff')]+this[_0x1c61('0xe5')],this[_0x1c61('0xfd')]['array'][_0x1c61('0xf')]),_0x452b04['needsUpdate']=!0x0;},_0x27be90[_0x1c61('0xfa')][_0x1c61('0xb')]['resetUpdateRange']=function(){this[_0x1c61('0xff')]=0x0,this[_0x1c61('0x100')]=0x0;},_0x27be90[_0x1c61('0xfa')][_0x1c61('0xb')]['resetDynamic']=function(){this[_0x1c61('0x105')][_0x1c61('0x106')]=this['dynamicBuffer'];},_0x27be90[_0x1c61('0xfa')]['prototype']['splice']=function(_0x452b04,_0x2e6482){this[_0x1c61('0xfd')]['splice'](_0x452b04,_0x2e6482),this[_0x1c61('0x107')]();},_0x27be90[_0x1c61('0xfa')]['prototype'][_0x1c61('0x107')]=function(){this[_0x1c61('0x105')][_0x1c61('0xe9')]=this[_0x1c61('0xfd')][_0x1c61('0xe9')],this[_0x1c61('0x105')][_0x1c61('0x103')]['offset']=0x0,this[_0x1c61('0x105')]['updateRange'][_0x1c61('0x104')]=-0x1,this[_0x1c61('0x105')][_0x1c61('0x106')]=!0x1,this[_0x1c61('0x105')][_0x1c61('0x108')]=!0x0;},_0x27be90[_0x1c61('0xfa')]['prototype'][_0x1c61('0x109')]=function(_0x452b04){null!==this[_0x1c61('0xfd')]&&this['typedArray'][_0x1c61('0xee')]===_0x452b04*this[_0x1c61('0xe5')]||(null!==this[_0x1c61('0xfd')]&&this[_0x1c61('0xfd')][_0x1c61('0xee')]!==_0x452b04?this[_0x1c61('0xfd')][_0x1c61('0xe8')](_0x452b04):null===this[_0x1c61('0xfd')]&&(this[_0x1c61('0xfd')]=new _0x27be90[(_0x1c61('0xe4'))](this[_0x1c61('0xfc')],_0x452b04,this[_0x1c61('0xe5')])));},_0x27be90[_0x1c61('0xfa')][_0x1c61('0xb')][_0x1c61('0x10a')]=function(_0x452b04){if(this['_ensureTypedArray'](_0x452b04),null!==this[_0x1c61('0x105')])return this[_0x1c61('0x105')][_0x1c61('0xe9')]=this['typedArray'][_0x1c61('0xe9')],0x51<=parseFloat(THREE[_0x1c61('0x10b')])&&(this[_0x1c61('0x105')][_0x1c61('0x104')]=this['bufferAttribute'][_0x1c61('0xe9')][_0x1c61('0xf')]/this[_0x1c61('0x105')][_0x1c61('0x10c')]),void(this['bufferAttribute'][_0x1c61('0x108')]=!0x0);this[_0x1c61('0x105')]=new THREE[(_0x1c61('0x10d'))](this[_0x1c61('0xfd')]['array'],this['componentSize']),this[_0x1c61('0x105')][_0x1c61('0x106')]=this[_0x1c61('0xfe')];},_0x27be90[_0x1c61('0xfa')][_0x1c61('0xb')][_0x1c61('0x10e')]=function(){return null===this[_0x1c61('0xfd')]?0x0:this[_0x1c61('0xfd')][_0x1c61('0xe9')][_0x1c61('0xf')];},_0x27be90[_0x1c61('0x10f')]={'defines':[_0x1c61('0x110'),_0x1c61('0x111')][_0x1c61('0x112')]('\x0a'),'uniforms':['uniform\x20float\x20deltaTime;',_0x1c61('0x113'),_0x1c61('0x114'),_0x1c61('0x115'),'uniform\x20float\x20scale;']['join']('\x0a'),'attributes':[_0x1c61('0x116'),'attribute\x20vec3\x20velocity;',_0x1c61('0x117'),_0x1c61('0x118'),_0x1c61('0x119'),_0x1c61('0x11a'),'attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;',_0x1c61('0x11b')][_0x1c61('0x112')]('\x0a'),'varyings':[_0x1c61('0x11c'),_0x1c61('0x11d'),'\x20\x20\x20\x20varying\x20float\x20vAngle;',_0x1c61('0x11e'),_0x1c61('0x11f'),_0x1c61('0x120'),_0x1c61('0x11e')][_0x1c61('0x112')]('\x0a'),'branchAvoidanceFunctions':['float\x20when_gt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','}',_0x1c61('0x121'),_0x1c61('0x122'),'}',_0x1c61('0x123'),_0x1c61('0x124'),'}',_0x1c61('0x125'),_0x1c61('0x126'),'}',_0x1c61('0x127'),'\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','}',_0x1c61('0x128'),_0x1c61('0x129'),'}',_0x1c61('0x12a'),'\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','}']['join']('\x0a'),'unpackColor':['vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{',_0x1c61('0x12b'),_0x1c61('0x12c'),'\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);',_0x1c61('0x12d'),_0x1c61('0x12e'),_0x1c61('0x12f'),'\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20return\x20c;','}'][_0x1c61('0x112')]('\x0a'),'unpackRotationAxis':[_0x1c61('0x130'),_0x1c61('0x12b'),_0x1c61('0x12c'),'\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);',_0x1c61('0x12d'),'\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;',_0x1c61('0x131'),'\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);',_0x1c61('0x132'),_0x1c61('0x133'),'}'][_0x1c61('0x112')]('\x0a'),'floatOverLifetime':['float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{',_0x1c61('0x134'),_0x1c61('0x135'),_0x1c61('0x136'),'\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','',_0x1c61('0x137'),_0x1c61('0x138'),_0x1c61('0x139'),_0x1c61('0x13a'),_0x1c61('0x13b'),'',_0x1c61('0x13c'),'}']['join']('\x0a'),'colorOverLifetime':['vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{',_0x1c61('0x13d'),_0x1c61('0x13e'),'\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','\x20\x20\x20\x20return\x20value;','}']['join']('\x0a'),'paramFetchingFunctions':['float\x20getAlive()\x20{','\x20\x20\x20return\x20params.x;','}',_0x1c61('0x13f'),'\x20\x20\x20return\x20params.y;','}',_0x1c61('0x140'),_0x1c61('0x141'),'}',_0x1c61('0x142'),_0x1c61('0x143'),'}'][_0x1c61('0x112')]('\x0a'),'forceFetchingFunctions':[_0x1c61('0x144'),_0x1c61('0x145'),'}','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{',_0x1c61('0x146'),'}',_0x1c61('0x147'),_0x1c61('0x148'),'}'][_0x1c61('0x112')]('\x0a'),'rotationFunctions':[_0x1c61('0x149'),_0x1c61('0x14a'),_0x1c61('0x14b'),_0x1c61('0x14c'),_0x1c61('0x14d'),_0x1c61('0x14e'),'',_0x1c61('0x14f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,',_0x1c61('0x150'),_0x1c61('0x151'),'\x20\x20\x20}','',_0x1c61('0x152'),'\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{',_0x1c61('0x153'),_0x1c61('0x154'),'','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;',_0x1c61('0x155'),'\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;',_0x1c61('0x156'),_0x1c61('0x157'),_0x1c61('0x158'),_0x1c61('0x159'),_0x1c61('0x15a'),'\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);',_0x1c61('0x15b'),'#endif']['join']('\x0a'),'rotateTexture':[_0x1c61('0x15c'),'',_0x1c61('0x15d'),_0x1c61('0x15e'),_0x1c61('0x15f'),_0x1c61('0x160'),'\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);',_0x1c61('0x161'),_0x1c61('0x162'),'',_0x1c61('0x163'),_0x1c61('0x164'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;',_0x1c61('0x165'),_0x1c61('0x166'),'\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;',_0x1c61('0x167'),_0x1c61('0x162'),'',_0x1c61('0x168')][_0x1c61('0x112')]('\x0a')},_0x27be90['shaders']={'vertex':[_0x27be90[_0x1c61('0x10f')][_0x1c61('0x169')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x16a')],_0x27be90[_0x1c61('0x10f')]['attributes'],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x16b')],THREE['ShaderChunk'][_0x1c61('0x16c')],THREE['ShaderChunk'][_0x1c61('0x16d')],THREE[_0x1c61('0x16e')][_0x1c61('0x16f')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x170')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x171')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x172')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x173')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x174')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x175')],_0x27be90['shaderChunks'][_0x1c61('0x176')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x177')],_0x1c61('0x178'),_0x1c61('0x179'),_0x1c61('0x17a'),_0x1c61('0x17b'),_0x1c61('0x17c'),'\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);',_0x1c61('0x17d'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);',_0x1c61('0x17e'),_0x1c61('0x17f'),_0x1c61('0x180'),_0x1c61('0x181'),'\x20\x20\x20\x20force\x20*=\x20drag;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;',_0x1c61('0x182'),_0x1c61('0x183'),_0x1c61('0x184'),_0x1c61('0x185'),'\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;',_0x1c61('0x162'),_0x1c61('0x186'),_0x1c61('0x187'),_0x1c61('0x162'),_0x1c61('0x188'),_0x1c61('0x189'),'\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE',_0x1c61('0x18a'),'\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;',_0x1c61('0x162'),'\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;',_0x1c61('0x18b'),_0x1c61('0x18c'),_0x1c61('0x18d'),_0x1c61('0x18e'),_0x1c61('0x18f'),_0x1c61('0x190'),_0x1c61('0x191'),_0x1c61('0x192'),_0x1c61('0x193'),'\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);',_0x1c61('0x162'),_0x1c61('0x194'),'\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);',_0x1c61('0x15d'),_0x1c61('0x195'),_0x1c61('0x162'),_0x1c61('0x163'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;',_0x1c61('0x196'),_0x1c61('0x197'),_0x1c61('0x198'),_0x1c61('0x199'),_0x1c61('0x19a'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;',_0x1c61('0x19b'),'\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;',_0x1c61('0x19c'),'\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;',_0x1c61('0x19d'),'\x20\x20\x20\x20#endif',_0x1c61('0x19e'),'\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;',THREE[_0x1c61('0x16e')][_0x1c61('0x19f')],THREE[_0x1c61('0x16e')]['fog_vertex'],'}']['join']('\x0a'),'fragment':[_0x27be90[_0x1c61('0x10f')]['uniforms'],THREE[_0x1c61('0x16e')]['common'],THREE[_0x1c61('0x16e')]['fog_pars_fragment'],THREE[_0x1c61('0x16e')][_0x1c61('0x1a0')],_0x27be90['shaderChunks'][_0x1c61('0x16b')],_0x27be90[_0x1c61('0x10f')][_0x1c61('0x170')],_0x1c61('0x178'),_0x1c61('0x1a1'),_0x1c61('0x1a2'),_0x1c61('0x1a3'),_0x1c61('0x1a4'),_0x1c61('0x162'),_0x27be90['shaderChunks'][_0x1c61('0x1a5')],THREE[_0x1c61('0x16e')][_0x1c61('0x1a6')],_0x1c61('0x1a7'),_0x1c61('0x1a8'),THREE['ShaderChunk']['fog_fragment'],'}'][_0x1c61('0x112')]('\x0a')},_0x27be90['utils']={'types':{'BOOLEAN':_0x1c61('0x1a9'),'STRING':'string','NUMBER':_0x1c61('0x1aa'),'OBJECT':_0x1c61('0x6')},'ensureTypedArg':function(_0x452b04,_0x2e6482,_0x1f0776){return(void 0x0===_0x452b04?_0x1c61('0x3'):(0x0,_0x106e04[_0x1c61('0x8')])(_0x452b04))===_0x2e6482?_0x452b04:_0x1f0776;},'ensureArrayTypedArg':function(_0x452b04,_0x2e6482,_0x1f0776){if(Array[_0x1c61('0xdf')](_0x452b04)){for(var _0x2ac3dc=_0x452b04[_0x1c61('0xf')]-0x1;0x0<=_0x2ac3dc;--_0x2ac3dc)if((0x0,_0x106e04[_0x1c61('0x8')])(_0x452b04[_0x2ac3dc])!==_0x2e6482)return _0x1f0776;return _0x452b04;}return this[_0x1c61('0x1ab')](_0x452b04,_0x2e6482,_0x1f0776);},'ensureInstanceOf':function(_0x452b04,_0x2e6482,_0x1f0776){return void 0x0!==_0x2e6482&&_0x452b04 instanceof _0x2e6482?_0x452b04:_0x1f0776;},'ensureArrayInstanceOf':function(_0x452b04,_0x2e6482,_0x1f0776){if(Array[_0x1c61('0xdf')](_0x452b04)){for(var _0x2ac3dc=_0x452b04[_0x1c61('0xf')]-0x1;0x0<=_0x2ac3dc;--_0x2ac3dc)if(void 0x0!==_0x2e6482&&_0x452b04[_0x2ac3dc]instanceof _0x2e6482==0x0)return _0x1f0776;return _0x452b04;}return this[_0x1c61('0x1ac')](_0x452b04,_0x2e6482,_0x1f0776);},'ensureValueOverLifetimeCompliance':function(_0x452b04,_0x2e6482,_0x1f0776){_0x2e6482=_0x2e6482||0x3,_0x1f0776=_0x1f0776||0x3,!0x1===Array['isArray'](_0x452b04['_value'])&&(_0x452b04[_0x1c61('0x1ad')]=[_0x452b04[_0x1c61('0x1ad')]]),!0x1===Array['isArray'](_0x452b04['_spread'])&&(_0x452b04[_0x1c61('0x1ae')]=[_0x452b04['_spread']]);var _0x2ac3dc=this[_0x1c61('0x1af')](_0x452b04[_0x1c61('0x1ad')]['length'],_0x2e6482,_0x1f0776),_0x2e6482=this['clamp'](_0x452b04[_0x1c61('0x1ae')][_0x1c61('0xf')],_0x2e6482,_0x1f0776),_0x1f0776=Math[_0x1c61('0x101')](_0x2ac3dc,_0x2e6482);_0x452b04[_0x1c61('0x1ad')]['length']!==_0x1f0776&&(_0x452b04[_0x1c61('0x1ad')]=this[_0x1c61('0x1b0')](_0x452b04['_value'],_0x1f0776)),_0x452b04[_0x1c61('0x1ae')][_0x1c61('0xf')]!==_0x1f0776&&(_0x452b04[_0x1c61('0x1ae')]=this['interpolateArray'](_0x452b04[_0x1c61('0x1ae')],_0x1f0776));},'interpolateArray':function(_0x452b04,_0x2e6482){for(var _0x1f0776=_0x452b04[_0x1c61('0xf')],_0x2ac3dc=[_0x1c61('0x13')==typeof _0x452b04[0x0][_0x1c61('0x1b1')]?_0x452b04[0x0][_0x1c61('0x1b1')]():_0x452b04[0x0]],_0x2f64ef=(_0x1f0776-0x1)/(_0x2e6482-0x1),_0x36287b=0x1;_0x36287b<_0x2e6482-0x1;++_0x36287b){var _0x106e04=_0x36287b*_0x2f64ef,_0x3b3e30=Math[_0x1c61('0x6c')](_0x106e04),_0x2b2e49=Math[_0x1c61('0x1b2')](_0x106e04);_0x2ac3dc[_0x36287b]=this[_0x1c61('0x1b3')](_0x452b04[_0x3b3e30],_0x452b04[_0x2b2e49],_0x106e04-_0x3b3e30);}return _0x2ac3dc[_0x1c61('0x6f')](_0x1c61('0x13')==typeof _0x452b04[_0x1f0776-0x1][_0x1c61('0x1b1')]?_0x452b04[_0x1f0776-0x1][_0x1c61('0x1b1')]():_0x452b04[_0x1f0776-0x1]),_0x2ac3dc;},'clamp':function(_0x452b04,_0x2e6482,_0x1f0776){return Math[_0x1c61('0x101')](_0x2e6482,Math[_0x1c61('0x7d')](_0x452b04,_0x1f0776));},'zeroToEpsilon':function(_0x452b04,_0x2e6482){var _0x1f0776=_0x452b04,_0x1f0776=_0x2e6482?0.00001*Math[_0x1c61('0x1b4')]()*0xa:0.00001;return _0x452b04<0x0&&-0.00001<_0x452b04?-_0x1f0776:_0x1f0776;},'lerpTypeAgnostic':function(_0x452b04,_0x2e6482,_0x1f0776){var _0x2ac3dc,_0x2f64ef=this[_0x1c61('0x1b5')];return(void 0x0===_0x452b04?_0x1c61('0x3'):(0x0,_0x106e04['default'])(_0x452b04))===_0x2f64ef['NUMBER']&&(void 0x0===_0x2e6482?_0x1c61('0x3'):(0x0,_0x106e04[_0x1c61('0x8')])(_0x2e6482))===_0x2f64ef[_0x1c61('0x1b6')]?_0x452b04+(_0x2e6482-_0x452b04)*_0x1f0776:_0x452b04 instanceof THREE['Vector2']&&_0x2e6482 instanceof THREE['Vector2']?((_0x2ac3dc=_0x452b04[_0x1c61('0x1b1')]())['x']=this[_0x1c61('0x1b7')](_0x452b04['x'],_0x2e6482['x'],_0x1f0776),_0x2ac3dc['y']=this[_0x1c61('0x1b7')](_0x452b04['y'],_0x2e6482['y'],_0x1f0776),_0x2ac3dc):_0x452b04 instanceof THREE[_0x1c61('0x1b8')]&&_0x2e6482 instanceof THREE['Vector3']?((_0x2ac3dc=_0x452b04[_0x1c61('0x1b1')]())['x']=this['lerp'](_0x452b04['x'],_0x2e6482['x'],_0x1f0776),_0x2ac3dc['y']=this['lerp'](_0x452b04['y'],_0x2e6482['y'],_0x1f0776),_0x2ac3dc['z']=this[_0x1c61('0x1b7')](_0x452b04['z'],_0x2e6482['z'],_0x1f0776),_0x2ac3dc):_0x452b04 instanceof THREE[_0x1c61('0x1b9')]&&_0x2e6482 instanceof THREE[_0x1c61('0x1b9')]?((_0x2ac3dc=_0x452b04['clone']())['x']=this[_0x1c61('0x1b7')](_0x452b04['x'],_0x2e6482['x'],_0x1f0776),_0x2ac3dc['y']=this[_0x1c61('0x1b7')](_0x452b04['y'],_0x2e6482['y'],_0x1f0776),_0x2ac3dc['z']=this[_0x1c61('0x1b7')](_0x452b04['z'],_0x2e6482['z'],_0x1f0776),_0x2ac3dc['w']=this['lerp'](_0x452b04['w'],_0x2e6482['w'],_0x1f0776),_0x2ac3dc):_0x452b04 instanceof THREE['Color']&&_0x2e6482 instanceof THREE[_0x1c61('0x1ba')]?((_0x2ac3dc=_0x452b04[_0x1c61('0x1b1')]())['r']=this[_0x1c61('0x1b7')](_0x452b04['r'],_0x2e6482['r'],_0x1f0776),_0x2ac3dc['g']=this['lerp'](_0x452b04['g'],_0x2e6482['g'],_0x1f0776),_0x2ac3dc['b']=this['lerp'](_0x452b04['b'],_0x2e6482['b'],_0x1f0776),_0x2ac3dc):void 0x0;},'lerp':function(_0x452b04,_0x2e6482,_0x1f0776){return _0x452b04+(_0x2e6482-_0x452b04)*_0x1f0776;},'roundToNearestMultiple':function(_0x452b04,_0x2e6482){var _0x1f0776;return 0x0===_0x2e6482||0x0==(_0x1f0776=Math[_0x1c61('0x1bb')](_0x452b04)%_0x2e6482)?_0x452b04:_0x452b04<0x0?-(Math['abs'](_0x452b04)-_0x1f0776):_0x452b04+_0x2e6482-_0x1f0776;},'arrayValuesAreEqual':function(_0x452b04){for(var _0x2e6482=0x0;_0x2e6482<_0x452b04['length']-0x1;++_0x2e6482)if(_0x452b04[_0x2e6482]!==_0x452b04[_0x2e6482+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x452b04,_0x2e6482){return _0x452b04+_0x2e6482*(Math[_0x1c61('0x1b4')]()-0.5);},'randomVector3':function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef){var _0x36287b=_0x1f0776['x']+(Math[_0x1c61('0x1b4')]()*_0x2ac3dc['x']-0.5*_0x2ac3dc['x']),_0x106e04=_0x1f0776['y']+(Math['random']()*_0x2ac3dc['y']-0.5*_0x2ac3dc['y']),_0x1f0776=_0x1f0776['z']+(Math[_0x1c61('0x1b4')]()*_0x2ac3dc['z']-0.5*_0x2ac3dc['z']);_0x2f64ef&&(_0x36287b=0.5*-_0x2f64ef['x']+this[_0x1c61('0x1bc')](_0x36287b,_0x2f64ef['x']),_0x106e04=0.5*-_0x2f64ef['y']+this[_0x1c61('0x1bc')](_0x106e04,_0x2f64ef['y']),_0x1f0776=0.5*-_0x2f64ef['z']+this['roundToNearestMultiple'](_0x1f0776,_0x2f64ef['z'])),_0x452b04[_0x1c61('0xfd')][_0x1c61('0x1bd')](_0x2e6482,_0x36287b,_0x106e04,_0x1f0776);},'randomColor':function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){var _0x2f64ef=_0x1f0776['r']+Math[_0x1c61('0x1b4')]()*_0x2ac3dc['x'],_0x36287b=_0x1f0776['g']+Math['random']()*_0x2ac3dc['y'],_0x1f0776=_0x1f0776['b']+Math[_0x1c61('0x1b4')]()*_0x2ac3dc['z'],_0x2f64ef=this[_0x1c61('0x1af')](_0x2f64ef,0x0,0x1),_0x36287b=this['clamp'](_0x36287b,0x0,0x1),_0x1f0776=this[_0x1c61('0x1af')](_0x1f0776,0x0,0x1);_0x452b04[_0x1c61('0xfd')][_0x1c61('0x1bd')](_0x2e6482,_0x2f64ef,_0x36287b,_0x1f0776);},'randomColorAsHex':(_0x1db652=new THREE[(_0x1c61('0x1ba'))](),function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){for(var _0x2f64ef=_0x1f0776[_0x1c61('0xf')],_0x36287b=[],_0x106e04=0x0;_0x106e04<_0x2f64ef;++_0x106e04){var _0x3b3e30=_0x2ac3dc[_0x106e04];_0x1db652['copy'](_0x1f0776[_0x106e04]),_0x1db652['r']+=Math[_0x1c61('0x1b4')]()*_0x3b3e30['x']-0.5*_0x3b3e30['x'],_0x1db652['g']+=Math[_0x1c61('0x1b4')]()*_0x3b3e30['y']-0.5*_0x3b3e30['y'],_0x1db652['b']+=Math['random']()*_0x3b3e30['z']-0.5*_0x3b3e30['z'],_0x1db652['r']=this[_0x1c61('0x1af')](_0x1db652['r'],0x0,0x1),_0x1db652['g']=this[_0x1c61('0x1af')](_0x1db652['g'],0x0,0x1),_0x1db652['b']=this['clamp'](_0x1db652['b'],0x0,0x1),_0x36287b[_0x1c61('0x6f')](_0x1db652['getHex']());}_0x452b04['typedArray']['setVec4Components'](_0x2e6482,_0x36287b[0x0],_0x36287b[0x1],_0x36287b[0x2],_0x36287b[0x3]);}),'randomVector3OnSphere':function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef,_0x36287b,_0x106e04,_0x3b3e30){var _0x2b2e49=0x2*Math['random']()-0x1,_0x52aa27=6.2832*Math[_0x1c61('0x1b4')](),_0x58f251=Math[_0x1c61('0x1be')](0x1-_0x2b2e49*_0x2b2e49),_0x2ac3dc=this[_0x1c61('0x1bf')](_0x2ac3dc,_0x2f64ef);_0x106e04&&(_0x2ac3dc=Math[_0x1c61('0x1c0')](_0x2ac3dc/_0x106e04)*_0x106e04),_0x2f64ef=_0x58f251*Math[_0x1c61('0x59')](_0x52aa27)*_0x2ac3dc,_0x106e04=_0x58f251*Math['sin'](_0x52aa27)*_0x2ac3dc,_0x58f251=_0x2b2e49*_0x2ac3dc,_0x2f64ef*=_0x36287b['x'],_0x106e04*=_0x36287b['y'],_0x58f251*=_0x36287b['z'],_0x2f64ef+=_0x1f0776['x'],_0x106e04+=_0x1f0776['y'],_0x58f251+=_0x1f0776['z'],_0x452b04[_0x1c61('0xfd')]['setVec3Components'](_0x2e6482,_0x2f64ef,_0x106e04,_0x58f251);},'seededRandom':function(_0x452b04){_0x452b04=0x2710*Math[_0x1c61('0x58')](_0x452b04);return _0x452b04-(0x0|_0x452b04);},'randomVector3OnDisc':function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef,_0x36287b,_0x106e04){var _0x3b3e30=6.2832*Math[_0x1c61('0x1b4')](),_0x2ac3dc=Math['abs'](this['randomFloat'](_0x2ac3dc,_0x2f64ef)),_0x2f64ef=0x0;_0x106e04&&(_0x2ac3dc=Math['round'](_0x2ac3dc/_0x106e04)*_0x106e04),_0x106e04=Math['cos'](_0x3b3e30)*_0x2ac3dc,_0x3b3e30=Math['sin'](_0x3b3e30)*_0x2ac3dc,_0x106e04*=_0x36287b['x'],_0x3b3e30*=_0x36287b['y'],_0x106e04+=_0x1f0776['x'],_0x3b3e30+=_0x1f0776['y'],_0x2f64ef+=_0x1f0776['z'],_0x452b04[_0x1c61('0xfd')]['setVec3Components'](_0x2e6482,_0x106e04,_0x3b3e30,_0x2f64ef);},'randomDirectionVector3OnSphere':(_0x2649f2=new THREE[(_0x1c61('0x1b8'))](),function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef,_0x36287b,_0x106e04,_0x3b3e30){_0x2649f2['copy'](_0x36287b),_0x2649f2['x']-=_0x1f0776,_0x2649f2['y']-=_0x2ac3dc,_0x2649f2['z']-=_0x2f64ef,_0x2649f2[_0x1c61('0x1c1')]()['multiplyScalar'](-this[_0x1c61('0x1bf')](_0x106e04,_0x3b3e30)),_0x452b04['typedArray'][_0x1c61('0x1bd')](_0x2e6482,_0x2649f2['x'],_0x2649f2['y'],_0x2649f2['z']);}),'randomDirectionVector3OnDisc':(_0x48c889=new THREE[(_0x1c61('0x1b8'))](),function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc,_0x2f64ef,_0x36287b,_0x106e04,_0x3b3e30){_0x48c889[_0x1c61('0x1c2')](_0x36287b),_0x48c889['x']-=_0x1f0776,_0x48c889['y']-=_0x2ac3dc,_0x48c889['z']-=_0x2f64ef,_0x48c889['normalize']()[_0x1c61('0x1c3')](-this[_0x1c61('0x1bf')](_0x106e04,_0x3b3e30)),_0x452b04[_0x1c61('0xfd')][_0x1c61('0x1bd')](_0x2e6482,_0x48c889['x'],_0x48c889['y'],0x0);}),'getPackedRotationAxis':(_0x2b2e49=new THREE[(_0x1c61('0x1b8'))](),_0x52aa27=new THREE[(_0x1c61('0x1b8'))](),_0x58f251=new THREE[(_0x1c61('0x1ba'))](),_0x3bde76=new THREE['Vector3'](0x1,0x1,0x1),function(_0x452b04,_0x2e6482){return _0x2b2e49[_0x1c61('0x1c2')](_0x452b04)[_0x1c61('0x1c1')](),_0x52aa27['copy'](_0x2e6482)[_0x1c61('0x1c1')](),_0x2b2e49['x']+=0.5*-_0x2e6482['x']+Math[_0x1c61('0x1b4')]()*_0x2e6482['x'],_0x2b2e49['y']+=0.5*-_0x2e6482['y']+Math[_0x1c61('0x1b4')]()*_0x2e6482['y'],_0x2b2e49['z']+=0.5*-_0x2e6482['z']+Math[_0x1c61('0x1b4')]()*_0x2e6482['z'],_0x2b2e49[_0x1c61('0x1c1')]()[_0x1c61('0x1c4')](_0x3bde76)[_0x1c61('0x1c3')](0.5),_0x58f251[_0x1c61('0x1c5')](_0x2b2e49['x'],_0x2b2e49['y'],_0x2b2e49['z']),_0x58f251['getHex']();})},_0x27be90[_0x1c61('0x1c6')]=function(_0x452b04){var _0x2e6482=_0x27be90[_0x1c61('0x1c7')],_0x1f0776=_0x2e6482[_0x1c61('0x1b5')];(_0x452b04=_0x2e6482[_0x1c61('0x1ab')](_0x452b04,_0x1f0776[_0x1c61('0x1c8')],{}))[_0x1c61('0x1c9')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1c9')],_0x1f0776[_0x1c61('0x1c8')],{}),this[_0x1c61('0x1ca')]=THREE[_0x1c61('0x15')]['generateUUID'](),this[_0x1c61('0x1cb')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1cb')],_0x1f0776['NUMBER'],0.016),this['texture']=_0x2e6482[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x1c9')][_0x1c61('0x1c')],THREE[_0x1c61('0x1cc')],null),this[_0x1c61('0x1cd')]=_0x2e6482[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x1c9')][_0x1c61('0x1ce')],THREE[_0x1c61('0x1cf')],new THREE['Vector2'](0x1,0x1)),this[_0x1c61('0x1d0')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04['texture'][_0x1c61('0x1d1')],_0x1f0776[_0x1c61('0x1b6')],this['textureFrames']['x']*this['textureFrames']['y']),this[_0x1c61('0x1d2')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1c9')][_0x1c61('0x1d3')],_0x1f0776[_0x1c61('0x1b6')],0x1),this['textureFrames'][_0x1c61('0x101')](new THREE['Vector2'](0x1,0x1)),this['hasPerspective']=_0x2e6482['ensureTypedArg'](_0x452b04[_0x1c61('0x1d4')],_0x1f0776['BOOLEAN'],!0x0),this['colorize']=_0x2e6482['ensureTypedArg'](_0x452b04[_0x1c61('0x1d5')],_0x1f0776[_0x1c61('0x1d6')],!0x0),this[_0x1c61('0x1d7')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04['maxParticleCount'],_0x1f0776[_0x1c61('0x1b6')],null),this['blending']=_0x2e6482['ensureTypedArg'](_0x452b04[_0x1c61('0x1d8')],_0x1f0776[_0x1c61('0x1b6')],THREE[_0x1c61('0x1d9')]),this['transparent']=_0x2e6482['ensureTypedArg'](_0x452b04['transparent'],_0x1f0776[_0x1c61('0x1d6')],!0x0),this[_0x1c61('0x1da')]=parseFloat(_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1da')],_0x1f0776[_0x1c61('0x1b6')],0x0)),this['depthWrite']=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1db')],_0x1f0776[_0x1c61('0x1d6')],!0x1),this[_0x1c61('0x1dc')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1dc')],_0x1f0776['BOOLEAN'],!0x0),this[_0x1c61('0x1dd')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1dd')],_0x1f0776[_0x1c61('0x1d6')],!0x0),this[_0x1c61('0x1de')]=_0x2e6482[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1de')],_0x1f0776[_0x1c61('0x1b6')],0x12c),this[_0x1c61('0x1df')]=[],this[_0x1c61('0x1e0')]=[],this[_0x1c61('0x1e1')]=[],this[_0x1c61('0x1e2')]=null,this[_0x1c61('0x1e3')]=0x0,this[_0x1c61('0x1e4')]=!0x1,this[_0x1c61('0x1e5')]=!0x1,this[_0x1c61('0x1e6')]=0x0,this[_0x1c61('0x16a')]={'texture1':{'type':'t','value':this[_0x1c61('0x1c9')]},'textureAnimation':{'type':'v4','value':new THREE['Vector4'](this[_0x1c61('0x1cd')]['x'],this[_0x1c61('0x1cd')]['y'],this['textureFrameCount'],Math['max'](Math['abs'](this[_0x1c61('0x1d2')]),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this[_0x1c61('0x1de')]}},this['defines']={'HAS_PERSPECTIVE':this[_0x1c61('0x1d4')],'COLORIZE':this[_0x1c61('0x1d5')],'VALUE_OVER_LIFETIME_LENGTH':_0x27be90['valueOverLifetimeLength'],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this[_0x1c61('0x1cd')]['x']||0x1<this['textureFrames']['y']},this[_0x1c61('0x1e7')]={'position':new _0x27be90['ShaderAttribute']('v3',!0x0),'acceleration':new _0x27be90[(_0x1c61('0xfa'))]('v4',!0x0),'velocity':new _0x27be90[(_0x1c61('0xfa'))]('v3',!0x0),'rotation':new _0x27be90[(_0x1c61('0xfa'))]('v4',!0x0),'rotationCenter':new _0x27be90[(_0x1c61('0xfa'))]('v3',!0x0),'params':new _0x27be90['ShaderAttribute']('v4',!0x0),'size':new _0x27be90[(_0x1c61('0xfa'))]('v4',!0x0),'angle':new _0x27be90[(_0x1c61('0xfa'))]('v4',!0x0),'color':new _0x27be90[(_0x1c61('0xfa'))]('v4',!0x0),'opacity':new _0x27be90['ShaderAttribute']('v4',!0x0)},this['attributeKeys']=(0x0,_0x36287b['default'])(this['attributes']),this[_0x1c61('0x1e8')]=this[_0x1c61('0x1e9')][_0x1c61('0xf')],this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x1ea'))]({'uniforms':this['uniforms'],'vertexShader':_0x27be90[_0x1c61('0x1eb')][_0x1c61('0x1ec')],'fragmentShader':_0x27be90[_0x1c61('0x1eb')][_0x1c61('0x1ed')],'blending':this['blending'],'transparent':this[_0x1c61('0x1ee')],'alphaTest':this[_0x1c61('0x1da')],'depthWrite':this[_0x1c61('0x1db')],'depthTest':this[_0x1c61('0x1dc')],'defines':this[_0x1c61('0x169')],'fog':this['fog']}),this[_0x1c61('0xda')]=new THREE[(_0x1c61('0x1ef'))](),this[_0x1c61('0x1f0')]=new THREE['Points'](this[_0x1c61('0xda')],this['material']),this[_0x1c61('0x1d7')];},_0x27be90[_0x1c61('0x1c6')][_0x1c61('0x85')]=_0x27be90[_0x1c61('0x1c6')],_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0x1f1')]=function(){for(var _0x452b04,_0x2e6482=this['emitters'],_0x1f0776=_0x2e6482[_0x1c61('0xf')]-0x1,_0x2ac3dc=this[_0x1c61('0x169')];0x0<=_0x1f0776;--_0x1f0776)_0x452b04=_0x2e6482[_0x1f0776],_0x2ac3dc[_0x1c61('0x1f2')]||(_0x2ac3dc['SHOULD_ROTATE_TEXTURE']=_0x2ac3dc[_0x1c61('0x1f3')]||!!Math['max'](Math['max'][_0x1c61('0x1d')](null,_0x452b04['angle'][_0x1c61('0x1c')]),Math[_0x1c61('0x101')][_0x1c61('0x1d')](null,_0x452b04['angle'][_0x1c61('0x1f4')]))),_0x2ac3dc[_0x1c61('0x1f5')]=_0x2ac3dc[_0x1c61('0x1f5')]||!!Math[_0x1c61('0x101')](_0x452b04[_0x1c61('0x1f6')][_0x1c61('0x1f7')],_0x452b04[_0x1c61('0x1f6')][_0x1c61('0x1f8')]),_0x2ac3dc['SHOULD_WIGGLE_PARTICLES']=_0x2ac3dc[_0x1c61('0x1f9')]||!!Math[_0x1c61('0x101')](_0x452b04[_0x1c61('0x1fa')][_0x1c61('0x1c')],_0x452b04[_0x1c61('0x1fa')]['spread']);this['material'][_0x1c61('0x108')]=!0x0;},_0x27be90['Group'][_0x1c61('0xb')][_0x1c61('0x1fb')]=function(){var _0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc=this[_0x1c61('0x1e7')],_0x2f64ef=this[_0x1c61('0xda')],_0x36287b=_0x2f64ef[_0x1c61('0x1e7')];for(_0x1f0776 in _0x2ac3dc)_0x2ac3dc[_0x1c61('0xc')](_0x1f0776)&&(_0x452b04=_0x2ac3dc[_0x1f0776],(_0x2e6482=_0x36287b[_0x1f0776])?_0x2e6482[_0x1c61('0xe9')]=_0x452b04[_0x1c61('0xfd')][_0x1c61('0xe9')]:_0x2f64ef['addAttribute'](_0x1f0776,_0x452b04[_0x1c61('0x105')]),_0x452b04[_0x1c61('0x105')][_0x1c61('0x108')]=!0x0);this[_0x1c61('0xda')][_0x1c61('0x1fc')](0x0,this['particleCount']);},_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0x1fd')]=function(_0x452b04){if(_0x452b04 instanceof _0x27be90[_0x1c61('0x1fe')]==0x0)console['error'](_0x1c61('0x1ff'),_0x452b04);else if(-0x1<this['emitterIDs'][_0x1c61('0x50')](_0x452b04[_0x1c61('0x1ca')]))console[_0x1c61('0x200')](_0x1c61('0x201'));else{if(null===_0x452b04['group']){var _0x2e6482,_0x1f0776=this['attributes'],_0x2ac3dc=this[_0x1c61('0x1e6')],_0x2f64ef=_0x2ac3dc+_0x452b04[_0x1c61('0x1e6')];for(_0x2e6482 in this[_0x1c61('0x1e6')]=_0x2f64ef,null!==this['maxParticleCount']&&this[_0x1c61('0x1e6')]>this['maxParticleCount']&&(this[_0x1c61('0x1e6')],this[_0x1c61('0x1d7')]),_0x452b04['_calculatePPSValue'](_0x452b04['maxAge']['_value']+_0x452b04['maxAge'][_0x1c61('0x1ae')]),_0x452b04[_0x1c61('0x202')](this[_0x1c61('0x1e9')]),_0x452b04[_0x1c61('0x203')](_0x2ac3dc),_0x452b04['group']=this,_0x452b04[_0x1c61('0x1e7')]=this['attributes'],_0x1f0776)_0x1f0776[_0x1c61('0xc')](_0x2e6482)&&_0x1f0776[_0x2e6482][_0x1c61('0x10a')](null!==this['maxParticleCount']?this[_0x1c61('0x1d7')]:this[_0x1c61('0x1e6')]);for(var _0x36287b=_0x2ac3dc;_0x36287b<_0x2f64ef;++_0x36287b)_0x452b04[_0x1c61('0x204')](_0x36287b),_0x452b04[_0x1c61('0x205')](_0x36287b,_0x1c61('0x206')),_0x452b04[_0x1c61('0x205')](_0x36287b,'acceleration'),_0x452b04[_0x1c61('0x207')](_0x36287b,_0x1c61('0x208')),_0x452b04[_0x1c61('0x207')](_0x36287b,_0x1c61('0xee')),_0x452b04[_0x1c61('0x209')](_0x36287b),_0x452b04[_0x1c61('0x20a')](_0x36287b),_0x452b04[_0x1c61('0x20b')](_0x36287b),_0x452b04[_0x1c61('0x20c')](_0x36287b);return this[_0x1c61('0x1fb')](),this[_0x1c61('0x1df')][_0x1c61('0x6f')](_0x452b04),this['emitterIDs'][_0x1c61('0x6f')](_0x452b04[_0x1c61('0x1ca')]),this[_0x1c61('0x1f1')](_0x452b04),this[_0x1c61('0x41')][_0x1c61('0x108')]=!0x0,this[_0x1c61('0xda')][_0x1c61('0x108')]=!0x0,this['_attributesNeedRefresh']=!0x0,this;}console[_0x1c61('0x200')](_0x1c61('0x20d'));}},_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0x20e')]=function(_0x452b04){var _0x2e6482=this['emitterIDs']['indexOf'](_0x452b04[_0x1c61('0x1ca')]);if(_0x452b04 instanceof _0x27be90[_0x1c61('0x1fe')]==0x0)console[_0x1c61('0x200')](_0x1c61('0x1ff'),_0x452b04);else if(-0x1===_0x2e6482)console[_0x1c61('0x200')]('Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.');else{for(var _0x1f0776,_0x2ac3dc=_0x452b04[_0x1c61('0x20f')],_0x2f64ef=_0x2ac3dc+_0x452b04['particleCount'],_0x36287b=this[_0x1c61('0x1e7')][_0x1c61('0x210')]['typedArray'],_0x106e04=_0x2ac3dc;_0x106e04<_0x2f64ef;++_0x106e04)_0x36287b[_0x1c61('0xe9')][0x4*_0x106e04]=0x0,_0x36287b[_0x1c61('0xe9')][0x4*_0x106e04+0x1]=0x0;for(_0x1f0776 in this[_0x1c61('0x1df')]['splice'](_0x2e6482,0x1),this[_0x1c61('0x1e0')][_0x1c61('0x8f')](_0x2e6482,0x1),this[_0x1c61('0x1e7')])this[_0x1c61('0x1e7')][_0x1c61('0xc')](_0x1f0776)&&this[_0x1c61('0x1e7')][_0x1f0776]['splice'](_0x2ac3dc,_0x2f64ef);this[_0x1c61('0x1e6')]-=_0x452b04[_0x1c61('0x1e6')],_0x452b04[_0x1c61('0x211')](),this[_0x1c61('0x1e4')]=!0x0;}},_0x27be90['Group']['prototype'][_0x1c61('0x212')]=function(){var _0x452b04=this['_pool'],_0x2e6482=this['_createNewWhenPoolEmpty'];return _0x452b04[_0x1c61('0xf')]?_0x452b04['pop']():_0x2e6482?(_0x452b04=new _0x27be90['Emitter'](this[_0x1c61('0x1e2')]),this[_0x1c61('0x1fd')](_0x452b04),_0x452b04):null;},_0x27be90['Group'][_0x1c61('0xb')][_0x1c61('0x213')]=function(_0x452b04){if(_0x452b04 instanceof _0x27be90[_0x1c61('0x1fe')]!=0x0)return _0x452b04[_0x1c61('0x214')](),this['_pool'][_0x1c61('0x215')](_0x452b04),this;console[_0x1c61('0x200')]('Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:',_0x452b04);},_0x27be90[_0x1c61('0x1c6')][_0x1c61('0xb')][_0x1c61('0x216')]=function(){return this[_0x1c61('0x1e1')];},_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0x217')]=function(_0x452b04,_0x2e6482,_0x1f0776){var _0x2ac3dc;this[_0x1c61('0x1e2')]=_0x2e6482,this['_createNewWhenPoolEmpty']=!!_0x1f0776;for(var _0x2f64ef=0x0;_0x2f64ef<_0x452b04;++_0x2f64ef)_0x2ac3dc=Array[_0x1c61('0xdf')](_0x2e6482)?new _0x27be90[(_0x1c61('0x1fe'))](_0x2e6482[_0x2f64ef]):new _0x27be90[(_0x1c61('0x1fe'))](_0x2e6482),this[_0x1c61('0x1fd')](_0x2ac3dc),this[_0x1c61('0x213')](_0x2ac3dc);return this;},_0x27be90['Group'][_0x1c61('0xb')]['_triggerSingleEmitter']=function(_0x452b04){var _0x2e6482=this[_0x1c61('0x212')](),_0x1f0776=this;if(null!==_0x2e6482)return _0x452b04 instanceof THREE['Vector3']&&(_0x2e6482[_0x1c61('0x218')]['value']['copy'](_0x452b04),_0x2e6482[_0x1c61('0x218')][_0x1c61('0x1c')]=_0x2e6482[_0x1c61('0x218')]['value']),_0x2e6482['enable'](),setTimeout(function(){_0x2e6482['disable'](),_0x1f0776[_0x1c61('0x213')](_0x2e6482);},0x3e8*Math[_0x1c61('0x101')](_0x2e6482['duration'],_0x2e6482[_0x1c61('0x219')]['value']+_0x2e6482[_0x1c61('0x219')]['spread'])),this;},_0x27be90[_0x1c61('0x1c6')][_0x1c61('0xb')]['triggerPoolEmitter']=function(_0x452b04,_0x2e6482){if(_0x1c61('0x1aa')==typeof _0x452b04&&0x1<_0x452b04)for(var _0x1f0776=0x0;_0x1f0776<_0x452b04;++_0x1f0776)this[_0x1c61('0x21a')](_0x2e6482);else this[_0x1c61('0x21a')](_0x2e6482);return this;},_0x27be90[_0x1c61('0x1c6')][_0x1c61('0xb')][_0x1c61('0x21b')]=function(_0x452b04){this[_0x1c61('0x16a')][_0x1c61('0x21c')][_0x1c61('0x1c')]+=_0x452b04,this[_0x1c61('0x16a')][_0x1c61('0x21d')][_0x1c61('0x1c')]=_0x452b04;},_0x27be90[_0x1c61('0x1c6')]['prototype']['_resetBufferRanges']=function(){for(var _0x452b04=this[_0x1c61('0x1e9')],_0x2e6482=this['attributeCount']-0x1,_0x1f0776=this[_0x1c61('0x1e7')];0x0<=_0x2e6482;--_0x2e6482)_0x1f0776[_0x452b04[_0x2e6482]]['resetUpdateRange']();},_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0x21e')]=function(_0x452b04){for(var _0x2e6482,_0x1f0776,_0x2ac3dc=this['attributeKeys'],_0x2f64ef=this[_0x1c61('0x1e8')]-0x1,_0x36287b=this['attributes'],_0x106e04=_0x452b04[_0x1c61('0x21f')];0x0<=_0x2f64ef;--_0x2f64ef)_0x2e6482=_0x106e04[_0x1f0776=_0x2ac3dc[_0x2f64ef]],(_0x1f0776=_0x36287b[_0x1f0776])[_0x1c61('0x220')](_0x2e6482['min'],_0x2e6482[_0x1c61('0x101')]),_0x1f0776['flagUpdate']();},_0x27be90[_0x1c61('0x1c6')][_0x1c61('0xb')][_0x1c61('0x221')]=function(_0x452b04){var _0x2e6482=this[_0x1c61('0x1df')],_0x1f0776=_0x2e6482[_0x1c61('0xf')],_0x2ac3dc=_0x452b04||this[_0x1c61('0x1cb')],_0x2f64ef=this[_0x1c61('0x1e9')],_0x36287b=this[_0x1c61('0x1e7')];if(this[_0x1c61('0x21b')](_0x2ac3dc),this[_0x1c61('0x222')](),0x0!==_0x1f0776||!0x1!==this['_attributesNeedRefresh']||!0x1!==this[_0x1c61('0x1e5')]){for(var _0x106e04,_0x3b3e30=0x0;_0x3b3e30<_0x1f0776;++_0x3b3e30)(_0x106e04=_0x2e6482[_0x3b3e30])['tick'](_0x2ac3dc),this[_0x1c61('0x21e')](_0x106e04);if(!0x0===this[_0x1c61('0x1e5')]){for(_0x3b3e30=this[_0x1c61('0x1e8')]-0x1;0x0<=_0x3b3e30;--_0x3b3e30)_0x36287b[_0x2f64ef[_0x3b3e30]][_0x1c61('0x223')]();this[_0x1c61('0x1e5')]=!0x1;}if(!0x0===this[_0x1c61('0x1e4')]){for(_0x3b3e30=this[_0x1c61('0x1e8')]-0x1;0x0<=_0x3b3e30;--_0x3b3e30)_0x36287b[_0x2f64ef[_0x3b3e30]][_0x1c61('0x107')]();this[_0x1c61('0x1e4')]=!0x1,this[_0x1c61('0x1e5')]=!0x0;}}},_0x27be90[_0x1c61('0x1c6')]['prototype'][_0x1c61('0xd8')]=function(){return this[_0x1c61('0xda')][_0x1c61('0xd8')](),this['material'][_0x1c61('0xd8')](),this;},_0x27be90['Emitter']=function(_0x452b04){var _0x2e6482,_0x1f0776=_0x27be90[_0x1c61('0x1c7')],_0x2ac3dc=_0x1f0776[_0x1c61('0x1b5')],_0x2f64ef=_0x27be90[_0x1c61('0x224')];for(_0x2e6482 in(_0x452b04=_0x1f0776['ensureTypedArg'](_0x452b04,_0x2ac3dc[_0x1c61('0x1c8')],{}))['position']=_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x218')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x206')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x206')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04['acceleration']=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x225')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x226')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04['radius'],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x227')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x227')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x1f6')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1f6')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x228')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x228')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04['opacity']=_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x208')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04['size']=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0xee')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x1f7')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04['angle'],_0x2ac3dc['OBJECT'],{}),_0x452b04['wiggle']=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1fa')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x219')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x219')],_0x2ac3dc[_0x1c61('0x1c8')],{}),_0x452b04[_0x1c61('0x229')],this[_0x1c61('0x1ca')]=THREE['Math']['generateUUID'](),this[_0x1c61('0x90')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x90')],_0x2ac3dc[_0x1c61('0x1b6')],_0x27be90[_0x1c61('0x22a')][_0x1c61('0x22b')]),this[_0x1c61('0x218')]={'_value':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x1c')],THREE['Vector3'],new THREE[(_0x1c61('0x1b8'))]()),'_spread':_0x1f0776['ensureInstanceOf'](_0x452b04['position'][_0x1c61('0x1f4')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_spreadClamp':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22c')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_distribution':_0x1f0776[_0x1c61('0x1ab')](_0x452b04['position'][_0x1c61('0x22d')],_0x2ac3dc[_0x1c61('0x1b6')],this[_0x1c61('0x90')]),'_randomise':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc['BOOLEAN'],!0x1),'_radius':_0x1f0776['ensureTypedArg'](_0x452b04['position']['radius'],_0x2ac3dc[_0x1c61('0x1b6')],0xa),'_radiusScale':_0x1f0776[_0x1c61('0x1ac')](_0x452b04['position'][_0x1c61('0x22f')],THREE['Vector3'],new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1)),'_distributionClamp':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')]['distributionClamp'],_0x2ac3dc['NUMBER'],0x0)},this[_0x1c61('0x206')]={'_value':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x206')][_0x1c61('0x1c')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_spread':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x206')][_0x1c61('0x1f4')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_distribution':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x206')][_0x1c61('0x22d')],_0x2ac3dc['NUMBER'],this['type']),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x225')]={'_value':_0x1f0776['ensureInstanceOf'](_0x452b04[_0x1c61('0x225')][_0x1c61('0x1c')],THREE['Vector3'],new THREE[(_0x1c61('0x1b8'))]()),'_spread':_0x1f0776['ensureInstanceOf'](_0x452b04['acceleration']['spread'],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_distribution':_0x1f0776['ensureTypedArg'](_0x452b04['acceleration'][_0x1c61('0x22d')],_0x2ac3dc[_0x1c61('0x1b6')],this[_0x1c61('0x90')]),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04['position'][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x227')]={'_value':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x227')][_0x1c61('0x1c')],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_spread':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x227')]['spread'],_0x2ac3dc['NUMBER'],0x0),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc['BOOLEAN'],!0x1)},this['wiggle']={'_value':_0x1f0776['ensureTypedArg'](_0x452b04['wiggle'][_0x1c61('0x1c')],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_spread':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1fa')][_0x1c61('0x1f4')],_0x2ac3dc['NUMBER'],0x0)},this[_0x1c61('0x1f6')]={'_axis':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x1f6')][_0x1c61('0x230')],THREE[_0x1c61('0x1b8')],new THREE['Vector3'](0x0,0x1,0x0)),'_axisSpread':_0x1f0776[_0x1c61('0x1ac')](_0x452b04[_0x1c61('0x1f6')][_0x1c61('0x231')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_angle':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x1f6')][_0x1c61('0x1f7')],_0x2ac3dc['NUMBER'],0x0),'_angleSpread':_0x1f0776['ensureTypedArg'](_0x452b04['rotation'][_0x1c61('0x1f8')],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_static':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x1f6')]['static'],_0x2ac3dc['BOOLEAN'],!0x1),'_center':_0x1f0776['ensureInstanceOf'](_0x452b04['rotation'][_0x1c61('0x232')],THREE[_0x1c61('0x1b8')],this[_0x1c61('0x218')][_0x1c61('0x1ad')][_0x1c61('0x1b1')]()),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x219')]={'_value':_0x1f0776[_0x1c61('0x1ab')](_0x452b04['maxAge'][_0x1c61('0x1c')],_0x2ac3dc['NUMBER'],0x2),'_spread':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x219')][_0x1c61('0x1f4')],_0x2ac3dc[_0x1c61('0x1b6')],0x0)},this[_0x1c61('0x228')]={'_value':_0x1f0776[_0x1c61('0x233')](_0x452b04[_0x1c61('0x228')][_0x1c61('0x1c')],THREE[_0x1c61('0x1ba')],new THREE['Color']()),'_spread':_0x1f0776['ensureArrayInstanceOf'](_0x452b04['color'][_0x1c61('0x1f4')],THREE[_0x1c61('0x1b8')],new THREE[(_0x1c61('0x1b8'))]()),'_randomise':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this['opacity']={'_value':_0x1f0776[_0x1c61('0x234')](_0x452b04[_0x1c61('0x208')][_0x1c61('0x1c')],_0x2ac3dc[_0x1c61('0x1b6')],0x1),'_spread':_0x1f0776['ensureArrayTypedArg'](_0x452b04[_0x1c61('0x208')][_0x1c61('0x1f4')],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0xee')]={'_value':_0x1f0776[_0x1c61('0x234')](_0x452b04[_0x1c61('0xee')]['value'],_0x2ac3dc[_0x1c61('0x1b6')],0x1),'_spread':_0x1f0776['ensureArrayTypedArg'](_0x452b04[_0x1c61('0xee')]['spread'],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_randomise':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x1f7')]={'_value':_0x1f0776['ensureArrayTypedArg'](_0x452b04[_0x1c61('0x1f7')]['value'],_0x2ac3dc[_0x1c61('0x1b6')],0x0),'_spread':_0x1f0776[_0x1c61('0x234')](_0x452b04[_0x1c61('0x1f7')]['spread'],_0x2ac3dc['NUMBER'],0x0),'_randomise':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x1e6')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1e6')],_0x2ac3dc['NUMBER'],0x64),this[_0x1c61('0x235')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x235')],_0x2ac3dc[_0x1c61('0x1b6')],null),this['isStatic']=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x236')],_0x2ac3dc['BOOLEAN'],!0x1),this[_0x1c61('0x237')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x237')],_0x2ac3dc['NUMBER'],0x1),this[_0x1c61('0x238')]=_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x238')],_0x2ac3dc['NUMBER'],0x1),this[_0x1c61('0x239')]=_0x1f0776[_0x1c61('0x1ab')](_0x452b04['alive'],_0x2ac3dc[_0x1c61('0x1d6')],!0x0),this[_0x1c61('0x23a')]=0x0,this[_0x1c61('0x23b')]=0x0,this['attributeOffset']=0x0,this[_0x1c61('0x23c')]=0x0,this['age']=0x0,this[_0x1c61('0x23d')]=0x0,this[_0x1c61('0x23e')]=null,this[_0x1c61('0x1e7')]=null,this[_0x1c61('0x23f')]=null,this[_0x1c61('0x240')]={'position':_0x1f0776['ensureTypedArg'](_0x452b04[_0x1c61('0x218')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)||_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x226')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'velocity':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x206')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'acceleration':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x225')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)||_0x1f0776[_0x1c61('0x1ab')](_0x452b04['drag'][_0x1c61('0x22e')],_0x2ac3dc['BOOLEAN'],!0x1),'rotation':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1f6')]['randomise'],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'rotationCenter':_0x1f0776[_0x1c61('0x1ab')](_0x452b04['rotation'][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'size':_0x1f0776[_0x1c61('0x1ab')](_0x452b04['size'][_0x1c61('0x22e')],_0x2ac3dc['BOOLEAN'],!0x1),'color':_0x1f0776['ensureTypedArg'](_0x452b04['color'][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'opacity':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x208')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1),'angle':_0x1f0776[_0x1c61('0x1ab')](_0x452b04[_0x1c61('0x1f7')][_0x1c61('0x22e')],_0x2ac3dc[_0x1c61('0x1d6')],!0x1)},this[_0x1c61('0x241')]={},this[_0x1c61('0x242')]={},this[_0x1c61('0x243')]={'maxAge':_0x1c61('0x210'),'position':_0x1c61('0x218'),'velocity':_0x1c61('0x206'),'acceleration':_0x1c61('0x225'),'drag':_0x1c61('0x225'),'wiggle':_0x1c61('0x210'),'rotation':_0x1c61('0x1f6'),'size':_0x1c61('0xee'),'color':'color','opacity':_0x1c61('0x208'),'angle':'angle'},this[_0x1c61('0x243')])this[_0x1c61('0x243')][_0x1c61('0xc')](_0x2e6482)&&(this['updateCounts'][this[_0x1c61('0x243')][_0x2e6482]]=0x0,this[_0x1c61('0x241')][this[_0x1c61('0x243')][_0x2e6482]]=!0x1,this['_createGetterSetters'](this[_0x2e6482],_0x2e6482));this[_0x1c61('0x21f')]={},this[_0x1c61('0x1e9')]=null,this[_0x1c61('0x1e8')]=0x0,_0x1f0776[_0x1c61('0x244')](this[_0x1c61('0x228')],_0x2f64ef,_0x2f64ef),_0x1f0776[_0x1c61('0x244')](this[_0x1c61('0x208')],_0x2f64ef,_0x2f64ef),_0x1f0776['ensureValueOverLifetimeCompliance'](this[_0x1c61('0xee')],_0x2f64ef,_0x2f64ef),_0x1f0776[_0x1c61('0x244')](this[_0x1c61('0x1f7')],_0x2f64ef,_0x2f64ef);},_0x27be90['Emitter']['constructor']=_0x27be90[_0x1c61('0x1fe')],_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')]['_createGetterSetters']=function(_0x452b04,_0x36287b){var _0x2e6482,_0x1f0776,_0x106e04=this;for(_0x2e6482 in _0x452b04)_0x452b04[_0x1c61('0xc')](_0x2e6482)&&(_0x1f0776=_0x2e6482['replace']('_',''),(0x0,_0x2f64ef[_0x1c61('0x8')])(_0x452b04,_0x1f0776,{'get':function(_0x452b04){return function(){return this[_0x452b04];};}(_0x2e6482),'set':function(_0x2f64ef){return function(_0x452b04){var _0x2e6482=_0x106e04[_0x1c61('0x243')][_0x36287b],_0x1f0776=this[_0x2f64ef],_0x2ac3dc=_0x27be90[_0x1c61('0x224')];_0x1c61('0x245')===_0x2f64ef?(_0x106e04[_0x1c61('0x241')]['rotationCenter']=!0x0,_0x106e04['updateCounts']['rotationCenter']=0x0):_0x1c61('0x246')===_0x2f64ef?_0x106e04[_0x1c61('0x240')][_0x2e6482]=_0x452b04:(_0x106e04['updateFlags'][_0x2e6482]=!0x0,_0x106e04['updateCounts'][_0x2e6482]=0x0),_0x106e04[_0x1c61('0x23e')][_0x1c61('0x1f1')](),this[_0x2f64ef]=_0x452b04,Array['isArray'](_0x1f0776)&&_0x27be90['utils'][_0x1c61('0x244')](_0x106e04[_0x36287b],_0x2ac3dc,_0x2ac3dc);};}(_0x2e6482)}));},_0x27be90[_0x1c61('0x1fe')]['prototype'][_0x1c61('0x202')]=function(_0x452b04){this[_0x1c61('0x1e9')]=_0x452b04,this['attributeCount']=_0x452b04['length'];for(var _0x2e6482=this[_0x1c61('0x1e8')]-0x1;0x0<=_0x2e6482;--_0x2e6482)this['bufferUpdateRanges'][_0x452b04[_0x2e6482]]={'min':Number['POSITIVE_INFINITY'],'max':Number[_0x1c61('0x247')]};},_0x27be90[_0x1c61('0x1fe')]['prototype'][_0x1c61('0x248')]=function(_0x452b04){var _0x2e6482=this[_0x1c61('0x1e6')];this[_0x1c61('0x235')]?this['particlesPerSecond']=_0x2e6482/(_0x452b04<this['duration']?_0x452b04:this['duration']):this[_0x1c61('0x23a')]=_0x2e6482/_0x452b04;},_0x27be90['Emitter'][_0x1c61('0xb')][_0x1c61('0x203')]=function(_0x452b04){this['attributeOffset']=_0x452b04,this[_0x1c61('0x23b')]=_0x452b04,this[_0x1c61('0x249')]=_0x452b04+this[_0x1c61('0x1e6')];},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x24a')]=function(_0x452b04,_0x2e6482){switch(_0x452b04){case _0x1c61('0x218'):this[_0x1c61('0x204')](_0x2e6482);break;case _0x1c61('0x206'):case'acceleration':this[_0x1c61('0x205')](_0x2e6482,_0x452b04);break;case _0x1c61('0xee'):case _0x1c61('0x208'):this[_0x1c61('0x207')](_0x2e6482,_0x452b04);break;case _0x1c61('0x1f7'):this[_0x1c61('0x209')](_0x2e6482);break;case _0x1c61('0x210'):this[_0x1c61('0x20b')](_0x2e6482);break;case'rotation':this[_0x1c61('0x20a')](_0x2e6482);break;case _0x1c61('0x228'):this['_assignColorValue'](_0x2e6482);}},_0x27be90[_0x1c61('0x1fe')]['prototype']['_assignPositionValue']=function(_0x452b04){var _0x2e6482=_0x27be90[_0x1c61('0x22a')],_0x1f0776=_0x27be90['utils'],_0x2ac3dc=this[_0x1c61('0x218')],_0x2f64ef=this[_0x1c61('0x1e7')][_0x1c61('0x218')],_0x36287b=_0x2ac3dc[_0x1c61('0x1ad')],_0x106e04=_0x2ac3dc['_spread'];switch(_0x2ac3dc[_0x1c61('0x24b')]){case _0x2e6482['BOX']:_0x1f0776[_0x1c61('0x24c')](_0x2f64ef,_0x452b04,_0x36287b,_0x106e04,_0x2ac3dc[_0x1c61('0x24d')]);break;case _0x2e6482[_0x1c61('0x24e')]:_0x1f0776[_0x1c61('0x24f')](_0x2f64ef,_0x452b04,_0x36287b,_0x2ac3dc[_0x1c61('0x250')],_0x2ac3dc['_spread']['x'],_0x2ac3dc['_radiusScale'],_0x2ac3dc[_0x1c61('0x24d')]['x'],_0x2ac3dc[_0x1c61('0x251')]||this['particleCount']);break;case _0x2e6482[_0x1c61('0x252')]:_0x1f0776['randomVector3OnDisc'](_0x2f64ef,_0x452b04,_0x36287b,_0x2ac3dc[_0x1c61('0x250')],_0x2ac3dc[_0x1c61('0x1ae')]['x'],_0x2ac3dc[_0x1c61('0x253')],_0x2ac3dc[_0x1c61('0x24d')]['x']);}},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')]['_assignForceValue']=function(_0x452b04,_0x2e6482){var _0x1f0776,_0x2ac3dc,_0x2f64ef,_0x36287b,_0x106e04,_0x3b3e30=_0x27be90[_0x1c61('0x22a')],_0x2b2e49=_0x27be90[_0x1c61('0x1c7')],_0x52aa27=this[_0x2e6482],_0x58f251=_0x52aa27[_0x1c61('0x1ad')],_0x3bde76=_0x52aa27[_0x1c61('0x1ae')];switch(_0x52aa27['_distribution']){case _0x3b3e30[_0x1c61('0x22b')]:_0x2b2e49[_0x1c61('0x24c')](this[_0x1c61('0x1e7')][_0x2e6482],_0x452b04,_0x58f251,_0x3bde76);break;case _0x3b3e30[_0x1c61('0x24e')]:_0x2ac3dc=(_0x1f0776=this['attributes']['position']['typedArray'][_0x1c61('0xe9')])[_0x106e04=0x3*_0x452b04],_0x2f64ef=_0x1f0776[_0x106e04+0x1],_0x36287b=_0x1f0776[_0x106e04+0x2],_0x2b2e49[_0x1c61('0x254')](this[_0x1c61('0x1e7')][_0x2e6482],_0x452b04,_0x2ac3dc,_0x2f64ef,_0x36287b,this[_0x1c61('0x218')][_0x1c61('0x1ad')],_0x52aa27[_0x1c61('0x1ad')]['x'],_0x52aa27['_spread']['x']);break;case _0x3b3e30[_0x1c61('0x252')]:_0x2ac3dc=(_0x1f0776=this[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0xfd')][_0x1c61('0xe9')])[_0x106e04=0x3*_0x452b04],_0x2f64ef=_0x1f0776[_0x106e04+0x1],_0x36287b=_0x1f0776[_0x106e04+0x2],_0x2b2e49[_0x1c61('0x255')](this[_0x1c61('0x1e7')][_0x2e6482],_0x452b04,_0x2ac3dc,_0x2f64ef,_0x36287b,this[_0x1c61('0x218')]['_value'],_0x52aa27[_0x1c61('0x1ad')]['x'],_0x52aa27[_0x1c61('0x1ae')]['x']);}_0x1c61('0x225')===_0x2e6482&&(_0x3b3e30=_0x2b2e49[_0x1c61('0x1af')](_0x2b2e49[_0x1c61('0x1bf')](this['drag'][_0x1c61('0x1ad')],this[_0x1c61('0x227')]['_spread']),0x0,0x1),this[_0x1c61('0x1e7')][_0x1c61('0x225')]['typedArray'][_0x1c61('0xe9')][0x4*_0x452b04+0x3]=_0x3b3e30);},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x207')]=function(_0x452b04,_0x2e6482){var _0x1f0776,_0x2ac3dc=this[_0x1c61('0x1e7')][_0x2e6482][_0x1c61('0xfd')],_0x2e6482=this[_0x2e6482],_0x2f64ef=_0x27be90[_0x1c61('0x1c7')];_0x2f64ef[_0x1c61('0x256')](_0x2e6482[_0x1c61('0x1ad')])&&_0x2f64ef[_0x1c61('0x256')](_0x2e6482[_0x1c61('0x1ae')])?(_0x1f0776=Math[_0x1c61('0x1bb')](_0x2f64ef[_0x1c61('0x1bf')](_0x2e6482[_0x1c61('0x1ad')][0x0],_0x2e6482[_0x1c61('0x1ae')][0x0])),_0x2ac3dc[_0x1c61('0xf4')](_0x452b04,_0x1f0776,_0x1f0776,_0x1f0776,_0x1f0776)):_0x2ac3dc['setVec4Components'](_0x452b04,Math['abs'](_0x2f64ef['randomFloat'](_0x2e6482[_0x1c61('0x1ad')][0x0],_0x2e6482[_0x1c61('0x1ae')][0x0])),Math[_0x1c61('0x1bb')](_0x2f64ef['randomFloat'](_0x2e6482['_value'][0x1],_0x2e6482[_0x1c61('0x1ae')][0x1])),Math[_0x1c61('0x1bb')](_0x2f64ef[_0x1c61('0x1bf')](_0x2e6482['_value'][0x2],_0x2e6482[_0x1c61('0x1ae')][0x2])),Math[_0x1c61('0x1bb')](_0x2f64ef[_0x1c61('0x1bf')](_0x2e6482[_0x1c61('0x1ad')][0x3],_0x2e6482[_0x1c61('0x1ae')][0x3])));},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x209')]=function(_0x452b04){var _0x2e6482,_0x1f0776=this['attributes']['angle']['typedArray'],_0x2ac3dc=this[_0x1c61('0x1f7')],_0x2f64ef=_0x27be90['utils'];_0x2f64ef[_0x1c61('0x256')](_0x2ac3dc[_0x1c61('0x1ad')])&&_0x2f64ef[_0x1c61('0x256')](_0x2ac3dc['_spread'])?(_0x2e6482=_0x2f64ef['randomFloat'](_0x2ac3dc[_0x1c61('0x1ad')][0x0],_0x2ac3dc[_0x1c61('0x1ae')][0x0]),_0x1f0776[_0x1c61('0xf4')](_0x452b04,_0x2e6482,_0x2e6482,_0x2e6482,_0x2e6482)):_0x1f0776[_0x1c61('0xf4')](_0x452b04,_0x2f64ef[_0x1c61('0x1bf')](_0x2ac3dc['_value'][0x0],_0x2ac3dc[_0x1c61('0x1ae')][0x0]),_0x2f64ef[_0x1c61('0x1bf')](_0x2ac3dc[_0x1c61('0x1ad')][0x1],_0x2ac3dc[_0x1c61('0x1ae')][0x1]),_0x2f64ef[_0x1c61('0x1bf')](_0x2ac3dc['_value'][0x2],_0x2ac3dc[_0x1c61('0x1ae')][0x2]),_0x2f64ef[_0x1c61('0x1bf')](_0x2ac3dc[_0x1c61('0x1ad')][0x3],_0x2ac3dc['_spread'][0x3]));},_0x27be90['Emitter'][_0x1c61('0xb')][_0x1c61('0x20b')]=function(_0x452b04){this[_0x1c61('0x1e7')][_0x1c61('0x210')][_0x1c61('0xfd')][_0x1c61('0xf4')](_0x452b04,this['isStatic']?0x1:0x0,0x0,Math['abs'](_0x27be90['utils'][_0x1c61('0x1bf')](this['maxAge'][_0x1c61('0x1ad')],this[_0x1c61('0x219')]['_spread'])),_0x27be90['utils'][_0x1c61('0x1bf')](this[_0x1c61('0x1fa')][_0x1c61('0x1ad')],this[_0x1c61('0x1fa')][_0x1c61('0x1ae')]));},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')]['_assignRotationValue']=function(_0x452b04){this[_0x1c61('0x1e7')]['rotation'][_0x1c61('0xfd')][_0x1c61('0x1bd')](_0x452b04,_0x27be90[_0x1c61('0x1c7')]['getPackedRotationAxis'](this[_0x1c61('0x1f6')][_0x1c61('0x257')],this['rotation'][_0x1c61('0x258')]),_0x27be90[_0x1c61('0x1c7')][_0x1c61('0x1bf')](this['rotation'][_0x1c61('0x259')],this['rotation'][_0x1c61('0x25a')]),this['rotation'][_0x1c61('0x25b')]?0x0:0x1),this[_0x1c61('0x1e7')][_0x1c61('0x25c')][_0x1c61('0xfd')][_0x1c61('0xf2')](_0x452b04,this['rotation'][_0x1c61('0x25d')]);},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x20c')]=function(_0x452b04){_0x27be90[_0x1c61('0x1c7')][_0x1c61('0x25e')](this['attributes'][_0x1c61('0x228')],_0x452b04,this[_0x1c61('0x228')][_0x1c61('0x1ad')],this[_0x1c61('0x228')][_0x1c61('0x1ae')]);},_0x27be90['Emitter']['prototype'][_0x1c61('0x25f')]=function(_0x452b04){for(var _0x2e6482,_0x1f0776,_0x2ac3dc=this[_0x1c61('0x240')],_0x2f64ef=this[_0x1c61('0x241')],_0x36287b=this[_0x1c61('0x242')],_0x106e04=this[_0x1c61('0x1e9')],_0x3b3e30=this[_0x1c61('0x1e8')]-0x1;0x0<=_0x3b3e30;--_0x3b3e30)_0x1f0776=_0x2f64ef[_0x2e6482=_0x106e04[_0x3b3e30]],!0x0!==_0x2ac3dc[_0x2e6482]&&!0x0!==_0x1f0776||(this[_0x1c61('0x24a')](_0x2e6482,_0x452b04),this[_0x1c61('0x260')](_0x2e6482,_0x452b04),!0x0===_0x1f0776&&_0x36287b[_0x2e6482]===this['particleCount']?(_0x2f64ef[_0x2e6482]=!0x1,_0x36287b[_0x2e6482]=0x0):0x1==_0x1f0776&&++_0x36287b[_0x2e6482]);},_0x27be90['Emitter'][_0x1c61('0xb')][_0x1c61('0x260')]=function(_0x452b04,_0x2e6482){_0x452b04=this[_0x1c61('0x21f')][_0x452b04];_0x452b04[_0x1c61('0x7d')]=Math[_0x1c61('0x7d')](_0x2e6482,_0x452b04[_0x1c61('0x7d')]),_0x452b04['max']=Math[_0x1c61('0x101')](_0x2e6482,_0x452b04[_0x1c61('0x101')]);},_0x27be90[_0x1c61('0x1fe')]['prototype'][_0x1c61('0x222')]=function(){for(var _0x452b04,_0x2e6482=this[_0x1c61('0x21f')],_0x1f0776=this[_0x1c61('0x261')],_0x2ac3dc=this[_0x1c61('0x262')]-0x1;0x0<=_0x2ac3dc;--_0x2ac3dc)_0x2e6482[_0x452b04=_0x1f0776[_0x2ac3dc]][_0x1c61('0x7d')]=Number[_0x1c61('0x263')],_0x2e6482[_0x452b04][_0x1c61('0x101')]=Number[_0x1c61('0x247')];},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x211')]=function(){this['particlesPerSecond']=0x0,this[_0x1c61('0x20f')]=0x0,this[_0x1c61('0x23b')]=0x0,this['activeParticleCount']=0x0,this[_0x1c61('0x23e')]=null,this[_0x1c61('0x1e7')]=null,this['paramsArray']=null,this[_0x1c61('0x264')]=0x0;},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x265')]=function(){--this[_0x1c61('0x23d')];},_0x27be90['Emitter'][_0x1c61('0xb')][_0x1c61('0x266')]=function(){++this['activeParticleCount'];},_0x27be90[_0x1c61('0x1fe')]['prototype'][_0x1c61('0x267')]=function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){for(var _0x2f64ef,_0x36287b,_0x106e04,_0x3b3e30,_0x2b2e49=_0x2e6482-0x1;_0x452b04<=_0x2b2e49;--_0x2b2e49)0x0!==(_0x3b3e30=_0x1f0776[_0x2f64ef=0x4*_0x2b2e49])&&(_0x106e04=_0x1f0776[0x1+_0x2f64ef],_0x36287b=_0x1f0776[0x2+_0x2f64ef],0x1===this['direction']?_0x36287b<=(_0x106e04+=_0x2ac3dc)&&(_0x3b3e30=_0x106e04=0x0,this['_decrementParticleCount']()):(_0x106e04-=_0x2ac3dc)<=0x0&&(_0x106e04=_0x36287b,_0x3b3e30=0x0,this[_0x1c61('0x265')]()),_0x1f0776[_0x2f64ef]=_0x3b3e30,_0x1f0776[0x1+_0x2f64ef]=_0x106e04,this[_0x1c61('0x260')]('params',_0x2b2e49));},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x268')]=function(_0x452b04,_0x2e6482,_0x1f0776,_0x2ac3dc){for(var _0x2f64ef,_0x36287b,_0x106e04=this['direction'],_0x3b3e30=_0x452b04;_0x3b3e30<_0x2e6482;++_0x3b3e30)0x0!=_0x1f0776[_0x2f64ef=0x4*_0x3b3e30]&&0x1!==this['particleCount']||(this['_incrementParticleCount'](),_0x1f0776[_0x2f64ef]=0x1,this[_0x1c61('0x25f')](_0x3b3e30),_0x36287b=_0x2ac3dc*(_0x3b3e30-_0x452b04),_0x1f0776[0x1+_0x2f64ef]=-0x1===_0x106e04?_0x1f0776[0x2+_0x2f64ef]-_0x36287b:_0x36287b,this['_updateAttributeUpdateRange'](_0x1c61('0x210'),_0x3b3e30));},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x221')]=function(_0x452b04){if(!this['isStatic']){null===this[_0x1c61('0x23f')]&&(this[_0x1c61('0x23f')]=this[_0x1c61('0x1e7')]['params'][_0x1c61('0xfd')][_0x1c61('0xe9')]);var _0x2e6482=this['attributeOffset'],_0x1f0776=_0x2e6482+this[_0x1c61('0x1e6')],_0x2ac3dc=this[_0x1c61('0x23f')],_0x2f64ef=this[_0x1c61('0x23a')]*this['activeMultiplier']*_0x452b04,_0x36287b=this[_0x1c61('0x23b')];if(this[_0x1c61('0x222')](),this[_0x1c61('0x267')](_0x2e6482,_0x1f0776,_0x2ac3dc,_0x452b04),!0x1===this['alive'])this[_0x1c61('0x264')]=0x0;else{if(null!==this[_0x1c61('0x235')]&&this[_0x1c61('0x264')]>this[_0x1c61('0x235')])return this[_0x1c61('0x239')]=!0x1,void(this[_0x1c61('0x264')]=0x0);var _0x36287b=0x1===this[_0x1c61('0x1e6')]?_0x36287b:0x0|_0x36287b,_0x106e04=Math[_0x1c61('0x7d')](_0x36287b+_0x2f64ef,this[_0x1c61('0x249')]),_0x3b3e30=_0x106e04-this['activationIndex']|0x0;this[_0x1c61('0x268')](_0x36287b,_0x106e04,_0x2ac3dc,0x0<_0x3b3e30?_0x452b04/_0x3b3e30:0x0),this[_0x1c61('0x23b')]+=_0x2f64ef,this['activationIndex']>_0x1f0776&&(this[_0x1c61('0x23b')]=_0x2e6482),this[_0x1c61('0x264')]+=_0x452b04;}}},_0x27be90[_0x1c61('0x1fe')]['prototype']['reset']=function(_0x452b04){if(this[_0x1c61('0x264')]=0x0,!(this[_0x1c61('0x239')]=!0x1)===_0x452b04){for(var _0x2e6482,_0x1f0776=this['attributeOffset'],_0x452b04=_0x1f0776+this[_0x1c61('0x1e6')],_0x2ac3dc=this[_0x1c61('0x23f')],_0x2f64ef=this['attributes'][_0x1c61('0x210')][_0x1c61('0x105')],_0x36287b=_0x452b04-0x1;_0x1f0776<=_0x36287b;--_0x36287b)_0x2ac3dc[_0x2e6482=0x4*_0x36287b]=0x0,_0x2ac3dc[0x1+_0x2e6482]=0x0;_0x2f64ef[_0x1c61('0x103')]['offset']=0x0,_0x2f64ef[_0x1c61('0x103')][_0x1c61('0x104')]=-0x1,_0x2f64ef[_0x1c61('0x108')]=!0x0;}return this;},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')]['enable']=function(){return this[_0x1c61('0x239')]=!0x0,this;},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0x269')]=function(){return this[_0x1c61('0x239')]=!0x1,this;},_0x27be90[_0x1c61('0x1fe')][_0x1c61('0xb')][_0x1c61('0xdc')]=function(){return null!==this[_0x1c61('0x23e')]?this[_0x1c61('0x23e')][_0x1c61('0x20e')](this):console[_0x1c61('0x200')](_0x1c61('0x26a')),this;};},function(_0x2e7189,_0x26a642,_0x32b9fb){_0x2e7189[_0x1c61('0x1')]={'default':_0x32b9fb(0x59),'__esModule':!0x0};},function(_0x5bc86f,_0x2c0d08,_0x407796){_0x5bc86f[_0x1c61('0x1')]={'default':_0x407796(0x7f),'__esModule':!0x0};},function(_0x1255b3,_0x2d4ad4,_0x489bbf){_0x489bbf(0x19),_0x489bbf(0x1b),_0x1255b3['exports']=_0x489bbf(0x29)['f']('iterator');},function(_0x35e36c,_0xe61a47,_0x113ca8){_0x113ca8(0x5b),_0x113ca8(0x35),_0x113ca8(0x5e),_0x113ca8(0x5f),_0x35e36c[_0x1c61('0x1')]=_0x113ca8(0x2)[_0x1c61('0x17')];},function(_0xaf1fd7,_0x37140f,_0x1bbc66){'use strict';function _0x51531d(_0x1bbc66){var _0x216770=_0x503078[_0x1bbc66]=_0x497ac6(_0x258b94[_0x1240b0]);return _0x216770['_k']=_0x1bbc66,_0x216770;}function _0x1fbe10(_0x1bbc66,_0x91cb13){_0x55a8de(_0x1bbc66);for(var _0x1fbe10,_0x51531d=_0x2f60c7(_0x91cb13=_0x484628(_0x91cb13)),_0x4e53ca=0x0,_0x49ecd2=_0x51531d[_0x1c61('0xf')];_0x4e53ca<_0x49ecd2;)_0x45a996(_0x1bbc66,_0x1fbe10=_0x51531d[_0x4e53ca++],_0x91cb13[_0x1fbe10]);return _0x1bbc66;}function _0x26a229(_0x1bbc66){var _0x26a229=_0x3fb4d8['call'](this,_0x1bbc66=_0x5b5a4c(_0x1bbc66,!0x0));return!(this===_0x2f6caa&&_0x3c002c(_0x503078,_0x1bbc66)&&!_0x3c002c(_0x4975c5,_0x1bbc66))&&(!(_0x26a229||!_0x3c002c(this,_0x1bbc66)||!_0x3c002c(_0x503078,_0x1bbc66)||_0x3c002c(this,_0x363033)&&this[_0x363033][_0x1bbc66])||_0x26a229);}function _0x382da5(_0x1bbc66,_0x26a229){var _0x1fbe10;if(_0x1bbc66=_0x484628(_0x1bbc66),_0x26a229=_0x5b5a4c(_0x26a229,!0x0),_0x1bbc66!==_0x2f6caa||!_0x3c002c(_0x503078,_0x26a229)||_0x3c002c(_0x4975c5,_0x26a229))return!(_0x1fbe10=_0x5c57dc(_0x1bbc66,_0x26a229))||!_0x3c002c(_0x503078,_0x26a229)||_0x3c002c(_0x1bbc66,_0x363033)&&_0x1bbc66[_0x363033][_0x26a229]||(_0x1fbe10[_0x1c61('0x10')]=!0x0),_0x1fbe10;}function _0x4a4dcd(_0x1bbc66){for(var _0x26a229,_0x1fbe10=_0x21abfa(_0x484628(_0x1bbc66)),_0x51531d=[],_0x382da5=0x0;_0x1fbe10[_0x1c61('0xf')]>_0x382da5;)_0x3c002c(_0x503078,_0x26a229=_0x1fbe10[_0x382da5++])||_0x26a229==_0x363033||_0x26a229==_0x3133bf||_0x51531d[_0x1c61('0x6f')](_0x26a229);return _0x51531d;}function _0x5d59ed(_0x1bbc66){for(var _0x26a229,_0x1fbe10=_0x1bbc66===_0x2f6caa,_0x51531d=_0x21abfa(_0x1fbe10?_0x4975c5:_0x484628(_0x1bbc66)),_0x382da5=[],_0x4a4dcd=0x0;_0x51531d['length']>_0x4a4dcd;)!_0x3c002c(_0x503078,_0x26a229=_0x51531d[_0x4a4dcd++])||_0x1fbe10&&!_0x3c002c(_0x2f6caa,_0x26a229)||_0x382da5[_0x1c61('0x6f')](_0x503078[_0x26a229]);return _0x382da5;}function _0x45a996(_0x1bbc66,_0x26a229,_0x1fbe10){return _0x1bbc66===_0x2f6caa&&_0x45a996(_0x4975c5,_0x26a229,_0x1fbe10),_0x55a8de(_0x1bbc66),_0x26a229=_0x5b5a4c(_0x26a229,!0x0),_0x55a8de(_0x1fbe10),_0x3c002c(_0x503078,_0x26a229)?(_0x1fbe10['enumerable']?(_0x3c002c(_0x1bbc66,_0x363033)&&_0x1bbc66[_0x363033][_0x26a229]&&(_0x1bbc66[_0x363033][_0x26a229]=!0x1),_0x1fbe10=_0x497ac6(_0x1fbe10,{'enumerable':_0x43d8(0x0,!0x1)})):(_0x3c002c(_0x1bbc66,_0x363033)||_0xaf89c1(_0x1bbc66,_0x363033,_0x43d8(0x1,{})),_0x1bbc66[_0x363033][_0x26a229]=!0x0),_0xdbd245(_0x1bbc66,_0x26a229,_0x1fbe10)):_0xaf89c1(_0x1bbc66,_0x26a229,_0x1fbe10);}var _0x5a02cd=_0x1bbc66(0x5),_0x3c002c=_0x1bbc66(0xc),_0x417fef=_0x1bbc66(0x7),_0x1640f6=_0x1bbc66(0x3),_0x1b6e9f=_0x1bbc66(0x37),_0x3133bf=_0x1bbc66(0x3a)['KEY'],_0x4956f3=_0x1bbc66(0xd),_0x2571b0=_0x1bbc66(0x23),_0x7f0a0d=_0x1bbc66(0x17),_0x44d4dd=_0x1bbc66(0x18),_0x5cf643=_0x1bbc66(0x6),_0x1ccb77=_0x1bbc66(0x29),_0x4b5931=_0x1bbc66(0x2a),_0x2f60c7=_0x1bbc66(0x5c),_0x59059c=_0x1bbc66(0x48),_0x55a8de=_0x1bbc66(0xa),_0x181f03=_0x1bbc66(0x9),_0x5e2988=_0x1bbc66(0x12),_0x484628=_0x1bbc66(0xe),_0x5b5a4c=_0x1bbc66(0x25),_0x43d8=_0x1bbc66(0x15),_0x497ac6=_0x1bbc66(0x1f),_0x1840da=_0x1bbc66(0x5d),_0xcff624=_0x1bbc66(0x40),_0x477133=_0x1bbc66(0x2d),_0x2ca1c9=_0x1bbc66(0x8),_0x32c5a0=_0x1bbc66(0x14),_0x5c57dc=_0xcff624['f'],_0xaf89c1=_0x2ca1c9['f'],_0x21abfa=_0x1840da['f'],_0x258b94=_0x5a02cd['Symbol'],_0xf3802b=_0x5a02cd[_0x1c61('0x26b')],_0x23d235=_0xf3802b&&_0xf3802b[_0x1c61('0x26c')],_0x1240b0=_0x1c61('0xb'),_0x363033=_0x5cf643('_hidden'),_0x3464ec=_0x5cf643(_0x1c61('0x26d')),_0x3fb4d8={}['propertyIsEnumerable'],_0x21437b=_0x2571b0(_0x1c61('0x26e')),_0x503078=_0x2571b0(_0x1c61('0x26f')),_0x4975c5=_0x2571b0(_0x1c61('0x270')),_0x2f6caa=Object[_0x1240b0],_0x2571b0='function'==typeof _0x258b94&&!!_0x477133['f'],_0x256453=_0x5a02cd[_0x1c61('0x271')],_0x154efa=!_0x256453||!_0x256453[_0x1240b0]||!_0x256453[_0x1240b0][_0x1c61('0x272')],_0xdbd245=_0x417fef&&_0x4956f3(function(){return 0x7!=_0x497ac6(_0xaf89c1({},'a',{'get':function(){return _0xaf89c1(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x1bbc66,_0x26a229,_0x1fbe10){var _0x51531d=_0x5c57dc(_0x2f6caa,_0x26a229);_0x51531d&&delete _0x2f6caa[_0x26a229],_0xaf89c1(_0x1bbc66,_0x26a229,_0x1fbe10),_0x51531d&&_0x1bbc66!==_0x2f6caa&&_0xaf89c1(_0x2f6caa,_0x26a229,_0x51531d);}:_0xaf89c1,_0x1bd0c9=_0x2571b0&&_0x1c61('0x84')==typeof _0x258b94[_0x1c61('0x76')]?function(_0x1bbc66){return _0x1c61('0x84')==typeof _0x1bbc66;}:function(_0x1bbc66){return _0x1bbc66 instanceof _0x258b94;};_0x2571b0||(_0x1b6e9f((_0x258b94=function(){if(this instanceof _0x258b94)throw TypeError(_0x1c61('0x273'));var _0x26a229=_0x44d4dd(0x0<arguments[_0x1c61('0xf')]?arguments[0x0]:void 0x0),_0x1fbe10=function(_0x1bbc66){this===_0x2f6caa&&_0x1fbe10['call'](_0x4975c5,_0x1bbc66),_0x3c002c(this,_0x363033)&&_0x3c002c(this[_0x363033],_0x26a229)&&(this[_0x363033][_0x26a229]=!0x1),_0xdbd245(this,_0x26a229,_0x43d8(0x1,_0x1bbc66));};return _0x417fef&&_0x154efa&&_0xdbd245(_0x2f6caa,_0x26a229,{'configurable':!0x0,'set':_0x1fbe10}),_0x51531d(_0x26a229);})[_0x1240b0],_0x1c61('0x1f'),function(){return this['_k'];}),_0xcff624['f']=_0x382da5,_0x2ca1c9['f']=_0x45a996,_0x1bbc66(0x3f)['f']=_0x1840da['f']=_0x4a4dcd,_0x1bbc66(0x1c)['f']=_0x26a229,_0x477133['f']=_0x5d59ed,_0x417fef&&!_0x1bbc66(0x13)&&_0x1b6e9f(_0x2f6caa,_0x1c61('0x82'),_0x26a229,!0x0),_0x1ccb77['f']=function(_0x1bbc66){return _0x51531d(_0x5cf643(_0x1bbc66));}),_0x1640f6(_0x1640f6['G']+_0x1640f6['W']+_0x1640f6['F']*!_0x2571b0,{'Symbol':_0x258b94});for(var _0x469183=_0x1c61('0x274')['split'](','),_0x32cf03=0x0;_0x469183['length']>_0x32cf03;)_0x5cf643(_0x469183[_0x32cf03++]);for(var _0x104f3c=_0x32c5a0(_0x5cf643['store']),_0x1c2b5f=0x0;_0x104f3c[_0x1c61('0xf')]>_0x1c2b5f;)_0x4b5931(_0x104f3c[_0x1c2b5f++]);_0x1640f6(_0x1640f6['S']+_0x1640f6['F']*!_0x2571b0,_0x1c61('0x17'),{'for':function(_0x1bbc66){return _0x3c002c(_0x21437b,_0x1bbc66+='')?_0x21437b[_0x1bbc66]:_0x21437b[_0x1bbc66]=_0x258b94(_0x1bbc66);},'keyFor':function(_0x1bbc66){if(!_0x1bd0c9(_0x1bbc66))throw TypeError(_0x1bbc66+_0x1c61('0x275'));for(var _0x26a229 in _0x21437b)if(_0x21437b[_0x26a229]===_0x1bbc66)return _0x26a229;},'useSetter':function(){_0x154efa=!0x0;},'useSimple':function(){_0x154efa=!0x1;}}),_0x1640f6(_0x1640f6['S']+_0x1640f6['F']*!_0x2571b0,_0x1c61('0xde'),{'create':function(_0x1bbc66,_0x26a229){return void 0x0===_0x26a229?_0x497ac6(_0x1bbc66):_0x1fbe10(_0x497ac6(_0x1bbc66),_0x26a229);},'defineProperty':_0x45a996,'defineProperties':_0x1fbe10,'getOwnPropertyDescriptor':_0x382da5,'getOwnPropertyNames':_0x4a4dcd,'getOwnPropertySymbols':_0x5d59ed});_0x256453=_0x4956f3(function(){_0x477133['f'](0x1);});_0x1640f6(_0x1640f6['S']+_0x1640f6['F']*_0x256453,_0x1c61('0xde'),{'getOwnPropertySymbols':function(_0x1bbc66){return _0x477133['f'](_0x5e2988(_0x1bbc66));}}),_0xf3802b&&_0x1640f6(_0x1640f6['S']+_0x1640f6['F']*(!_0x2571b0||_0x4956f3(function(){var _0x1bbc66=_0x258b94();return _0x1c61('0x276')!=_0x23d235([_0x1bbc66])||'{}'!=_0x23d235({'a':_0x1bbc66})||'{}'!=_0x23d235(Object(_0x1bbc66));})),_0x1c61('0x26b'),{'stringify':function(_0x1bbc66){for(var _0x26a229,_0x1fbe10,_0x51531d=[_0x1bbc66],_0x382da5=0x1;_0x382da5<arguments['length'];)_0x51531d[_0x1c61('0x6f')](arguments[_0x382da5++]);if(_0x1fbe10=_0x26a229=_0x51531d[0x1],(_0x181f03(_0x26a229)||void 0x0!==_0x1bbc66)&&!_0x1bd0c9(_0x1bbc66))return _0x59059c(_0x26a229)||(_0x26a229=function(_0x1bbc66,_0x26a229){if('function'==typeof _0x1fbe10&&(_0x26a229=_0x1fbe10[_0x1c61('0x0')](this,_0x1bbc66,_0x26a229)),!_0x1bd0c9(_0x26a229))return _0x26a229;}),_0x51531d[0x1]=_0x26a229,_0x23d235[_0x1c61('0x1d')](_0xf3802b,_0x51531d);}}),_0x258b94[_0x1240b0][_0x3464ec]||_0x1bbc66(0xb)(_0x258b94[_0x1240b0],_0x3464ec,_0x258b94[_0x1240b0][_0x1c61('0x73')]),_0x7f0a0d(_0x258b94,'Symbol'),_0x7f0a0d(Math,_0x1c61('0x15'),!0x0),_0x7f0a0d(_0x5a02cd[_0x1c61('0x26b')],_0x1c61('0x26b'),!0x0);},function(_0x380447,_0x5cf504,_0x21d4b3){var _0x40e361=_0x21d4b3(0x14),_0x46ed7d=_0x21d4b3(0x2d),_0x4691ba=_0x21d4b3(0x1c);_0x380447[_0x1c61('0x1')]=function(_0x380447){var _0x5cf504=_0x40e361(_0x380447),_0x21d4b3=_0x46ed7d['f'];if(_0x21d4b3)for(var _0xda4c90,_0x21e5d6=_0x21d4b3(_0x380447),_0x21d1b0=_0x4691ba['f'],_0x43131b=0x0;_0x21e5d6[_0x1c61('0xf')]>_0x43131b;)_0x21d1b0[_0x1c61('0x0')](_0x380447,_0xda4c90=_0x21e5d6[_0x43131b++])&&_0x5cf504[_0x1c61('0x6f')](_0xda4c90);return _0x5cf504;};},function(_0x16a09f,_0x31834b,_0x118215){var _0x3dd138=_0x118215(0xe),_0x47fbf0=_0x118215(0x3f)['f'],_0x1a5015={}[_0x1c61('0x1f')],_0x331c36=_0x1c61('0x6')==typeof window&&window&&Object['getOwnPropertyNames']?Object['getOwnPropertyNames'](window):[];_0x16a09f[_0x1c61('0x1')]['f']=function(_0x16a09f){if(!_0x331c36||_0x1c61('0x277')!=_0x1a5015[_0x1c61('0x0')](_0x16a09f))return _0x47fbf0(_0x3dd138(_0x16a09f));try{return _0x47fbf0(_0x16a09f);}catch(_0x431baf){return _0x331c36[_0x1c61('0x20')]();}};},function(_0x3db7d1,_0x257652,_0x23627f){_0x23627f(0x2a)(_0x1c61('0x278'));},function(_0x754eb0,_0x297c67,_0x1aaa38){_0x1aaa38(0x2a)('observable');},function(_0x5f171b,_0x270351,_0x5e547e){_0x5f171b[_0x1c61('0x1')]={'default':_0x5e547e(0x79),'__esModule':!0x0};},function(_0x425276,_0x5e5e5a,_0x2931a6){var _0x3d75ab=_0x2931a6(0x9);_0x425276['exports']=function(_0x425276,_0x5e5e5a){if(_0x3d75ab(_0x425276)&&_0x425276['_t']===_0x5e5e5a)return _0x425276;throw TypeError(_0x1c61('0x279')+_0x5e5e5a+_0x1c61('0x27a'));};},function(_0x4b231f,_0x305583,_0x4387b2){'use strict';Object['defineProperty'](_0x305583,'__esModule',{'value':!0x0}),_0x305583['ESEffectsConstant']=_0x305583[_0x1c61('0x27b')]=_0x305583[_0x1c61('0x27c')]=_0x305583[_0x1c61('0x27d')]=_0x305583[_0x1c61('0x35')]=_0x305583[_0x1c61('0x27e')]=_0x305583[_0x1c61('0x27f')]=void 0x0;_0x4387b2=_0x4387b2(0x45),_0x4387b2=_0x4387b2&&_0x4387b2[_0x1c61('0x5')]?_0x4387b2:{'default':_0x4387b2},_0x4387b2={'CUBE_FLOAT':(0x0,_0x4387b2['default'])(_0x1c61('0x280')),'CYLINDER_FLOAT':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x281')),'CYLINDER_SPREAD':(0x0,_0x4387b2['default'])('cylinder_spread'),'CIRCLE_ROTATE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x282')),'CIRCLE_RIPPLE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x283')),'CIRCLE_BIPS':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x284')),'CIRCLES_RADIAN_ROTATE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x285')),'CIRCLE_BREATH':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x286')),'SPHERE_SPREAD':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x287')),'TRANSFER_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x288')),'POINTS_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])('points_line'),'POINTS':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x289')),'UNDERGROUND_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x28a')),'NUMBER_UP_BEAM':(0x0,_0x4387b2[_0x1c61('0x8')])('number_up_beam'),'EXTENT_WALL':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x28b')),'FIRE_SMOKE':(0x0,_0x4387b2['default'])('fire_smoke'),'SMOKE':(0x0,_0x4387b2['default'])(_0x1c61('0x28c')),'FIRE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x28d')),'WATER_SPREAD':(0x0,_0x4387b2['default'])(_0x1c61('0x28e')),'FLOAT_POINTS':(0x0,_0x4387b2['default'])(_0x1c61('0x28f')),'ROUTES_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x290')),'UP_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x291')),'PLANE_VIDEO':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x292')),'GUIDE_LINE':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x293')),'PLANE_WIND':(0x0,_0x4387b2[_0x1c61('0x8')])(_0x1c61('0x294')),'PLANE_FOG':(0x0,_0x4387b2[_0x1c61('0x8')])('plane_fog'),'SIGNAL_WIFI':(0x0,_0x4387b2[_0x1c61('0x8')])('signal_wifi')};_0x305583[_0x1c61('0x27f')]=_0x4387b2,_0x305583['ESMarkerLevel']={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'FIRE':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'SIGNAL_WIFI':0x1},_0x305583[_0x1c61('0x35')]={'Engine':{'Indoor':_0x1c61('0x295'),'Park':_0x1c61('0x296'),'City':_0x1c61('0x297')},'BuildingTheme':{'Dark':_0x1c61('0x298'),'Light':'light','Technology':'technology','None':_0x1c61('0x64')},'RoadTheme':{'Style1':_0x1c61('0x299'),'Style2':_0x1c61('0x29a')}},_0x305583[_0x1c61('0x27d')]={'BuildingTheme':{'Dark':_0x1c61('0x298'),'Light':_0x1c61('0x29b'),'Technology':_0x1c61('0x29c'),'None':_0x1c61('0x64')},'TileTheme':{'Night':'night','Day':'day'},'RoadTheme':{'Style1':_0x1c61('0x299'),'Style2':_0x1c61('0x29a')}},_0x305583[_0x1c61('0x27c')]={'BuildingTheme':{'Dark':'dark','Light':_0x1c61('0x29b'),'Technology':_0x1c61('0x29c'),'None':_0x1c61('0x64')},'RoadTheme':{'Style1':_0x1c61('0x299'),'Style2':'style2'}},_0x305583[_0x1c61('0x27b')]={'NoFace':'noface','LineFrame':_0x1c61('0x29d'),'BlendingAdditive':'transparentHL'},_0x305583['ESEffectsConstant']={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb};},function(_0x1d7ed5,_0x1da8a6,_0x3659f1){'use strict';var _0x2625c4=_0x3659f1(0x5),_0x1c1b54=_0x3659f1(0x2),_0x2d9a70=_0x3659f1(0x8),_0x50f89b=_0x3659f1(0x7),_0x25024c=_0x3659f1(0x6)(_0x1c61('0x29e'));_0x1d7ed5[_0x1c61('0x1')]=function(_0x1d7ed5){_0x1d7ed5=(_0x1c61('0x13')==typeof _0x1c1b54[_0x1d7ed5]?_0x1c1b54:_0x2625c4)[_0x1d7ed5];_0x50f89b&&_0x1d7ed5&&!_0x1d7ed5[_0x25024c]&&_0x2d9a70['f'](_0x1d7ed5,_0x25024c,{'configurable':!0x0,'get':function(){return this;}});};},function(_0xaefb96,_0x4b4c59,_0x338627){_0x338627(0x65),_0xaefb96[_0x1c61('0x1')]=_0x338627(0x2)[_0x1c61('0xde')]['keys'];},function(_0x5b29cf,_0x1ecbb4,_0x37cc7c){var _0x248ce1=_0x37cc7c(0x12),_0x5c4242=_0x37cc7c(0x14);_0x37cc7c(0x47)('keys',function(){return function(_0x5b29cf){return _0x5c4242(_0x248ce1(_0x5b29cf));};});},function(_0x6756fd,_0x3e02e2,_0x4e3e48){_0x6756fd[_0x1c61('0x1')]={'default':_0x4e3e48(0x67),'__esModule':!0x0};},function(_0x139857,_0x2c72c9,_0x3e765a){_0x3e765a(0x68),_0x139857['exports']=_0x3e765a(0x2)[_0x1c61('0xde')][_0x1c61('0x29f')];},function(_0x4b462e,_0xadcaf1,_0x4919e5){var _0x9be2d8=_0x4919e5(0x3);_0x9be2d8(_0x9be2d8['S']+_0x9be2d8['F'],_0x1c61('0xde'),{'assign':_0x4919e5(0x69)});},function(_0x483075,_0x376202,_0x2065df){'use strict';var _0x460962=_0x2065df(0x7),_0x3cd849=_0x2065df(0x14),_0x3a3b47=_0x2065df(0x2d),_0x3995c2=_0x2065df(0x1c),_0x355055=_0x2065df(0x12),_0x24cd20=_0x2065df(0x2f),_0x2f77fd=Object[_0x1c61('0x29f')];_0x483075['exports']=!_0x2f77fd||_0x2065df(0xd)(function(){var _0x483075={},_0x376202={},_0x2065df=Symbol(),_0x29b09e=_0x1c61('0x2a0');return _0x483075[_0x2065df]=0x7,_0x29b09e[_0x1c61('0x5f')]('')[_0x1c61('0x2a1')](function(_0x483075){_0x376202[_0x483075]=_0x483075;}),0x7!=_0x2f77fd({},_0x483075)[_0x2065df]||Object[_0x1c61('0x1e')](_0x2f77fd({},_0x376202))[_0x1c61('0x112')]('')!=_0x29b09e;})?function(_0x483075,_0x376202){for(var _0x2065df=_0x355055(_0x483075),_0x35964b=arguments[_0x1c61('0xf')],_0x2f77fd=0x1,_0x57c69f=_0x3a3b47['f'],_0x4ce20b=_0x3995c2['f'];_0x2f77fd<_0x35964b;)for(var _0x28258a,_0xa93589=_0x24cd20(arguments[_0x2f77fd++]),_0x1883a1=_0x57c69f?_0x3cd849(_0xa93589)[_0x1c61('0x22')](_0x57c69f(_0xa93589)):_0x3cd849(_0xa93589),_0x1aa2f5=_0x1883a1['length'],_0x1977c1=0x0;_0x1977c1<_0x1aa2f5;)_0x28258a=_0x1883a1[_0x1977c1++],_0x460962&&!_0x4ce20b[_0x1c61('0x0')](_0xa93589,_0x28258a)||(_0x2065df[_0x28258a]=_0xa93589[_0x28258a]);return _0x2065df;}:_0x2f77fd;},function(_0x3b800a,_0x2a00f8,_0x29f156){var _0x3e647d=_0x29f156(0xa);_0x3b800a[_0x1c61('0x1')]=function(_0x2a00f8,_0x3b800a,_0x29f156,_0x5bbefd){try{return _0x5bbefd?_0x3b800a(_0x3e647d(_0x29f156)[0x0],_0x29f156[0x1]):_0x3b800a(_0x29f156);}catch(_0x213fb0){_0x5bbefd=_0x2a00f8[_0x1c61('0x99')];throw void 0x0!==_0x5bbefd&&_0x3e647d(_0x5bbefd[_0x1c61('0x0')](_0x2a00f8)),_0x213fb0;}};},function(_0x3f3c5f,_0xea275c,_0x329177){var _0x54ed1b=_0x329177(0x11),_0x5abbeb=_0x329177(0x6)('iterator'),_0x58ece5=Array['prototype'];_0x3f3c5f[_0x1c61('0x1')]=function(_0x3f3c5f){return void 0x0!==_0x3f3c5f&&(_0x54ed1b[_0x1c61('0x60')]===_0x3f3c5f||_0x58ece5[_0x5abbeb]===_0x3f3c5f);};},function(_0x6da058,_0x1f7952,_0xe287b1){_0xe287b1(0x6d);var _0x55a1f7=_0xe287b1(0x2)['Object'];_0x6da058[_0x1c61('0x1')]=function(_0x6da058,_0x1f7952){return _0x55a1f7[_0x1c61('0x7')](_0x6da058,_0x1f7952);};},function(_0x17b2e8,_0x5bca88,_0x1a6774){var _0x4c0152=_0x1a6774(0x3);_0x4c0152(_0x4c0152['S'],_0x1c61('0xde'),{'create':_0x1a6774(0x1f)});},function(_0x21b7c5,_0x2c2a1a,_0x512794){var _0x575cba=_0x512794(0xa),_0x3d226e=_0x512794(0x20),_0x3fc881=_0x512794(0x6)(_0x1c61('0x29e'));_0x21b7c5[_0x1c61('0x1')]=function(_0x21b7c5,_0x2c2a1a){var _0x21b7c5=_0x575cba(_0x21b7c5)[_0x1c61('0x85')];return void 0x0===_0x21b7c5||null==(_0x21b7c5=_0x575cba(_0x21b7c5)[_0x3fc881])?_0x2c2a1a:_0x3d226e(_0x21b7c5);};},function(_0x1bf39a,_0x22985d,_0x3fdec7){function _0x4a1428(){var _0x1bf39a,_0x22985d=+this;_0x132d4f[_0x1c61('0xc')](_0x22985d)&&(_0x1bf39a=_0x132d4f[_0x22985d],delete _0x132d4f[_0x22985d],_0x1bf39a());}function _0x24f795(_0x1bf39a){_0x4a1428[_0x1c61('0x0')](_0x1bf39a[_0x1c61('0x2a2')]);}var _0x5ee19c,_0x380f22=_0x3fdec7(0x10),_0x471d5f=_0x3fdec7(0x8a),_0x45edac=_0x3fdec7(0x43),_0x3cacdc=_0x3fdec7(0x27),_0x519a29=_0x3fdec7(0x5),_0x774600=_0x519a29['process'],_0x33ab46=_0x519a29[_0x1c61('0x2a3')],_0x1ed4a5=_0x519a29[_0x1c61('0x2a4')],_0x5b7f6d=_0x519a29['MessageChannel'],_0x571bd3=_0x519a29[_0x1c61('0x2a5')],_0x1ad16a=0x0,_0x132d4f={},_0x660154='onreadystatechange';_0x33ab46&&_0x1ed4a5||(_0x33ab46=function(_0x1bf39a){for(var _0x22985d=[],_0x3fdec7=0x1;_0x3fdec7<arguments['length'];)_0x22985d[_0x1c61('0x6f')](arguments[_0x3fdec7++]);return _0x132d4f[++_0x1ad16a]=function(){_0x471d5f(_0x1c61('0x13')==typeof _0x1bf39a?_0x1bf39a:Function(_0x1bf39a),_0x22985d);},_0x5ee19c(_0x1ad16a),_0x1ad16a;},_0x1ed4a5=function(_0x1bf39a){delete _0x132d4f[_0x1bf39a];},'process'==_0x3fdec7(0x16)(_0x774600)?_0x5ee19c=function(_0x1bf39a){_0x774600[_0x1c61('0x2a6')](_0x380f22(_0x4a1428,_0x1bf39a,0x1));}:_0x571bd3&&_0x571bd3['now']?_0x5ee19c=function(_0x1bf39a){_0x571bd3[_0x1c61('0x2a7')](_0x380f22(_0x4a1428,_0x1bf39a,0x1));}:_0x5b7f6d?(_0x5b7f6d=(_0x3fdec7=new _0x5b7f6d())[_0x1c61('0x2a8')],_0x3fdec7['port1']['onmessage']=_0x24f795,_0x5ee19c=_0x380f22(_0x5b7f6d[_0x1c61('0x2a9')],_0x5b7f6d,0x1)):_0x519a29[_0x1c61('0x2aa')]&&_0x1c61('0x13')==typeof postMessage&&!_0x519a29[_0x1c61('0x2ab')]?(_0x5ee19c=function(_0x1bf39a){_0x519a29['postMessage'](_0x1bf39a+'','*');},_0x519a29[_0x1c61('0x2aa')](_0x1c61('0x2ac'),_0x24f795,!0x1)):_0x5ee19c=_0x660154 in _0x3cacdc('script')?function(_0x1bf39a){_0x45edac[_0x1c61('0x65')](_0x3cacdc(_0x1c61('0x2ad')))[_0x660154]=function(){_0x45edac[_0x1c61('0x2ae')](this),_0x4a1428['call'](_0x1bf39a);};}:function(_0x1bf39a){setTimeout(_0x380f22(_0x4a1428,_0x1bf39a,0x1),0x0);}),_0x1bf39a['exports']={'set':_0x33ab46,'clear':_0x1ed4a5};},function(_0x2b557a,_0x4625af){_0x2b557a[_0x1c61('0x1')]=function(_0x2b557a){try{return{'e':!0x1,'v':_0x2b557a()};}catch(_0x4e45e5){return{'e':!0x0,'v':_0x4e45e5};}};},function(_0x5aa1b0,_0x581bce,_0x43dd0e){var _0x2de7ec=_0x43dd0e(0xa),_0x2b89ad=_0x43dd0e(0x9),_0x418dd0=_0x43dd0e(0x55);_0x5aa1b0[_0x1c61('0x1')]=function(_0x5aa1b0,_0x581bce){if(_0x2de7ec(_0x5aa1b0),_0x2b89ad(_0x581bce)&&_0x581bce[_0x1c61('0x85')]===_0x5aa1b0)return _0x581bce;_0x5aa1b0=_0x418dd0['f'](_0x5aa1b0);return(0x0,_0x5aa1b0['resolve'])(_0x581bce),_0x5aa1b0[_0x1c61('0x2af')];};},function(_0x44f156,_0x3cdb1e,_0x5d46ee){'use strict';Object[_0x1c61('0x2')](_0x3cdb1e,_0x1c61('0x5'),{'value':!0x0}),_0x3cdb1e['setStandardMaterialParams']=_0x3cdb1e[_0x1c61('0x2b0')]=_0x3cdb1e[_0x1c61('0x2b1')]=void 0x0;var _0x5d46ee=_0x5d46ee(0x2e),_0x56cc39=_0x5d46ee&&_0x5d46ee['__esModule']?_0x5d46ee:{'default':_0x5d46ee};_0x3cdb1e[_0x1c61('0x2b1')]=function(_0x44f156){return new _0x56cc39[(_0x1c61('0x8'))](function(_0x3cdb1e,_0x5d46ee){new THREE[(_0x1c61('0x2b2'))]()[_0x1c61('0x96')](_0x44f156,function(_0x44f156){_0x3cdb1e(JSON[_0x1c61('0x2b3')](_0x44f156));},null,function(_0x44f156){_0x5d46ee(_0x44f156);});});},_0x3cdb1e['requestEffectThemeConfig']=function(_0x44f156){return new _0x56cc39[(_0x1c61('0x8'))](function(_0x3cdb1e,_0x5d46ee){new THREE[(_0x1c61('0x2b2'))]()['load'](_0x44f156+_0x1c61('0x2b4'),function(_0x44f156){_0x3cdb1e(JSON[_0x1c61('0x2b3')](_0x44f156));},null,function(_0x44f156){console[_0x1c61('0xec')]('esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!'),_0x5d46ee(_0x44f156);});});},_0x3cdb1e[_0x1c61('0x2b5')]=function(_0x44f156,_0x3cdb1e){void 0x0!==_0x3cdb1e[_0x1c61('0x2b6')]&&(_0x44f156[_0x1c61('0x2b6')]=_0x3cdb1e[_0x1c61('0x2b6')]),void 0x0!==_0x3cdb1e[_0x1c61('0x2b7')]&&(_0x44f156[_0x1c61('0x2b7')]=_0x3cdb1e[_0x1c61('0x2b7')]),void 0x0!==_0x3cdb1e['mirrorReflection']&&(_0x44f156[_0x1c61('0x2b8')]=_0x3cdb1e[_0x1c61('0x2b9')]),_0x3cdb1e['hightLightReflection'];};},function(_0x56dab8,_0x515671,_0x30065f){var _0x5b2ba5=_0x30065f(0x6)('iterator'),_0x3b3630=!0x1;try{var _0x4f710a=[0x7][_0x5b2ba5]();_0x4f710a[_0x1c61('0x99')]=function(){_0x3b3630=!0x0;},Array[_0x1c61('0x2ba')](_0x4f710a,function(){throw 0x2;});}catch(_0x1bcaa2){}_0x56dab8[_0x1c61('0x1')]=function(_0x56dab8,_0x515671){if(!_0x515671&&!_0x3b3630)return!0x1;var _0x30065f=!0x1;try{var _0x4f710a=[0x7],_0x45eb40=_0x4f710a[_0x5b2ba5]();_0x45eb40[_0x1c61('0x77')]=function(){return{'done':_0x30065f=!0x0};},_0x4f710a[_0x5b2ba5]=function(){return _0x45eb40;},_0x56dab8(_0x4f710a);}catch(_0x59b4f4){}return _0x30065f;};},function(_0x302d14,_0xad6255,_0x2daa0e){'use strict';Object[_0x1c61('0x2')](_0xad6255,_0x1c61('0x5'),{'value':!0x0});var _0x2d486f=_0x3e0e88(_0x2daa0e(0xa6)),_0x44df4f=_0x3e0e88(_0x2daa0e(0x0)),_0x45ebe5=_0x3e0e88(_0x2daa0e(0x1)),_0xac3c92=_0x3e0e88(_0x2daa0e(0xf));function _0x3e0e88(_0x302d14){return _0x302d14&&_0x302d14['__esModule']?_0x302d14:{'default':_0x302d14};}function _0x509f61(_0x302d14,_0xad6255){(0x0,_0x44df4f[_0x1c61('0x8')])(this,_0x509f61),this[_0x1c61('0x2bb')]=_0x302d14,this[_0x1c61('0x2bc')]=_0xad6255,this[_0x1c61('0x2bd')]=!0x1;}(0x0,_0x45ebe5[_0x1c61('0x8')])(_0x509f61,[{'key':_0x1c61('0x2be'),'value':function(_0x302d14){var _0xad6255=_0x302d14[_0x1c61('0x238')],_0x2daa0e=_0x302d14[_0x1c61('0x218')],_0x2d486f=_0x302d14[_0x1c61('0x2bf')],_0x2d486f=void 0x0===_0x2d486f?0x3:_0x2d486f,_0x44df4f=_0x302d14['zoomSpeed'],_0x44df4f=void 0x0===_0x44df4f?0x5:_0x44df4f,_0x45ebe5=_0x302d14[_0x1c61('0x2c0')],_0x3e0e88=_0x302d14[_0x1c61('0x2c1')],_0x509f61=_0x302d14['complete'];if(esmap[_0x1c61('0x2c2')]){var _0x302d14=new THREE['Vector3'](_0x2daa0e['x'],this[_0x1c61('0x2bc')][_0x1c61('0x91')]['y'],_0x2daa0e['z'])[_0x1c61('0x2c3')](this[_0x1c61('0x2bc')]['target']),_0xac3c92=this[_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x2c4')]-_0x45ebe5,_0x302d14=Math['floor'](_0x302d14/_0x2d486f),_0x22ebf6=Math['floor'](Math[_0x1c61('0x1bb')](_0xac3c92)/_0x44df4f),_0x47b58f=(_0x22ebf6<0x3e8&&(_0x22ebf6=0x3e8),_0x302d14<0x3e8&&(_0x302d14=0x1),0x0);switch(_0xad6255){case esmap['ESDirection'][_0x1c61('0x2c5')]:_0x47b58f=179.99;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2c6')]:_0x47b58f=0.01;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2c7')]:_0x47b58f=-0x5a;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2c8')]:_0x47b58f=0x5a;break;case esmap[_0x1c61('0x2c2')]['NORTH_EAST']:_0x47b58f=0x87;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2c9')]:_0x47b58f=-0x87;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2ca')]:_0x47b58f=0x2d;break;case esmap[_0x1c61('0x2c2')][_0x1c61('0x2cb')]:_0x47b58f=-0x2d;}var _0x17fe84=this;this[_0x1c61('0x2bc')]['moveToAnimate']({'x':-_0x2daa0e['x'],'y':_0x2daa0e['z'],'callback':function(){_0x17fe84['controls'][_0x1c61('0x2cc')]({'thetaAngle':_0x47b58f,'phiAngle':_0x3e0e88},_0x45ebe5,_0x22ebf6,_0x509f61);},'time':_0x302d14});}else console[_0x1c61('0x200')]('can\x20not\x20find\x20esmap.ESDirection\x20data');}},{'key':_0x1c61('0x2cd'),'value':function(_0x302d14,_0xad6255){var _0x2daa0e=0x1+0x32/(0x0,_0x2d486f['default'])(_0x302d14['x'],_0x302d14['y'],_0x302d14['z']);this[_0x1c61('0x2ce')]({'x':_0x302d14['x']*_0x2daa0e,'y':_0x302d14['y']*_0x2daa0e,'z':_0x302d14['z']*_0x2daa0e},_0x302d14,_0xad6255||0xbb8);}},{'key':'flyFocusTo','value':function(_0x302d14){var _0xad6255,_0x2daa0e=_0x302d14['targetPos'],_0x2d486f=_0x302d14['radius'],_0x44df4f=_0x302d14[_0x1c61('0x2c1')],_0x44df4f=void 0x0===_0x44df4f?0x2d:_0x44df4f,_0x45ebe5=_0x302d14['directionAngle'],_0x45ebe5=void 0x0===_0x45ebe5?0x0:_0x45ebe5,_0x3e0e88=_0x302d14[_0x1c61('0x2cf')],_0x3e0e88=void 0x0===_0x3e0e88?0x3:_0x3e0e88,_0x509f61=_0x302d14[_0x1c61('0x2d0')],_0x302d14=_0x302d14[_0x1c61('0x2d1')];if(!this[_0x1c61('0x2bd')])return this[_0x1c61('0x2d2')](!0x0),_0x44df4f=0x0<=0x5a-_0x44df4f&&0x5a-_0x44df4f<0x5a?0x5a-_0x44df4f:0x2d,_0xad6255=_0x2d486f*Math[_0x1c61('0x58')](THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x44df4f)),_0x2d486f=_0x2d486f*Math[_0x1c61('0x59')](THREE[_0x1c61('0x15')]['degToRad'](_0x44df4f)),_0x44df4f=new THREE[(_0x1c61('0x1cf'))](0x0,0x0),_0x2d486f=new THREE[(_0x1c61('0x1cf'))](_0x2d486f,0x0)['rotateAround'](_0x44df4f,THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x45ebe5-0x5a)),_0x44df4f=new THREE['Vector3'](_0x2daa0e['x']+_0x2d486f['x'],_0x2daa0e['y']+_0xad6255,_0x2daa0e['z']+_0x2d486f['y']),this[_0x1c61('0x2ce')]({'x':_0x44df4f['x'],'y':_0x44df4f['y'],'z':_0x44df4f['z']},_0x2daa0e,0x3e8*_0x3e0e88,_0x509f61,_0x302d14),_0x44df4f;}},{'key':_0x1c61('0x2ce'),'value':function(_0x302d14,_0xad6255,_0x2daa0e,_0x2d486f,_0x45ebe5){var _0x44df4f,_0x3e0e88=this['controls'][_0x1c61('0x6')],_0x509f61=this;_0x302d14&&(_0x302d14=_0x302d14,_0xad6255=_0xad6255||{'x':0x0,'y':0x0,'z':0x0},_0x3e0e88=(0x0,_0xac3c92[_0x1c61('0x8')])({},_0x3e0e88[_0x1c61('0x218')]),_0x44df4f=_0x509f61[_0x1c61('0x2bc')][_0x1c61('0x91')][_0x1c61('0x1b1')](),new TWEEN[(_0x1c61('0x2d4'))](_0x3e0e88)['to'](_0x302d14,_0x2daa0e)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')]['Out'])[_0x1c61('0x2d8')](function(){_0x45ebe5&&_0x45ebe5[_0x1c61('0x2d9')]&&_0x45ebe5[_0x1c61('0x2d9')]();})[_0x1c61('0x2da')](function(_0x302d14){var _0xad6255=_0x509f61['controls'],_0x2daa0e=_0xad6255[_0x1c61('0x6')],_0x2d486f=_0x302d14['x'],_0x44df4f=_0x302d14['y'],_0x302d14=_0x302d14['z'];void 0x0!==_0x2d486f&&(_0x2daa0e[_0x1c61('0x218')]['x']=_0x2d486f),void 0x0!==_0x44df4f&&(_0x2daa0e[_0x1c61('0x218')]['y']=_0x44df4f),void 0x0!==_0x302d14&&(_0x2daa0e[_0x1c61('0x218')]['z']=_0x302d14),_0xad6255[_0x1c61('0x2db')](),_0x45ebe5&&_0x45ebe5[_0x1c61('0x2db')]&&_0x45ebe5[_0x1c61('0x2db')]();})['onComplete'](function(){_0x509f61[_0x1c61('0x2d2')](!0x1),_0x2d486f&&_0x2d486f(),_0x509f61[_0x1c61('0x2bc')][_0x1c61('0x2dc')]&&_0x509f61['controls'][_0x1c61('0x2dc')](),_0x45ebe5&&(_0x509f61['controls']['updateLookAtPos'](_0x44df4f),_0x45ebe5[_0x1c61('0x2dd')]&&_0x45ebe5['complete']());})[_0x1c61('0x2d9')](),new TWEEN[(_0x1c61('0x2d4'))](_0x44df4f)['to'](_0xad6255,_0x2daa0e/0x3)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')][_0x1c61('0x2de')])['onUpdate'](function(_0x302d14){var _0xad6255;(_0xad6255=_0x509f61[_0x1c61('0x2bc')])[_0x1c61('0x91')][_0x1c61('0x1b')](_0x302d14['x'],_0x302d14['y'],_0x302d14['z']),_0xad6255[_0x1c61('0x2db')]();})[_0x1c61('0x2d9')]());}},{'key':_0x1c61('0x2d2'),'value':function(_0x302d14){this[_0x1c61('0x2bd')]=_0x302d14,this[_0x1c61('0x2bc')][_0x1c61('0x2df')]=!_0x302d14,this['controls']['enableRotate']=!_0x302d14,this['controls'][_0x1c61('0x2e0')]=!_0x302d14;}}]),_0xad6255[_0x1c61('0x8')]=_0x509f61;},function(_0x38d44c,_0x26d0a9,_0x1903ee){_0x38d44c[_0x1c61('0x1')]={'default':_0x1903ee(0x76),'__esModule':!0x0};},function(_0x2df27d,_0x17a495,_0xa78472){_0xa78472(0x77),_0x2df27d[_0x1c61('0x1')]=_0xa78472(0x2)[_0x1c61('0xde')][_0x1c61('0x2e1')];},function(_0x54fab7,_0x2058df,_0x53936c){var _0x1a76aa=_0x53936c(0x3);_0x1a76aa(_0x1a76aa['S'],_0x1c61('0xde'),{'setPrototypeOf':_0x53936c(0x78)['set']});},function(_0x2600ce,_0x219d45,_0x5d55ab){function _0x5546a4(_0x2600ce,_0x219d45){if(_0x1ad108(_0x2600ce),!_0x48d6bd(_0x219d45)&&null!==_0x219d45)throw TypeError(_0x219d45+':\x20can\x27t\x20set\x20as\x20prototype!');}var _0x48d6bd=_0x5d55ab(0x9),_0x1ad108=_0x5d55ab(0xa);_0x2600ce[_0x1c61('0x1')]={'set':Object[_0x1c61('0x2e1')]||(_0x1c61('0x87')in{}?function(_0x2600ce,_0x48d6bd,_0x1ad108){try{(_0x1ad108=_0x5d55ab(0x10)(Function['call'],_0x5d55ab(0x40)['f'](Object[_0x1c61('0xb')],'__proto__')[_0x1c61('0x1b')],0x2))(_0x2600ce,[]),_0x48d6bd=!(_0x2600ce instanceof Array);}catch(_0x35b781){_0x48d6bd=!0x0;}return function(_0x2600ce,_0x219d45){return _0x5546a4(_0x2600ce,_0x219d45),_0x48d6bd?_0x2600ce['__proto__']=_0x219d45:_0x1ad108(_0x2600ce,_0x219d45),_0x2600ce;};}({},!0x1):void 0x0),'check':_0x5546a4};},function(_0x49cd78,_0xb7213a,_0x223ad5){var _0x223ad5=_0x223ad5(0x2),_0x56ad97=_0x223ad5[_0x1c61('0x26b')]||(_0x223ad5[_0x1c61('0x26b')]={'stringify':JSON['stringify']});_0x49cd78[_0x1c61('0x1')]=function(_0x49cd78){return _0x56ad97[_0x1c61('0x26c')]['apply'](_0x56ad97,arguments);};},function(_0x3ea762,_0x55eb42,_0x2d50ba){'use strict';function _0x5d8709(_0x3ea762,_0x55eb42){var _0x2d50ba,_0x58991d=_0x37c290(_0x55eb42);if('F'!==_0x58991d)return _0x3ea762['_i'][_0x58991d];for(_0x2d50ba=_0x3ea762['_f'];_0x2d50ba;_0x2d50ba=_0x2d50ba['n'])if(_0x2d50ba['k']==_0x55eb42)return _0x2d50ba;}var _0x4e522e=_0x2d50ba(0x8)['f'],_0x5a5dec=_0x2d50ba(0x1f),_0xe4ec0f=_0x2d50ba(0x4a),_0x3dd19f=_0x2d50ba(0x10),_0x47eb02=_0x2d50ba(0x49),_0x3f622d=_0x2d50ba(0x34),_0x449446=_0x2d50ba(0x28),_0x22336f=_0x2d50ba(0x42),_0x355e77=_0x2d50ba(0x63),_0x471484=_0x2d50ba(0x7),_0x37c290=_0x2d50ba(0x3a)['fastKey'],_0x3977ee=_0x2d50ba(0x61),_0x8b681f=_0x471484?'_s':_0x1c61('0xee');_0x3ea762[_0x1c61('0x1')]={'getConstructor':function(_0x3ea762,_0x22336f,_0x2d50ba,_0x449446){var _0x355e77=_0x3ea762(function(_0x3ea762,_0x55eb42){_0x47eb02(_0x3ea762,_0x355e77,_0x22336f,'_i'),_0x3ea762['_t']=_0x22336f,_0x3ea762['_i']=_0x5a5dec(null),_0x3ea762['_f']=void 0x0,_0x3ea762['_l']=void 0x0,_0x3ea762[_0x8b681f]=0x0,null!=_0x55eb42&&_0x3f622d(_0x55eb42,_0x2d50ba,_0x3ea762[_0x449446],_0x3ea762);});return _0xe4ec0f(_0x355e77[_0x1c61('0xb')],{'clear':function(){for(var _0x3ea762=_0x3977ee(this,_0x22336f),_0x55eb42=_0x3ea762['_i'],_0x2d50ba=_0x3ea762['_f'];_0x2d50ba;_0x2d50ba=_0x2d50ba['n'])_0x2d50ba['r']=!0x0,_0x2d50ba['p']&&(_0x2d50ba['p']=_0x2d50ba['p']['n']=void 0x0),delete _0x55eb42[_0x2d50ba['i']];_0x3ea762['_f']=_0x3ea762['_l']=void 0x0,_0x3ea762[_0x8b681f]=0x0;},'delete':function(_0x3ea762){var _0x55eb42,_0x2d50ba,_0x449446=_0x3977ee(this,_0x22336f),_0x3ea762=_0x5d8709(_0x449446,_0x3ea762);return _0x3ea762&&(_0x55eb42=_0x3ea762['n'],_0x2d50ba=_0x3ea762['p'],delete _0x449446['_i'][_0x3ea762['i']],_0x3ea762['r']=!0x0,_0x2d50ba&&(_0x2d50ba['n']=_0x55eb42),_0x55eb42&&(_0x55eb42['p']=_0x2d50ba),_0x449446['_f']==_0x3ea762&&(_0x449446['_f']=_0x55eb42),_0x449446['_l']==_0x3ea762&&(_0x449446['_l']=_0x2d50ba),_0x449446[_0x8b681f]--),!!_0x3ea762;},'forEach':function(_0x3ea762){_0x3977ee(this,_0x22336f);for(var _0x55eb42,_0x2d50ba=_0x3dd19f(_0x3ea762,0x1<arguments['length']?arguments[0x1]:void 0x0,0x3);_0x55eb42=_0x55eb42?_0x55eb42['n']:this['_f'];)for(_0x2d50ba(_0x55eb42['v'],_0x55eb42['k'],this);_0x55eb42&&_0x55eb42['r'];)_0x55eb42=_0x55eb42['p'];},'has':function(_0x3ea762){return!!_0x5d8709(_0x3977ee(this,_0x22336f),_0x3ea762);}}),_0x471484&&_0x4e522e(_0x355e77[_0x1c61('0xb')],_0x1c61('0xee'),{'get':function(){return _0x3977ee(this,_0x22336f)[_0x8b681f];}}),_0x355e77;},'def':function(_0x3ea762,_0x55eb42,_0x2d50ba){var _0x449446,_0x22336f=_0x5d8709(_0x3ea762,_0x55eb42);return _0x22336f?_0x22336f['v']=_0x2d50ba:(_0x3ea762['_l']=_0x22336f={'i':_0x449446=_0x37c290(_0x55eb42,!0x0),'k':_0x55eb42,'v':_0x2d50ba,'p':_0x55eb42=_0x3ea762['_l'],'n':void 0x0,'r':!0x1},_0x3ea762['_f']||(_0x3ea762['_f']=_0x22336f),_0x55eb42&&(_0x55eb42['n']=_0x22336f),_0x3ea762[_0x8b681f]++,'F'!==_0x449446&&(_0x3ea762['_i'][_0x449446]=_0x22336f)),_0x3ea762;},'getEntry':_0x5d8709,'setStrong':function(_0x3ea762,_0x2d50ba,_0x55eb42){_0x449446(_0x3ea762,_0x2d50ba,function(_0x3ea762,_0x55eb42){this['_t']=_0x3977ee(_0x3ea762,_0x2d50ba),this['_k']=_0x55eb42,this['_l']=void 0x0;},function(){for(var _0x3ea762=this,_0x55eb42=_0x3ea762['_k'],_0x2d50ba=_0x3ea762['_l'];_0x2d50ba&&_0x2d50ba['r'];)_0x2d50ba=_0x2d50ba['p'];return _0x3ea762['_t']&&(_0x3ea762['_l']=_0x2d50ba=_0x2d50ba?_0x2d50ba['n']:_0x3ea762['_t']['_f'])?_0x22336f(0x0,_0x1c61('0x1e')==_0x55eb42?_0x2d50ba['k']:'values'==_0x55eb42?_0x2d50ba['v']:[_0x2d50ba['k'],_0x2d50ba['v']]):(_0x3ea762['_t']=void 0x0,_0x22336f(0x1));},_0x55eb42?_0x1c61('0x7a'):'values',!_0x55eb42,!0x0),_0x355e77(_0x2d50ba);}};},function(_0x2bee5a,_0xc45a1f,_0x5c3213){'use strict';var _0x34817e=_0x5c3213(0x5),_0x32ff88=_0x5c3213(0x3),_0x1de0b8=_0x5c3213(0x3a),_0x25b527=_0x5c3213(0xd),_0x2ace0a=_0x5c3213(0xb),_0x3b1c15=_0x5c3213(0x4a),_0x2ced4d=_0x5c3213(0x34),_0x19df46=_0x5c3213(0x49),_0x371721=_0x5c3213(0x9),_0x96f6e7=_0x5c3213(0x17),_0x7ea8ab=_0x5c3213(0x8)['f'],_0x266e16=_0x5c3213(0x91)(0x0),_0x432cd3=_0x5c3213(0x7);_0x2bee5a[_0x1c61('0x1')]=function(_0x5c3213,_0x2bee5a,_0xc45a1f,_0x3551ae,_0x2fc2fd,_0x30c1bd){var _0x574994=_0x34817e[_0x5c3213],_0x4bb708=_0x574994,_0x28073f=_0x2fc2fd?_0x1c61('0x1b'):_0x1c61('0x1c4'),_0x2865fa=_0x4bb708&&_0x4bb708[_0x1c61('0xb')],_0xa497f3={};return _0x432cd3&&'function'==typeof _0x4bb708&&(_0x30c1bd||_0x2865fa['forEach']&&!_0x25b527(function(){new _0x4bb708()[_0x1c61('0x7a')]()[_0x1c61('0x77')]();}))?(_0x4bb708=_0x2bee5a(function(_0x2bee5a,_0xc45a1f){_0x19df46(_0x2bee5a,_0x4bb708,_0x5c3213,'_c'),_0x2bee5a['_c']=new _0x574994(),null!=_0xc45a1f&&_0x2ced4d(_0xc45a1f,_0x2fc2fd,_0x2bee5a[_0x28073f],_0x2bee5a);}),_0x266e16('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'[_0x1c61('0x5f')](','),function(_0x5c3213){var _0x3551ae='add'==_0x5c3213||'set'==_0x5c3213;_0x5c3213 in _0x2865fa&&(!_0x30c1bd||_0x1c61('0x2e2')!=_0x5c3213)&&_0x2ace0a(_0x4bb708[_0x1c61('0xb')],_0x5c3213,function(_0x2bee5a,_0xc45a1f){if(_0x19df46(this,_0x4bb708,_0x5c3213),!_0x3551ae&&_0x30c1bd&&!_0x371721(_0x2bee5a))return'get'==_0x5c3213&&void 0x0;_0x2bee5a=this['_c'][_0x5c3213](0x0===_0x2bee5a?0x0:_0x2bee5a,_0xc45a1f);return _0x3551ae?this:_0x2bee5a;});}),_0x30c1bd||_0x7ea8ab(_0x4bb708[_0x1c61('0xb')],_0x1c61('0xee'),{'get':function(){return this['_c'][_0x1c61('0xee')];}})):(_0x4bb708=_0x3551ae[_0x1c61('0x2e3')](_0x2bee5a,_0x5c3213,_0x2fc2fd,_0x28073f),_0x3b1c15(_0x4bb708[_0x1c61('0xb')],_0xc45a1f),_0x1de0b8[_0x1c61('0x8d')]=!0x0),_0x96f6e7(_0x4bb708,_0x5c3213),_0xa497f3[_0x5c3213]=_0x4bb708,_0x32ff88(_0x32ff88['G']+_0x32ff88['W']+_0x32ff88['F'],_0xa497f3),_0x30c1bd||_0x3551ae[_0x1c61('0x2e4')](_0x4bb708,_0x5c3213,_0x2fc2fd),_0x4bb708;};},function(_0x114054,_0x3f2730,_0x196192){var _0x5130a0=_0x196192(0x2c),_0x3bac5f=_0x196192(0x95);_0x114054[_0x1c61('0x1')]=function(_0x114054){return function(){if(_0x5130a0(this)!=_0x114054)throw TypeError(_0x114054+'#toJSON\x20isn\x27t\x20generic');return _0x3bac5f(this);};};},function(_0x463907,_0x3c7323,_0x3cc18c){'use strict';var _0x5b169d=_0x3cc18c(0x3);_0x463907[_0x1c61('0x1')]=function(_0x463907){_0x5b169d(_0x5b169d['S'],_0x463907,{'of':function(){for(var _0x463907=arguments['length'],_0x3c7323=new Array(_0x463907);_0x463907--;)_0x3c7323[_0x463907]=arguments[_0x463907];return new this(_0x3c7323);}});};},function(_0x1dc5d2,_0x32c167,_0x189ba2){'use strict';var _0xc28021=_0x189ba2(0x3),_0x482df4=_0x189ba2(0x20),_0x37f54d=_0x189ba2(0x10),_0x45ead3=_0x189ba2(0x34);_0x1dc5d2[_0x1c61('0x1')]=function(_0x1dc5d2){_0xc28021(_0xc28021['S'],_0x1dc5d2,{'from':function(_0x1dc5d2){var _0x32c167,_0x189ba2,_0xc28021,_0x3fd7c7,_0x5b39e7=arguments[0x1];return _0x482df4(this),(_0x32c167=void 0x0!==_0x5b39e7)&&_0x482df4(_0x5b39e7),null==_0x1dc5d2?new this():(_0x189ba2=[],_0x32c167?(_0xc28021=0x0,_0x3fd7c7=_0x37f54d(_0x5b39e7,arguments[0x2],0x2),_0x45ead3(_0x1dc5d2,!0x1,function(_0x1dc5d2){_0x189ba2[_0x1c61('0x6f')](_0x3fd7c7(_0x1dc5d2,_0xc28021++));})):_0x45ead3(_0x1dc5d2,!0x1,_0x189ba2[_0x1c61('0x6f')],_0x189ba2),new this(_0x189ba2));}});};},function(_0x3deeae,_0x329244,_0x2fc125){_0x2fc125(0x80);var _0x5b5efe=_0x2fc125(0x2)[_0x1c61('0xde')];_0x3deeae[_0x1c61('0x1')]=function(_0x3deeae,_0x329244){return _0x5b5efe[_0x1c61('0x2e5')](_0x3deeae,_0x329244);};},function(_0x2cd52e,_0x123566,_0x5a616a){var _0x5603db=_0x5a616a(0x3);_0x5603db(_0x5603db['S']+_0x5603db['F']*!_0x5a616a(0x7),'Object',{'defineProperties':_0x5a616a(0x3d)});},function(_0x51dd54,_0x19de85,_0x2c07ce){'use strict';Object[_0x1c61('0x2')](_0x19de85,_0x1c61('0x5'),{'value':!0x0});var _0x12f2ff=_0x598edd(_0x2c07ce(0x0));function _0x598edd(_0x51dd54){return _0x51dd54&&_0x51dd54[_0x1c61('0x5')]?_0x51dd54:{'default':_0x51dd54};}function _0x4d0cba(_0x51dd54){var _0x19de85=_0x51dd54['timer'],_0x2c07ce=_0x51dd54[_0x1c61('0x2e6')],_0x2c07ce=void 0x0===_0x2c07ce?0x100:_0x2c07ce,_0x598edd=_0x51dd54['imageHeight'],_0x598edd=void 0x0===_0x598edd?0x100:_0x598edd,_0x3da42e=_0x51dd54[_0x1c61('0x2e7')],_0x3da42e=void 0x0===_0x3da42e?0x1:_0x3da42e,_0x267c2b=_0x51dd54['yCount'],_0x267c2b=void 0x0===_0x267c2b?0x1:_0x267c2b,_0x51dd54=_0x51dd54['fps'],_0x51dd54=void 0x0===_0x51dd54?0xc:_0x51dd54;(0x0,_0x12f2ff[_0x1c61('0x8')])(this,_0x4d0cba),this[_0x1c61('0x2e8')]=_0x19de85,this['imageWidth']=_0x2c07ce,this[_0x1c61('0x2e9')]=_0x598edd,this[_0x1c61('0x2ea')]=_0x2c07ce/_0x3da42e,this[_0x1c61('0x2eb')]=_0x598edd/_0x267c2b,this[_0x1c61('0x2e7')]=_0x3da42e,this[_0x1c61('0x2ec')]=_0x267c2b,this[_0x1c61('0x2ed')]=_0x51dd54,this[_0x1c61('0x2ee')]=0x0,this[_0x1c61('0x2ef')]=0x0,this[_0x1c61('0x1c9')]=null;}(0x0,_0x598edd(_0x2c07ce(0x1))['default'])(_0x4d0cba,[{'key':_0x1c61('0x7'),'value':function(_0x51dd54,_0x19de85){this[_0x1c61('0x1c9')]=_0x51dd54,_0x19de85&&(this[_0x1c61('0x1c9')]['repeat']['x']=0x1/this[_0x1c61('0x2e7')],this[_0x1c61('0x1c9')][_0x1c61('0x2f0')]['y']=0x1/this[_0x1c61('0x2ec')]),this[_0x1c61('0x1c9')]['needsUpdate']=!0x0;}},{'key':_0x1c61('0x2db'),'value':function(){var _0x51dd54,_0x19de85;this['timer']&&this[_0x1c61('0x1c9')]&&(_0x19de85=this['timer'][_0x1c61('0x2f1')](),_0x51dd54=Math['floor'](_0x19de85*this[_0x1c61('0x2ed')]%this[_0x1c61('0x2e7')]),_0x19de85=Math[_0x1c61('0x6c')](_0x19de85*this['fps']%this[_0x1c61('0x2ec')]),0x1===this['xCount']?(this['texture'][_0x1c61('0x2f2')]['x']=0x0,this['texture'][_0x1c61('0x2f2')]['y']=(this[_0x1c61('0x2e9')]-this[_0x1c61('0x2eb')]-_0x19de85*this[_0x1c61('0x2eb')])/this[_0x1c61('0x2e9')]):_0x51dd54!=this['xIndex']&&(this['xIndex']=_0x51dd54,0x0==this['xIndex']&&(this[_0x1c61('0x2ef')]++,this[_0x1c61('0x2ef')]==this[_0x1c61('0x2ec')]&&(this[_0x1c61('0x2ef')]=0x0)),this[_0x1c61('0x1c9')][_0x1c61('0x2f2')]['x']=this[_0x1c61('0x2ee')]*this['xSize']/this[_0x1c61('0x2e6')],this[_0x1c61('0x1c9')][_0x1c61('0x2f2')]['y']=(this[_0x1c61('0x2e9')]-this[_0x1c61('0x2eb')]-this[_0x1c61('0x2ef')]*this[_0x1c61('0x2eb')])/this[_0x1c61('0x2e9')]));}}]),_0x19de85[_0x1c61('0x8')]=_0x4d0cba;},function(_0x35ea70,_0x5d1adb,_0x14b7d7){'use strict';Object['defineProperty'](_0x5d1adb,_0x1c61('0x5'),{'value':!0x0}),_0x5d1adb[_0x1c61('0x2f3')]=_0x5d1adb[_0x1c61('0x2f4')]=void 0x0;var _0x542bcb=_0x7a86a7(_0x14b7d7(0x4)),_0xf2c20f=_0x7a86a7(_0x14b7d7(0xf));function _0x7a86a7(_0x35ea70){return _0x35ea70&&_0x35ea70[_0x1c61('0x5')]?_0x35ea70:{'default':_0x35ea70};}function _0x25efab(_0x35ea70){for(var _0x5d1adb=0x0,_0x14b7d7=_0x35ea70[_0x1c61('0xf')];_0x5d1adb<_0x14b7d7;_0x5d1adb++)_0x35ea70[_0x5d1adb][_0x1c61('0x2f5')]=_0x5d1adb;}function _0x14c1b4(_0x35ea70,_0x5d1adb){for(var _0x14b7d7=[],_0x7a86a7=0x0,_0x448de5=0x0,_0x37e7a3=_0x35ea70['length'];_0x448de5<_0x37e7a3-0x1;_0x448de5++)_0x7a86a7+=_0x35ea70[_0x448de5][_0x1c61('0x2c3')](_0x35ea70[_0x448de5+0x1]);for(var _0x32f20e=0x1,_0x2dd5a2=Math['floor'](_0x7a86a7/_0x5d1adb);_0x32f20e<=_0x2dd5a2;_0x32f20e++){var _0x5638c1=function(_0x35ea70,_0x5d1adb){if(_0x35ea70){if(0x0==_0x5d1adb)return _0x35ea70[0x0];for(var _0x14b7d7,_0x7a86a7,_0x448de5=0x0,_0x37e7a3=0x0,_0x32f20e=_0x35ea70[0x0],_0x2dd5a2=0x1;_0x2dd5a2<_0x35ea70[_0x1c61('0xf')];_0x2dd5a2++){if(_0x5d1adb<=(_0x448de5+=(_0x7a86a7=(_0x14b7d7=_0x35ea70[_0x2dd5a2])[_0x1c61('0x1b1')]()[_0x1c61('0x2f6')](_0x32f20e))[_0x1c61('0xf')]()))return _0x7a86a7[_0x1c61('0x1c1')](),(_0x7a86a7=_0x32f20e[_0x1c61('0x1b1')]()['add'](_0x7a86a7[_0x1c61('0x1b1')]()[_0x1c61('0x1c3')](_0x5d1adb-_0x37e7a3)))[_0x1c61('0x43')]=_0x14b7d7[_0x1c61('0x2f5')],_0x7a86a7;(_0x32f20e=_0x14b7d7[_0x1c61('0x1b1')]())[_0x1c61('0x43')]=_0x14b7d7['_index'],_0x37e7a3=_0x448de5;}var _0x5638c1=(0x0,_0xf2c20f[_0x1c61('0x8')])(new Vector3(),_0x35ea70[_0x35ea70['length']-0x1]);return _0x5638c1['index']=_0x5638c1[_0x1c61('0x2f5')],_0x5638c1;}}(_0x35ea70,_0x32f20e*_0x5d1adb);_0x14b7d7[_0x1c61('0x6f')](_0x5638c1);}return _0x14b7d7;}_0x5d1adb[_0x1c61('0x2f4')]=function(_0x35ea70,_0x5d1adb){var _0x14b7d7=[],_0x7a86a7=!0x0,_0x535426=!0x1,_0x49c0bc=void 0x0;try{for(var _0x39ea31,_0x8cf22c=(0x0,_0x542bcb['default'])(_0x35ea70);!(_0x7a86a7=(_0x39ea31=_0x8cf22c[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x7a86a7=!0x0){var _0x4449be=_0x39ea31['value'];_0x14b7d7['push'](new THREE[(_0x1c61('0x1b8'))](-_0x4449be['x'],_0x4449be[_0x1c61('0x2f7')],_0x4449be['y']));}}catch(_0x547851){_0x535426=!0x0,_0x49c0bc=_0x547851;}finally{try{!_0x7a86a7&&_0x8cf22c[_0x1c61('0x99')]&&_0x8cf22c[_0x1c61('0x99')]();}finally{if(_0x535426)throw _0x49c0bc;}}return _0x25efab(_0x14b7d7),_0x14c1b4(_0x14b7d7,_0x5d1adb);},_0x5d1adb['getSegementPoints']=function(_0x35ea70,_0x5d1adb){var _0x14b7d7=[],_0x7a86a7=!0x0,_0xe3d87c=!0x1,_0x1f8957=void 0x0;try{for(var _0xe41e09,_0x509c12=(0x0,_0x542bcb[_0x1c61('0x8')])(_0x35ea70);!(_0x7a86a7=(_0xe41e09=_0x509c12[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x7a86a7=!0x0){var _0x8d9097=_0xe41e09['value'];_0x14b7d7[_0x1c61('0x6f')](new THREE['Vector3'](-_0x8d9097['x'],_0x8d9097['height'],_0x8d9097['y']));}}catch(_0x1d421d){_0xe3d87c=!0x0,_0x1f8957=_0x1d421d;}finally{try{!_0x7a86a7&&_0x509c12[_0x1c61('0x99')]&&_0x509c12[_0x1c61('0x99')]();}finally{if(_0xe3d87c)throw _0x1f8957;}}_0x25efab(_0x14b7d7);var _0x35ea70=_0x14c1b4(_0x14b7d7,_0x5d1adb),_0xf2c20f=!0x0,_0xe3d87c=!0x1,_0x1f8957=void 0x0;try{for(var _0x5ef844,_0x32c01d=(0x0,_0x542bcb['default'])(_0x35ea70);!(_0xf2c20f=(_0x5ef844=_0x32c01d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0xf2c20f=!0x0){var _0x4f33a2=_0x5ef844[_0x1c61('0x1c')],_0x573466=(_0x4f33a2['x']=-_0x4f33a2['x'],_0x4f33a2['y']);_0x4f33a2['y']=_0x4f33a2['z'],_0x4f33a2['z']=_0x573466;}}catch(_0x4d9749){_0xe3d87c=!0x0,_0x1f8957=_0x4d9749;}finally{try{!_0xf2c20f&&_0x32c01d['return']&&_0x32c01d[_0x1c61('0x99')]();}finally{if(_0xe3d87c)throw _0x1f8957;}}return _0x35ea70;};},function(_0x18ce78,_0x386316,_0x2b630d){_0x18ce78[_0x1c61('0x1')]={'default':_0x2b630d(0x8f),'__esModule':!0x0};},function(_0x21c358,_0x50b913,_0x3de58d){'use strict';Object[_0x1c61('0x2')](_0x50b913,_0x1c61('0x5'),{'value':!0x0});var _0x49e4a8=_0x3f059a(_0x3de58d(0x4)),_0x21bf6c=_0x3f059a(_0x3de58d(0x0)),_0x2aaeb9=_0x3f059a(_0x3de58d(0x1)),_0x5e09bb=_0x3f059a(_0x3de58d(0x46));function _0x3f059a(_0x21c358){return _0x21c358&&_0x21c358['__esModule']?_0x21c358:{'default':_0x21c358};}var _0x2e3aa7=_0x3de58d(0x99),_0x3de58d=((0x0,_0x2aaeb9[_0x1c61('0x8')])(_0x2b3c54,[{'key':_0x1c61('0x2f8'),'value':function(_0x21c358){var _0x50b913=_0x21c358[_0x1c61('0x1c9')],_0x3de58d=_0x21c358[_0x1c61('0x2f9')],_0x21c358=_0x21c358[_0x1c61('0x2f0')];this['lineMaterial']=new _0x2e3aa7['MeshLineMaterial']({'map':_0x50b913,'useMap':this['params'][_0x1c61('0xd9')],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x3de58d),'opacity':this[_0x1c61('0x208')],'dashArray':this[_0x1c61('0x210')][_0x1c61('0x2fb')],'dashOffset':this[_0x1c61('0x210')][_0x1c61('0x2fc')],'dashRatio':this[_0x1c61('0x210')][_0x1c61('0x2fd')],'resolution':this[_0x1c61('0x2fe')],'sizeAttenuation':this[_0x1c61('0x210')][_0x1c61('0x2ff')],'lineWidth':this[_0x1c61('0x210')]['lineWidth'],'near':this['camera'][_0x1c61('0x300')],'far':this[_0x1c61('0x301')]['far'],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE[_0x1c61('0x302')],'repeat':new THREE[(_0x1c61('0x1cf'))](_0x21c358['x'],_0x21c358['y']),'offset':new THREE[(_0x1c61('0x1cf'))](0x0,0x0),'useChange':!0x1}),this['lineMaterial']['fog']=!0x0;}},{'key':_0x1c61('0x303'),'value':function(){var _0x21c358=new THREE[(_0x1c61('0x304'))]();return _0x21c358[_0x1c61('0x305')]['push'](new THREE[(_0x1c61('0x1b8'))](-0x64,0x0,-0x64)),_0x21c358[_0x1c61('0x305')]['push'](new THREE[(_0x1c61('0x1b8'))](0x64,0x0,-0x64)),_0x21c358[_0x1c61('0x305')][_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](0x64,0x0,0x64)),_0x21c358[_0x1c61('0x305')][_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](-0x64,0x0,0x64)),_0x21c358[_0x1c61('0x305')][_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](-0x64,0x0,-0x64)),_0x21c358;}},{'key':_0x1c61('0x306'),'value':function(_0x21c358){for(var _0x50b913=new THREE[(_0x1c61('0x304'))](),_0x3de58d=0x0,_0x2aaeb9=_0x21c358[_0x1c61('0xf')];_0x3de58d<_0x2aaeb9;_0x3de58d++)_0x50b913[_0x1c61('0x305')]['push'](_0x21c358[_0x3de58d]);return _0x50b913;}},{'key':'makeMeshLineGeometry','value':function(_0x21c358){var _0x50b913=this[_0x1c61('0x306')](_0x21c358),_0x3de58d=new _0x2e3aa7[(_0x1c61('0x307'))]();switch(this['params'][_0x1c61('0x308')]){case _0x1c61('0x64'):_0x3de58d[_0x1c61('0x309')](_0x50b913);break;case'linear':_0x3de58d[_0x1c61('0x309')](_0x50b913,function(_0x21c358){return 0x1-_0x21c358;});break;case'parabolic':_0x3de58d['setGeometry'](_0x50b913,function(_0x21c358){return+Math['pow'](0x4*_0x21c358*(0x1-_0x21c358),0x1);});break;case _0x1c61('0x30a'):_0x3de58d[_0x1c61('0x309')](_0x50b913,function(_0x21c358){return 0x2+Math[_0x1c61('0x58')](0x32*_0x21c358);});}return _0x3de58d[_0x1c61('0xda')];}},{'key':_0x1c61('0x30b'),'value':function(_0x21c358,_0x50b913){var _0x3de58d=_0x21c358[0x0],_0x2aaeb9=[],_0x5e09bb=!0x0,_0x3f059a=!0x1,_0x30be18=void 0x0;try{for(var _0x1bcb0c,_0x26097e=(0x0,_0x49e4a8['default'])(_0x21c358);!(_0x5e09bb=(_0x1bcb0c=_0x26097e[_0x1c61('0x77')]())['done']);_0x5e09bb=!0x0){var _0x140bd4=_0x1bcb0c[_0x1c61('0x1c')],_0x1366b4=_0x140bd4['x']-_0x3de58d['x'],_0x21bf6c=_0x140bd4['z']-_0x3de58d['z'];_0x2aaeb9['push'](new THREE[(_0x1c61('0x1b8'))](_0x1366b4,_0x140bd4['y'],_0x21bf6c));}}catch(_0x175a0b){_0x3f059a=!0x0,_0x30be18=_0x175a0b;}finally{try{!_0x5e09bb&&_0x26097e[_0x1c61('0x99')]&&_0x26097e[_0x1c61('0x99')]();}finally{if(_0x3f059a)throw _0x30be18;}}var _0x296e6a=this[_0x1c61('0x306')](_0x2aaeb9),_0x505842=new _0x2e3aa7['MeshLine']();switch(this[_0x1c61('0x30c')][_0x1c61('0x6f')](_0x505842),this['params'][_0x1c61('0x308')]){case _0x1c61('0x64'):_0x505842[_0x1c61('0x309')](_0x296e6a);break;case _0x1c61('0x30d'):_0x505842['setGeometry'](_0x296e6a,function(_0x21c358){return 0x1-_0x21c358;});break;case _0x1c61('0x30e'):_0x505842[_0x1c61('0x309')](_0x296e6a,function(_0x21c358){return+Math['pow'](0x4*_0x21c358*(0x1-_0x21c358),0x1);});break;case _0x1c61('0x30a'):_0x505842[_0x1c61('0x309')](_0x296e6a,function(_0x21c358){return 0x2+Math[_0x1c61('0x58')](0x32*_0x21c358);});}_0x21c358=new THREE[(_0x1c61('0x30f'))](_0x505842[_0x1c61('0xda')],this[_0x1c61('0x310')]);return _0x21c358[_0x1c61('0x311')]=this['renderOrder'],this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x21c358),_0x50b913&&(_0x3f059a=new THREE['Vector3'](0x0,0x0,0x1),_0x30be18=this[_0x1c61('0x313')](_0x3f059a,_0x2aaeb9[_0x2aaeb9[_0x1c61('0xf')]-0x2],_0x2aaeb9[_0x2aaeb9[_0x1c61('0xf')]-0x1]),_0x21c358[_0x1c61('0x314')]=_0x30be18),_0x21c358;}},{'key':_0x1c61('0x315'),'value':function(_0x21c358,_0x50b913,_0x3de58d){var _0x2aaeb9=[],_0x5e09bb=!0x0,_0x3f059a=!0x1,_0x340f9d=void 0x0;try{for(var _0x46e3e6,_0x598f4a=(0x0,_0x49e4a8[_0x1c61('0x8')])(_0x21c358);!(_0x5e09bb=(_0x46e3e6=_0x598f4a[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5e09bb=!0x0){var _0x6fd4e6=_0x46e3e6[_0x1c61('0x1c')],_0x9e7665=new THREE[(_0x1c61('0x1b8'))](-(_0x50b913['x']+_0x6fd4e6['x']),_0x6fd4e6[_0x1c61('0x2f2')]||0x0,_0x6fd4e6['y']-_0x50b913['z']);_0x2aaeb9[_0x1c61('0x6f')](_0x9e7665);}}catch(_0x388d38){_0x3f059a=!0x0,_0x340f9d=_0x388d38;}finally{try{!_0x5e09bb&&_0x598f4a['return']&&_0x598f4a[_0x1c61('0x99')]();}finally{if(_0x3f059a)throw _0x340f9d;}}var _0x21bf6c=this[_0x1c61('0x306')](_0x2aaeb9),_0x1630a1=new _0x2e3aa7[(_0x1c61('0x307'))]();switch(_0x3de58d||this['params'][_0x1c61('0x308')]){case _0x1c61('0x64'):_0x1630a1[_0x1c61('0x309')](_0x21bf6c);break;case _0x1c61('0x30d'):_0x1630a1['setGeometry'](_0x21bf6c,function(_0x21c358){return 0x1-_0x21c358;});break;case _0x1c61('0x30e'):_0x1630a1[_0x1c61('0x309')](_0x21bf6c,function(_0x21c358){return+Math['pow'](0x4*_0x21c358*(0x1-_0x21c358),0x1);});break;case _0x1c61('0x30a'):_0x1630a1[_0x1c61('0x309')](_0x21bf6c,function(_0x21c358){return 0x2+Math[_0x1c61('0x58')](0x32*_0x21c358);});}return _0x1630a1['geometry'];}},{'key':_0x1c61('0x313'),'value':function(_0x21c358,_0x50b913,_0x3de58d){return this[_0x1c61('0x316')][_0x1c61('0x317')](_0x3de58d,_0x50b913),this['tempStartPoint'][_0x1c61('0x1c2')](_0x50b913)[_0x1c61('0x1c1')](),this['tempEndPoint'][_0x1c61('0x1c2')](_0x3de58d)[_0x1c61('0x1c1')](),0x0<this['tempStartPoint']['cross'](this[_0x1c61('0x318')])['y']?-_0x21c358[_0x1c61('0x319')](this[_0x1c61('0x316')]):_0x21c358[_0x1c61('0x319')](this['tempDir']);}},{'key':_0x1c61('0x31a'),'value':function(_0x21c358){for(var _0x50b913=0x0,_0x3de58d=(_0x21c358[_0x1c61('0x31b')]['forEach'](function(_0x21c358){_0x50b913+=_0x21c358[_0x1c61('0xda')]['attributes'][_0x1c61('0x218')][_0x1c61('0x104')];}),new THREE['BufferGeometry']()),_0x2aaeb9=(_0x3de58d[_0x1c61('0x31c')]('position',new THREE['BufferAttribute'](new Float32Array(0x3*_0x50b913),0x3)),0x0),_0x5e09bb=(_0x21c358[_0x1c61('0x31b')][_0x1c61('0x2a1')](function(_0x21c358){_0x3de58d[_0x1c61('0x31d')](_0x21c358[_0x1c61('0xda')],_0x2aaeb9),_0x2aaeb9+=_0x21c358[_0x1c61('0xda')]['attributes'][_0x1c61('0x218')]['count'];}),_0x3de58d['center'](_0x3de58d),new THREE[(_0x1c61('0x31e'))]()),_0x3f059a=(_0x5e09bb[_0x1c61('0x31f')](0x3e8,0x3e8,0x3e8),_0x3de58d[_0x1c61('0x320')](_0x5e09bb),new THREE[(_0x1c61('0x30f'))](_0x3de58d,new THREE[(_0x1c61('0x321'))]())),_0x58d33e=(_0x21c358[_0x1c61('0x1c4')](_0x3f059a),new THREE['Raycaster']()),_0x1d36f7=[],_0xa8079f=-0xc8,_0x4fbafc=0x0,_0x325705=new THREE['Vector3'](),_0x21bf6c=new THREE[(_0x1c61('0x1b8'))](),_0xca5678=0x0;_0xca5678<0x1770;_0xca5678++){_0x4fbafc+=0.1,_0xa8079f+=0.075,_0x325705[_0x1c61('0x1b')](0x3e8*Math[_0x1c61('0x59')](_0x4fbafc),_0xa8079f,0x3e8*Math[_0x1c61('0x58')](_0x4fbafc)),_0x21bf6c[_0x1c61('0x1b')](-_0x325705['x'],0x0,-_0x325705['z']),_0x21bf6c=_0x21bf6c[_0x1c61('0x1c1')](),_0x58d33e[_0x1c61('0x1b')](_0x325705,_0x21bf6c);var _0x3346b2=_0x58d33e[_0x1c61('0x322')](_0x3f059a,!0x0);_0x3346b2[_0x1c61('0xf')]&&_0x1d36f7['push'](_0x3346b2[0x0][_0x1c61('0x323')]['x'],_0x3346b2[0x0]['point']['y'],_0x3346b2[0x0][_0x1c61('0x323')]['z']);}_0x21c358[_0x1c61('0xdc')](_0x3f059a);_0x5e09bb=new _0x2e3aa7[(_0x1c61('0x307'))](),_0x5e09bb['setGeometry'](_0x1d36f7,function(_0x21c358){return _0x21c358;}),_0x5e09bb=new THREE[(_0x1c61('0x30f'))](_0x5e09bb[_0x1c61('0xda')],this[_0x1c61('0x310')]);_0x21c358[_0x1c61('0x1c4')](_0x5e09bb);}},{'key':_0x1c61('0x324'),'value':function(_0x21c358){_0x5e09bb['default'][_0x1c61('0x325')](_0x21c358);}},{'key':_0x1c61('0x326'),'value':function(_0x21c358){var _0x50b913=this;_0x21c358['on'](_0x1c61('0x327'),function(_0x21c358){_0x50b913[_0x1c61('0x310')][_0x1c61('0x2fe')][_0x1c61('0x1b')](_0x21c358[_0x1c61('0x328')],_0x21c358['height']);});}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x310')]&&this[_0x1c61('0x310')][_0x1c61('0xd8')](),this[_0x1c61('0x310')]=null,this[_0x1c61('0x1c9')]&&this['texture'][_0x1c61('0xd8')](),this['texture']=null,this[_0x1c61('0x30c')][_0x1c61('0xf')]=0x0,_0x5e09bb['default'][_0x1c61('0x329')](this[_0x1c61('0x312')]);}},{'key':'fadeOut','value':function(_0x21c358){var _0x50b913;this[_0x1c61('0x310')]&&(_0x21c358=_0x21c358||1.5,this[_0x1c61('0x310')][_0x1c61('0x32a')]=!0x0,this['lineMaterial'][_0x1c61('0x32b')]=0x0,_0x50b913=this,new TWEEN[(_0x1c61('0x2d4'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x21c358)['onUpdate'](function(_0x21c358){_0x50b913[_0x1c61('0x310')][_0x1c61('0x32b')]=_0x21c358['x'];})['easing'](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')]['In'])[_0x1c61('0x2d9')]());}},{'key':'render','value':function(_0x21c358){this[_0x1c61('0x310')]&&(this[_0x1c61('0x310')][_0x1c61('0x16a')][_0x1c61('0x2f2')][_0x1c61('0x1c')]['x']-=_0x21c358*this['speed']);}},{'key':_0x1c61('0x32c'),'set':function(_0x21c358){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x21c358;},'get':function(){return this['object3d'][_0x1c61('0x32c')];}}]),_0x2b3c54);function _0x2b3c54(_0x21c358){var _0x50b913=_0x21c358[_0x1c61('0x301')],_0x3de58d=_0x21c358['texture'],_0x2aaeb9=_0x21c358[_0x1c61('0x2f9')],_0x2aaeb9=void 0x0===_0x2aaeb9?_0x1c61('0x32d'):_0x2aaeb9,_0x5e09bb=_0x21c358['opacity'],_0x3f059a=_0x21c358[_0x1c61('0x32e')],_0x3f059a=void 0x0===_0x3f059a?0x7:_0x3f059a,_0x5d7283=_0x21c358['lineType'],_0x5d7283=void 0x0===_0x5d7283?_0x1c61('0x64'):_0x5d7283,_0x52b64c=_0x21c358[_0x1c61('0x2f0')],_0x52b64c=void 0x0===_0x52b64c?{'x':0x1,'y':0x1}:_0x52b64c,_0x4c08e1=_0x21c358['resolution'],_0xae9b0c=_0x21c358[_0x1c61('0x32f')],_0xae9b0c=void 0x0===_0xae9b0c?0x1:_0xae9b0c,_0x5c1104=_0x21c358[_0x1c61('0x330')],_0x5c1104=void 0x0!==_0x5c1104&&_0x5c1104,_0x21c358=_0x21c358[_0x1c61('0x311')],_0x21c358=void 0x0===_0x21c358?0xb:_0x21c358;(0x0,_0x21bf6c['default'])(this,_0x2b3c54),this[_0x1c61('0x301')]=_0x50b913,this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x311')]=_0x21c358,this[_0x1c61('0x210')]={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0x3f059a,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x5d7283,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x5c1104},this['resolution']=_0x4c08e1||new THREE[(_0x1c61('0x1cf'))](window['innerWidth'],window['innerHeight']),this[_0x1c61('0x32f')]=_0xae9b0c,this[_0x1c61('0x1c9')]=_0x3de58d,this[_0x1c61('0x1c9')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x1c9')]['wrapS']=THREE['RepeatWrapping'],this['opacity']=_0x5e09bb,this[_0x1c61('0x310')]=null,this['createMaterial']({'texture':_0x3de58d,'colorStr':_0x2aaeb9,'repeat':_0x52b64c}),this[_0x1c61('0x334')]=new THREE[(_0x1c61('0x1b8'))](),this[_0x1c61('0x318')]=new THREE[(_0x1c61('0x1b8'))](),this['tempDir']=new THREE[(_0x1c61('0x1b8'))](),this['meshLines']=[];}_0x50b913['default']=_0x3de58d;},function(_0x21fd8b,_0x30615c,_0x1b3b2a){'use strict';Object[_0x1c61('0x2')](_0x30615c,_0x1c61('0x5'),{'value':!0x0});var _0x2d173f=_0x12e0d2(_0x1b3b2a(0x0));function _0x12e0d2(_0x21fd8b){return _0x21fd8b&&_0x21fd8b[_0x1c61('0x5')]?_0x21fd8b:{'default':_0x21fd8b};}function _0x468c84(_0x21fd8b,_0x30615c,_0x1b3b2a,_0x12e0d2,_0x19bedd){(0x0,_0x2d173f[_0x1c61('0x8')])(this,_0x468c84),this[_0x1c61('0x335')]=_0x21fd8b,this[_0x1c61('0x336')]=_0x12e0d2||_0x1c61('0x337'),this[_0x1c61('0x2bb')]=_0x30615c,this[_0x1c61('0x338')]=_0x1b3b2a,this['_handleGetPos']=this['handleGetPos'][_0x1c61('0xa')](this),this[_0x1c61('0x2d0')]=_0x19bedd;}(0x0,_0x12e0d2(_0x1b3b2a(0x1))[_0x1c61('0x8')])(_0x468c84,[{'key':'init','value':function(){this['container'][_0x1c61('0x2aa')](this[_0x1c61('0x336')],this[_0x1c61('0x339')],!0x1);}},{'key':'dispose','value':function(){this['container'][_0x1c61('0x33a')](this[_0x1c61('0x336')],this[_0x1c61('0x339')],!0x1);}},{'key':_0x1c61('0x33b'),'value':function(_0x21fd8b){var _0x21fd8b=_0x21fd8b||window[_0x1c61('0x33c')],_0x30615c=_0x21fd8b['target']||_0x21fd8b['srcElement'];return _0x21fd8b['offsetX']||(_0x30615c=_0x30615c[_0x1c61('0x33d')](),_0x21fd8b[_0x1c61('0x33e')]-_0x30615c[_0x1c61('0x33f')]);}},{'key':_0x1c61('0x340'),'value':function(_0x21fd8b){var _0x21fd8b=_0x21fd8b||window[_0x1c61('0x33c')],_0x30615c=_0x21fd8b['target']||_0x21fd8b['srcElement'];return _0x21fd8b['offsetY']||(_0x30615c=_0x30615c[_0x1c61('0x33d')](),_0x21fd8b['clientY']-_0x30615c[_0x1c61('0x33f')]);}},{'key':'handleGetPos','value':function(_0x21fd8b){var _0x30615c=this[_0x1c61('0x33b')](_0x21fd8b),_0x21fd8b=this[_0x1c61('0x340')](_0x21fd8b);this[_0x1c61('0x2bb')][_0x1c61('0x341')]({'x':_0x30615c,'y':_0x21fd8b},this[_0x1c61('0x338')])[_0x1c61('0xf')];}}],[{'key':_0x1c61('0x342'),'value':function(_0x21fd8b){return ESTileMap[_0x1c61('0x343')][_0x1c61('0x344')]({'mapType':_0x1c61('0x345'),'longitude':_0x21fd8b[0x0],'latitude':_0x21fd8b[0x1]});}},{'key':_0x1c61('0x346'),'value':function(_0x21fd8b){return ESTileMap[_0x1c61('0x343')]['getLoLaFromWorldPos']({'mapType':_0x1c61('0x345'),'x':_0x21fd8b['x'],'z':_0x21fd8b['y']});}}]),_0x30615c[_0x1c61('0x8')]=_0x468c84;},function(_0x84b762,_0x1f8eb3,_0x3942f9){_0x3942f9(0x87),_0x84b762['exports']=_0x3942f9(0x2)[_0x1c61('0xde')][_0x1c61('0xd7')];},function(_0x54127a,_0x1fa163,_0x3866ad){var _0x20b942=_0x3866ad(0x12),_0x1527de=_0x3866ad(0x44);_0x3866ad(0x47)('getPrototypeOf',function(){return function(_0x54127a){return _0x1527de(_0x20b942(_0x54127a));};});},function(_0x38a690,_0xb244ce,_0x70bb38){_0x70bb38(0x35),_0x70bb38(0x19),_0x70bb38(0x1b),_0x70bb38(0x89),_0x70bb38(0x8d),_0x70bb38(0x8e),_0x38a690[_0x1c61('0x1')]=_0x70bb38(0x2)[_0x1c61('0x347')];},function(_0x34b227,_0x25e096,_0x126b11){'use strict';function _0x3c5c32(){}function _0x411c54(_0x196b31){return 0x1!==_0x196b31['_h']&&0x0===(_0x196b31['_a']||_0x196b31['_c'])[_0x1c61('0xf')];}var _0x56bed4,_0x26208b,_0x489244,_0x1691ef,_0x6783c8=_0x126b11(0x13),_0x4c9194=_0x126b11(0x5),_0x4ac2d8=_0x126b11(0x10),_0xc35fa9=_0x126b11(0x2c),_0x5c7784=_0x126b11(0x3),_0xb827ea=_0x126b11(0x9),_0x59e0d2=_0x126b11(0x20),_0x4a88a0=_0x126b11(0x49),_0x4624cb=_0x126b11(0x34),_0x218e1e=_0x126b11(0x6e),_0xbcb90b=_0x126b11(0x6f)[_0x1c61('0x1b')],_0x4b1444=_0x126b11(0x8b)(),_0x36f168=_0x126b11(0x55),_0x3f64b1=_0x126b11(0x70),_0x1b1d05=_0x126b11(0x8c),_0x86bcd6=_0x126b11(0x71),_0x5c86e9=_0x1c61('0x347'),_0x5c9b53=_0x4c9194['TypeError'],_0x446d6e=_0x4c9194[_0x1c61('0x348')],_0x29c638=_0x446d6e&&_0x446d6e[_0x1c61('0x6e')],_0x3a4038=_0x29c638&&_0x29c638['v8']||'',_0x4c78d6=_0x4c9194[_0x5c86e9],_0x424aaa=_0x1c61('0x348')==_0xc35fa9(_0x446d6e),_0x4ff47f=_0x26208b=_0x36f168['f'],_0x29c638=!!function(){try{var _0xc35fa9=_0x4c78d6[_0x1c61('0x349')](0x1),_0x56bed4=(_0xc35fa9[_0x1c61('0x85')]={})[_0x126b11(0x6)(_0x1c61('0x29e'))]=function(_0xc35fa9){_0xc35fa9(_0x3c5c32,_0x3c5c32);};return(_0x424aaa||_0x1c61('0x13')==typeof PromiseRejectionEvent)&&_0xc35fa9[_0x1c61('0x34a')](_0x3c5c32)instanceof _0x56bed4&&0x0!==_0x3a4038[_0x1c61('0x50')]('6.6')&&-0x1===_0x1b1d05[_0x1c61('0x50')](_0x1c61('0x34b'));}catch(_0x4a8ee1){}}(),_0x3b2e57=function(_0xc35fa9){var _0x56bed4;return!(!_0xb827ea(_0xc35fa9)||_0x1c61('0x13')!=typeof(_0x56bed4=_0xc35fa9[_0x1c61('0x34a')]))&&_0x56bed4;},_0x238d8c=function(_0xb827ea,_0x56bed4){var _0x126b11;_0xb827ea['_n']||(_0xb827ea['_n']=!0x0,_0x126b11=_0xb827ea['_c'],_0x4b1444(function(){for(var _0x26208b,_0x4ac2d8=_0xb827ea['_v'],_0x5c7784=0x1==_0xb827ea['_s'],_0xc35fa9=0x0;_0x126b11['length']>_0xc35fa9;)!function(_0xc35fa9){var _0x56bed4,_0x126b11,_0x3c5c32,_0x26208b,_0x411c54=_0x5c7784?_0xc35fa9['ok']:_0xc35fa9['fail'],_0x489244=_0xc35fa9['resolve'],_0x1691ef=_0xc35fa9[_0x1c61('0x34c')],_0x6783c8=_0xc35fa9['domain'];try{_0x411c54?(_0x5c7784||(0x2==_0xb827ea['_h']&&(_0x26208b=_0xb827ea,_0xbcb90b[_0x1c61('0x0')](_0x4c9194,function(){var _0xc35fa9;_0x424aaa?_0x446d6e[_0x1c61('0x34d')]('rejectionHandled',_0x26208b):(_0xc35fa9=_0x4c9194[_0x1c61('0x34e')])&&_0xc35fa9({'promise':_0x26208b,'reason':_0x26208b['_v']});})),_0xb827ea['_h']=0x1),!0x0===_0x411c54?_0x56bed4=_0x4ac2d8:(_0x6783c8&&_0x6783c8[_0x1c61('0x34f')](),_0x56bed4=_0x411c54(_0x4ac2d8),_0x6783c8&&(_0x6783c8[_0x1c61('0x350')](),_0x3c5c32=!0x0)),_0x56bed4===_0xc35fa9[_0x1c61('0x2af')]?_0x1691ef(_0x5c9b53(_0x1c61('0x351'))):(_0x126b11=_0x3b2e57(_0x56bed4))?_0x126b11[_0x1c61('0x0')](_0x56bed4,_0x489244,_0x1691ef):_0x489244(_0x56bed4)):_0x1691ef(_0x4ac2d8);}catch(_0x46310a){_0x6783c8&&!_0x3c5c32&&_0x6783c8[_0x1c61('0x350')](),_0x1691ef(_0x46310a);}}(_0x126b11[_0xc35fa9++]);_0xb827ea['_c']=[],_0xb827ea['_n']=!0x1,_0x56bed4&&!_0xb827ea['_h']&&(_0x26208b=_0xb827ea,_0xbcb90b[_0x1c61('0x0')](_0x4c9194,function(){var _0xc35fa9,_0x56bed4,_0x126b11=_0x26208b['_v'],_0x3c5c32=_0x411c54(_0x26208b);if(_0x3c5c32&&(_0xc35fa9=_0x3f64b1(function(){_0x424aaa?_0x446d6e[_0x1c61('0x34d')](_0x1c61('0x352'),_0x126b11,_0x26208b):(_0x56bed4=_0x4c9194[_0x1c61('0x353')])?_0x56bed4({'promise':_0x26208b,'reason':_0x126b11}):(_0x56bed4=_0x4c9194[_0x1c61('0x354')])&&_0x56bed4['error']&&_0x56bed4[_0x1c61('0x200')](_0x1c61('0x355'),_0x126b11);}),_0x26208b['_h']=_0x424aaa||_0x411c54(_0x26208b)?0x2:0x1),_0x26208b['_a']=void 0x0,_0x3c5c32&&_0xc35fa9['e'])throw _0xc35fa9['v'];}));}));},_0x57be81=function(_0xc35fa9){var _0x56bed4=this;_0x56bed4['_d']||(_0x56bed4['_d']=!0x0,(_0x56bed4=_0x56bed4['_w']||_0x56bed4)['_v']=_0xc35fa9,_0x56bed4['_s']=0x2,_0x56bed4['_a']||(_0x56bed4['_a']=_0x56bed4['_c'][_0x1c61('0x20')]()),_0x238d8c(_0x56bed4,!0x0));},_0x593ed3=function(_0xc35fa9){var _0x126b11,_0x3c5c32=this;if(!_0x3c5c32['_d']){_0x3c5c32['_d']=!0x0,_0x3c5c32=_0x3c5c32['_w']||_0x3c5c32;try{if(_0x3c5c32===_0xc35fa9)throw _0x5c9b53('Promise\x20can\x27t\x20be\x20resolved\x20itself');(_0x126b11=_0x3b2e57(_0xc35fa9))?_0x4b1444(function(){var _0x56bed4={'_w':_0x3c5c32,'_d':!0x1};try{_0x126b11[_0x1c61('0x0')](_0xc35fa9,_0x4ac2d8(_0x593ed3,_0x56bed4,0x1),_0x4ac2d8(_0x57be81,_0x56bed4,0x1));}catch(_0x3ef936){_0x57be81['call'](_0x56bed4,_0x3ef936);}}):(_0x3c5c32['_v']=_0xc35fa9,_0x3c5c32['_s']=0x1,_0x238d8c(_0x3c5c32,!0x1));}catch(_0x486ff4){_0x57be81[_0x1c61('0x0')]({'_w':_0x3c5c32,'_d':!0x1},_0x486ff4);}}};_0x29c638||(_0x4c78d6=function(_0xc35fa9){_0x4a88a0(this,_0x4c78d6,_0x5c86e9,'_h'),_0x59e0d2(_0xc35fa9),_0x56bed4[_0x1c61('0x0')](this);try{_0xc35fa9(_0x4ac2d8(_0x593ed3,this,0x1),_0x4ac2d8(_0x57be81,this,0x1));}catch(_0x138bd6){_0x57be81[_0x1c61('0x0')](this,_0x138bd6);}},(_0x56bed4=function(_0xc35fa9){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x126b11(0x4a)(_0x4c78d6[_0x1c61('0xb')],{'then':function(_0xc35fa9,_0x56bed4){var _0x126b11=_0x4ff47f(_0x218e1e(this,_0x4c78d6));return _0x126b11['ok']='function'!=typeof _0xc35fa9||_0xc35fa9,_0x126b11[_0x1c61('0x356')]='function'==typeof _0x56bed4&&_0x56bed4,_0x126b11['domain']=_0x424aaa?_0x446d6e[_0x1c61('0x357')]:void 0x0,this['_c'][_0x1c61('0x6f')](_0x126b11),this['_a']&&this['_a'][_0x1c61('0x6f')](_0x126b11),this['_s']&&_0x238d8c(this,!0x1),_0x126b11[_0x1c61('0x2af')];},'catch':function(_0xc35fa9){return this[_0x1c61('0x34a')](void 0x0,_0xc35fa9);}}),_0x489244=function(){var _0xc35fa9=new _0x56bed4();this[_0x1c61('0x2af')]=_0xc35fa9,this['resolve']=_0x4ac2d8(_0x593ed3,_0xc35fa9,0x1),this[_0x1c61('0x34c')]=_0x4ac2d8(_0x57be81,_0xc35fa9,0x1);},_0x36f168['f']=_0x4ff47f=function(_0xc35fa9){return _0xc35fa9===_0x4c78d6||_0xc35fa9===_0x1691ef?new _0x489244():_0x26208b(_0xc35fa9);}),_0x5c7784(_0x5c7784['G']+_0x5c7784['W']+_0x5c7784['F']*!_0x29c638,{'Promise':_0x4c78d6}),_0x126b11(0x17)(_0x4c78d6,_0x5c86e9),_0x126b11(0x63)(_0x5c86e9),_0x1691ef=_0x126b11(0x2)[_0x5c86e9],_0x5c7784(_0x5c7784['S']+_0x5c7784['F']*!_0x29c638,_0x5c86e9,{'reject':function(_0xc35fa9){var _0x56bed4=_0x4ff47f(this);return(0x0,_0x56bed4[_0x1c61('0x34c')])(_0xc35fa9),_0x56bed4[_0x1c61('0x2af')];}}),_0x5c7784(_0x5c7784['S']+_0x5c7784['F']*(_0x6783c8||!_0x29c638),_0x5c86e9,{'resolve':function(_0xc35fa9){return _0x86bcd6(_0x6783c8&&this===_0x1691ef?_0x4c78d6:this,_0xc35fa9);}}),_0x5c7784(_0x5c7784['S']+_0x5c7784['F']*!(_0x29c638&&_0x126b11(0x73)(function(_0xc35fa9){_0x4c78d6['all'](_0xc35fa9)[_0x1c61('0x358')](_0x3c5c32);})),_0x5c86e9,{'all':function(_0xc35fa9){var _0x489244=this,_0x56bed4=_0x4ff47f(_0x489244),_0x1691ef=_0x56bed4['resolve'],_0x6783c8=_0x56bed4[_0x1c61('0x34c')],_0x126b11=_0x3f64b1(function(){var _0x3c5c32=[],_0x26208b=0x0,_0x411c54=0x1;_0x4624cb(_0xc35fa9,!0x1,function(_0xc35fa9){var _0x56bed4=_0x26208b++,_0x126b11=!0x1;_0x3c5c32[_0x1c61('0x6f')](void 0x0),_0x411c54++,_0x489244[_0x1c61('0x349')](_0xc35fa9)['then'](function(_0xc35fa9){_0x126b11||(_0x126b11=!0x0,_0x3c5c32[_0x56bed4]=_0xc35fa9,--_0x411c54||_0x1691ef(_0x3c5c32));},_0x6783c8);}),--_0x411c54||_0x1691ef(_0x3c5c32);});return _0x126b11['e']&&_0x6783c8(_0x126b11['v']),_0x56bed4['promise'];},'race':function(_0xc35fa9){var _0x56bed4=this,_0x126b11=_0x4ff47f(_0x56bed4),_0x3c5c32=_0x126b11[_0x1c61('0x34c')],_0x26208b=_0x3f64b1(function(){_0x4624cb(_0xc35fa9,!0x1,function(_0xc35fa9){_0x56bed4['resolve'](_0xc35fa9)['then'](_0x126b11[_0x1c61('0x349')],_0x3c5c32);});});return _0x26208b['e']&&_0x3c5c32(_0x26208b['v']),_0x126b11[_0x1c61('0x2af')];}});},function(_0x4c31b5,_0x4c5a52){_0x4c31b5[_0x1c61('0x1')]=function(_0x4c31b5,_0x4c5a52,_0x19890a){var _0x3c0815=void 0x0===_0x19890a;switch(_0x4c5a52[_0x1c61('0xf')]){case 0x0:return _0x3c0815?_0x4c31b5():_0x4c31b5[_0x1c61('0x0')](_0x19890a);case 0x1:return _0x3c0815?_0x4c31b5(_0x4c5a52[0x0]):_0x4c31b5[_0x1c61('0x0')](_0x19890a,_0x4c5a52[0x0]);case 0x2:return _0x3c0815?_0x4c31b5(_0x4c5a52[0x0],_0x4c5a52[0x1]):_0x4c31b5['call'](_0x19890a,_0x4c5a52[0x0],_0x4c5a52[0x1]);case 0x3:return _0x3c0815?_0x4c31b5(_0x4c5a52[0x0],_0x4c5a52[0x1],_0x4c5a52[0x2]):_0x4c31b5[_0x1c61('0x0')](_0x19890a,_0x4c5a52[0x0],_0x4c5a52[0x1],_0x4c5a52[0x2]);case 0x4:return _0x3c0815?_0x4c31b5(_0x4c5a52[0x0],_0x4c5a52[0x1],_0x4c5a52[0x2],_0x4c5a52[0x3]):_0x4c31b5[_0x1c61('0x0')](_0x19890a,_0x4c5a52[0x0],_0x4c5a52[0x1],_0x4c5a52[0x2],_0x4c5a52[0x3]);}return _0x4c31b5['apply'](_0x19890a,_0x4c5a52);};},function(_0x39fb2a,_0x2b2910,_0xafbaad){var _0x5ca4c2=_0xafbaad(0x5),_0x4919f7=_0xafbaad(0x6f)[_0x1c61('0x1b')],_0x33a894=_0x5ca4c2[_0x1c61('0x359')]||_0x5ca4c2[_0x1c61('0x35a')],_0xc18374=_0x5ca4c2[_0x1c61('0x348')],_0x263679=_0x5ca4c2[_0x1c61('0x347')],_0x482dab=_0x1c61('0x348')==_0xafbaad(0x16)(_0xc18374);_0x39fb2a[_0x1c61('0x1')]=function(){function _0x39fb2a(){var _0x39fb2a,_0x2b2910;for(_0x482dab&&(_0x39fb2a=_0xc18374[_0x1c61('0x357')])&&_0x39fb2a['exit']();_0xafbaad;){_0x2b2910=_0xafbaad['fn'],_0xafbaad=_0xafbaad['next'];try{_0x2b2910();}catch(_0x346486){throw _0xafbaad?_0x1b67b9():_0x7e03dd=void 0x0,_0x346486;}}_0x7e03dd=void 0x0,_0x39fb2a&&_0x39fb2a[_0x1c61('0x34f')]();}var _0xafbaad,_0x7e03dd,_0x2b2910,_0x2d532f,_0x546744,_0x1b67b9=_0x482dab?function(){_0xc18374['nextTick'](_0x39fb2a);}:!_0x33a894||_0x5ca4c2['navigator']&&_0x5ca4c2[_0x1c61('0x35b')][_0x1c61('0x35c')]?_0x263679&&_0x263679[_0x1c61('0x349')]?(_0x2b2910=_0x263679['resolve'](void 0x0),function(){_0x2b2910[_0x1c61('0x34a')](_0x39fb2a);}):function(){_0x4919f7[_0x1c61('0x0')](_0x5ca4c2,_0x39fb2a);}:(_0x2d532f=!0x0,_0x546744=document['createTextNode'](''),new _0x33a894(_0x39fb2a)[_0x1c61('0x35d')](_0x546744,{'characterData':!0x0}),function(){_0x546744['data']=_0x2d532f=!_0x2d532f;});return function(_0x39fb2a){_0x39fb2a={'fn':_0x39fb2a,'next':void 0x0};_0x7e03dd&&(_0x7e03dd['next']=_0x39fb2a),_0xafbaad||(_0xafbaad=_0x39fb2a,_0x1b67b9()),_0x7e03dd=_0x39fb2a;};};},function(_0x42831d,_0x1bb84c,_0x277bef){_0x277bef=_0x277bef(0x5)[_0x1c61('0x35b')];_0x42831d[_0x1c61('0x1')]=_0x277bef&&_0x277bef[_0x1c61('0x5c')]||'';},function(_0x4a40f2,_0x5cedcf,_0x513658){'use strict';var _0x270d14=_0x513658(0x3),_0x4ddc66=_0x513658(0x2),_0x33fb2a=_0x513658(0x5),_0xfd8a70=_0x513658(0x6e),_0x300e8f=_0x513658(0x71);_0x270d14(_0x270d14['P']+_0x270d14['R'],'Promise',{'finally':function(_0x5cedcf){var _0x513658=_0xfd8a70(this,_0x4ddc66[_0x1c61('0x347')]||_0x33fb2a[_0x1c61('0x347')]),_0x4a40f2=_0x1c61('0x13')==typeof _0x5cedcf;return this[_0x1c61('0x34a')](_0x4a40f2?function(_0x4a40f2){return _0x300e8f(_0x513658,_0x5cedcf())[_0x1c61('0x34a')](function(){return _0x4a40f2;});}:_0x5cedcf,_0x4a40f2?function(_0x4a40f2){return _0x300e8f(_0x513658,_0x5cedcf())[_0x1c61('0x34a')](function(){throw _0x4a40f2;});}:_0x5cedcf);}});},function(_0x1d6062,_0x25d829,_0x28f66a){'use strict';var _0x1db39e=_0x28f66a(0x3),_0x1e0fcc=_0x28f66a(0x55),_0x494455=_0x28f66a(0x70);_0x1db39e(_0x1db39e['S'],_0x1c61('0x347'),{'try':function(_0x1d6062){var _0x25d829=_0x1e0fcc['f'](this),_0x1d6062=_0x494455(_0x1d6062);return(_0x1d6062['e']?_0x25d829['reject']:_0x25d829[_0x1c61('0x349')])(_0x1d6062['v']),_0x25d829[_0x1c61('0x2af')];}});},function(_0x1c0d05,_0x1c9eb4,_0xcfb5b0){_0xcfb5b0(0x35),_0xcfb5b0(0x19),_0xcfb5b0(0x1b),_0xcfb5b0(0x90),_0xcfb5b0(0x94),_0xcfb5b0(0x96),_0xcfb5b0(0x97),_0x1c0d05['exports']=_0xcfb5b0(0x2)[_0x1c61('0x35e')];},function(_0x25205a,_0x3a2d52,_0x4285fa){'use strict';var _0x2dbde2=_0x4285fa(0x7a),_0x3c7a29=_0x4285fa(0x61);_0x25205a['exports']=_0x4285fa(0x7b)('Set',function(_0x25205a){return function(){return _0x25205a(this,0x0<arguments['length']?arguments[0x0]:void 0x0);};},{'add':function(_0x25205a){return _0x2dbde2[_0x1c61('0x35f')](_0x3c7a29(this,_0x1c61('0x35e')),_0x25205a=0x0===_0x25205a?0x0:_0x25205a,_0x25205a);}},_0x2dbde2);},function(_0x82e2c2,_0x28cf94,_0x4d371f){var _0x4599cd=_0x4d371f(0x10),_0x564d92=_0x4d371f(0x2f),_0x583749=_0x4d371f(0x12),_0x2f04b9=_0x4d371f(0x2b),_0x7e07c1=_0x4d371f(0x92);_0x82e2c2[_0x1c61('0x1')]=function(_0x48e596,_0x82e2c2){var _0x26c796=0x1==_0x48e596,_0x14f839=0x2==_0x48e596,_0x545f7e=0x3==_0x48e596,_0xe40f4d=0x4==_0x48e596,_0x2c4423=0x6==_0x48e596,_0x3955be=0x5==_0x48e596||_0x2c4423,_0x418b13=_0x82e2c2||_0x7e07c1;return function(_0x82e2c2,_0x28cf94,_0x4d371f){for(var _0x7e07c1,_0x1cd3cf,_0x53574b=_0x583749(_0x82e2c2),_0x40964b=_0x564d92(_0x53574b),_0x3a15fe=_0x4599cd(_0x28cf94,_0x4d371f,0x3),_0x371d08=_0x2f04b9(_0x40964b[_0x1c61('0xf')]),_0xfa7092=0x0,_0x1f8bf9=_0x26c796?_0x418b13(_0x82e2c2,_0x371d08):_0x14f839?_0x418b13(_0x82e2c2,0x0):void 0x0;_0xfa7092<_0x371d08;_0xfa7092++)if((_0x3955be||_0xfa7092 in _0x40964b)&&(_0x1cd3cf=_0x3a15fe(_0x7e07c1=_0x40964b[_0xfa7092],_0xfa7092,_0x53574b),_0x48e596))if(_0x26c796)_0x1f8bf9[_0xfa7092]=_0x1cd3cf;else if(_0x1cd3cf)switch(_0x48e596){case 0x3:return!0x0;case 0x5:return _0x7e07c1;case 0x6:return _0xfa7092;case 0x2:_0x1f8bf9['push'](_0x7e07c1);}else if(_0xe40f4d)return!0x1;return _0x2c4423?-0x1:_0x545f7e||_0xe40f4d?_0xe40f4d:_0x1f8bf9;};};},function(_0x4f0542,_0x1a5a9e,_0x5ecad7){var _0x18dad4=_0x5ecad7(0x93);_0x4f0542[_0x1c61('0x1')]=function(_0x4f0542,_0x1a5a9e){return new(_0x18dad4(_0x4f0542))(_0x1a5a9e);};},function(_0x2d9c75,_0x404bee,_0x2a895b){var _0x186944=_0x2a895b(0x9),_0xedd6bb=_0x2a895b(0x48),_0x4f42a9=_0x2a895b(0x6)(_0x1c61('0x29e'));_0x2d9c75[_0x1c61('0x1')]=function(_0x2d9c75){var _0x404bee;return _0xedd6bb(_0x2d9c75)&&(_0x1c61('0x13')!=typeof(_0x404bee=_0x2d9c75['constructor'])||_0x404bee!==Array&&!_0xedd6bb(_0x404bee[_0x1c61('0xb')])||(_0x404bee=void 0x0),_0x186944(_0x404bee)&&null===(_0x404bee=_0x404bee[_0x4f42a9])&&(_0x404bee=void 0x0)),void 0x0===_0x404bee?Array:_0x404bee;};},function(_0x4da89f,_0x5958c8,_0x554837){var _0x49cdb0=_0x554837(0x3);_0x49cdb0(_0x49cdb0['P']+_0x49cdb0['R'],'Set',{'toJSON':_0x554837(0x7c)(_0x1c61('0x35e'))});},function(_0x463477,_0x388f57,_0x3836fe){var _0x4731a9=_0x3836fe(0x34);_0x463477['exports']=function(_0x463477,_0x388f57){var _0x3836fe=[];return _0x4731a9(_0x463477,!0x1,_0x3836fe[_0x1c61('0x6f')],_0x3836fe,_0x388f57),_0x3836fe;};},function(_0xce7f30,_0x56d374,_0x4637c2){_0x4637c2(0x7d)('Set');},function(_0x4ff7cb,_0x5c30b1,_0x1e32c7){_0x1e32c7(0x7e)(_0x1c61('0x35e'));},,function(_0x4ab922,_0x10aff9,_0x3a32bb){'use strict';var _0x1b4642=_0x273bda(_0x3a32bb(0x1d)),_0x4ac72d=_0x273bda(_0x3a32bb(0x58)),_0x4ed272=_0x273bda(_0x3a32bb(0xf));function _0x273bda(_0x3a32bb){return _0x3a32bb&&_0x3a32bb[_0x1c61('0x5')]?_0x3a32bb:{'default':_0x3a32bb};}!function(){function _0x3a32bb(){this[_0x1c61('0x360')]=[],this[_0x1c61('0x361')]=[],this[_0x1c61('0x77')]=[],this[_0x1c61('0x362')]=[],this[_0x1c61('0x328')]=[],this[_0x1c61('0x363')]=[],this[_0x1c61('0x364')]=[],this[_0x1c61('0x365')]=[],this[_0x1c61('0xda')]=new THREE['BufferGeometry'](),this['widthCallback']=null,this['matrixWorld']=new THREE[(_0x1c61('0x31e'))]();}var _0x4ece8a,_0x3bd92c,_0x4a9245;function _0x2472fe(_0x3a32bb,_0x273bda,_0x4ab922,_0x10aff9,_0x1b4642){var _0x2472fe;if(_0x3a32bb=_0x3a32bb[_0x1c61('0xf9')]||_0x3a32bb[_0x1c61('0x20')]?_0x3a32bb:_0x3a32bb['buffer'],_0x4ab922=_0x4ab922['subarray']||_0x4ab922[_0x1c61('0x20')]?_0x4ab922:_0x4ab922[_0x1c61('0x366')],_0x3a32bb=_0x273bda?_0x3a32bb[_0x1c61('0xf9')]?_0x3a32bb[_0x1c61('0xf9')](_0x273bda,_0x1b4642&&_0x273bda+_0x1b4642):_0x3a32bb[_0x1c61('0x20')](_0x273bda,_0x1b4642&&_0x273bda+_0x1b4642):_0x3a32bb,_0x4ab922[_0x1c61('0x1b')])_0x4ab922[_0x1c61('0x1b')](_0x3a32bb,_0x10aff9);else for(_0x2472fe=0x0;_0x2472fe<_0x3a32bb[_0x1c61('0xf')];_0x2472fe++)_0x4ab922[_0x2472fe+_0x10aff9]=_0x3a32bb[_0x2472fe];}function _0x273bda(_0x3a32bb){THREE[_0x1c61('0x1ea')]['call'](this,{'uniforms':(0x0,_0x4ed272[_0x1c61('0x8')])({},THREE[_0x1c61('0x367')][_0x1c61('0x1dd')],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE['Color'](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE[(_0x1c61('0x1cf'))](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE['Vector2'](0x1,0x1)},'offset':{'value':new THREE[(_0x1c61('0x1cf'))](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE[_0x1c61('0x16e')][_0x1c61('0x368')],'fragmentShader':THREE['ShaderChunk'][_0x1c61('0x369')]}),this['type']=_0x1c61('0x36a'),(0x0,_0x4ac72d[_0x1c61('0x8')])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')]['lineWidth'][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x32e')][_0x1c61('0x1c')]=_0x3a32bb;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')]['map'][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this['uniforms'][_0x1c61('0xd9')][_0x1c61('0x1c')]=_0x3a32bb;}},'useMap':{'enumerable':!0x0,'get':function(){return this['uniforms']['useMap'][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x36b')][_0x1c61('0x1c')]=_0x3a32bb;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x36c')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this['uniforms'][_0x1c61('0x36c')][_0x1c61('0x1c')]=_0x3a32bb;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x36d')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x36d')][_0x1c61('0x1c')]=_0x3a32bb;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x32a')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x32a')][_0x1c61('0x1c')]=_0x3a32bb;}},'color':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x228')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x228')][_0x1c61('0x1c')]=_0x3a32bb;}},'opacity':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x208')]['value'];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x208')][_0x1c61('0x1c')]=_0x3a32bb;}},'resolution':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x2fe')]['value'];},'set':function(_0x3a32bb){this['uniforms'][_0x1c61('0x2fe')][_0x1c61('0x1c')][_0x1c61('0x1c2')](_0x3a32bb);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x2ff')]['value'];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x2ff')][_0x1c61('0x1c')]=_0x3a32bb;}},'near':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x300')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this['uniforms'][_0x1c61('0x300')][_0x1c61('0x1c')]=_0x3a32bb;}},'far':{'enumerable':!0x0,'get':function(){return this['uniforms']['far']['value'];},'set':function(_0x3a32bb){this['uniforms']['far'][_0x1c61('0x1c')]=_0x3a32bb;}},'dashArray':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x2fb')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x2fb')]['value']=_0x3a32bb,this['useDash']=0x0!==_0x3a32bb?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x2fc')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this['uniforms'][_0x1c61('0x2fc')]['value']=_0x3a32bb;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x2fd')]['value'];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')]['dashRatio'][_0x1c61('0x1c')]=_0x3a32bb;}},'useDash':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')]['useDash'][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')]['useDash'][_0x1c61('0x1c')]=_0x3a32bb;}},'visibility':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x36e')]['value'];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x36e')][_0x1c61('0x1c')]=_0x3a32bb;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')]['alphaTest'][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x1da')]['value']=_0x3a32bb;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x32b')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x32b')][_0x1c61('0x1c')]=_0x3a32bb;}},'repeat':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x2f0')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x2f0')]['value'][_0x1c61('0x1c2')](_0x3a32bb);}},'offset':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1c61('0x2f2')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')]['offset']['value']['copy'](_0x3a32bb);}},'useChange':{'enumerable':!0x0,'get':function(){return this[_0x1c61('0x16a')][_0x1c61('0x36f')][_0x1c61('0x1c')];},'set':function(_0x3a32bb){this[_0x1c61('0x16a')][_0x1c61('0x36f')][_0x1c61('0x1c')]=_0x3a32bb;}}}),this['setValues'](_0x3a32bb);}_0x3a32bb[_0x1c61('0xb')][_0x1c61('0x370')]=function(_0x3a32bb){this[_0x1c61('0x371')]=_0x3a32bb;},_0x3a32bb[_0x1c61('0xb')][_0x1c61('0x309')]=function(_0x3a32bb,_0x273bda){if(this[_0x1c61('0x372')]=_0x273bda,this[_0x1c61('0x360')]=[],this[_0x1c61('0x365')]=[],_0x3a32bb instanceof THREE[_0x1c61('0x304')])for(var _0x4ab922=0x0;_0x4ab922<_0x3a32bb[_0x1c61('0x305')][_0x1c61('0xf')];_0x4ab922++){var _0x10aff9=_0x3a32bb['vertices'][_0x4ab922],_0x273bda=_0x4ab922/_0x3a32bb[_0x1c61('0x305')][_0x1c61('0xf')];this[_0x1c61('0x360')][_0x1c61('0x6f')](_0x10aff9['x'],_0x10aff9['y'],_0x10aff9['z']),this[_0x1c61('0x360')]['push'](_0x10aff9['x'],_0x10aff9['y'],_0x10aff9['z']),this[_0x1c61('0x365')][_0x1c61('0x6f')](_0x273bda),this[_0x1c61('0x365')][_0x1c61('0x6f')](_0x273bda);}if(THREE[_0x1c61('0x1ef')],_0x3a32bb instanceof Float32Array||_0x3a32bb instanceof Array)for(_0x4ab922=0x0;_0x4ab922<_0x3a32bb[_0x1c61('0xf')];_0x4ab922+=0x3)_0x273bda=_0x4ab922/_0x3a32bb[_0x1c61('0xf')],this[_0x1c61('0x360')][_0x1c61('0x6f')](_0x3a32bb[_0x4ab922],_0x3a32bb[_0x4ab922+0x1],_0x3a32bb[_0x4ab922+0x2]),this[_0x1c61('0x360')][_0x1c61('0x6f')](_0x3a32bb[_0x4ab922],_0x3a32bb[_0x4ab922+0x1],_0x3a32bb[_0x4ab922+0x2]),this['counters']['push'](_0x273bda),this['counters'][_0x1c61('0x6f')](_0x273bda);this[_0x1c61('0x348')]();},_0x3a32bb['prototype'][_0x1c61('0x373')]=(_0x4ece8a=new THREE['Matrix4'](),_0x3bd92c=new THREE['Ray'](),_0x4a9245=new THREE[(_0x1c61('0x374'))](),function(_0x3a32bb,_0x273bda){var _0x4ab922=_0x3a32bb['linePrecision'],_0x10aff9=_0x4ab922*_0x4ab922,_0x4ab922=this[_0x1c61('0xda')];if(null===_0x4ab922[_0x1c61('0x375')]&&_0x4ab922[_0x1c61('0x376')](),_0x4a9245['copy'](_0x4ab922[_0x1c61('0x375')]),_0x4a9245[_0x1c61('0x377')](this['matrixWorld']),!0x1!==_0x3a32bb[_0x1c61('0x378')][_0x1c61('0x379')](_0x4a9245)){_0x4ece8a[_0x1c61('0x37a')](this[_0x1c61('0x371')]),_0x3bd92c[_0x1c61('0x1c2')](_0x3a32bb[_0x1c61('0x378')])[_0x1c61('0x377')](_0x4ece8a);var _0x1b4642=new THREE[(_0x1c61('0x1b8'))](),_0x2472fe=new THREE['Vector3'](),_0x4ac72d=new THREE[(_0x1c61('0x1b8'))](),_0x4ed272=new THREE[(_0x1c61('0x1b8'))](),_0x45b085=this instanceof THREE[_0x1c61('0x37b')]?0x2:0x1;if(_0x4ab922 instanceof THREE[_0x1c61('0x1ef')]){var _0x293b16=_0x4ab922[_0x1c61('0x43')],_0x135546=_0x4ab922[_0x1c61('0x1e7')];if(null!==_0x293b16)for(var _0x33c036=_0x293b16[_0x1c61('0xe9')],_0xc80e05=_0x135546[_0x1c61('0x218')]['array'],_0x31c733=0x0,_0x236440=_0x33c036[_0x1c61('0xf')]-0x1;_0x31c733<_0x236440;_0x31c733+=_0x45b085){var _0x66b9c8=_0x33c036[_0x31c733],_0x5194a=_0x33c036[_0x31c733+0x1];_0x1b4642[_0x1c61('0x37c')](_0xc80e05,0x3*_0x66b9c8),_0x2472fe[_0x1c61('0x37c')](_0xc80e05,0x3*_0x5194a),_0x10aff9<_0x3bd92c[_0x1c61('0x37d')](_0x1b4642,_0x2472fe,_0x4ed272,_0x4ac72d)||(_0x4ed272[_0x1c61('0x377')](this['matrixWorld']),(_0x5b6b73=_0x3a32bb['ray'][_0x1c61('0x37e')][_0x1c61('0x2c3')](_0x4ed272))<_0x3a32bb[_0x1c61('0x300')]||_0x5b6b73>_0x3a32bb[_0x1c61('0x37f')]||_0x273bda['push']({'distance':_0x5b6b73,'point':_0x4ac72d['clone']()[_0x1c61('0x377')](this[_0x1c61('0x371')]),'index':_0x31c733,'face':null,'faceIndex':null,'object':this}));}else for(_0x31c733=0x0,_0x236440=(_0xc80e05=_0x135546[_0x1c61('0x218')][_0x1c61('0xe9')])[_0x1c61('0xf')]/0x3-0x1;_0x31c733<_0x236440;_0x31c733+=_0x45b085)_0x1b4642[_0x1c61('0x37c')](_0xc80e05,0x3*_0x31c733),_0x2472fe[_0x1c61('0x37c')](_0xc80e05,0x3*_0x31c733+0x3),_0x10aff9<_0x3bd92c[_0x1c61('0x37d')](_0x1b4642,_0x2472fe,_0x4ed272,_0x4ac72d)||(_0x4ed272[_0x1c61('0x377')](this[_0x1c61('0x371')]),(_0x5b6b73=_0x3a32bb[_0x1c61('0x378')][_0x1c61('0x37e')]['distanceTo'](_0x4ed272))<_0x3a32bb[_0x1c61('0x300')]||_0x5b6b73>_0x3a32bb['far']||_0x273bda['push']({'distance':_0x5b6b73,'point':_0x4ac72d[_0x1c61('0x1b1')]()['applyMatrix4'](this[_0x1c61('0x371')]),'index':_0x31c733,'face':null,'faceIndex':null,'object':this}));}else if(_0x4ab922 instanceof THREE[_0x1c61('0x304')])for(var _0x5b6b73,_0x85260c=_0x4ab922[_0x1c61('0x305')],_0x388970=_0x85260c[_0x1c61('0xf')],_0x31c733=0x0;_0x31c733<_0x388970-0x1;_0x31c733+=_0x45b085)_0x10aff9<_0x3bd92c['distanceSqToSegment'](_0x85260c[_0x31c733],_0x85260c[_0x31c733+0x1],_0x4ed272,_0x4ac72d)||(_0x4ed272[_0x1c61('0x377')](this[_0x1c61('0x371')]),(_0x5b6b73=_0x3a32bb['ray'][_0x1c61('0x37e')][_0x1c61('0x2c3')](_0x4ed272))<_0x3a32bb['near']||_0x5b6b73>_0x3a32bb[_0x1c61('0x37f')]||_0x273bda['push']({'distance':_0x5b6b73,'point':_0x4ac72d['clone']()[_0x1c61('0x377')](this[_0x1c61('0x371')]),'index':_0x31c733,'face':null,'faceIndex':null,'object':this}));}}),_0x3a32bb[_0x1c61('0xb')][_0x1c61('0x380')]=function(_0x3a32bb,_0x273bda){_0x3a32bb*=0x6,_0x273bda*=0x6;return this['positions'][_0x3a32bb]===this[_0x1c61('0x360')][_0x273bda]&&this['positions'][0x1+_0x3a32bb]===this[_0x1c61('0x360')][0x1+_0x273bda]&&this[_0x1c61('0x360')][0x2+_0x3a32bb]===this[_0x1c61('0x360')][0x2+_0x273bda];},_0x3a32bb['prototype'][_0x1c61('0x381')]=function(_0x3a32bb){_0x3a32bb*=0x6;return[this['positions'][_0x3a32bb],this['positions'][0x1+_0x3a32bb],this[_0x1c61('0x360')][0x2+_0x3a32bb]];},_0x3a32bb[_0x1c61('0xb')][_0x1c61('0x348')]=function(){var _0x3a32bb=this['positions'][_0x1c61('0xf')]/0x6;this[_0x1c61('0x361')]=[],this[_0x1c61('0x77')]=[],this[_0x1c61('0x362')]=[],this[_0x1c61('0x328')]=[],this['indices_array']=[],this[_0x1c61('0x364')]=[];for(var _0x273bda,_0x4ab922=0x0;_0x4ab922<_0x3a32bb;_0x4ab922++)this[_0x1c61('0x362')]['push'](0x1),this[_0x1c61('0x362')][_0x1c61('0x6f')](-0x1);for(_0x4ab922=0x0;_0x4ab922<_0x3a32bb;_0x4ab922++)_0x273bda=this[_0x1c61('0x372')]?this['widthCallback'](_0x4ab922/(_0x3a32bb-0x1)):0x1,this[_0x1c61('0x328')]['push'](_0x273bda),this[_0x1c61('0x328')][_0x1c61('0x6f')](_0x273bda);for(var _0x10aff9,_0x4ab922=0x0;_0x4ab922<_0x3a32bb;_0x4ab922++)this[_0x1c61('0x364')][_0x1c61('0x6f')](_0x4ab922/(_0x3a32bb-0x1),0x0),this['uvs'][_0x1c61('0x6f')](_0x4ab922/(_0x3a32bb-0x1),0x1);for(_0x10aff9=this[_0x1c61('0x380')](0x0,_0x3a32bb-0x1)?this['copyV3'](_0x3a32bb-0x2):this[_0x1c61('0x381')](0x0),this['previous'][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),this[_0x1c61('0x361')][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),_0x4ab922=0x0;_0x4ab922<_0x3a32bb-0x1;_0x4ab922++)_0x10aff9=this[_0x1c61('0x381')](_0x4ab922),this[_0x1c61('0x361')][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),this[_0x1c61('0x361')]['push'](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]);for(_0x4ab922=0x1;_0x4ab922<_0x3a32bb;_0x4ab922++)_0x10aff9=this[_0x1c61('0x381')](_0x4ab922),this[_0x1c61('0x77')]['push'](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),this['next'][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]);for(_0x10aff9=this[_0x1c61('0x380')](_0x3a32bb-0x1,0x0)?this[_0x1c61('0x381')](0x1):this[_0x1c61('0x381')](_0x3a32bb-0x1),this['next'][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),this[_0x1c61('0x77')][_0x1c61('0x6f')](_0x10aff9[0x0],_0x10aff9[0x1],_0x10aff9[0x2]),_0x4ab922=0x0;_0x4ab922<_0x3a32bb-0x1;_0x4ab922++){var _0x1b4642=0x2*_0x4ab922;this[_0x1c61('0x363')][_0x1c61('0x6f')](_0x1b4642,0x1+_0x1b4642,0x2+_0x1b4642),this[_0x1c61('0x363')][_0x1c61('0x6f')](0x2+_0x1b4642,0x1+_0x1b4642,0x3+_0x1b4642);}this[_0x1c61('0x1e7')]?(this[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0x382')](new Float32Array(this[_0x1c61('0x360')])),this[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0x108')]=!0x0,this['attributes'][_0x1c61('0x361')][_0x1c61('0x382')](new Float32Array(this['previous'])),this[_0x1c61('0x1e7')][_0x1c61('0x361')]['needsUpdate']=!0x0,this[_0x1c61('0x1e7')][_0x1c61('0x77')]['copyArray'](new Float32Array(this[_0x1c61('0x77')])),this[_0x1c61('0x1e7')][_0x1c61('0x77')]['needsUpdate']=!0x0,this['attributes']['side']['copyArray'](new Float32Array(this['side'])),this[_0x1c61('0x1e7')][_0x1c61('0x362')][_0x1c61('0x108')]=!0x0,this[_0x1c61('0x1e7')]['width']['copyArray'](new Float32Array(this[_0x1c61('0x328')])),this[_0x1c61('0x1e7')][_0x1c61('0x328')][_0x1c61('0x108')]=!0x0,this[_0x1c61('0x1e7')]['uv'][_0x1c61('0x382')](new Float32Array(this[_0x1c61('0x364')])),this[_0x1c61('0x1e7')]['uv'][_0x1c61('0x108')]=!0x0,this['attributes']['index'][_0x1c61('0x382')](new Uint16Array(this[_0x1c61('0x363')])),this[_0x1c61('0x1e7')][_0x1c61('0x43')][_0x1c61('0x108')]=!0x0):this[_0x1c61('0x1e7')]={'position':new THREE['BufferAttribute'](new Float32Array(this['positions']),0x3),'previous':new THREE[(_0x1c61('0x10d'))](new Float32Array(this[_0x1c61('0x361')]),0x3),'next':new THREE['BufferAttribute'](new Float32Array(this[_0x1c61('0x77')]),0x3),'side':new THREE[(_0x1c61('0x10d'))](new Float32Array(this[_0x1c61('0x362')]),0x1),'width':new THREE['BufferAttribute'](new Float32Array(this[_0x1c61('0x328')]),0x1),'uv':new THREE['BufferAttribute'](new Float32Array(this['uvs']),0x2),'index':new THREE[(_0x1c61('0x10d'))](new Uint16Array(this[_0x1c61('0x363')]),0x1),'counters':new THREE[(_0x1c61('0x10d'))](new Float32Array(this['counters']),0x1)},this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x218'),this[_0x1c61('0x1e7')][_0x1c61('0x218')]),this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x361'),this['attributes'][_0x1c61('0x361')]),this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x77'),this[_0x1c61('0x1e7')][_0x1c61('0x77')]),this['geometry']['addAttribute'](_0x1c61('0x362'),this[_0x1c61('0x1e7')][_0x1c61('0x362')]),this['geometry']['addAttribute'](_0x1c61('0x328'),this[_0x1c61('0x1e7')][_0x1c61('0x328')]),this[_0x1c61('0xda')][_0x1c61('0x31c')]('uv',this[_0x1c61('0x1e7')]['uv']),this['geometry'][_0x1c61('0x31c')](_0x1c61('0x365'),this['attributes']['counters']),this['geometry'][_0x1c61('0x383')](this[_0x1c61('0x1e7')][_0x1c61('0x43')]);},_0x3a32bb[_0x1c61('0xb')]['advance']=function(_0x3a32bb){var _0x273bda=this[_0x1c61('0x1e7')]['position'][_0x1c61('0xe9')],_0x4ab922=this[_0x1c61('0x1e7')][_0x1c61('0x361')][_0x1c61('0xe9')],_0x10aff9=this[_0x1c61('0x1e7')]['next'][_0x1c61('0xe9')],_0x1b4642=_0x273bda[_0x1c61('0xf')];_0x2472fe(_0x273bda,0x0,_0x4ab922,0x0,_0x1b4642),_0x2472fe(_0x273bda,0x6,_0x273bda,0x0,_0x1b4642-0x6),_0x273bda[_0x1b4642-0x6]=_0x3a32bb['x'],_0x273bda[_0x1b4642-0x5]=_0x3a32bb['y'],_0x273bda[_0x1b4642-0x4]=_0x3a32bb['z'],_0x273bda[_0x1b4642-0x3]=_0x3a32bb['x'],_0x273bda[_0x1b4642-0x2]=_0x3a32bb['y'],_0x273bda[_0x1b4642-0x1]=_0x3a32bb['z'],_0x2472fe(_0x273bda,0x6,_0x10aff9,0x0,_0x1b4642-0x6),_0x10aff9[_0x1b4642-0x6]=_0x3a32bb['x'],_0x10aff9[_0x1b4642-0x5]=_0x3a32bb['y'],_0x10aff9[_0x1b4642-0x4]=_0x3a32bb['z'],_0x10aff9[_0x1b4642-0x3]=_0x3a32bb['x'],_0x10aff9[_0x1b4642-0x2]=_0x3a32bb['y'],_0x10aff9[_0x1b4642-0x1]=_0x3a32bb['z'],this['attributes'][_0x1c61('0x218')]['needsUpdate']=!0x0,this[_0x1c61('0x1e7')][_0x1c61('0x361')][_0x1c61('0x108')]=!0x0,this[_0x1c61('0x1e7')]['next'][_0x1c61('0x108')]=!0x0;},THREE['ShaderChunk'][_0x1c61('0x368')]=['',THREE[_0x1c61('0x16e')][_0x1c61('0x16c')],THREE[_0x1c61('0x16e')][_0x1c61('0x16d')],THREE[_0x1c61('0x16e')][_0x1c61('0x16f')],'',_0x1c61('0x384'),_0x1c61('0x385'),_0x1c61('0x386'),_0x1c61('0x387'),'attribute\x20float\x20width;',_0x1c61('0x388'),'',_0x1c61('0x389'),_0x1c61('0x38a'),_0x1c61('0x38b'),'uniform\x20float\x20opacity;',_0x1c61('0x38c'),'uniform\x20float\x20far;',_0x1c61('0x38d'),'',_0x1c61('0x38e'),_0x1c61('0x11c'),_0x1c61('0x38f'),_0x1c61('0x390'),'',_0x1c61('0x391'),'',_0x1c61('0x392'),_0x1c61('0x393'),'\x09\x20vCounters\x20=\x20counters;',_0x1c61('0x394'),'','}','',_0x1c61('0x178'),'',_0x1c61('0x395'),_0x1c61('0x396'),'',_0x1c61('0x397'),'\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);',_0x1c61('0x398'),'',_0x1c61('0x399'),_0x1c61('0x39a'),_0x1c61('0x39b'),'\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;',_0x1c61('0x39c'),'','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{',_0x1c61('0x39d'),_0x1c61('0x13b'),'',_0x1c61('0x39e'),'\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);',_0x1c61('0x39f'),_0x1c61('0x3a0'),'\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);',_0x1c61('0x3a1'),'',_0x1c61('0x3a2'),_0x1c61('0x3a3'),_0x1c61('0x3a4'),'',_0x1c61('0x13b'),'',_0x1c61('0x3a5'),_0x1c61('0x3a6'),'\x20\x20\x20\x20normal.x\x20/=\x20aspect;',_0x1c61('0x3a7'),'',_0x1c61('0x3a8'),_0x1c61('0x3a9'),'',_0x1c61('0x3aa'),'',THREE[_0x1c61('0x16e')]['logdepthbuf_vertex'],THREE[_0x1c61('0x16e')][_0x1c61('0x3ab')]&&'\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);',THREE[_0x1c61('0x16e')]['fog_vertex'],'}'][_0x1c61('0x112')]('\x0d\x0a'),THREE[_0x1c61('0x16e')][_0x1c61('0x369')]=['',THREE[_0x1c61('0x16e')]['fog_pars_fragment'],THREE[_0x1c61('0x16e')][_0x1c61('0x1a0')],'',_0x1c61('0x3ac'),_0x1c61('0x3ad'),_0x1c61('0x3ae'),'uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useFadeOut;',_0x1c61('0x3af'),_0x1c61('0x3b0'),_0x1c61('0x3b1'),'uniform\x20float\x20dashRatio;','uniform\x20float\x20visibility;',_0x1c61('0x3b2'),_0x1c61('0x3b3'),_0x1c61('0x3b4'),_0x1c61('0x3b5'),_0x1c61('0x3b6'),'',_0x1c61('0x38e'),_0x1c61('0x11c'),_0x1c61('0x390'),'varying\x20vec3\x20vChangeColor;','',_0x1c61('0x178'),'',THREE[_0x1c61('0x16e')][_0x1c61('0x1a6')],'',_0x1c61('0x3b7'),_0x1c61('0x3b8'),'\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){',_0x1c61('0x3b9'),_0x1c61('0x13b'),'\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;',_0x1c61('0x3ba'),_0x1c61('0x3bb'),'',THREE[_0x1c61('0x16e')][_0x1c61('0x3bc')],'}'][_0x1c61('0x112')]('\x0d\x0a'),((_0x273bda[_0x1c61('0xb')]=(0x0,_0x1b4642[_0x1c61('0x8')])(THREE[_0x1c61('0x1ea')]['prototype']))[_0x1c61('0x85')]=_0x273bda)[_0x1c61('0xb')][_0x1c61('0x3bd')]=!0x0,_0x273bda['prototype'][_0x1c61('0x1c2')]=function(_0x3a32bb){return THREE[_0x1c61('0x1ea')][_0x1c61('0xb')]['copy'][_0x1c61('0x0')](this,_0x3a32bb),this['lineWidth']=_0x3a32bb[_0x1c61('0x32e')],this[_0x1c61('0xd9')]=_0x3a32bb[_0x1c61('0xd9')],this[_0x1c61('0x36b')]=_0x3a32bb[_0x1c61('0x36b')],this[_0x1c61('0x36c')]=_0x3a32bb[_0x1c61('0x36c')],this[_0x1c61('0x36d')]=_0x3a32bb[_0x1c61('0x36d')],this[_0x1c61('0x32a')]=_0x3a32bb[_0x1c61('0x32a')],this['fadeOutFactor']=_0x3a32bb[_0x1c61('0x32b')],this[_0x1c61('0x228')][_0x1c61('0x1c2')](_0x3a32bb[_0x1c61('0x228')]),this[_0x1c61('0x208')]=_0x3a32bb[_0x1c61('0x208')],this[_0x1c61('0x2fe')]['copy'](_0x3a32bb[_0x1c61('0x2fe')]),this[_0x1c61('0x2ff')]=_0x3a32bb[_0x1c61('0x2ff')],this['near']=_0x3a32bb[_0x1c61('0x300')],this[_0x1c61('0x37f')]=_0x3a32bb['far'],this[_0x1c61('0x2fb')][_0x1c61('0x1c2')](_0x3a32bb[_0x1c61('0x2fb')]),this[_0x1c61('0x2fc')][_0x1c61('0x1c2')](_0x3a32bb['dashOffset']),this['dashRatio'][_0x1c61('0x1c2')](_0x3a32bb[_0x1c61('0x2fd')]),this[_0x1c61('0x3be')]=_0x3a32bb[_0x1c61('0x3be')],this[_0x1c61('0x36e')]=_0x3a32bb[_0x1c61('0x36e')],this['alphaTest']=_0x3a32bb[_0x1c61('0x1da')],this[_0x1c61('0x2f0')][_0x1c61('0x1c2')](_0x3a32bb[_0x1c61('0x2f0')]),this[_0x1c61('0x2f2')]['copy'](_0x3a32bb[_0x1c61('0x2f2')]),this;},(_0x10aff9=_0x4ab922['exports']?_0x4ab922['exports']={'MeshLine':_0x3a32bb,'MeshLineMaterial':_0x273bda}:_0x10aff9)[_0x1c61('0x307')]=_0x3a32bb,_0x10aff9[_0x1c61('0x36a')]=_0x273bda;}[_0x1c61('0x0')](void 0x0);},function(_0x1e222f,_0x288b14,_0x49c92a){'use strict';_0x288b14[_0x1c61('0x5')]=!0x0;var _0x49c92a=_0x49c92a(0x33),_0x1ae080=_0x49c92a&&_0x49c92a[_0x1c61('0x5')]?_0x49c92a:{'default':_0x49c92a};_0x288b14[_0x1c61('0x8')]=function(_0x1e222f,_0x288b14,_0x49c92a){return _0x288b14 in _0x1e222f?(0x0,_0x1ae080[_0x1c61('0x8')])(_0x1e222f,_0x288b14,{'value':_0x49c92a,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x1e222f[_0x288b14]=_0x49c92a,_0x1e222f;};},,function(_0x1cafcf,_0x2cc56d,_0x549762){_0x1cafcf[_0x1c61('0x1')]={'default':_0x549762(0xb2),'__esModule':!0x0};},function(_0x2bf558,_0x26c693,_0x158130){'use strict';Object['defineProperty'](_0x26c693,_0x1c61('0x5'),{'value':!0x0});var _0xc55d45=_0x4615b(_0x158130(0x0));function _0x4615b(_0x2bf558){return _0x2bf558&&_0x2bf558['__esModule']?_0x2bf558:{'default':_0x2bf558};}function _0x11c6c7(_0x2bf558){var _0x26c693=_0x2bf558[_0x1c61('0x2bb')],_0x158130=_0x2bf558['isShowWater'],_0x4615b=_0x2bf558[_0x1c61('0x3bf')],_0x2bf558=_0x2bf558[_0x1c61('0x3c0')];(0x0,_0xc55d45['default'])(this,_0x11c6c7),this[_0x1c61('0x2bb')]=_0x26c693,this['isShowWater']=_0x158130,this[_0x1c61('0x3bf')]=_0x4615b||new THREE[(_0x1c61('0x1ba'))](0xaadaff),this['replaceColor']=_0x2bf558||new THREE[(_0x1c61('0x1ba'))](0x135d63);}(0x0,_0x4615b(_0x158130(0x1))[_0x1c61('0x8')])(_0x11c6c7,[{'key':_0x1c61('0x3c1'),'value':function(_0x2bf558){this[_0x1c61('0x2bb')]=_0x2bf558;}},{'key':_0x1c61('0x2db'),'value':function(){this[_0x1c61('0x2bb')]&&this[_0x1c61('0x3c2')]&&this['updateLayerNodesMaterial'](this['view'][_0x1c61('0x3c3')]['object3d'],function(_0x2bf558){_0x2bf558['waterTime']+=0.005;});}},{'key':_0x1c61('0x3c4'),'value':function(_0x2bf558,_0x26c693){_0x2bf558['traverse'](function(_0x2bf558){_0x2bf558[_0x1c61('0x41')]&&_0x26c693(_0x2bf558['material']);});}}]),_0x26c693[_0x1c61('0x8')]=_0x11c6c7;},function(_0x34cd88,_0x2f1844,_0x595464){'use strict';Object[_0x1c61('0x2')](_0x2f1844,_0x1c61('0x5'),{'value':!0x0});var _0x581647=_0x2dc483(_0x595464(0x0));function _0x2dc483(_0x34cd88){return _0x34cd88&&_0x34cd88[_0x1c61('0x5')]?_0x34cd88:{'default':_0x34cd88};}function _0x12e7d5(_0x34cd88){var _0x2f1844=_0x34cd88[_0x1c61('0x1c9')],_0x595464=_0x34cd88[_0x1c61('0x2f9')],_0x595464=void 0x0===_0x595464?'#40ffff':_0x595464,_0x2dc483=_0x34cd88['isSpread'],_0x494be2=_0x34cd88[_0x1c61('0x226')],_0x34cd88=_0x34cd88[_0x1c61('0x32f')],_0x34cd88=void 0x0===_0x34cd88?0x1:_0x34cd88;(0x0,_0x581647[_0x1c61('0x8')])(this,_0x12e7d5),this['object3d']=new THREE[(_0x1c61('0x331'))](),this['colorStr']=_0x595464,this[_0x1c61('0x3c5')]=_0x2dc483,this['material']=null,this[_0x1c61('0x3c6')]=null,this['radius']=_0x494be2||0xc8,this['shader']=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x32f')]=_0x34cd88,this[_0x1c61('0x2f8')](_0x595464,_0x2f1844);}(0x0,_0x2dc483(_0x595464(0x1))['default'])(_0x12e7d5,[{'key':_0x1c61('0x2f8'),'value':function(_0x34cd88,_0x2f1844){var _0x595464=this;this[_0x1c61('0x41')]=new THREE['MeshBasicMaterial']({'transparent':!0x0}),this['material'][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x34cd88),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x34cd88){_0x34cd88[_0x1c61('0x16a')]['iTime']={'value':0x0},_0x34cd88[_0x1c61('0x16a')][_0x1c61('0x1f4')]={'value':_0x595464[_0x1c61('0x3c5')]?-0x1:0x1},_0x34cd88['uniforms'][_0x1c61('0x3c8')]={'value':_0x2f1844},_0x34cd88[_0x1c61('0x56')]=_0x34cd88[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x3cb')),_0x34cd88[_0x1c61('0x56')]=_0x34cd88['vertexShader'][_0x1c61('0x3c9')]('#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x34cd88[_0x1c61('0x57')]=_0x34cd88[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x3cd')),_0x34cd88['fragmentShader']=_0x34cd88[_0x1c61('0x57')][_0x1c61('0x3c9')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x3ce')),_0x595464[_0x1c61('0x3cf')]=_0x34cd88;};}},{'key':'create','value':function(){var _0x34cd88=new THREE[(_0x1c61('0x3d0'))](this['radius'],this[_0x1c61('0x226')]),_0x34cd88=new THREE[(_0x1c61('0x30f'))](_0x34cd88,this['material']);return _0x34cd88['rotation']['x']=0.5*-Math['PI'],_0x34cd88[_0x1c61('0x311')]=0x45,this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x34cd88),_0x34cd88;}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=0.01*this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')]['uniforms']['iTime'][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}}]),_0x2f1844[_0x1c61('0x8')]=_0x12e7d5;},function(_0x43ffd8,_0x3e971b,_0x35ff53){'use strict';Object[_0x1c61('0x2')](_0x3e971b,_0x1c61('0x5'),{'value':!0x0});var _0x24cfee=_0x4478cb(_0x35ff53(0x0));function _0x4478cb(_0x43ffd8){return _0x43ffd8&&_0x43ffd8[_0x1c61('0x5')]?_0x43ffd8:{'default':_0x43ffd8};}function _0x1ca1b8(_0x43ffd8){var _0x3e971b=_0x43ffd8[_0x1c61('0x2f9')],_0x3e971b=void 0x0===_0x3e971b?_0x1c61('0x3d2'):_0x3e971b,_0x35ff53=_0x43ffd8[_0x1c61('0x226')],_0x35ff53=void 0x0===_0x35ff53?0x3e8:_0x35ff53,_0x43ffd8=_0x43ffd8[_0x1c61('0x32f')],_0x43ffd8=void 0x0===_0x43ffd8?0.02:_0x43ffd8;(0x0,_0x24cfee[_0x1c61('0x8')])(this,_0x1ca1b8),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x2f9')]=_0x3e971b,this[_0x1c61('0x2f9')]?(this[_0x1c61('0x41')]=null,this['shaderMesh']=null,this['radius']=_0x35ff53||0xc8,this['shader']=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x2f8')](_0x3e971b),this[_0x1c61('0x3d3')]=_0x43ffd8):console[_0x1c61('0x200')]('must\x20setting\x20postion\x20and\x20color');}(0x0,_0x4478cb(_0x35ff53(0x1))[_0x1c61('0x8')])(_0x1ca1b8,[{'key':_0x1c61('0x2f8'),'value':function(_0x43ffd8){var _0x3e971b=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x43ffd8),_0x35ff53=this;this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'transparent':!0x0,'depthWrite':!0x1,'color':0x0}),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x43ffd8){_0x43ffd8[_0x1c61('0x16a')]['time']={'value':0x0},_0x43ffd8[_0x1c61('0x16a')][_0x1c61('0x228')]={'value':_0x3e971b},_0x43ffd8['vertexShader']=_0x43ffd8[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<uv_pars_vertex>',_0x1c61('0x3d5')),_0x43ffd8[_0x1c61('0x56')]=_0x43ffd8[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x3d7')),_0x43ffd8[_0x1c61('0x57')]=_0x43ffd8[_0x1c61('0x57')]['replace'](_0x1c61('0x3cc'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SMOOTH(r,R)\x20(1.0-smoothstep(R-1.0,R+1.0,\x20r))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bip2(vec2\x20uv,\x20vec2\x20center)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20length(uv\x20-\x20center);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20R\x20=\x208.0+mod(87.0*time,\x2080.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(0.5-0.5*cos(30.0*time))\x20*\x20SMOOTH(r,5.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20SMOOTH(6.0,r)-SMOOTH(8.0,r)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20smoothstep(max(8.0,R-20.0),R,r)-SMOOTH(R,r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x43ffd8[_0x1c61('0x57')]=_0x43ffd8[_0x1c61('0x57')][_0x1c61('0x3c9')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x3d8')),_0x35ff53[_0x1c61('0x3cf')]=_0x43ffd8;};}},{'key':'create','value':function(){var _0x43ffd8=new THREE[(_0x1c61('0x3d0'))](this[_0x1c61('0x226')],this[_0x1c61('0x226')]),_0x43ffd8=new THREE[(_0x1c61('0x30f'))](_0x43ffd8,this['material']);return _0x43ffd8[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x43ffd8),_0x43ffd8;}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=this['deltaSpeed'],this['shader']['uniforms'][_0x1c61('0x2cf')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}}]),_0x3e971b[_0x1c61('0x8')]=_0x1ca1b8;},function(_0x596809,_0x4282a7,_0x534c40){'use strict';Object['defineProperty'](_0x4282a7,_0x1c61('0x5'),{'value':!0x0});var _0x17dbd0=_0x450d7d(_0x534c40(0x0));function _0x450d7d(_0x596809){return _0x596809&&_0x596809['__esModule']?_0x596809:{'default':_0x596809};}function _0x498f2e(_0x596809){_0x596809=_0x596809[_0x1c61('0x2f9')],_0x596809=void 0x0===_0x596809?_0x1c61('0x3d9'):_0x596809;(0x0,_0x17dbd0[_0x1c61('0x8')])(this,_0x498f2e),this['object3d']=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=0x0,this['createMaterial'](_0x596809);}(0x0,_0x450d7d(_0x534c40(0x1))['default'])(_0x498f2e,[{'key':_0x1c61('0x2f8'),'value':function(_0x596809,_0x4282a7,_0x534c40,_0x17dbd0){var _0x450d7d=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x596809),_0x498f2e=this;this['material']=new THREE[(_0x1c61('0x3d4'))]({'transparent':!0x0,'depthWrite':!0x1,'opacity':0x0,'side':THREE[_0x1c61('0x302')]}),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x596809){_0x596809['uniforms'][_0x1c61('0x3da')]={'value':0x0},_0x596809[_0x1c61('0x16a')]['uvRadius']={'value':_0x4282a7||0.38},_0x596809[_0x1c61('0x16a')][_0x1c61('0x32e')]={'value':_0x534c40||0.01},_0x596809[_0x1c61('0x16a')][_0x1c61('0x3db')]={'value':_0x17dbd0||0x2},_0x596809[_0x1c61('0x16a')][_0x1c61('0x228')]={'value':_0x450d7d},_0x596809['vertexShader']=_0x596809[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x596809[_0x1c61('0x56')]=_0x596809['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x3dc')),_0x596809[_0x1c61('0x57')]=_0x596809[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20uvRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20segment;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20N_PI\x203.14\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20TWO_PI\x206.28\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20TIMESCALE\x201.0\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix(in\x20float\x20angle)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat2(-cos(angle),\x20sin(angle),\x20-sin(angle),\x20-cos(angle));\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20circle(in\x20vec2\x20uv,\x20in\x20float\x20radius,\x20in\x20float\x20width)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20smoothstep(width,\x20width\x20*\x200.5,\x20abs(radius\x20-\x20length(uv)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dashedCircle(vec2\x20uv,\x20in\x20float\x20radius,\x20in\x20float\x20width,\x20in\x20float\x20density)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20atan(uv.y,\x20uv.x)\x20+\x20N_PI;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20angle\x20/=\x20TWO_PI;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20angle\x20=\x20fract(angle\x20*\x20density);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20circ\x20=\x20circle(uv,\x20radius,\x20width);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20circ\x20*\x20smoothstep(0.1,\x200.11,\x20abs(angle\x20-\x200.5));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x596809[_0x1c61('0x57')]=_0x596809[_0x1c61('0x57')]['replace'](_0x1c61('0x3dd'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time\x20=\x20iTime\x20*\x20TIMESCALE;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotationUv\x20=\x20vec2(x,\x20y)\x20*\x20rotationMatrix(time);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dashCir1\x20=\x20dashedCircle(rotationUv,\x20uvRadius,\x20lineWidth,\x20segment);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cv\x20=\x20dashCir1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(cv\x20>\x200.5)\x20resultColor.a\x20=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20cv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20color;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x498f2e[_0x1c61('0x3cf')]=_0x596809;};}},{'key':_0x1c61('0x7'),'value':function(_0x596809){var _0x596809=_0x596809[_0x1c61('0x226')],_0x4282a7=new THREE[(_0x1c61('0x1b8'))](),_0x534c40=new THREE['Mesh'](new THREE[(_0x1c61('0x3de'))](_0x596809,0x20),this['material']),_0x17dbd0=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3de'))](0.7*_0x596809,0x20),this['material']),_0x596809=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3de'))](0.4*_0x596809,0x20),this[_0x1c61('0x41')]);return _0x534c40[_0x1c61('0x218')]['set'](_0x4282a7['x'],_0x4282a7['y'],_0x4282a7['z']),_0x534c40[_0x1c61('0x1f6')][_0x1c61('0x1b')](0.5*-Math['PI'],0x0,0.5*Math['PI']),_0x17dbd0[_0x1c61('0x218')][_0x1c61('0x1b')](_0x4282a7['x'],_0x4282a7['y']+0xa,_0x4282a7['z']),_0x17dbd0[_0x1c61('0x1f6')]['set'](0.5*-Math['PI'],0x0,Math['PI']),_0x596809[_0x1c61('0x218')][_0x1c61('0x1b')](_0x4282a7['x'],_0x4282a7['y']+0x14,_0x4282a7['z']),_0x596809[_0x1c61('0x1f6')][_0x1c61('0x1b')](0.5*Math['PI'],0x0,1.5*Math['PI']),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x534c40),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x17dbd0),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x596809),this[_0x1c61('0x312')];}},{'key':'render','value':function(_0x596809){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x596809,this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this['count']);}}]),_0x4282a7[_0x1c61('0x8')]=_0x498f2e;},function(_0x10444f,_0xa30cfb,_0x42e10f){'use strict';Object['defineProperty'](_0xa30cfb,_0x1c61('0x5'),{'value':!0x0});var _0x12e1af=_0x4decda(_0x42e10f(0x0));function _0x4decda(_0x10444f){return _0x10444f&&_0x10444f['__esModule']?_0x10444f:{'default':_0x10444f};}function _0x56f9eb(_0x10444f){var _0xa30cfb=_0x10444f[_0x1c61('0x226')],_0xa30cfb=void 0x0===_0xa30cfb?0x32:_0xa30cfb,_0x10444f=_0x10444f[_0x1c61('0x3df')],_0x10444f=void 0x0!==_0x10444f&&_0x10444f;(0x0,_0x12e1af[_0x1c61('0x8')])(this,_0x56f9eb),this['object3d']=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3e0')]=null,this['shader']=null,this[_0x1c61('0x3e1')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3e2')]=!0x1,this[_0x1c61('0x3df')]=_0x10444f,this[_0x1c61('0x3e3')]=null,this[_0x1c61('0x3e4')]=new THREE['Vector3'](),this[_0x1c61('0x3e5')]=0xa,this[_0x1c61('0x3e6')]=0x0,this['upCount']=0x0,this[_0x1c61('0x3e7')]=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x3e8')]=null,this[_0x1c61('0x3e9')]=null,this[_0x1c61('0x3ea')]=null,this['cone2']=null,this[_0x1c61('0x226')]=_0xa30cfb;}(0x0,_0x4decda(_0x42e10f(0x1))[_0x1c61('0x8')])(_0x56f9eb,[{'key':'create','value':function(_0x10444f){var _0xa30cfb=_0x10444f[_0x1c61('0x1c9')],_0x42e10f=_0x10444f[_0x1c61('0x3eb')],_0x10444f=_0x10444f['colorStr'],_0x10444f=void 0x0===_0x10444f?_0x1c61('0x3ec'):_0x10444f,_0x12e1af=(_0xa30cfb[_0x1c61('0x3ed')]=THREE['LinearFilter'],_0xa30cfb['minFilter']=THREE[_0x1c61('0x3ee')],_0xa30cfb['wrapS']=THREE['RepeatWrapping'],_0xa30cfb[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0xa30cfb[_0x1c61('0x2f2')]['y']=-0.15,_0x42e10f[_0x1c61('0x3ed')]=THREE[_0x1c61('0x3ef')],_0x42e10f[_0x1c61('0x3f0')]=THREE['LinearMipMapLinearFilter'],_0x42e10f[_0x1c61('0x3f1')]=THREE['RepeatWrapping'],_0x42e10f['wrapT']=THREE[_0x1c61('0x333')],_0x42e10f[_0x1c61('0x2f0')]['x']=0xa,_0x42e10f[_0x1c61('0x2f2')]['y']=0.05,new THREE[(_0x1c61('0x3f2'))](0x1,0x20,0x20)),_0x10444f=(this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x1c61('0x1d9')],'depthWrite':!0x1}),_0x10444f&&(this[_0x1c61('0x41')]['color']=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x10444f)),this[_0x1c61('0x41')][_0x1c61('0x36c')]=_0xa30cfb,new THREE['Mesh'](_0x12e1af,this[_0x1c61('0x41')]));return _0x10444f['scale'][_0x1c61('0x1b')](this[_0x1c61('0x226')],this[_0x1c61('0x226')],this[_0x1c61('0x226')]),this[_0x1c61('0x3e1')]=_0x10444f,this[_0x1c61('0x3e1')][_0x1c61('0x32c')]=!0x1,this[_0x1c61('0x312')]['add'](_0x10444f),this[_0x1c61('0x3df')]&&(this['addCones'](this[_0x1c61('0x3e7')],_0x42e10f),this['object3d']['add'](this[_0x1c61('0x3e7')])),this[_0x1c61('0x312')];}},{'key':_0x1c61('0x3f3'),'value':function(_0x10444f,_0xa30cfb){var _0x42e10f=new THREE['CylinderBufferGeometry'](0x0,1.5*this[_0x1c61('0x226')],2.7*this[_0x1c61('0x226')],0x20,0x1,!0x0);_0x42e10f[_0x1c61('0x3f4')](Math['PI']/0x2),this['coneMaterial']=new THREE[(_0x1c61('0x3d4'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x1c61('0x1d9')]}),this[_0x1c61('0x3e0')]['map']=_0xa30cfb,this[_0x1c61('0x3e8')]=new THREE[(_0x1c61('0x30f'))](_0x42e10f,this['coneMaterial']),this[_0x1c61('0x3e9')]=this[_0x1c61('0x3e8')][_0x1c61('0x1b1')](),this[_0x1c61('0x3ea')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x3ea')][_0x1c61('0x1c4')](this['coneMesh1']),this[_0x1c61('0x3f5')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x3f5')][_0x1c61('0x1c4')](this[_0x1c61('0x3e9')]),this[_0x1c61('0x3ea')]['position'][_0x1c61('0x1b')](0.688*this['radius'],1.2*-this[_0x1c61('0x226')],0x0),this[_0x1c61('0x3f5')][_0x1c61('0x218')][_0x1c61('0x1b')](0.688*-this[_0x1c61('0x226')],1.2*-this['radius'],0x0),this[_0x1c61('0x3ea')]['lookAt'](this[_0x1c61('0x3e4')]),this[_0x1c61('0x3f5')][_0x1c61('0x3f6')](this[_0x1c61('0x3e4')]),_0x10444f[_0x1c61('0x1c4')](this[_0x1c61('0x3ea')]),_0x10444f['add'](this[_0x1c61('0x3f5')]);}},{'key':_0x1c61('0x3f7'),'value':function(){var _0x10444f=this;setInterval(function(){_0x10444f[_0x1c61('0x3e2')]=!0x0,_0x10444f['sphere'][_0x1c61('0x32c')]=!0x0;},0xbb8);}},{'key':_0x1c61('0x3f8'),'value':function(){new TWEEN['Tween'](this[_0x1c61('0x3e4')])['to'](targetPos,time)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x3f9')]['None'])['onStart'](function(){callback&&callback();})[_0x1c61('0x2d9')]();}},{'key':'render','value':function(){var _0x10444f,_0xa30cfb;this[_0x1c61('0x3e1')]&&this[_0x1c61('0x3e2')]&&(this[_0x1c61('0x104')]+=0.01,0x1<this['count']&&(this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3e2')]=!0x1),_0x10444f=0.5*(0x1-Math[_0x1c61('0x59')](this[_0x1c61('0x104')]*Math['PI']*0x2)),_0xa30cfb=this[_0x1c61('0x226')]*(0x1-Math[_0x1c61('0x59')](this['count']*Math['PI']))+0.01,this[_0x1c61('0x3e1')][_0x1c61('0x1de')][_0x1c61('0x1b')](_0xa30cfb,_0xa30cfb,_0xa30cfb),this[_0x1c61('0x41')][_0x1c61('0x208')]=_0x10444f),this[_0x1c61('0x312')]&&this[_0x1c61('0x3df')]&&(this[_0x1c61('0x3e7')]['rotation']['y']+=0.01,this[_0x1c61('0x3e8')][_0x1c61('0x1f6')]['z']+=0.04,this[_0x1c61('0x3e9')][_0x1c61('0x1f6')]['z']+=0.04);}},{'key':_0x1c61('0x32c'),'set':function(_0x10444f){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x10444f;}}]),_0xa30cfb[_0x1c61('0x8')]=_0x56f9eb;},function(_0x27d886,_0x15081b,_0x3ca5dc){'use strict';Object[_0x1c61('0x2')](_0x15081b,_0x1c61('0x5'),{'value':!0x0});var _0x15b35b=_0x2167eb(_0x3ca5dc(0x4)),_0x32e0fe=_0x2167eb(_0x3ca5dc(0x0));function _0x2167eb(_0x27d886){return _0x27d886&&_0x27d886[_0x1c61('0x5')]?_0x27d886:{'default':_0x27d886};}function _0x3f534c(_0x27d886){var _0x15081b=_0x27d886['camera'],_0x3ca5dc=_0x27d886[_0x1c61('0x2bc')],_0x2167eb=_0x27d886[_0x1c61('0x2f9')],_0x2167eb=void 0x0===_0x2167eb?_0x1c61('0x32d'):_0x2167eb,_0x426f1a=_0x27d886[_0x1c61('0x1c9')],_0x389d2c=_0x27d886[_0x1c61('0x3fa')],_0x27d886=_0x27d886[_0x1c61('0x32f')],_0x27d886=void 0x0===_0x27d886?0.005:_0x27d886;(0x0,_0x32e0fe[_0x1c61('0x8')])(this,_0x3f534c),this[_0x1c61('0x301')]=_0x15081b,this[_0x1c61('0x2bc')]=_0x3ca5dc,this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x3fb')]=new THREE['Vector3'](),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this['count']=0x0,this[_0x1c61('0x3fc')]=0x0,this[_0x1c61('0x32f')]=_0x27d886,this[_0x1c61('0x3fd')]=!0x1,this['isNeedUpdateLookAt']=!0x1,this[_0x1c61('0x3fe')]=[],this[_0x1c61('0x2f8')]({'colorStr':_0x2167eb,'texture':_0x426f1a,'alphaTex':_0x389d2c}),this[_0x1c61('0x3ff')]=0x0;}(0x0,_0x2167eb(_0x3ca5dc(0x1))['default'])(_0x3f534c,[{'key':'createMaterial','value':function(_0x27d886){var _0x15081b=_0x27d886[_0x1c61('0x2f9')],_0x3ca5dc=_0x27d886['texture'],_0x2167eb=_0x27d886[_0x1c61('0x3fa')],_0x36c7a9=(_0x3ca5dc[_0x1c61('0x3f1')]=THREE['RepeatWrapping'],_0x3ca5dc['wrapT']=THREE[_0x1c61('0x333')],this[_0x1c61('0x41')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE[_0x1c61('0x302')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1c61('0x1d9')]}),_0x15081b&&(this[_0x1c61('0x41')]['color']=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x15081b)),this);this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x27d886){_0x27d886['uniforms'][_0x1c61('0x3da')]={'value':0x1},_0x27d886[_0x1c61('0x16a')][_0x1c61('0x400')]={'value':_0x36c7a9[_0x1c61('0x3ff')]},_0x27d886[_0x1c61('0x16a')]['numTex']={'value':_0x3ca5dc},_0x27d886['uniforms']['alphaTex']={'value':_0x2167eb},_0x27d886[_0x1c61('0x56')]=_0x27d886[_0x1c61('0x56')]['replace']('#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x27d886[_0x1c61('0x56')]=_0x27d886[_0x1c61('0x56')]['replace']('#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x27d886[_0x1c61('0x56')]=_0x27d886['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x401'),_0x1c61('0x402')),_0x27d886[_0x1c61('0x57')]=_0x27d886[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x403')),_0x27d886['fragmentShader']=_0x27d886[_0x1c61('0x57')]['replace'](_0x1c61('0x3dd'),_0x1c61('0x404')),_0x36c7a9[_0x1c61('0x3cf')]=_0x27d886;};}},{'key':_0x1c61('0x7'),'value':function(_0x27d886){for(var _0x15081b=_0x27d886[_0x1c61('0x328')],_0x15081b=void 0x0===_0x15081b?0xa:_0x15081b,_0x3ca5dc=_0x27d886[_0x1c61('0x2f7')],_0x3ca5dc=void 0x0===_0x3ca5dc?0x50:_0x3ca5dc,_0x27d886=_0x27d886[_0x1c61('0x3ff')],_0x27d886=(this['extentRadius']=void 0x0===_0x27d886?0x64:_0x27d886,new THREE[(_0x1c61('0x3d0'))](_0x15081b,_0x3ca5dc)),_0x2167eb=_0x27d886[_0x1c61('0x405')]('position')[_0x1c61('0x104')],_0x1a51f1=[],_0x527bba=THREE[_0x1c61('0x15')][_0x1c61('0x406')](0.08,0.15),_0x15b35b=0x0;_0x15b35b<_0x2167eb;_0x15b35b++)_0x1a51f1[_0x1c61('0x6f')](_0x527bba);_0x27d886[_0x1c61('0x31c')](_0x1c61('0x32f'),new THREE[(_0x1c61('0x407'))](_0x1a51f1,0x1));_0x15081b=new THREE[(_0x1c61('0x30f'))](_0x27d886,this['material']);return _0x15081b['renderOrder']=0x47,_0x15081b[_0x1c61('0x408')]=!0x1,this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x15081b),this[_0x1c61('0x3fe')][_0x1c61('0x6f')](_0x15081b),_0x15081b;}},{'key':_0x1c61('0x409'),'value':function(_0x27d886){for(var _0x15081b=_0x27d886['extentRadius'],_0x3ca5dc=void 0x0===_0x15081b?0x64:_0x15081b,_0x15081b=_0x27d886[_0x1c61('0x32e')],_0x2167eb=void 0x0===_0x15081b?0x1:_0x15081b,_0x15081b=_0x27d886[_0x1c61('0x40a')],_0x56e29c=void 0x0===_0x15081b?0x8:_0x15081b,_0x15081b=_0x27d886[_0x1c61('0x40b')],_0x3d6b0c=void 0x0===_0x15081b?0x32:_0x15081b,_0x15b35b=0x0;_0x15b35b<_0x3d6b0c;_0x15b35b++){var _0x32e0fe=this['create']({'width':_0x2167eb,'height':_0x56e29c,'extentRadius':_0x3ca5dc});_0x32e0fe[_0x1c61('0x408')]=!0x1,_0x32e0fe['position'][_0x1c61('0x1b')](-Math['random']()*_0x3ca5dc+_0x3ca5dc/0x2,-Math[_0x1c61('0x1b4')]()*_0x3ca5dc,-Math[_0x1c61('0x1b4')]()*_0x3ca5dc+_0x3ca5dc/0x2);}}},{'key':'setUpdateListen','value':function(){this[_0x1c61('0x3fd')]=!0x0;var _0x15081b=this;this[_0x1c61('0x40c')](),this[_0x1c61('0x2bc')][_0x1c61('0x2aa')]('start',function(_0x27d886){_0x15081b[_0x1c61('0x40d')]=!0x0;}),this['controls'][_0x1c61('0x2aa')](_0x1c61('0x40e'),function(_0x27d886){_0x15081b[_0x1c61('0x40d')]=!0x1;});}},{'key':_0x1c61('0x40c'),'value':function(){if(this[_0x1c61('0x301')]){var _0x27d886=!0x0,_0x15081b=!0x1,_0x3ca5dc=void 0x0;try{for(var _0x2167eb,_0x318e63=(0x0,_0x15b35b[_0x1c61('0x8')])(this['list']);!(_0x27d886=(_0x2167eb=_0x318e63[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x27d886=!0x0){var _0x13db0e=_0x2167eb[_0x1c61('0x1c')];this[_0x1c61('0x3fb')][_0x1c61('0x1b')](this[_0x1c61('0x301')]['position']['x'],_0x13db0e[_0x1c61('0x218')]['y'],this[_0x1c61('0x301')][_0x1c61('0x218')]['z']),_0x13db0e[_0x1c61('0x3f6')](this[_0x1c61('0x3fb')]);}}catch(_0x254eb2){_0x15081b=!0x0,_0x3ca5dc=_0x254eb2;}finally{try{!_0x27d886&&_0x318e63[_0x1c61('0x99')]&&_0x318e63[_0x1c61('0x99')]();}finally{if(_0x15081b)throw _0x3ca5dc;}}}}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x3fd')]&&(this[_0x1c61('0x40d')]&&this[_0x1c61('0x40c')](),this[_0x1c61('0x104')]+=this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]));}},{'key':_0x1c61('0x32c'),'set':function(_0x27d886){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x27d886;},'get':function(){return this[_0x1c61('0x312')]['visible'];}}]),_0x15081b[_0x1c61('0x8')]=_0x3f534c;},function(_0x3f4681,_0x5eca2c,_0x321671){'use strict';Object['defineProperty'](_0x5eca2c,_0x1c61('0x5'),{'value':!0x0});var _0x3ae188=_0xa13148(_0x321671(0x0));function _0xa13148(_0x3f4681){return _0x3f4681&&_0x3f4681[_0x1c61('0x5')]?_0x3f4681:{'default':_0x3f4681};}function _0x151f65(_0x3f4681){var _0x5eca2c=_0x3f4681[_0x1c61('0x1c9')],_0x321671=_0x3f4681[_0x1c61('0x40f')],_0x3f4681=_0x3f4681['colorStr'];(0x0,_0x3ae188[_0x1c61('0x8')])(this,_0x151f65),this[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x3f4681),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=0x0,this['createMaterial'](_0x321671,_0x5eca2c);}(0x0,_0xa13148(_0x321671(0x1))[_0x1c61('0x8')])(_0x151f65,[{'key':'createMaterial','value':function(_0x5eca2c,_0x321671){var _0x3ae188=this;return this[_0x1c61('0x41')]=new THREE['SpriteMaterial']({'transparent':!0x0}),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x3f4681){_0x3f4681[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x3f4681[_0x1c61('0x16a')]['activeColor']={'value':_0x3ae188[_0x1c61('0x228')]},_0x3f4681[_0x1c61('0x16a')][_0x1c61('0x40f')]={'value':_0x5eca2c},_0x321671&&(_0x3f4681[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x321671}),_0x3f4681[_0x1c61('0x56')]=_0x3f4681[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x3cb')),_0x3f4681[_0x1c61('0x56')]=_0x3f4681[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x410'),_0x1c61('0x411')),_0x3f4681['fragmentShader']=_0x3f4681[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x321671?'#define\x20IS_TEXTURE':'')+_0x1c61('0x412')),_0x3f4681[_0x1c61('0x57')]=_0x3f4681[_0x1c61('0x57')]['replace'](_0x1c61('0x3dd'),_0x1c61('0x413')),_0x3ae188[_0x1c61('0x3cf')]=_0x3f4681;},this[_0x1c61('0x41')];}},{'key':_0x1c61('0x414'),'value':function(_0x3f4681){var _0x5eca2c=_0x3f4681[_0x1c61('0x218')],_0x3f4681=_0x3f4681[_0x1c61('0xee')],_0x321671=new THREE[(_0x1c61('0x415'))](this['material']);return this[_0x1c61('0x41')][_0x1c61('0x2ff')]=!0x1,_0x321671[_0x1c61('0x1de')][_0x1c61('0x1b')](_0x3f4681,_0x3f4681,_0x3f4681),_0x321671[_0x1c61('0x218')]['set'](_0x5eca2c['x'],_0x5eca2c['y'],_0x5eca2c['z']),_0x321671;}},{'key':'render','value':function(_0x3f4681){this['shader']&&(this[_0x1c61('0x104')]+=_0x3f4681,this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')]['value']=this[_0x1c61('0x104')]);}}]),_0x5eca2c[_0x1c61('0x8')]=_0x151f65;},function(_0x4d46b6,_0x1fa099,_0x4b7bf5){'use strict';Object[_0x1c61('0x2')](_0x1fa099,_0x1c61('0x5'),{'value':!0x0});var _0x1d5297=_0x2f591a(_0x4b7bf5(0x0)),_0x3b838f=_0x2f591a(_0x4b7bf5(0x1)),_0x3ebcff=_0x2f591a(_0x4b7bf5(0x56));function _0x2f591a(_0x4d46b6){return _0x4d46b6&&_0x4d46b6['__esModule']?_0x4d46b6:{'default':_0x4d46b6};}function _0x5c63be(_0x4d46b6){_0x4d46b6=_0x4d46b6[_0x1c61('0x1de')],_0x4d46b6=void 0x0===_0x4d46b6?0xa:_0x4d46b6;(0x0,_0x1d5297['default'])(this,_0x5c63be),this[_0x1c61('0x416')]=!0x1,this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x1de')]=_0x4d46b6,this[_0x1c61('0x417')]=null,this[_0x1c61('0x418')]=null,this[_0x1c61('0x419')]=null,this[_0x1c61('0x41a')]=null,this[_0x1c61('0x41b')]=null,this[_0x1c61('0x41c')]=!0x0;}(0x0,_0x3b838f[_0x1c61('0x8')])(_0x5c63be,[{'key':_0x1c61('0x7'),'value':function(_0x4d46b6){var _0x1fa099=_0x4d46b6[_0x1c61('0x41d')],_0x4b7bf5=_0x4d46b6[_0x1c61('0x41e')],_0x1d5297=_0x4d46b6['isOpenScreenEffect'],_0x3b838f=_0x4d46b6[_0x1c61('0x41f')],_0x3b838f=void 0x0===_0x3b838f?{'x':0x1,'y':0x1}:_0x3b838f,_0x4d46b6=_0x4d46b6[_0x1c61('0x1dc')],_0x1d5297=_0x1d5297?0x8:0x2;this[_0x1c61('0x41b')]=new THREE['Group'](),this['fireSmokeParticle']=new _0x3ebcff[(_0x1c61('0x8'))][(_0x1c61('0x1c6'))]({'texture':{'value':_0x4b7bf5},'blending':THREE[_0x1c61('0x420')],'depthWrite':!0x1,'depthTest':_0x4d46b6,'maxParticleCount':0x14*_0x1d5297*(0.5*(_0x3b838f['x']+_0x3b838f['y']))}),this[_0x1c61('0x421')]=new _0x3ebcff[(_0x1c61('0x8'))][(_0x1c61('0x1fe'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](_0x3b838f['x'],0x1,_0x3b838f['y'])},'acceleration':{'value':new THREE[(_0x1c61('0x1b8'))](0.2,0x0,0.2),'spread':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x2,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x1c61('0x1ba'))](0xad926c),new THREE[(_0x1c61('0x1ba'))](0x605f5c),new THREE['Color'](0xa9a9a9)]},'size':{'value':[0x5*this[_0x1c61('0x1de')],0xc*this[_0x1c61('0x1de')],0xa*this[_0x1c61('0x1de')]]},'particleCount':0x14*_0x1d5297*(0.5*(_0x3b838f['x']+_0x3b838f['y']))}),this['fireSmokeParticle']['material']['uniforms'][_0x1c61('0x422')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1ba'))](),this['fireParticle']=new _0x3ebcff[(_0x1c61('0x8'))][(_0x1c61('0x1c6'))]({'texture':{'value':_0x1fa099},'blending':THREE[_0x1c61('0x1d9')],'depthWrite':!0x1,'depthTest':_0x4d46b6,'maxParticleCount':0xf*_0x1d5297*(0.5*(_0x3b838f['x']+_0x3b838f['y']))}),this[_0x1c61('0x423')]=new _0x3ebcff[(_0x1c61('0x8'))]['Emitter']({'maxAge':{'value':0x1},'position':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,0x0),'spread':new THREE['Vector3'](_0x3b838f['x'],0x1,_0x3b838f['y'])},'acceleration':{'value':new THREE[(_0x1c61('0x1b8'))](0.1,0.5,0.1),'spread':new THREE[(_0x1c61('0x1b8'))](0x0,0.1,0x0)},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x1,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x1c61('0x1ba'))](0xffa000),new THREE['Color'](0xff7c00),new THREE[(_0x1c61('0x1ba'))](0xff4100)]},'size':{'value':[0x3*this[_0x1c61('0x1de')],0x7*this[_0x1c61('0x1de')],0x5*this[_0x1c61('0x1de')]]},'wiggle':{'value':[0.5]},'particleCount':0xf*_0x1d5297*(0.5*(_0x3b838f['x']+_0x3b838f['y']))}),this[_0x1c61('0x419')][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x422')][_0x1c61('0x1c')]=new THREE['Color'](),this[_0x1c61('0x418')][_0x1c61('0x1fd')](this[_0x1c61('0x421')]),this['fireParticle']['addEmitter'](this['fireEmitter']),this[_0x1c61('0x418')][_0x1c61('0x1f0')][_0x1c61('0x1de')][_0x1c61('0x1b')](this[_0x1c61('0x1de')],this[_0x1c61('0x1de')],this[_0x1c61('0x1de')]),this[_0x1c61('0x419')][_0x1c61('0x1f0')][_0x1c61('0x1de')][_0x1c61('0x1b')](this[_0x1c61('0x1de')],this[_0x1c61('0x1de')],this['scale']),this[_0x1c61('0x41b')]['add'](this['fireSmokeParticle'][_0x1c61('0x1f0')]),this[_0x1c61('0x41b')][_0x1c61('0x1c4')](this[_0x1c61('0x419')][_0x1c61('0x1f0')]),this[_0x1c61('0x41b')][_0x1c61('0x311')]=0x5a,this[_0x1c61('0x312')]['add'](this[_0x1c61('0x41b')]),this[_0x1c61('0x416')]=!0x0;}},{'key':'render','value':function(_0x4d46b6){this['enabled']&&(this[_0x1c61('0x418')]&&this[_0x1c61('0x418')][_0x1c61('0x221')](_0x4d46b6),this[_0x1c61('0x419')]&&this[_0x1c61('0x419')][_0x1c61('0x221')](_0x4d46b6));}},{'key':_0x1c61('0x424'),'value':function(_0x4d46b6){(0x64<_0x4d46b6||_0x4d46b6<0x0)&&(_0x4d46b6=0x64);_0x4d46b6=Math[_0x1c61('0x1c0')](0x64*(0x1-_0x4d46b6/0x64))/0x64;this[_0x1c61('0x423')][_0x1c61('0x237')]=_0x4d46b6,this[_0x1c61('0x421')][_0x1c61('0x237')]=_0x4d46b6;}},{'key':_0x1c61('0x32c'),'set':function(_0x4d46b6){this[_0x1c61('0x41c')]=_0x4d46b6,this[_0x1c61('0x41b')][_0x1c61('0x32c')]=_0x4d46b6;}}]),_0x1fa099[_0x1c61('0x8')]=_0x5c63be;},function(_0x50f617,_0xcbc381,_0x1b18c1){'use strict';Object[_0x1c61('0x2')](_0xcbc381,_0x1c61('0x5'),{'value':!0x0});var _0x520e74=_0x33ffaf(_0x1b18c1(0x0)),_0x43683a=_0x33ffaf(_0x1b18c1(0x1)),_0x454b05=_0x33ffaf(_0x1b18c1(0x56));function _0x33ffaf(_0x50f617){return _0x50f617&&_0x50f617[_0x1c61('0x5')]?_0x50f617:{'default':_0x50f617};}function _0x175f09(_0x50f617){_0x50f617=_0x50f617['scale'],_0x50f617=void 0x0===_0x50f617?0x1:_0x50f617;(0x0,_0x520e74[_0x1c61('0x8')])(this,_0x175f09),this[_0x1c61('0x416')]=!0x1,this[_0x1c61('0x312')]=new THREE['Object3D'](),this['scale']=_0x50f617,this[_0x1c61('0x417')]=null,this[_0x1c61('0x425')]=null,this[_0x1c61('0x41a')]=null,this[_0x1c61('0x41b')]=null,this['_visible']=!0x0;}(0x0,_0x43683a[_0x1c61('0x8')])(_0x175f09,[{'key':_0x1c61('0x7'),'value':function(_0x50f617){var _0xcbc381=_0x50f617[_0x1c61('0x1c9')],_0x1b18c1=_0x50f617['spreadFactor'],_0x1b18c1=void 0x0===_0x1b18c1?0x32:_0x1b18c1,_0x520e74=_0x50f617[_0x1c61('0x426')],_0x520e74=void 0x0===_0x520e74?0x12c:_0x520e74,_0x43683a=_0x50f617[_0x1c61('0x427')],_0x43683a=void 0x0===_0x43683a?0x0:_0x43683a,_0x33ffaf=_0x50f617['pitchAngle'],_0x33ffaf=void 0x0===_0x33ffaf?0x0:_0x33ffaf,_0x175f09=_0x50f617[_0x1c61('0x428')],_0x175f09=void 0x0!==_0x175f09&&_0x175f09,_0x50f617=_0x50f617['isOpenScreenEffect']?0x4:0x1;this[_0x1c61('0x41b')]=new THREE[(_0x1c61('0x1c6'))](),this['particleGroup']=new _0x454b05[(_0x1c61('0x8'))][(_0x1c61('0x1c6'))]({'texture':{'value':_0xcbc381}}),this['emitter']=new _0x454b05[(_0x1c61('0x8'))]['Emitter']({'maxAge':{'value':0x1},'acceleration':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,-0x3,0x14),'spread':new THREE['Vector3'](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,_0x1b18c1,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x1c61('0x1ba'))](0x5ba3f1)]},'size':{'value':0x3*this['scale']},'particleCount':_0x520e74*_0x50f617}),this[_0x1c61('0x425')]['material'][_0x1c61('0x16a')][_0x1c61('0x422')][_0x1c61('0x1c')]=new THREE['Color'](),this[_0x1c61('0x425')][_0x1c61('0x1fd')](this[_0x1c61('0x41a')]),this[_0x1c61('0x425')][_0x1c61('0x1f0')][_0x1c61('0x1de')][_0x1c61('0x1b')](this['scale'],this[_0x1c61('0x1de')],this[_0x1c61('0x1de')]),this[_0x1c61('0x41b')][_0x1c61('0x1c4')](this[_0x1c61('0x425')][_0x1c61('0x1f0')]),this[_0x1c61('0x41b')]['renderOrder']=0xb,_0x175f09&&this[_0x1c61('0x41b')][_0x1c61('0x1c4')](new THREE[(_0x1c61('0x429'))](0x2710)),(_0x43683a<0x0||0x168<_0x43683a)&&(_0x43683a=0x0),(_0x33ffaf<0x0||0x3c<_0x33ffaf)&&(_0x33ffaf=0x0),this[_0x1c61('0x41b')][_0x1c61('0x42a')](THREE['Math'][_0x1c61('0x2d3')](_0x43683a)),this[_0x1c61('0x41b')][_0x1c61('0x3f4')](THREE[_0x1c61('0x15')]['degToRad'](_0x33ffaf)),this['object3d']['add'](this[_0x1c61('0x41b')]),this[_0x1c61('0x416')]=!0x0;}},{'key':_0x1c61('0x3d1'),'value':function(_0x50f617){this[_0x1c61('0x416')]&&this[_0x1c61('0x425')]&&this[_0x1c61('0x425')][_0x1c61('0x221')](_0x50f617);}},{'key':_0x1c61('0x42b'),'value':function(_0x50f617){(0x64<_0x50f617||_0x50f617<0x0)&&(_0x50f617=0x64);_0x50f617=Math['round'](0x64*(0x1-_0x50f617/0x64))/0x64;this[_0x1c61('0x41a')][_0x1c61('0x237')]=_0x50f617;}},{'key':_0x1c61('0x32c'),'set':function(_0x50f617){this[_0x1c61('0x41c')]=_0x50f617,this[_0x1c61('0x41b')][_0x1c61('0x32c')]=_0x50f617;}}]),_0xcbc381[_0x1c61('0x8')]=_0x175f09;},function(_0x3d30c8,_0x1f7107,_0x5e22f2){_0x3d30c8[_0x1c61('0x1')]={'default':_0x5e22f2(0xa7),'__esModule':!0x0};},function(_0x129e17,_0x55344e,_0x13c494){_0x13c494(0xa8),_0x129e17[_0x1c61('0x1')]=_0x13c494(0x2)['Math'][_0x1c61('0x42c')];},function(_0x5275b9,_0x53529c,_0x3ac151){var _0x3ac151=_0x3ac151(0x3),_0x503e8e=Math[_0x1c61('0x1bb')];_0x3ac151(_0x3ac151['S'],_0x1c61('0x15'),{'hypot':function(_0x5275b9,_0x53529c){for(var _0x3ac151,_0x52b6d2,_0x289e93=0x0,_0x17ab43=0x0,_0x1ab4da=arguments[_0x1c61('0xf')],_0x307ca8=0x0;_0x17ab43<_0x1ab4da;)_0x307ca8<(_0x3ac151=_0x503e8e(arguments[_0x17ab43++]))?(_0x289e93=_0x289e93*(_0x52b6d2=_0x307ca8/_0x3ac151)*_0x52b6d2+0x1,_0x307ca8=_0x3ac151):_0x289e93+=0x0<_0x3ac151?(_0x52b6d2=_0x3ac151/_0x307ca8)*_0x52b6d2:_0x3ac151;return _0x307ca8===0x1/0x0?0x1/0x0:_0x307ca8*Math['sqrt'](_0x289e93);}});},function(_0x18120e,_0x40c597,_0x2b91e1){'use strict';Object[_0x1c61('0x2')](_0x40c597,_0x1c61('0x5'),{'value':!0x0});var _0x356333=_0x19a50e(_0x2b91e1(0x4)),_0x5613cd=_0x19a50e(_0x2b91e1(0x0));function _0x19a50e(_0x18120e){return _0x18120e&&_0x18120e['__esModule']?_0x18120e:{'default':_0x18120e};}function _0x138309(_0x18120e){var _0x40c597=_0x18120e[_0x1c61('0x42d')],_0x2b91e1=_0x18120e[_0x1c61('0x42e')],_0x18120e=_0x18120e[_0x1c61('0x32f')],_0x18120e=void 0x0===_0x18120e?0.005:_0x18120e;(0x0,_0x5613cd[_0x1c61('0x8')])(this,_0x138309),this['object3d']=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x312')][_0x1c61('0x7b')]='root',this[_0x1c61('0x42d')]=_0x40c597,this[_0x1c61('0x42e')]=_0x2b91e1,this[_0x1c61('0x42f')](),this[_0x1c61('0x430')]=null,this[_0x1c61('0x431')]=null,this[_0x1c61('0x432')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3d3')]=_0x18120e;}(0x0,_0x19a50e(_0x2b91e1(0x1))[_0x1c61('0x8')])(_0x138309,[{'key':_0x1c61('0x42f'),'value':function(){this[_0x1c61('0x42d')][_0x1c61('0x3ed')]=THREE[_0x1c61('0x3ef')],this['lineTexture'][_0x1c61('0x3f0')]=THREE[_0x1c61('0x3ee')],this[_0x1c61('0x42d')]['wrapS']=THREE[_0x1c61('0x333')],this[_0x1c61('0x42d')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],this['lineTexture'][_0x1c61('0x108')]=!0x0;}},{'key':_0x1c61('0x7'),'value':function(_0x18120e){var _0x40c597=_0x18120e[_0x1c61('0x433')],_0x2b91e1=_0x18120e['endPos'],_0x5613cd=_0x18120e[_0x1c61('0x434')],_0x19a50e=_0x18120e[_0x1c61('0x2f9')],_0x18120e=_0x18120e[_0x1c61('0x435')],_0x18120e=void 0x0!==_0x18120e&&_0x18120e,_0x138309=new THREE[(_0x1c61('0x3d4'))]({'color':0xfffe06,'blending':THREE[_0x1c61('0x1d9')],'transparent':!0x0,'depthWrite':!0x1}),_0x19a50e=(_0x138309['map']=this['lineTexture'],_0x19a50e&&(_0x138309[_0x1c61('0x228')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x19a50e)),_0x18120e&&(_0x138309[_0x1c61('0x362')]=THREE[_0x1c61('0x302')]),new THREE['Vector3']((_0x2b91e1['x']-_0x40c597['x'])/0x2+_0x40c597['x'],_0x5613cd,(_0x2b91e1['z']-_0x40c597['z'])/0x2+_0x40c597['z']));return this[_0x1c61('0x430')]=this['createLine']([_0x40c597,_0x19a50e,_0x2b91e1],_0x138309),this['line'][_0x1c61('0x218')][_0x1c61('0x1b')](_0x40c597['x'],_0x40c597['y'],_0x40c597['z']),this[_0x1c61('0x312')]['add'](this[_0x1c61('0x430')]),this['startRipple']=this[_0x1c61('0x436')](0x32,_0x138309[_0x1c61('0x228')]),this[_0x1c61('0x431')][_0x1c61('0x218')][_0x1c61('0x1b')](_0x40c597['x'],_0x40c597['y']<0x3?0x5:_0x40c597['y'],_0x40c597['z']),this['endRipple']=this[_0x1c61('0x436')](0x32,_0x138309[_0x1c61('0x228')]),this['endRipple'][_0x1c61('0x218')]['set'](_0x2b91e1['x'],_0x2b91e1['y']<0x3?0x5:_0x2b91e1['y'],_0x2b91e1['z']),this[_0x1c61('0x312')]['add'](this[_0x1c61('0x431')]),this['object3d'][_0x1c61('0x1c4')](this[_0x1c61('0x432')]),this['object3d'];}},{'key':_0x1c61('0x436'),'value':function(_0x18120e,_0x40c597){var _0x18120e=new THREE[(_0x1c61('0x3de'))](_0x18120e,0x20),_0x2b91e1=new THREE['MeshBasicMaterial']({'color':0xffffff,'blending':THREE[_0x1c61('0x1d9')],'transparent':!0x0,'depthWrite':!0x1}),_0x40c597=(_0x2b91e1[_0x1c61('0xd9')]=this[_0x1c61('0x42e')],_0x2b91e1[_0x1c61('0x228')][_0x1c61('0x1c2')](_0x40c597),new THREE[(_0x1c61('0x30f'))](_0x18120e,_0x2b91e1));return _0x40c597[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x40c597;}},{'key':'createLine','value':function(_0x18120e,_0x40c597){var _0x2b91e1=_0x18120e[0x0],_0x5613cd=[],_0x19a50e=!0x0,_0x138309=!0x1,_0x2d069c=void 0x0;try{for(var _0x174532,_0x11730c=(0x0,_0x356333[_0x1c61('0x8')])(_0x18120e);!(_0x19a50e=(_0x174532=_0x11730c[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x19a50e=!0x0){var _0x3b8a9e=_0x174532[_0x1c61('0x1c')],_0x1a9734=_0x3b8a9e['x']-_0x2b91e1['x'],_0x5eaeca=_0x3b8a9e['y']-_0x2b91e1['y'],_0x114c8b=_0x3b8a9e['z']-_0x2b91e1['z'];_0x5613cd[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](_0x1a9734,_0x5eaeca,_0x114c8b));}}catch(_0x596ce4){_0x138309=!0x0,_0x2d069c=_0x596ce4;}finally{try{!_0x19a50e&&_0x11730c['return']&&_0x11730c[_0x1c61('0x99')]();}finally{if(_0x138309)throw _0x2d069c;}}_0x18120e=new THREE[(_0x1c61('0x437'))](_0x5613cd,!0x1,_0x1c61('0x438')),_0x138309=new THREE[(_0x1c61('0x439'))](_0x18120e,0x1f4,0x4,0xa,!0x1);return new THREE['Mesh'](_0x138309,_0x40c597);}},{'key':_0x1c61('0x2db'),'value':function(){var _0x18120e,_0x40c597;this[_0x1c61('0x430')]&&this[_0x1c61('0x431')]&&this[_0x1c61('0x432')]&&(this[_0x1c61('0x104')]-=this[_0x1c61('0x3d3')],this[_0x1c61('0x430')][_0x1c61('0x41')][_0x1c61('0xd9')][_0x1c61('0x2f2')]['x']=this[_0x1c61('0x104')],_0x18120e=Math[_0x1c61('0x1bb')](0.5*Math[_0x1c61('0x58')](0x5*this[_0x1c61('0x104')]))+1.5,_0x40c597=Math[_0x1c61('0x1bb')](0.5*Math[_0x1c61('0x59')](0x5*this['count']))+1.5,this['startRipple'][_0x1c61('0x1de')]['set'](_0x18120e,_0x18120e,_0x18120e),this[_0x1c61('0x432')][_0x1c61('0x1de')][_0x1c61('0x1b')](_0x40c597,_0x40c597,_0x40c597));}},{'key':_0x1c61('0x32c'),'set':function(_0x18120e){this[_0x1c61('0x312')]['visible']=_0x18120e;}}]),_0x40c597[_0x1c61('0x8')]=_0x138309;},function(_0x15cc14,_0x3dba7b,_0x2f42c2){'use strict';Object[_0x1c61('0x2')](_0x3dba7b,'__esModule',{'value':!0x0});var _0x5991bc=_0xe8eb4c(_0x2f42c2(0x0)),_0x10c092=_0xe8eb4c(_0x2f42c2(0x1)),_0x21b87e=_0x2f42c2(0x82);function _0xe8eb4c(_0x15cc14){return _0x15cc14&&_0x15cc14['__esModule']?_0x15cc14:{'default':_0x15cc14};}function _0x156c05(_0x15cc14){var _0x3dba7b=_0x15cc14[_0x1c61('0x43a')],_0x3dba7b=void 0x0===_0x3dba7b?0x14:_0x3dba7b,_0x2f42c2=_0x15cc14[_0x1c61('0x2f7')],_0x2f42c2=void 0x0===_0x2f42c2?0x2:_0x2f42c2,_0x10c092=_0x15cc14['pointSize'],_0x10c092=void 0x0===_0x10c092?0x32:_0x10c092,_0x15cc14=_0x15cc14[_0x1c61('0x2f9')],_0x15cc14=void 0x0===_0x15cc14?_0x1c61('0x43b'):_0x15cc14;(0x0,_0x5991bc[_0x1c61('0x8')])(this,_0x156c05),this['object3d']=new THREE[(_0x1c61('0x1c6'))](),this['object3d'][_0x1c61('0x7b')]='root',this['height']=_0x2f42c2,this[_0x1c61('0x43c')]=_0x10c092,this[_0x1c61('0x2f9')]=_0x15cc14,this[_0x1c61('0x289')]=null,this[_0x1c61('0x43d')]=_0x3dba7b,this[_0x1c61('0x41')]=null,this['shader']=null,this[_0x1c61('0x43e')]=[],this[_0x1c61('0x43f')]=0x0,this['animateHandle']=null,this[_0x1c61('0x104')]=0x0;}(0x0,_0x10c092['default'])(_0x156c05,[{'key':_0x1c61('0x7'),'value':function(_0x15cc14){for(var _0x3dba7b,_0x2f42c2=_0x15cc14['points'],_0x15cc14=_0x15cc14[_0x1c61('0x1c9')],_0x10c092=(this[_0x1c61('0x43e')]=(0x0,_0x21b87e[_0x1c61('0x2f4')])(_0x2f42c2,this[_0x1c61('0x43d')]),this['routePoints'][0x0]),_0x5991bc=new Float32Array(0x4*this[_0x1c61('0x43e')]['length']),_0xe8eb4c=0x0,_0x156c05=this[_0x1c61('0x43e')][_0x1c61('0xf')];_0xe8eb4c<_0x156c05;_0xe8eb4c++)_0x5991bc[0x0+(_0x3dba7b=0x4*_0xe8eb4c)]=this[_0x1c61('0x43e')][_0xe8eb4c]['x']-_0x10c092['x'],_0x5991bc[0x1+_0x3dba7b]=this[_0x1c61('0x43e')][_0xe8eb4c]['y']-_0x10c092['y'],_0x5991bc[0x2+_0x3dba7b]=this[_0x1c61('0x43e')][_0xe8eb4c]['z']-_0x10c092['z'],_0x5991bc[0x3+_0x3dba7b]=_0xe8eb4c;var _0x2f42c2=new THREE['BufferGeometry'](),_0x122052=new THREE['InterleavedBuffer'](_0x5991bc,0x4),_0x179c48=(_0x2f42c2[_0x1c61('0x31c')](_0x1c61('0x218'),new THREE[(_0x1c61('0x440'))](_0x122052,0x3,0x0)),_0x2f42c2[_0x1c61('0x31c')](_0x1c61('0x441'),new THREE[(_0x1c61('0x440'))](_0x122052,0x1,0x3)),this[_0x1c61('0x41')]=new THREE['PointsMaterial']({'color':0xffffff,'map':_0x15cc14,'blending':THREE[_0x1c61('0x1d9')],'sizeAttenuation':!0x0,'size':this[_0x1c61('0x43c')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this[_0x1c61('0x2f9')]&&(this[_0x1c61('0x41')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](this['colorStr'])),this);return this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x15cc14){_0x15cc14[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x15cc14[_0x1c61('0x56')]=_0x15cc14[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x442'),_0x1c61('0x443')),_0x15cc14[_0x1c61('0x56')]=_0x15cc14[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x444'),_0x1c61('0x445')),_0x15cc14[_0x1c61('0x57')]=_0x15cc14[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x446')),_0x15cc14['fragmentShader']=_0x15cc14[_0x1c61('0x57')]['replace'](_0x1c61('0x447'),_0x1c61('0x448')),_0x179c48[_0x1c61('0x3cf')]=_0x15cc14;},this[_0x1c61('0x289')]=new THREE[(_0x1c61('0xc2'))](_0x2f42c2,this[_0x1c61('0x41')]),this[_0x1c61('0x289')][_0x1c61('0x311')]=0x47,this[_0x1c61('0x312')][_0x1c61('0x1c4')](this[_0x1c61('0x289')]),this['points'];}},{'key':'render','value':function(_0x15cc14){this[_0x1c61('0x289')]&&this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x15cc14,this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}},{'key':_0x1c61('0x449'),'value':function(){var _0x15cc14=new THREE['BoxBufferGeometry'](0xa,0xa,0xa),_0x3dba7b=new THREE['MeshLambertMaterial']({'color':0xffc033});return _0x3dba7b[_0x1c61('0x44a')][_0x1c61('0x1c2')](new THREE['Color'](0xfff000)),_0x3dba7b[_0x1c61('0x44a')]['setHSL'](0.1,0x1,0.5),new THREE['Mesh'](_0x15cc14,_0x3dba7b);}},{'key':'_moveObjInPointsLine','value':function(_0x3dba7b,_0x2f42c2,_0x10c092){var _0x5991bc=this;this[_0x1c61('0x44b')]=setInterval(function(){if(_0x5991bc['currIndex']>=_0x5991bc[_0x1c61('0x43e')][_0x1c61('0xf')])return _0x5991bc[_0x1c61('0x43f')]=0x0,void clearInterval(_0x5991bc[_0x1c61('0x44b')]);var _0x15cc14=_0x5991bc[_0x1c61('0x43e')][_0x5991bc[_0x1c61('0x43f')]];_0x15cc14['y']=_0x10c092,_0x5991bc[_0x1c61('0x44c')](_0x2f42c2,_0x15cc14,_0x3dba7b),_0x5991bc[_0x1c61('0x43f')]++;},_0x3dba7b);}},{'key':'_moveObjToTarget','value':function(_0x15cc14,_0x3dba7b,_0x2f42c2,_0x10c092){var _0x5991bc=new THREE[(_0x1c61('0x1b8'))]();_0x5991bc['copy'](_0x3dba7b),new TWEEN[(_0x1c61('0x2d4'))](_0x15cc14[_0x1c61('0x218')])['to'](_0x5991bc,_0x2f42c2)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x3f9')][_0x1c61('0x44d')])[_0x1c61('0x2d8')](function(){_0x10c092&&_0x10c092();})[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0x32c'),'set':function(_0x15cc14){this[_0x1c61('0x289')]&&(this[_0x1c61('0x289')]['visible']=_0x15cc14);}},{'key':_0x1c61('0x44e'),'set':function(_0x15cc14){this[_0x1c61('0x289')][_0x1c61('0x41')][_0x1c61('0x2ff')]=!_0x15cc14,this['points'][_0x1c61('0x41')][_0x1c61('0x108')]=!0x0;}}]),_0x3dba7b[_0x1c61('0x8')]=_0x156c05;},function(_0x20e9d9,_0x462efc,_0x147425){'use strict';Object[_0x1c61('0x2')](_0x462efc,_0x1c61('0x5'),{'value':!0x0});var _0x4cccd5=_0x2c9e97(_0x147425(0x0));function _0x2c9e97(_0x20e9d9){return _0x20e9d9&&_0x20e9d9[_0x1c61('0x5')]?_0x20e9d9:{'default':_0x20e9d9};}function _0x2a15cb(_0x20e9d9){var _0x462efc=_0x20e9d9['texture'],_0x147425=_0x20e9d9[_0x1c61('0x2f9')],_0x147425=void 0x0===_0x147425?_0x1c61('0x32d'):_0x147425,_0x2c9e97=_0x20e9d9[_0x1c61('0x226')],_0x20e9d9=_0x20e9d9[_0x1c61('0x32f')],_0x20e9d9=void 0x0===_0x20e9d9?0.01:_0x20e9d9;(0x0,_0x4cccd5[_0x1c61('0x8')])(this,_0x2a15cb),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this['colorStr']=_0x147425,this[_0x1c61('0x41')]=null,this[_0x1c61('0x226')]=_0x2c9e97||0xc8,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3d3')]=_0x20e9d9,this[_0x1c61('0x2f8')](_0x147425,_0x462efc);}(0x0,_0x2c9e97(_0x147425(0x1))[_0x1c61('0x8')])(_0x2a15cb,[{'key':_0x1c61('0x2f8'),'value':function(_0x20e9d9,_0x462efc){var _0x147425=this;this['material']=new THREE['MeshBasicMaterial']({'transparent':!0x0}),this[_0x1c61('0x41')][_0x1c61('0x228')]['setStyle'](_0x20e9d9),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x20e9d9){_0x20e9d9[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x20e9d9[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x462efc},_0x20e9d9[_0x1c61('0x56')]=_0x20e9d9[_0x1c61('0x56')]['replace'](_0x1c61('0x3ca'),_0x1c61('0x3cb')),_0x20e9d9[_0x1c61('0x56')]=_0x20e9d9['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x3dc')),_0x20e9d9[_0x1c61('0x57')]=_0x20e9d9[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x44f')),_0x20e9d9['fragmentShader']=_0x20e9d9[_0x1c61('0x57')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x450')),_0x147425[_0x1c61('0x3cf')]=_0x20e9d9;};}},{'key':_0x1c61('0x7'),'value':function(){var _0x20e9d9=new THREE['PlaneBufferGeometry'](this[_0x1c61('0x226')],this['radius']),_0x20e9d9=new THREE[(_0x1c61('0x30f'))](_0x20e9d9,this[_0x1c61('0x41')]);return _0x20e9d9[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x20e9d9[_0x1c61('0x311')]=0x45,this['object3d'][_0x1c61('0x1c4')](_0x20e9d9),this[_0x1c61('0x312')];}},{'key':'render','value':function(){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=this[_0x1c61('0x3d3')],this['shader'][_0x1c61('0x16a')][_0x1c61('0x3da')]['value']=this[_0x1c61('0x104')]);}}]),_0x462efc['default']=_0x2a15cb;},function(_0x3611c2,_0x18818b,_0x2aeca8){'use strict';Object[_0x1c61('0x2')](_0x18818b,_0x1c61('0x5'),{'value':!0x0});var _0x4e311c=_0x392b16(_0x2aeca8(0x0));function _0x392b16(_0x3611c2){return _0x3611c2&&_0x3611c2[_0x1c61('0x5')]?_0x3611c2:{'default':_0x3611c2};}function _0x3d4fa2(_0x3611c2){(0x0,_0x4e311c[_0x1c61('0x8')])(this,_0x3d4fa2),this[_0x1c61('0x451')]=function(_0x3611c2,_0x18818b){var _0x2aeca8=new THREE['Scene'](),_0x3611c2=this[_0x1c61('0x452')](_0x3611c2),_0x4e311c=THREE[_0x1c61('0x453')][_0x1c61('0x454')],_0x4e311c=new THREE['ShaderMaterial']({'fragmentShader':_0x4e311c[_0x1c61('0x57')],'vertexShader':_0x4e311c[_0x1c61('0x56')],'uniforms':_0x4e311c[_0x1c61('0x16a')],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE['BackSide'],'fog':!0x1}),_0x4e311c=(_0x4e311c['uniforms']['tCube'][_0x1c61('0x1c')]=_0x3611c2,new THREE['Mesh'](new THREE[(_0x1c61('0x455'))](0x64,0x64,0x64),_0x4e311c));return _0x4e311c[_0x1c61('0x218')]['copy'](_0x18818b),_0x4e311c['scale'][_0x1c61('0x1b')](0xf4240,0xf4240,0xf4240),_0x2aeca8[_0x1c61('0x1c4')](_0x4e311c),this[_0x1c61('0x456')][_0x1c61('0x1c4')](_0x2aeca8),_0x3611c2;},this[_0x1c61('0x456')]=_0x3611c2;}(0x0,_0x392b16(_0x2aeca8(0x1))[_0x1c61('0x8')])(_0x3d4fa2,[{'key':'createTextureCube','value':function(_0x3611c2){_0x3611c2=new THREE[(_0x1c61('0x9c'))]()[_0x1c61('0x96')](_0x3611c2);return _0x3611c2[_0x1c61('0x457')]=THREE[_0x1c61('0x458')],_0x3611c2[_0x1c61('0x459')]=THREE[_0x1c61('0x45a')],_0x3611c2[_0x1c61('0x45b')]=THREE['sRGBEncoding'],_0x3611c2;}}]),_0x18818b[_0x1c61('0x8')]=_0x3d4fa2;},function(_0xd73ce7,_0x58340c,_0x1f08d0){'use strict';Object[_0x1c61('0x2')](_0x58340c,_0x1c61('0x5'),{'value':!0x0});var _0x326800=_0x48ab23(_0x1f08d0(0x26)),_0x224591=_0x48ab23(_0x1f08d0(0x0)),_0x1bf026=_0x48ab23(_0x1f08d0(0x1)),_0x279556=_0x48ab23(_0x1f08d0(0x31)),_0x27c343=_0x48ab23(_0x1f08d0(0x32)),_0x204893=_0x48ab23(_0x1f08d0(0x46)),_0x3853e1=_0x1f08d0(0x3b),_0x2e0932=_0x48ab23(_0x1f08d0(0x3c));function _0x48ab23(_0xd73ce7){return _0xd73ce7&&_0xd73ce7[_0x1c61('0x5')]?_0xd73ce7:{'default':_0xd73ce7};}function _0xdc3c6e(_0xd73ce7){var _0xd73ce7=_0xd73ce7[_0x1c61('0x45c')],_0x58340c=((0x0,_0x224591[_0x1c61('0x8')])(this,_0xdc3c6e),(0x0,_0x279556[_0x1c61('0x8')])(this,(_0xdc3c6e[_0x1c61('0x87')]||(0x0,_0x326800['default'])(_0xdc3c6e))[_0x1c61('0x0')](this)));return _0x58340c[_0x1c61('0x2bb')]=_0xd73ce7,_0x58340c[_0x1c61('0x45d')]=null,_0x58340c[_0x1c61('0x45e')]=null,_0x58340c[_0x1c61('0x45f')]=null,_0x58340c;}_0x1f08d0=_0x3853e1[_0x1c61('0x92')],(0x0,_0x27c343['default'])(_0xdc3c6e,_0x1f08d0),(0x0,_0x1bf026['default'])(_0xdc3c6e,[{'key':'createSixPicCubeTexture','value':function(_0xd73ce7,_0x58340c){var _0x1f08d0=this;_0x2e0932['default'][_0x1c61('0x9b')](_0xd73ce7)[_0x1c61('0x34a')](function(_0xd73ce7){_0x1f08d0[_0x1c61('0x45d')]=_0xd73ce7,_0x1f08d0['dispatchEvent']({'type':_0x1c61('0x460')}),_0x58340c&&_0x58340c();});}},{'key':'createOnePicCubeTexture','value':function(_0xd73ce7,_0x1bf026,_0x58340c){var _0x1f08d0=this,_0x326800=new THREE[(_0x1c61('0x461'))]([]);_0x326800[_0x1c61('0x457')]=THREE[_0x1c61('0x458')],new THREE[(_0x1c61('0x462'))]()[_0x1c61('0x96')](_0xd73ce7,function(_0x224591){function _0xd73ce7(_0xd73ce7,_0x58340c){var _0x1f08d0=_0x1bf026||0x400,_0x326800=document[_0x1c61('0x75')](_0x1c61('0x463'));return _0x326800[_0x1c61('0x328')]=_0x1f08d0,_0x326800[_0x1c61('0x2f7')]=_0x1f08d0,_0x326800[_0x1c61('0x464')]('2d')[_0x1c61('0x465')](_0x224591,-_0xd73ce7*_0x1f08d0,-_0x58340c*_0x1f08d0),_0x326800;}_0x326800[_0x1c61('0x466')][0x0]=_0xd73ce7(0x2,0x1),_0x326800[_0x1c61('0x466')][0x1]=_0xd73ce7(0x0,0x1),_0x326800[_0x1c61('0x466')][0x2]=_0xd73ce7(0x1,0x0),_0x326800['images'][0x3]=_0xd73ce7(0x1,0x2),_0x326800[_0x1c61('0x466')][0x4]=_0xd73ce7(0x1,0x1),_0x326800[_0x1c61('0x466')][0x5]=_0xd73ce7(0x3,0x1),_0x326800[_0x1c61('0x108')]=!0x0,_0x1f08d0['textureCube']=_0x326800,_0x1f08d0['dispatchEvent']({'type':'canUpdate'}),_0x58340c&&_0x58340c();});}},{'key':'createBox','value':function(_0xd73ce7){var _0x58340c=_0xd73ce7[_0x1c61('0xee')],_0x1f08d0=_0xd73ce7[_0x1c61('0x467')],_0x326800=_0xd73ce7['isCullGround'],_0x326800=void 0x0!==_0x326800&&_0x326800,_0xd73ce7=_0xd73ce7[_0x1c61('0x468')],_0xd73ce7=void 0x0===_0xd73ce7?0x1:_0xd73ce7,_0x224591=THREE[_0x1c61('0x453')][_0x1c61('0x454')],_0x326800=(_0x224591[_0x1c61('0x16a')][_0x1c61('0x469')]={'value':null},_0x224591[_0x1c61('0x16a')]['transFactor']={'value':0x0},_0x224591[_0x1c61('0x16a')][_0x1c61('0x46a')]={'value':_0x326800},_0x224591[_0x1c61('0x16a')]['intensity']={'value':_0xd73ce7},_0x224591[_0x1c61('0x56')]=_0x224591[_0x1c61('0x56')][_0x1c61('0x3c9')]('varying\x20vec3\x20vWorldDirection;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x224591[_0x1c61('0x56')]=_0x224591[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x46b'),_0x1c61('0x46c')),_0x224591['fragmentShader']=_0x224591[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x46d'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x224591[_0x1c61('0x57')]=_0x224591[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x46e'),_0x1c61('0x46f')),new THREE['ShaderMaterial']({'fragmentShader':_0x224591['fragmentShader'],'vertexShader':_0x224591[_0x1c61('0x56')],'uniforms':_0x224591[_0x1c61('0x16a')],'side':THREE[_0x1c61('0x470')],'fog':!0x1}));_0x326800[_0x1c61('0x16a')][_0x1c61('0x471')]?_0x326800[_0x1c61('0x16a')][_0x1c61('0x471')]['value']=this[_0x1c61('0x45d')]:_0x326800[_0x1c61('0x472')]=this['textureCube'],this['skyBox']=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x455'))](0x64,0x64,0x64),_0x326800),this['skyBox']['position']['y']=_0x1f08d0,this[_0x1c61('0x45f')]['scale'][_0x1c61('0x1b')](_0x58340c,_0x58340c,_0x58340c),this[_0x1c61('0x2bb')][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x45f')]);}},{'key':_0x1c61('0x473'),'value':function(_0xd73ce7){var _0x58340c=_0xd73ce7[_0x1c61('0x226')],_0x58340c=void 0x0===_0x58340c?0x2710:_0x58340c,_0x1f08d0=_0xd73ce7[_0x1c61('0x474')],_0x1f08d0=void 0x0===_0x1f08d0?_0x1c61('0x475'):_0x1f08d0,_0x326800=_0xd73ce7[_0x1c61('0x476')],_0x326800=void 0x0===_0x326800?_0x1c61('0x43b'):_0x326800,_0x224591=_0xd73ce7[_0x1c61('0x2f2')],_0x1bf026=void 0x0===_0x224591?0x64:_0x224591,_0x224591=_0xd73ce7[_0x1c61('0x477')],_0x279556=void 0x0===_0x224591?0.6:_0x224591,_0x27c343=_0xd73ce7[_0x1c61('0x1c9')],_0x224591=new THREE[(_0x1c61('0x455'))](_0x58340c,_0x58340c,_0x58340c),_0x204893=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1f08d0),_0x3853e1=new THREE['Color']()[_0x1c61('0x2fa')](_0x326800),_0x2e0932=this,_0xd73ce7=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'side':THREE['BackSide'],'fog':!0x1});return _0xd73ce7[_0x1c61('0x3c7')]=function(_0xd73ce7){_0xd73ce7['uniforms'][_0x1c61('0x478')]={'value':_0x204893},_0xd73ce7[_0x1c61('0x16a')][_0x1c61('0x479')]={'value':_0x3853e1},_0xd73ce7[_0x1c61('0x16a')][_0x1c61('0x47a')]={'value':_0x27c343},_0xd73ce7[_0x1c61('0x16a')][_0x1c61('0x2f2')]={'value':_0x1bf026},_0xd73ce7[_0x1c61('0x16a')][_0x1c61('0x477')]={'value':_0x279556},_0xd73ce7[_0x1c61('0x56')]=_0xd73ce7[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x47b')),_0xd73ce7[_0x1c61('0x56')]=_0xd73ce7[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x47c')),_0xd73ce7['fragmentShader']=_0xd73ce7[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xd73ce7['fragmentShader']=_0xd73ce7[_0x1c61('0x57')][_0x1c61('0x3c9')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x47d')),_0x2e0932[_0x1c61('0x45e')]=_0xd73ce7;},this[_0x1c61('0x45f')]=new THREE['Mesh'](_0x224591,_0xd73ce7),this[_0x1c61('0x2bb')][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x45f')]),this[_0x1c61('0x45f')];}},{'key':'createGradientCubeSky','value':function(_0xd73ce7){var _0x58340c=_0xd73ce7[_0x1c61('0xee')],_0x58340c=void 0x0===_0x58340c?0x2710:_0x58340c,_0x1f08d0=_0xd73ce7[_0x1c61('0x474')],_0x326800=_0xd73ce7[_0x1c61('0x476')],_0x326800=void 0x0===_0x326800?_0x1c61('0x43b'):_0x326800,_0x224591=_0xd73ce7['offsetY'],_0x224591=void 0x0===_0x224591?0x0:_0x224591,_0xd73ce7=_0xd73ce7[_0x1c61('0x477')],_0xd73ce7=void 0x0===_0xd73ce7?0.8:_0xd73ce7,_0x326800=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x326800),_0x1bf026=(_0x1f08d0&&(_0x279556=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1f08d0)),THREE['ShaderLib'][_0x1c61('0x454')]),_0x279556=(_0x1f08d0&&(_0x1bf026[_0x1c61('0x16a')][_0x1c61('0x478')]={'value':_0x279556}),_0x1bf026[_0x1c61('0x16a')][_0x1c61('0x479')]={'value':_0x326800},_0x1bf026[_0x1c61('0x16a')][_0x1c61('0x2f2')]={'value':_0x224591},_0x1bf026['uniforms'][_0x1c61('0x477')]={'value':_0xd73ce7},_0x1bf026['vertexShader']=_0x1bf026['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x47e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1bf026[_0x1c61('0x56')]=_0x1bf026[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<project_vertex>',_0x1c61('0x47f')),_0x1bf026[_0x1c61('0x57')]=_0x1bf026[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x480')+(_0x1f08d0?'#define\x20IS_SKY_COLOR':'')+_0x1c61('0x481')),_0x1bf026[_0x1c61('0x57')]=_0x1bf026['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x482'),_0x1c61('0x483')),new THREE[(_0x1c61('0x1ea'))]({'fragmentShader':_0x1bf026[_0x1c61('0x57')],'vertexShader':_0x1bf026[_0x1c61('0x56')],'uniforms':_0x1bf026[_0x1c61('0x16a')],'side':THREE[_0x1c61('0x470')],'depthWrite':!0x1,'fog':!0x1}));this[_0x1c61('0x45d')]&&_0x279556['uniforms'][_0x1c61('0x471')]&&!_0x1f08d0&&(_0x279556[_0x1c61('0x16a')][_0x1c61('0x471')][_0x1c61('0x1c')]=this[_0x1c61('0x45d')]),this[_0x1c61('0x45f')]=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3f2'))](0x64,0x40,0xa),_0x279556),this[_0x1c61('0x45f')]['scale']['set'](_0x58340c,_0x58340c,_0x58340c),this[_0x1c61('0x2bb')][_0x1c61('0x456')]['add'](this[_0x1c61('0x45f')]);}},{'key':_0x1c61('0x484'),'value':function(_0xd73ce7){var _0xd73ce7=_0xd73ce7[_0x1c61('0x1c9')],_0x58340c=new THREE[(_0x1c61('0x3f2'))](0x1,0x40,0xa),_0xd73ce7=new THREE[(_0x1c61('0x3d4'))]({'side':THREE['BackSide'],'fog':!0x1,'map':_0xd73ce7});_0xd73ce7['onBeforeCompile']=function(_0xd73ce7){_0xd73ce7[_0x1c61('0x56')]=_0xd73ce7[_0x1c61('0x56')]['replace'](_0x1c61('0x401'),_0x1c61('0x485'));},this['skyBox']=new THREE['Mesh'](_0x58340c,_0xd73ce7),this[_0x1c61('0x45f')][_0x1c61('0x1de')]['set'](0x186a0,0x186a0,0x186a0),this[_0x1c61('0x2bb')]['scene'][_0x1c61('0x1c4')](this[_0x1c61('0x45f')]);}},{'key':_0x1c61('0x486'),'value':function(_0xd73ce7){var _0xd73ce7=_0xd73ce7[_0x1c61('0xee')],_0xd73ce7=void 0x0===_0xd73ce7?0x2710:_0xd73ce7,_0x58340c=THREE[_0x1c61('0x453')][_0x1c61('0x454')],_0x58340c=new THREE[(_0x1c61('0x1ea'))]({'fragmentShader':_0x58340c[_0x1c61('0x57')],'vertexShader':_0x58340c[_0x1c61('0x56')],'uniforms':_0x58340c[_0x1c61('0x16a')],'side':THREE[_0x1c61('0x470')],'depthWrite':!0x1,'fog':!0x1});_0x58340c['uniforms'][_0x1c61('0x471')][_0x1c61('0x1c')]=this[_0x1c61('0x45d')],this[_0x1c61('0x45f')]=new THREE[(_0x1c61('0x30f'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0x58340c),this[_0x1c61('0x45f')]['scale']['set'](_0xd73ce7,_0xd73ce7,_0xd73ce7),this[_0x1c61('0x45f')]['position']['y']=-0x55d4a80,this['view'][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x45f')]);}},{'key':_0x1c61('0x487'),'value':function(){this['view'][_0x1c61('0x456')]['background']=this[_0x1c61('0x45d')],this[_0x1c61('0x488')]({'type':'canUpdate'});}},{'key':_0x1c61('0xd8'),'value':function(){this['textureCube']&&this[_0x1c61('0x45d')][_0x1c61('0xd8')](),this[_0x1c61('0x45d')]=null,_0x204893[_0x1c61('0x8')][_0x1c61('0x329')](this[_0x1c61('0x45f')]),this[_0x1c61('0x45f')]=null;}}]),_0x58340c[_0x1c61('0x8')]=_0xdc3c6e;},function(_0x50668e,_0x3e2625,_0x32056d){'use strict';Object[_0x1c61('0x2')](_0x3e2625,_0x1c61('0x5'),{'value':!0x0});var _0xd9b545=_0x3f9700(_0x32056d(0xf)),_0x24cbb7=_0x3f9700(_0x32056d(0x0)),_0x2bcfde=_0x3f9700(_0x32056d(0x1)),_0x3f8350=_0x3f9700(_0x32056d(0xaf));function _0x3f9700(_0x50668e){return _0x50668e&&_0x50668e['__esModule']?_0x50668e:{'default':_0x50668e};}function _0x2bfcbb(_0x50668e){_0x50668e=_0x50668e['camera'];(0x0,_0x24cbb7[_0x1c61('0x8')])(this,_0x2bfcbb),this['object3d']=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x301')]=_0x50668e,this[_0x1c61('0x1eb')]=null,this['skyMaterial']=null,this[_0x1c61('0x489')]=null,this[_0x1c61('0x48a')]=new THREE[(_0x1c61('0x1b8'))](),this['phi']=0x32,this['theta']=0x91,this[_0x1c61('0x48b')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this[_0x1c61('0x48c')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x2bcfde[_0x1c61('0x8')])(_0x2bfcbb,[{'key':'create','value':function(_0x50668e){_0x50668e=_0x50668e[_0x1c61('0x46a')],_0x50668e=void 0x0!==_0x50668e&&_0x50668e;return this[_0x1c61('0x2f8')](),this[_0x1c61('0x489')]=new THREE[(_0x1c61('0x30f'))](new THREE['SphereBufferGeometry'](0x1,0x18,0xc),this[_0x1c61('0x48d')]),this[_0x1c61('0x489')]['scale']['setScalar'](0x1faa3b500),this[_0x1c61('0x489')][_0x1c61('0x7b')]='clearSkyBox',this[_0x1c61('0x312')][_0x1c61('0x1c4')](this[_0x1c61('0x489')]),this[_0x1c61('0x2db')](),this[_0x1c61('0x48e')]({'isCullGround':_0x50668e}),this[_0x1c61('0x312')];}},{'key':_0x1c61('0x2f8'),'value':function(){this[_0x1c61('0x48d')]=new THREE[(_0x1c61('0x1ea'))]({'uniforms':THREE[_0x1c61('0x48f')][_0x1c61('0x1b1')](_0x3f8350[_0x1c61('0x8')][_0x1c61('0x16a')]),'fragmentShader':_0x3f8350[_0x1c61('0x8')]['fragmentShader'],'vertexShader':_0x3f8350[_0x1c61('0x8')][_0x1c61('0x56')],'side':THREE[_0x1c61('0x470')]});}},{'key':'setSkyConfig','value':function(_0x50668e){_0x50668e=(0x0,_0xd9b545[_0x1c61('0x8')])(this[_0x1c61('0x48b')],_0x50668e);var _0x3e2625=this[_0x1c61('0x48d')]['uniforms'];_0x3e2625['turbidity']['value']=_0x50668e[_0x1c61('0x490')],_0x3e2625[_0x1c61('0x491')][_0x1c61('0x1c')]=_0x50668e[_0x1c61('0x491')],_0x3e2625[_0x1c61('0x492')][_0x1c61('0x1c')]=_0x50668e[_0x1c61('0x492')],_0x3e2625[_0x1c61('0x493')]['value']=_0x50668e[_0x1c61('0x493')],_0x3e2625[_0x1c61('0x494')]['value']=_0x50668e[_0x1c61('0x494')],_0x3e2625[_0x1c61('0x46a')][_0x1c61('0x1c')]=_0x50668e['isCullGround'];}},{'key':_0x1c61('0x495'),'value':function(){this['sunPosition']['x']=0xa*Math['sin'](this[_0x1c61('0x496')]*Math['PI']/0xb4)*Math[_0x1c61('0x59')](this[_0x1c61('0x497')]*Math['PI']/0xb4),this[_0x1c61('0x48a')]['y']=0xa*Math[_0x1c61('0x58')](this[_0x1c61('0x497')]*Math['PI']/0xb4),this[_0x1c61('0x48a')]['z']=0xa*Math[_0x1c61('0x59')](this[_0x1c61('0x496')]*Math['PI']/0xb4)*Math['cos'](this['phi']*Math['PI']/0xb4),this[_0x1c61('0x48d')]['uniforms'][_0x1c61('0x48a')][_0x1c61('0x1c')]['copy'](this[_0x1c61('0x48a')]),this[_0x1c61('0x48d')][_0x1c61('0x16a')]['cameraPos'][_0x1c61('0x1c')]['copy'](this[_0x1c61('0x301')][_0x1c61('0x218')]);}},{'key':'update','value':function(){this['object3d'][_0x1c61('0x218')][_0x1c61('0x1c2')](this[_0x1c61('0x301')]['position']),this[_0x1c61('0x495')]();}},{'key':_0x1c61('0xd8'),'value':function(){DisposeUtils['disposeAll'](this['object3d']),this[_0x1c61('0x312')]=null,this[_0x1c61('0x1eb')]=null,this[_0x1c61('0x48d')]=null,this['skyMesh']=null;}}]),_0x3e2625[_0x1c61('0x8')]=_0x2bfcbb;},function(_0x4db8fc,_0x3a3eaf,_0x184b30){'use strict';Object[_0x1c61('0x2')](_0x3a3eaf,'__esModule',{'value':!0x0}),_0x3a3eaf['default']={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE[(_0x1c61('0x1b8'))]()},'cameraPos':{'value':new THREE[(_0x1c61('0x1b8'))]()},'isCullGround':{'value':!0x1}},'vertexShader':_0x1c61('0x498'),'fragmentShader':_0x1c61('0x499')};},function(_0xb0f3f2,_0x134119,_0x2a5ad8){'use strict';Object[_0x1c61('0x2')](_0x134119,_0x1c61('0x5'),{'value':!0x0});var _0x271761=_0x80780f(_0x2a5ad8(0x4)),_0x5050f6=_0x80780f(_0x2a5ad8(0x0));function _0x80780f(_0xb0f3f2){return _0xb0f3f2&&_0xb0f3f2[_0x1c61('0x5')]?_0xb0f3f2:{'default':_0xb0f3f2};}function _0xf1e7bf(_0xb0f3f2){var _0x134119=_0xb0f3f2['lineTexture'],_0x2a5ad8=_0xb0f3f2[_0x1c61('0x49a')],_0x80780f=_0xb0f3f2[_0x1c61('0x49b')],_0x80780f=void 0x0===_0x80780f?'#5fedff':_0x80780f,_0x1f0eeb=_0xb0f3f2[_0x1c61('0x49c')],_0x1f0eeb=void 0x0===_0x1f0eeb?_0x1c61('0x3d2'):_0x1f0eeb,_0x4dec09=_0xb0f3f2[_0x1c61('0x49d')],_0x4dec09=void 0x0===_0x4dec09?_0x1c61('0x32d'):_0x4dec09,_0x368a35=_0xb0f3f2[_0x1c61('0x1aa')],_0x368a35=void 0x0===_0x368a35?0x1:_0x368a35,_0x318e4f=_0xb0f3f2[_0x1c61('0x49e')],_0x318e4f=void 0x0===_0x318e4f?0x4:_0x318e4f,_0xb0f3f2=_0xb0f3f2[_0x1c61('0x49f')],_0xb0f3f2=void 0x0===_0xb0f3f2?0.005:_0xb0f3f2;(0x0,_0x5050f6['default'])(this,_0xf1e7bf),this[_0x1c61('0x42d')]=_0x134119,this[_0x1c61('0x49a')]=_0x2a5ad8,this[_0x1c61('0x4a0')]=_0x1f0eeb,this[_0x1c61('0x4a1')]=_0x4dec09,this[_0x1c61('0x1aa')]=_0x368a35,this[_0x1c61('0x49e')]=_0x318e4f,this[_0x1c61('0x49f')]=_0xb0f3f2,this[_0x1c61('0x228')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x80780f),this[_0x1c61('0x4a0')]=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x1f0eeb),this[_0x1c61('0x4a1')]=new THREE['Color']()['setStyle'](_0x4dec09),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x1c6'))](),this['object3d'][_0x1c61('0x7b')]=_0x1c61('0x4a2'),this['material']=null,this[_0x1c61('0x4a3')]=null,this[_0x1c61('0x4a4')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x2f8')]();}(0x0,_0x80780f(_0x2a5ad8(0x1))[_0x1c61('0x8')])(_0xf1e7bf,[{'key':_0x1c61('0x4a5'),'value':function(_0xb0f3f2,_0x134119,_0x2a5ad8){var _0x80780f=document[_0x1c61('0x75')](_0x1c61('0x463')),_0x13c79b=(_0x80780f['width']=_0xb0f3f2,_0x80780f[_0x1c61('0x2f7')]=_0x134119,_0x80780f[_0x1c61('0x464')]('2d'));return _0x13c79b[_0x1c61('0x4a6')]=_0x1c61('0x4a7'),_0x13c79b[_0x1c61('0x4a8')](0x0,0x0,_0xb0f3f2,_0x134119),_0x13c79b['font']=_0x1c61('0x4a9'),_0x13c79b[_0x1c61('0x4a6')]=_0x1c61('0x32d'),_0x13c79b[_0x1c61('0x4aa')]='center',_0x13c79b[_0x1c61('0x4ab')]=_0x1c61('0x4ac'),_0x13c79b[_0x1c61('0x4ad')](_0x2a5ad8,_0xb0f3f2/0x2-0x5,_0x134119/0x2+0x5),_0x80780f;}},{'key':'createSprite','value':function(_0x134119){var _0x2a5ad8=this,_0xb0f3f2=this[_0x1c61('0x4a5')](0x80,0x80,this['number']),_0x80780f=new THREE[(_0x1c61('0x1cc'))](_0xb0f3f2);_0x80780f[_0x1c61('0x108')]=!0x0,this['startMat']=new THREE[(_0x1c61('0x4ae'))]({'color':0xffffff,'depthTest':!0x1,'transparent':!0x0}),this[_0x1c61('0x4a3')][_0x1c61('0x2ff')]=!0x1,this['startMat'][_0x1c61('0x3c7')]=function(_0xb0f3f2){_0xb0f3f2[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0xb0f3f2[_0x1c61('0x16a')][_0x1c61('0x4a0')]={'value':_0x2a5ad8[_0x1c61('0x4a0')]},_0xb0f3f2[_0x1c61('0x16a')]['numberColor']={'value':_0x2a5ad8[_0x1c61('0x4a1')]},_0xb0f3f2[_0x1c61('0x16a')][_0x1c61('0x4af')]={'value':_0x134119},_0xb0f3f2[_0x1c61('0x16a')]['numberTex']={'value':_0x80780f},_0xb0f3f2[_0x1c61('0x56')]=_0xb0f3f2['vertexShader']['replace'](_0x1c61('0x3ca'),_0x1c61('0x3cb')),_0xb0f3f2[_0x1c61('0x56')]=_0xb0f3f2[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x410'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xb0f3f2[_0x1c61('0x57')]=_0xb0f3f2[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x4b0')),_0xb0f3f2['fragmentShader']=_0xb0f3f2[_0x1c61('0x57')][_0x1c61('0x3c9')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x4b1')),_0x2a5ad8[_0x1c61('0x4a4')]=_0xb0f3f2;};}},{'key':'createMaterial','value':function(){this[_0x1c61('0x42d')][_0x1c61('0x3ed')]=THREE[_0x1c61('0x3ef')],this[_0x1c61('0x42d')][_0x1c61('0x3f0')]=THREE[_0x1c61('0x3ee')],this[_0x1c61('0x42d')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x42d')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x42d')][_0x1c61('0x108')]=!0x0,this[_0x1c61('0x41')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'depthTest':!0x1,'transparent':!0x0,'blending':THREE['AdditiveBlending']}),this['material'][_0x1c61('0xd9')]=this[_0x1c61('0x42d')],this[_0x1c61('0x41')][_0x1c61('0x228')]=this[_0x1c61('0x228')],this[_0x1c61('0x42d')][_0x1c61('0x2f0')]['x']=this[_0x1c61('0x49e')],this[_0x1c61('0x49a')]&&this[_0x1c61('0x414')](this[_0x1c61('0x49a')]);}},{'key':_0x1c61('0x7'),'value':function(_0xb0f3f2){var _0x134119=_0xb0f3f2[0x0],_0x2a5ad8=_0xb0f3f2[_0xb0f3f2[_0x1c61('0xf')]-0x1],_0x80780f=[],_0xad62c5=!0x0,_0x249983=!0x1,_0x27e4fb=void 0x0;try{for(var _0x334422,_0x5050f6=(0x0,_0x271761['default'])(_0xb0f3f2);!(_0xad62c5=(_0x334422=_0x5050f6['next']())[_0x1c61('0x89')]);_0xad62c5=!0x0){var _0xf1e7bf=_0x334422[_0x1c61('0x1c')],_0x5e8035=_0xf1e7bf['x']-_0x134119['x'],_0x324b7a=_0xf1e7bf['y']-_0x134119['y'],_0x389ca3=_0xf1e7bf['z']-_0x134119['z'];_0x80780f['push'](new THREE[(_0x1c61('0x1b8'))](_0x5e8035,_0x324b7a,_0x389ca3));}}catch(_0x518951){_0x249983=!0x0,_0x27e4fb=_0x518951;}finally{try{!_0xad62c5&&_0x5050f6['return']&&_0x5050f6[_0x1c61('0x99')]();}finally{if(_0x249983)throw _0x27e4fb;}}var _0xb0f3f2=new THREE[(_0x1c61('0x437'))](_0x80780f,!0x1,_0x1c61('0x4b2'),0.1),_0x249983=new THREE['TubeBufferGeometry'](_0xb0f3f2,0x1f4,0x14,0x2,!0x1,!0x0),_0x27e4fb=new THREE[(_0x1c61('0x30f'))](_0x249983,this[_0x1c61('0x41')]);_0x27e4fb[_0x1c61('0x218')][_0x1c61('0x1b')](_0x134119['x'],_0x134119['y'],_0x134119['z']),this['spriteTexture']&&(_0xb0f3f2=new THREE[(_0x1c61('0x415'))](this['startMat']),_0x249983=new THREE[(_0x1c61('0x415'))](this[_0x1c61('0x4a3')]),_0xb0f3f2[_0x1c61('0x1de')][_0x1c61('0x1b')](0.03,0.03,0.03),_0x249983[_0x1c61('0x1de')][_0x1c61('0x1b')](0.03,0.03,0.03),_0xb0f3f2[_0x1c61('0x218')][_0x1c61('0x1b')](_0x134119['x'],_0x134119['y'],_0x134119['z']),_0x249983[_0x1c61('0x218')][_0x1c61('0x1b')](_0x2a5ad8['x'],_0x2a5ad8['y'],_0x2a5ad8['z']),this[_0x1c61('0x312')]['add'](_0xb0f3f2),this['object3d'][_0x1c61('0x1c4')](_0x249983)),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x27e4fb);}},{'key':'update','value':function(){this[_0x1c61('0x41')]&&(this[_0x1c61('0x104')]-=this['lineSpeed'],this[_0x1c61('0x41')][_0x1c61('0xd9')][_0x1c61('0x2f2')]['x']=this[_0x1c61('0x104')]);}},{'key':'visible','set':function(_0xb0f3f2){this['object3d'][_0x1c61('0x32c')]=_0xb0f3f2;}}]),_0x134119['default']=_0xf1e7bf;},function(_0xd37ccd,_0x51bd07,_0x12c2e8){'use strict';Object[_0x1c61('0x2')](_0x51bd07,'__esModule',{'value':!0x0});var _0x3c8343=_0x145bde(_0x12c2e8(0xf)),_0x5336dd=_0x145bde(_0x12c2e8(0x0));function _0x145bde(_0xd37ccd){return _0xd37ccd&&_0xd37ccd[_0x1c61('0x5')]?_0xd37ccd:{'default':_0xd37ccd};}function _0x1a9d3b(_0xd37ccd){var _0x51bd07=_0xd37ccd[_0x1c61('0xdd')],_0x12c2e8=_0xd37ccd['texPath'],_0x145bde=_0xd37ccd[_0x1c61('0x4b3')],_0x145bde=void 0x0===_0x145bde?_0x1c61('0x43b'):_0x145bde,_0x2d1ef8=(_0xd37ccd['groundColor'],_0xd37ccd[_0x1c61('0x208')]),_0x2d1ef8=void 0x0===_0x2d1ef8?0x1:_0x2d1ef8,_0x5cc1aa=_0xd37ccd[_0x1c61('0x4b4')],_0x5cc1aa=void 0x0!==_0x5cc1aa&&_0x5cc1aa,_0x2f4ec1=_0xd37ccd[_0x1c61('0x4b5')],_0x2f4ec1=void 0x0!==_0x2f4ec1&&_0x2f4ec1,_0x4540cb=_0xd37ccd[_0x1c61('0x4b6')],_0x4540cb=void 0x0!==_0x4540cb&&_0x4540cb,_0x19d10b=_0xd37ccd[_0x1c61('0x4b7')],_0x19d10b=void 0x0===_0x19d10b?{'x':0x0,'y':0x0}:_0x19d10b,_0x3560da=_0xd37ccd['lightColorStr'],_0x3560da=void 0x0===_0x3560da?_0x1c61('0x4b8'):_0x3560da,_0x30ccb0=_0xd37ccd[_0x1c61('0x4b9')],_0x30ccb0=void 0x0===_0x30ccb0?0x1f4:_0x30ccb0,_0x8ade90=_0xd37ccd['lightDiffuse'],_0x8ade90=void 0x0===_0x8ade90?0x1:_0x8ade90,_0x5218fc=_0xd37ccd['scanExtent'],_0x5218fc=void 0x0===_0x5218fc?[0x2710,-0x2710]:_0x5218fc,_0xd37ccd=_0xd37ccd[_0x1c61('0x4ba')];(0x0,_0x5336dd['default'])(this,_0x1a9d3b),this[_0x1c61('0x2bb')]=_0x51bd07,this['buildingColor']=new THREE['Color']()[_0x1c61('0x2fa')](_0x145bde),this[_0x1c61('0x1c9')]=null,this[_0x1c61('0x41')]=null,this[_0x1c61('0x4bb')]=null,this['opacity']=_0x2d1ef8,this[_0x1c61('0x3c6')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=_0x5218fc[0x0],this[_0x1c61('0x4bc')]=_0x5218fc,this[_0x1c61('0x4b9')]=_0x30ccb0,this[_0x1c61('0x4bd')]=_0x8ade90,this[_0x1c61('0x4be')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x3560da),this[_0x1c61('0x4b4')]=_0x5cc1aa,this[_0x1c61('0x4b5')]=_0x2f4ec1?0x1:0x0,this['isOpenWireframScan']=_0x4540cb?0x1:0x0,this['scanCenter']=_0x19d10b,this[_0x1c61('0x4ba')]=(0x0,_0x3c8343[_0x1c61('0x8')])({'isUseRandomTexture':!0x1,'textPaths':[],'whFactor':new THREE[(_0x1c61('0x1cf'))](12.8,12.8)},_0xd37ccd),this[_0x1c61('0x2f8')](_0x12c2e8);}(0x0,_0x145bde(_0x12c2e8(0x1))[_0x1c61('0x8')])(_0x1a9d3b,[{'key':_0x1c61('0x4bf'),'value':function(_0xd37ccd){var _0x51bd07=_0xd37ccd[_0x1c61('0x3f')]['brothers'][_0x1c61('0xf')];if(0x0<_0x51bd07){for(var _0x12c2e8=_0xd37ccd[_0x1c61('0xda')][_0x1c61('0x405')](_0x1c61('0x218')),_0x145bde=new Array(_0x12c2e8['count']),_0x3a1f99=new Array(_0x12c2e8[_0x1c61('0x104')]),_0x57b176=0x0;_0x57b176<_0x51bd07;_0x57b176++){var _0x250652=_0xd37ccd[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x57b176][_0x1c61('0x4c1')][0x0],_0x95e2ad=_0xd37ccd['datas_'][_0x1c61('0x4c0')][_0x57b176][_0x1c61('0x4c2')][0x0],_0x362672=_0xd37ccd['datas_'][_0x1c61('0x4c0')][_0x57b176][_0x1c61('0x4c1')][0x1];_0x145bde[_0x1c61('0x4c3')](0x1,_0x250652,_0x95e2ad),_0x145bde[_0x1c61('0x4c3')](0x0,_0x95e2ad,_0x362672),_0x3a1f99['fill'](_0xd37ccd[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x57b176][_0x1c61('0x4c4')][_0x1c61('0x4c5')],_0x250652,_0x362672);}_0xd37ccd['geometry'][_0x1c61('0x31c')](_0x1c61('0x4c6'),new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x145bde),0x1)),_0xd37ccd[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x4c7'),new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x3a1f99),0x1));}}},{'key':'createMaterial','value':function(_0x51bd07){var _0x12c2e8=this,_0xd37ccd=new THREE['TextureLoader'](),_0x145bde=(_0x51bd07&&(this[_0x1c61('0x1c9')]=_0xd37ccd[_0x1c61('0x96')](_0x51bd07)),null);if(this[_0x1c61('0x4ba')][_0x1c61('0x4c8')]){for(var _0x3a111f=new Array(0x4)[_0x1c61('0x4c3')](null),_0x2c0d46=0x0,_0x498062=this[_0x1c61('0x4ba')][_0x1c61('0x4c9')][_0x1c61('0xf')];_0x2c0d46<_0x498062;_0x2c0d46++){var _0x215633=_0xd37ccd['load'](this[_0x1c61('0x4ba')][_0x1c61('0x4c9')][_0x2c0d46]);_0x215633['wrapS']=THREE[_0x1c61('0x333')],_0x215633[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x3a111f[_0x2c0d46]=_0x215633;}_0x145bde=new THREE[(_0x1c61('0x4ca'))](_0x3a111f);}this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x4cb'))]({'color':0xffffff}),this['isBlending']&&(this['material'][_0x1c61('0x1d8')]=THREE['AdditiveBlending']),this['opacity']<0x1&&(this[_0x1c61('0x41')][_0x1c61('0x1ee')]=!0x0,this[_0x1c61('0x41')][_0x1c61('0x208')]=this[_0x1c61('0x208')]),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0xd37ccd){_0xd37ccd['uniforms'][_0x1c61('0x4b5')]={'type':'i','value':_0x12c2e8[_0x1c61('0x4b5')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':_0x12c2e8[_0x1c61('0x104')]},_0x51bd07&&(_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x12c2e8[_0x1c61('0x1c9')]}),_0x145bde&&(_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4cc')]=_0x145bde,_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4cd')]={'value':_0x12c2e8[_0x1c61('0x4ba')]['whFactor']}),_0xd37ccd['uniforms']['buildingColor']={'value':_0x12c2e8[_0x1c61('0x4ce')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4cf')]={'value':new THREE['Color'](0x70d16)},_0xd37ccd['uniforms'][_0x1c61('0x4be')]={'value':_0x12c2e8['lightColor']},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4bd')]={'value':_0x12c2e8[_0x1c61('0x4bd')]},_0xd37ccd[_0x1c61('0x16a')]['lightWidth']={'value':_0x12c2e8[_0x1c61('0x4b9')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4b7')]={'value':new THREE[(_0x1c61('0x1cf'))](_0x12c2e8[_0x1c61('0x4b7')]['x'],_0x12c2e8['scanCenter']['y'])},_0xd37ccd[_0x1c61('0x56')]=_0xd37ccd[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x4d0')+(_0x51bd07?'#define\x20IS_TEXTURE':'')+_0x1c61('0x4d1')+(_0x12c2e8[_0x1c61('0x4ba')][_0x1c61('0x4c8')]?_0x1c61('0x4d2'):'')+_0x1c61('0x4d3')),_0xd37ccd[_0x1c61('0x56')]=_0xd37ccd['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x4d4')),_0xd37ccd['fragmentShader']=_0xd37ccd[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x4d1')+(_0x51bd07?'#define\x20IS_TEXTURE':'')+_0x1c61('0x4d1')+(_0x12c2e8[_0x1c61('0x4ba')][_0x1c61('0x4c8')]?_0x1c61('0x4d2'):'')+_0x1c61('0x4d5')),_0xd37ccd[_0x1c61('0x57')]=_0xd37ccd[_0x1c61('0x57')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x4d6')),_0x12c2e8[_0x1c61('0x3cf')]=_0xd37ccd;};}},{'key':_0x1c61('0x4d7'),'value':function(_0xd37ccd){var _0x51bd07=this;this[_0x1c61('0x4bb')]=_0xd37ccd,this['wireframeMaterial'][_0x1c61('0x3c7')]=function(_0xd37ccd){_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4b5')]={'type':'i','value':_0x51bd07[_0x1c61('0x4b6')]},_0xd37ccd[_0x1c61('0x16a')]['iTime']={'value':0x0},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4be')]={'value':_0x51bd07[_0x1c61('0x4be')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4bd')]={'value':_0x51bd07[_0x1c61('0x4bd')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4b9')]={'value':_0x51bd07[_0x1c61('0x4b9')]},_0xd37ccd[_0x1c61('0x16a')][_0x1c61('0x4b7')]={'value':new THREE['Vector2'](_0x51bd07[_0x1c61('0x4b7')]['x'],_0x51bd07['scanCenter']['y'])},_0xd37ccd[_0x1c61('0x56')]=_0xd37ccd[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x4d8')),_0xd37ccd[_0x1c61('0x56')]=_0xd37ccd[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x4d9')),_0xd37ccd[_0x1c61('0x57')]=_0xd37ccd[_0x1c61('0x57')]['replace'](_0x1c61('0x3cc'),_0x1c61('0x4da')),_0xd37ccd[_0x1c61('0x57')]=_0xd37ccd[_0x1c61('0x57')][_0x1c61('0x3c9')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1c61('0x4db')+_0x51bd07[_0x1c61('0x4b9')][_0x1c61('0x4dc')](0x1)+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isOpenScan\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20lineScan(vModelPos.x,\x20iTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x51bd07['wireframeShader']=_0xd37ccd;};}},{'key':_0x1c61('0x4dd'),'value':function(_0xd37ccd){_0xd37ccd=_0xd37ccd[_0x1c61('0x228')];this['shader']&&_0xd37ccd&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['buildingColor']['value']=_0xd37ccd);}},{'key':_0x1c61('0x4de'),'value':function(){return this[_0x1c61('0x41')];}},{'key':_0x1c61('0x4df'),'value':function(){return this['wireframeMaterial'];}},{'key':_0x1c61('0x3d1'),'value':function(_0xd37ccd){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]>this[_0x1c61('0x4bc')][0x0]&&(this[_0x1c61('0x104')]=this['scanExtent'][0x1]),this[_0x1c61('0x104')]+=_0xd37ccd,this['shader'][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=-this[_0x1c61('0x104')],this[_0x1c61('0x4e0')]&&(this['wireframeShader'][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=-this[_0x1c61('0x104')]));}}]),_0x51bd07['default']=_0x1a9d3b;},function(_0x1dc3e4,_0x34b9bb,_0x363422){_0x363422(0xb3),_0x1dc3e4[_0x1c61('0x1')]=_0x363422(0x2)[_0x1c61('0x15')]['sign'];},function(_0x1e9278,_0x8bee24,_0x56ce7b){var _0x19ed14=_0x56ce7b(0x3);_0x19ed14(_0x19ed14['S'],_0x1c61('0x15'),{'sign':_0x56ce7b(0xb4)});},function(_0x210a7d,_0xe3bf8f){_0x210a7d['exports']=Math[_0x1c61('0x4e1')]||function(_0x210a7d){return 0x0==(_0x210a7d=+_0x210a7d)||_0x210a7d!=_0x210a7d?_0x210a7d:_0x210a7d<0x0?-0x1:0x1;};},function(_0x12f732,_0x1d1102,_0x164dfb){_0x12f732['exports']={'default':_0x164dfb(0xb6),'__esModule':!0x0};},function(_0x249882,_0x5f98d0,_0x2c587b){_0x2c587b(0xb7),_0x249882[_0x1c61('0x1')]=_0x2c587b(0x2)[_0x1c61('0x15')][_0x1c61('0x4e2')];},function(_0x597530,_0x1dc79c,_0x365c13){_0x365c13=_0x365c13(0x3);_0x365c13(_0x365c13['S'],_0x1c61('0x15'),{'log10':function(_0x597530){return Math[_0x1c61('0x4e3')](_0x597530)*Math[_0x1c61('0x4e4')];}});},function(_0x2e2418,_0x101b57,_0x1e57ee){'use strict';_0x101b57['__esModule']=!0x0;var _0x27a5aa=_0x8e3c3a(_0x1e57ee(0xb9)),_0x1010c6=_0x8e3c3a(_0x1e57ee(0x4));function _0x8e3c3a(_0x2e2418){return _0x2e2418&&_0x2e2418[_0x1c61('0x5')]?_0x2e2418:{'default':_0x2e2418};}_0x101b57[_0x1c61('0x8')]=function(_0x2e2418,_0x101b57){if(Array[_0x1c61('0xdf')](_0x2e2418))return _0x2e2418;if((0x0,_0x27a5aa[_0x1c61('0x8')])(Object(_0x2e2418))){var _0x1e57ee=_0x101b57,_0x8e3c3a=[],_0x3f54dd=!0x0,_0x101b57=!0x1,_0x508a29=void 0x0;try{for(var _0x580a4c,_0x1ea4fc=(0x0,_0x1010c6[_0x1c61('0x8')])(_0x2e2418);!(_0x3f54dd=(_0x580a4c=_0x1ea4fc[_0x1c61('0x77')]())['done'])&&(_0x8e3c3a[_0x1c61('0x6f')](_0x580a4c[_0x1c61('0x1c')]),!_0x1e57ee||_0x8e3c3a[_0x1c61('0xf')]!==_0x1e57ee);_0x3f54dd=!0x0);}catch(_0x25e550){_0x101b57=!0x0,_0x508a29=_0x25e550;}finally{try{!_0x3f54dd&&_0x1ea4fc[_0x1c61('0x99')]&&_0x1ea4fc[_0x1c61('0x99')]();}finally{if(_0x101b57)throw _0x508a29;}}return _0x8e3c3a;}throw new TypeError(_0x1c61('0x4e5'));};},function(_0x4b1262,_0x5bf3e3,_0x8b0119){_0x4b1262['exports']={'default':_0x8b0119(0xba),'__esModule':!0x0};},function(_0x5af345,_0x205d1d,_0x39903d){_0x39903d(0x1b),_0x39903d(0x19),_0x5af345[_0x1c61('0x1')]=_0x39903d(0xbb);},function(_0x11c46d,_0x262f13,_0x42ec61){var _0x1e2887=_0x42ec61(0x2c),_0xc39436=_0x42ec61(0x6)(_0x1c61('0x76')),_0x235e22=_0x42ec61(0x11);_0x11c46d['exports']=_0x42ec61(0x2)[_0x1c61('0x4e6')]=function(_0x11c46d){_0x11c46d=Object(_0x11c46d);return void 0x0!==_0x11c46d[_0xc39436]||_0x1c61('0x8b')in _0x11c46d||_0x235e22[_0x1c61('0xc')](_0x1e2887(_0x11c46d));};},function(_0x17ddcd,_0xef6806,_0x24ba1e){'use strict';Object[_0x1c61('0x2')](_0xef6806,_0x1c61('0x5'),{'value':!0x0}),_0xef6806[_0x1c61('0x8')]={'createCircleGradient':function(_0x17ddcd){var _0xef6806=document[_0x1c61('0x75')]('canvas'),_0x24ba1e=(_0xef6806[_0x1c61('0x328')]=0x100,_0xef6806[_0x1c61('0x2f7')]=0x100,_0xef6806[_0x1c61('0x464')]('2d')),_0x17ddcd=_0x24ba1e[_0x1c61('0x4e7')](0x80,0x80,0x80*_0x17ddcd[0x0],0x80,0x80,0x80*_0x17ddcd[0x1]);return _0x17ddcd[_0x1c61('0x4e8')](0x0,_0x1c61('0x4e9')),_0x17ddcd['addColorStop'](0x1,_0x1c61('0x4ea')),_0x24ba1e[_0x1c61('0x4a6')]=_0x17ddcd,_0x24ba1e['fillRect'](0x0,0x0,0x100,0x100),_0xef6806;}};},,,,,,,,,,,,,,,,function(_0x5878a9,_0x25ca41,_0x49c3d3){'use strict';var _0x5cac75,_0x1e7a47=_0x40cc81(_0x49c3d3(0x4)),_0x39058b=(_0x49c3d3(0xcd),_0x49c3d3(0xce),_0x49c3d3(0x1a)),_0x5c339c=_0x40cc81(_0x49c3d3(0xcf)),_0x142750=_0x40cc81(_0x49c3d3(0xd0)),_0x232d18=_0x49c3d3(0x62),_0x49c3d3=_0x40cc81(_0x49c3d3(0xfc));function _0x40cc81(_0x5878a9){return _0x5878a9&&_0x5878a9['__esModule']?_0x5878a9:{'default':_0x5878a9};}if(!esmap)throw new Error(_0x1c61('0x4eb'));for(_0x5cac75 in esmap['ESLayerType'][_0x1c61('0x4ec')]='effectMarker',esmap[_0x1c61('0x4ed')][_0x1c61('0x4ec')]=_0x1c61('0x4ee'),esmap[_0x1c61('0x27f')]={},_0x232d18[_0x1c61('0x27f')])esmap[_0x1c61('0x27f')][_0x5cac75]=_0x232d18[_0x1c61('0x27f')][_0x5cac75];esmap['effects']=!0x0,esmap[_0x1c61('0x51')]={'init':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4ef')],'isExecuteInit':!0x1,'EffectLayer':_0x5c339c[_0x1c61('0x8')],'EffectMarker':_0x142750['default'],'markers':_0x49c3d3['default'][_0x1c61('0x4f0')],'buildings':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f1')],'floors':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f2')],'ground':_0x49c3d3['default'][_0x1c61('0x4f3')],'lights':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f4')],'models':_0x49c3d3['default']['models'],'routes':_0x49c3d3[_0x1c61('0x8')]['routes'],'skybox':_0x49c3d3[_0x1c61('0x8')]['skybox'],'water':_0x49c3d3[_0x1c61('0x8')]['water'],'video':_0x49c3d3[_0x1c61('0x8')]['video'],'screenEffect':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f5')],'switchEffectTheme':_0x49c3d3[_0x1c61('0x8')]['switchEffectTheme'],'switchEffectLight':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f6')],'clearAll':_0x49c3d3[_0x1c61('0x8')][_0x1c61('0x4f7')],'addLayerToMap':function(_0x5878a9,_0x25ca41,_0x49c3d3){if(esmap[_0x1c61('0x51')]['isInitComplete']){if(!(0x0,_0x39058b['getMapInstance'])()[_0x1c61('0x45c')]['scene'])throw new Error(_0x1c61('0x4f8'));var _0x5cac75;(0x0,_0x39058b[_0x1c61('0x32')])()?((_0x5cac75=(0x0,_0x39058b[_0x1c61('0x38')])(_0x25ca41||0x0))['getFloorHeight'](_0x49c3d3||0x1),(_0x5cac75=_0x5cac75[_0x1c61('0x4f9')](_0x49c3d3||0x1))[_0x1c61('0x4fa')]||(_0x5cac75[_0x1c61('0x4fa')]=[]),_0x5cac75[_0x1c61('0x4fa')]['push'](_0x5878a9),_0x5878a9['FloorNum']=_0x5cac75[_0x1c61('0x4fb')],_0x5cac75[_0x1c61('0x4fc')][_0x1c61('0x1c4')](_0x5878a9[_0x1c61('0x4fc')])):((_0x49c3d3=(0x0,_0x39058b[_0x1c61('0x38')])())[_0x1c61('0x4fd')](_0x25ca41||0x1),(_0x5cac75=_0x49c3d3[_0x1c61('0x4f9')](_0x25ca41||0x1))['_effectLayers']||(_0x5cac75[_0x1c61('0x4fa')]=[]),_0x5cac75['_effectLayers']['push'](_0x5878a9),_0x5878a9[_0x1c61('0x4fb')]=_0x5cac75[_0x1c61('0x4fb')],_0x5cac75[_0x1c61('0x4fc')]['add'](_0x5878a9['o3d_']));}else console['info'](_0x1c61('0x4fe'));},'addLayer':function(_0x5878a9){var _0x25ca41,_0x49c3d3=0x1<arguments[_0x1c61('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap[_0x1c61('0x51')][_0x1c61('0x4ff')]){if(!(0x0,_0x39058b[_0x1c61('0x2a')])()[_0x1c61('0x45c')][_0x1c61('0x456')])throw new Error(_0x1c61('0x4f8'));(0x0,_0x39058b[_0x1c61('0x32')])()?((_0x25ca41=(0x0,_0x39058b['getBuiding'])(_0x49c3d3[_0x1c61('0x500')]||0x0))['getFloorHeight'](_0x49c3d3['fnum']||0x1),(_0x25ca41=_0x25ca41[_0x1c61('0x4f9')](_0x49c3d3['fnum']||0x1))['_effectLayers']||(_0x25ca41[_0x1c61('0x4fa')]=[]),_0x25ca41['_effectLayers'][_0x1c61('0x6f')](_0x5878a9),_0x5878a9[_0x1c61('0x4fb')]=_0x25ca41['FloorNum'],_0x25ca41['o3d_'][_0x1c61('0x1c4')](_0x5878a9[_0x1c61('0x4fc')])):((_0x25ca41=(0x0,_0x39058b[_0x1c61('0x38')])()[_0x1c61('0x4f9')](_0x49c3d3[_0x1c61('0x501')]||0x1))[_0x1c61('0x4fa')]||(_0x25ca41['_effectLayers']=[]),_0x25ca41[_0x1c61('0x4fa')][_0x1c61('0x6f')](_0x5878a9),_0x5878a9[_0x1c61('0x4fb')]=_0x25ca41[_0x1c61('0x4fb')],_0x25ca41['o3d_'][_0x1c61('0x1c4')](_0x5878a9[_0x1c61('0x4fc')]));}else console['info']('effect\x20initialize\x20is\x20not\x20complete!');},'removeLayer':function(_0x5878a9){_0x5878a9['dispose']();},'removeLayersByNames':function(_0x5878a9){var _0x5878a9=this[_0x1c61('0x502')](_0x5878a9),_0x25ca41=!0x0,_0x49c3d3=!0x1,_0x5cac75=void 0x0;try{for(var _0x5c339c,_0x142750=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0x5878a9);!(_0x25ca41=(_0x5c339c=_0x142750[_0x1c61('0x77')]())['done']);_0x25ca41=!0x0){var _0x232d18=_0x5c339c[_0x1c61('0x1c')];this['removeLayer'](_0x232d18);}}catch(_0x24a24d){_0x49c3d3=!0x0,_0x5cac75=_0x24a24d;}finally{try{!_0x25ca41&&_0x142750[_0x1c61('0x99')]&&_0x142750[_0x1c61('0x99')]();}finally{if(_0x49c3d3)throw _0x5cac75;}}},'getLayersByNames':function(_0x5878a9){if(Array[_0x1c61('0xdf')](_0x5878a9)&&0x0<_0x5878a9[_0x1c61('0xf')]){var _0x25ca41=[],_0x49c3d3=(0x0,_0x39058b[_0x1c61('0x2a')])();if((0x0,_0x39058b[_0x1c61('0x32')])()){var _0x5cac75=(0x0,_0x39058b[_0x1c61('0x38')])(0x0)[_0x1c61('0x4f9')](0x1),_0x5c339c=!0x0,_0x142750=!0x1,_0x232d18=void 0x0;try{for(var _0x40cc81,_0xdc87ba=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0x5cac75[_0x1c61('0x4fa')]);!(_0x5c339c=(_0x40cc81=_0xdc87ba[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5c339c=!0x0){var _0x3b3fab=_0x40cc81[_0x1c61('0x1c')];-0x1<_0x5878a9['indexOf'](_0x3b3fab[_0x1c61('0x7b')])&&_0x25ca41[_0x1c61('0x6f')](_0x3b3fab);}}catch(_0x13b371){_0x142750=!0x0,_0x232d18=_0x13b371;}finally{try{!_0x5c339c&&_0xdc87ba[_0x1c61('0x99')]&&_0xdc87ba['return']();}finally{if(_0x142750)throw _0x232d18;}}for(var _0x36528c=_0x49c3d3[_0x1c61('0x503')],_0xb66f43=0x0;_0xb66f43<_0x36528c['length'];_0xb66f43++){var _0x22765c=!0x0,_0x25671=!0x1,_0x5ea415=void 0x0;try{for(var _0x507ac9,_0x3ea7fb=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0x36528c[_0xb66f43][_0x1c61('0x504')]);!(_0x22765c=(_0x507ac9=_0x3ea7fb['next']())[_0x1c61('0x89')]);_0x22765c=!0x0){var _0x4565ac=_0x507ac9[_0x1c61('0x1c')],_0x917350=_0x36528c[_0xb66f43][_0x1c61('0x4f9')](_0x4565ac);if(_0x917350[_0x1c61('0x4fa')]){var _0x21292f=!0x0,_0x3bceac=!0x1,_0x101d28=void 0x0;try{for(var _0x392ae6,_0xf7f699=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0x917350[_0x1c61('0x4fa')]);!(_0x21292f=(_0x392ae6=_0xf7f699[_0x1c61('0x77')]())['done']);_0x21292f=!0x0){var _0x17ae2f=_0x392ae6[_0x1c61('0x1c')];-0x1<_0x5878a9[_0x1c61('0x50')](_0x17ae2f[_0x1c61('0x7b')])&&_0x25ca41[_0x1c61('0x6f')](_0x17ae2f);}}catch(_0x1d2f89){_0x3bceac=!0x0,_0x101d28=_0x1d2f89;}finally{try{!_0x21292f&&_0xf7f699[_0x1c61('0x99')]&&_0xf7f699[_0x1c61('0x99')]();}finally{if(_0x3bceac)throw _0x101d28;}}}}}catch(_0x1b7376){_0x25671=!0x0,_0x5ea415=_0x1b7376;}finally{try{!_0x22765c&&_0x3ea7fb['return']&&_0x3ea7fb[_0x1c61('0x99')]();}finally{if(_0x25671)throw _0x5ea415;}}}}else{var _0xb9390b=(0x0,_0x39058b[_0x1c61('0x38')])(),_0x4f9a24=!0x0,_0x5cac75=!0x1,_0x142750=void 0x0;try{for(var _0x310827,_0x31a938=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0xb9390b[_0x1c61('0x504')]);!(_0x4f9a24=(_0x310827=_0x31a938['next']())[_0x1c61('0x89')]);_0x4f9a24=!0x0){var _0x455bf0=_0x310827[_0x1c61('0x1c')],_0x428e6e=_0xb9390b[_0x1c61('0x4f9')](_0x455bf0);if(_0x428e6e[_0x1c61('0x4fa')]){var _0x5a7841=!0x0,_0x5658b9=!0x1,_0x56dbba=void 0x0;try{for(var _0x2a27e9,_0x1a5f3a=(0x0,_0x1e7a47[_0x1c61('0x8')])(_0x428e6e[_0x1c61('0x4fa')]);!(_0x5a7841=(_0x2a27e9=_0x1a5f3a['next']())['done']);_0x5a7841=!0x0){var _0x422f42=_0x2a27e9[_0x1c61('0x1c')];-0x1<_0x5878a9[_0x1c61('0x50')](_0x422f42[_0x1c61('0x7b')])&&_0x25ca41[_0x1c61('0x6f')](_0x422f42);}}catch(_0x4c55aa){_0x5658b9=!0x0,_0x56dbba=_0x4c55aa;}finally{try{!_0x5a7841&&_0x1a5f3a[_0x1c61('0x99')]&&_0x1a5f3a['return']();}finally{if(_0x5658b9)throw _0x56dbba;}}}}}catch(_0x50f901){_0x5cac75=!0x0,_0x142750=_0x50f901;}finally{try{!_0x4f9a24&&_0x31a938[_0x1c61('0x99')]&&_0x31a938['return']();}finally{if(_0x5cac75)throw _0x142750;}}}return _0x25ca41;}}};},function(_0x16072c,_0x38936a,_0x4e21eb){'use strict';var _0x7583cd,_0x281c2a,_0x5a8e80,_0x4292e3=_0x2e631f(_0x4e21eb(0x58)),_0x5ecc25=_0x2e631f(_0x4e21eb(0x1d));function _0x2e631f(_0x16072c){return _0x16072c&&_0x16072c['__esModule']?_0x16072c:{'default':_0x16072c};}function _0x4ec2ac(_0x16072c){if(this instanceof _0x4ec2ac)throw new TypeError(_0x1c61('0x505'));var _0x16072c=void 0x0===_0x16072c?void 0x0:String(_0x16072c),_0x38936a=(0x0,_0x5ecc25[_0x1c61('0x8')])({'toString':function(){return this[_0x1c61('0x506')];},'valueOf':function(){return this;}});return(0x0,_0x4292e3[_0x1c61('0x8')])(_0x38936a,{'__Description__':{'value':_0x16072c,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x281c2a(_0x16072c),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0x38936a;}_0x4e21eb=window,_0x281c2a=function(_0x16072c){return'@@'+_0x16072c+'_'+ ++_0x7583cd;},_0x5a8e80={},(_0x7583cd=0x0,_0x4292e3[_0x1c61('0x8')])(_0x4ec2ac,{'for':{'value':function(_0x16072c){_0x16072c=void 0x0===_0x16072c?void 0x0:String(_0x16072c);return _0x5a8e80[_0x16072c]||(_0x5a8e80[_0x16072c]=_0x4ec2ac(_0x16072c));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x16072c){for(var _0x38936a in _0x5a8e80)if(_0x5a8e80[_0x38936a]===_0x16072c)return _0x38936a;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window[_0x1c61('0x17')]||(_0x4e21eb[_0x1c61('0x17')]=_0x4ec2ac);},function(_0x14cffa,_0x542d3d,_0x16763e){'use strict';Array[_0x1c61('0xb')][_0x1c61('0x4c3')]||Object[_0x1c61('0x2')](Array[_0x1c61('0xb')],'fill',{'value':function(_0x14cffa){if(null==this)throw new TypeError(_0x1c61('0x507'));for(var _0x542d3d=Object(this),_0x16763e=_0x542d3d[_0x1c61('0xf')]>>>0x0,_0x163706=arguments[0x1]>>0x0,_0x125adb=_0x163706<0x0?Math[_0x1c61('0x101')](_0x16763e+_0x163706,0x0):Math['min'](_0x163706,_0x16763e),_0x163706=arguments[0x2],_0x163706=void 0x0===_0x163706?_0x16763e:_0x163706>>0x0,_0x21a035=_0x163706<0x0?Math['max'](_0x16763e+_0x163706,0x0):Math['min'](_0x163706,_0x16763e);_0x125adb<_0x21a035;)_0x542d3d[_0x125adb]=_0x14cffa,_0x125adb++;return _0x542d3d;}});},function(_0xaa7781,_0x4b1384,_0xdb5edb){'use strict';Object[_0x1c61('0x2')](_0x4b1384,_0x1c61('0x5'),{'value':!0x0});var _0x4d1a2f=_0x3cb2b0(_0xdb5edb(0x4)),_0x1b79a4=_0x3cb2b0(_0xdb5edb(0x0));function _0x3cb2b0(_0xaa7781){return _0xaa7781&&_0xaa7781['__esModule']?_0xaa7781:{'default':_0xaa7781};}function _0x4b76f5(_0xaa7781,_0x4b1384){(0x0,_0x1b79a4[_0x1c61('0x8')])(this,_0x4b76f5),this[_0x1c61('0x4fc')]=new THREE['Object3D'](),(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x1c61('0x7b')]=_0xaa7781,this[_0x1c61('0x90')]=_0x4b1384,this[_0x1c61('0x4fb')]=0x1,this[_0x1c61('0x31b')]=[];}(0x0,_0x3cb2b0(_0xdb5edb(0x1))[_0x1c61('0x8')])(_0x4b76f5,[{'key':_0x1c61('0x508'),'value':function(_0xaa7781){_0xaa7781['o3d_']&&(this['o3d_']['add'](_0xaa7781[_0x1c61('0x4fc')]),_0xaa7781[_0x1c61('0x488')]({'type':_0x1c61('0x460')}),this['children'][_0x1c61('0x6f')](_0xaa7781),_0xaa7781['FloorNum']=this[_0x1c61('0x4fb')],esmap['ESEffectTool'][_0x1c61('0x4f0')]&&esmap[_0x1c61('0x51')][_0x1c61('0x4f0')][_0x1c61('0x1c4')](_0xaa7781));}},{'key':_0x1c61('0xdc'),'value':function(_0xaa7781){_0xaa7781[_0x1c61('0x4fc')]&&(esmap[_0x1c61('0x51')][_0x1c61('0x4f0')]&&esmap[_0x1c61('0x51')][_0x1c61('0x4f0')][_0x1c61('0xdc')](_0xaa7781),_0xaa7781[_0x1c61('0xd8')]());}},{'key':_0x1c61('0x509'),'value':function(){if(0x0!==this['children'][_0x1c61('0xf')]){var _0xaa7781=!0x0,_0x4b1384=!0x1,_0xdb5edb=void 0x0;try{for(var _0x1b79a4,_0x3cb2b0=(0x0,_0x4d1a2f[_0x1c61('0x8')])(this[_0x1c61('0x31b')]);!(_0xaa7781=(_0x1b79a4=_0x3cb2b0['next']())[_0x1c61('0x89')]);_0xaa7781=!0x0){var _0x4b76f5=_0x1b79a4[_0x1c61('0x1c')];esmap[_0x1c61('0x51')][_0x1c61('0x4f0')]&&esmap[_0x1c61('0x51')][_0x1c61('0x4f0')]['remove'](_0x4b76f5),_0x4b76f5[_0x1c61('0xd8')](),_0x4b76f5=null;}}catch(_0x130ef5){_0x4b1384=!0x0,_0xdb5edb=_0x130ef5;}finally{try{!_0xaa7781&&_0x3cb2b0[_0x1c61('0x99')]&&_0x3cb2b0[_0x1c61('0x99')]();}finally{if(_0x4b1384)throw _0xdb5edb;}}this[_0x1c61('0x31b')][_0x1c61('0xf')]=0x0;}}},{'key':_0x1c61('0xd8'),'value':function(){this['removeAll'](),DisposeUtils[_0x1c61('0xd8')](this[_0x1c61('0x4fc')]);}},{'key':'visible','set':function(_0xaa7781){this[_0x1c61('0x4fc')]['visible']=_0xaa7781;},'get':function(){return this[_0x1c61('0x4fc')][_0x1c61('0x32c')];}}]),_0x4b1384[_0x1c61('0x8')]=_0x4b76f5;},function(_0x6e6202,_0x33237f,_0x4b3349){'use strict';Object[_0x1c61('0x2')](_0x33237f,'__esModule',{'value':!0x0});var _0x4a3c84=_0x3e9201(_0x4b3349(0x26)),_0x1eef41=_0x3e9201(_0x4b3349(0x0)),_0x2f5148=_0x3e9201(_0x4b3349(0x1)),_0x5a678d=_0x3e9201(_0x4b3349(0x31)),_0x45483c=_0x3e9201(_0x4b3349(0x32)),_0x4f820f=_0x3e9201(_0x4b3349(0x9a)),_0x25bec4=_0x3e9201(_0x4b3349(0x4)),_0x46f6a=_0x3e9201(_0x4b3349(0x45)),_0x42fb47=_0x4b3349(0x62),_0xa15fe5=function(_0x6e6202){if(_0x6e6202&&_0x6e6202[_0x1c61('0x5')])return _0x6e6202;var _0x33237f={};if(null!=_0x6e6202)for(var _0x4b3349 in _0x6e6202)Object['prototype'][_0x1c61('0xc')]['call'](_0x6e6202,_0x4b3349)&&(_0x33237f[_0x4b3349]=_0x6e6202[_0x4b3349]);return _0x33237f['default']=_0x6e6202,_0x33237f;}(_0x4b3349(0x41)),_0x414afc=_0x4b3349(0x3b),_0x2c4ea6=_0x3e9201(_0x4b3349(0x3c)),_0x358b85=_0x3e9201(_0x4b3349(0x46)),_0x56d03f=_0x4b3349(0x1a),_0x50a851=_0x3e9201(_0x4b3349(0xfb));function _0x3e9201(_0x6e6202){return _0x6e6202&&_0x6e6202[_0x1c61('0x5')]?_0x6e6202:{'default':_0x6e6202};}var _0x255cd4=(0x0,_0x46f6a[_0x1c61('0x8')])('marker'),_0x22b3f1={'CubeFloatMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('CubeFloatMarker'),'CylinderFloatMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0xc6')),'CylinderSpreadMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('CylinderSpreadMarker'),'CircleRotateYMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('CircleRotateYMarker'),'CircleRippleMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x50a')),'CircleBipsMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('CircleBipsMarker'),'CircleRadianMarker':(0x0,_0x46f6a['default'])(_0x1c61('0x50b')),'MultiCircleBreathMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x50c')),'CurveLinkLine':(0x0,_0x46f6a[_0x1c61('0x8')])('CurveLinkLine'),'UpLine':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x50d')),'MulripleMeshLine':(0x0,_0x46f6a['default'])(_0x1c61('0xb2')),'PointsLine':(0x0,_0x46f6a[_0x1c61('0x8')])('PointsLine'),'Points':(0x0,_0x46f6a[_0x1c61('0x8')])('Points'),'UnderGroundLine':(0x0,_0x46f6a['default'])(_0x1c61('0xc1')),'NumberUpParticle':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x50e')),'SphereSpreadMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('SphereSpreadMarker'),'ExtentWallMarker':(0x0,_0x46f6a['default'])('ExtentWallMarker'),'FireSmokeMarker':(0x0,_0x46f6a['default'])(_0x1c61('0x50f')),'SmokeMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x510')),'FireMarker':(0x0,_0x46f6a['default'])(_0x1c61('0x511')),'WaterSpreadMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x512')),'FloatPointsMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x513')),'PlaneVideoMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('PlaneVideoMarker'),'GuideLineMarker':(0x0,_0x46f6a['default'])(_0x1c61('0x514')),'SignalWifiMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x515')),'PlaneWindMarker':(0x0,_0x46f6a[_0x1c61('0x8')])(_0x1c61('0x516')),'PlaneFogMarker':(0x0,_0x46f6a[_0x1c61('0x8')])('PlaneFogMarker')},_0x33a8ce=new _0x2c4ea6[(_0x1c61('0x8'))](),_0x48b227=((0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349={},_0x22b3f1[_0x1c61('0xc7')],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xc7'))]({'colorStr':_0x6e6202[_0x1c61('0x228')]});return _0x6e6202['x']&&_0x6e6202['y']&&_0x33237f[_0x1c61('0x7')]({'radius':_0x6e6202[_0x1c61('0x226')]}),_0xddc098(_0x6e6202,_0x33237f['object3d']),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0xc6')],function(_0x6e6202){var _0x33237f=new _0xa15fe5['CylinderFloatMarker'](),_0x4b3349=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x518')),_0x4b3349=_0x33a8ce[_0x1c61('0x96')](_0x4b3349);return _0x33237f[_0x1c61('0x7')]({'texture':_0x4b3349,'radius':_0x6e6202[_0x1c61('0x226')],'height':_0x6e6202[_0x1c61('0x519')],'colorStr':_0x6e6202['color'],'animateOpts':{'centerHeight':_0x6e6202[_0x1c61('0x2f7')],'swingHeight':_0x6e6202[_0x1c61('0x51a')],'speed':0.02}}),!esmap['ESEffectTool']['options'][_0x1c61('0x51b')]&&_0x6e6202[_0x1c61('0x51c')]&&(_0x33237f['material'][_0x1c61('0x1d8')]=THREE[_0x1c61('0x1d9')]),_0xddc098(_0x6e6202,_0x33237f['object3d']),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0xc5')],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xc5'))](),_0x4b3349=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x51d')),_0x4b3349=_0x33a8ce[_0x1c61('0x96')](_0x4b3349),_0x2f5148=(0x0,_0x56d03f[_0x1c61('0x2a')])();return _0x4b3349[_0x1c61('0x51e')]=_0x2f5148[_0x1c61('0x45c')][_0x1c61('0x51f')]['capabilities'][_0x1c61('0x520')](),_0x33237f[_0x1c61('0x7')]({'colorStr':_0x6e6202[_0x1c61('0x228')],'texture':_0x4b3349,'radius':_0x6e6202[_0x1c61('0x226')],'speed':_0x6e6202[_0x1c61('0x32f')],'textureAngle':_0x6e6202[_0x1c61('0x1f7')]}),_0x6e6202[_0x1c61('0x521')]&&(_0x33237f[_0x1c61('0x41')][_0x1c61('0x1dc')]=!0x1),_0x6e6202['renderOrder']&&(_0x33237f['object3d']['renderOrder']=_0x6e6202[_0x1c61('0x311')]),!esmap[_0x1c61('0x51')]['options'][_0x1c61('0x51b')]&&_0x6e6202['isShine']&&(_0x33237f[_0x1c61('0x41')][_0x1c61('0x1d8')]=THREE['AdditiveBlending']),_0xddc098(_0x6e6202,_0x33237f[_0x1c61('0x312')]),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0xc4')],function(_0x6e6202){var _0x33237f=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x522'))),_0x4b3349=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x523'))),_0x33237f=new _0xa15fe5[(_0x1c61('0xc4'))]({'lineTexture':_0x33237f,'rippleTexture':_0x4b3349});return _0x33237f['create']({'startPos':{'x':-_0x6e6202['startPos']['x'],'y':_0x6e6202['startPos'][_0x1c61('0x2f7')],'z':_0x6e6202[_0x1c61('0x433')]['y']},'endPos':{'x':-_0x6e6202[_0x1c61('0x524')]['x'],'y':_0x6e6202['endPos'][_0x1c61('0x2f7')],'z':_0x6e6202[_0x1c61('0x524')]['y']},'maxHeight':_0x6e6202['maxHeight'],'colorStr':_0x6e6202[_0x1c61('0x228')],'isDoubleSide':_0x6e6202['isDoubleSide']}),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0xc3')],function(_0x6e6202){var _0x33237f=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])('images/points/particle1.png')),_0x4b3349=new _0xa15fe5[(_0x1c61('0xc3'))]({'gapDistance':_0x6e6202['gapDistance'],'activeNum':_0x6e6202[_0x1c61('0x525')],'pointSize':_0x6e6202[_0x1c61('0x43c')],'colorStr':_0x6e6202[_0x1c61('0x228')]}),_0x33237f=_0x4b3349['create']({'texture':_0x33237f,'points':_0x6e6202[_0x1c61('0x289')]}),_0x6e6202=(_0xddc098(_0x6e6202,_0x33237f),_0x6e6202['points'][0x0]);return(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x33237f,_0x6e6202,_0x6e6202['height']),_0x4b3349;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0xc2')],function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f[_0x1c61('0x2a')])(),_0x4b3349=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x526'))),_0x33237f=new _0xa15fe5[(_0x1c61('0xc2'))]({'pointSize':_0x6e6202[_0x1c61('0x43c')],'colorStr':_0x6e6202[_0x1c61('0x228')],'animateType':_0x6e6202['animateType'],'timer':_0x33237f[_0x1c61('0x2e8')],'period':_0x6e6202[_0x1c61('0x527')]}),_0x4b3349=_0x33237f[_0x1c61('0x7')]({'texture':_0x4b3349,'points':_0x6e6202[_0x1c61('0x289')]}),_0x2f5148=(_0x6e6202[_0x1c61('0x521')]&&(_0x33237f[_0x1c61('0x41')][_0x1c61('0x1dc')]=!0x1),_0xddc098(_0x6e6202,_0x4b3349),_0x6e6202['points'][0x0]),_0x6e6202=void 0x0!==_0x6e6202[_0x1c61('0x2f7')]?_0x6e6202[_0x1c61('0x2f7')]:0.1;return(0x0,_0x56d03f['setPositionFromMc'])(_0x4b3349,_0x2f5148,_0x6e6202),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1['UnderGroundLine'],function(_0x6e6202){var _0x33237f=_0x33a8ce['load'](_0x1c61('0x528')),_0x4b3349=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f['getConfigAssetsPath'])(_0x1c61('0x529'))),_0x2f5148=[],_0x45483c=!0x0,_0x4f820f=!0x1,_0x4a3c84=void 0x0;try{for(var _0x1eef41,_0x5a678d=(0x0,_0x25bec4[_0x1c61('0x8')])(_0x6e6202[_0x1c61('0x289')]);!(_0x45483c=(_0x1eef41=_0x5a678d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x45483c=!0x0){var _0x46f6a=_0x1eef41['value'];_0x2f5148[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](-_0x46f6a['x'],_0x46f6a[_0x1c61('0x2f7')],_0x46f6a['y']));}}catch(_0x3bf28e){_0x4f820f=!0x0,_0x4a3c84=_0x3bf28e;}finally{try{!_0x45483c&&_0x5a678d[_0x1c61('0x99')]&&_0x5a678d[_0x1c61('0x99')]();}finally{if(_0x4f820f)throw _0x4a3c84;}}_0x4f820f=new _0xa15fe5[(_0x1c61('0xc1'))]({'lineTexture':_0x33237f,'spriteTexture':_0x4b3349,'lineColorStr':_0x6e6202[_0x1c61('0x52a')],'bgColorStr':_0x6e6202['numberBgColor'],'numberColorStr':_0x6e6202[_0x1c61('0x4a1')],'number':_0x6e6202[_0x1c61('0x1aa')],'repeatX':_0x6e6202[_0x1c61('0x52b')]});return _0x4f820f[_0x1c61('0x7')](_0x2f5148),_0x4f820f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x50a')],function(_0x6e6202){var _0x33237f=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])('images/out_light4.png')),_0x33237f=new _0xa15fe5[(_0x1c61('0xbf'))]({'colorStr':_0x6e6202[_0x1c61('0x228')],'isSpread':_0x6e6202['isSpread'],'radius':_0x6e6202[_0x1c61('0x226')],'texture':_0x33237f,'speed':_0x6e6202[_0x1c61('0x32f')]}),_0x4b3349=(_0x6e6202['seeThrough']&&(_0x33237f[_0x1c61('0x41')]['depthTest']=!0x1),_0x33237f[_0x1c61('0x41')]['depthWrite']=!0x1,_0x6e6202[_0x1c61('0x208')]&&(_0x33237f['material']['opacity']=_0x6e6202[_0x1c61('0x208')]),_0x33237f['create']());return _0x6e6202[_0x1c61('0x311')]&&(_0x4b3349[_0x1c61('0x311')]=_0x6e6202[_0x1c61('0x311')]),!esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x51b')]&&_0x6e6202['isShine']&&(_0x33237f[_0x1c61('0x41')][_0x1c61('0x1d8')]=THREE[_0x1c61('0x1d9')]),_0xddc098(_0x6e6202,_0x4b3349),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0x52c')],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xd1'))]({'colorStr':_0x6e6202[_0x1c61('0x228')],'radius':_0x6e6202[_0x1c61('0x226')]}),_0x4b3349=_0x33237f['create']();return _0xddc098(_0x6e6202,_0x4b3349),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1['MultiCircleBreathMarker'],function(_0x6e6202){var _0x33237f=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x52d')),_0x33237f=_0x33a8ce[_0x1c61('0x96')](_0x33237f),_0x33237f=new _0xa15fe5['MultiCircleBreath']({'colorStr':_0x6e6202[_0x1c61('0x228')],'radius':_0x6e6202[_0x1c61('0x226')],'texture':_0x33237f,'speed':_0x6e6202[_0x1c61('0x32f')]});return _0x6e6202[_0x1c61('0x521')]&&(_0x33237f[_0x1c61('0x41')][_0x1c61('0x1dc')]=!0x1),_0x33237f[_0x1c61('0x41')][_0x1c61('0x1db')]=!0x1,_0x33237f[_0x1c61('0x7')](),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1['CylinderSpreadMarker'],function(_0x6e6202){var _0x33237f=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x52e'))),_0x33237f=((0x0,_0x56d03f[_0x1c61('0x32')])()&&(_0x6e6202[_0x1c61('0x52f')]=!0x0),new _0xa15fe5[(_0x1c61('0xbe'))]({'texture':_0x33237f,'radius':_0x6e6202[_0x1c61('0x226')],'height':_0x6e6202[_0x1c61('0x530')],'colorStr':_0x6e6202['color'],'isCilpGround':_0x6e6202[_0x1c61('0x52f')],'clipGroundY':_0x6e6202['clipGroundY']}));return _0x33237f['create'](),esmap[_0x1c61('0x51')][_0x1c61('0x47')]['isOpenScreenEffect']&&_0x33237f[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x531')](0x0,0x0,0.2),!esmap[_0x1c61('0x51')]['options'][_0x1c61('0x51b')]&&_0x6e6202[_0x1c61('0x51c')]&&(_0x33237f['material'][_0x1c61('0x1d8')]=THREE[_0x1c61('0x1d9')]),_0xddc098(_0x6e6202,_0x33237f[_0x1c61('0x532')]),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x50b')],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xbd'))]({'colorStr':_0x6e6202[_0x1c61('0x228')]});return _0x33237f[_0x1c61('0x7')]({'radius':_0x6e6202[_0x1c61('0x226')]}),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x50e')],function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f['getMapInstance'])(),_0x4b3349=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x533'))),_0x2f5148=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])('images/alpha_gradient.png')),_0x45483c=new _0xa15fe5['NumberUpEffect']({'camera':_0x33237f[_0x1c61('0x45c')]['camera'],'controls':_0x33237f[_0x1c61('0x2bc')],'colorStr':_0x6e6202[_0x1c61('0x228')],'speed':_0x6e6202[_0x1c61('0x32f')],'texture':_0x4b3349,'alphaTex':_0x2f5148});if(_0x6e6202['offsetHeight']&&(_0x45483c[_0x1c61('0x312')][_0x1c61('0x218')]['y']=_0x6e6202[_0x1c61('0x534')]),_0x6e6202[_0x1c61('0x2f7')]=_0x6e6202['width']/(0x1/0x8),_0x6e6202[_0x1c61('0x535')])for(var _0x4f820f=0x0;_0x4f820f<_0x6e6202[_0x1c61('0x40b')];_0x4f820f++){var _0x4a3c84=_0x45483c[_0x1c61('0x7')]({'width':_0x6e6202[_0x1c61('0x328')],'height':_0x6e6202['height'],'extentRadius':_0x6e6202[_0x1c61('0x3ff')]});(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x4a3c84,{'x':-Math[_0x1c61('0x1b4')]()*_0x6e6202[_0x1c61('0x3ff')]+_0x6e6202['extentRadius']/0x2+_0x6e6202[_0x1c61('0x536')]['x'],'y':-Math[_0x1c61('0x1b4')]()*_0x6e6202[_0x1c61('0x3ff')]+_0x6e6202[_0x1c61('0x3ff')]/0x2+_0x6e6202[_0x1c61('0x536')]['y']},-Math['random']()*_0x6e6202[_0x1c61('0x3ff')]);}else{var _0x1eef41=!0x0,_0x33237f=!0x1,_0x4b3349=void 0x0;try{for(var _0x5a678d,_0x46f6a=(0x0,_0x25bec4['default'])(_0x6e6202[_0x1c61('0x289')]);!(_0x1eef41=(_0x5a678d=_0x46f6a[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x1eef41=!0x0){var _0x42fb47=_0x5a678d[_0x1c61('0x1c')],_0x414afc=_0x45483c[_0x1c61('0x7')]({'width':_0x6e6202['width'],'height':_0x6e6202[_0x1c61('0x2f7')],'extentRadius':_0x6e6202[_0x1c61('0x3ff')]}),_0x2c4ea6=-Math[_0x1c61('0x1b4')]()*_0x6e6202[_0x1c61('0x3ff')];_0xddc098(_0x6e6202,_0x414afc),(0x0,_0x56d03f['setPositionFromMc'])(_0x414afc,_0x42fb47,_0x2c4ea6);}}catch(_0x36f79d){_0x33237f=!0x0,_0x4b3349=_0x36f79d;}finally{try{!_0x1eef41&&_0x46f6a[_0x1c61('0x99')]&&_0x46f6a['return']();}finally{if(_0x33237f)throw _0x4b3349;}}}return _0x45483c[_0x1c61('0x537')](),_0x45483c;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x538')],function(_0x6e6202){var _0x33237f=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])('images/scan/bloom_line2.png')),_0x4b3349=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x539'))),_0x2f5148=new _0xa15fe5['SphereSpreadEffect']({'radius':_0x6e6202[_0x1c61('0x226')],'isShowConeScan':_0x6e6202['isShowConeScan']});return _0x2f5148[_0x1c61('0x7')]({'texture':_0x33237f,'coneTex':_0x4b3349,'colorStr':_0x6e6202['color']}),_0x2f5148;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1['ExtentWallMarker'],function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f[_0x1c61('0x2a')])(),_0x4b3349=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f['getConfigAssetsPath'])('images/wall3.png'),_0x4b3349=_0x6e6202[_0x1c61('0x53a')]||_0x4b3349,_0x4b3349=_0x33a8ce[_0x1c61('0x96')](_0x4b3349,!0x0),_0x2f5148=(_0x4b3349[_0x1c61('0x51e')]=_0x33237f[_0x1c61('0x45c')][_0x1c61('0x51f')]['capabilities'][_0x1c61('0x520')](),new _0xa15fe5[(_0x1c61('0xba'))]({'texture':_0x4b3349,'colorStr':_0x6e6202[_0x1c61('0x228')],'focusColorStr':_0x6e6202['focuseColor'],'scale':_0x6e6202[_0x1c61('0x53b')],'isTransparentLight':_0x6e6202[_0x1c61('0x53c')],'isScrollX':!!_0x6e6202[_0x1c61('0x53a')],'scrollXRepeat':_0x6e6202[_0x1c61('0x53d')],'isClockWise':_0x6e6202['scrollClockWise'],'speed':_0x6e6202[_0x1c61('0x32f')]})),_0x45483c=(_0x6e6202[_0x1c61('0x521')]&&(_0x2f5148[_0x1c61('0x53e')][_0x1c61('0x1dc')]=!0x1),_0x6e6202[_0x1c61('0x2f7')]=_0x6e6202['height']||0x0,!0x0),_0x33237f=!0x1,_0x4b3349=void 0x0;try{for(var _0x4f820f,_0x4a3c84=(0x0,_0x25bec4[_0x1c61('0x8')])(_0x6e6202[_0x1c61('0x53f')]);!(_0x45483c=(_0x4f820f=_0x4a3c84[_0x1c61('0x77')]())['done']);_0x45483c=!0x0){var _0x1eef41=_0x4f820f[_0x1c61('0x1c')],_0x5a678d=[],_0x46f6a=_0x1eef41['points'][0x0],_0x42fb47=(_0x46f6a[_0x1c61('0x2f2')]=_0x46f6a['offset']||0x0,!0x0),_0x414afc=!0x1,_0x2c4ea6=void 0x0;try{for(var _0x358b85,_0x50a851=(0x0,_0x25bec4['default'])(_0x1eef41[_0x1c61('0x289')]);!(_0x42fb47=(_0x358b85=_0x50a851[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x42fb47=!0x0){var _0x3e9201=_0x358b85[_0x1c61('0x1c')];_0x5a678d[_0x1c61('0x6f')]({'x':-_0x3e9201['x'],'y':_0x3e9201[_0x1c61('0x2f2')]||0x0,'z':_0x3e9201['y']});}}catch(_0x30ff85){_0x414afc=!0x0,_0x2c4ea6=_0x30ff85;}finally{try{!_0x42fb47&&_0x50a851[_0x1c61('0x99')]&&_0x50a851[_0x1c61('0x99')]();}finally{if(_0x414afc)throw _0x2c4ea6;}}var _0x255cd4=_0x2f5148['addWall']({'points':_0x5a678d,'colorStr':_0x1eef41[_0x1c61('0x228')],'extentId':_0x1eef41['id'],'wallHeight':_0x6e6202[_0x1c61('0x53b')],'isNoClose':_0x6e6202['isNoClose']});_0xddc098(_0x6e6202,_0x255cd4),(0x0,_0x56d03f['setPositionFromMc'])(_0x255cd4,_0x46f6a,_0x46f6a[_0x1c61('0x2f2')]+_0x6e6202['height']),_0x6e6202[_0x1c61('0x311')]&&(_0x255cd4[_0x1c61('0x311')]=_0x6e6202[_0x1c61('0x311')]);}}catch(_0x59df3a){_0x33237f=!0x0,_0x4b3349=_0x59df3a;}finally{try{!_0x45483c&&_0x4a3c84[_0x1c61('0x99')]&&_0x4a3c84['return']();}finally{if(_0x33237f)throw _0x4b3349;}}return _0x2f5148['extentList']=_0x6e6202['extentList'],_0x2f5148;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x50f')],function(_0x6e6202){var _0x33237f=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x540'))),_0x4b3349=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x541'))),_0x2f5148=new _0xa15fe5[(_0x1c61('0xb7'))]({'scale':_0x6e6202['scale']});return _0x2f5148['create']({'innerTex':_0x33237f,'outTex':_0x4b3349,'spreadFactor':_0x6e6202['spreadFactor'],'depthTest':!_0x6e6202['seeThrough'],'isOpenScreenEffect':esmap['ESEffectTool'][_0x1c61('0x47')]['isOpenScreenEffect']}),_0x2f5148;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0x511')],function(_0x6e6202){var _0x33237f=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])('images/fire/fire.png')),_0x4b3349=new _0xa15fe5['Fire']({'scale':_0x6e6202[_0x1c61('0x1de')]});return _0x4b3349['create']({'tex':_0x33237f,'color':_0x6e6202['color'],'isOpenScreenEffect':esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x51b')]}),_0x4b3349;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1['SmokeMarker'],function(_0x6e6202){var _0x33237f=_0x33a8ce[_0x1c61('0x96')]((0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x540'))),_0x4b3349=new _0xa15fe5[(_0x1c61('0xb6'))]({'scale':_0x6e6202[_0x1c61('0x1de')]});return _0x4b3349[_0x1c61('0x7')]({'tex':_0x33237f,'color':_0x6e6202[_0x1c61('0x228')],'intensity':_0x6e6202['intensity'],'spread':_0x6e6202[_0x1c61('0x1f4')],'isOpenScreenEffect':esmap[_0x1c61('0x51')]['options'][_0x1c61('0x51b')]}),_0x6e6202[_0x1c61('0x1f7')]&&(_0x4b3349['object3d']['rotation']['y']=THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x6e6202[_0x1c61('0x1f7')])),_0x4b3349;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x512')],function(_0x6e6202){var _0x33237f=_0x33a8ce['load']((0x0,_0x56d03f[_0x1c61('0x26')])('images/water/smokeparticle.png')),_0x4b3349=new _0xa15fe5[(_0x1c61('0xb4'))]({'scale':_0x6e6202[_0x1c61('0x1de')]});return _0x4b3349[_0x1c61('0x7')]({'texture':_0x33237f,'dirAngle':_0x6e6202['dirAngle'],'pitchAngle':_0x6e6202[_0x1c61('0x2c1')],'isOpenScreenEffect':esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x51b')]}),_0x4b3349;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x513')],function(_0x6e6202){var _0x33237f=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x526')),_0x33237f=_0x33a8ce[_0x1c61('0x96')](_0x33237f),_0x4b3349=new _0xa15fe5[(_0x1c61('0xb3'))]({'scale':_0x6e6202[_0x1c61('0x1de')]});return _0x4b3349[_0x1c61('0x7')]({'texture':_0x33237f,'color':_0x6e6202['color'],'isSpreadColor':_0x6e6202[_0x1c61('0x542')],'spread':_0x6e6202[_0x1c61('0x226')],'extentHeight':_0x6e6202['extentHeight'],'pointNum':_0x6e6202[_0x1c61('0x543')],'isShine':_0x6e6202[_0x1c61('0x51c')],'fixedSize':_0x6e6202['fixedSize'],'speed':_0x6e6202[_0x1c61('0x32f')]}),_0x6e6202[_0x1c61('0x311')]&&(_0x4b3349[_0x1c61('0x41b')][_0x1c61('0x311')]=_0x6e6202[_0x1c61('0x311')]),_0x4b3349;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x50d')],function(_0x6e6202){for(var _0x33237f=(0x0,_0x56d03f['getMapInstance'])(),_0x4b3349=_0x6e6202[_0x1c61('0x517')]||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x544')),_0x4b3349=_0x33a8ce['load'](_0x4b3349),_0x4b3349=new _0xa15fe5[(_0x1c61('0xb1'))]({'colorStr':_0x6e6202['color'],'repeat':_0x6e6202[_0x1c61('0x545')],'texture':_0x4b3349}),_0x2f5148=[],_0x45483c=0x0,_0x4f820f=_0x6e6202['points'][_0x1c61('0xf')];_0x45483c<_0x4f820f;_0x45483c++){var _0x4a3c84=_0x33237f[_0x1c61('0x23')]({'x':_0x6e6202[_0x1c61('0x289')][_0x45483c]['x'],'y':_0x6e6202[_0x1c61('0x289')][_0x45483c]['y'],'z':_0x6e6202[_0x1c61('0x289')][_0x45483c][_0x1c61('0x2f2')]});_0x2f5148[_0x1c61('0x6f')](_0x4a3c84);}return _0x4b3349[_0x1c61('0x7')]({'points':_0x2f5148,'lineWidth':_0x6e6202['lineWidth'],'lineHeight':_0x6e6202[_0x1c61('0x40a')]}),_0x4b3349;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0xb2')],function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f[_0x1c61('0x2a')])(),_0x4b3349=_0x6e6202['imgUrl']||(0x0,_0x56d03f[_0x1c61('0x26')])(_0x1c61('0x546')),_0x4b3349=_0x33a8ce['load'](_0x4b3349),_0x2f5148=new _0xa15fe5[(_0x1c61('0xb2'))]({'camera':_0x33237f[_0x1c61('0x45c')][_0x1c61('0x301')],'texture':_0x4b3349,'colorStr':_0x6e6202['color'],'opacity':_0x6e6202['opacity'],'lineWidth':_0x6e6202[_0x1c61('0x32e')],'repeat':_0x6e6202['imgRepeat']&&0x0<_0x6e6202[_0x1c61('0x545')]?{'x':_0x6e6202['imgRepeat'],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0x6e6202[_0x1c61('0x32f')],'isCanChangeStyle':_0x6e6202[_0x1c61('0x330')],'renderOrder':_0x6e6202[_0x1c61('0x311')]});if(_0x2f5148[_0x1c61('0x326')](_0x33237f),_0x6e6202[_0x1c61('0x311')]&&(_0x2f5148[_0x1c61('0x311')]=_0x6e6202[_0x1c61('0x311')]),_0x6e6202[_0x1c61('0x521')]&&(_0x2f5148[_0x1c61('0x310')][_0x1c61('0x1dc')]=!0x1),Array[_0x1c61('0xdf')](_0x6e6202[_0x1c61('0x547')])&&0x0<_0x6e6202['routeList'][_0x1c61('0xf')]){var _0x45483c=!0x0,_0x4b3349=!0x1,_0x33237f=void 0x0;try{for(var _0x4f820f,_0x4a3c84=(0x0,_0x25bec4['default'])(_0x6e6202[_0x1c61('0x547')]);!(_0x45483c=(_0x4f820f=_0x4a3c84[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x45483c=!0x0){var _0x1eef41=_0x4f820f['value'],_0x5a678d=[],_0x46f6a=_0x1eef41[_0x1c61('0x289')][0x0],_0x42fb47=!0x0,_0x414afc=!0x1,_0x2c4ea6=void 0x0;try{for(var _0x358b85,_0x50a851=(0x0,_0x25bec4[_0x1c61('0x8')])(_0x1eef41[_0x1c61('0x289')]);!(_0x42fb47=(_0x358b85=_0x50a851[_0x1c61('0x77')]())['done']);_0x42fb47=!0x0){var _0x3e9201=_0x358b85[_0x1c61('0x1c')];_0x5a678d[_0x1c61('0x6f')](new THREE['Vector3'](-_0x3e9201['x'],_0x3e9201[_0x1c61('0x2f2')]||0x0,_0x3e9201['y']));}}catch(_0x109f78){_0x414afc=!0x0,_0x2c4ea6=_0x109f78;}finally{try{!_0x42fb47&&_0x50a851[_0x1c61('0x99')]&&_0x50a851[_0x1c61('0x99')]();}finally{if(_0x414afc)throw _0x2c4ea6;}}var _0x255cd4=_0x2f5148[_0x1c61('0x30b')](_0x5a678d);_0xddc098(_0x6e6202,_0x255cd4),(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x255cd4,_0x46f6a,_0x6e6202['height']);}}catch(_0x21ecc3){_0x4b3349=!0x0,_0x33237f=_0x21ecc3;}finally{try{!_0x45483c&&_0x4a3c84['return']&&_0x4a3c84['return']();}finally{if(_0x4b3349)throw _0x33237f;}}}return _0x2f5148;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1['PlaneVideoMarker'],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xa9'))]();return _0x33237f['createVideoElement'](_0x6e6202['id'],_0x6e6202[_0x1c61('0x66')]),_0x33237f['createMaterial'](),_0x33237f['create']({'width':_0x6e6202['planeWidth'],'height':_0x6e6202['planeHeight']}),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0x514')],function(_0x6e6202){if(0x0<_0x6e6202[_0x1c61('0x548')]&&_0x6e6202[_0x1c61('0x548')]<0x5a)_0x6e6202[_0x1c61('0x549')]='right';else{if(!(0x5a<_0x6e6202[_0x1c61('0x548')]&&_0x6e6202[_0x1c61('0x548')]<0xb4))throw new Error(_0x1c61('0x54a'));_0x6e6202[_0x1c61('0x549')]='left',_0x6e6202['lineAngle']=0xb4-_0x6e6202['lineAngle'];}var _0x33237f=new _0xa15fe5[(_0x1c61('0x54b'))]({'colorStr':_0x6e6202[_0x1c61('0x228')],'lineAngle':_0x6e6202[_0x1c61('0x548')],'lineHeight':_0x6e6202['lineHeight'],'lineWidth':_0x6e6202['lineWidth'],'contentWidth':_0x6e6202[_0x1c61('0x54c')],'contentHeight':_0x6e6202['contentHeight'],'showPoint':_0x6e6202[_0x1c61('0x54d')],'flipX':'left'==_0x6e6202[_0x1c61('0x549')]}),_0x4b3349=_0x33237f[_0x1c61('0x7')]();return(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x4b3349,_0x6e6202,_0x6e6202[_0x1c61('0x2f7')]),_0x33237f;}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1['SignalWifiMarker'],function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f['getConfigAssetsPath'])(_0x1c61('0x54e'));return new _0xa15fe5[(_0x1c61('0x54f'))]({'texPath':_0x33237f,'fpsFactor':0.035});}),(0x0,_0x4f820f[_0x1c61('0x8')])(_0x4b3349,_0x22b3f1[_0x1c61('0x516')],function(_0x6e6202){var _0x33237f=new _0xa15fe5[(_0x1c61('0xd2'))]({'colorStr':_0x6e6202[_0x1c61('0x228')],'radius':_0x6e6202[_0x1c61('0x226')],'speed':_0x6e6202[_0x1c61('0x32f')]}),_0x4b3349=_0x33237f['create']();return _0x6e6202[_0x1c61('0x521')]&&(_0x4b3349['material'][_0x1c61('0x1dc')]=!0x1),_0x33237f;}),(0x0,_0x4f820f['default'])(_0x4b3349,_0x22b3f1[_0x1c61('0x550')],function(_0x6e6202){var _0x33237f=new _0xa15fe5['PlaneFogEffect']({'colorStr':_0x6e6202[_0x1c61('0x228')],'radius':_0x6e6202['radius'],'speed':_0x6e6202[_0x1c61('0x32f')],'angle':_0x6e6202[_0x1c61('0x1f7')],'thickness':_0x6e6202['thickness']}),_0x4b3349=_0x33237f[_0x1c61('0x7')]();return _0x6e6202[_0x1c61('0x521')]&&(_0x4b3349['material'][_0x1c61('0x1dc')]=!0x1),_0x33237f;}),_0x4b3349),_0xddc098=function(_0x6e6202,_0x33237f){_0x6e6202[_0x1c61('0x51c')]&&_0x33237f[_0x1c61('0x551')][_0x1c61('0x552')](0x1);},_0x2c4ea6=(_0x46f6a=_0x414afc[_0x1c61('0x92')],(0x0,_0x45483c[_0x1c61('0x8')])(_0x44ee62,_0x46f6a),(0x0,_0x2f5148[_0x1c61('0x8')])(_0x44ee62,[{'key':'_init','value':function(_0x6e6202,_0x50a851){var _0x46f6a=null;switch(_0x6e6202){case _0x42fb47['ESMarkerType']['CUBE_FLOAT']:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc7')]](_0x50a851))['visible']=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,_0x50a851['x']&&_0x50a851['y']&&this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0x555')]=function(_0x6e6202){var _0x33237f=_0x46f6a[_0x1c61('0x7')]({'radius':_0x6e6202[_0x1c61('0x226')]}),_0x4b3349=(0x0,_0x56d03f['coordTransToThree'])(_0x6e6202['x'],_0x6e6202['y']);_0x33237f[_0x1c61('0x218')][_0x1c61('0x1b')](_0x4b3349['x'],_0x6e6202[_0x1c61('0x2f7')]||0x0,_0x4b3349['y']);};break;case _0x42fb47[_0x1c61('0x27f')]['CYLINDER_FLOAT']:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc6')]](_0x50a851))['visible']=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a['object3d'],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')]['CIRCLE_ROTATE']:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc5')]](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],this['o3d_'][_0x1c61('0x3f')]=this,_0x46f6a['object3d']['renderOrder']=0x47,this[_0x255cd4]['_instance']=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0xf8')]=function(_0x6e6202){_0x46f6a[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x6e6202);};break;case _0x42fb47['ESMarkerType']['CIRCLE_BREATH']:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50c')]](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this,_0x46f6a[_0x1c61('0x312')]['renderOrder']=0x47,this[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')]['TRANSFER_LINE']:(_0x46f6a=_0x48b227[_0x22b3f1['CurveLinkLine']](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a['object3d'],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x556')](this[_0x1c61('0x4fc')]);break;case _0x42fb47[_0x1c61('0x27f')]['POINTS_LINE']:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc3')]](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x44e')]=function(_0x6e6202){_0x46f6a['autoScale']=_0x6e6202;};break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x557')]:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc2')]](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a;break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x558')]:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xc1')]](_0x50a851))['visible']=!0x0,this['o3d_']=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')]['datas_']=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a;break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x559')]:(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50a')]](_0x50a851))[_0x1c61('0x32c')]=!0x0,this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0xf8')]=function(_0x6e6202){_0x46f6a['material']['color']['setStyle'](_0x6e6202);};break;case _0x42fb47['ESMarkerType']['CIRCLE_BIPS']:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x52c')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x55a')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x55b')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x55c')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50b')]](_0x50a851),this['o3d_']=_0x46f6a[_0x1c61('0x312')],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},0x5);break;case _0x42fb47['ESMarkerType'][_0x1c61('0x55d')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50e')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a['object3d'],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a;break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x55e')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x538')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a,this['animate']=function(){this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x3f7')]();};break;case _0x42fb47[_0x1c61('0x27f')]['EXTENT_WALL']:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x55f')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')]['datas_']=this)[_0x255cd4]['_instance']=_0x46f6a,this['wallListData']=_0x46f6a['extentList'],this[_0x1c61('0x560')]=function(_0x6e6202){_0x6e6202[_0x1c61('0x228')]&&_0x46f6a[_0x1c61('0x53e')]['color']['setStyle'](_0x6e6202[_0x1c61('0x228')]);},this['addExtent']=function(_0x6e6202){var _0x33237f=[],_0x4b3349=_0x6e6202[_0x1c61('0x289')][0x0],_0x2f5148=(_0x4b3349[_0x1c61('0x2f2')]=_0x4b3349[_0x1c61('0x2f2')]||0x0,!0x0),_0x45483c=!0x1,_0x4f820f=void 0x0;try{for(var _0x4a3c84,_0x1eef41=(0x0,_0x25bec4[_0x1c61('0x8')])(_0x6e6202['points']);!(_0x2f5148=(_0x4a3c84=_0x1eef41[_0x1c61('0x77')]())['done']);_0x2f5148=!0x0){var _0x5a678d=_0x4a3c84[_0x1c61('0x1c')];_0x33237f[_0x1c61('0x6f')]({'x':-_0x5a678d['x'],'y':_0x5a678d[_0x1c61('0x2f2')]||0x0,'z':_0x5a678d['y']});}}catch(_0x5e1a3a){_0x45483c=!0x0,_0x4f820f=_0x5e1a3a;}finally{try{!_0x2f5148&&_0x1eef41['return']&&_0x1eef41[_0x1c61('0x99')]();}finally{if(_0x45483c)throw _0x4f820f;}}_0x45483c=_0x46f6a[_0x1c61('0x561')]({'points':_0x33237f,'extentId':_0x6e6202['id'],'wallHeight':_0x6e6202['wallHeight']||_0x50a851[_0x1c61('0x53b')],'isNoClose':_0x6e6202[_0x1c61('0x562')]||_0x50a851[_0x1c61('0x562')]});_0xddc098(_0x50a851,_0x45483c),(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x45483c,_0x4b3349,_0x4b3349[_0x1c61('0x2f2')]+_0x50a851['height']),_0x50a851[_0x1c61('0x311')]&&(_0x45483c[_0x1c61('0x311')]=_0x50a851[_0x1c61('0x311')]);},this[_0x1c61('0x563')]=function(_0x6e6202){var _0x33237f=!0x0,_0x4b3349=!0x1,_0x2f5148=void 0x0;try{for(var _0x45483c,_0x4f820f=(0x0,_0x25bec4['default'])(_0x46f6a['extentWallList']);!(_0x33237f=(_0x45483c=_0x4f820f[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x33237f=!0x0){var _0x4a3c84=_0x45483c[_0x1c61('0x1c')];if(_0x4a3c84['id']===_0x6e6202){_0x46f6a['object3d']['remove'](_0x4a3c84[_0x1c61('0x1f0')]);break;}}}catch(_0x115561){_0x4b3349=!0x0,_0x2f5148=_0x115561;}finally{try{!_0x33237f&&_0x4f820f[_0x1c61('0x99')]&&_0x4f820f[_0x1c61('0x99')]();}finally{if(_0x4b3349)throw _0x2f5148;}}};break;case _0x42fb47[_0x1c61('0x27f')]['FIRE_SMOKE']:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50f')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a,this['setPosition']({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0x424')]=function(_0x6e6202){this[_0x255cd4]['_instance'][_0x1c61('0x424')](_0x6e6202);};break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x564')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x511')]](_0x50a851),this['o3d_']=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')]['datas_']=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x565')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x510')]](_0x50a851),this['o3d_']=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47['ESMarkerType'][_0x1c61('0x566')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x512')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this['o3d_']['datas_']=this)[_0x255cd4]['_instance']=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]);break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x567')]:_0x46f6a=_0x48b227[_0x22b3f1['FloatPointsMarker']](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a['object3d'],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851['height']);break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x568')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x50d')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a;break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x569')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0xb2')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4]['_instance']=_0x46f6a,(0x0,_0x56d03f[_0x1c61('0x2a')])()['on'](_0x1c61('0x56a'),function(_0x6e6202){'2D'===_0x6e6202?_0x46f6a[_0x1c61('0x312')]['visible']=!0x1:'3D'===_0x6e6202&&(_0x46f6a[_0x1c61('0x312')]['visible']=!0x0);}),this[_0x1c61('0x30b')]=function(_0x6e6202){var _0x33237f=_0x6e6202['bid'],_0x4b3349=_0x6e6202['points'],_0x6e6202=_0x6e6202['id'],_0x2f5148=(0x0,_0x56d03f[_0x1c61('0x2a')])(),_0x45483c=_0x4b3349[0x0],_0x4f820f=[],_0x4a3c84=!0x0,_0x1eef41=!0x1,_0x5a678d=void 0x0;try{for(var _0x46f6a,_0x42fb47=(0x0,_0x25bec4['default'])(_0x4b3349);!(_0x4a3c84=(_0x46f6a=_0x42fb47[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4a3c84=!0x0){var _0x414afc=_0x46f6a[_0x1c61('0x1c')],_0x2c4ea6=_0x414afc['offset']||0x0,_0x358b85=(_0x414afc[_0x1c61('0x501')]&&(_0x2c4ea6=_0x2f5148[_0x1c61('0x56b')](_0x33237f)[_0x1c61('0x4fd')](_0x414afc['fnum'])+_0x414afc[_0x1c61('0x2f2')]),_0x2f5148[_0x1c61('0x23')]({'x':_0x414afc['x'],'y':_0x414afc['y'],'z':_0x2c4ea6,'bid':_0x414afc[_0x1c61('0x500')]||0x0}));_0x4f820f['push'](_0x358b85);}}catch(_0x1b7f83){_0x1eef41=!0x0,_0x5a678d=_0x1b7f83;}finally{try{!_0x4a3c84&&_0x42fb47[_0x1c61('0x99')]&&_0x42fb47[_0x1c61('0x99')]();}finally{if(_0x1eef41)throw _0x5a678d;}}_0x4b3349=this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x30b')](_0x4f820f,!0x0);return this[_0x255cd4]['_instance'][_0x1c61('0x311')]&&(_0x4b3349['renderOrder']=this[_0x255cd4]['_instance'][_0x1c61('0x311')]),_0x6e6202&&(_0x4b3349['userId']=_0x6e6202),(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x4b3349,_0x45483c,_0x50a851[_0x1c61('0x2f7')]),_0xddc098(_0x50a851,_0x4b3349),{'lastAngle':_0x4b3349['lastAngle']};},this[_0x1c61('0x56c')]=this[_0x255cd4]['_instance'][_0x1c61('0x310')],this[_0x1c61('0x315')]=this[_0x255cd4]['_instance'][_0x1c61('0x315')]['bind'](this[_0x255cd4][_0x1c61('0x553')]),this[_0x1c61('0x56d')]=function(_0x6e6202){this[_0x255cd4][_0x1c61('0x553')]['fadeOut'](_0x6e6202);},this[_0x1c61('0x56e')]=function(_0x6e6202){this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x310')][_0x1c61('0x36f')]=_0x6e6202;},this['scaleLineWidth']=function(_0x6e6202){_0x6e6202=_0x6e6202||0x1,this[_0x255cd4][_0x1c61('0x553')]['_originLineWidth']||(this[_0x255cd4][_0x1c61('0x553')]['_originLineWidth']=this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x310')][_0x1c61('0x32e')]),this[_0x255cd4][_0x1c61('0x553')]['lineMaterial']['lineWidth']=this[_0x255cd4]['_instance']['_originLineWidth']*_0x6e6202;};break;case _0x42fb47[_0x1c61('0x27f')]['PLANE_VIDEO']:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x56f')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this['o3d_'][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this['playVideo']=function(){this[_0x255cd4][_0x1c61('0x553')]['playVideo']();},this['playSound']=function(){this[_0x255cd4]['_instance']['playSound']();};break;case _0x42fb47['ESMarkerType'][_0x1c61('0x570')]:if(!(_0x46f6a=_0x48b227[_0x22b3f1['GuideLineMarker']](_0x50a851)))return;this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this['show']=function(){this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x571')]();},this[_0x1c61('0x572')]=function(){this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x572')]();},this[_0x1c61('0x573')]=function(_0x6e6202){this[_0x255cd4]['_instance']['appendContent'](_0x6e6202);};break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x574')]:if(!(_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x515')]](_0x50a851)))return;this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x1c4')]=function(_0x6e6202){var _0x33237f=_0x6e6202[_0x1c61('0xee')]||0x28,_0x4b3349=_0x46f6a[_0x1c61('0x7')]({'size':_0x33237f}),_0x2f5148=(_0x4b3349[_0x1c61('0x232')]=new THREE[(_0x1c61('0x1cf'))](0.5,0x0),_0xddc098(_0x50a851,_0x4b3349),(0x0,_0x56d03f[_0x1c61('0x2b')])(_0x4b3349,_0x6e6202,_0x6e6202[_0x1c61('0x2f7')]),_0x4b3349[_0x1c61('0x311')]=0x4c,_0x4b3349['width_']=_0x33237f,_0x4b3349[_0x1c61('0x575')]=_0x33237f,_0x4b3349[_0x1c61('0x3f')]={'nodeType':0x7},(0x0,_0x56d03f[_0x1c61('0x2a')])()),_0x6e6202=esmap['ESMapLabel'][_0x1c61('0x576')](_0x4b3349,_0x2f5148[_0x1c61('0x45c')]);return _0x4b3349[_0x1c61('0x1de')][_0x1c61('0x1c2')](_0x6e6202[_0x1c61('0x1de')]),_0x2f5148['on'](_0x1c61('0x577'),function(){var _0x6e6202=esmap[_0x1c61('0x578')][_0x1c61('0x576')](_0x4b3349,_0x2f5148['mapView']);_0x4b3349[_0x1c61('0x1de')]['copy'](_0x6e6202[_0x1c61('0x1de')]);}),_0x4b3349;};break;case _0x42fb47[_0x1c61('0x27f')]['PLANE_WIND']:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x516')]](_0x50a851),this[_0x1c61('0x4fc')]=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')][_0x1c61('0x3f')]=this)[_0x255cd4][_0x1c61('0x553')]=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0x579')]=function(_0x6e6202){this[_0x1c61('0x4fc')][_0x1c61('0x1f6')]['y']=THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x6e6202);};break;case _0x42fb47[_0x1c61('0x27f')][_0x1c61('0x57a')]:_0x46f6a=_0x48b227[_0x22b3f1[_0x1c61('0x550')]](_0x50a851),this['o3d_']=_0x46f6a[_0x1c61('0x312')],(this[_0x1c61('0x4fc')]['datas_']=this)[_0x255cd4]['_instance']=_0x46f6a,this[_0x1c61('0x554')]({'x':_0x50a851['x'],'y':_0x50a851['y']},_0x50a851[_0x1c61('0x2f7')]),this[_0x1c61('0x57b')]=function(_0x6e6202){this[_0x255cd4]['_instance'][_0x1c61('0x41')][_0x1c61('0x208')]=_0x6e6202;};}_0x50a851[_0x1c61('0x428')]&&(_0x6e6202=_0x50a851[_0x1c61('0x57c')]||0x1f4,_0x6e6202=new THREE[(_0x1c61('0x429'))](_0x6e6202),this[_0x1c61('0x4fc')]['add'](_0x6e6202));}},{'key':_0x1c61('0x554'),'value':function(_0x6e6202,_0x33237f){_0x6e6202=(0x0,_0x56d03f[_0x1c61('0x2c')])(_0x6e6202['x'],_0x6e6202['y']);this[_0x1c61('0x4fc')][_0x1c61('0x218')][_0x1c61('0x1b')](_0x6e6202['x'],_0x33237f||0x0,_0x6e6202['y']);}},{'key':'setRotation','value':function(_0x6e6202){this[_0x1c61('0x4fc')][_0x1c61('0x1f6')][_0x1c61('0x1b')](THREE['Math'][_0x1c61('0x2d3')](_0x6e6202['x']),THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x6e6202['y']),THREE['Math']['degToRad'](_0x6e6202['z']));}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x57d')]=!0x1,this[_0x1c61('0x57e')](),_0x358b85[_0x1c61('0x8')][_0x1c61('0x329')](this[_0x1c61('0x4fc')]),this[_0x255cd4][_0x1c61('0x553')]=null;}},{'key':_0x1c61('0x556'),'value':function(_0x6e6202){var _0x33237f=(0x0,_0x56d03f[_0x1c61('0x2a')])();_0x6e6202['datas_']={'nodeType':'line'},_0x33237f[_0x1c61('0x57f')][_0x1c61('0x580')](_0x6e6202);}},{'key':_0x1c61('0x581'),'value':function(_0x6e6202){this[_0x1c61('0x57d')]=!0x0,this[_0x1c61('0x2d0')]&&this[_0x1c61('0x2d0')](_0x6e6202);}},{'key':'_bindListen','value':function(){this['addEventListener'](_0x1c61('0x460'),this[_0x1c61('0x581')]);}},{'key':_0x1c61('0x57e'),'value':function(){this['removeEventListener'](_0x1c61('0x460'),this[_0x1c61('0x581')]);}},{'key':'_bindShowLevel','value':function(){var _0x33237f=this,_0x6e6202=(0x0,_0x56d03f[_0x1c61('0x2a')])();(0x0,_0x56d03f['checkIsCityEngine'])()?_0x6e6202['on'](_0x1c61('0x582'),function(_0x6e6202){_0x33237f[_0x1c61('0x583')]||(Array['isArray'](_0x33237f[_0x1c61('0x584')])?_0x33237f[_0x1c61('0x4fc')][_0x1c61('0x32c')]=_0x6e6202>=_0x33237f[_0x1c61('0x584')][0x0]&&_0x6e6202<=_0x33237f[_0x1c61('0x584')][0x1]:_0x33237f['o3d_']['visible']=_0x6e6202>=_0x33237f['showLevel']);}):_0x6e6202['on'](_0x1c61('0x585'),function(_0x6e6202){_0x6e6202[_0x1c61('0x586')]<_0x33237f[_0x1c61('0x584')]?_0x33237f[_0x1c61('0x4fc')][_0x1c61('0x32c')]=!0x0:_0x33237f['o3d_']['visible']=!0x1;});}},{'key':'_update','value':function(_0x6e6202){var _0x33237f;this['_enabled']&&(this[_0x255cd4][_0x1c61('0x553')]['update']&&this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x2db')](_0x6e6202),this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x3d1')]&&((_0x33237f=this[_0x255cd4][_0x1c61('0x553')]['shader'])&&(_0x33237f['vertexShader']&&(_0x33237f[_0x1c61('0x56')]=''),_0x33237f[_0x1c61('0x57')]&&(_0x33237f[_0x1c61('0x57')]='')),this[_0x255cd4][_0x1c61('0x553')]['render'](_0x6e6202)));}},{'key':_0x1c61('0x32c'),'set':function(_0x6e6202){this[_0x255cd4]['_instance'][_0x1c61('0x32c')]=_0x6e6202;},'get':function(){return this[_0x255cd4][_0x1c61('0x553')][_0x1c61('0x32c')];}},{'key':_0x1c61('0x416'),'set':function(_0x6e6202){this[_0x255cd4]['_instance'][_0x1c61('0x416')]=_0x6e6202;}}]),_0x44ee62);function _0x44ee62(_0x6e6202,_0x33237f){(0x0,_0x1eef41[_0x1c61('0x8')])(this,_0x44ee62);var _0x4b3349=(0x0,_0x5a678d['default'])(this,(_0x44ee62['__proto__']||(0x0,_0x4a3c84[_0x1c61('0x8')])(_0x44ee62))['call'](this)),_0x2f5148=(_0x4b3349[_0x1c61('0x57d')]=!0x1,_0x4b3349['id']=_0x33237f['id']||'',_0x4b3349[_0x1c61('0x7b')]=_0x33237f[_0x1c61('0x7b')]||'',_0x4b3349[_0x1c61('0x587')]=_0x6e6202,_0x4b3349['FloorNum']=0x1,_0x4b3349[_0x1c61('0x584')]=_0x33237f[_0x1c61('0x584')],_0x4b3349[_0x1c61('0x4fc')]=null,_0x4b3349[_0x1c61('0x588')]=_0x33237f,_0x4b3349[_0x255cd4]={},(0x0,_0x50a851[_0x1c61('0x8')])(_0x6e6202)),_0x45483c=!0x1,_0x4f820f=(0x0,_0x56d03f[_0x1c61('0x2a')])();return _0x4f820f&&(_0x45483c=_0x4f820f[_0x1c61('0x589')][_0x1c61('0x58a')]('sk')),!0x0===_0x2f5148||_0x45483c?(Object[_0x1c61('0x2')](_0x4b3349[_0x255cd4],'_instance',{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x4b3349['_init'](_0x6e6202,_0x33237f),_0x4b3349['_bindListen'](),_0x33237f[_0x1c61('0x584')]&&_0x4b3349[_0x1c61('0x58b')](_0x33237f[_0x1c61('0x584')]),_0x4b3349[_0x1c61('0x2d0')]=_0x33237f['callback'],_0x4b3349):(console['info'](_0x2f5148+_0x1c61('0x58c')),(0x0,_0x5a678d['default'])(_0x4b3349));}_0x33237f['default']=_0x2c4ea6;},function(_0x30e847,_0x306584,_0xea003e){'use strict';Object[_0x1c61('0x2')](_0x306584,_0x1c61('0x5'),{'value':!0x0});var _0x541253=_0x2135d2(_0xea003e(0x4)),_0x2406e9=_0x2135d2(_0xea003e(0x26)),_0x53c95a=_0x2135d2(_0xea003e(0x0)),_0x45e5ae=_0x2135d2(_0xea003e(0x1)),_0x54019d=_0x2135d2(_0xea003e(0x31)),_0x2787be=_0x2135d2(_0xea003e(0x32)),_0x111329=_0x2135d2(_0xea003e(0x3c));function _0x2135d2(_0x30e847){return _0x30e847&&_0x30e847['__esModule']?_0x30e847:{'default':_0x30e847};}function _0x35f74b(_0x30e847){var _0x306584=_0x30e847['map'],_0xea003e=_0x30e847['id'],_0x45e5ae=_0x30e847[_0x1c61('0x45c')],_0x2787be=_0x30e847['isTileBuilding'],_0x2787be=void 0x0!==_0x2787be&&_0x2787be,_0x401b7c=_0x30e847[_0x1c61('0x58d')],_0x1b3d5b=_0x30e847[_0x1c61('0x58e')],_0x481c1b=_0x30e847[_0x1c61('0x58f')],_0x135644=_0x30e847[_0x1c61('0x590')],_0x2135d2=_0x30e847[_0x1c61('0x591')],_0x2135d2=void 0x0===_0x2135d2?0.1:_0x2135d2,_0x1faded=_0x30e847[_0x1c61('0x4b3')],_0x1faded=void 0x0===_0x1faded?_0x1c61('0x43b'):_0x1faded,_0xf3e5f9=_0x30e847[_0x1c61('0x592')],_0xf3e5f9=void 0x0===_0xf3e5f9?_0x1c61('0x43b'):_0xf3e5f9,_0x596614=_0x30e847[_0x1c61('0x593')],_0x596614=void 0x0===_0x596614?null:_0x596614,_0x54a6ce=_0x30e847['opacity'],_0x54a6ce=void 0x0===_0x54a6ce?0x1:_0x54a6ce,_0x536ed3=_0x30e847['isBlending'],_0x536ed3=void 0x0!==_0x536ed3&&_0x536ed3,_0x2b7717=_0x30e847[_0x1c61('0x4b5')],_0x2b7717=void 0x0!==_0x2b7717&&_0x2b7717,_0x4b4ddc=_0x30e847[_0x1c61('0x4b6')],_0x4b4ddc=void 0x0!==_0x4b4ddc&&_0x4b4ddc,_0x225f5b=_0x30e847[_0x1c61('0x594')],_0x225f5b=void 0x0!==_0x225f5b&&_0x225f5b,_0x52130d=_0x30e847[_0x1c61('0x595')],_0x52130d=void 0x0!==_0x52130d&&_0x52130d,_0x56723b=_0x30e847[_0x1c61('0x596')],_0x56723b=void 0x0!==_0x56723b&&_0x56723b,_0x541253=_0x30e847['isShowCenterSpread'],_0x541253=void 0x0!==_0x541253&&_0x541253,_0x111329=_0x30e847[_0x1c61('0x597')],_0x111329=void 0x0!==_0x111329&&_0x111329,_0x32ce7d=_0x30e847[_0x1c61('0x598')],_0x32ce7d=void 0x0===_0x32ce7d?{'x':0x0,'y':0x0}:_0x32ce7d,_0x16b764=_0x30e847[_0x1c61('0x599')],_0x16b764=void 0x0===_0x16b764?_0x1c61('0x59a'):_0x16b764,_0x8c4dc5=_0x30e847[_0x1c61('0x59b')],_0x8c4dc5=void 0x0===_0x8c4dc5?0x1f4:_0x8c4dc5,_0x24e7c9=_0x30e847[_0x1c61('0x59c')],_0x24e7c9=void 0x0===_0x24e7c9?0x1:_0x24e7c9,_0x4ac6f9=_0x30e847[_0x1c61('0x59d')],_0x4ac6f9=void 0x0===_0x4ac6f9?[-0x2710,0x2710]:_0x4ac6f9,_0x41051b=_0x30e847['hlSpeed'],_0x41051b=void 0x0===_0x41051b?0x1:_0x41051b,_0x503181=_0x30e847['vlHeight'],_0x503181=void 0x0===_0x503181?0x64:_0x503181,_0x2b0f83=_0x30e847['vlColorStr'],_0x2b0f83=void 0x0===_0x2b0f83?_0x1c61('0x32d'):_0x2b0f83,_0xbdc1f2=_0x30e847[_0x1c61('0x59e')],_0xbdc1f2=void 0x0===_0xbdc1f2?[-0x64,0x64]:_0xbdc1f2,_0x31d892=_0x30e847[_0x1c61('0x59f')],_0x31d892=void 0x0===_0x31d892?0x1:_0x31d892,_0x3c674d=_0x30e847[_0x1c61('0x5a0')],_0x3c674d=void 0x0===_0x3c674d||_0x3c674d,_0x2918a3=_0x30e847[_0x1c61('0x5a1')],_0x2918a3=void 0x0===_0x2918a3?'#FFFFFF':_0x2918a3,_0x13375a=_0x30e847[_0x1c61('0x5a2')],_0x13375a=void 0x0===_0x13375a?0x3e8:_0x13375a,_0x5083e6=_0x30e847[_0x1c61('0x5a3')],_0x5083e6=void 0x0===_0x5083e6?0x3e8:_0x5083e6,_0xc4dbb5=_0x30e847[_0x1c61('0x5a4')],_0xc4dbb5=void 0x0===_0xc4dbb5?0x1:_0xc4dbb5,_0x2d451c=_0x30e847[_0x1c61('0x5a5')],_0x2d451c=void 0x0===_0x2d451c?{'x':0x0,'y':0x0}:_0x2d451c,_0x24bc46=_0x30e847['rdColorStr'],_0x24bc46=void 0x0===_0x24bc46?_0x1c61('0x32d'):_0x24bc46,_0x509fa9=_0x30e847[_0x1c61('0x5a6')],_0x509fa9=void 0x0===_0x509fa9?0x3e8:_0x509fa9,_0x35909c=_0x30e847['radarSpeed'],_0x35909c=void 0x0===_0x35909c?0x1:_0x35909c,_0x2d4cda=_0x30e847[_0x1c61('0x5a7')],_0x2d4cda=void 0x0===_0x2d4cda?{'x':0x0,'y':0x0}:_0x2d4cda,_0x1b6697=_0x30e847[_0x1c61('0x5a8')],_0x54d7e3=_0x30e847[_0x1c61('0x5a9')],_0x54d7e3=void 0x0===_0x54d7e3?{'top':0x1,'side':0x1}:_0x54d7e3,_0x38644f=_0x30e847[_0x1c61('0x2f0')],_0x38644f=void 0x0===_0x38644f?{'x':0.08,'y':0.08}:_0x38644f,_0x1a7cfb=_0x30e847[_0x1c61('0x5aa')],_0x1a7cfb=void 0x0===_0x1a7cfb?{'x':0.08,'y':0.08}:_0x1a7cfb,_0x96eef0=_0x30e847[_0x1c61('0x5ab')],_0x96eef0=void 0x0===_0x96eef0?0x0:_0x96eef0,_0x49c130=_0x30e847['extentEffectConfig'],_0x49c130=void 0x0===_0x49c130?null:_0x49c130,_0x30e847=_0x30e847[_0x1c61('0x5ac')],_0x30e847=void 0x0===_0x30e847?null:_0x30e847,_0x226a0a=((0x0,_0x53c95a[_0x1c61('0x8')])(this,_0x35f74b),(0x0,_0x54019d[_0x1c61('0x8')])(this,(_0x35f74b[_0x1c61('0x87')]||(0x0,_0x2406e9[_0x1c61('0x8')])(_0x35f74b))['call'](this))),_0x45e5ae=(_0x226a0a[_0x1c61('0xd9')]=_0x306584,_0x226a0a[_0x1c61('0x2bb')]=_0x45e5ae,_0x226a0a['id']=_0xea003e,_0x226a0a[_0x1c61('0x4ce')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1faded),_0x226a0a['highLightColor']=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0xf3e5f9),_0x226a0a[_0x1c61('0x1c9')]=null,_0x226a0a[_0x1c61('0x5ad')]=null,_0x226a0a[_0x1c61('0x5ae')]=null,_0x226a0a[_0x1c61('0x5af')]=null,_0x226a0a[_0x1c61('0x5b0')]=null,_0x226a0a[_0x1c61('0x5b1')]=null,_0x226a0a['emissiveTexture']=null,_0x226a0a[_0x1c61('0x41')]=null,_0x226a0a[_0x1c61('0x4bb')]=null,_0x226a0a[_0x1c61('0x208')]=_0x54a6ce,_0x226a0a[_0x1c61('0x5b2')]=new THREE[(_0x1c61('0x1b9'))](0x1,0x1,0x1,_0x2135d2),_0x596614&&(_0x306584=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x596614),_0x226a0a[_0x1c61('0x5b2')]['x']=_0x306584['r'],_0x226a0a['emissiveFactor']['y']=_0x306584['g'],_0x226a0a[_0x1c61('0x5b2')]['z']=_0x306584['b']),_0x226a0a['shaderMesh']=null,_0x226a0a['shader']=null,_0x226a0a[_0x1c61('0x104')]=0x0,_0x226a0a[_0x1c61('0x5b3')]=_0x4ac6f9[0x0],_0x226a0a[_0x1c61('0x5b4')]=0x0,_0x226a0a[_0x1c61('0x5b5')]=0x0,_0x226a0a[_0x1c61('0x5b6')]=0x0,_0x226a0a[_0x1c61('0x4b4')]=_0x536ed3,_0x226a0a[_0x1c61('0x4b5')]=_0x2b7717?0x1:0x0,_0x226a0a['isShowHorizonScan']=_0x52130d,_0x226a0a[_0x1c61('0x596')]=_0x56723b,_0x226a0a[_0x1c61('0x5b7')]=_0x541253,_0x226a0a[_0x1c61('0x597')]=_0x111329,_0x226a0a[_0x1c61('0x598')]=_0x32ce7d,_0x226a0a[_0x1c61('0x4b6')]=_0x4b4ddc?0x1:0x0,_0x226a0a['isShowScanEffect']=!0x1,_0x226a0a[_0x1c61('0x59d')]=_0x4ac6f9,_0x226a0a[_0x1c61('0x59b')]=_0x8c4dc5,_0x226a0a[_0x1c61('0x59c')]=_0x24e7c9,_0x226a0a[_0x1c61('0x5b8')]=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x16b764),_0x226a0a[_0x1c61('0x5b9')]=_0x41051b,_0x226a0a[_0x1c61('0x59e')]=_0xbdc1f2,_0x226a0a[_0x1c61('0x5ba')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x2b0f83),_0x226a0a[_0x1c61('0x5bb')]=_0x503181,_0x226a0a[_0x1c61('0x59f')]=_0x31d892,_0x226a0a[_0x1c61('0x5a0')]=_0x3c674d,_0x226a0a[_0x1c61('0x5bc')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2918a3),_0x226a0a[_0x1c61('0x5a2')]=_0x13375a,_0x226a0a[_0x1c61('0x5a3')]=_0x5083e6,_0x226a0a[_0x1c61('0x5a4')]=_0xc4dbb5,_0x226a0a['csCenterPos']=_0x2d451c,_0x226a0a[_0x1c61('0x5bd')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x24bc46),_0x226a0a[_0x1c61('0x5a6')]=_0x509fa9,_0x226a0a[_0x1c61('0x5be')]=_0x35909c,_0x226a0a[_0x1c61('0x5a8')]=_0x1b6697,_0x226a0a['radarCenterPos']=_0x2d4cda,_0x226a0a[_0x1c61('0x594')]=_0x225f5b,_0x226a0a['textureRepeat']=new THREE['Vector4'](_0x1a7cfb['x'],_0x1a7cfb['y'],_0x38644f['x'],_0x38644f['y']),_0x226a0a[_0x1c61('0x5bf')]=new THREE[(_0x1c61('0x1cf'))](THREE['Math']['degToRad'](_0x96eef0),0x0),_0x226a0a[_0x1c61('0x5a9')]=new THREE[(_0x1c61('0x1cf'))](_0x54d7e3[_0x1c61('0x5c0')],_0x54d7e3[_0x1c61('0x362')]),_0x226a0a[_0x1c61('0x5c1')]=!0x1,_0x226a0a['extentRadius']=0x1f4,_0x226a0a[_0x1c61('0x5c2')]={'x':0x0,'y':0x0},null),_0xea003e=(_0x49c130&&(_0x226a0a[_0x1c61('0x5c1')]=!0x0,_0x226a0a['extentRadius']=_0x49c130['radius'],_0x226a0a[_0x1c61('0x5c2')]=_0x49c130[_0x1c61('0x232')],_0x45e5ae=_0x49c130[_0x1c61('0x5c3')]),_0x226a0a['isUseScreenSky']=!0x1,null);return _0x30e847&&(_0x226a0a['isUseScreenSky']=!0x0,_0xea003e=_0x30e847[_0x1c61('0x5c4')]),_0x226a0a['themeList']=null,_0x226a0a['_heightColorConfigs']=null,_0x226a0a['isTileBuilding']=_0x2787be,_0x226a0a[_0x1c61('0x5c5')]=null,_0x226a0a[_0x1c61('0x5c6')]=null,_0x226a0a[_0x1c61('0x5c7')]=0x1,_0x226a0a['buildingBaseRepeat']=0x1,_0x226a0a[_0x1c61('0x93')]=new THREE[(_0x1c61('0x94'))](),_0x226a0a[_0x1c61('0x5c8')]=0x0,_0x226a0a[_0x1c61('0x2f8')]({'sideTexPath':_0x401b7c,'topTexPath':_0x1b3d5b,'gradientTexPath':_0x481c1b,'extentGradientTexPath':_0x45e5ae,'emissiveTexPath':_0x135644,'screenSkyTexPath':_0xea003e}),_0x226a0a;}_0xea003e=_0xea003e(0x3b)[_0x1c61('0x92')],(0x0,_0x2787be[_0x1c61('0x8')])(_0x35f74b,_0xea003e),(0x0,_0x45e5ae[_0x1c61('0x8')])(_0x35f74b,[{'key':_0x1c61('0x4bf'),'value':function(_0x30e847){var _0x306584=_0x30e847[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x1c61('0xf')];if(0x0<_0x306584)for(var _0xea003e=0x0;_0xea003e<_0x306584;_0xea003e++)if(void 0x0!==_0x30e847['datas_'][_0x1c61('0x4c0')][_0xea003e][_0x1c61('0x40')]&&this[_0x1c61('0x5c9')]){var _0x45e5ae=this[_0x1c61('0x3c')][_0x30e847[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0xea003e]['RoomStyle']];if(this[_0x1c61('0x41')][_0x1c61('0x1ee')]=!0x0,void 0x0===_0x45e5ae||!_0x45e5ae[_0x1c61('0x5ca')]||0x1!=+_0x45e5ae[_0x1c61('0x5ca')]||!_0x45e5ae['color'])if(void 0x0!==_0x45e5ae&&_0x45e5ae[_0x1c61('0x5ca')]&&0x2==+_0x45e5ae[_0x1c61('0x5ca')]&&(_0x45e5ae[_0x1c61('0x5cb')]||_0x45e5ae[_0x1c61('0x5cc')])&&this[_0x1c61('0x3cf')]){if(_0x45e5ae[_0x1c61('0x5cb')])for(var _0x2787be in this[_0x1c61('0x5c5')][this['id']][_0x1c61('0x5cd')]){var _0x2135d2=_0x2787be-0x1,_0x2787be=this[_0x1c61('0x5c5')][this['id']]['topImgIndexMap'][_0x2787be];if(!this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5ce')][_0x1c61('0x1c')][_0x2135d2]){this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['topTexArr'][_0x1c61('0x1c')][_0x2135d2]=this['themeTextureList'][_0x2787be][_0x1c61('0x1c9')],0x2!=_0x45e5ae[_0x1c61('0x5cf')]?(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5ce')]['value'][_0x2135d2][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5ce')][_0x1c61('0x1c')][_0x2135d2]['wrapT']=THREE[_0x1c61('0x333')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d0')]['value'][_0x2135d2]=THREE['RepeatWrapping'],this['shader']['uniforms'][_0x1c61('0x5d1')][_0x1c61('0x1c')]['x']=this[_0x1c61('0x5d2')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d1')]['value']['y']=this[_0x1c61('0x5d2')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d3')][_0x1c61('0x1c')][_0x2135d2]=Math['floor'](+_0x45e5ae[_0x1c61('0x5d4')]/0x1f4*0x3e8)/0x3e8):this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['topTexWrapArr'][_0x1c61('0x1c')][_0x2135d2]=THREE['ClampToEdgeWrapping'],this['shader'][_0x1c61('0x16a')][_0x1c61('0x5ce')][_0x1c61('0x1c')][_0x2135d2]['name']=_0x2787be;break;}}if(_0x45e5ae[_0x1c61('0x5cc')])for(var _0x4e6f81 in this[_0x1c61('0x5c5')][this['id']][_0x1c61('0x5d5')]){var _0x3ca4a9=_0x4e6f81-0x1,_0x4e6f81=this[_0x1c61('0x5c5')][this['id']][_0x1c61('0x5d5')][_0x4e6f81];if(!this['shader'][_0x1c61('0x16a')][_0x1c61('0x5d6')][_0x1c61('0x1c')][_0x3ca4a9]){this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d6')][_0x1c61('0x1c')][_0x3ca4a9]=this['themeTextureList'][_0x4e6f81]['texture'],this['shader'][_0x1c61('0x16a')][_0x1c61('0x5d6')][_0x1c61('0x1c')][_0x3ca4a9][_0x1c61('0x51e')]=0x10,0x2!=_0x45e5ae[_0x1c61('0x5d7')]?(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d6')]['value'][_0x3ca4a9][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d6')]['value'][_0x3ca4a9]['wrapT']=THREE[_0x1c61('0x333')],this['shader'][_0x1c61('0x16a')][_0x1c61('0x5d8')][_0x1c61('0x1c')][_0x3ca4a9]=THREE['RepeatWrapping'],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d1')][_0x1c61('0x1c')]['z']=this[_0x1c61('0x5d2')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d1')][_0x1c61('0x1c')]['w']=this[_0x1c61('0x5d2')],this['shader'][_0x1c61('0x16a')][_0x1c61('0x5d9')][_0x1c61('0x1c')][_0x3ca4a9]=Math[_0x1c61('0x6c')](+_0x45e5ae[_0x1c61('0x5da')]/0x1f4*0x3e8)/0x3e8):this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d8')][_0x1c61('0x1c')][_0x3ca4a9]=THREE[_0x1c61('0x5db')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5d6')][_0x1c61('0x1c')][_0x3ca4a9][_0x1c61('0x7b')]=_0x4e6f81;break;}}}else _0x30e847[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0xea003e][_0x1c61('0x40')];}}},{'key':_0x1c61('0x5dc'),'value':function(_0x30e847){var _0x306584=!0x0,_0xea003e=!0x1,_0x45e5ae=void 0x0;try{for(var _0x2787be,_0x2135d2=(0x0,_0x541253[_0x1c61('0x8')])(this[_0x1c61('0x3c')]);!(_0x306584=(_0x2787be=_0x2135d2[_0x1c61('0x77')]())['done']);_0x306584=!0x0){var _0x6bb0b9=_0x2787be[_0x1c61('0x1c')];if(_0x6bb0b9[_0x1c61('0x5dd')]==_0x30e847)return _0x6bb0b9;}}catch(_0x2b762d){_0xea003e=!0x0,_0x45e5ae=_0x2b762d;}finally{try{!_0x306584&&_0x2135d2[_0x1c61('0x99')]&&_0x2135d2['return']();}finally{if(_0xea003e)throw _0x45e5ae;}}console[_0x1c61('0x200')](_0x1c61('0x3e'),_0x30e847);}},{'key':'_getColorByHeight','value':function(_0x30e847,_0x306584){var _0xea003e=!0x0,_0x45e5ae=!0x1,_0x2787be=void 0x0;try{for(var _0x2135d2,_0x5519b8=(0x0,_0x541253['default'])(this[_0x1c61('0x5de')]);!(_0xea003e=(_0x2135d2=_0x5519b8['next']())['done']);_0xea003e=!0x0){var _0x230602=_0x2135d2['value'];if(_0x230602['range'][0x0]<=_0x306584&&_0x230602['range'][0x1]>_0x306584)return void _0x30e847[_0x1c61('0x2fa')](_0x230602[_0x1c61('0x228')]);}}catch(_0x21bca5){_0x45e5ae=!0x0,_0x2787be=_0x21bca5;}finally{try{!_0xea003e&&_0x5519b8[_0x1c61('0x99')]&&_0x5519b8['return']();}finally{if(_0x45e5ae)throw _0x2787be;}}}},{'key':_0x1c61('0x5df'),'value':function(_0x30e847,_0x306584){return Math[_0x1c61('0x1bb')](Math['sqrt'](Math[_0x1c61('0x5e0')](_0x30e847['x']-_0x306584['x'],0x2)+Math[_0x1c61('0x5e0')](_0x30e847['y']-_0x306584['y'],0x2)));}},{'key':_0x1c61('0x5e1'),'value':function(_0x30e847,_0x306584,_0xea003e){var _0x45e5ae={'x':_0x30e847[0x9*_0xea003e],'y':_0x30e847[0x9*_0xea003e+0x1]},_0x2787be={'x':_0x30e847[0x9*_0xea003e+0x3],'y':_0x30e847[0x9*_0xea003e+0x4]},_0x30e847={'x':_0x30e847[0x9*_0xea003e+0x6],'y':_0x30e847[0x9*_0xea003e+0x7]};return _0x306584[0x9*_0xea003e+0x2]==_0x306584[0x9*_0xea003e+0x5]?this[_0x1c61('0x5df')](_0x45e5ae,_0x2787be):_0x306584[0x9*_0xea003e+0x2]==_0x306584[0x9*_0xea003e+0x8]?this[_0x1c61('0x5df')](_0x45e5ae,_0x30e847):_0x306584[0x9*_0xea003e+0x5]==_0x306584[0x9*_0xea003e+0x8]?this[_0x1c61('0x5df')](_0x2787be,_0x30e847):void 0x0;}},{'key':'createMaterial','value':function(_0x30e847){var _0x306584,_0xea003e=_0x30e847['sideTexPath'],_0x45e5ae=_0x30e847[_0x1c61('0x58e')],_0x2787be=_0x30e847['gradientTexPath'],_0x2135d2=_0x30e847['extentGradientTexPath'],_0x57a1cb=_0x30e847['emissiveTexPath'],_0x30e847=_0x30e847[_0x1c61('0x5e2')],_0x137dfc=this,_0x2d9a21=new _0x111329[(_0x1c61('0x8'))](),_0x170868=(this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x5e3'))]({'color':this['buildingColor']}),_0xea003e&&(_0x306584=[],_0xea003e&&!this[_0x1c61('0x5c9')]&&_0x306584['push']({'name':_0x1c61('0x5e4'),'path':_0xea003e}),_0x45e5ae&&!this[_0x1c61('0x5c9')]&&_0x306584['push']({'name':'topTex','path':_0x45e5ae}),_0x2787be&&_0x306584[_0x1c61('0x6f')]({'name':_0x1c61('0x5e5'),'path':_0x2787be}),_0x2135d2&&_0x306584[_0x1c61('0x6f')]({'name':_0x1c61('0x5e6'),'path':_0x2135d2}),_0x137dfc[_0x1c61('0x5a8')]&&_0x306584[_0x1c61('0x6f')]({'name':_0x1c61('0x5e7'),'path':_0x137dfc[_0x1c61('0x5a8')]}),_0x57a1cb&&_0x306584[_0x1c61('0x6f')]({'name':_0x1c61('0x5e8'),'path':_0x57a1cb}),_0x30e847&&_0x306584[_0x1c61('0x6f')]({'name':'screenSkyTex','path':_0x30e847}),_0x2d9a21[_0x1c61('0x5e9')](_0x306584)[_0x1c61('0x34a')](function(_0x30e847){var _0x306584=!0x0,_0xea003e=!0x1,_0x45e5ae=void 0x0;try{for(var _0x2787be,_0x2135d2=(0x0,_0x541253[_0x1c61('0x8')])(_0x30e847);!(_0x306584=(_0x2787be=_0x2135d2[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x306584=!0x0){var _0x57a1cb=_0x2787be[_0x1c61('0x1c')];'sideTex'===_0x57a1cb['name']&&(_0x137dfc[_0x1c61('0x1c9')]=_0x57a1cb,_0x137dfc[_0x1c61('0x1c9')]['wrapS']=THREE[_0x1c61('0x333')],_0x137dfc[_0x1c61('0x1c9')]['wrapT']=THREE['RepeatWrapping'],_0x137dfc[_0x1c61('0x1c9')][_0x1c61('0x51e')]=_0x137dfc[_0x1c61('0x2bb')][_0x1c61('0x51f')][_0x1c61('0x5ea')]['getMaxAnisotropy']()),_0x1c61('0x5eb')===_0x57a1cb[_0x1c61('0x7b')]&&(_0x137dfc[_0x1c61('0x5ad')]=_0x57a1cb,_0x137dfc[_0x1c61('0x5ad')]['wrapS']=THREE['RepeatWrapping'],_0x137dfc[_0x1c61('0x5ad')]['wrapT']=THREE[_0x1c61('0x333')],_0x137dfc[_0x1c61('0x5ad')][_0x1c61('0x51e')]=_0x137dfc[_0x1c61('0x2bb')][_0x1c61('0x51f')][_0x1c61('0x5ea')][_0x1c61('0x520')]()),_0x1c61('0x5e5')===_0x57a1cb['name']&&(_0x137dfc[_0x1c61('0x5ae')]=_0x57a1cb),_0x1c61('0x5e6')===_0x57a1cb[_0x1c61('0x7b')]&&(_0x137dfc[_0x1c61('0x5af')]=_0x57a1cb),'radarScanTex'===_0x57a1cb[_0x1c61('0x7b')]&&(_0x137dfc[_0x1c61('0x5b1')]=_0x57a1cb),_0x1c61('0x5e8')===_0x57a1cb[_0x1c61('0x7b')]&&(_0x137dfc['emissiveTexture']=_0x57a1cb,_0x137dfc['emissiveTexture'][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x137dfc[_0x1c61('0x5ec')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x137dfc[_0x1c61('0x5ec')][_0x1c61('0x51e')]=_0x137dfc[_0x1c61('0x2bb')][_0x1c61('0x51f')][_0x1c61('0x5ea')][_0x1c61('0x520')]()),_0x1c61('0x5ed')===_0x57a1cb[_0x1c61('0x7b')]&&(_0x137dfc[_0x1c61('0x5b0')]=_0x57a1cb);}}catch(_0x1912ad){_0xea003e=!0x0,_0x45e5ae=_0x1912ad;}finally{try{!_0x306584&&_0x2135d2[_0x1c61('0x99')]&&_0x2135d2['return']();}finally{if(_0xea003e)throw _0x45e5ae;}}_0x137dfc[_0x1c61('0x488')]({'type':_0x1c61('0x460')});})),this[_0x1c61('0x4b4')]&&(this[_0x1c61('0x41')][_0x1c61('0x1d8')]=THREE[_0x1c61('0x1d9')]),this[_0x1c61('0x208')]<0x1&&(this[_0x1c61('0x41')][_0x1c61('0x1ee')]=!0x0,this['material'][_0x1c61('0x208')]=this['opacity']),null),_0x18654f=null,_0x3d4ba9=null,_0x206277=null,_0x5291ce=null,_0x2a00bd=null,_0xd816b9=(this[_0x1c61('0x5c9')]&&(_0x3d4ba9=new THREE[(_0x1c61('0x4ca'))](new Array(0x4)[_0x1c61('0x4c3')](THREE[_0x1c61('0x333')])),_0x170868=new THREE[(_0x1c61('0x4ca'))](new Array(0x4)[_0x1c61('0x4c3')](null)),_0x206277=new THREE[(_0x1c61('0x4ca'))](new Array(0x4)[_0x1c61('0x4c3')](THREE[_0x1c61('0x333')])),_0x18654f=new THREE['Uniform'](new Array(0x4)[_0x1c61('0x4c3')](null)),_0x5291ce=new THREE[(_0x1c61('0x4ca'))](new Array(0x4)[_0x1c61('0x4c3')](0x1)),_0x2a00bd=new THREE[(_0x1c61('0x4ca'))](new Array(0x4)[_0x1c61('0x4c3')](0x1))),new THREE['Color'](this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0x5ee')]));this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x30e847){_0x30e847[_0x1c61('0x16a')][_0x1c61('0x4b5')]={'type':'i','value':_0x137dfc[_0x1c61('0x4b5')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':_0x137dfc['count']},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5ef')]={'value':!0x1},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f0')]={'value':_0x137dfc[_0x1c61('0x5f0')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f1')]={'value':_0xd816b9},_0xea003e&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5e4')]={'value':_0x137dfc[_0x1c61('0x1c9')]},_0x30e847['uniforms'][_0x1c61('0x5d1')]={'value':_0x137dfc['textureRepeat']},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f2')]={'value':_0x137dfc['textureRotate']},_0x30e847[_0x1c61('0x16a')]['topTex']={'value':_0x137dfc[_0x1c61('0x5ad')]},_0x30e847[_0x1c61('0x16a')]['gradientTex']={'value':_0x137dfc['gradientTexture']},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f3')]={'value':_0x137dfc[_0x1c61('0x5a9')]}),_0x57a1cb&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5e8')]={'value':_0x137dfc[_0x1c61('0x5ec')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5b2')]={'value':_0x137dfc['emissiveFactor']}),_0x137dfc[_0x1c61('0x4b5')]&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f4')]={'value':!0x0},_0x30e847[_0x1c61('0x16a')]['centerPos']={'value':new THREE[(_0x1c61('0x1cf'))](_0x137dfc['centerPos']['x'],_0x137dfc[_0x1c61('0x598')]['y'])},_0x137dfc[_0x1c61('0x595')]&&(_0x30e847[_0x1c61('0x16a')]['hlColor']={'value':_0x137dfc[_0x1c61('0x5b8')]},_0x30e847['uniforms']['hlDiffuse']={'value':_0x137dfc[_0x1c61('0x59c')]},_0x30e847['uniforms'][_0x1c61('0x59b')]={'value':_0x137dfc['hlWidth']},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5b3')]={'value':_0x137dfc[_0x1c61('0x5b3')]}),_0x137dfc['isShowVerticalScan']&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5ba')]={'value':_0x137dfc[_0x1c61('0x5ba')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5bb')]={'value':_0x137dfc[_0x1c61('0x5bb')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5b4')]={'value':_0x137dfc['vlTime']}),_0x137dfc[_0x1c61('0x5b7')]&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5a5')]={'value':new THREE['Vector2'](_0x137dfc[_0x1c61('0x5a5')]['x'],_0x137dfc[_0x1c61('0x5a5')]['y'])},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5a2')]={'value':_0x137dfc[_0x1c61('0x5a2')]},_0x30e847['uniforms'][_0x1c61('0x5bc')]={'value':_0x137dfc[_0x1c61('0x5bc')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5b5')]={'value':_0x137dfc[_0x1c61('0x5b5')]}),_0x137dfc['isShowRadarScan']&&(_0x30e847[_0x1c61('0x16a')]['rdCenterPos']={'value':new THREE[(_0x1c61('0x1cf'))](_0x137dfc[_0x1c61('0x5a7')]['x'],_0x137dfc['radarCenterPos']['y'])},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f5')]={'value':_0x137dfc[_0x1c61('0x5a6')]},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f6')]={'value':_0x137dfc['radarColor']},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5b6')]={'value':_0x137dfc[_0x1c61('0x5b6')]},_0x30e847['uniforms']['rdScanTex']={'value':_0x137dfc['radarScanTexture']})),_0x137dfc[_0x1c61('0x5c1')]&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x3ff')]={'value':_0x137dfc['extentRadius']},_0x30e847[_0x1c61('0x16a')]['extentCenter']={'value':new THREE[(_0x1c61('0x1cf'))](_0x137dfc[_0x1c61('0x5c2')]['x'],_0x137dfc[_0x1c61('0x5c2')]['y'])},_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5f7')]={'value':_0x137dfc[_0x1c61('0x5af')]}),_0x137dfc[_0x1c61('0x5f8')]&&(_0x30e847['uniforms'][_0x1c61('0x47a')]={'value':_0x137dfc['screenSkyTexture']}),_0x137dfc[_0x1c61('0x5c9')]&&(_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5ce')]=_0x170868,_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5d6')]=_0x18654f,_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5d0')]=_0x3d4ba9,_0x30e847[_0x1c61('0x16a')]['sideTexWrapArr']=_0x206277,_0x30e847[_0x1c61('0x16a')][_0x1c61('0x5d3')]=_0x5291ce,_0x30e847['uniforms']['sideTexRepeatArr']=_0x2a00bd,_0x30e847['uniforms'][_0x1c61('0x5f9')]={'value':_0x137dfc['id']}),_0x30e847['vertexShader']=_0x30e847[_0x1c61('0x56')]['replace']('#include\x20<uv_pars_vertex>',_0x1c61('0x4d0')+(_0xea003e?_0x1c61('0x5fa'):'')+_0x1c61('0x4d1')+(_0x137dfc['isOpenScan']?_0x1c61('0x5fb'):'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x5c9')]?_0x1c61('0x5fc'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x137dfc[_0x1c61('0x5f8')]?'#define\x20IS_USE_SS_SKY':'')+_0x1c61('0x5fd')),_0x30e847['vertexShader']=_0x30e847[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x5fe')),_0x30e847[_0x1c61('0x56')]=_0x30e847['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x5ff'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x30e847[_0x1c61('0x57')]=_0x30e847[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;',_0x1c61('0x4d1')+(_0xea003e?_0x1c61('0x5fa'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2787be?_0x1c61('0x600'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x57a1cb?_0x1c61('0x601'):'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x4b5')]?_0x1c61('0x5fb'):'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x594')]?'#define\x20IS_BREATH_COL':'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x595')]?_0x1c61('0x602'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x137dfc[_0x1c61('0x596')]?'#define\x20VERTICAL_LINE':'')+_0x1c61('0x4d1')+(_0x137dfc['isShowCenterSpread']?_0x1c61('0x603'):'')+_0x1c61('0x4d1')+(_0x137dfc['isShowRadarScan']?_0x1c61('0x604'):'')+_0x1c61('0x4d1')+(_0x137dfc['isUseExtentEffect']?_0x1c61('0x605'):'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x5f8')]?_0x1c61('0x606'):'')+_0x1c61('0x4d1')+(_0x137dfc[_0x1c61('0x5c9')]?_0x1c61('0x5fc'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x30e847[_0x1c61('0x57')]=_0x30e847[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x607'),_0x1c61('0x608')),_0x30e847[_0x1c61('0x57')]=_0x30e847[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x609'),_0x1c61('0x60a')),_0x30e847[_0x1c61('0x57')]=_0x30e847['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x137dfc[_0x1c61('0x3cf')]=_0x30e847,_0x137dfc[_0x1c61('0x488')]({'type':_0x1c61('0x60b')});};}},{'key':_0x1c61('0x4dd'),'value':function(_0x30e847){_0x30e847[_0x1c61('0x228')],this[_0x1c61('0x3cf')];}},{'key':_0x1c61('0x4de'),'value':function(){return this['material'];}},{'key':_0x1c61('0x4df'),'value':function(){return this[_0x1c61('0x4bb')];}},{'key':_0x1c61('0x60c'),'value':function(_0x30e847,_0x306584){var _0xea003e=this;new TWEEN['Tween']({'intensity':_0x30e847})['to']({'intensity':_0x306584},0x7d0)[_0x1c61('0x2d5')](TWEEN['Easing']['Quadratic'][_0x1c61('0x2de')])['onUpdate'](function(_0x30e847){_0xea003e[_0x1c61('0x5c7')]=_0x30e847[_0x1c61('0x468')],_0xea003e[_0x1c61('0x41')]['color'][_0x1c61('0x531')](0x0,0x0,_0x30e847[_0x1c61('0x468')]);})[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0x60d'),'value':function(_0x30e847,_0x306584){var _0xea003e=this;new TWEEN[(_0x1c61('0x2d4'))]({'radius':_0x30e847})['to']({'radius':_0x306584},0x7d0)[_0x1c61('0x2d5')](TWEEN['Easing'][_0x1c61('0x2d7')][_0x1c61('0x2de')])[_0x1c61('0x2da')](function(_0x30e847){_0xea003e['extentRadius']=_0x30e847['radius'],_0xea003e[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x3ff')][_0x1c61('0x1c')]=_0x30e847[_0x1c61('0x226')];})[_0x1c61('0x2d9')]();}},{'key':'dispose','value':function(){this[_0x1c61('0x41')]&&this['material'][_0x1c61('0xd8')](),this[_0x1c61('0x1c9')]?this[_0x1c61('0x1c9')][_0x1c61('0xd8')]():this['texture']=null,this['topTexture']?this[_0x1c61('0x5ad')][_0x1c61('0xd8')]():this[_0x1c61('0x5ad')]=null,this[_0x1c61('0x5ae')]?this[_0x1c61('0x5ae')][_0x1c61('0xd8')]():this[_0x1c61('0x5ae')]=null,this[_0x1c61('0x3cf')],this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x3c6')]&&(this[_0x1c61('0x3c6')]['material'][0x0]=null),this['shaderMesh']=null;}},{'key':'render','value':function(_0x30e847){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x30e847,this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['iTime'][_0x1c61('0x1c')]=this[_0x1c61('0x104')],this[_0x1c61('0x595')]&&(this[_0x1c61('0x5b3')]>this[_0x1c61('0x59d')][0x1]&&(this['hlTime']=this[_0x1c61('0x59d')][0x0]),this[_0x1c61('0x5b3')]+=_0x30e847*this['hlSpeed'],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5b3')][_0x1c61('0x1c')]=-this[_0x1c61('0x5b3')]),this[_0x1c61('0x596')]&&(this[_0x1c61('0x5b4')]>this[_0x1c61('0x59e')][0x0]&&(this[_0x1c61('0x5b4')]=this[_0x1c61('0x59e')][0x1]),this['vlTime']+=_0x30e847*this[_0x1c61('0x59f')],this[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x5b4')][_0x1c61('0x1c')]=-this['vlTime']),this[_0x1c61('0x5b7')]&&(this[_0x1c61('0x5b5')]+=_0x30e847*this['csSpeed'],this[_0x1c61('0x5b5')]>this[_0x1c61('0x5a3')]&&(this[_0x1c61('0x5b5')]=0x0),this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5b5')][_0x1c61('0x1c')]=this[_0x1c61('0x5b5')]),this[_0x1c61('0x597')]&&(this[_0x1c61('0x5b6')]+=_0x30e847*this[_0x1c61('0x5be')],this[_0x1c61('0x3cf')]['uniforms']['rdTime']['value']=this[_0x1c61('0x5b6')]));}}]),_0x306584['default']=_0x35f74b;},function(_0x4ef249,_0x54767a,_0x224965){'use strict';Object[_0x1c61('0x2')](_0x54767a,_0x1c61('0x5'),{'value':!0x0});var _0x5dabf2=_0x20788c(_0x224965(0x0));function _0x20788c(_0x4ef249){return _0x4ef249&&_0x4ef249[_0x1c61('0x5')]?_0x4ef249:{'default':_0x4ef249};}function _0x126972(_0x4ef249){var _0x54767a=_0x4ef249[_0x1c61('0x2f9')],_0x54767a=void 0x0===_0x54767a?_0x1c61('0x60e'):_0x54767a,_0x224965=_0x4ef249[_0x1c61('0x60f')],_0x224965=void 0x0===_0x224965?0x4:_0x224965,_0x4ef249=_0x4ef249[_0x1c61('0x32f')],_0x4ef249=void 0x0===_0x4ef249?0x4:_0x4ef249;(0x0,_0x5dabf2[_0x1c61('0x8')])(this,_0x126972),this['object3d']=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x2f9')]=_0x54767a,this['speed']=_0x4ef249,this[_0x1c61('0x60f')]=_0x224965,this[_0x1c61('0x41')]=null,this['shaders']={'cubeShader':null,'lineShader':null},this[_0x1c61('0x610')]=null,this[_0x1c61('0x312')][_0x1c61('0x32c')]=!0x1,this['createMaterial']();}(0x0,_0x20788c(_0x224965(0x1))[_0x1c61('0x8')])(_0x126972,[{'key':_0x1c61('0x2f8'),'value':function(){var _0x54767a=this;this['material']=new THREE[(_0x1c61('0x3d4'))](),this[_0x1c61('0x41')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](this[_0x1c61('0x2f9')]),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x4ef249){_0x54767a[_0x1c61('0x611')](_0x4ef249),_0x54767a['shaders'][_0x1c61('0x612')]=_0x4ef249;},this[_0x1c61('0x610')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'wireframe':!0x0}),this[_0x1c61('0x610')]['onBeforeCompile']=function(_0x4ef249){_0x54767a[_0x1c61('0x611')](_0x4ef249),_0x54767a[_0x1c61('0x1eb')][_0x1c61('0x613')]=_0x4ef249;};}},{'key':_0x1c61('0x611'),'value':function(_0x4ef249){_0x4ef249['uniforms'][_0x1c61('0x3da')]={'value':0x0},_0x4ef249[_0x1c61('0x16a')]['floatOffset']={'value':this[_0x1c61('0x60f')]},_0x4ef249[_0x1c61('0x56')]=_0x4ef249[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x614')),_0x4ef249['vertexShader']=_0x4ef249[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x615'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}},{'key':_0x1c61('0x7'),'value':function(_0x4ef249){for(var _0x4ef249=_0x4ef249[_0x1c61('0x226')],_0x4ef249=void 0x0===_0x4ef249?0x5:_0x4ef249,_0x54767a=new THREE[(_0x1c61('0x1c6'))](),_0x224965=new THREE[(_0x1c61('0x616'))](0x1,0x0),_0x5dabf2=0x0,_0x20788c=_0x224965[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0xe9')],_0x126972=_0x20788c[_0x1c61('0xf')];_0x5dabf2<_0x126972;_0x5dabf2+=0x3)0x1===_0x20788c[_0x5dabf2+0x1]&&(_0x20788c[_0x5dabf2+0x1]=0x2);var _0x152ac1=new THREE[(_0x1c61('0x30f'))](_0x224965,this[_0x1c61('0x41')]),_0x152ac1=(_0x152ac1['rotation']['x']=-Math['PI'],_0x54767a[_0x1c61('0x1c4')](_0x152ac1),new THREE[(_0x1c61('0x30f'))](_0x224965,this[_0x1c61('0x610')]));return _0x152ac1[_0x1c61('0x1f6')]['x']=-Math['PI'],_0x152ac1[_0x1c61('0x1de')]['set'](1.01,1.01,1.01),_0x54767a['add'](_0x152ac1),_0x54767a[_0x1c61('0x1de')][_0x1c61('0x1b')](_0x4ef249,_0x4ef249,_0x4ef249),this[_0x1c61('0x312')]['add'](_0x54767a),_0x54767a;}},{'key':'render','value':function(_0x4ef249){this[_0x1c61('0x1eb')][_0x1c61('0x612')]&&this[_0x1c61('0x1eb')][_0x1c61('0x613')]&&(this[_0x1c61('0x1eb')][_0x1c61('0x612')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]+=_0x4ef249*this[_0x1c61('0x32f')],this[_0x1c61('0x1eb')][_0x1c61('0x613')]['uniforms'][_0x1c61('0x3da')][_0x1c61('0x1c')]+=_0x4ef249*this['speed']);}},{'key':_0x1c61('0x32c'),'set':function(_0x4ef249){this[_0x1c61('0x312')]&&(this['object3d'][_0x1c61('0x32c')]=_0x4ef249);}}]),_0x54767a[_0x1c61('0x8')]=_0x126972;},function(_0x333617,_0x45fa63,_0x455b75){'use strict';Object[_0x1c61('0x2')](_0x45fa63,_0x1c61('0x5'),{'value':!0x0});var _0x31899d=_0x34d668(_0x455b75(0x0));function _0x34d668(_0x333617){return _0x333617&&_0x333617['__esModule']?_0x333617:{'default':_0x333617};}function _0x19aab5(){(0x0,_0x31899d[_0x1c61('0x8')])(this,_0x19aab5),this[_0x1c61('0x312')]=null,this['material']=null,this[_0x1c61('0x226')]=0x0,this[_0x1c61('0x617')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0x34d668(_0x455b75(0x1))[_0x1c61('0x8')])(_0x19aab5,[{'key':_0x1c61('0x7'),'value':function(_0x333617){var _0x45fa63=_0x333617['texture'],_0x455b75=_0x333617[_0x1c61('0x226')],_0x31899d=_0x333617['height'],_0x34d668=_0x333617[_0x1c61('0x618')],_0x333617=_0x333617[_0x1c61('0x2f9')],_0x31899d=new THREE[(_0x1c61('0x619'))](_0x455b75,_0x455b75,_0x31899d,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x45fa63['wrapS']=THREE[_0x1c61('0x333')],_0x45fa63[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x45fa63[_0x1c61('0x2f0')]['x']=0x4,this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'side':THREE['DoubleSide'],'transparent':!0x0,'map':_0x45fa63,'depthWrite':!0x1}),_0x333617&&(this[_0x1c61('0x41')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x333617)),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x30f'))](_0x31899d,this['material']),this[_0x1c61('0x226')]=_0x455b75,_0x34d668&&(_0x34d668['centerHeight']&&_0x34d668[_0x1c61('0x61a')]&&(this[_0x1c61('0x617')]['centerHeight']=_0x34d668[_0x1c61('0x61b')],this[_0x1c61('0x617')][_0x1c61('0x61a')]=_0x34d668['swingHeight']),_0x34d668['speed']&&(this[_0x1c61('0x617')][_0x1c61('0x32f')]=_0x34d668[_0x1c61('0x32f')])),this[_0x1c61('0x312')];}},{'key':_0x1c61('0x2db'),'value':function(){this[_0x1c61('0x312')]&&(this[_0x1c61('0x312')][_0x1c61('0x1f6')]['y']-=this[_0x1c61('0x617')][_0x1c61('0x32f')],this[_0x1c61('0x312')][_0x1c61('0x218')]['y']=Math[_0x1c61('0x58')](0.5*this[_0x1c61('0x312')][_0x1c61('0x1f6')]['y'])*this['moveOpts'][_0x1c61('0x61a')]+this[_0x1c61('0x617')][_0x1c61('0x61b')]);}},{'key':_0x1c61('0x32c'),'set':function(_0x333617){this[_0x1c61('0x312')]&&(this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x333617);}}]),_0x45fa63['default']=_0x19aab5;},function(_0x115763,_0x2116b9,_0x14126f){'use strict';Object[_0x1c61('0x2')](_0x2116b9,_0x1c61('0x5'),{'value':!0x0});var _0x21104a=_0x11f1b0(_0x14126f(0x0));function _0x11f1b0(_0x115763){return _0x115763&&_0x115763[_0x1c61('0x5')]?_0x115763:{'default':_0x115763};}function _0x130ebf(){(0x0,_0x21104a['default'])(this,_0x130ebf),this[_0x1c61('0x312')]=null,this[_0x1c61('0x41')]=null,this[_0x1c61('0x61c')]=0x0;}(0x0,_0x11f1b0(_0x14126f(0x1))[_0x1c61('0x8')])(_0x130ebf,[{'key':'create','value':function(_0x115763){var _0x2116b9=_0x115763[_0x1c61('0x2f9')],_0x14126f=_0x115763[_0x1c61('0x1c9')],_0x21104a=_0x115763[_0x1c61('0x226')],_0x21104a=void 0x0===_0x21104a?0x64:_0x21104a,_0x11f1b0=_0x115763['speed'],_0x11f1b0=void 0x0===_0x11f1b0?0x1:_0x11f1b0,_0x115763=_0x115763[_0x1c61('0x61d')],_0x115763=void 0x0===_0x115763?0x0:_0x115763,_0x21104a=new THREE[(_0x1c61('0x3d0'))](_0x21104a,_0x21104a);_0x14126f[_0x1c61('0x1f6')]=THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x115763),this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'transparent':!0x0,'map':_0x14126f,'depthWrite':!0x1,'side':THREE['DoubleSide']}),_0x2116b9&&(this['material'][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2116b9)),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x30f'))](_0x21104a,this[_0x1c61('0x41')]),this[_0x1c61('0x312')]['rotation']['x']=0.5*-Math['PI'],this[_0x1c61('0x61c')]=_0x11f1b0;}},{'key':_0x1c61('0x2db'),'value':function(_0x115763){this[_0x1c61('0x312')]&&(this[_0x1c61('0x312')][_0x1c61('0x1f6')]['z']+=_0x115763*this[_0x1c61('0x61c')]);}},{'key':_0x1c61('0x32c'),'set':function(_0x115763){this['object3d']&&(this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x115763);}}]),_0x2116b9[_0x1c61('0x8')]=_0x130ebf;},function(_0x42383f,_0x25fdab,_0xed5d18){'use strict';Object['defineProperty'](_0x25fdab,_0x1c61('0x5'),{'value':!0x0});var _0x46559e=_0x40a65e(_0xed5d18(0x4)),_0x304731=_0x40a65e(_0xed5d18(0x0)),_0xed5d18=_0x40a65e(_0xed5d18(0x1));function _0x40a65e(_0x42383f){return _0x42383f&&_0x42383f[_0x1c61('0x5')]?_0x42383f:{'default':_0x42383f};}(0x0,_0xed5d18[_0x1c61('0x8')])(_0x5e289f,[{'key':_0x1c61('0x7'),'value':function(_0x42383f){var _0x25fdab=_0x42383f[_0x1c61('0x289')],_0x42383f=_0x42383f[_0x1c61('0x1c9')],_0xed5d18=[],_0x40a65e=!0x0,_0x199fe6=!0x1,_0x1b4155=void 0x0;try{for(var _0x304731,_0x48a230=(0x0,_0x46559e[_0x1c61('0x8')])(_0x25fdab);!(_0x40a65e=(_0x304731=_0x48a230['next']())[_0x1c61('0x89')]);_0x40a65e=!0x0){var _0x57c8dd=_0x304731[_0x1c61('0x1c')];_0xed5d18[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](-_0x57c8dd['x'],(void 0x0!==_0x57c8dd['height']?_0x57c8dd:this)[_0x1c61('0x2f7')],_0x57c8dd['y']));}}catch(_0x5796b0){_0x199fe6=!0x0,_0x1b4155=_0x5796b0;}finally{try{!_0x40a65e&&_0x48a230['return']&&_0x48a230['return']();}finally{if(_0x199fe6)throw _0x1b4155;}}for(var _0x313c86,_0x4a2ff6=_0xed5d18[0x0],_0x16e72d=new Float32Array(0x4*_0xed5d18[_0x1c61('0xf')]),_0x190ddb=0x0,_0x37f1cc=_0xed5d18[_0x1c61('0xf')];_0x190ddb<_0x37f1cc;_0x190ddb++)_0x16e72d[0x0+(_0x313c86=0x4*_0x190ddb)]=_0xed5d18[_0x190ddb]['x']-_0x4a2ff6['x'],_0x16e72d[0x1+_0x313c86]=_0xed5d18[_0x190ddb]['y']-_0x4a2ff6['y'],_0x16e72d[0x2+_0x313c86]=_0xed5d18[_0x190ddb]['z']-_0x4a2ff6['z'],_0x16e72d[0x3+_0x313c86]=_0x190ddb;var _0x25fdab=new THREE[(_0x1c61('0x1ef'))](),_0x199fe6=new THREE[(_0x1c61('0x61e'))](_0x16e72d,0x4),_0x40d3d1=(_0x25fdab[_0x1c61('0x31c')](_0x1c61('0x218'),new THREE[(_0x1c61('0x440'))](_0x199fe6,0x3,0x0)),_0x25fdab[_0x1c61('0x31c')](_0x1c61('0x441'),new THREE[(_0x1c61('0x440'))](_0x199fe6,0x1,0x3)),this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x61f'))]({'color':0xffffff,'map':_0x42383f,'sizeAttenuation':!0x1,'size':this['pointSize'],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this['colorStr']&&(this[_0x1c61('0x41')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](this[_0x1c61('0x2f9')])),this);return this[_0x1c61('0x41')]['onBeforeCompile']=function(_0x42383f){_0x42383f[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x42383f[_0x1c61('0x16a')][_0x1c61('0x620')]={'value':_0x40d3d1[_0x1c61('0x620')]},_0x42383f[_0x1c61('0x16a')][_0x1c61('0x621')]={'value':0x0},_0x42383f[_0x1c61('0x56')]=_0x42383f[_0x1c61('0x56')][_0x1c61('0x3c9')]('uniform\x20float\x20scale;',_0x1c61('0x622')),_0x42383f[_0x1c61('0x56')]=_0x42383f[_0x1c61('0x56')]['replace'](_0x1c61('0x444'),_0x1c61('0x623')),_0x40d3d1['shader']=_0x42383f;},this[_0x1c61('0x289')]=new THREE[(_0x1c61('0xc2'))](_0x25fdab,this[_0x1c61('0x41')]),this[_0x1c61('0x289')][_0x1c61('0x311')]=0x50,this[_0x1c61('0x312')][_0x1c61('0x1c4')](this[_0x1c61('0x289')]),this[_0x1c61('0x289')];}},{'key':'render','value':function(_0x42383f){var _0x25fdab;this['points']&&this['shader']&&(0x4===this[_0x1c61('0x620')]?(_0x25fdab=this[_0x1c61('0x2e8')][_0x1c61('0x2f1')]()%this[_0x1c61('0x527')],this[_0x1c61('0x527')]-_0x25fdab<0.5?this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['isStart'][_0x1c61('0x1c')]=0x1:this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['isStart'][_0x1c61('0x1c')]=0x0):(this[_0x1c61('0x104')]+=_0x42383f,this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')]['value']=this[_0x1c61('0x104')]));}},{'key':_0x1c61('0x32c'),'set':function(_0x42383f){this[_0x1c61('0x289')]&&(this[_0x1c61('0x289')][_0x1c61('0x32c')]=_0x42383f);}},{'key':'autoScale','set':function(_0x42383f){this[_0x1c61('0x289')][_0x1c61('0x41')][_0x1c61('0x2ff')]=!_0x42383f,this['points'][_0x1c61('0x41')]['needsUpdate']=!0x0;}}]);_0xed5d18=_0x5e289f;function _0x5e289f(_0x42383f){var _0x25fdab=_0x42383f['pointSize'],_0x25fdab=void 0x0===_0x25fdab?0x32:_0x25fdab,_0xed5d18=_0x42383f['colorStr'],_0xed5d18=void 0x0===_0xed5d18?'#ffffff':_0xed5d18,_0x40a65e=_0x42383f[_0x1c61('0x2f7')],_0x40a65e=void 0x0===_0x40a65e?0.1:_0x40a65e,_0x229aa2=_0x42383f['animateType'],_0x229aa2=void 0x0===_0x229aa2?'':_0x229aa2,_0xffb719=_0x42383f['timer'],_0x42383f=_0x42383f[_0x1c61('0x527')],_0x42383f=void 0x0===_0x42383f?0x1:_0x42383f;switch((0x0,_0x304731[_0x1c61('0x8')])(this,_0x5e289f),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x312')][_0x1c61('0x7b')]=_0x1c61('0x4a2'),this['pointSize']=_0x25fdab,this['colorStr']=_0xed5d18,this[_0x1c61('0x2f7')]=_0x40a65e,this[_0x1c61('0x2e8')]=_0xffb719,this[_0x1c61('0x527')]=_0x42383f,this[_0x1c61('0x289')]=null,this[_0x1c61('0x41')]=null,this['shader']=null,this[_0x1c61('0x43e')]=[],_0x229aa2){case _0x1c61('0x624'):this['animateType']=0x1;break;case _0x1c61('0x625'):this[_0x1c61('0x620')]=0x2;break;case _0x1c61('0x626'):this[_0x1c61('0x620')]=0x3;break;case _0x1c61('0x627'):this['animateType']=0x4;break;default:this[_0x1c61('0x620')]=0x1;}this[_0x1c61('0x104')]=0x0;}_0x25fdab[_0x1c61('0x8')]=_0xed5d18;},function(_0x1a1ee7,_0x3c164f,_0x10abba){'use strict';Object[_0x1c61('0x2')](_0x3c164f,'__esModule',{'value':!0x0});var _0x5ec48a=_0x51a3f5(_0x10abba(0x0)),_0x2dc4b1=_0x51a3f5(_0x10abba(0x1)),_0x956dbc=_0x51a3f5(_0x10abba(0x81));function _0x51a3f5(_0x1a1ee7){return _0x1a1ee7&&_0x1a1ee7[_0x1c61('0x5')]?_0x1a1ee7:{'default':_0x1a1ee7};}function _0x2f7e65(_0x1a1ee7){_0x1a1ee7=_0x1a1ee7[_0x1c61('0xd9')];(0x0,_0x5ec48a[_0x1c61('0x8')])(this,_0x2f7e65),this['map']=_0x1a1ee7,this[_0x1c61('0x4cc')]=[],this[_0x1c61('0x628')]=[],this[_0x1c61('0x629')]=!0x1;}(0x0,_0x2dc4b1[_0x1c61('0x8')])(_0x2f7e65,[{'key':_0x1c61('0x62a'),'value':function(){this[_0x1c61('0x629')]||(this[_0x1c61('0x629')]=!0x0);}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x4cc')][_0x1c61('0xf')]=0x0,this[_0x1c61('0x628')]['length']=0x0;}},{'key':_0x1c61('0x62b'),'value':function(){var _0x1a1ee7=document[_0x1c61('0x75')](_0x1c61('0x463'));return _0x1a1ee7[_0x1c61('0x328')]=0x2,_0x1a1ee7[_0x1c61('0x2f7')]=0x2,_0x1a1ee7['getContext']('2d')[_0x1c61('0x4a6')]=_0x1c61('0x32d'),new THREE[(_0x1c61('0x1cc'))](_0x1a1ee7);}},{'key':_0x1c61('0x62c'),'value':function(_0x1a1ee7,_0x3c164f){_0x1a1ee7[_0x1c61('0x62d')]||(_0x1a1ee7[_0x1c61('0x62d')]=this[_0x1c61('0x62b')](),_0x1a1ee7[_0x1c61('0x62e')]=0x0),_0x1a1ee7[_0x1c61('0x32c')]=!0x0,_0x1a1ee7[_0x1c61('0x169')][_0x1c61('0x62f')]='',_0x1a1ee7[_0x1c61('0x1ee')]=!0x0;var _0x10abba=new THREE['TextureLoader']()[_0x1c61('0x96')](_0x3c164f,function(){});_0x1a1ee7[_0x1c61('0x3c7')]=function(_0x1a1ee7){_0x1a1ee7['uniforms'][_0x1c61('0x630')]={'value':_0x10abba},_0x1a1ee7[_0x1c61('0x57')]=_0x1a1ee7[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1a1ee7[_0x1c61('0x57')]=_0x1a1ee7[_0x1c61('0x57')]['replace'](_0x1c61('0x631'),_0x1c61('0x632'));};}},{'key':_0x1c61('0x633'),'value':function(_0x1a1ee7,_0x3c164f,_0x10abba){var _0x5ec48a=this,_0x2dc4b1=(_0x1a1ee7[_0x1c61('0x62d')]||(_0x1a1ee7[_0x1c61('0x62d')]=this[_0x1c61('0x62b')](),_0x1a1ee7['aoMapIntensity']=0x0),new THREE['TextureLoader']()[_0x1c61('0x96')](_0x3c164f,function(){_0x5ec48a[_0x1c61('0x4cc')]['push'](_0x2dc4b1);}));_0x2dc4b1[_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x2dc4b1[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x2dc4b1[_0x1c61('0x634')]=new THREE[(_0x1c61('0x1cf'))](0x0,0x0),_0x2dc4b1[_0x1c61('0x635')]=new THREE[(_0x1c61('0x1cf'))](0x1,0x1),_0x10abba&&(_0x2dc4b1[_0x1c61('0x635')]=new THREE['Vector2'](_0x10abba['x'],_0x10abba['y'])),_0x1a1ee7[_0x1c61('0x3c7')]=function(_0x1a1ee7){_0x1a1ee7[_0x1c61('0x16a')][_0x1c61('0x636')]={'value':_0x2dc4b1},_0x1a1ee7[_0x1c61('0x16a')][_0x1c61('0x637')]={'value':_0x2dc4b1[_0x1c61('0x634')]},_0x1a1ee7['fragmentShader']=_0x1a1ee7[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x638')),_0x1a1ee7[_0x1c61('0x57')]=_0x1a1ee7[_0x1c61('0x57')][_0x1c61('0x3c9')]('#include\x20<map_fragment>',_0x1c61('0x639'));};}},{'key':'addSpriteAnimate','value':function(_0x1a1ee7,_0x3c164f){_0x3c164f=new _0x956dbc[(_0x1c61('0x8'))]({'timer':this[_0x1c61('0xd9')][_0x1c61('0x2e8')],'imageWidth':_0x3c164f[_0x1c61('0x63a')],'imageHeight':_0x3c164f[_0x1c61('0x63b')],'xCount':_0x3c164f[_0x1c61('0x63c')],'yCount':_0x3c164f[_0x1c61('0x63d')],'fps':_0x3c164f['fps']});_0x3c164f[_0x1c61('0x7')](_0x1a1ee7),_0x1a1ee7[_0x1c61('0x63e')]=_0x3c164f,this[_0x1c61('0x628')][_0x1c61('0x6f')](_0x3c164f);}},{'key':_0x1c61('0x2db'),'value':function(_0x1a1ee7){if(this[_0x1c61('0x629')]){for(var _0x3c164f=0x0,_0x10abba=this[_0x1c61('0x4cc')]['length'];_0x3c164f<_0x10abba;_0x3c164f++)this[_0x1c61('0x4cc')][_0x3c164f]['uvTranslate']&&(this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x63f')]['x']&&(this['textures'][_0x3c164f][_0x1c61('0x2f2')]['x']+=_0x1a1ee7*this[_0x1c61('0x4cc')][_0x3c164f]['uvTranslate']['x']),this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x63f')]['y']&&(this[_0x1c61('0x4cc')][_0x3c164f]['offset']['y']+=_0x1a1ee7*this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x63f')]['y'])),this['textures'][_0x3c164f][_0x1c61('0x634')]&&(void 0x0!==this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x634')]['x']&&(this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x634')]['x']+=_0x1a1ee7*this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x635')]['x']),void 0x0!==this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x634')]['y']&&(this['textures'][_0x3c164f][_0x1c61('0x634')]['y']+=_0x1a1ee7*this[_0x1c61('0x4cc')][_0x3c164f][_0x1c61('0x635')]['y']));if(0x0<this[_0x1c61('0x628')][_0x1c61('0xf')])for(var _0x5ec48a=0x0,_0x2dc4b1=this[_0x1c61('0x628')][_0x1c61('0xf')];_0x5ec48a<_0x2dc4b1;_0x5ec48a++)this[_0x1c61('0x628')][_0x5ec48a][_0x1c61('0x2db')]();}}},{'key':_0x1c61('0xd8'),'value':function(){for(var _0x1a1ee7=this[_0x1c61('0x4cc')][_0x1c61('0xf')]=0x0,_0x3c164f=this[_0x1c61('0x628')][_0x1c61('0xf')];_0x1a1ee7<_0x3c164f;_0x1a1ee7++)this[_0x1c61('0x628')][_0x1a1ee7][_0x1c61('0x1c9')]=null;this['textureSprites'][_0x1c61('0xf')]=0x0;}}]),_0x3c164f['default']=_0x2f7e65;},function(_0x544fb5,_0x3d4140,_0x241c3a){'use strict';Object[_0x1c61('0x2')](_0x3d4140,_0x1c61('0x5'),{'value':!0x0});var _0x4da7a1=_0x2fc362(_0x241c3a(0x0));function _0x2fc362(_0x544fb5){return _0x544fb5&&_0x544fb5['__esModule']?_0x544fb5:{'default':_0x544fb5};}function _0x12ef15(_0x544fb5){var _0x3d4140=_0x544fb5['texture'],_0x241c3a=_0x544fb5['radius'],_0x241c3a=void 0x0===_0x241c3a?0x64:_0x241c3a,_0x2fc362=_0x544fb5[_0x1c61('0x2f7')],_0x2fc362=void 0x0===_0x2fc362?0x32:_0x2fc362,_0x16fe23=_0x544fb5[_0x1c61('0x2f9')],_0x16fe23=void 0x0===_0x16fe23?'#FFFFFF':_0x16fe23,_0x162634=_0x544fb5[_0x1c61('0x32f')],_0x162634=void 0x0===_0x162634?0.3:_0x162634,_0x2dc1eb=_0x544fb5['isCilpGround'],_0x2dc1eb=void 0x0!==_0x2dc1eb&&_0x2dc1eb,_0x544fb5=_0x544fb5[_0x1c61('0x640')],_0x544fb5=void 0x0===_0x544fb5?0x0:_0x544fb5;(0x0,_0x4da7a1[_0x1c61('0x8')])(this,_0x12ef15),this['object3d']=new THREE[(_0x1c61('0x331'))](),this['texture']=_0x3d4140,this[_0x1c61('0x226')]=_0x241c3a,this[_0x1c61('0x2f7')]=_0x2fc362,this[_0x1c61('0x2f9')]=_0x16fe23,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x532')]=null,this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x641')]=0x0,this[_0x1c61('0x32f')]=_0x162634,this['isCilpGround']=_0x2dc1eb,this['clipGroundY']=_0x544fb5;}(0x0,_0x2fc362(_0x241c3a(0x1))[_0x1c61('0x8')])(_0x12ef15,[{'key':_0x1c61('0x7'),'value':function(){var _0x544fb5=new THREE[(_0x1c61('0x619'))](this[_0x1c61('0x226')],this[_0x1c61('0x226')],this[_0x1c61('0x2f7')],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x3d4140=(this[_0x1c61('0x1c9')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this[_0x1c61('0x1c9')]['wrapT']=THREE[_0x1c61('0x333')],this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'side':THREE[_0x1c61('0x302')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1c61('0x1d9')]}),this[_0x1c61('0x2f9')]&&(this[_0x1c61('0x2f9')],this[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](this[_0x1c61('0x2f9')])),this);return this['material'][_0x1c61('0x3c7')]=function(_0x544fb5){_0x544fb5[_0x1c61('0x16a')][_0x1c61('0x5c7')]={'value':0x1},_0x544fb5[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x3d4140[_0x1c61('0x1c9')]},_0x544fb5['uniforms'][_0x1c61('0x52f')]={'value':_0x3d4140[_0x1c61('0x52f')]},_0x544fb5[_0x1c61('0x16a')]['clipGroundY']={'value':_0x3d4140['clipGroundY']},_0x544fb5[_0x1c61('0x56')]=_0x544fb5[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x642'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x544fb5['vertexShader']=_0x544fb5[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x643'),_0x1c61('0x644')),_0x544fb5[_0x1c61('0x57')]=_0x544fb5[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x544fb5[_0x1c61('0x57')]=_0x544fb5[_0x1c61('0x57')]['replace'](_0x1c61('0x3dd'),_0x1c61('0x645')),_0x3d4140['shader']=_0x544fb5;},this[_0x1c61('0x532')]=new THREE[(_0x1c61('0x30f'))](_0x544fb5,this[_0x1c61('0x41')]),this[_0x1c61('0x532')]['renderOrder']=0x45,this[_0x1c61('0x312')][_0x1c61('0x1c4')](this[_0x1c61('0x532')]),this[_0x1c61('0x312')],this[_0x1c61('0x312')];}},{'key':_0x1c61('0x2db'),'value':function(_0x544fb5){this[_0x1c61('0x532')]&&(this[_0x1c61('0x641')]+=_0x544fb5*this[_0x1c61('0x32f')],0x1<this[_0x1c61('0x641')]&&(this[_0x1c61('0x641')]=0x0),_0x544fb5=0.5*(0x1-Math[_0x1c61('0x59')](this[_0x1c61('0x641')]*Math['PI']*0x2)),this[_0x1c61('0x532')][_0x1c61('0x1de')]['x']=this[_0x1c61('0x532')][_0x1c61('0x1de')]['z']=1.5*(0x1-Math['cos'](this['cinctureCount']*Math['PI']))*0.5+0.001,this[_0x1c61('0x532')][_0x1c61('0x1de')]['y']=1.5*_0x544fb5+0.001,this[_0x1c61('0x41')]['opacity']=_0x544fb5,this['shader']&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5c7')][_0x1c61('0x1c')]=_0x544fb5));}},{'key':_0x1c61('0x32c'),'set':function(_0x544fb5){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x544fb5;},'get':function(){return this['object3d'][_0x1c61('0x32c')];}}]),_0x3d4140['default']=_0x12ef15;},function(_0x11fbcc,_0x102b6e,_0xc00ac8){'use strict';Object[_0x1c61('0x2')](_0x102b6e,_0x1c61('0x5'),{'value':!0x0});var _0x36999f=_0x42bb6c(_0xc00ac8(0x4)),_0x2f1fc3=_0x42bb6c(_0xc00ac8(0x0));function _0x42bb6c(_0x11fbcc){return _0x11fbcc&&_0x11fbcc[_0x1c61('0x5')]?_0x11fbcc:{'default':_0x11fbcc};}function _0x3316d9(_0x11fbcc){var _0x102b6e=_0x11fbcc[_0x1c61('0x1c9')],_0xc00ac8=_0x11fbcc[_0x1c61('0x2f9')],_0xc00ac8=void 0x0===_0xc00ac8?_0x1c61('0x32d'):_0xc00ac8,_0x42bb6c=_0x11fbcc[_0x1c61('0x646')],_0x42bb6c=void 0x0===_0x42bb6c?_0x1c61('0x647'):_0x42bb6c,_0x3652c6=_0x11fbcc[_0x1c61('0x1de')],_0x3652c6=void 0x0===_0x3652c6?0x14:_0x3652c6,_0x4cb7ac=_0x11fbcc[_0x1c61('0x32f')],_0x4cb7ac=void 0x0===_0x4cb7ac?0.005:_0x4cb7ac,_0x20c7c1=_0x11fbcc[_0x1c61('0x53c')],_0x20c7c1=void 0x0===_0x20c7c1||_0x20c7c1,_0x28e966=_0x11fbcc[_0x1c61('0x648')],_0x28e966=void 0x0!==_0x28e966&&_0x28e966,_0x39897=_0x11fbcc[_0x1c61('0x53d')],_0x39897=void 0x0===_0x39897?0xa:_0x39897,_0x11fbcc=_0x11fbcc['isClockWise'],_0x11fbcc=void 0x0!==_0x11fbcc&&_0x11fbcc;(0x0,_0x2f1fc3['default'])(this,_0x3316d9),this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x1c9')]=_0x102b6e,this['alphaTex']=null,this[_0x1c61('0x649')]={'spline':_0x1c61('0x64a'),'scale':_0x3652c6,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x1c61('0x2f7')]=0x19,this['extentIds']=[],this[_0x1c61('0x64b')]=[],this[_0x1c61('0x64c')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3d3')]=_0x4cb7ac,this[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0xc00ac8),this[_0x1c61('0x64d')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x42bb6c),this['wallMaterial']=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x64e')]=null,this['isScrollX']=_0x28e966,this['scrollXRepeat']=_0x39897,this[_0x1c61('0x64f')]=_0x11fbcc,this[_0x1c61('0x2f8')](_0x20c7c1);}(0x0,_0x42bb6c(_0xc00ac8(0x1))[_0x1c61('0x8')])(_0x3316d9,[{'key':'createMaterial','value':function(_0x11fbcc){this[_0x1c61('0x53e')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),_0x11fbcc&&(this[_0x1c61('0x53e')][_0x1c61('0x1d8')]=THREE[_0x1c61('0x1d9')]),this['wallMaterial'][_0x1c61('0x228')]=this[_0x1c61('0x228')],this[_0x1c61('0x1c9')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this['texture'][_0x1c61('0x332')]=THREE[_0x1c61('0x333')];var _0x102b6e=this;this[_0x1c61('0x648')]?(this[_0x1c61('0x53e')][_0x1c61('0x362')]=THREE[_0x1c61('0x650')],this['texture']['repeat']['y']=0x2,this[_0x1c61('0x1c9')]['repeat']['x']=0xa,this['wallMaterial']['map']=this[_0x1c61('0x1c9')]):(this[_0x1c61('0x53e')][_0x1c61('0x362')]=THREE['DoubleSide'],this[_0x1c61('0x53e')][_0x1c61('0x3c7')]=function(_0x11fbcc){_0x11fbcc[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x11fbcc[_0x1c61('0x16a')][_0x1c61('0x651')]={'value':0x1},_0x11fbcc['uniforms'][_0x1c61('0x652')]={'value':_0x102b6e[_0x1c61('0x1c9')]},_0x11fbcc[_0x1c61('0x56')]=_0x11fbcc[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x642'),_0x1c61('0x653')),_0x11fbcc[_0x1c61('0x56')]=_0x11fbcc['vertexShader'][_0x1c61('0x3c9')]('#include\x20<uv2_vertex>',_0x1c61('0x654')),_0x11fbcc[_0x1c61('0x57')]=_0x11fbcc[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x11fbcc[_0x1c61('0x57')]=_0x11fbcc[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x655')),_0x102b6e[_0x1c61('0x3cf')]=_0x11fbcc;});}},{'key':'addWall','value':function(_0x11fbcc){var _0x102b6e=_0x11fbcc['points'],_0xc00ac8=_0x11fbcc[_0x1c61('0x656')],_0x42bb6c=_0x11fbcc[_0x1c61('0x53b')],_0x42bb6c=void 0x0===_0x42bb6c?0x5:_0x42bb6c,_0x11fbcc=_0x11fbcc[_0x1c61('0x562')],_0x439ef6=_0x102b6e[0x0],_0x6e16e=[],_0x27aa68=!0x0,_0x3a64d6=!0x1,_0x592ed7=void 0x0;try{for(var _0x2f1fc3,_0x3316d9=(0x0,_0x36999f[_0x1c61('0x8')])(_0x102b6e);!(_0x27aa68=(_0x2f1fc3=_0x3316d9['next']())[_0x1c61('0x89')]);_0x27aa68=!0x0){var _0x1d31fa=_0x2f1fc3[_0x1c61('0x1c')],_0x413e99=_0x1d31fa['x']-_0x439ef6['x'],_0x58e835=_0x1d31fa['z']-_0x439ef6['z'];_0x6e16e['push']({'x':_0x413e99,'y':_0x58e835});}}catch(_0x247dbf){_0x3a64d6=!0x0,_0x592ed7=_0x247dbf;}finally{try{!_0x27aa68&&_0x3316d9[_0x1c61('0x99')]&&_0x3316d9[_0x1c61('0x99')]();}finally{if(_0x3a64d6)throw _0x592ed7;}}_0x11fbcc||_0x6e16e[_0x1c61('0x6f')]({'x':0x0,'y':0x0});_0x102b6e=null,(_0x102b6e=this[_0x1c61('0x648')]?this['addWallScrollXGeometry']({'points':_0x6e16e,'height':_0x42bb6c}):this[_0x1c61('0x657')]({'points':_0x6e16e,'height':_0x42bb6c}))[_0x1c61('0x658')](),_0x3a64d6=new THREE[(_0x1c61('0x30f'))](_0x102b6e,this[_0x1c61('0x53e')]);return _0x3a64d6[_0x1c61('0x311')]=0x47,_0x3a64d6[_0x1c61('0x656')]=_0xc00ac8,this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x3a64d6),this[_0x1c61('0x64b')][_0x1c61('0x6f')]({'id':_0xc00ac8,'mesh':_0x3a64d6}),_0x3a64d6;}},{'key':'addWallScrollXGeometry','value':function(_0x102b6e){var _0x11fbcc=_0x102b6e['points'],_0x11fbcc=void 0x0===_0x11fbcc?[]:_0x11fbcc,_0x102b6e=_0x102b6e[_0x1c61('0x2f7')],_0xc00ac8=void 0x0===_0x102b6e?0x0:_0x102b6e,_0x42bb6c=[],_0x2b6f39=!0x0,_0x102b6e=!0x1,_0xb7d50f=void 0x0;try{for(var _0x24b3b9,_0x25e945=(0x0,_0x36999f[_0x1c61('0x8')])(_0x11fbcc);!(_0x2b6f39=(_0x24b3b9=_0x25e945['next']())[_0x1c61('0x89')]);_0x2b6f39=!0x0){var _0x43445d=_0x24b3b9[_0x1c61('0x1c')];_0x42bb6c['push'](new THREE['Vector3'](_0x43445d['x'],_0xc00ac8,_0x43445d['y']));}}catch(_0x2ea613){_0x102b6e=!0x0,_0xb7d50f=_0x2ea613;}finally{try{!_0x2b6f39&&_0x25e945[_0x1c61('0x99')]&&_0x25e945[_0x1c61('0x99')]();}finally{if(_0x102b6e)throw _0xb7d50f;}}_0x11fbcc=new THREE[(_0x1c61('0x437'))](_0x42bb6c,!0x1,_0x1c61('0x4b2'),0.01),_0x102b6e=new THREE[(_0x1c61('0x439'))](_0x11fbcc,this[_0x1c61('0x649')]['extrusionSegments'],this[_0x1c61('0x649')][_0x1c61('0x1de')],this['lineParams'][_0x1c61('0x659')],this[_0x1c61('0x649')]['closed']);return _0x102b6e[_0x1c61('0x658')](),_0x102b6e;}},{'key':'addWallScrollYGeometry','value':function(_0x11fbcc){for(var _0x102b6e=_0x11fbcc[_0x1c61('0x289')],_0xc00ac8=void 0x0===_0x102b6e?[]:_0x102b6e,_0x102b6e=_0x11fbcc['height'],_0x42bb6c=void 0x0===_0x102b6e?0x0:_0x102b6e,_0x2665c8=[],_0x54a76d=[],_0x2743c3=0x0,_0x43b4c8=_0x2665c8[_0x1c61('0xf')],_0x31d85f=_0x54a76d[_0x1c61('0xf')];_0x2743c3<_0xc00ac8[_0x1c61('0xf')]-0x1;_0x2743c3++){var _0x2f1fc3=_0xc00ac8[_0x2743c3],_0x3316d9=_0xc00ac8[_0x2743c3+0x1];_0x2665c8[_0x43b4c8++]=_0x2f1fc3['x'],_0x2665c8[_0x43b4c8++]=0x0,_0x2665c8[_0x43b4c8++]=_0x2f1fc3['y'],_0x54a76d[_0x31d85f++]=0x0,_0x54a76d[_0x31d85f++]=0x0,_0x2665c8[_0x43b4c8++]=_0x3316d9['x'],_0x2665c8[_0x43b4c8++]=0x0,_0x2665c8[_0x43b4c8++]=_0x3316d9['y'],_0x54a76d[_0x31d85f++]=0x1,_0x54a76d[_0x31d85f++]=0x0,_0x2665c8[_0x43b4c8++]=_0x2f1fc3['x'],_0x2665c8[_0x43b4c8++]=_0x42bb6c,_0x2665c8[_0x43b4c8++]=_0x2f1fc3['y'],_0x54a76d[_0x31d85f++]=0x0,_0x54a76d[_0x31d85f++]=0x1,_0x2665c8[_0x43b4c8++]=_0x2f1fc3['x'],_0x2665c8[_0x43b4c8++]=_0x42bb6c,_0x2665c8[_0x43b4c8++]=_0x2f1fc3['y'],_0x54a76d[_0x31d85f++]=0x0,_0x54a76d[_0x31d85f++]=0x1,_0x2665c8[_0x43b4c8++]=_0x3316d9['x'],_0x2665c8[_0x43b4c8++]=0x0,_0x2665c8[_0x43b4c8++]=_0x3316d9['y'],_0x54a76d[_0x31d85f++]=0x1,_0x54a76d[_0x31d85f++]=0x0,_0x2665c8[_0x43b4c8++]=_0x3316d9['x'],_0x2665c8[_0x43b4c8++]=_0x42bb6c,_0x2665c8[_0x43b4c8++]=_0x3316d9['y'],_0x54a76d[_0x31d85f++]=0x1,_0x54a76d[_0x31d85f++]=0x1;}_0x11fbcc=new THREE['BufferGeometry']();return _0x11fbcc[_0x1c61('0x31c')](_0x1c61('0x218'),new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x2665c8),0x3)),_0x11fbcc[_0x1c61('0x31c')]('uv',new THREE['BufferAttribute'](new Float32Array(_0x54a76d),0x2)),_0x11fbcc;}},{'key':_0x1c61('0x65a'),'value':function(_0x11fbcc){_0x11fbcc=this[_0x1c61('0x65b')](_0x11fbcc),_0x11fbcc=new THREE['Mesh'](new THREE[(_0x1c61('0x65c'))](_0x11fbcc),this[_0x1c61('0x64e')]);return _0x11fbcc[_0x1c61('0x3f4')](0.5*-Math['PI']),_0x11fbcc['position']['y']=0x0,_0x11fbcc;}},{'key':_0x1c61('0x65b'),'value':function(_0x11fbcc){var _0x102b6e=new THREE[(_0x1c61('0x65d'))](),_0xc00ac8=(_0x102b6e[_0x1c61('0x65e')](0x0,0x0),!0x0),_0x42bb6c=!0x1,_0x3ea440=void 0x0;try{for(var _0x3a01ac,_0x5cdf05=(0x0,_0x36999f['default'])(_0x11fbcc);!(_0xc00ac8=(_0x3a01ac=_0x5cdf05['next']())[_0x1c61('0x89')]);_0xc00ac8=!0x0){var _0x2573de=_0x3a01ac[_0x1c61('0x1c')];_0x102b6e[_0x1c61('0x65f')](_0x2573de['x'],-_0x2573de['z']);}}catch(_0xd773cf){_0x42bb6c=!0x0,_0x3ea440=_0xd773cf;}finally{try{!_0xc00ac8&&_0x5cdf05[_0x1c61('0x99')]&&_0x5cdf05['return']();}finally{if(_0x42bb6c)throw _0x3ea440;}}return _0x102b6e;}},{'key':'render','value':function(){this[_0x1c61('0x416')]&&this[_0x1c61('0x3cf')]?(this[_0x1c61('0x104')]-=this[_0x1c61('0x3d3')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]):this[_0x1c61('0x648')]&&(this[_0x1c61('0x104')]=this[_0x1c61('0x64f')]?this[_0x1c61('0x104')]+this['deltaSpeed']:this[_0x1c61('0x104')]-this[_0x1c61('0x3d3')],this['wallMaterial'][_0x1c61('0xd9')][_0x1c61('0x2f2')]['x']=this['count']);}},{'key':_0x1c61('0x660'),'value':function(_0x11fbcc){var _0x102b6e=!0x0,_0xc00ac8=!0x1,_0x42bb6c=void 0x0;try{for(var _0x5eb06d,_0x3087e9=(0x0,_0x36999f['default'])(this[_0x1c61('0x661')]);!(_0x102b6e=(_0x5eb06d=_0x3087e9[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x102b6e=!0x0)if(_0x5eb06d[_0x1c61('0x1c')]===_0x11fbcc)return!0x0;}catch(_0x51e810){_0xc00ac8=!0x0,_0x42bb6c=_0x51e810;}finally{try{!_0x102b6e&&_0x3087e9[_0x1c61('0x99')]&&_0x3087e9[_0x1c61('0x99')]();}finally{if(_0xc00ac8)throw _0x42bb6c;}}return!0x1;}},{'key':_0x1c61('0x662'),'value':function(_0x11fbcc){var _0x102b6e=!0x0,_0xc00ac8=!0x1,_0x42bb6c=void 0x0;try{for(var _0x2ca93e,_0x402846=(0x0,_0x36999f[_0x1c61('0x8')])(this[_0x1c61('0x64b')]);!(_0x102b6e=(_0x2ca93e=_0x402846[_0x1c61('0x77')]())['done']);_0x102b6e=!0x0){var _0x11be0e=_0x2ca93e[_0x1c61('0x1c')];if(_0x11be0e['id']===_0x11fbcc)return _0x11be0e;}}catch(_0x87e105){_0xc00ac8=!0x0,_0x42bb6c=_0x87e105;}finally{try{!_0x102b6e&&_0x402846[_0x1c61('0x99')]&&_0x402846[_0x1c61('0x99')]();}finally{if(_0xc00ac8)throw _0x42bb6c;}}return null;}},{'key':_0x1c61('0x663'),'value':function(_0x11fbcc){var _0x102b6e=_0x11fbcc['extentId'],_0x11fbcc=_0x11fbcc[_0x1c61('0x664')],_0x11fbcc=void 0x0===_0x11fbcc||_0x11fbcc,_0xc00ac8=this[_0x1c61('0x662')](_0x102b6e);_0xc00ac8&&(this[_0x1c61('0x64c')]=_0x102b6e,_0xc00ac8[_0x1c61('0x1f0')]['material']['color']['copy'](this['focusColor']),_0x11fbcc&&this[_0x1c61('0x665')](_0xc00ac8[_0x1c61('0x1f0')]),this[_0x1c61('0x666')](!0x1),_0xc00ac8['mesh']['visible']=!0x0);}},{'key':_0x1c61('0x667'),'value':function(){var _0x11fbcc;this[_0x1c61('0x64c')]&&(this[_0x1c61('0x666')](!0x0),(_0x11fbcc=this[_0x1c61('0x662')](this[_0x1c61('0x64c')]))['mesh'][_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x1c2')](_0x11fbcc[_0x1c61('0x1f0')]['_tempColor']),this['_focusExtentId']=null);}},{'key':_0x1c61('0x665'),'value':function(_0x11fbcc){_0x11fbcc['position']['y']=-0x19;var _0x102b6e=new THREE['Vector3']()[_0x1c61('0x1c2')](_0x11fbcc['position']);_0x102b6e['y']=0x19,new TWEEN[(_0x1c61('0x2d4'))](_0x11fbcc[_0x1c61('0x218')])['to'](_0x102b6e,0x3e8)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x668')][_0x1c61('0x2de')])[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0x666'),'value':function(_0x11fbcc){var _0x102b6e=!0x0,_0xc00ac8=!0x1,_0x42bb6c=void 0x0;try{for(var _0x528537,_0x5cea85=(0x0,_0x36999f['default'])(this[_0x1c61('0x64b')]);!(_0x102b6e=(_0x528537=_0x5cea85[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x102b6e=!0x0)_0x528537['value'][_0x1c61('0x1f0')][_0x1c61('0x32c')]=_0x11fbcc;}catch(_0x45bed1){_0xc00ac8=!0x0,_0x42bb6c=_0x45bed1;}finally{try{!_0x102b6e&&_0x5cea85[_0x1c61('0x99')]&&_0x5cea85['return']();}finally{if(_0xc00ac8)throw _0x42bb6c;}}}},{'key':_0x1c61('0x32c'),'set':function(_0x11fbcc){this[_0x1c61('0x666')](_0x11fbcc);}}]),_0x102b6e[_0x1c61('0x8')]=_0x3316d9;},function(_0x2d398c,_0x5405eb,_0x4fce2d){'use strict';Object[_0x1c61('0x2')](_0x5405eb,_0x1c61('0x5'),{'value':!0x0});var _0xda2e18=_0x1cb798(_0x4fce2d(0x4)),_0x137639=_0x1cb798(_0x4fce2d(0x0));function _0x1cb798(_0x2d398c){return _0x2d398c&&_0x2d398c[_0x1c61('0x5')]?_0x2d398c:{'default':_0x2d398c};}function _0x5725fb(_0x2d398c){var _0x5405eb=_0x2d398c[_0x1c61('0x1c9')],_0x4fce2d=_0x2d398c[_0x1c61('0x2f9')],_0x4fce2d=void 0x0===_0x4fce2d?_0x1c61('0x32d'):_0x4fce2d,_0x1cb798=_0x2d398c[_0x1c61('0x646')],_0x1cb798=void 0x0===_0x1cb798?_0x1c61('0x647'):_0x1cb798,_0x5855d1=_0x2d398c[_0x1c61('0x3fa')],_0x3a9dac=_0x2d398c['groundColorStr'],_0x302dbc=_0x2d398c[_0x1c61('0x1de')],_0x302dbc=void 0x0===_0x302dbc?0x14:_0x302dbc,_0x2d398c=_0x2d398c[_0x1c61('0x32f')],_0x2d398c=void 0x0===_0x2d398c?0.004:_0x2d398c;(0x0,_0x137639[_0x1c61('0x8')])(this,_0x5725fb),this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x1c6'))](),this['texture']=_0x5405eb,this[_0x1c61('0x3fa')]=null,this[_0x1c61('0x4cf')]=null,_0x3a9dac&&(this['groundColor']=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x3a9dac),this['alphaTex']=_0x5855d1,this[_0x1c61('0x3fa')][_0x1c61('0x3f1')]=THREE['RepeatWrapping'],this[_0x1c61('0x3fa')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')]),this[_0x1c61('0x649')]={'spline':_0x1c61('0x64a'),'scale':_0x302dbc,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x1c61('0x2f7')]=0x19,this[_0x1c61('0x661')]=[],this['extentWallList']=[],this[_0x1c61('0x64c')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x3d3')]=_0x2d398c,this[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x4fce2d),this['focusColor']=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x1cb798),this[_0x1c61('0x53e')]=null,this['shader']=null,this[_0x1c61('0x64e')]=null,this[_0x1c61('0x2f8')]();}(0x0,_0x1cb798(_0x4fce2d(0x1))[_0x1c61('0x8')])(_0x5725fb,[{'key':'createMaterial','value':function(){this['wallMaterial']=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'transparent':!0x0}),this['wallMaterial'][_0x1c61('0x228')]=this[_0x1c61('0x228')],this['texture'][_0x1c61('0x3f1')]=THREE['RepeatWrapping'],this[_0x1c61('0x1c9')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],this['texture'][_0x1c61('0x2f0')]['y']=0x1,this['texture']['needsUpdate']=!0x0,this[_0x1c61('0x53e')]['map']=this['texture'];var _0x5405eb=this;this[_0x1c61('0x4cf')]&&(this[_0x1c61('0x64e')]=new THREE[(_0x1c61('0x3d4'))]({'color':this['groundColor'],'transparent':!0x0,'depthWrite':!0x1}),this['groundMaterial'][_0x1c61('0x3c7')]=function(_0x2d398c){_0x2d398c['uniforms'][_0x1c61('0x3fa')]={'value':_0x5405eb[_0x1c61('0x3fa')]},_0x2d398c['vertexShader']=_0x2d398c[_0x1c61('0x56')]['replace']('#include\x20<uv2_pars_vertex>',_0x1c61('0x669')),_0x2d398c[_0x1c61('0x56')]=_0x2d398c['vertexShader']['replace'](_0x1c61('0x643'),_0x1c61('0x66a')),_0x2d398c[_0x1c61('0x57')]=_0x2d398c['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x66b')),_0x2d398c['fragmentShader']=_0x2d398c[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x66c'));});}},{'key':'addWall','value':function(_0x2d398c){var _0x5405eb=_0x2d398c[_0x1c61('0x289')],_0x2d398c=_0x2d398c[_0x1c61('0x656')],_0x4fce2d=_0x5405eb[0x0],_0x1cb798=[],_0x346749=!0x0,_0x32b221=!0x1,_0x565b8c=void 0x0;try{for(var _0x137639,_0x5725fb=(0x0,_0xda2e18['default'])(_0x5405eb);!(_0x346749=(_0x137639=_0x5725fb[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x346749=!0x0){var _0x3eccfe=_0x137639[_0x1c61('0x1c')],_0x21e364=_0x3eccfe['x']-_0x4fce2d['x'],_0x3bee8c=_0x3eccfe['y']-_0x4fce2d['y'],_0x473680=_0x3eccfe['z']-_0x4fce2d['z'];_0x1cb798[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](_0x21e364,_0x3bee8c,_0x473680));}}catch(_0x79eca9){_0x32b221=!0x0,_0x565b8c=_0x79eca9;}finally{try{!_0x346749&&_0x5725fb[_0x1c61('0x99')]&&_0x5725fb[_0x1c61('0x99')]();}finally{if(_0x32b221)throw _0x565b8c;}}_0x1cb798[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))]());var _0x5405eb=new THREE[(_0x1c61('0x437'))](_0x1cb798,!0x1,_0x1c61('0x4b2'),0.01),_0x32b221=new THREE[(_0x1c61('0x439'))](_0x5405eb,this[_0x1c61('0x649')][_0x1c61('0x66d')],this[_0x1c61('0x649')][_0x1c61('0x1de')],this[_0x1c61('0x649')][_0x1c61('0x659')],this[_0x1c61('0x649')][_0x1c61('0x66e')]),_0x565b8c=(_0x32b221[_0x1c61('0x658')](),_0x32b221[_0x1c61('0x66f')][_0x1c61('0x670')]()),_0x5405eb={'x':-_0x4fce2d['x']-_0x565b8c['x'],'y':_0x4fce2d['z']+_0x565b8c['z']},_0x565b8c=new THREE[(_0x1c61('0x30f'))](_0x32b221,this[_0x1c61('0x53e')]);return _0x565b8c[_0x1c61('0x311')]=0x47,_0x565b8c['extentId']=_0x2d398c,_0x565b8c[_0x1c61('0x671')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x1c2')](this[_0x1c61('0x53e')][_0x1c61('0x228')]),this[_0x1c61('0x4cf')]&&(_0x32b221=this[_0x1c61('0x65a')](_0x1cb798,this[_0x1c61('0x4cf')]),_0x565b8c[_0x1c61('0x1c4')](_0x32b221)),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x565b8c),this['extentWallList']['push']({'id':_0x2d398c,'mesh':_0x565b8c,'center':{'x':_0x5405eb['x'],'y':_0x5405eb['y']}}),_0x565b8c;}},{'key':_0x1c61('0x65a'),'value':function(_0x2d398c){_0x2d398c=this[_0x1c61('0x65b')](_0x2d398c),_0x2d398c=new THREE[(_0x1c61('0x30f'))](new THREE['ShapeBufferGeometry'](_0x2d398c),this[_0x1c61('0x64e')]);return _0x2d398c[_0x1c61('0x3f4')](0.5*-Math['PI']),_0x2d398c[_0x1c61('0x218')]['y']=-0x14,_0x2d398c;}},{'key':'createShape','value':function(_0x2d398c){var _0x5405eb=new THREE['Shape'](),_0x4fce2d=(_0x5405eb['moveTo'](0x0,0x0),!0x0),_0x1cb798=!0x1,_0x30af28=void 0x0;try{for(var _0x14dea0,_0x19ec72=(0x0,_0xda2e18[_0x1c61('0x8')])(_0x2d398c);!(_0x4fce2d=(_0x14dea0=_0x19ec72[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4fce2d=!0x0){var _0x137639=_0x14dea0[_0x1c61('0x1c')];_0x5405eb[_0x1c61('0x65f')](_0x137639['x'],-_0x137639['z']);}}catch(_0x142210){_0x1cb798=!0x0,_0x30af28=_0x142210;}finally{try{!_0x4fce2d&&_0x19ec72['return']&&_0x19ec72[_0x1c61('0x99')]();}finally{if(_0x1cb798)throw _0x30af28;}}return _0x5405eb;}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x416')]&&this['shader']&&(this[_0x1c61('0x104')]-=this[_0x1c61('0x3d3')],this[_0x1c61('0x53e')][_0x1c61('0xd9')][_0x1c61('0x2f2')]['x']=this['count']);}}]),_0x5405eb[_0x1c61('0x8')]=_0x5725fb;},function(_0x1c02df,_0x39d68c,_0x44f7ec){'use strict';Object[_0x1c61('0x2')](_0x39d68c,_0x1c61('0x5'),{'value':!0x0});var _0x269335=_0x2e51a8(_0x44f7ec(0x4)),_0x5ccc8d=_0x2e51a8(_0x44f7ec(0x0)),_0x2405ef=_0x2e51a8(_0x44f7ec(0x1)),_0x2a5bb0=_0x2e51a8(_0x44f7ec(0x46));function _0x2e51a8(_0x1c02df){return _0x1c02df&&_0x1c02df[_0x1c61('0x5')]?_0x1c02df:{'default':_0x1c02df};}function _0x306138(_0x1c02df){var _0x39d68c=_0x1c02df[_0x1c61('0x2f9')],_0x39d68c=void 0x0===_0x39d68c?_0x1c61('0x32d'):_0x39d68c,_0x44f7ec=_0x1c02df[_0x1c61('0x672')],_0x44f7ec=void 0x0===_0x44f7ec?_0x1c61('0x430'):_0x44f7ec,_0x2405ef=_0x1c02df[_0x1c61('0x1dc')],_0x2405ef=void 0x0===_0x2405ef||_0x2405ef,_0x1c02df=_0x1c02df[_0x1c61('0x208')],_0x1c02df=void 0x0===_0x1c02df?0.4:_0x1c02df;(0x0,_0x5ccc8d[_0x1c61('0x8')])(this,_0x306138),this[_0x1c61('0xdd')]=null,this[_0x1c61('0x672')]=_0x44f7ec,this[_0x1c61('0x41')]=null,this[_0x1c61('0x673')]=[],_0x1c61('0x674')!==_0x44f7ec&&(this['material']=new THREE[(_0x1c61('0x675'))]({'color':0xffffff}),this['material']['depthTest']=_0x2405ef,_0x1c02df<0x1&&(this[_0x1c61('0x41')][_0x1c61('0x1ee')]=!0x0,this[_0x1c61('0x41')]['opacity']=_0x1c02df),_0x39d68c&&(this[_0x1c61('0x41')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x39d68c)));}(0x0,_0x2405ef[_0x1c61('0x8')])(_0x306138,[{'key':_0x1c61('0x676'),'value':function(_0x1c02df,_0x39d68c){this['parent']=_0x1c02df;_0x1c02df=new THREE['EdgesGeometry'](_0x39d68c),_0x39d68c=new THREE[(_0x1c61('0x37b'))](_0x1c02df,this[_0x1c61('0x41')]);return _0x39d68c[_0x1c61('0x311')]=0x4f,this[_0x1c61('0xdd')]['add'](_0x39d68c),this[_0x1c61('0x673')][_0x1c61('0x6f')](_0x39d68c),_0x39d68c;}},{'key':'dispose','value':function(){if(this[_0x1c61('0xdd')]){var _0x1c02df=!0x0,_0x39d68c=!0x1,_0x44f7ec=void 0x0;try{for(var _0x2405ef,_0x5ccc8d=(0x0,_0x269335[_0x1c61('0x8')])(this['lineList']);!(_0x1c02df=(_0x2405ef=_0x5ccc8d[_0x1c61('0x77')]())['done']);_0x1c02df=!0x0){var _0x2e51a8=_0x2405ef['value'];this[_0x1c61('0xdd')][_0x1c61('0xdc')](_0x2e51a8),_0x2a5bb0['default'][_0x1c61('0x677')](_0x2e51a8);}}catch(_0x45848a){_0x39d68c=!0x0,_0x44f7ec=_0x45848a;}finally{try{!_0x1c02df&&_0x5ccc8d[_0x1c61('0x99')]&&_0x5ccc8d[_0x1c61('0x99')]();}finally{if(_0x39d68c)throw _0x44f7ec;}}this[_0x1c61('0x673')]=[];}}}]),_0x39d68c[_0x1c61('0x8')]=_0x306138;},function(_0x2d76ac,_0x4dd814,_0x19f9f9){'use strict';Object[_0x1c61('0x2')](_0x4dd814,'__esModule',{'value':!0x0});var _0x12a4ab=_0x3484a6(_0x19f9f9(0x0)),_0x4f127a=_0x3484a6(_0x19f9f9(0x1)),_0x365600=_0x3484a6(_0x19f9f9(0xbc));function _0x3484a6(_0x2d76ac){return _0x2d76ac&&_0x2d76ac[_0x1c61('0x5')]?_0x2d76ac:{'default':_0x2d76ac};}function _0x518bf2(_0x2d76ac){var _0x4dd814=_0x2d76ac[_0x1c61('0x2f9')],_0x4dd814=void 0x0===_0x4dd814?_0x1c61('0x43b'):_0x4dd814,_0x19f9f9=_0x2d76ac['radius'],_0x2d76ac=_0x2d76ac[_0x1c61('0x32f')],_0x2d76ac=void 0x0===_0x2d76ac?0x1:_0x2d76ac;(0x0,_0x12a4ab[_0x1c61('0x8')])(this,_0x518bf2),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this['colorStr']=_0x4dd814,this[_0x1c61('0x41')]=null,this['shaderMesh']=null,this['radius']=_0x19f9f9||0xc8,this['shader']=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x32f')]=_0x2d76ac,this[_0x1c61('0x2f8')](_0x4dd814);}(0x0,_0x4f127a[_0x1c61('0x8')])(_0x518bf2,[{'key':_0x1c61('0x2f8'),'value':function(){var _0x2d76ac=_0x365600['default'][_0x1c61('0x678')]([0.625,0x1]),_0x4dd814=new THREE[(_0x1c61('0x679'))](_0x2d76ac),_0x19f9f9=this;this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1c61('0x2f9')]&&this[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](this[_0x1c61('0x2f9')]),this[_0x1c61('0x41')]['onBeforeCompile']=function(_0x2d76ac){_0x2d76ac['uniforms']['iTime']={'value':0x0},_0x2d76ac['uniforms']['texture1']={'value':_0x4dd814},_0x2d76ac[_0x1c61('0x56')]=_0x2d76ac[_0x1c61('0x56')]['replace']('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2d76ac[_0x1c61('0x56')]=_0x2d76ac['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x67a')),_0x2d76ac['fragmentShader']=_0x2d76ac[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2d76ac[_0x1c61('0x57')]=_0x2d76ac[_0x1c61('0x57')]['replace'](_0x1c61('0x3dd'),_0x1c61('0x67b')),_0x19f9f9[_0x1c61('0x3cf')]=_0x2d76ac;};}},{'key':_0x1c61('0x7'),'value':function(){var _0x2d76ac=new THREE[(_0x1c61('0x3d0'))](this[_0x1c61('0x226')],this[_0x1c61('0x226')]),_0x2d76ac=new THREE[(_0x1c61('0x30f'))](_0x2d76ac,this[_0x1c61('0x41')]);return _0x2d76ac[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x2d76ac[_0x1c61('0x1f6')]['z']=0.5*Math['PI'],_0x2d76ac[_0x1c61('0x311')]=0x4e,this[_0x1c61('0x312')]['add'](_0x2d76ac),_0x2d76ac;}},{'key':'render','value':function(_0x2d76ac){this['shader']&&(this[_0x1c61('0x104')]+=_0x2d76ac*this['speed'],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}},{'key':_0x1c61('0x32c'),'set':function(_0x2d76ac){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x2d76ac;},'get':function(){return this[_0x1c61('0x312')][_0x1c61('0x32c')];}}]),_0x4dd814['default']=_0x518bf2;},function(_0x25314e,_0x55a62c,_0x15ea31){'use strict';Object['defineProperty'](_0x55a62c,_0x1c61('0x5'),{'value':!0x0});var _0x5250d6=_0x14bc06(_0x15ea31(0x0)),_0x367954=_0x14bc06(_0x15ea31(0x1)),_0x516e2e=_0x14bc06(_0x15ea31(0xbc));function _0x14bc06(_0x25314e){return _0x25314e&&_0x25314e[_0x1c61('0x5')]?_0x25314e:{'default':_0x25314e};}function _0x25e2d5(_0x25314e){var _0x55a62c=_0x25314e['colorStr'],_0x55a62c=void 0x0===_0x55a62c?_0x1c61('0x43b'):_0x55a62c,_0x15ea31=_0x25314e['radius'],_0x367954=_0x25314e[_0x1c61('0x32f')],_0x367954=void 0x0===_0x367954?0x1:_0x367954,_0x516e2e=_0x25314e[_0x1c61('0x1f7')],_0x516e2e=void 0x0===_0x516e2e?0x0:_0x516e2e,_0x25314e=_0x25314e[_0x1c61('0x67c')],_0x25314e=void 0x0===_0x25314e?0x1:_0x25314e;(0x0,_0x5250d6[_0x1c61('0x8')])(this,_0x25e2d5),this['object3d']=new THREE['Object3D'](),_0x516e2e&&(this[_0x1c61('0x312')][_0x1c61('0x1f6')]['y']=THREE[_0x1c61('0x15')]['degToRad'](_0x516e2e)),this[_0x1c61('0x2f9')]=_0x55a62c,this[_0x1c61('0x41')]=null,this[_0x1c61('0x3c6')]=null,this[_0x1c61('0x226')]=_0x15ea31||0xc8,this[_0x1c61('0x3cf')]=null,this['count']=0x0,this[_0x1c61('0x32f')]=_0x367954,this[_0x1c61('0x67c')]=0x1/_0x25314e,this[_0x1c61('0x2f8')](_0x55a62c);}(0x0,_0x367954[_0x1c61('0x8')])(_0x25e2d5,[{'key':_0x1c61('0x2f8'),'value':function(){var _0x25314e=_0x516e2e[_0x1c61('0x8')][_0x1c61('0x678')]([0.625,0x1]),_0x55a62c=new THREE[(_0x1c61('0x679'))](_0x25314e),_0x15ea31=this;this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1c61('0x2f9')]&&this[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](this['colorStr']),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x25314e){_0x25314e[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x55a62c},_0x25314e['uniforms'][_0x1c61('0x3da')]={'value':0x0},_0x25314e[_0x1c61('0x16a')][_0x1c61('0x67c')]={'value':_0x15ea31[_0x1c61('0x67c')]},_0x25314e[_0x1c61('0x56')]=_0x25314e[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<uv_pars_vertex>',_0x1c61('0x67d')),_0x25314e[_0x1c61('0x56')]=_0x25314e[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x67a')),_0x25314e[_0x1c61('0x57')]=_0x25314e[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x67e')),_0x25314e[_0x1c61('0x57')]=_0x25314e[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x15ea31['shader']=_0x25314e;};}},{'key':_0x1c61('0x7'),'value':function(){var _0x25314e=new THREE[(_0x1c61('0x3d0'))](this[_0x1c61('0x226')],this[_0x1c61('0x226')]),_0x25314e=new THREE[(_0x1c61('0x30f'))](_0x25314e,this[_0x1c61('0x41')]);return _0x25314e[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x25314e[_0x1c61('0x1f6')]['z']=0.5*Math['PI'],_0x25314e[_0x1c61('0x311')]=0x4e,this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x25314e),_0x25314e;}},{'key':'render','value':function(_0x25314e){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x25314e*this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}},{'key':_0x1c61('0x32c'),'set':function(_0x25314e){this[_0x1c61('0x312')][_0x1c61('0x32c')]=_0x25314e;},'get':function(){return this[_0x1c61('0x312')][_0x1c61('0x32c')];}}]),_0x55a62c['default']=_0x25e2d5;},function(_0x418f26,_0x52d9d4,_0x26ab9b){'use strict';Object[_0x1c61('0x2')](_0x52d9d4,_0x1c61('0x5'),{'value':!0x0});var _0x5af2e5=_0x301877(_0x26ab9b(0x0)),_0x5daeb0=_0x301877(_0x26ab9b(0x1)),_0x4af54b=_0x301877(_0x26ab9b(0x56));function _0x301877(_0x418f26){return _0x418f26&&_0x418f26[_0x1c61('0x5')]?_0x418f26:{'default':_0x418f26};}function _0x20c08f(_0x418f26){_0x418f26=_0x418f26[_0x1c61('0x1de')],_0x418f26=void 0x0===_0x418f26?0xa:_0x418f26;(0x0,_0x5af2e5[_0x1c61('0x8')])(this,_0x20c08f),this['enabled']=!0x1,this[_0x1c61('0x312')]=new THREE['Object3D'](),this[_0x1c61('0x1de')]=_0x418f26,this['shaderParticleEngine']=null,this[_0x1c61('0x67f')]=null,this[_0x1c61('0x41a')]=null,this[_0x1c61('0x41b')]=null,this['_visible']=!0x0;}(0x0,_0x5daeb0[_0x1c61('0x8')])(_0x20c08f,[{'key':_0x1c61('0x7'),'value':function(_0x418f26){var _0x52d9d4=_0x418f26[_0x1c61('0x680')],_0x26ab9b=_0x418f26[_0x1c61('0x468')],_0x26ab9b=void 0x0===_0x26ab9b?0x1:_0x26ab9b,_0x5af2e5=_0x418f26[_0x1c61('0x1f4')],_0x5af2e5=void 0x0===_0x5af2e5?0x1:_0x5af2e5,_0x418f26=_0x418f26['isOpenScreenEffect']?0x4:0x1;this[_0x1c61('0x41b')]=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x67f')]=new _0x4af54b[(_0x1c61('0x8'))][(_0x1c61('0x1c6'))]({'texture':{'value':_0x52d9d4},'transparent':!0x0,'blending':THREE[_0x1c61('0x420')],'maxParticleCount':0x14*_0x418f26*_0x26ab9b}),this[_0x1c61('0x681')]=new _0x4af54b[(_0x1c61('0x8'))][(_0x1c61('0x1fe'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](+_0x5af2e5,0x1,0x1)},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x1,0x0),'spread':new THREE['Vector3'](0x1,0x1,0x1)},'color':{'value':[new THREE['Color'](0xeeeeee)]},'size':{'value':[0xf*this[_0x1c61('0x1de')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x418f26*_0x26ab9b}),this[_0x1c61('0x67f')][_0x1c61('0x41')]['uniforms'][_0x1c61('0x422')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1ba'))](),this['smokeParticle'][_0x1c61('0x1fd')](this[_0x1c61('0x681')]),this['smokeParticle'][_0x1c61('0x1f0')][_0x1c61('0x1de')][_0x1c61('0x1b')](this['scale'],this[_0x1c61('0x1de')],this[_0x1c61('0x1de')]),this[_0x1c61('0x41b')][_0x1c61('0x1c4')](this['smokeParticle'][_0x1c61('0x1f0')]),this[_0x1c61('0x41b')][_0x1c61('0x311')]=0xb,this['object3d'][_0x1c61('0x1c4')](this['centerGroup']),this[_0x1c61('0x416')]=!0x0;}},{'key':'render','value':function(_0x418f26){this[_0x1c61('0x416')]&&this['smokeParticle']&&this[_0x1c61('0x67f')]['tick'](_0x418f26);}},{'key':'outfire','value':function(_0x418f26){(0x64<_0x418f26||_0x418f26<0x0)&&(_0x418f26=0x64);_0x418f26=Math[_0x1c61('0x1c0')](0x64*(0x1-_0x418f26/0x64))/0x64;this[_0x1c61('0x681')][_0x1c61('0x237')]=_0x418f26;}},{'key':'visible','set':function(_0x418f26){this[_0x1c61('0x41c')]=_0x418f26,this['centerGroup'][_0x1c61('0x32c')]=_0x418f26;}}]),_0x52d9d4[_0x1c61('0x8')]=_0x20c08f;},function(_0x19d927,_0x42d4e8,_0x124911){'use strict';Object[_0x1c61('0x2')](_0x42d4e8,_0x1c61('0x5'),{'value':!0x0});var _0x32f3bb=_0x188089(_0x124911(0x0)),_0x2f5085=_0x188089(_0x124911(0x1)),_0x7c2375=_0x188089(_0x124911(0x56));function _0x188089(_0x19d927){return _0x19d927&&_0x19d927[_0x1c61('0x5')]?_0x19d927:{'default':_0x19d927};}function _0x4701ef(_0x19d927){_0x19d927=_0x19d927[_0x1c61('0x1de')],_0x19d927=void 0x0===_0x19d927?0xa:_0x19d927;(0x0,_0x32f3bb['default'])(this,_0x4701ef),this[_0x1c61('0x416')]=!0x1,this['object3d']=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x1de')]=_0x19d927,this['shaderParticleEngine']=null,this[_0x1c61('0x419')]=null,this[_0x1c61('0x41a')]=null,this['centerGroup']=null,this[_0x1c61('0x41c')]=!0x0;}(0x0,_0x2f5085[_0x1c61('0x8')])(_0x4701ef,[{'key':_0x1c61('0x7'),'value':function(_0x19d927){var _0x42d4e8=_0x19d927[_0x1c61('0x680')],_0x19d927=_0x19d927[_0x1c61('0x51b')]?0x4:0x1;this[_0x1c61('0x41b')]=new THREE[(_0x1c61('0x1c6'))](),this['fireParticle']=new _0x7c2375[(_0x1c61('0x8'))]['Group']({'texture':{'value':_0x42d4e8},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1c61('0x1d9')],'maxParticleCount':0x32*_0x19d927}),this[_0x1c61('0x423')]=new _0x7c2375['default']['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x5,0x0),'spread':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,-0x5,0x0),'spread':new THREE['Vector3'](0.5,0x1,0.5)},'color':{'value':[new THREE[(_0x1c61('0x1ba'))](0xff00)]},'size':{'value':[0xf*this[_0x1c61('0x1de')]]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x19d927}),this[_0x1c61('0x419')]['material'][_0x1c61('0x16a')][_0x1c61('0x422')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0x419')]['addEmitter'](this['fireEmitter']),this['fireParticle']['mesh'][_0x1c61('0x1de')][_0x1c61('0x1b')](this[_0x1c61('0x1de')],this[_0x1c61('0x1de')],this[_0x1c61('0x1de')]),this[_0x1c61('0x41b')][_0x1c61('0x1c4')](this['fireParticle'][_0x1c61('0x1f0')]),this[_0x1c61('0x41b')][_0x1c61('0x311')]=0xb,this['object3d'][_0x1c61('0x1c4')](this['centerGroup']),this[_0x1c61('0x416')]=!0x0;}},{'key':_0x1c61('0x3d1'),'value':function(_0x19d927){this['enabled']&&this['fireParticle']&&this[_0x1c61('0x419')][_0x1c61('0x221')](_0x19d927);}},{'key':_0x1c61('0x424'),'value':function(_0x19d927){(0x64<_0x19d927||_0x19d927<0x0)&&(_0x19d927=0x64);_0x19d927=Math[_0x1c61('0x1c0')](0x64*(0x1-_0x19d927/0x64))/0x64;this[_0x1c61('0x423')]['activeMultiplier']=_0x19d927;}},{'key':'visible','set':function(_0x19d927){this['_visible']=_0x19d927,this[_0x1c61('0x41b')][_0x1c61('0x32c')]=_0x19d927;}}]),_0x42d4e8[_0x1c61('0x8')]=_0x4701ef;},function(_0x5c76c7,_0x32b180,_0x4c9983){'use strict';Object[_0x1c61('0x2')](_0x32b180,_0x1c61('0x5'),{'value':!0x0});var _0x11dde5=_0x3f3262(_0x4c9983(0x0)),_0x4c4fd6=_0x3f3262(_0x4c9983(0x1)),_0x3ed088=_0x3f3262(_0x4c9983(0x56));function _0x3f3262(_0x5c76c7){return _0x5c76c7&&_0x5c76c7['__esModule']?_0x5c76c7:{'default':_0x5c76c7};}function _0x3e38de(_0x5c76c7){_0x5c76c7=_0x5c76c7[_0x1c61('0x1de')],_0x5c76c7=void 0x0===_0x5c76c7?0xa:_0x5c76c7;(0x0,_0x11dde5[_0x1c61('0x8')])(this,_0x3e38de),this['enabled']=!0x1,this['object3d']=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x1de')]=_0x5c76c7,this[_0x1c61('0x417')]=null,this[_0x1c61('0x682')]=null,this['emitter']=null,this[_0x1c61('0x41b')]=null,this[_0x1c61('0x41c')]=!0x0;}(0x0,_0x4c4fd6[_0x1c61('0x8')])(_0x3e38de,[{'key':'create','value':function(_0x5c76c7){var _0x32b180=_0x5c76c7[_0x1c61('0x1c9')],_0x4c9983=_0x5c76c7[_0x1c61('0x1f4')],_0x4c9983=void 0x0===_0x4c9983?0x14:_0x4c9983,_0x11dde5=_0x5c76c7[_0x1c61('0x683')],_0x11dde5=void 0x0===_0x11dde5?0xa:_0x11dde5,_0x4c4fd6=_0x5c76c7[_0x1c61('0x32f')],_0x4c4fd6=void 0x0===_0x4c4fd6?0x1:_0x4c4fd6,_0x3f3262=_0x5c76c7['fixedSize'],_0x3f3262=void 0x0!==_0x3f3262&&_0x3f3262,_0x3e38de=_0x5c76c7[_0x1c61('0x228')],_0x3e38de=void 0x0===_0x3e38de?_0x1c61('0x43b'):_0x3e38de,_0x22bd24=_0x5c76c7[_0x1c61('0x543')],_0x22bd24=void 0x0===_0x22bd24?0x14:_0x22bd24,_0x2943be=_0x5c76c7[_0x1c61('0x684')],_0x2943be=void 0x0!==_0x2943be&&_0x2943be,_0x5c76c7=_0x5c76c7[_0x1c61('0x51c')],_0x5c76c7=void 0x0!==_0x5c76c7&&_0x5c76c7;this[_0x1c61('0x41b')]=new THREE[(_0x1c61('0x1c6'))](),this[_0x1c61('0x682')]=new _0x3ed088['default'][(_0x1c61('0x1c6'))]({'texture':{'value':_0x32b180},'hasPerspective':!_0x3f3262,'transparent':!0x0,'blending':_0x5c76c7?THREE[_0x1c61('0x1d9')]:THREE[_0x1c61('0x420')],'depthWrite':!0x1,'maxParticleCount':0x2*_0x22bd24}),this[_0x1c61('0x681')]=new _0x3ed088[(_0x1c61('0x8'))][(_0x1c61('0x1fe'))]({'maxAge':{'value':0x3},'position':{'value':new THREE['Vector3'](0x0,0.5*_0x11dde5,0x0),'spread':new THREE['Vector3'](+_0x4c9983,_0x11dde5,+_0x4c9983),'randomise':!0x0},'velocity':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x2*_0x4c4fd6,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'color':{'value':[new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x3e38de)],'spread':_0x2943be?new THREE['Vector3'](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x1c61('0x1de')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0x22bd24}),this[_0x1c61('0x682')][_0x1c61('0x41')][_0x1c61('0x16a')]['fogColor'][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0x682')][_0x1c61('0x1fd')](this[_0x1c61('0x681')]),this[_0x1c61('0x682')][_0x1c61('0x1f0')][_0x1c61('0x1de')][_0x1c61('0x1b')](this['scale'],this[_0x1c61('0x1de')],this[_0x1c61('0x1de')]),this['centerGroup'][_0x1c61('0x1c4')](this[_0x1c61('0x682')][_0x1c61('0x1f0')]),this['object3d'][_0x1c61('0x1c4')](this[_0x1c61('0x41b')]),this[_0x1c61('0x416')]=!0x0;}},{'key':'render','value':function(_0x5c76c7){this[_0x1c61('0x416')]&&this['floatPointsParticle']&&this[_0x1c61('0x682')][_0x1c61('0x221')](_0x5c76c7);}},{'key':_0x1c61('0x32c'),'set':function(_0x5c76c7){this['_visible']=_0x5c76c7,this[_0x1c61('0x41b')][_0x1c61('0x32c')]=_0x5c76c7;}}]),_0x32b180[_0x1c61('0x8')]=_0x3e38de;},function(_0x280925,_0x3bbe9a,_0x5753f4){'use strict';Object[_0x1c61('0x2')](_0x3bbe9a,_0x1c61('0x5'),{'value':!0x0});var _0x3b818f=_0x47417b(_0x5753f4(0x0));function _0x47417b(_0x280925){return _0x280925&&_0x280925[_0x1c61('0x5')]?_0x280925:{'default':_0x280925};}function _0x5542a1(_0x280925){var _0x3bbe9a=_0x280925[_0x1c61('0x2f9')],_0x5753f4=_0x280925['repeat'],_0x5753f4=void 0x0===_0x5753f4?{'x':0x1,'y':0x2}:_0x5753f4,_0x47417b=_0x280925['speed'],_0x47417b=void 0x0===_0x47417b?0.5:_0x47417b,_0x280925=_0x280925[_0x1c61('0x1c9')];(0x0,_0x3b818f[_0x1c61('0x8')])(this,_0x5542a1),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x41')]=null,this['shader']=null,this[_0x1c61('0x2f0')]=_0x5753f4,this[_0x1c61('0x32f')]=_0x47417b,_0x280925['wrapS']=THREE['RepeatWrapping'],_0x280925['wrapT']=THREE['RepeatWrapping'],this[_0x1c61('0x2f8')](_0x3bbe9a,_0x280925);}(0x0,_0x47417b(_0x5753f4(0x1))[_0x1c61('0x8')])(_0x5542a1,[{'key':_0x1c61('0x62b'),'value':function(){var _0x280925=document['createElement'](_0x1c61('0x463')),_0x3bbe9a=(_0x280925['width']=0x4,_0x280925[_0x1c61('0x2f7')]=0x80,_0x280925[_0x1c61('0x464')]('2d')),_0x5753f4=_0x3bbe9a[_0x1c61('0x685')](0x0,0x0,_0x280925[_0x1c61('0x328')],_0x280925[_0x1c61('0x2f7')]);return _0x5753f4[_0x1c61('0x4e8')](0x0,_0x1c61('0x686')),_0x5753f4[_0x1c61('0x4e8')](0.3,_0x1c61('0x32d')),_0x5753f4[_0x1c61('0x4e8')](0.7,_0x1c61('0x32d')),_0x5753f4[_0x1c61('0x4e8')](0x1,_0x1c61('0x686')),_0x3bbe9a[_0x1c61('0x4a6')]=_0x5753f4,_0x3bbe9a[_0x1c61('0x4a8')](0x0,0x0,_0x280925['width'],_0x280925[_0x1c61('0x2f7')]),new THREE[(_0x1c61('0x679'))](_0x280925);}},{'key':_0x1c61('0x2f8'),'value':function(_0x280925,_0x3bbe9a){this['material']=new THREE[(_0x1c61('0x3d4'))]({'side':THREE[_0x1c61('0x302')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x1c61('0x1d9')]});var _0x5753f4=this[_0x1c61('0x62b')](),_0x47417b=(_0x280925&&this[_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x280925),this);this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x280925){_0x280925['uniforms']['iTime']={'value':0x0},_0x280925[_0x1c61('0x16a')]['texture1']={'value':_0x3bbe9a},_0x280925[_0x1c61('0x16a')][_0x1c61('0x3fa')]={'value':_0x5753f4},_0x280925[_0x1c61('0x16a')]['texRepeat']={'value':new THREE[(_0x1c61('0x1cf'))](_0x47417b[_0x1c61('0x2f0')]['x'],_0x47417b[_0x1c61('0x2f0')]['y'])},_0x280925[_0x1c61('0x56')]=_0x280925[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x642'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x280925[_0x1c61('0x56')]=_0x280925[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<uv2_vertex>',_0x1c61('0x687')),_0x280925[_0x1c61('0x57')]=_0x280925[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;',_0x1c61('0x688')),_0x280925[_0x1c61('0x57')]=_0x280925['fragmentShader']['replace'](_0x1c61('0x3dd'),_0x1c61('0x689')),_0x47417b[_0x1c61('0x3cf')]=_0x280925;};}},{'key':'create','value':function(_0x280925){for(var _0x3bbe9a=_0x280925[_0x1c61('0x289')],_0x5753f4=_0x280925[_0x1c61('0x32e')],_0x47417b=void 0x0===_0x5753f4?0x1:_0x5753f4,_0x5753f4=_0x280925[_0x1c61('0x40a')],_0x3b818f=void 0x0===_0x5753f4?0x64:_0x5753f4,_0x5542a1=0x0,_0x579b01=_0x3bbe9a[_0x1c61('0xf')];_0x5542a1<_0x579b01;_0x5542a1++){var _0x1ebdae=new THREE['Object3D'](),_0xad9ab8=new THREE['PlaneBufferGeometry'](_0x47417b,_0x3b818f),_0xad9ab8=(_0xad9ab8['translate'](0x0,0.5*_0x3b818f,0x0),new THREE[(_0x1c61('0x30f'))](_0xad9ab8,this[_0x1c61('0x41')])),_0x3a3373=new THREE['PlaneBufferGeometry'](_0x47417b,_0x3b818f),_0x3a3373=(_0x3a3373['translate'](0x0,0.5*_0x3b818f,0x0),new THREE[(_0x1c61('0x30f'))](_0x3a3373,this['material']));_0x3a3373[_0x1c61('0x1f6')]['y']=0.5*Math['PI'],_0xad9ab8[_0x1c61('0x311')]=0x5a,_0x3a3373[_0x1c61('0x311')]=0x5a,_0x1ebdae[_0x1c61('0x1c4')](_0xad9ab8),_0x1ebdae[_0x1c61('0x1c4')](_0x3a3373),_0x1ebdae[_0x1c61('0x218')]['copy'](_0x3bbe9a[_0x5542a1]),this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x1ebdae);}}},{'key':_0x1c61('0x3d1'),'value':function(_0x280925){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]-=_0x280925*this[_0x1c61('0x32f')]);}}]),_0x3bbe9a['default']=_0x5542a1;},function(_0x216190,_0x1fd0ab,_0x26eebb){'use strict';Object[_0x1c61('0x2')](_0x1fd0ab,'__esModule',{'value':!0x0});var _0x3801ea=_0x4edb01(_0x26eebb(0x0)),_0x43cd8a=_0x4edb01(_0x26eebb(0x1)),_0x2e8408=_0x26eebb(0xe2);function _0x4edb01(_0x216190){return _0x216190&&_0x216190['__esModule']?_0x216190:{'default':_0x216190};}function _0x10ee1c(_0x216190){var _0x1fd0ab=_0x216190[_0x1c61('0x2f9')],_0x1fd0ab=void 0x0===_0x1fd0ab?_0x1c61('0x68a'):_0x1fd0ab,_0x26eebb=_0x216190['recursion'],_0x26eebb=void 0x0===_0x26eebb?0x1:_0x26eebb,_0x43cd8a=_0x216190[_0x1c61('0x68b')],_0x43cd8a=void 0x0===_0x43cd8a?0.3:_0x43cd8a,_0x2e8408=_0x216190[_0x1c61('0x68c')],_0x216190=_0x216190[_0x1c61('0x68d')];(0x0,_0x3801ea[_0x1c61('0x8')])(this,_0x10ee1c),this['color']=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1fd0ab),this[_0x1c61('0x68e')]=_0x26eebb,this[_0x1c61('0x68b')]=_0x43cd8a,this[_0x1c61('0x68f')]=_0x2e8408*window[_0x1c61('0x690')],this[_0x1c61('0x691')]=_0x216190*window[_0x1c61('0x690')];}(0x0,_0x43cd8a[_0x1c61('0x8')])(_0x10ee1c,[{'key':_0x1c61('0x7'),'value':function(_0x216190){_0x216190=_0x216190['geometry'];return new _0x2e8408[(_0x1c61('0x692'))](_0x216190,{'clipBias':this[_0x1c61('0x68b')],'textureWidth':this['textureWidth'],'textureHeight':this['textureHeight'],'color':this[_0x1c61('0x228')],'recursion':this[_0x1c61('0x68e')]});}}]),_0x1fd0ab[_0x1c61('0x8')]=_0x10ee1c;},function(_0x2994f6,_0x55d110,_0x50c426){'use strict';Object[_0x1c61('0x2')](_0x55d110,'__esModule',{'value':!0x0}),_0x55d110[_0x1c61('0x692')]=void 0x0;var _0xcc9355=_0x4d6a70(_0x50c426(0x1d)),_0x183500=_0x4d6a70(_0x50c426(0x9c));function _0x4d6a70(_0x2994f6){return _0x2994f6&&_0x2994f6[_0x1c61('0x5')]?_0x2994f6:{'default':_0x2994f6};}function _0x5f1383(_0x2994f6,_0x55d110){THREE[_0x1c61('0x30f')]['call'](this,_0x2994f6),this[_0x1c61('0x90')]=_0x1c61('0x692');var _0x4a6b99=this,_0x2994f6=void 0x0!==(_0x55d110=_0x55d110||{})['color']?new THREE['Color'](_0x55d110[_0x1c61('0x228')]):new THREE[(_0x1c61('0x1ba'))](0x7f7f7f),_0x50c426=_0x55d110['textureWidth']||0x200,_0xcc9355=_0x55d110[_0x1c61('0x691')]||0x200,_0x5ca93d=_0x55d110[_0x1c61('0x68b')]||0x0,_0x4d6a70=_0x55d110[_0x1c61('0x3cf')]||_0x5f1383[_0x1c61('0x693')],_0xbc1ac3=void 0x0!==_0x55d110[_0x1c61('0x68e')]?_0x55d110[_0x1c61('0x68e')]:0x0,_0x27ff47=new THREE[(_0x1c61('0x694'))](),_0x25d895=new THREE[(_0x1c61('0x1b8'))](),_0x36038d=new THREE[(_0x1c61('0x1b8'))](),_0x4a6b67=new THREE['Vector3'](),_0x4e9292=new THREE[(_0x1c61('0x31e'))](),_0x3ca1fb=new THREE['Vector3'](0x0,0x0,-0x1),_0x3ea430=new THREE[(_0x1c61('0x1b9'))](),_0x54a7e5=(new THREE['Vector4'](),new THREE[(_0x1c61('0x1b8'))]()),_0x15182f=new THREE['Vector3'](),_0x418ba5=new THREE[(_0x1c61('0x1b9'))](),_0x3d60b5=(new THREE[(_0x1c61('0x1cf'))](),new THREE[(_0x1c61('0x31e'))]()),_0x251376=new THREE['PerspectiveCamera'](),_0x55d110={'minFilter':THREE[_0x1c61('0x3ef')],'magFilter':THREE[_0x1c61('0x3ef')],'format':THREE[_0x1c61('0x458')],'stencilBuffer':!0x1},_0x48796a=new THREE[(_0x1c61('0x695'))](_0x50c426,_0xcc9355,_0x55d110),_0x55d110=(THREE['Math'][_0x1c61('0x696')](_0x50c426)&&THREE[_0x1c61('0x15')][_0x1c61('0x696')](_0xcc9355)||(_0x48796a['texture'][_0x1c61('0x697')]=!0x1),new THREE[(_0x1c61('0x1ea'))]({'uniforms':THREE[_0x1c61('0x48f')]['clone'](_0x4d6a70['uniforms']),'fragmentShader':_0x4d6a70['fragmentShader'],'vertexShader':_0x4d6a70['vertexShader']}));_0x55d110[_0x1c61('0x16a')]['tDiffuse'][_0x1c61('0x1c')]=_0x48796a[_0x1c61('0x1c9')],_0x55d110[_0x1c61('0x16a')]['color'][_0x1c61('0x1c')]=_0x2994f6,_0x55d110[_0x1c61('0x16a')][_0x1c61('0x698')][_0x1c61('0x1c')]=_0x3d60b5,this[_0x1c61('0x41')]=_0x55d110,this[_0x1c61('0x699')]=function(_0x2994f6,_0x55d110,_0x50c426){if(_0x1c61('0x68e')in _0x50c426[_0x1c61('0x42')]){if(_0x50c426[_0x1c61('0x42')]['recursion']===_0xbc1ac3)return;_0x50c426['userData'][_0x1c61('0x68e')]++;}var _0xcc9355,_0x4d6a70,_0x5f1383;_0x36038d[_0x1c61('0x69a')](_0x4a6b99[_0x1c61('0x371')]),_0x4a6b67[_0x1c61('0x69a')](_0x50c426[_0x1c61('0x371')]),_0x4e9292[_0x1c61('0x69b')](_0x4a6b99[_0x1c61('0x371')]),_0x25d895[_0x1c61('0x1b')](0x0,0x0,0x1),_0x25d895[_0x1c61('0x377')](_0x4e9292),_0x54a7e5['subVectors'](_0x36038d,_0x4a6b67),0x0<_0x54a7e5[_0x1c61('0x69c')](_0x25d895)||(_0x54a7e5['reflect'](_0x25d895)['negate'](),_0x54a7e5[_0x1c61('0x1c4')](_0x36038d),_0x4e9292['extractRotation'](_0x50c426[_0x1c61('0x371')]),_0x3ca1fb[_0x1c61('0x1b')](0x0,0x0,-0x1),_0x3ca1fb[_0x1c61('0x377')](_0x4e9292),_0x3ca1fb[_0x1c61('0x1c4')](_0x4a6b67),_0x15182f[_0x1c61('0x317')](_0x36038d,_0x3ca1fb),_0x15182f[_0x1c61('0x69d')](_0x25d895)[_0x1c61('0x69e')](),_0x15182f[_0x1c61('0x1c4')](_0x36038d),_0x251376['position']['copy'](_0x54a7e5),_0x251376['up'][_0x1c61('0x1b')](0x0,0x1,0x0),_0x251376['up']['applyMatrix4'](_0x4e9292),_0x251376['up'][_0x1c61('0x69d')](_0x25d895),_0x251376[_0x1c61('0x3f6')](_0x15182f),_0x251376[_0x1c61('0x37f')]=_0x50c426[_0x1c61('0x37f')],_0x251376['updateMatrixWorld'](),_0x251376[_0x1c61('0x69f')][_0x1c61('0x1c2')](_0x50c426[_0x1c61('0x69f')]),_0x251376[_0x1c61('0x42')][_0x1c61('0x68e')]=0x0,_0x3d60b5[_0x1c61('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),_0x3d60b5[_0x1c61('0x6a0')](_0x251376[_0x1c61('0x69f')]),_0x3d60b5[_0x1c61('0x6a0')](_0x251376['matrixWorldInverse']),_0x3d60b5['multiply'](_0x4a6b99[_0x1c61('0x371')]),_0x27ff47['setFromNormalAndCoplanarPoint'](_0x25d895,_0x36038d),_0x27ff47[_0x1c61('0x377')](_0x251376['matrixWorldInverse']),_0x3ea430[_0x1c61('0x1b')](_0x27ff47[_0x1c61('0x6a1')]['x'],_0x27ff47['normal']['y'],_0x27ff47[_0x1c61('0x6a1')]['z'],_0x27ff47[_0x1c61('0x6a2')]),_0xcc9355=_0x251376[_0x1c61('0x69f')],_0x418ba5['x']=((0x0,_0x183500['default'])(_0x3ea430['x'])+_0xcc9355[_0x1c61('0xf6')][0x8])/_0xcc9355['elements'][0x0],_0x418ba5['y']=((0x0,_0x183500[_0x1c61('0x8')])(_0x3ea430['y'])+_0xcc9355[_0x1c61('0xf6')][0x9])/_0xcc9355[_0x1c61('0xf6')][0x5],_0x418ba5['z']=-0x1,_0x418ba5['w']=(0x1+_0xcc9355[_0x1c61('0xf6')][0xa])/_0xcc9355['elements'][0xe],_0x3ea430[_0x1c61('0x1c3')](0x2/_0x3ea430[_0x1c61('0x69c')](_0x418ba5)),_0xcc9355[_0x1c61('0xf6')][0x2]=_0x3ea430['x'],_0xcc9355[_0x1c61('0xf6')][0x6]=_0x3ea430['y'],_0xcc9355[_0x1c61('0xf6')][0xa]=_0x3ea430['z']+0x1-_0x5ca93d,_0xcc9355[_0x1c61('0xf6')][0xe]=_0x3ea430['w'],_0x4a6b99['visible']=!0x1,_0xcc9355=_0x2994f6[_0x1c61('0x6a3')](),_0x4d6a70=_0x2994f6['vr'][_0x1c61('0x416')],_0x5f1383=_0x2994f6[_0x1c61('0x6a4')][_0x1c61('0x6a5')],_0x2994f6['vr'][_0x1c61('0x416')]=!0x1,_0x2994f6[_0x1c61('0x6a4')][_0x1c61('0x6a5')]=!0x1,_0x2994f6[_0x1c61('0x6a6')](_0x48796a),_0x2994f6['clear'](),_0x2994f6['render'](_0x55d110,_0x251376),_0x2994f6['vr'][_0x1c61('0x416')]=_0x4d6a70,_0x2994f6['shadowMap'][_0x1c61('0x6a5')]=_0x5f1383,_0x2994f6[_0x1c61('0x6a6')](_0xcc9355),_0x50c426[_0x1c61('0x6a7')]&&_0x2994f6['state'][_0x1c61('0x6a8')](_0x50c426[_0x1c61('0x6a8')]),_0x4a6b99['visible']=!0x0);},this[_0x1c61('0x6a3')]=function(){return _0x48796a;};}((_0x5f1383[_0x1c61('0xb')]=(0x0,_0xcc9355[_0x1c61('0x8')])(THREE[_0x1c61('0x30f')][_0x1c61('0xb')]))[_0x1c61('0x85')]=_0x5f1383)[_0x1c61('0x693')]={'uniforms':{'color':{'type':'c','value':null},'tDiffuse':{'type':'t','value':null},'textureMatrix':{'type':'m4','value':null}},'vertexShader':'\x0a\x09\x09uniform\x20mat4\x20textureMatrix;\x0a\x09\x09varying\x20vec4\x20vUv;\x0a\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x09\x09\x09vUv\x20=\x20textureMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09vUV\x20=\x20uv;\x0a\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09}\x0a\x09','fragmentShader':_0x1c61('0x6a9')},_0x55d110[_0x1c61('0x692')]=_0x5f1383;},function(_0x3a1a87,_0x1a9863,_0x1aac74){'use strict';Object[_0x1c61('0x2')](_0x1a9863,_0x1c61('0x5'),{'value':!0x0});var _0x2097c6=_0x5b744f(_0x1aac74(0x2e)),_0xc2bbcf=_0x5b744f(_0x1aac74(0x0)),_0x3c7957=_0x5b744f(_0x1aac74(0x1)),_0x36a9f8=_0x1aac74(0xe4),_0x5cc838=_0x1aac74(0xe5),_0x5a94e8=_0x1aac74(0xe6),_0x902e81=_0x1aac74(0xe7);function _0x5b744f(_0x3a1a87){return _0x3a1a87&&_0x3a1a87[_0x1c61('0x5')]?_0x3a1a87:{'default':_0x3a1a87};}function _0x1a6b13(_0x3a1a87){(0x0,_0xc2bbcf['default'])(this,_0x1a6b13),this[_0x1c61('0xd9')]=_0x3a1a87,this[_0x1c61('0x93')]=new _0x902e81[(_0x1c61('0x6aa'))](),this['envCubeMap']=null;}(0x0,_0x3c7957[_0x1c61('0x8')])(_0x1a6b13,[{'key':_0x1c61('0x6ab'),'value':function(_0x3a1a87){var _0x1a9863=this,_0xc2bbcf=_0x3a1a87[_0x1c61('0x58d')],_0x3a1a87=_0x3a1a87[_0x1c61('0x6ac')],_0x3c7957=void 0x0===_0x3a1a87?0x200:_0x3a1a87,_0x902e81=this;return new _0x2097c6[(_0x1c61('0x8'))](function(_0x1aac74,_0x3a1a87){_0x1a9863[_0x1c61('0x93')][_0x1c61('0x96')](_0xc2bbcf,function(_0x3a1a87){_0x3a1a87['encoding']=THREE[_0x1c61('0x6ad')],_0x3a1a87[_0x1c61('0x3f0')]=THREE[_0x1c61('0x6ae')],_0x3a1a87[_0x1c61('0x3ed')]=THREE[_0x1c61('0x6ae')],_0x3a1a87[_0x1c61('0x6af')]=!0x0;var _0x3a1a87=new _0x5a94e8[(_0x1c61('0x6b0'))](_0x3a1a87,{'resolution':_0x3c7957})[_0x1c61('0x2db')](_0x902e81[_0x1c61('0xd9')]['mapView']['renderer']),_0x3a1a87=new _0x36a9f8[(_0x1c61('0x6b1'))](_0x3a1a87),_0x1a9863=(_0x3a1a87[_0x1c61('0x2db')](_0x902e81[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')]),new _0x5cc838[(_0x1c61('0x6b2'))](_0x3a1a87['cubeLods']));_0x1a9863['update'](_0x902e81[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')]),_0x902e81[_0x1c61('0x6b3')]=_0x1a9863['CubeUVRenderTarget'][_0x1c61('0x1c9')],_0x1aac74(_0x902e81[_0x1c61('0x6b3')]),_0x3a1a87['dispose'](),_0x1a9863[_0x1c61('0xd8')]();});});}}]),_0x1a9863['default']=_0x1a6b13;},function(_0x44a7e1,_0x3f7bba,_0x1e7da5){'use strict';Object['defineProperty'](_0x3f7bba,_0x1c61('0x5'),{'value':!0x0});(_0x4701ad=new THREE[(_0x1c61('0x1ea'))]({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':_0x1c61('0x6b4'),'fragmentShader':_0x1c61('0x6b5'),'blending':THREE[_0x1c61('0x6b6')]}))[_0x1c61('0x90')]=_0x1c61('0x6b1'),_0x2fb2b7=_0x4701ad,_0x368f9a=new THREE['OrthographicCamera'](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0x13ef79=new THREE[(_0x1c61('0x6b7'))](),(_0x4701ad=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3d0'))](0x2,0x2,0x0),_0x2fb2b7))[_0x1c61('0x41')]['side']=THREE[_0x1c61('0x302')],_0x13ef79[_0x1c61('0x1c4')](_0x4701ad),_0x13ef79[_0x1c61('0x1c4')](_0x368f9a),_0x5180b6[_0x1c61('0xb')]={'constructor':_0x5180b6,'update':function(_0x44a7e1){var _0x3f7bba=this[_0x1c61('0x6b8')][_0x1c61('0x6b9')]?-0x1:0x1,_0x1e7da5=(_0x2fb2b7[_0x1c61('0x169')][_0x1c61('0x6ba')]=this['samplesPerLevel'],_0x2fb2b7['uniforms']['faceIndex'][_0x1c61('0x1c')]=0x0,_0x2fb2b7['uniforms']['envMap']['value']=this[_0x1c61('0x6b8')],_0x2fb2b7[_0x1c61('0x472')]=this[_0x1c61('0x6b8')],_0x2fb2b7[_0x1c61('0x108')]=!0x0,_0x44a7e1['gammaInput']),_0x40248b=_0x44a7e1['gammaOutput'],_0x33a2a0=_0x44a7e1[_0x1c61('0x6bb')],_0x2d7908=_0x44a7e1[_0x1c61('0x6bc')],_0x1cd6e9=_0x44a7e1['getRenderTarget']();_0x44a7e1[_0x1c61('0x6bb')]=THREE[_0x1c61('0x6bd')],_0x44a7e1['toneMappingExposure']=0x1,_0x44a7e1[_0x1c61('0x6be')]=!0x1,_0x44a7e1[_0x1c61('0x6bf')]=!0x1;for(var _0xdab598=0x0;_0xdab598<this[_0x1c61('0x6c0')];_0xdab598++){var _0x1e5889=_0xdab598/(this[_0x1c61('0x6c0')]-0x1),_0x1e5889=(_0x2fb2b7[_0x1c61('0x16a')][_0x1c61('0x2b6')][_0x1c61('0x1c')]=0.9*_0x1e5889,_0x2fb2b7[_0x1c61('0x16a')][_0x1c61('0x6c1')][_0x1c61('0x1c')]=0x0==_0xdab598?_0x3f7bba:0x1,this[_0x1c61('0x6c2')][_0xdab598]['width']);_0x2fb2b7[_0x1c61('0x16a')]['mapSize'][_0x1c61('0x1c')]=_0x1e5889,this[_0x1c61('0x6c3')](_0x44a7e1,this[_0x1c61('0x6c2')][_0xdab598]),_0xdab598<0x5&&(_0x2fb2b7['uniforms']['envMap'][_0x1c61('0x1c')]=this[_0x1c61('0x6c2')][_0xdab598][_0x1c61('0x1c9')]);}_0x44a7e1[_0x1c61('0x6a6')](_0x1cd6e9),_0x44a7e1['toneMapping']=_0x33a2a0,_0x44a7e1[_0x1c61('0x6bc')]=_0x2d7908,_0x44a7e1[_0x1c61('0x6be')]=_0x1e7da5,_0x44a7e1['gammaOutput']=_0x40248b;},'renderToCubeMapTarget':function(_0x44a7e1,_0x3f7bba){for(var _0x1e7da5=0x0;_0x1e7da5<0x6;_0x1e7da5++)this[_0x1c61('0x6c4')](_0x44a7e1,_0x3f7bba,_0x1e7da5);},'renderToCubeMapTargetFace':function(_0x44a7e1,_0x3f7bba,_0x1e7da5){_0x2fb2b7['uniforms'][_0x1c61('0x6c5')][_0x1c61('0x1c')]=_0x1e7da5,_0x44a7e1[_0x1c61('0x6a6')](_0x3f7bba,_0x1e7da5),_0x44a7e1['clear'](),_0x44a7e1[_0x1c61('0x3d1')](_0x13ef79,_0x368f9a);},'dispose':function(){for(var _0x44a7e1=0x0,_0x3f7bba=this['cubeLods']['length'];_0x44a7e1<_0x3f7bba;_0x44a7e1++)this[_0x1c61('0x6c2')][_0x44a7e1][_0x1c61('0xd8')]();}};var _0x2fb2b7,_0x368f9a,_0x13ef79,_0x4701ad=_0x5180b6;function _0x5180b6(_0x44a7e1,_0x3f7bba,_0x1e7da5){this[_0x1c61('0x6b8')]=_0x44a7e1,this[_0x1c61('0x2fe')]=void 0x0!==_0x1e7da5?_0x1e7da5:0x100,this[_0x1c61('0x6c6')]=void 0x0!==_0x3f7bba?_0x3f7bba:0x20;var _0x44a7e1=this[_0x1c61('0x6b8')][_0x1c61('0x45b')]===THREE['LinearEncoding']||this[_0x1c61('0x6b8')][_0x1c61('0x45b')]===THREE[_0x1c61('0x6c7')]||this[_0x1c61('0x6b8')][_0x1c61('0x45b')]===THREE[_0x1c61('0x6c8')],_0x368f9a=(this[_0x1c61('0x6b8')]['minFilter']=_0x44a7e1?THREE[_0x1c61('0x3ef')]:THREE[_0x1c61('0x6ae')],this[_0x1c61('0x6b8')][_0x1c61('0x3ed')]=_0x44a7e1?THREE[_0x1c61('0x3ef')]:THREE[_0x1c61('0x6ae')],this[_0x1c61('0x6b8')][_0x1c61('0x697')]=this[_0x1c61('0x6b8')]['generateMipmaps']&&_0x44a7e1,this[_0x1c61('0x6c2')]=[],this[_0x1c61('0x2fe')]),_0x13ef79={'format':this[_0x1c61('0x6b8')][_0x1c61('0x457')],'magFilter':this[_0x1c61('0x6b8')][_0x1c61('0x3ed')],'minFilter':this[_0x1c61('0x6b8')][_0x1c61('0x3f0')],'type':this[_0x1c61('0x6b8')][_0x1c61('0x90')],'generateMipmaps':this[_0x1c61('0x6b8')]['generateMipmaps'],'anisotropy':this['sourceTexture'][_0x1c61('0x51e')],'encoding':this[_0x1c61('0x6b8')][_0x1c61('0x45b')]};this[_0x1c61('0x6c0')]=Math[_0x1c61('0x4e3')](_0x368f9a)/Math['log'](0x2)-0x2;for(var _0x4701ad=0x0;_0x4701ad<this[_0x1c61('0x6c0')];_0x4701ad++){var _0x5180b6=new THREE['WebGLRenderTargetCube'](_0x368f9a,_0x368f9a,_0x13ef79);_0x5180b6['texture'][_0x1c61('0x7b')]=_0x1c61('0x6c9')+_0x4701ad,this[_0x1c61('0x6c2')][_0x1c61('0x6f')](_0x5180b6),_0x368f9a=Math[_0x1c61('0x101')](0x10,_0x368f9a/0x2);}}_0x3f7bba[_0x1c61('0x6b1')]=_0x4701ad;},function(_0x5ea4f5,_0x2ee3df,_0x86d6c7){'use strict';var _0x56a19c,_0xf9b64f,_0x3817a4,_0x3a6f53;function _0xd17f3b(_0x5ea4f5){var _0x2ee3df=0x4*(this['cubeLods']=_0x5ea4f5)[0x0][_0x1c61('0x328')],_0x86d6c7=_0x5ea4f5[0x0][_0x1c61('0x1c9')],_0x86d6c7={'format':_0x86d6c7['format'],'magFilter':_0x86d6c7['magFilter'],'minFilter':_0x86d6c7[_0x1c61('0x3f0')],'type':_0x86d6c7[_0x1c61('0x90')],'generateMipmaps':_0x86d6c7[_0x1c61('0x697')],'anisotropy':_0x86d6c7['anisotropy'],'encoding':_0x86d6c7[_0x1c61('0x45b')]===THREE[_0x1c61('0x6ad')]?THREE[_0x1c61('0x6ca')]:_0x86d6c7[_0x1c61('0x45b')]},_0x56a19c=(_0x86d6c7['encoding']===THREE[_0x1c61('0x6ca')]&&(_0x86d6c7[_0x1c61('0x3ed')]=THREE['LinearFilter'],_0x86d6c7[_0x1c61('0x3f0')]=THREE[_0x1c61('0x3ef')]),this[_0x1c61('0x6cb')]=new THREE[(_0x1c61('0x695'))](_0x2ee3df,_0x2ee3df,_0x86d6c7),this[_0x1c61('0x6cb')][_0x1c61('0x1c9')][_0x1c61('0x7b')]='PMREMCubeUVPacker.cubeUv',this['CubeUVRenderTarget']['texture'][_0x1c61('0x459')]=THREE[_0x1c61('0x6cc')],this[_0x1c61('0x6cd')]=[],new THREE['PlaneBufferGeometry'](0x1,0x1)),_0xd17f3b=[],_0xee8850=(_0xd17f3b[_0x1c61('0x6f')](new THREE['Vector2'](0x0,0x0)),_0xd17f3b[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1cf'))](0x1,0x0)),_0xd17f3b[_0x1c61('0x6f')](new THREE['Vector2'](0x2,0x0)),_0xd17f3b[_0x1c61('0x6f')](new THREE['Vector2'](0x0,0x1)),_0xd17f3b[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1cf'))](0x1,0x1)),_0xd17f3b[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1cf'))](0x2,0x1)),_0x2ee3df),_0x2ee3df=_0x5ea4f5[0x0][_0x1c61('0x328')],_0x35595e=0x0,_0xf9b64f=0x4;this[_0x1c61('0x6c0')]=Math[_0x1c61('0x4e3')](_0x5ea4f5[0x0][_0x1c61('0x328')])/Math['log'](0x2)-0x2;for(var _0x3817a4=0x0;_0x3817a4<this[_0x1c61('0x6c0')];_0x3817a4++){for(var _0x2d1aa7=0.5*(_0xee8850-_0xee8850/_0xf9b64f),_0x2b54a=(0x10<_0x2ee3df&&(_0xf9b64f*=0x2),0x10<_0x2ee3df?0x6:0x1),_0x55bc87=0x0,_0x32e729=0x0,_0x58014e=_0x2ee3df,_0xe61e27=0x0;_0xe61e27<_0x2b54a;_0xe61e27++){for(var _0x46b023=0x0;_0x46b023<0x6;_0x46b023++){var _0x46eb29=_0x3a6f53[_0x1c61('0x1b1')](),_0x46eb29=(_0x46eb29['uniforms'][_0x1c61('0x472')][_0x1c61('0x1c')]=this[_0x1c61('0x6c2')][_0x3817a4]['texture'],_0x46eb29[_0x1c61('0x472')]=this[_0x1c61('0x6c2')][_0x3817a4][_0x1c61('0x1c9')],_0x46eb29['uniforms'][_0x1c61('0x6c5')]['value']=_0x46b023,_0x46eb29[_0x1c61('0x16a')]['mapSize'][_0x1c61('0x1c')]=_0x58014e,new THREE[(_0x1c61('0x30f'))](_0x56a19c,_0x46eb29));_0x46eb29['position']['x']=_0xd17f3b[_0x46b023]['x']*_0x58014e-_0x2d1aa7+_0x55bc87,_0x46eb29[_0x1c61('0x218')]['y']=_0xd17f3b[_0x46b023]['y']*_0x58014e-_0x2d1aa7+_0x35595e+_0x32e729,_0x46eb29[_0x1c61('0x41')]['side']=THREE[_0x1c61('0x470')],_0x46eb29[_0x1c61('0x1de')][_0x1c61('0x6ce')](_0x58014e),this[_0x1c61('0x6cd')]['push'](_0x46eb29);}_0x32e729+=1.75*_0x58014e,_0x55bc87+=1.25*_0x58014e,_0x58014e/=0x2;}_0x35595e+=0x2*_0x2ee3df,0x10<_0x2ee3df&&(_0x2ee3df/=0x2);}}Object[_0x1c61('0x2')](_0x2ee3df,'__esModule',{'value':!0x0}),_0xf9b64f=new THREE[(_0x1c61('0x6cf'))](),_0x3817a4=new THREE[(_0x1c61('0x6b7'))](),(_0x56a19c=new THREE[(_0x1c61('0x1ea'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE['Vector3'](0x1,0x1,0x1)}},'vertexShader':_0x1c61('0x6d0'),'fragmentShader':_0x1c61('0x6d1'),'blending':THREE[_0x1c61('0x6b6')]}))[_0x1c61('0x90')]=_0x1c61('0x6b2'),_0x3a6f53=_0x56a19c,_0xd17f3b['prototype']={'constructor':_0xd17f3b,'update':function(_0x5ea4f5){var _0x2ee3df=0x4*this[_0x1c61('0x6c2')][0x0]['width'];_0xf9b64f[_0x1c61('0x33f')]=0.5*-_0x2ee3df,_0xf9b64f['right']=0.5*_0x2ee3df,_0xf9b64f[_0x1c61('0x5c0')]=0.5*-_0x2ee3df,_0xf9b64f[_0x1c61('0x6d2')]=0.5*_0x2ee3df,_0xf9b64f[_0x1c61('0x300')]=0x0,_0xf9b64f[_0x1c61('0x37f')]=0x1,_0xf9b64f[_0x1c61('0x6d3')]();for(var _0x86d6c7=0x0;_0x86d6c7<this[_0x1c61('0x6cd')][_0x1c61('0xf')];_0x86d6c7++)_0x3817a4[_0x1c61('0x1c4')](this['objects'][_0x86d6c7]);var _0x2ee3df=_0x5ea4f5[_0x1c61('0x6be')],_0x56a19c=_0x5ea4f5[_0x1c61('0x6bf')],_0xd17f3b=_0x5ea4f5['toneMapping'],_0x2a1aff=_0x5ea4f5[_0x1c61('0x6bc')],_0x11698a=_0x5ea4f5[_0x1c61('0x6a3')]();for(_0x5ea4f5[_0x1c61('0x6be')]=!0x1,_0x5ea4f5[_0x1c61('0x6bf')]=!0x1,_0x5ea4f5[_0x1c61('0x6bb')]=THREE['LinearToneMapping'],_0x5ea4f5[_0x1c61('0x6bc')]=0x1,_0x5ea4f5[_0x1c61('0x6a6')](this[_0x1c61('0x6cb')]),_0x5ea4f5['render'](_0x3817a4,_0xf9b64f),_0x5ea4f5[_0x1c61('0x6a6')](_0x11698a),_0x5ea4f5[_0x1c61('0x6bb')]=_0xd17f3b,_0x5ea4f5['toneMappingExposure']=_0x2a1aff,_0x5ea4f5[_0x1c61('0x6be')]=_0x2ee3df,_0x5ea4f5[_0x1c61('0x6bf')]=_0x56a19c,_0x86d6c7=0x0;_0x86d6c7<this[_0x1c61('0x6cd')][_0x1c61('0xf')];_0x86d6c7++)_0x3817a4[_0x1c61('0xdc')](this['objects'][_0x86d6c7]);},'dispose':function(){for(var _0x5ea4f5=0x0,_0x2ee3df=this[_0x1c61('0x6cd')][_0x1c61('0xf')];_0x5ea4f5<_0x2ee3df;_0x5ea4f5++)this['objects'][_0x5ea4f5][_0x1c61('0x41')][_0x1c61('0xd8')]();this[_0x1c61('0x6cd')][0x0][_0x1c61('0xda')][_0x1c61('0xd8')]();}},_0x2ee3df[_0x1c61('0x6b2')]=_0xd17f3b;},function(_0xe90070,_0x2733d5,_0xd31683){'use strict';function _0x346795(_0xe90070){this[_0x1c61('0x51f')]=_0xe90070;}Object[_0x1c61('0x2')](_0x2733d5,_0x1c61('0x5'),{'value':!0x0}),_0x346795[_0x1c61('0xb')][_0x1c61('0x6d4')]=function(_0xe90070,_0x2733d5){_0x2733d5=_0x2733d5||{};var _0xd31683=new THREE[(_0x1c61('0x6b7'))](),_0x346795=new THREE[(_0x1c61('0x1ea'))]({'type':_0x1c61('0x6d5'),'uniforms':THREE[_0x1c61('0x48f')][_0x1c61('0x1b1')]({'tEquirect':{'value':null}}),'vertexShader':_0x1c61('0x6d6'),'fragmentShader':_0x1c61('0x6d7'),'side':THREE[_0x1c61('0x470')],'blending':THREE[_0x1c61('0x6b6')]}),_0x346795=(_0x346795[_0x1c61('0x16a')][_0x1c61('0x6d8')][_0x1c61('0x1c')]=_0xe90070,new THREE['Mesh'](new THREE[(_0x1c61('0x455'))](0x5,0x5,0x5),_0x346795)),_0x5519aa=(_0xd31683[_0x1c61('0x1c4')](_0x346795),_0x2733d5[_0x1c61('0x2fe')]||0x200),_0x2733d5={'type':_0xe90070[_0x1c61('0x90')],'format':_0xe90070['format'],'encoding':_0xe90070['encoding'],'generateMipmaps':(void 0x0!==_0x2733d5[_0x1c61('0x697')]?_0x2733d5:_0xe90070)[_0x1c61('0x697')],'minFilter':(void 0x0!==_0x2733d5[_0x1c61('0x3f0')]?_0x2733d5:_0xe90070)[_0x1c61('0x3f0')],'magFilter':(void 0x0!==_0x2733d5[_0x1c61('0x3ed')]?_0x2733d5:_0xe90070)[_0x1c61('0x3ed')]},_0xe90070=new THREE[(_0x1c61('0x6d9'))](0x1,0xa,_0x5519aa,_0x2733d5);return _0xe90070[_0x1c61('0x2db')](this['renderer'],_0xd31683),_0x346795[_0x1c61('0xda')][_0x1c61('0xd8')](),_0x346795[_0x1c61('0x41')][_0x1c61('0xd8')](),_0xe90070[_0x1c61('0x6da')];};_0x21bff0=new THREE[(_0x1c61('0x6db'))](0x5a,0x1,0.1,0xa),_0x79b102=new THREE[(_0x1c61('0x6b7'))](),(_0x191562=new THREE[(_0x1c61('0x30f'))](new THREE['BoxBufferGeometry'](0x1,0x1,0x1),((_0x313c8f=new THREE['ShaderMaterial']({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':'varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','fragmentShader':_0x1c61('0x6dc'),'blending':THREE[_0x1c61('0x6b6')]}))[_0x1c61('0x90')]=_0x1c61('0x6b0'),_0x313c8f)))[_0x1c61('0x41')]['side']=THREE['BackSide'],_0x79b102[_0x1c61('0x1c4')](_0x191562),_0x542817[_0x1c61('0xb')]={'constructor':_0x542817,'update':function(_0xe90070){var _0x2733d5=_0xe90070[_0x1c61('0x6a3')]();_0x191562[_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x6dd')][_0x1c61('0x1c')]=this[_0x1c61('0x6b8')];for(var _0xd31683=0x0;_0xd31683<0x6;_0xd31683++){var _0x346795=this['views'][_0xd31683];_0x21bff0['position'][_0x1c61('0x1b')](0x0,0x0,0x0),_0x21bff0['up']['set'](_0x346795['u'][0x0],_0x346795['u'][0x1],_0x346795['u'][0x2]),_0x21bff0[_0x1c61('0x3f6')](_0x346795['t'][0x0],_0x346795['t'][0x1],_0x346795['t'][0x2]),_0xe90070[_0x1c61('0x6a6')](this[_0x1c61('0x6da')],_0xd31683),_0xe90070['clear'](),_0xe90070[_0x1c61('0x3d1')](_0x79b102,_0x21bff0);}return _0xe90070['setRenderTarget'](_0x2733d5),this[_0x1c61('0x6da')][_0x1c61('0x1c9')];},'dispose':function(){this['renderTarget'][_0x1c61('0xd8')]();}};var _0x21bff0,_0x79b102,_0x191562,_0x313c8f=_0x542817;function _0x542817(_0xe90070,_0x2733d5){_0x2733d5=_0x2733d5||{},this[_0x1c61('0x6b8')]=_0xe90070,this[_0x1c61('0x2fe')]=_0x2733d5[_0x1c61('0x2fe')]||0x200,this['views']=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0xe90070={'format':_0x2733d5[_0x1c61('0x457')]||this[_0x1c61('0x6b8')][_0x1c61('0x457')],'magFilter':this['sourceTexture'][_0x1c61('0x3ed')],'minFilter':this['sourceTexture'][_0x1c61('0x3f0')],'type':_0x2733d5[_0x1c61('0x90')]||this[_0x1c61('0x6b8')][_0x1c61('0x90')],'generateMipmaps':this[_0x1c61('0x6b8')][_0x1c61('0x697')],'anisotropy':this[_0x1c61('0x6b8')][_0x1c61('0x51e')],'encoding':this[_0x1c61('0x6b8')][_0x1c61('0x45b')]};this['renderTarget']=new THREE['WebGLRenderTargetCube'](this['resolution'],this[_0x1c61('0x2fe')],_0xe90070);}_0x2733d5[_0x1c61('0x6de')]=_0x346795,_0x2733d5['EquirectangularToCubeGenerator']=_0x313c8f;},function(_0x3ab7d2,_0x3648a8,_0x3b1a0b){'use strict';Object['defineProperty'](_0x3648a8,_0x1c61('0x5'),{'value':!0x0}),_0x3648a8[_0x1c61('0x6aa')]=void 0x0;_0x3b1a0b=_0x3b1a0b(0x1d),_0x3b1a0b=_0x3b1a0b&&_0x3b1a0b[_0x1c61('0x5')]?_0x3b1a0b:{'default':_0x3b1a0b};function _0x5bb5f9(_0x3ab7d2){this['manager']=void 0x0!==_0x3ab7d2?_0x3ab7d2:THREE[_0x1c61('0x6df')],this['type']=THREE['UnsignedByteType'];}(_0x5bb5f9[_0x1c61('0xb')]=(0x0,_0x3b1a0b[_0x1c61('0x8')])(THREE[_0x1c61('0x6e0')]['prototype']))[_0x1c61('0x6e1')]=function(_0x3ab7d2){function _0x12712d(_0x3ab7d2,_0x3648a8){switch(_0x3ab7d2){case _0x481830:console[_0x1c61('0x200')](_0x1c61('0x6e2')+(_0x3648a8||''));break;case _0x3af005:console['error'](_0x1c61('0x6e3')+(_0x3648a8||''));break;case _0x5a5fca:console[_0x1c61('0x200')](_0x1c61('0x6e4')+(_0x3648a8||''));break;default:console[_0x1c61('0x200')](_0x1c61('0x6e5')+(_0x3648a8||''));}return _0x314ff;}function _0x31b32d(_0x3ab7d2,_0x3648a8,_0x3b1a0b){_0x3648a8=_0x3648a8||0x400;for(var _0x5bb5f9=_0x3ab7d2[_0x1c61('0x6e6')],_0x3ee4e5=-0x1,_0x103c8c=0x0,_0x200a28='',_0x2d9da7=String[_0x1c61('0x6e7')][_0x1c61('0x1d')](null,new Uint16Array(_0x3ab7d2['subarray'](_0x5bb5f9,_0x5bb5f9+0x80)));(_0x3ee4e5=_0x2d9da7[_0x1c61('0x50')](_0x1583cc))<0x0&&_0x103c8c<_0x3648a8&&_0x5bb5f9<_0x3ab7d2[_0x1c61('0x6e8')];)_0x200a28+=_0x2d9da7,_0x103c8c+=_0x2d9da7[_0x1c61('0xf')],_0x5bb5f9+=0x80,_0x2d9da7+=String[_0x1c61('0x6e7')]['apply'](null,new Uint16Array(_0x3ab7d2[_0x1c61('0xf9')](_0x5bb5f9,_0x5bb5f9+0x80)));return-0x1<_0x3ee4e5&&(!0x1!==_0x3b1a0b&&(_0x3ab7d2[_0x1c61('0x6e6')]+=_0x103c8c+_0x3ee4e5+0x1),_0x200a28+_0x2d9da7[_0x1c61('0x20')](0x0,_0x3ee4e5));}var _0x3648a8,_0x3b1a0b,_0x5bb5f9,_0x3ce35d,_0x1b0e34,_0x314ff=-0x1,_0x481830=0x1,_0x3af005=0x2,_0x5a5fca=0x3,_0x1583cc='\x0a',_0x3ab7d2=new Uint8Array(_0x3ab7d2),_0x4a4791=(_0x3ab7d2[_0x1c61('0x6e6')]=0x0,function(_0x3ab7d2){var _0x3648a8,_0x3b1a0b,_0x5bb5f9=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x3ce35d=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0x1b0e34=/^\s*FORMAT=(\S+)\s*$/,_0x314ff=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x3af005={'valid':0x0,'string':'','comments':'','programtype':_0x1c61('0x6e9'),'format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x3ab7d2['pos']>=_0x3ab7d2['byteLength']||!(_0x3648a8=_0x31b32d(_0x3ab7d2)))return _0x12712d(_0x481830,_0x1c61('0x6ea'));if(!(_0x3b1a0b=_0x3648a8[_0x1c61('0x6eb')](/^#\?(\S+)$/)))return _0x12712d(_0x5a5fca,_0x1c61('0x6ec'));for(_0x3af005[_0x1c61('0x6ed')]|=0x1,_0x3af005[_0x1c61('0x6ee')]=_0x3b1a0b[0x1],_0x3af005['string']+=_0x3648a8+'\x0a';!0x1!==(_0x3648a8=_0x31b32d(_0x3ab7d2));)if(_0x3af005[_0x1c61('0x9')]+=_0x3648a8+'\x0a','#'===_0x3648a8[_0x1c61('0x7c')](0x0))_0x3af005[_0x1c61('0x6ef')]+=_0x3648a8+'\x0a';else if((_0x3b1a0b=_0x3648a8[_0x1c61('0x6eb')](_0x5bb5f9))&&(_0x3af005['gamma']=parseFloat(_0x3b1a0b[0x1],0xa)),(_0x3b1a0b=_0x3648a8['match'](_0x3ce35d))&&(_0x3af005['exposure']=parseFloat(_0x3b1a0b[0x1],0xa)),(_0x3b1a0b=_0x3648a8[_0x1c61('0x6eb')](_0x1b0e34))&&(_0x3af005[_0x1c61('0x6ed')]|=0x2,_0x3af005[_0x1c61('0x457')]=_0x3b1a0b[0x1]),(_0x3b1a0b=_0x3648a8['match'](_0x314ff))&&(_0x3af005[_0x1c61('0x6ed')]|=0x4,_0x3af005[_0x1c61('0x2f7')]=parseInt(_0x3b1a0b[0x1],0xa),_0x3af005[_0x1c61('0x328')]=parseInt(_0x3b1a0b[0x2],0xa)),0x2&_0x3af005[_0x1c61('0x6ed')]&&0x4&_0x3af005['valid'])break;return 0x2&_0x3af005[_0x1c61('0x6ed')]?0x4&_0x3af005[_0x1c61('0x6ed')]?_0x3af005:_0x12712d(_0x5a5fca,_0x1c61('0x6f0')):_0x12712d(_0x5a5fca,_0x1c61('0x6f1'));}(_0x3ab7d2));if(_0x314ff!==_0x4a4791){var _0x41a8c1=_0x4a4791[_0x1c61('0x328')],_0x56871c=_0x4a4791[_0x1c61('0x2f7')],_0x201da1=function(_0x3ab7d2,_0x3648a8,_0x3b1a0b){var _0x5bb5f9,_0x3ce35d,_0x1b0e34,_0x314ff,_0x3af005,_0x31b32d,_0x1583cc,_0x4a4791,_0x41a8c1,_0x56871c,_0x201da1,_0x4a1540,_0x575938,_0x1e32c4=_0x3648a8,_0x1df584=_0x3b1a0b;if(_0x1e32c4<0x8||0x7fff<_0x1e32c4||0x2!==_0x3ab7d2[0x0]||0x2!==_0x3ab7d2[0x1]||0x80&_0x3ab7d2[0x2])return new Uint8Array(_0x3ab7d2);if(_0x1e32c4!==(_0x3ab7d2[0x2]<<0x8|_0x3ab7d2[0x3]))return _0x12712d(_0x5a5fca,_0x1c61('0x6f2'));if(!(_0x5bb5f9=new Uint8Array(0x4*_0x3648a8*_0x3b1a0b))||!_0x5bb5f9[_0x1c61('0xf')])return _0x12712d(0x4,_0x1c61('0x6f3'));for(_0x1b0e34=_0x3ce35d=0x0,_0x4a4791=0x4*_0x1e32c4,_0x575938=new Uint8Array(0x4),_0x31b32d=new Uint8Array(_0x4a4791);0x0<_0x1df584&&_0x1b0e34<_0x3ab7d2[_0x1c61('0x6e8')];){if(_0x1b0e34+0x4>_0x3ab7d2[_0x1c61('0x6e8')])return _0x12712d(_0x481830);if(_0x575938[0x0]=_0x3ab7d2[_0x1b0e34++],_0x575938[0x1]=_0x3ab7d2[_0x1b0e34++],_0x575938[0x2]=_0x3ab7d2[_0x1b0e34++],_0x575938[0x3]=_0x3ab7d2[_0x1b0e34++],0x2!=_0x575938[0x0]||0x2!=_0x575938[0x1]||(_0x575938[0x2]<<0x8|_0x575938[0x3])!=_0x1e32c4)return _0x12712d(_0x5a5fca,_0x1c61('0x6f4'));for(_0x1583cc=0x0;_0x1583cc<_0x4a4791&&_0x1b0e34<_0x3ab7d2[_0x1c61('0x6e8')];){if((_0x4a1540=0x80<(_0x314ff=_0x3ab7d2[_0x1b0e34++]))&&(_0x314ff-=0x80),0x0===_0x314ff||_0x4a4791<_0x1583cc+_0x314ff)return _0x12712d(_0x5a5fca,_0x1c61('0x6f5'));if(_0x4a1540)for(_0x3af005=_0x3ab7d2[_0x1b0e34++],_0x41a8c1=0x0;_0x41a8c1<_0x314ff;_0x41a8c1++)_0x31b32d[_0x1583cc++]=_0x3af005;else _0x31b32d['set'](_0x3ab7d2[_0x1c61('0xf9')](_0x1b0e34,_0x1b0e34+_0x314ff),_0x1583cc),_0x1583cc+=_0x314ff,_0x1b0e34+=_0x314ff;}for(_0x56871c=_0x1e32c4,_0x41a8c1=0x0;_0x41a8c1<_0x56871c;_0x41a8c1++)_0x5bb5f9[_0x3ce35d]=_0x31b32d[_0x41a8c1+(_0x201da1=0x0)],_0x201da1+=_0x1e32c4,_0x5bb5f9[_0x3ce35d+0x1]=_0x31b32d[_0x41a8c1+_0x201da1],_0x201da1+=_0x1e32c4,_0x5bb5f9[_0x3ce35d+0x2]=_0x31b32d[_0x41a8c1+_0x201da1],_0x201da1+=_0x1e32c4,_0x5bb5f9[_0x3ce35d+0x3]=_0x31b32d[_0x41a8c1+_0x201da1],_0x3ce35d+=0x4;_0x1df584--;}return _0x5bb5f9;}(_0x3ab7d2[_0x1c61('0xf9')](_0x3ab7d2[_0x1c61('0x6e6')]),_0x41a8c1,_0x56871c);if(_0x314ff!==_0x201da1){if(this[_0x1c61('0x90')]===THREE[_0x1c61('0x6f6')])var _0x5a19bd=_0x201da1,_0x5e6494=THREE[_0x1c61('0x6f7')],_0x2f6515=THREE[_0x1c61('0x6f6')];else if(this[_0x1c61('0x90')]===THREE[_0x1c61('0x6f8')]){for(var _0x4f5689=_0x201da1[_0x1c61('0xf')]/0x4*0x3,_0x3c936d=new Float32Array(_0x4f5689),_0x2867f2=0x0;_0x2867f2<_0x4f5689;_0x2867f2++)_0x5bb5f9=_0x3c936d,_0x3ce35d=0x3*_0x2867f2,0x0,_0x1b0e34=(_0x3648a8=_0x201da1)[0x3+(_0x3b1a0b=0x4*_0x2867f2)],_0x1b0e34=Math[_0x1c61('0x5e0')](0x2,_0x1b0e34-0x80)/0xff,_0x5bb5f9[0x0+_0x3ce35d]=_0x3648a8[0x0+_0x3b1a0b]*_0x1b0e34,_0x5bb5f9[0x1+_0x3ce35d]=_0x3648a8[0x1+_0x3b1a0b]*_0x1b0e34,_0x5bb5f9[0x2+_0x3ce35d]=_0x3648a8[0x2+_0x3b1a0b]*_0x1b0e34;_0x5a19bd=_0x3c936d,_0x5e6494=THREE[_0x1c61('0x458')],_0x2f6515=THREE[_0x1c61('0x6f8')];}else console['error'](_0x1c61('0x6f9'),this[_0x1c61('0x90')]);return{'width':_0x41a8c1,'height':_0x56871c,'data':_0x5a19bd,'header':_0x4a4791[_0x1c61('0x9')],'gamma':_0x4a4791[_0x1c61('0x6fa')],'exposure':_0x4a4791[_0x1c61('0x6fb')],'format':_0x5e6494,'type':_0x2f6515};}}return null;},_0x5bb5f9[_0x1c61('0xb')][_0x1c61('0x6fc')]=function(_0x3ab7d2){return this[_0x1c61('0x90')]=_0x3ab7d2,this;},_0x3648a8[_0x1c61('0x6aa')]=_0x5bb5f9;},function(_0xd23fef,_0x30d494,_0x151322){'use strict';Object[_0x1c61('0x2')](_0x30d494,_0x1c61('0x5'),{'value':!0x0});var _0x452c6e=_0x295620(_0x151322(0x0));function _0x295620(_0xd23fef){return _0xd23fef&&_0xd23fef[_0x1c61('0x5')]?_0xd23fef:{'default':_0xd23fef};}function _0x250764(_0xd23fef){var _0x30d494=_0xd23fef['scale'],_0x30d494=void 0x0===_0x30d494?0x6:_0x30d494,_0x151322=_0xd23fef[_0x1c61('0x32f')],_0x151322=void 0x0===_0x151322?0.005:_0x151322,_0x295620=_0xd23fef[_0x1c61('0x6fd')],_0x295620=void 0x0===_0x295620?0x32:_0x295620,_0x35ec42=_0xd23fef[_0x1c61('0x1c9')],_0x445d8c=_0xd23fef[_0x1c61('0x6fe')],_0x1a14ad=_0xd23fef[_0x1c61('0x2f9')],_0x1a14ad=void 0x0===_0x1a14ad?_0x1c61('0x6ff'):_0x1a14ad,_0x3d7cee=_0xd23fef['texUvScale'],_0x3d7cee=void 0x0===_0x3d7cee?0x1:_0x3d7cee,_0x41a173=_0xd23fef[_0x1c61('0x700')],_0x41a173=void 0x0===_0x41a173?_0x1c61('0x701'):_0x41a173,_0x55488f=_0xd23fef[_0x1c61('0x702')],_0x55488f=void 0x0===_0x55488f?0x0:_0x55488f,_0xd23fef=_0xd23fef['opacity'],_0xd23fef=void 0x0===_0xd23fef?0x1:_0xd23fef;(0x0,_0x452c6e['default'])(this,_0x250764),this['enabled']=!0x1,this[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x1a14ad),this['lightColor']=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x41a173),this[_0x1c61('0x32f')]=_0x151322,this[_0x1c61('0x6fd')]=_0x295620,this[_0x1c61('0x703')]=_0x3d7cee,this[_0x1c61('0x702')]=_0x55488f,this[_0x1c61('0x208')]=_0xd23fef,this[_0x1c61('0x1de')]=_0x30d494,this[_0x1c61('0x704')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=0x0,this['material']=null,this['texture']=_0x35ec42,this[_0x1c61('0x6fe')]=_0x445d8c,this[_0x1c61('0x705')]=null,this[_0x1c61('0x706')]=[];}(0x0,_0x295620(_0x151322(0x1))['default'])(_0x250764,[{'key':_0x1c61('0x4bf'),'value':function(_0xd23fef){var _0x30d494=_0xd23fef['datas_'][_0x1c61('0x4c0')]['length'];if(0x0<_0x30d494){this[_0x1c61('0x706')][_0x1c61('0x6f')](_0xd23fef);for(var _0x151322=_0xd23fef['geometry'][_0x1c61('0x405')](_0x1c61('0x218')),_0x295620=new Array(_0x151322[_0x1c61('0x104')]),_0x32ae8e=0x0;_0x32ae8e<_0x30d494;_0x32ae8e++){var _0x2ebfac=_0xd23fef[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x32ae8e]['faceRange'][0x0],_0x4e0d7a=_0xd23fef[_0x1c61('0x3f')]['brothers'][_0x32ae8e][_0x1c61('0x4c2')][0x0],_0x9ff85f=_0xd23fef[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x32ae8e][_0x1c61('0x4c1')][0x1];_0x295620[_0x1c61('0x4c3')](0x1,_0x2ebfac,_0x4e0d7a),_0x295620['fill'](0x0,_0x4e0d7a,_0x9ff85f);}_0xd23fef[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x4c6'),new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x295620),0x1));}}},{'key':_0x1c61('0x4de'),'value':function(){return this[_0x1c61('0x41')];}},{'key':_0x1c61('0x2f8'),'value':function(_0xd23fef,_0x30d494){var _0x151322=this,_0x295620=(this[_0x1c61('0x1c9')]['wrapT']=THREE[_0x1c61('0x333')],this[_0x1c61('0x1c9')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0xd23fef?(this[_0x1c61('0x41')]=_0xd23fef,this[_0x1c61('0x41')][_0x1c61('0x228')]=this['color'],_0x151322[_0x1c61('0x41')]['map']&&(_0x30d494?_0x151322[_0x1c61('0x41')][_0x1c61('0xd9')][_0x1c61('0xd8')]():(_0x151322[_0x1c61('0x41')][_0x1c61('0x169')][_0x1c61('0x707')]='',this[_0x1c61('0x1c9')]=_0x151322[_0x1c61('0x41')][_0x1c61('0xd9')]),_0x151322['material'][_0x1c61('0xd9')]=null)):this['material']=new THREE[(_0x1c61('0x5e3'))]({'color':this[_0x1c61('0x228')]}),0x1!==this[_0x1c61('0x208')]&&(this[_0x1c61('0x41')]['transparent']=!0x0,this[_0x1c61('0x41')]['opacity']=this[_0x1c61('0x208')]),null);_0x151322[_0x1c61('0x705')]&&(_0x151322[_0x1c61('0x41')][_0x1c61('0x169')][_0x1c61('0x708')]='',_0x151322[_0x1c61('0x41')][_0x1c61('0x1ee')]=!0x0,(_0x295620=new THREE[(_0x1c61('0x94'))]()['load'](_0x151322['alphaMaskPath']))[_0x1c61('0x6af')]=!0x1),_0x151322['skyTexture']&&(_0x151322[_0x1c61('0x41')]['defines'][_0x1c61('0x709')]=''),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0xd23fef){_0xd23fef[_0x1c61('0x16a')]['iTime']={'value':0x0},_0xd23fef[_0x1c61('0x16a')]['waterScale']={'value':_0x151322[_0x1c61('0x1de')]||0x5},_0xd23fef[_0x1c61('0x16a')][_0x1c61('0x6fd')]={'value':_0x151322[_0x1c61('0x6fd')]},_0xd23fef[_0x1c61('0x16a')][_0x1c61('0x703')]={'value':_0x151322[_0x1c61('0x703')]},_0xd23fef['uniforms'][_0x1c61('0x3c8')]={'value':_0x151322['texture']},_0xd23fef[_0x1c61('0x16a')][_0x1c61('0x630')]={'value':_0x295620},_0xd23fef[_0x1c61('0x16a')]['skyTex']={'value':_0x151322[_0x1c61('0x6fe')]},_0xd23fef[_0x1c61('0x16a')][_0x1c61('0x4be')]={'value':_0x151322['lightColor']},_0xd23fef[_0x1c61('0x16a')][_0x1c61('0x70a')]={'value':THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x151322[_0x1c61('0x702')])},_0xd23fef[_0x1c61('0x56')]=_0xd23fef['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x70b')),_0xd23fef[_0x1c61('0x56')]=_0xd23fef[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x70c')),_0xd23fef[_0x1c61('0x56')]=_0xd23fef['vertexShader']['replace'](_0x1c61('0x5ff'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xd23fef[_0x1c61('0x57')]=_0xd23fef['fragmentShader']['replace'](_0x1c61('0x3cc'),_0x1c61('0x70d')),_0xd23fef[_0x1c61('0x57')]=_0xd23fef[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x631'),_0x1c61('0x70e')),_0xd23fef[_0x1c61('0x57')]=_0xd23fef[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x70f')),_0x151322[_0x1c61('0x3cf')]=_0xd23fef;};}},{'key':_0x1c61('0x4dd'),'value':function(_0xd23fef){_0xd23fef=_0xd23fef[_0x1c61('0x1de')];this[_0x1c61('0x3cf')]&&_0xd23fef&&(this[_0x1c61('0x3cf')]['uniforms']['waterScale'][_0x1c61('0x1c')]=_0xd23fef);}},{'key':_0x1c61('0xd8'),'value':function(){this['material']&&this[_0x1c61('0x41')][_0x1c61('0xd8')](),this['texture']&&this['texture']['dispose'](),this[_0x1c61('0x1c9')]=null,this['material']=null,this[_0x1c61('0x3cf')]=null;for(var _0xd23fef=0x0,_0x30d494=this['targetMeshes'][_0x1c61('0xf')];_0xd23fef<_0x30d494;_0xd23fef++)this[_0x1c61('0x706')][_0xd23fef]['material'][0x0]=null;this['targetMeshes']['length']=0x0;}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x41')]&&this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['iTime'][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}}]),_0x30d494[_0x1c61('0x8')]=_0x250764;},function(_0x424ad1,_0x1e0676,_0xac74e7){'use strict';Object['defineProperty'](_0x1e0676,_0x1c61('0x5'),{'value':!0x0});var _0x1e1a86=_0x5a8629(_0xac74e7(0x26)),_0x5e1110=_0x5a8629(_0xac74e7(0x0)),_0x4e72dc=_0x5a8629(_0xac74e7(0x1)),_0x17d5f4=_0x5a8629(_0xac74e7(0x31)),_0x79d80=_0x5a8629(_0xac74e7(0x32)),_0x46220b=_0x5a8629(_0xac74e7(0x3c));function _0x5a8629(_0x424ad1){return _0x424ad1&&_0x424ad1[_0x1c61('0x5')]?_0x424ad1:{'default':_0x424ad1};}function _0x17bd31(_0x424ad1){var _0x1e0676=_0x424ad1[_0x1c61('0x2bb')],_0xac74e7=_0x424ad1[_0x1c61('0x90')],_0xac74e7=void 0x0===_0xac74e7?_0x1c61('0x2f0'):_0xac74e7,_0x4e72dc=_0x424ad1[_0x1c61('0x58d')],_0x79d80=_0x424ad1[_0x1c61('0x710')],_0x79d80=void 0x0===_0x79d80?0.0008:_0x79d80,_0x424ad1=_0x424ad1[_0x1c61('0x711')],_0x424ad1=void 0x0===_0x424ad1?{'x':0.05,'y':0.05}:_0x424ad1,_0x46220b=((0x0,_0x5e1110[_0x1c61('0x8')])(this,_0x17bd31),(0x0,_0x17d5f4['default'])(this,(_0x17bd31[_0x1c61('0x87')]||(0x0,_0x1e1a86[_0x1c61('0x8')])(_0x17bd31))[_0x1c61('0x0')](this)));return _0x46220b[_0x1c61('0x2bb')]=_0x1e0676,_0x46220b['material']=null,_0x46220b[_0x1c61('0x1c9')]=null,_0x46220b[_0x1c61('0x712')]=null,_0x46220b['isRandom']=_0x1c61('0x1b4')==_0xac74e7,_0x46220b[_0x1c61('0x2f8')](_0x4e72dc,_0x79d80,_0x424ad1),_0x46220b;}_0xac74e7=_0xac74e7(0x3b)[_0x1c61('0x92')],(0x0,_0x79d80[_0x1c61('0x8')])(_0x17bd31,_0xac74e7),(0x0,_0x4e72dc['default'])(_0x17bd31,[{'key':_0x1c61('0x2f8'),'value':function(_0x424ad1,_0x1e0676,_0xac74e7){var _0x4e72dc=this;this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff}),new _0x46220b[(_0x1c61('0x8'))]()[_0x1c61('0x9a')]({'name':_0x1c61('0x4f3'),'path':_0x424ad1})[_0x1c61('0x34a')](function(_0x424ad1){_0x4e72dc[_0x1c61('0x1c9')]=_0x424ad1,_0x4e72dc[_0x1c61('0x1c9')][_0x1c61('0x3f1')]=THREE['RepeatWrapping'],_0x4e72dc[_0x1c61('0x1c9')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x4e72dc['texture'][_0x1c61('0x51e')]=_0x4e72dc[_0x1c61('0x2bb')][_0x1c61('0x51f')][_0x1c61('0x5ea')][_0x1c61('0x520')](),_0x4e72dc[_0x1c61('0x488')]({'type':'canUpdate'});}),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x424ad1){_0x424ad1['uniforms'][_0x1c61('0x3c8')]={'value':_0x4e72dc['texture']},_0x424ad1[_0x1c61('0x16a')][_0x1c61('0x710')]={'value':_0x1e0676},_0x424ad1['uniforms']['texRepeat']={'value':new THREE['Vector2'](_0xac74e7['x'],_0xac74e7['y'])},_0x424ad1[_0x1c61('0x56')]=_0x424ad1[_0x1c61('0x56')]['replace'](_0x1c61('0x642'),_0x1c61('0x713')+(_0x4e72dc[_0x1c61('0x714')]?_0x1c61('0x715'):'')+_0x1c61('0x716')),_0x424ad1[_0x1c61('0x56')]=_0x424ad1[_0x1c61('0x56')]['replace']('#include\x20<uv2_vertex>',_0x1c61('0x717')),_0x424ad1[_0x1c61('0x57')]=_0x424ad1['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x4d1')+(_0x4e72dc['isRandom']?_0x1c61('0x715'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20pi\x20=\x203.141592;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hexRatio\x20=\x20vec2(1.0,\x20sqrt(3.0));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//center,\x20index\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20GetHexGridInfo(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexIndex\x20=\x20floor((vec4(uv,\x20uv\x20-\x20vec2(0.5,\x201.0))\x20/\x20hexRatio.xyxy)\x20+\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexCenter\x20=\x20vec4(hexIndex.xy\x20*\x20hexRatio,\x20(hexIndex.zw\x20+\x200.5)\x20*\x20hexRatio);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20offset\x20=\x20uv.xyxy\x20-\x20hexCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20dot(offset.xy,\x20offset.xy)\x20<\x20dot(offset.zw,\x20offset.zw)\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4(hexCenter.xy,\x20hexIndex.xy)\x20:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4(hexCenter.zw,\x20hexIndex.zw);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20GetHexSDF(in\x20vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20=\x20abs(p);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.5\x20-\x20max(dot(p,\x20hexRatio\x20*\x200.5),\x20p.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20getNodeOffsets(in\x20int\x20nodeIndex){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x200){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(0.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(1.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x202){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(1.0,-1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//xy:\x20node\x20pos,\x20z:\x20weight\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20GetTriangleInterpNode(in\x20vec2\x20pos,\x20in\x20float\x20freq,\x20in\x20int\x20nodeIndex)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20pos\x20*\x20freq\x20+\x20getNodeOffsets(nodeIndex)\x20/\x20hexRatio.xy\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexInfo\x20=\x20GetHexGridInfo(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20GetHexSDF(uv\x20-\x20hexInfo.xy)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(hexInfo.xy\x20/\x20freq,\x20dist);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20hash33(\x20vec3\x20p\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20=\x20vec3(\x20dot(p,vec3(127.1,311.7,\x2074.7)),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dot(p,vec3(269.5,183.3,246.1)),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dot(p,vec3(113.5,271.9,124.6)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p)*43758.5453123);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20GetTextureSample(vec2\x20pos,\x20float\x20freq,\x20vec2\x20nodePoint)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20hash\x20=\x20hash33(vec3(nodePoint.xy,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ang\x20=\x20hash.x\x20*\x202.0\x20*\x20pi;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotation\x20=\x20mat2(cos(ang),\x20sin(ang),\x20-sin(ang),\x20cos(ang));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20rotation\x20*\x20pos\x20*\x20freq\x20+\x20hash.yz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(texture1,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20PreserveVariance(vec3\x20linearColor,\x20vec3\x20meanColor,\x20float\x20moment2)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(linearColor\x20-\x20meanColor)\x20/\x20sqrt(moment2)\x20+\x20meanColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x424ad1[_0x1c61('0x57')]=_0x424ad1[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20normCoord\x20=\x20vUV\x20*\x20texScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ivec2\x20quadIndex2\x20=\x20ivec2(normCoord\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20int\x20quadIndex\x20=\x20quadIndex2.x\x20+\x20quadIndex2.y\x20*\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texFreq\x20=\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tileFreq\x20=\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20moment1\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20moment2\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x203;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20interpNode\x20=\x20GetTriangleInterpNode(normCoord,\x20tileFreq,\x20i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20GetTextureSample(normCoord,\x20texFreq,\x20interpNode.xy)\x20*\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20moment1\x20+=\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20moment2\x20+=\x20interpNode.z\x20*\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20meanColor\x20=\x20texture2D(texture1,\x20vec2(0.0),\x2010.0).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20PreserveVariance(resultColor.rgb,\x20meanColor,\x20moment2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');};}},{'key':_0x1c61('0x4de'),'value':function(){return this[_0x1c61('0x41')];}},{'key':'dispose','value':function(){this[_0x1c61('0x41')]&&this[_0x1c61('0x41')][_0x1c61('0xd8')](),this[_0x1c61('0x1c9')]&&this[_0x1c61('0x1c9')][_0x1c61('0xd8')](),this[_0x1c61('0x712')]&&(this[_0x1c61('0x712')]['material'][0x0]=null),this[_0x1c61('0x712')]=null;}}]),_0x1e0676[_0x1c61('0x8')]=_0x17bd31;},function(_0x214261,_0x3d1079,_0x6c9d1b){'use strict';Object['defineProperty'](_0x3d1079,_0x1c61('0x5'),{'value':!0x0});var _0x2985e9=_0x2666aa(_0x6c9d1b(0x0));function _0x2666aa(_0x214261){return _0x214261&&_0x214261[_0x1c61('0x5')]?_0x214261:{'default':_0x214261};}function _0x120b1d(){(0x0,_0x2985e9[_0x1c61('0x8')])(this,_0x120b1d),this[_0x1c61('0x718')]=null;}(0x0,_0x2666aa(_0x6c9d1b(0x1))['default'])(_0x120b1d,[{'key':_0x1c61('0x719'),'value':function(){for(var _0x214261=new Float32Array(0x7530),_0x3d1079=0x0,_0x6c9d1b=0x0;_0x6c9d1b<0x64;_0x6c9d1b++)for(var _0x2985e9=0x0;_0x2985e9<0x64;_0x2985e9++)_0x214261[_0x3d1079]=0xa*_0x6c9d1b-0x1f4,_0x214261[_0x3d1079+0x1]=0x0,_0x214261[_0x3d1079+0x2]=0xa*_0x2985e9-0x1f4,_0x3d1079+=0x3;var _0x2666aa=new THREE[(_0x1c61('0x1ef'))](),_0x120b1d=(_0x2666aa['addAttribute'](_0x1c61('0x218'),new THREE[(_0x1c61('0x10d'))](_0x214261,0x3)),new THREE['PointsMaterial']({'color':0xffffff,'size':1.2}));return _0x120b1d['sizeAttenuation']=!0x1,this['particles']=new THREE[(_0x1c61('0xc2'))](_0x2666aa,_0x120b1d),this['particles'];}}]),_0x3d1079[_0x1c61('0x8')]=_0x120b1d;},function(_0x365120,_0x42fb94,_0x234e19){'use strict';Object[_0x1c61('0x2')](_0x42fb94,_0x1c61('0x5'),{'value':!0x0});var _0x717b9b=_0x26fc5f(_0x234e19(0x0));function _0x26fc5f(_0x365120){return _0x365120&&_0x365120[_0x1c61('0x5')]?_0x365120:{'default':_0x365120};}function _0x207de7(_0x365120){var _0x42fb94=_0x365120[_0x1c61('0x32f')],_0x42fb94=void 0x0===_0x42fb94?0.5:_0x42fb94,_0x365120=_0x365120[_0x1c61('0x71a')],_0x365120=void 0x0===_0x365120?[0.078125,0.9375]:_0x365120;(0x0,_0x717b9b[_0x1c61('0x8')])(this,_0x207de7),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x71a')]=_0x365120,this[_0x1c61('0x32f')]=_0x42fb94,this[_0x1c61('0x104')]=0x0;}(0x0,_0x26fc5f(_0x234e19(0x1))['default'])(_0x207de7,[{'key':_0x1c61('0x7'),'value':function(_0x365120){_0x365120=_0x365120['radius'],_0x365120=void 0x0===_0x365120?0x64:_0x365120,_0x365120=new THREE[(_0x1c61('0x3d0'))](_0x365120,_0x365120),_0x365120=new THREE[(_0x1c61('0x30f'))](_0x365120,this[_0x1c61('0x41')]);return _0x365120[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],this[_0x1c61('0x312')][_0x1c61('0x1c4')](_0x365120),this[_0x1c61('0x312')];}},{'key':_0x1c61('0x2f8'),'value':function(_0x365120){var _0x42fb94=_0x365120['texture'],_0x234e19=_0x365120[_0x1c61('0x2f0')],_0x717b9b=void 0x0===_0x234e19?{'x':0x0,'y':0x0}:_0x234e19,_0x234e19=_0x365120['colorStr'],_0x26fc5f=void 0x0===_0x234e19?_0x1c61('0x32d'):_0x234e19,_0x365120=this[_0x1c61('0x678')](),_0x207de7=new THREE['CanvasTexture'](_0x365120),_0x5dbbca=(_0x42fb94[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x42fb94[_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],this['material']=new THREE[(_0x1c61('0x5e3'))]({'transparent':!0x0,'depthWrite':!0x1}),this);return this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x365120){_0x365120[_0x1c61('0x16a')]['iTime']={'value':0x0},_0x365120[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x42fb94},_0x365120[_0x1c61('0x16a')][_0x1c61('0x3fa')]={'value':_0x207de7},_0x365120[_0x1c61('0x16a')]['texRepeat']={'value':new THREE[(_0x1c61('0x1cf'))](_0x717b9b['x'],_0x717b9b['y'])},_0x365120[_0x1c61('0x16a')]['color']={'value':new THREE[(_0x1c61('0x1ba'))](_0x26fc5f)},_0x365120['vertexShader']=_0x365120[_0x1c61('0x56')]['replace'](_0x1c61('0x3ca'),_0x1c61('0x71b')),_0x365120[_0x1c61('0x56')]=_0x365120[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<uv_vertex>',_0x1c61('0x71c')),_0x365120[_0x1c61('0x57')]=_0x365120['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x71d')),_0x365120['fragmentShader']=_0x365120[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x71e')),_0x5dbbca[_0x1c61('0x3cf')]=_0x365120;},this[_0x1c61('0x41')];}},{'key':_0x1c61('0x678'),'value':function(){var _0x365120=document[_0x1c61('0x75')]('canvas'),_0x42fb94=(_0x365120['width']=0x100,_0x365120['height']=0x100,_0x365120['getContext']('2d')),_0x234e19=_0x42fb94['createRadialGradient'](0x80,0x80,0x80*this[_0x1c61('0x71a')][0x0],0x80,0x80,0x80*this[_0x1c61('0x71a')][0x1]);return _0x234e19[_0x1c61('0x4e8')](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0x234e19[_0x1c61('0x4e8')](0x1,_0x1c61('0x4ea')),_0x42fb94[_0x1c61('0x4a6')]=_0x234e19,_0x42fb94[_0x1c61('0x4a8')](0x0,0x0,0x100,0x100),_0x365120;}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x41')]&&this[_0x1c61('0x41')][_0x1c61('0xd8')](),this[_0x1c61('0x3cf')],this['shader']=null,this[_0x1c61('0x312')]=null;}},{'key':_0x1c61('0x3d1'),'value':function(_0x365120){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x365120*this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['iTime'][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}}]),_0x42fb94[_0x1c61('0x8')]=_0x207de7;},function(_0xf9d7e2,_0x5cc377,_0x741cb8){'use strict';Object['defineProperty'](_0x5cc377,'__esModule',{'value':!0x0});var _0x4aeeba=_0x128abf(_0x741cb8(0x0));function _0x128abf(_0xf9d7e2){return _0xf9d7e2&&_0xf9d7e2[_0x1c61('0x5')]?_0xf9d7e2:{'default':_0xf9d7e2};}function _0x4892a3(_0xf9d7e2){var _0x5cc377=_0xf9d7e2[_0x1c61('0x2f9')],_0x5cc377=void 0x0===_0x5cc377?'#FFFFFF':_0x5cc377,_0x741cb8=_0xf9d7e2[_0x1c61('0x226')],_0x741cb8=void 0x0===_0x741cb8?0x3e8:_0x741cb8,_0x128abf=_0xf9d7e2[_0x1c61('0x2f0')],_0x128abf=void 0x0===_0x128abf?{'x':0xa,'y':0xa}:_0x128abf,_0x30618d=_0xf9d7e2['transFactor'],_0x30618d=void 0x0===_0x30618d?[0.078125,0.9375]:_0x30618d,_0x1f36ea=_0xf9d7e2['materialType'],_0x1f36ea=void 0x0===_0x1f36ea?_0x1c61('0x71f'):_0x1f36ea,_0x1146e5=_0xf9d7e2[_0x1c61('0x720')],_0x1146e5=void 0x0===_0x1146e5||_0x1146e5,_0x39dfd4=_0xf9d7e2[_0x1c61('0x721')],_0x39dfd4=void 0x0===_0x39dfd4?_0x1c61('0x32d'):_0x39dfd4,_0xf9d7e2=_0xf9d7e2[_0x1c61('0x32f')],_0xf9d7e2=void 0x0===_0xf9d7e2?0.5:_0xf9d7e2;(0x0,_0x4aeeba[_0x1c61('0x8')])(this,_0x4892a3),this['object3d']=new THREE['Object3D'](),this[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x5cc377),this[_0x1c61('0x226')]=_0x741cb8,this['texRepeat']=_0x128abf,this[_0x1c61('0x71a')]=_0x30618d,this['materialType']=_0x1f36ea,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x32f')]=_0xf9d7e2,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x720')]=_0x1146e5,this[_0x1c61('0x722')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x39dfd4);}(0x0,_0x128abf(_0x741cb8(0x1))[_0x1c61('0x8')])(_0x4892a3,[{'key':_0x1c61('0x723'),'value':function(_0x5cc377,_0x741cb8){var _0xf9d7e2=this[_0x1c61('0x678')](),_0x128abf=new THREE[(_0x1c61('0x679'))](_0xf9d7e2),_0xf9d7e2=(this['radius'],this[_0x1c61('0x228')],new THREE[(_0x1c61('0x3d0'))](0x2*this['radius'],0x2*this[_0x1c61('0x226')])),_0x57fedc=new THREE['MeshBasicMaterial']({'color':this[_0x1c61('0x228')],'transparent':!0x0}),_0x57fedc=new((_0x1c61('0x724'))===this[(_0x1c61('0x725'))]?THREE[(_0x1c61('0x4cb'))]:'standard'===this[(_0x1c61('0x725'))]?THREE[(_0x1c61('0x5e3'))]:THREE[(_0x1c61('0x3d4'))])({'color':this[_0x1c61('0x228')],'transparent':!0x0}),_0x58622e=this;return _0x57fedc['onBeforeCompile']=function(_0xf9d7e2){_0xf9d7e2[_0x1c61('0x16a')]['iTime']={'value':0x0},_0xf9d7e2[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x5cc377},_0xf9d7e2[_0x1c61('0x16a')][_0x1c61('0x726')]={'value':_0x741cb8},_0xf9d7e2[_0x1c61('0x16a')][_0x1c61('0x722')]={'value':_0x58622e[_0x1c61('0x722')]},_0xf9d7e2[_0x1c61('0x16a')][_0x1c61('0x3fa')]={'value':_0x128abf},_0xf9d7e2['vertexShader']=_0xf9d7e2['vertexShader'][_0x1c61('0x3c9')]('#include\x20<uv_pars_vertex>',_0x1c61('0x727')),_0xf9d7e2[_0x1c61('0x56')]=_0xf9d7e2[_0x1c61('0x56')][_0x1c61('0x3c9')]('#include\x20<uv_vertex>',_0x1c61('0x728')+_0x58622e[_0x1c61('0x711')]['x']['toFixed'](0x1)+',\x20'+_0x58622e[_0x1c61('0x711')]['y'][_0x1c61('0x4dc')](0x1)+',\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xf9d7e2[_0x1c61('0x57')]=_0xf9d7e2[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x480')+(_0x5cc377?'#define\x20IS_TEXTURE':'')+_0x1c61('0x480')+(_0x58622e[_0x1c61('0x720')]?_0x1c61('0x729'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xf9d7e2[_0x1c61('0x57')]=_0xf9d7e2[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.g\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x58622e[_0x1c61('0x3cf')]=_0xf9d7e2;},{'geometry':_0xf9d7e2,'material':_0x57fedc};}},{'key':'createCircleGradient','value':function(){var _0xf9d7e2=document[_0x1c61('0x75')](_0x1c61('0x463')),_0x5cc377=(_0xf9d7e2['width']=0x100,_0xf9d7e2[_0x1c61('0x2f7')]=0x100,_0xf9d7e2[_0x1c61('0x464')]('2d')),_0x741cb8=_0x5cc377['createRadialGradient'](0x80,0x80,0x80*this[_0x1c61('0x71a')][0x0],0x80,0x80,0x80*this[_0x1c61('0x71a')][0x1]);return _0x741cb8[_0x1c61('0x4e8')](0x0,_0x1c61('0x4e9')),_0x741cb8[_0x1c61('0x4e8')](0x1,_0x1c61('0x4ea')),_0x5cc377[_0x1c61('0x4a6')]=_0x741cb8,_0x5cc377[_0x1c61('0x4a8')](0x0,0x0,0x100,0x100),_0xf9d7e2;}},{'key':_0x1c61('0xd8'),'value':function(){this['material']&&this[_0x1c61('0x41')][_0x1c61('0xd8')](),this['shader'],this[_0x1c61('0x3cf')]=null,this['object3d']=null;}},{'key':_0x1c61('0x3d1'),'value':function(_0xf9d7e2){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0xf9d7e2*this['speed'],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this[_0x1c61('0x104')]);}}]),_0x5cc377[_0x1c61('0x8')]=_0x4892a3;},function(_0x4fa375,_0x2a9759,_0x14f60b){'use strict';Object[_0x1c61('0x2')](_0x2a9759,_0x1c61('0x5'),{'value':!0x0});var _0x3a8d55=_0x3d5dc7(_0x14f60b(0x0));function _0x3d5dc7(_0x4fa375){return _0x4fa375&&_0x4fa375[_0x1c61('0x5')]?_0x4fa375:{'default':_0x4fa375};}function _0x5debc7(){(0x0,_0x3a8d55[_0x1c61('0x8')])(this,_0x5debc7),this[_0x1c61('0x312')]=new THREE['Object3D'](),this[_0x1c61('0x72a')]=null,this[_0x1c61('0x1c9')]=null,this[_0x1c61('0x41')]=null;}(0x0,_0x3d5dc7(_0x14f60b(0x1))[_0x1c61('0x8')])(_0x5debc7,[{'key':_0x1c61('0x72b'),'value':function(){this[_0x1c61('0x72a')]&&this[_0x1c61('0x72a')][_0x1c61('0x72c')]();}},{'key':_0x1c61('0x72d'),'value':function(){this[_0x1c61('0x72a')]&&(this[_0x1c61('0x72a')][_0x1c61('0x72e')]=!0x1);}},{'key':_0x1c61('0x72f'),'value':function(_0x4fa375,_0x2a9759){var _0x14f60b=document['createElement'](_0x1c61('0x730')),_0x4fa375=(_0x14f60b[_0x1c61('0x731')][_0x1c61('0x63')]='none',_0x14f60b[_0x1c61('0x732')]('id',_0x4fa375),_0x14f60b[_0x1c61('0x1d3')]=!0x0,_0x14f60b[_0x1c61('0x72e')]=!0x0,_0x14f60b[_0x1c61('0x733')]=!0x0,_0x14f60b['crossOrigin']=_0x1c61('0x734'),document[_0x1c61('0x75')](_0x1c61('0x735')));return _0x4fa375[_0x1c61('0x732')](_0x1c61('0x90'),_0x1c61('0x736')),_0x4fa375[_0x1c61('0x732')](_0x1c61('0x66'),_0x2a9759),_0x14f60b[_0x1c61('0x737')]=0x1,_0x14f60b[_0x1c61('0x65')](_0x4fa375),this[_0x1c61('0x72a')]=_0x14f60b,this[_0x1c61('0x72a')];}},{'key':_0x1c61('0x2f8'),'value':function(){if(this[_0x1c61('0x72a')])return this[_0x1c61('0x1c9')]=new THREE['VideoTexture'](this[_0x1c61('0x72a')]),this[_0x1c61('0x41')]=new THREE[(_0x1c61('0x3d4'))]({'map':this[_0x1c61('0x1c9')],'side':THREE[_0x1c61('0x302')]}),this[_0x1c61('0x41')];}},{'key':'create','value':function(_0x4fa375){var _0x2a9759=_0x4fa375[_0x1c61('0x328')],_0x4fa375=_0x4fa375['height'],_0x2a9759=new THREE[(_0x1c61('0x3d0'))](_0x2a9759,_0x4fa375),_0x4fa375=new THREE[(_0x1c61('0x30f'))](_0x2a9759,this[_0x1c61('0x41')]);return this['object3d']['add'](_0x4fa375),this['object3d'];}}]),_0x2a9759[_0x1c61('0x8')]=_0x5debc7;},function(_0x1486e7,_0x22443c,_0x19f03d){'use strict';Object['defineProperty'](_0x22443c,_0x1c61('0x5'),{'value':!0x0});var _0x4d6d5d=_0x382686(_0x19f03d(0x0)),_0x19f03d=_0x382686(_0x19f03d(0x1));function _0x382686(_0x1486e7){return _0x1486e7&&_0x1486e7[_0x1c61('0x5')]?_0x1486e7:{'default':_0x1486e7};}function _0x2a0c26(_0x1486e7){_0x1486e7=_0x1486e7[_0x1c61('0x2f9')],_0x1486e7=void 0x0===_0x1486e7?_0x1c61('0x32d'):_0x1486e7;(0x0,_0x4d6d5d[_0x1c61('0x8')])(this,_0x2a0c26),this[_0x1c61('0x4ce')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1486e7),this[_0x1c61('0x41')]=null;}Array[_0x1c61('0xb')][_0x1c61('0x4c3')]||Object[_0x1c61('0x2')](Array[_0x1c61('0xb')],_0x1c61('0x4c3'),{'value':function(_0x1486e7){if(null==this)throw new TypeError('this\x20is\x20null\x20or\x20not\x20defined');for(var _0x22443c=Object(this),_0x19f03d=_0x22443c[_0x1c61('0xf')]>>>0x0,_0x4d6d5d=arguments[0x1]>>0x0,_0x382686=_0x4d6d5d<0x0?Math[_0x1c61('0x101')](_0x19f03d+_0x4d6d5d,0x0):Math[_0x1c61('0x7d')](_0x4d6d5d,_0x19f03d),_0x4d6d5d=arguments[0x2],_0x4d6d5d=void 0x0===_0x4d6d5d?_0x19f03d:_0x4d6d5d>>0x0,_0x2a0c26=_0x4d6d5d<0x0?Math[_0x1c61('0x101')](_0x19f03d+_0x4d6d5d,0x0):Math['min'](_0x4d6d5d,_0x19f03d);_0x382686<_0x2a0c26;)_0x22443c[_0x382686]=_0x1486e7,_0x382686++;return _0x22443c;}}),(0x0,_0x19f03d['default'])(_0x2a0c26,[{'key':'computeTopFaceAttr','value':function(_0x1486e7){var _0x22443c=_0x1486e7[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x1c61('0xf')];if(0x0<_0x22443c){for(var _0x19f03d=_0x1486e7[_0x1c61('0xda')]['getAttribute']('position'),_0x4d6d5d=new Array(_0x19f03d[_0x1c61('0x104')]),_0x382686=0x0;_0x382686<_0x22443c;_0x382686++){var _0x2a0c26=_0x1486e7[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x382686][_0x1c61('0x4c1')][0x0],_0x402c27=_0x1486e7['datas_'][_0x1c61('0x4c0')][_0x382686][_0x1c61('0x4c2')][0x0],_0x4dd5a8=_0x1486e7[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x382686][_0x1c61('0x4c1')][0x1];_0x4d6d5d[_0x1c61('0x4c3')](0x1,_0x2a0c26,_0x402c27),_0x4d6d5d[_0x1c61('0x4c3')](0x0,_0x402c27,_0x4dd5a8);}_0x1486e7[_0x1c61('0xda')]['addAttribute']('topFaceFlags',new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x4d6d5d),0x1));}}},{'key':_0x1c61('0x2f8'),'value':function(_0x1486e7){var _0x22443c=_0x1486e7[_0x1c61('0x5ad')],_0x19f03d=_0x1486e7[_0x1c61('0x738')];return _0x22443c&&_0x22443c['updateMatrix'](),_0x19f03d&&_0x19f03d['updateMatrix'](),this[_0x1c61('0x41')]=new THREE['MeshLambertMaterial']({'color':this[_0x1c61('0x4ce')]}),this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x1486e7){_0x22443c&&(_0x1486e7[_0x1c61('0x16a')][_0x1c61('0x5eb')]={'value':_0x22443c},_0x1486e7['uniforms'][_0x1c61('0x739')]={'value':_0x22443c['matrix']}),_0x19f03d&&(_0x1486e7[_0x1c61('0x16a')][_0x1c61('0x5e4')]={'value':_0x19f03d},_0x1486e7[_0x1c61('0x16a')]['sideTexMat']={'value':_0x19f03d[_0x1c61('0x73a')]}),_0x1486e7[_0x1c61('0x56')]=_0x1486e7[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x4d0')+(_0x22443c?_0x1c61('0x73b'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x19f03d?'#define\x20USE_SIDE_TEX':'')+_0x1c61('0x73c')),_0x1486e7[_0x1c61('0x56')]=_0x1486e7[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x73d')),_0x1486e7[_0x1c61('0x57')]=_0x1486e7[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x4d1')+(_0x22443c?_0x1c61('0x73b'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x19f03d?'#define\x20USE_SIDE_TEX':'')+_0x1c61('0x73e')),_0x1486e7[_0x1c61('0x57')]=_0x1486e7['fragmentShader']['replace'](_0x1c61('0x3dd'),_0x1c61('0x73f'));},this[_0x1c61('0x41')];}}]),_0x22443c[_0x1c61('0x8')]=_0x2a0c26;},function(_0x446186,_0x559528,_0x192165){'use strict';Object['defineProperty'](_0x559528,_0x1c61('0x5'),{'value':!0x0});var _0x13d01f=_0x4643f1(_0x192165(0x0));function _0x4643f1(_0x446186){return _0x446186&&_0x446186[_0x1c61('0x5')]?_0x446186:{'default':_0x446186};}function _0x47eece(_0x446186){var _0x559528=_0x446186['material'],_0x192165=_0x446186[_0x1c61('0x740')],_0x4643f1=_0x446186[_0x1c61('0x301')],_0x4a2a99=_0x446186[_0x1c61('0x741')],_0x15ada0=_0x446186[_0x1c61('0xda')],_0x895ff2=_0x446186['pos'],_0x1d0412=_0x446186[_0x1c61('0x742')],_0x446186=_0x446186[_0x1c61('0x1de')];(0x0,_0x13d01f[_0x1c61('0x8')])(this,_0x47eece),this['num']=_0x192165||0x3e8,this[_0x1c61('0x301')]=_0x4643f1,this['shadowCamera']=_0x4a2a99,this['isMorph']=!0x1,this[_0x1c61('0x743')]=!0x1,this[_0x1c61('0x41')]=_0x559528||new THREE['MeshBasicMaterial']({'color':0xff00}),this[_0x1c61('0x744')]=void 0x0!==this[_0x1c61('0x41')][_0x1c61('0x745')]&&this[_0x1c61('0x41')][_0x1c61('0x745')],this[_0x1c61('0x309')]({'geometry':_0x15ada0,'pos':_0x895ff2,'rot':_0x1d0412,'scale':_0x446186}),this['setMaterial'](),this[_0x1c61('0x741')]&&this[_0x1c61('0x746')](),this[_0x1c61('0x1f0')]=new THREE[(_0x1c61('0x30f'))](this['geometry'],this[_0x1c61('0x41')]),this[_0x1c61('0x1f0')][_0x1c61('0x747')]=!0x0,this['mesh'][_0x1c61('0x748')]=!0x0,this['mesh'][_0x1c61('0x408')]=!0x1,this[_0x1c61('0x312')]=new THREE['Object3D'](),this[_0x1c61('0x312')][_0x1c61('0x1c4')](this['mesh']),this[_0x1c61('0x1f0')]['customDepthMaterial']=this[_0x1c61('0x749')];}(0x0,_0x4643f1(_0x192165(0x1))['default'])(_0x47eece,[{'key':_0x1c61('0x309'),'value':function(_0x446186){var _0x559528,_0x192165;for(_0x192165 in this[_0x1c61('0x2e2')](),_0x559528=void 0x0!==_0x446186[_0x1c61('0x1f0')]?_0x446186[_0x1c61('0x1f0')]['geometry']:void 0x0!==_0x446186['geometry']?_0x446186[_0x1c61('0xda')]:new THREE[(_0x1c61('0x455'))](0x1,0x1,0x1),this[_0x1c61('0xda')]=new THREE[(_0x1c61('0x74a'))](),this[_0x1c61('0xda')]['maxInstancedCount']=this['num'],_0x559528['attributes'])this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x192165,_0x559528['getAttribute'](_0x192165));if(this['geometry']['setIndex'](_0x559528[_0x1c61('0x74b')]()),this[_0x1c61('0x744')]){var _0x4643f1=_0x559528[_0x1c61('0x74c')];for(_0x192165 in _0x4643f1){for(var _0x46d3c8=[],_0x5a69b4=_0x4643f1[_0x192165],_0x231fc4=0x0,_0x40b476=_0x5a69b4[_0x1c61('0xf')];_0x231fc4<_0x40b476;_0x231fc4++)_0x46d3c8['push'](_0x5a69b4[_0x231fc4][_0x1c61('0x1b1')]());this['geometry'][_0x1c61('0x74c')][_0x192165]=_0x46d3c8;}this[_0x1c61('0xda')][_0x1c61('0x745')]=_0x559528[_0x1c61('0x745')];}this[_0x1c61('0x74d')]=new Float32Array(0x3*this[_0x1c61('0x740')]),this[_0x1c61('0x74e')]=new Float32Array(0x3*this['num']),this['orientations']=new Float32Array(0x4*this[_0x1c61('0x740')]);for(var _0x13d01f=new THREE[(_0x1c61('0x74f'))](),_0x47eece=new THREE[(_0x1c61('0x750'))](),_0x24f8ba=THREE[_0x1c61('0x15')][_0x1c61('0x751')],_0x231fc4=0x0;_0x231fc4<this['num'];_0x231fc4++){var _0x2386b7=0x3*_0x231fc4,_0x15f50f=0x4*_0x231fc4;_0x446186[_0x1c61('0x6e6')]?(this[_0x1c61('0x74d')][_0x2386b7]=_0x446186[_0x1c61('0x6e6')][_0x2386b7],this['offsets'][0x1+_0x2386b7]=_0x446186[_0x1c61('0x6e6')][0x1+_0x2386b7],this[_0x1c61('0x74d')][0x2+_0x2386b7]=_0x446186[_0x1c61('0x6e6')][0x2+_0x2386b7]):(this[_0x1c61('0x74d')][_0x2386b7]=Math[_0x1c61('0x752')](-0xc8,0xc8),this[_0x1c61('0x74d')][0x1+_0x2386b7]=Math[_0x1c61('0x752')](-0x14,0x14),this[_0x1c61('0x74d')][0x2+_0x2386b7]=Math[_0x1c61('0x752')](-0xc8,0xc8)),_0x446186['rot']?_0x13d01f[_0x1c61('0x753')](_0x47eece[_0x1c61('0x1b')](_0x446186[_0x1c61('0x742')][_0x2386b7]*_0x24f8ba,_0x446186[_0x1c61('0x742')][0x1+_0x2386b7]*_0x24f8ba,_0x446186[_0x1c61('0x742')][0x2+_0x2386b7]*_0x24f8ba)):_0x13d01f[_0x1c61('0x1b')](0x0,0x0,0x0,0x1),_0x13d01f[_0x1c61('0x1c1')](),this[_0x1c61('0x754')][_0x15f50f]=_0x13d01f['x'],this[_0x1c61('0x754')][0x1+_0x15f50f]=_0x13d01f['y'],this[_0x1c61('0x754')][0x2+_0x15f50f]=_0x13d01f['z'],this[_0x1c61('0x754')][0x3+_0x15f50f]=_0x13d01f['w'],_0x446186[_0x1c61('0x1de')]?(this[_0x1c61('0x74e')][_0x2386b7]=_0x446186[_0x1c61('0x1de')][_0x2386b7],this['scales'][0x1+_0x2386b7]=_0x446186['scale'][0x1+_0x2386b7],this[_0x1c61('0x74e')][0x2+_0x2386b7]=_0x446186['scale'][0x2+_0x2386b7]):(this['scales'][_0x2386b7]=0x1,this['scales'][0x1+_0x2386b7]=0x1,this[_0x1c61('0x74e')][0x2+_0x2386b7]=0x1);}this['offsetAttribute']=new THREE[(_0x1c61('0x755'))](this[_0x1c61('0x74d')],0x3)[_0x1c61('0x756')](!0x0),this['scaleAttribute']=new THREE[(_0x1c61('0x755'))](this[_0x1c61('0x74e')],0x3),this[_0x1c61('0x757')]=new THREE['InstancedBufferAttribute'](this['orientations'],0x4),this[_0x1c61('0xda')]['addAttribute'](_0x1c61('0x2f2'),this[_0x1c61('0x758')]),this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x74e'),this[_0x1c61('0x759')]),this[_0x1c61('0xda')]['addAttribute'](_0x1c61('0x75a'),this[_0x1c61('0x757')]);}},{'key':'setMaterial','value':function(){var _0x559528=[][_0x1c61('0x112')]('\x0a'),_0x192165=(this[_0x1c61('0x75b')]=[_0x1c61('0x75c'),_0x1c61('0x75d'),'attribute\x20vec3\x20offset;',_0x1c61('0x75e'),_0x1c61('0x75f'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;',_0x1c61('0x760'),'float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;',_0x1c61('0x761'),_0x1c61('0x762'),'float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','mat4\x20B;',_0x1c61('0x763'),_0x1c61('0x764'),_0x1c61('0x765'),_0x1c61('0x766'),_0x1c61('0x767'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;',_0x1c61('0x768'),_0x1c61('0x769'),_0x1c61('0x76a'),'B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;',_0x1c61('0x76b'),'B[2][3]\x20=\x200.0;',_0x1c61('0x76c'),_0x1c61('0x76d'),_0x1c61('0x76e'),'B[3][3]\x20=\x201.0;',_0x1c61('0x76f'),'}',_0x1c61('0x770'),_0x1c61('0x771'),'}'][_0x1c61('0x112')]('\x0a')+'\x0a',this['vertexPars_V1']=[_0x1c61('0x75c'),_0x1c61('0x75d'),_0x1c61('0x772'),_0x1c61('0x75e'),_0x1c61('0x75f'),_0x1c61('0x773'),'float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;',_0x1c61('0x774'),_0x1c61('0x761'),_0x1c61('0x762'),_0x1c61('0x775'),'mat4\x20B;',_0x1c61('0x763'),_0x1c61('0x764'),_0x1c61('0x765'),'B[0][3]\x20=\x200.0;',_0x1c61('0x767'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;',_0x1c61('0x768'),_0x1c61('0x769'),_0x1c61('0x76a'),_0x1c61('0x776'),_0x1c61('0x76b'),_0x1c61('0x777'),'B[3][0]\x20=\x20position.x;','B[3][1]\x20=\x20position.y;',_0x1c61('0x76e'),'B[3][3]\x20=\x201.0;',_0x1c61('0x76f'),'}',_0x1c61('0x778'),'float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];',_0x1c61('0x779'),_0x1c61('0x77a'),_0x1c61('0x77b'),_0x1c61('0x77c'),_0x1c61('0x77d'),_0x1c61('0x77e'),_0x1c61('0x77f'),_0x1c61('0x780'),_0x1c61('0x781'),'B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;',_0x1c61('0x782'),_0x1c61('0x783'),_0x1c61('0x784'),_0x1c61('0x785'),_0x1c61('0x786'),_0x1c61('0x787'),_0x1c61('0x788'),_0x1c61('0x76f'),'}','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','mat3\x20B;',_0x1c61('0x789'),_0x1c61('0x78a'),_0x1c61('0x78b'),_0x1c61('0x78c'),_0x1c61('0x78d'),_0x1c61('0x78e'),_0x1c61('0x78f'),_0x1c61('0x790'),'B[2][2]\x20=\x20A[2][2];',_0x1c61('0x76f'),'}',_0x1c61('0x770'),_0x1c61('0x791'),'}'][_0x1c61('0x112')]('\x0a')+'\x0a',this[_0x1c61('0x792')]=['mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);',_0x1c61('0x793')][_0x1c61('0x112')]('\x0a')+'\x0a',this['projectVertex']=['vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);',_0x1c61('0x410')][_0x1c61('0x112')]('\x0a')+'\x0a',this[_0x1c61('0x794')]=['#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)','vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);',_0x1c61('0x11e')][_0x1c61('0x112')]('\x0a')+'\x0a',this[_0x1c61('0x795')]=[_0x1c61('0x796'),'vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;','#ifdef\x20FLIP_SIDED',_0x1c61('0x797'),'#endif',_0x1c61('0x798'),_0x1c61('0x799'),_0x1c61('0x79a'),'transformedTangent\x20=\x20-\x20transformedTangent;','#endif','#endif'][_0x1c61('0x112')]('\x0a')+'\x0a',this['morping']=[_0x1c61('0x79b'),_0x1c61('0x79c'),_0x1c61('0x79d'),_0x1c61('0x79e'),_0x1c61('0x79f'),_0x1c61('0x7a0'),_0x1c61('0x7a1'),_0x1c61('0x7a2'),_0x1c61('0x7a3'),_0x1c61('0x7a4'),'#endif',_0x1c61('0x11e')][_0x1c61('0x112')]('\x0a')+'\x0a',this);this[_0x1c61('0x41')][_0x1c61('0x3c7')]=function(_0x446186){_0x446186['uniforms'][_0x1c61('0x7a5')]={'value':_0x192165[_0x1c61('0x301')][_0x1c61('0x7a6')]},_0x446186[_0x1c61('0x16a')][_0x1c61('0x7a7')]={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x446186[_0x1c61('0x56')]=_0x446186[_0x1c61('0x56')]['replace'](_0x1c61('0x7a8'),_0x1c61('0x7a8')+_0x192165[_0x1c61('0x7a9')])[_0x1c61('0x3c9')]('#include\x20<uv_vertex>','#include\x20<uv_vertex>\x0a'+_0x192165[_0x1c61('0x792')])[_0x1c61('0x3c9')](_0x1c61('0x7aa'),_0x192165[_0x1c61('0x795')])[_0x1c61('0x3c9')](_0x1c61('0x5ff'),_0x192165[_0x1c61('0x7ab')])[_0x1c61('0x3c9')]('#include\x20<worldpos_vertex>',_0x192165[_0x1c61('0x794')]),_0x446186[_0x1c61('0x57')]=_0x559528+'\x0a'+_0x446186[_0x1c61('0x57')],this[_0x1c61('0x16a')]=_0x446186[_0x1c61('0x16a')];};}},{'key':_0x1c61('0x746'),'value':function(){this[_0x1c61('0x749')]=new THREE[(_0x1c61('0x7ac'))]({'depthPacking':THREE[_0x1c61('0x7ad')],'skinning':this[_0x1c61('0x743')],'morphTargets':this[_0x1c61('0x744')]});var _0x559528=this;this[_0x1c61('0x749')]['onBeforeCompile']=function(_0x446186){_0x446186['uniforms']['cmtx']={'value':_0x559528[_0x1c61('0x741')][_0x1c61('0x7a6')]},_0x446186[_0x1c61('0x56')]=_0x446186['vertexShader']['replace'](_0x1c61('0x7a8'),_0x1c61('0x7a8')+_0x559528[_0x1c61('0x7a9')])[_0x1c61('0x3c9')]('#include\x20<uv_vertex>','#include\x20<uv_vertex>\x0a'+_0x559528[_0x1c61('0x792')])[_0x1c61('0x3c9')](_0x1c61('0x5ff'),_0x559528[_0x1c61('0x7ab')]);};}},{'key':_0x1c61('0x7ae'),'value':function(_0x446186){this[_0x1c61('0x1f0')][_0x1c61('0x7af')][0x0]=_0x446186;}},{'key':'setPosition','value':function(_0x446186){this[_0x1c61('0x758')]['needsUpdate']=!0x0;}},{'key':_0x1c61('0x7b0'),'value':function(_0x446186){this[_0x1c61('0x757')]['needsUpdate']=!0x0;}},{'key':_0x1c61('0x7b1'),'value':function(_0x446186){this[_0x1c61('0x759')]['needsUpdate']=!0x0;}},{'key':'clear','value':function(){void 0x0!==this[_0x1c61('0x1f0')]&&this['remove'](this['mesh']),void 0x0!==this['geometry']&&this['geometry'][_0x1c61('0xd8')]();}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x312')][_0x1c61('0xdc')](this[_0x1c61('0x1f0')]),this['mesh'][_0x1c61('0xd8')](),this[_0x1c61('0xda')][_0x1c61('0xd8')](),this[_0x1c61('0x41')][_0x1c61('0xd8')]();}}]),_0x559528[_0x1c61('0x8')]=_0x47eece;},function(_0x74577a,_0x204c4e,_0x5b069f){'use strict';Object[_0x1c61('0x2')](_0x204c4e,_0x1c61('0x5'),{'value':!0x0});var _0x33322f=_0x5c33a8(_0x5b069f(0x4)),_0x35ff46=_0x5c33a8(_0x5b069f(0x0)),_0x3987eb=_0x5c33a8(_0x5b069f(0x1)),_0x489a62=_0x5c33a8(_0x5b069f(0xf1)),_0x5e5b70=_0x5c33a8(_0x5b069f(0x46)),_0x1855ce=_0x5c33a8(_0x5b069f(0xf3));function _0x5c33a8(_0x74577a){return _0x74577a&&_0x74577a['__esModule']?_0x74577a:{'default':_0x74577a};}function _0x46af16(_0x74577a){var _0x204c4e=_0x74577a[_0x1c61('0xd9')],_0x5b069f=_0x74577a[_0x1c61('0x218')],_0x5b069f=void 0x0===_0x5b069f?new THREE[(_0x1c61('0x1b8'))](0x0,0x3,0x0):_0x5b069f,_0x3987eb=_0x74577a['target'],_0x3987eb=void 0x0===_0x3987eb?new THREE[(_0x1c61('0x1b8'))](0x3,0x0,0x0):_0x3987eb,_0x489a62=_0x74577a[_0x1c61('0x7b2')],_0x1855ce=_0x74577a[_0x1c61('0x37f')],_0x1855ce=void 0x0===_0x1855ce?0x14:_0x1855ce,_0x5c33a8=_0x74577a[_0x1c61('0x7b3')],_0x5c33a8=void 0x0===_0x5c33a8?0x1e:_0x5c33a8,_0x5e5b70=_0x74577a[_0x1c61('0x7b4')],_0x5e5b70=void 0x0===_0x5e5b70?0x10/0x9:_0x5e5b70,_0x8e78f=_0x74577a[_0x1c61('0x7b5')],_0x8e78f=void 0x0!==_0x8e78f&&_0x8e78f,_0x74577a=_0x74577a[_0x1c61('0x7b6')],_0x74577a=void 0x0!==_0x74577a&&_0x74577a;(0x0,_0x35ff46[_0x1c61('0x8')])(this,_0x46af16),this[_0x1c61('0xd9')]=_0x204c4e,this['material']=null,this[_0x1c61('0x7b7')]=null,this[_0x1c61('0x7b8')]=null,this[_0x1c61('0x7b9')]=null,this[_0x1c61('0x7ba')]=[],this['position']=_0x5b069f,this[_0x1c61('0x91')]=_0x3987eb,this[_0x1c61('0x7b2')]=_0x489a62,this[_0x1c61('0x7bb')]=_0x1855ce,this[_0x1c61('0x7bc')]=_0x5c33a8,this[_0x1c61('0x7b4')]=_0x5e5b70,this[_0x1c61('0x7b5')]=_0x8e78f,this[_0x1c61('0x7b6')]=_0x74577a,this[_0x1c61('0x36c')]=null;}(0x0,_0x3987eb[_0x1c61('0x8')])(_0x46af16,[{'key':'init','value':function(_0x204c4e){if(this['receiveLayer']&&this['receiveLayer'][_0x1c61('0x4fc')]){var _0x5b069f=this,_0x74577a=new THREE[(_0x1c61('0x7bd'))](_0x204c4e);if(this['alphaMap']=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')](esmap[_0x1c61('0x51')][_0x1c61('0x52')]+_0x1c61('0x7be')),this[_0x1c61('0x7bf')](_0x74577a),this['receiveLayer'][_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x74577a){_0x1c61('0x30f')!=_0x74577a[_0x1c61('0x90')]||_0x74577a[_0x1c61('0x3f')]&&0x7==_0x74577a[_0x1c61('0x3f')][_0x1c61('0x7c0')]||_0x5b069f[_0x1c61('0x7ba')]['push'](_0x74577a);}),0x0<this[_0x1c61('0x7ba')][_0x1c61('0xf')]){var _0x3987eb=!0x0,_0x204c4e=!0x1,_0x489a62=void 0x0;try{for(var _0x1855ce,_0x5c33a8=(0x0,_0x33322f[_0x1c61('0x8')])(this[_0x1c61('0x7ba')]);!(_0x3987eb=(_0x1855ce=_0x5c33a8[_0x1c61('0x77')]())['done']);_0x3987eb=!0x0){var _0x5e5b70=_0x1855ce[_0x1c61('0x1c')];if(0x0<_0x5e5b70[_0x1c61('0x41')][_0x1c61('0xf')]){var _0x28d563=[],_0x35ff46=!0x0,_0x46af16=!0x1,_0x2878d5=void 0x0;try{for(var _0x4b5286,_0x2975ce=(0x0,_0x33322f[_0x1c61('0x8')])(_0x5e5b70[_0x1c61('0x41')]);!(_0x35ff46=(_0x4b5286=_0x2975ce['next']())[_0x1c61('0x89')]);_0x35ff46=!0x0){var _0x1d309e,_0x4f9e5a=_0x4b5286[_0x1c61('0x1c')];_0x4f9e5a instanceof THREE[_0x1c61('0x7c1')]&&(_0x1d309e=this[_0x1c61('0x7c2')](_0x74577a,_0x5e5b70,_0x4f9e5a[_0x1c61('0x1b1')](),this[_0x1c61('0x36c')]),_0x28d563[_0x1c61('0x6f')](_0x1d309e));}}catch(_0x1bcf3f){_0x46af16=!0x0,_0x2878d5=_0x1bcf3f;}finally{try{!_0x35ff46&&_0x2975ce[_0x1c61('0x99')]&&_0x2975ce[_0x1c61('0x99')]();}finally{if(_0x46af16)throw _0x2878d5;}}_0x5e5b70[_0x1c61('0x7c3')]=_0x5e5b70[_0x1c61('0x41')],_0x5e5b70[_0x1c61('0x41')]=_0x28d563;}else{var _0x1a00c1=this[_0x1c61('0x7c2')](_0x74577a,_0x5e5b70,_0x5e5b70[_0x1c61('0x41')][_0x1c61('0x1b1')](),this[_0x1c61('0x36c')]);_0x5e5b70[_0x1c61('0x7c3')]=_0x5e5b70[_0x1c61('0x41')],_0x5e5b70[_0x1c61('0x41')]=_0x1a00c1;}}}catch(_0x1f05b6){_0x204c4e=!0x0,_0x489a62=_0x1f05b6;}finally{try{!_0x3987eb&&_0x5c33a8[_0x1c61('0x99')]&&_0x5c33a8[_0x1c61('0x99')]();}finally{if(_0x204c4e)throw _0x489a62;}}}}}},{'key':_0x1c61('0xd8'),'value':function(){if(0x0<this[_0x1c61('0x7ba')][_0x1c61('0xf')]){for(var _0x74577a=0x0,_0x204c4e=this[_0x1c61('0x7ba')][_0x1c61('0xf')];_0x74577a<_0x204c4e;_0x74577a++){if(this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')]=this['containMeshList'][_0x74577a]['material'],this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x41')]=this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c3')],0x0<this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')][_0x1c61('0xf')]){var _0x5b069f=!0x0,_0x3987eb=!0x1,_0x489a62=void 0x0;try{for(var _0x1855ce,_0x5c33a8=(0x0,_0x33322f['default'])(this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')]);!(_0x5b069f=(_0x1855ce=_0x5c33a8['next']())['done']);_0x5b069f=!0x0)_0x1855ce[_0x1c61('0x1c')][_0x1c61('0xd8')]();}catch(_0x2e363a){_0x3987eb=!0x0,_0x489a62=_0x2e363a;}finally{try{!_0x5b069f&&_0x5c33a8[_0x1c61('0x99')]&&_0x5c33a8[_0x1c61('0x99')]();}finally{if(_0x3987eb)throw _0x489a62;}}this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')][_0x1c61('0xf')]=0x0;}else this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')][_0x1c61('0xd8')]();this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c3')]=null,this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c4')]=null,this[_0x1c61('0x7ba')][_0x74577a][_0x1c61('0x7c5')]=!0x1,this['containMeshList'][_0x74577a][_0x1c61('0x7c6')]=null;}this[_0x1c61('0x7ba')][_0x1c61('0xf')]=0x0,_0x5e5b70[_0x1c61('0x8')]['disposeAll'](this[_0x1c61('0x7b9')][_0x1c61('0x312')]),this[_0x1c61('0x7b9')]=null,_0x5e5b70[_0x1c61('0x8')][_0x1c61('0x677')](this[_0x1c61('0x7b8')]),this[_0x1c61('0x7b8')]=null;}}},{'key':_0x1c61('0x7c7'),'value':function(_0x74577a){_0x74577a?(this[_0x1c61('0xd9')]['controls'][_0x1c61('0x2df')]=!0x1,this[_0x1c61('0xd9')]['controls'][_0x1c61('0x2e0')]=!0x1,_0x74577a=new THREE[(_0x1c61('0x1b8'))]()[_0x1c61('0x317')](map[_0x1c61('0x2bc')]['target'],map[_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')])[_0x1c61('0x1c1')](),this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x91')][_0x1c61('0x1b')](this['map'][_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')]['x']+_0x74577a['x'],this['map'][_0x1c61('0x2bc')]['object'][_0x1c61('0x218')]['y']+_0x74577a['y'],this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['object']['position']['z']+_0x74577a['z'])):(this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['enablePan']=!0x0,this[_0x1c61('0xd9')]['controls'][_0x1c61('0x2e0')]=!0x0);}},{'key':'showVisualField','value':function(_0x74577a){if(0x0<this[_0x1c61('0x7ba')][_0x1c61('0xf')])for(var _0x204c4e=0x0,_0x5b069f=this[_0x1c61('0x7ba')]['length'];_0x204c4e<_0x5b069f;_0x204c4e++)this[_0x1c61('0x7ba')][_0x204c4e]['videoProject'][_0x1c61('0x16a')][_0x1c61('0x7c8')][_0x1c61('0x1c')]['setStyle'](_0x74577a);this[_0x1c61('0x7b8')]&&this['projectPlane'][_0x1c61('0x41')][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x74577a);}},{'key':_0x1c61('0x7c9'),'value':function(_0x74577a){for(var _0x204c4e=_0x74577a['minX'],_0x5b069f=_0x74577a[_0x1c61('0x7ca')],_0x3987eb=_0x74577a['maxX'],_0x489a62=_0x74577a['maxY'],_0x1855ce=_0x74577a[_0x1c61('0x7cb')],_0x5c33a8=(this[_0x1c61('0xd9')]['rayPointer']&&(this['map'][_0x1c61('0x7cc')]['ignoredUuids']={}),Math[_0x1c61('0x1bb')](_0x3987eb-_0x204c4e)/_0x1855ce),_0x5e5b70=Math[_0x1c61('0x1bb')](_0x489a62-_0x5b069f)/_0x1855ce,_0x3fd6e9=0x0;_0x3fd6e9<_0x1855ce;_0x3fd6e9++)for(var _0x35ff46=0x0;_0x35ff46<_0x1855ce;_0x35ff46++)this[_0x1c61('0x7cd')]({'x':_0x204c4e+_0x3fd6e9*_0x5c33a8,'y':_0x5b069f+_0x35ff46*_0x5e5b70});}},{'key':_0x1c61('0x7cd'),'value':function(_0x74577a){_0x74577a=this['map'][_0x1c61('0x7ce')]({'coord':{'x':_0x74577a['x'],'y':_0x74577a['y']},'debug':!0x0,'mode':_0x1c61('0x1f0'),'depth':map[_0x1c61('0x4fd')](map[_0x1c61('0x7cf')])+0x5});_0x74577a&&(this[_0x1c61('0xd9')]['rayPointer'][_0x1c61('0x7d0')][_0x74577a[_0x1c61('0x6')]['uuid']]=!0x0,this[_0x1c61('0x7ba')][_0x1c61('0x6f')](_0x74577a[_0x1c61('0x6')]));}},{'key':_0x1c61('0x7bf'),'value':function(_0x74577a){this['projector']=new THREE[(_0x1c61('0x6db'))](this[_0x1c61('0x7bc')],this[_0x1c61('0x7b4')],0.01,this[_0x1c61('0x7bb')]),this[_0x1c61('0x7b7')]['position'][_0x1c61('0x1c2')](this['position']),this['projector'][_0x1c61('0x3f6')](this[_0x1c61('0x91')]),this[_0x1c61('0x7b7')][_0x1c61('0x6d3')](),this[_0x1c61('0x7b7')]['updateMatrixWorld'](),this['projector'][_0x1c61('0x7d1')](),this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x7d2')]=0x0,this['createProjectorHelper']();}},{'key':'createProjectorHelper','value':function(){var _0x74577a=this;this[_0x1c61('0x7b9')]=new _0x1855ce['default'](this[_0x1c61('0x7b7')]),this[_0x1c61('0x7b9')][_0x1c61('0x312')][_0x1c61('0x32c')]=this[_0x1c61('0x7b5')],this[_0x1c61('0x7b6')]&&this[_0x1c61('0x7d3')](this[_0x1c61('0x7b9')],texture,function(){_0x74577a['projectPlane'][_0x1c61('0x41')][_0x1c61('0x36c')]=_0x74577a['alphaMap'];}),this[_0x1c61('0x7b9')][_0x1c61('0x2db')](),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x7b9')][_0x1c61('0x312')]);}},{'key':_0x1c61('0x7d3'),'value':function(_0x74577a,_0x204c4e,_0x5b069f){var _0x3987eb,_0x489a62=this,_0x1855ce=['f1','f2','f3','f4'],_0x5c33a8=[],_0x5e5b70=_0x74577a[_0x1c61('0xda')][_0x1c61('0x405')](_0x1c61('0x218'));for(_0x3987eb in _0x74577a['pointMap']){var _0x33eeb5=!0x0,_0x35ff46=!0x1,_0x46af16=void 0x0;try{for(var _0x1abece,_0x5cc123=(0x0,_0x33322f['default'])(_0x1855ce);!(_0x33eeb5=(_0x1abece=_0x5cc123['next']())[_0x1c61('0x89')]);_0x33eeb5=!0x0){var _0x2d3d3c=_0x1abece[_0x1c61('0x1c')];if(_0x2d3d3c===_0x3987eb){for(var _0x10bcba=new THREE[(_0x1c61('0x1b8'))](),_0x1a8bd1=0x0;_0x1a8bd1<0x3;_0x1a8bd1++)0x0==_0x1a8bd1&&(_0x10bcba['x']=_0x5e5b70[_0x1c61('0x7d4')](_0x74577a[_0x1c61('0x7d5')][_0x2d3d3c][_0x1a8bd1])),0x1==_0x1a8bd1&&(_0x10bcba['y']=_0x5e5b70['getY'](_0x74577a['pointMap'][_0x2d3d3c][_0x1a8bd1])),0x2==_0x1a8bd1&&(_0x10bcba['z']=_0x5e5b70[_0x1c61('0x7d6')](_0x74577a[_0x1c61('0x7d5')][_0x2d3d3c][_0x1a8bd1]));_0x5c33a8[_0x1c61('0x6f')](_0x10bcba);}}}catch(_0x2e5617){_0x35ff46=!0x0,_0x46af16=_0x2e5617;}finally{try{!_0x33eeb5&&_0x5cc123['return']&&_0x5cc123[_0x1c61('0x99')]();}finally{if(_0x35ff46)throw _0x46af16;}}}var _0xf49575=new THREE[(_0x1c61('0x1ef'))]()[_0x1c61('0x7d7')](_0x5c33a8),_0x4ba41c=(_0xf49575[_0x1c61('0x31c')]('uv',new THREE[(_0x1c61('0x10d'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0xf49575[_0x1c61('0x383')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'transparent':!0x0})),_0xf49575=new THREE[(_0x1c61('0x30f'))](_0xf49575,_0x4ba41c);_0x4ba41c['onBeforeCompile']=function(_0x74577a){_0x74577a['uniforms']['videoTex']={'value':_0x204c4e},_0x74577a[_0x1c61('0x16a')][_0x1c61('0x7d8')]={'value':_0x489a62[_0x1c61('0x36c')]},_0x74577a[_0x1c61('0x56')]=_0x74577a['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x74577a['vertexShader']=_0x74577a[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x7d9')),_0x74577a[_0x1c61('0x57')]=_0x74577a['fragmentShader']['replace'](_0x1c61('0x3cc'),_0x1c61('0x7da')),_0x74577a['fragmentShader']=_0x74577a[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5b069f&&_0x5b069f();},_0xf49575['renderOrder']=0xc8,_0x74577a[_0x1c61('0x1c4')](_0xf49575),this[_0x1c61('0x7b8')]=_0xf49575;}},{'key':'updateCameraTarget','value':function(_0x74577a){if(this[_0x1c61('0x7b7')]['lookAt'](_0x74577a),0x0<this['containMeshList'][_0x1c61('0xf')])for(var _0x204c4e=0x0,_0x5b069f=this['containMeshList'][_0x1c61('0xf')];_0x204c4e<_0x5b069f;_0x204c4e++)this[_0x1c61('0x7ba')][_0x204c4e][_0x1c61('0x7c6')][_0x1c61('0x7db')]();this[_0x1c61('0x7b9')][_0x1c61('0x2db')]();}},{'key':'addToPicker','value':function(_0x74577a,_0x204c4e){_0x1c61('0x30f')===_0x74577a['type']&&(_0x74577a[_0x1c61('0x3f')]={'name':_0x204c4e},this[_0x1c61('0xd9')][_0x1c61('0x57f')][_0x1c61('0x7dc')]['push'](_0x74577a)),'Object3D'===_0x74577a['type']&&(_0x74577a[_0x1c61('0x3f')]={'name':_0x204c4e},_0x74577a[_0x1c61('0x7b')]=_0x1c61('0x7dd'),this[_0x1c61('0xd9')]['mapPicker']['objects_'][_0x1c61('0x6f')](_0x74577a));}},{'key':'removeToPicker','value':function(_0x74577a){this[_0x1c61('0xd9')][_0x1c61('0x57f')][_0x1c61('0x7dc')][_0x1c61('0x6f')](_0x74577a);}},{'key':_0x1c61('0x7de'),'value':function(_0x74577a,_0x204c4e){texture[_0x1c61('0x45b')]=THREE[_0x1c61('0x6c8')],_0x74577a[_0x1c61('0x108')]=!0x0;_0x74577a=new _0x489a62[(_0x1c61('0x8'))]({'camera':this[_0x1c61('0x7b7')],'texture':_0x74577a,'color':_0x1c61('0x32d')});(_0x204c4e[_0x1c61('0x41')]=_0x74577a)[_0x1c61('0x7df')](_0x204c4e);}},{'key':_0x1c61('0x7c2'),'value':function(_0x74577a,_0x204c4e,_0x5b069f,_0x3987eb){_0x74577a[_0x1c61('0x108')]=!0x0,_0x5b069f[_0x1c61('0x1ee')]=!0x0;_0x74577a=new _0x489a62[(_0x1c61('0x8'))]({'material':_0x5b069f,'camera':this[_0x1c61('0x7b7')],'texture':_0x74577a,'alphaMap':_0x3987eb,'color':_0x1c61('0x32d'),'isShowFarPlane':this[_0x1c61('0x7b6')]});return _0x204c4e[_0x1c61('0x7c5')]||(_0x74577a[_0x1c61('0x7df')](_0x204c4e),_0x204c4e[_0x1c61('0x7c6')]=_0x74577a,_0x204c4e[_0x1c61('0x7c5')]=!0x0),_0x5b069f;}},{'key':_0x1c61('0x7e0'),'value':function(_0x74577a){var _0x204c4e=this,_0x74577a=new THREE['VideoTexture'](_0x74577a);_0x74577a[_0x1c61('0x108')]=!0x0,this[_0x1c61('0x41')]=new _0x489a62[(_0x1c61('0x8'))]({'camera':this['projector'],'texture':_0x74577a,'color':'#aaa'}),this[_0x1c61('0xd9')]['mapView']['scene']['traverse'](function(_0x74577a){'Mesh'===_0x74577a[_0x1c61('0x90')]&&_0x74577a[_0x1c61('0x7e1')]&&_0x1c61('0x6c')===_0x74577a['type_']&&_0x74577a[_0x1c61('0x3f')]&&0x1==_0x74577a[_0x1c61('0x3f')][_0x1c61('0x6c')]&&_0x74577a[_0x1c61('0x41')]&&(_0x74577a['material']=_0x204c4e[_0x1c61('0x41')],_0x204c4e[_0x1c61('0x41')][_0x1c61('0x7df')](_0x74577a));});}}]),_0x204c4e[_0x1c61('0x8')]=_0x46af16;},function(_0x34d323,_0x500865,_0x425a76){'use strict';Object['defineProperty'](_0x500865,'__esModule',{'value':!0x0});var _0x29238f=_0x367ab1(_0x425a76(0xf)),_0x55f2de=_0x367ab1(_0x425a76(0xb8)),_0x877f2e=_0x367ab1(_0x425a76(0xf2)),_0x39048c=_0x367ab1(_0x425a76(0x0)),_0x425a76=_0x367ab1(_0x425a76(0x1));function _0x367ab1(_0x34d323){return _0x34d323&&_0x34d323[_0x1c61('0x5')]?_0x34d323:{'default':_0x34d323};}function _0xe02a54(_0x34d323,_0x500865,_0x425a76,_0x367ab1){if(!_0x34d323['image'])return[0x1,0x1];if(0x0===_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e3')]&&0x0===_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e4')])return[0x1,0x1];var _0x34d323=(_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e5')]||_0x34d323['image']['videoWidth'])/(_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e6')]||_0x34d323['image'][_0x1c61('0x7e4')]),_0x500865=_0xd75142(_0x500865),_0x1ca012=0x1/_0x500865*0x1,_0x29238f=void 0x0,_0x2aa31f=void 0x0;return(_0x367ab1?_0x500865<_0x34d323:_0x34d323<_0x500865)?(_0x29238f=0x1/(_0x1ca012*_0x34d323*_0x425a76),_0x2aa31f=0x1/_0x425a76):(_0x2aa31f=0x1/(0x1/_0x34d323*0x1/_0x1ca012*_0x425a76),_0x29238f=0x1/_0x425a76),[_0x29238f,_0x2aa31f];}var _0xd75142=function(_0x34d323){switch(_0x34d323[_0x1c61('0x90')]){case _0x1c61('0x6db'):return _0x34d323['aspect'];case _0x1c61('0x6cf'):return Math[_0x1c61('0x1bb')](_0x34d323[_0x1c61('0x7e7')]-_0x34d323[_0x1c61('0x33f')])/Math[_0x1c61('0x1bb')](_0x34d323[_0x1c61('0x5c0')]-_0x34d323[_0x1c61('0x6d2')]);default:throw new Error(_0x34d323[_0x1c61('0x90')]+'\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial');}},_0x425a76=((0x0,_0x425a76[_0x1c61('0x8')])(_0x437220,[{'key':'createMaterial2','value':function(_0x500865){var _0x34d323,_0x425a76,_0x367ab1,_0xe0cb30=this;_0x500865['onBeforeCompile']=function(_0x34d323){_0x500865[_0x1c61('0x7c5')]=!0x0,(0x0,_0x29238f['default'])(_0xe0cb30[_0x1c61('0x16a')],_0x34d323['uniforms']),_0x34d323[_0x1c61('0x16a')]=_0xe0cb30[_0x1c61('0x16a')],_0x34d323[_0x1c61('0x56')]=_0x34d323[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),_0x1c61('0x7e8')),_0x34d323['vertexShader']=_0x34d323['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x7e9')),_0x34d323[_0x1c61('0x57')]=_0x34d323[_0x1c61('0x57')]['replace'](_0x1c61('0x3cc'),_0x1c61('0x7ea')+_0xe0cb30[_0x1c61('0x7eb')]+_0x1c61('0x7ec')),_0x34d323[_0x1c61('0x57')]=_0x34d323[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x7ed'));},window[_0x1c61('0x2aa')](_0x1c61('0x327'),function(){_0xe0cb30['uniforms'][_0x1c61('0x7ee')][_0x1c61('0x1c')][_0x1c61('0x1c2')](_0xe0cb30[_0x1c61('0x301')][_0x1c61('0x69f')]),_0xe0cb30[_0x1c61('0x7ef')]();}),_0x34d323=_0xe0cb30[_0x1c61('0x1c9')],_0x425a76=function(){_0xe0cb30[_0x1c61('0x16a')][_0x1c61('0x7f0')]['value']=!0x0,_0xe0cb30[_0x1c61('0x7ef')]();},_0x34d323[_0x1c61('0x7e2')]&&0x0!==_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e3')]&&0x0!==_0x34d323[_0x1c61('0x7e2')]['videoHeight']||(_0x367ab1=setInterval(function(){if(_0x34d323[_0x1c61('0x7e2')]&&0x0!==_0x34d323['image'][_0x1c61('0x7e3')]&&0x0!==_0x34d323[_0x1c61('0x7e2')][_0x1c61('0x7e4')])return clearInterval(_0x367ab1),_0x425a76();},0x10));}},{'key':_0x1c61('0x7ef'),'value':function(){var _0x34d323=_0xe02a54(this['texture'],this[_0x1c61('0x301')],this[_0x1c61('0x7f1')],this[_0x1c61('0x7f2')]),_0x34d323=(0x0,_0x55f2de[_0x1c61('0x8')])(_0x34d323,0x2),_0x500865=_0x34d323[0x0],_0x34d323=_0x34d323[0x1];this[_0x1c61('0x16a')][_0x1c61('0x7f3')][_0x1c61('0x1c')]=_0x500865,this[_0x1c61('0x16a')]['heightScaled'][_0x1c61('0x1c')]=_0x34d323;}},{'key':_0x1c61('0x7db'),'value':function(){this[_0x1c61('0x301')][_0x1c61('0x6d3')](),this[_0x1c61('0x301')]['updateMatrixWorld'](),this[_0x1c61('0x301')]['updateWorldMatrix']();var _0x34d323=this['camera'][_0x1c61('0x7a6')],_0x500865=this[_0x1c61('0x301')][_0x1c61('0x69f')],_0x425a76=this[_0x1c61('0x301')][_0x1c61('0x371')];this[_0x1c61('0x16a')][_0x1c61('0x7f4')][_0x1c61('0x1c')]['copy'](_0x34d323),this[_0x1c61('0x16a')][_0x1c61('0x7ee')][_0x1c61('0x1c')][_0x1c61('0x1c2')](_0x500865),this[_0x1c61('0x16a')][_0x1c61('0x7f5')][_0x1c61('0x1c')]['copy'](this[_0x1c61('0x301')][_0x1c61('0x218')]),this[_0x1c61('0x16a')][_0x1c61('0x7f6')][_0x1c61('0x1c')][_0x1c61('0x1b')](0x0,0x0,0x1)[_0x1c61('0x377')](_0x425a76),this[_0x1c61('0x16a')]['isTextureProjected'][_0x1c61('0x1c')]=!0x0;}},{'key':_0x1c61('0x7df'),'value':function(_0x34d323){_0x34d323[_0x1c61('0x7d1')](!0x0,!0x1),this['uniforms']['savedModelMatrix'][_0x1c61('0x1c')][_0x1c61('0x1c2')](_0x34d323[_0x1c61('0x371')]),this[_0x1c61('0x16a')][_0x1c61('0x7f7')][_0x1c61('0x1c')]=0x0,this[_0x1c61('0x7db')]();}}]),_0x437220);function _0x437220(_0x34d323){var _0x500865=_0x34d323['camera'],_0x425a76=_0x34d323[_0x1c61('0x1c9')],_0x367ab1=_0x34d323['alphaMap'],_0x2ff176=_0x34d323[_0x1c61('0x7f1')],_0x2ff176=void 0x0===_0x2ff176?0x1:_0x2ff176,_0x29238f=_0x34d323[_0x1c61('0x7f8')],_0x29238f=void 0x0===_0x29238f?new THREE[(_0x1c61('0x1cf'))]():_0x29238f,_0x3efa81=_0x34d323['cover'],_0x3efa81=void 0x0!==_0x3efa81&&_0x3efa81,_0xd75142=_0x34d323[_0x1c61('0x41')],_0x123868=_0x34d323['isShowHepler'],_0x123868=void 0x0===_0x123868||_0x123868,_0xb3c3e=_0x34d323[_0x1c61('0x7b6')],_0xb3c3e=void 0x0===_0xb3c3e||_0xb3c3e,_0x34d323=((0x0,_0x877f2e[_0x1c61('0x8')])(_0x34d323,[_0x1c61('0x301'),'texture',_0x1c61('0x36c'),_0x1c61('0x7f1'),_0x1c61('0x7f8'),'cover',_0x1c61('0x41'),'isShowHepler','isShowFarPlane']),(0x0,_0x39048c[_0x1c61('0x8')])(this,_0x437220),this[_0x1c61('0x41')]=_0xd75142,this[_0x1c61('0x301')]=_0x500865,this[_0x1c61('0x1c9')]=_0x425a76,this[_0x1c61('0x7f1')]=_0x2ff176,this[_0x1c61('0x7f2')]=_0x3efa81,this[_0x1c61('0x7f9')]=_0x123868,_0xe02a54(_0x425a76,_0x500865,_0x2ff176,_0x3efa81)),_0x123868=(0x0,_0x55f2de[_0x1c61('0x8')])(_0x34d323,0x2),_0x2ff176=_0x123868[0x0],_0x3efa81=_0x123868[0x1];this[_0x1c61('0x7eb')]='\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+(_0x34d323=function(_0x34d323){switch(_0x34d323){case THREE['LinearEncoding']:return[_0x1c61('0x3f9'),_0x1c61('0x7fa')];case THREE[_0x1c61('0x6c8')]:return[_0x1c61('0x7fb'),_0x1c61('0x7fa')];case THREE[_0x1c61('0x6ad')]:return[_0x1c61('0x6e9'),_0x1c61('0x7fa')];case THREE[_0x1c61('0x7fc')]:return['RGBM',_0x1c61('0x7fd')];case THREE[_0x1c61('0x6ca')]:return[_0x1c61('0x7fe'),_0x1c61('0x7ff')];case THREE[_0x1c61('0x800')]:return[_0x1c61('0x801'),_0x1c61('0x802')];case THREE['GammaEncoding']:return['Gamma',_0x1c61('0x803')];case THREE[_0x1c61('0x804')]:return['LogLuv',_0x1c61('0x7fa')];default:return['Linear',_0x1c61('0x7fa')];}}(_0x425a76[_0x1c61('0x45b')]))[0x0]+_0x1c61('0x805')+_0x34d323[0x1]+';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',this[_0x1c61('0x16a')]={'projectedTexture':{'value':_0x425a76},'textureMask':{'value':_0x367ab1},'isTextureLoaded':{'value':Boolean(_0x425a76['image'])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE[(_0x1c61('0x31e'))]()},'projectionMatrixCamera':{'value':new THREE[(_0x1c61('0x31e'))]()},'projPosition':{'value':new THREE[(_0x1c61('0x1b8'))]()},'projDirection':{'value':new THREE[(_0x1c61('0x1b8'))](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE['Matrix4']()},'widthScaled':{'value':_0x2ff176},'heightScaled':{'value':_0x3efa81},'textureOffset':{'value':_0x29238f},'cameraFarDistance':{'value':_0x500865[_0x1c61('0x37f')]},'visualFieldColor':{'value':new THREE[(_0x1c61('0x1ba'))](0xffffff)},'isCullByCamera':{'value':_0xb3c3e}},this[_0x1c61('0x806')](_0xd75142);}_0x500865['default']=_0x425a76;},function(_0x40c806,_0x54bcda,_0xbae859){'use strict';_0x54bcda[_0x1c61('0x5')]=!0x0,_0x54bcda[_0x1c61('0x8')]=function(_0x40c806,_0x54bcda){var _0xbae859,_0x59d358={};for(_0xbae859 in _0x40c806)0x0<=_0x54bcda['indexOf'](_0xbae859)||Object['prototype']['hasOwnProperty'][_0x1c61('0x0')](_0x40c806,_0xbae859)&&(_0x59d358[_0xbae859]=_0x40c806[_0xbae859]);return _0x59d358;};},function(_0x67c48d,_0x37ddcd,_0x178d82){'use strict';Object[_0x1c61('0x2')](_0x37ddcd,'__esModule',{'value':!0x0});var _0x2b2c88=_0x4984e7(_0x178d82(0x0));function _0x4984e7(_0x67c48d){return _0x67c48d&&_0x67c48d[_0x1c61('0x5')]?_0x67c48d:{'default':_0x67c48d};}function _0x13ff50(_0x67c48d){(0x0,_0x2b2c88['default'])(this,_0x13ff50),this[_0x1c61('0x312')]=new THREE[(_0x1c61('0x331'))](),this[_0x1c61('0x807')]=null,this[_0x1c61('0x301')]=_0x67c48d,this[_0x1c61('0x7d5')]=null,this['geometry']=null,this[_0x1c61('0x41')]=null,this['vector']=new THREE[(_0x1c61('0x1b8'))](),this[_0x1c61('0x808')](),this[_0x1c61('0x2db')]();}(0x0,_0x4984e7(_0x178d82(0x1))[_0x1c61('0x8')])(_0x13ff50,[{'key':_0x1c61('0x808'),'value':function(){this[_0x1c61('0xda')]=new THREE['BufferGeometry'](),this[_0x1c61('0x41')]=new THREE['LineBasicMaterial']({'color':0xffffff,'vertexColors':THREE[_0x1c61('0x809')]});var _0x178d82=[],_0x2b2c88=[],_0x4984e7={},_0x67c48d=new THREE['Color'](0xffaa00),_0x37ddcd=(new THREE[(_0x1c61('0x1ba'))](0xff0000),new THREE[(_0x1c61('0x1ba'))](0xaaff)),_0x13ff50=new THREE[(_0x1c61('0x1ba'))](0xffffff),_0x599868=new THREE[(_0x1c61('0x1ba'))](0x333333);function _0x5d1987(_0x67c48d,_0x37ddcd){_0x178d82[_0x1c61('0x6f')](0x0,0x0,0x0),_0x2b2c88[_0x1c61('0x6f')](_0x37ddcd['r'],_0x37ddcd['g'],_0x37ddcd['b']),void 0x0===_0x4984e7[_0x67c48d]&&(_0x4984e7[_0x67c48d]=[]),_0x4984e7[_0x67c48d][_0x1c61('0x6f')](_0x178d82[_0x1c61('0xf')]/0x3-0x1);}function _0x1d4a6e(_0x67c48d,_0x37ddcd,_0x178d82){_0x5d1987(_0x67c48d,_0x178d82),_0x5d1987(_0x37ddcd,_0x178d82);}_0x1d4a6e('n1','n2',_0x67c48d),_0x1d4a6e('n2','n4',_0x67c48d),_0x1d4a6e('n4','n3',_0x67c48d),_0x1d4a6e('n3','n1',_0x67c48d),_0x1d4a6e('f1','f2',_0x67c48d),_0x1d4a6e('f2','f4',_0x67c48d),_0x1d4a6e('f4','f3',_0x67c48d),_0x1d4a6e('f3','f1',_0x67c48d),_0x1d4a6e('n1','f1',_0x67c48d),_0x1d4a6e('n2','f2',_0x67c48d),_0x1d4a6e('n3','f3',_0x67c48d),_0x1d4a6e('n4','f4',_0x67c48d),_0x1d4a6e('u1','u2',_0x37ddcd),_0x1d4a6e('u2','u3',_0x37ddcd),_0x1d4a6e('u3','u1',_0x37ddcd),_0x1d4a6e('c','t',_0x13ff50),_0x1d4a6e(_0x1c61('0x80a'),_0x1c61('0x80b'),_0x599868),_0x1d4a6e('cn3',_0x1c61('0x80c'),_0x599868),_0x1d4a6e(_0x1c61('0x80d'),'cf2',_0x599868),_0x1d4a6e(_0x1c61('0x80e'),_0x1c61('0x80f'),_0x599868),this[_0x1c61('0xda')][_0x1c61('0x31c')]('position',new THREE['Float32BufferAttribute'](_0x178d82,0x3)),this[_0x1c61('0xda')][_0x1c61('0x31c')](_0x1c61('0x228'),new THREE[(_0x1c61('0x407'))](_0x2b2c88,0x3)),this[_0x1c61('0x301')][_0x1c61('0x6d3')]&&this[_0x1c61('0x301')][_0x1c61('0x6d3')](),this[_0x1c61('0x73a')]=this[_0x1c61('0x301')][_0x1c61('0x371')],this[_0x1c61('0x810')]=!0x1;_0x67c48d=new THREE[(_0x1c61('0x37b'))](this[_0x1c61('0xda')],this[_0x1c61('0x41')]);this[_0x1c61('0x7d5')]=_0x4984e7,this[_0x1c61('0x312')]['add'](_0x67c48d);}},{'key':_0x1c61('0x811'),'value':function(_0x67c48d,_0x37ddcd,_0x178d82,_0x2b2c88){this[_0x1c61('0x812')][_0x1c61('0x1b')](_0x37ddcd,_0x178d82,_0x2b2c88)[_0x1c61('0x813')](this[_0x1c61('0x301')]);var _0x4984e7=this[_0x1c61('0x7d5')][_0x67c48d];if(void 0x0!==_0x4984e7)for(var _0x13ff50=this[_0x1c61('0xda')][_0x1c61('0x405')](_0x1c61('0x218')),_0x17f07d=0x0,_0x4ab660=_0x4984e7[_0x1c61('0xf')];_0x17f07d<_0x4ab660;_0x17f07d++)_0x13ff50[_0x1c61('0x814')](_0x4984e7[_0x17f07d],this[_0x1c61('0x812')]['x'],this[_0x1c61('0x812')]['y'],this['vector']['z']);}},{'key':_0x1c61('0x2db'),'value':function(){this[_0x1c61('0x301')]['projectionMatrixInverse'][_0x1c61('0x1c2')](this[_0x1c61('0x301')][_0x1c61('0x815')]),this[_0x1c61('0x811')]('c',0x0,0x0,-0x1),this['setPoint']('t',0x0,0x0,0x1),this[_0x1c61('0x811')]('n1',-0x1,-0x1,-0x1),this[_0x1c61('0x811')]('n2',0x1,-0x1,-0x1),this['setPoint']('n3',-0x1,0x1,-0x1),this[_0x1c61('0x811')]('n4',0x1,0x1,-0x1),this[_0x1c61('0x811')]('f1',-0x1,-0x1,0x1),this[_0x1c61('0x811')]('f2',0x1,-0x1,0x1),this[_0x1c61('0x811')]('f3',-0x1,0x1,0x1),this['setPoint']('f4',0x1,0x1,0x1),this['setPoint']('u1',0.7,1.1,-0x1),this[_0x1c61('0x811')]('u2',-0.7,1.1,-0x1),this[_0x1c61('0x811')]('u3',0x0,0x2,-0x1),this[_0x1c61('0x811')](_0x1c61('0x80d'),-0x1,0x0,0x1),this[_0x1c61('0x811')](_0x1c61('0x816'),0x1,0x0,0x1),this[_0x1c61('0x811')](_0x1c61('0x80e'),0x0,-0x1,0x1),this[_0x1c61('0x811')](_0x1c61('0x80f'),0x0,0x1,0x1),this[_0x1c61('0x811')](_0x1c61('0x80a'),-0x1,0x0,-0x1),this[_0x1c61('0x811')]('cn2',0x1,0x0,-0x1),this[_0x1c61('0x811')](_0x1c61('0x817'),0x0,-0x1,-0x1),this[_0x1c61('0x811')](_0x1c61('0x80c'),0x0,0x1,-0x1),this['geometry'][_0x1c61('0x405')]('position')[_0x1c61('0x108')]=!0x0;}}]),_0x37ddcd[_0x1c61('0x8')]=_0x13ff50;},function(_0x423c6e,_0x145c83,_0x591b64){'use strict';Object[_0x1c61('0x2')](_0x145c83,_0x1c61('0x5'),{'value':!0x0});var _0x47bd49=_0x438335(_0x591b64(0x4)),_0x581138=_0x438335(_0x591b64(0x26)),_0x225621=_0x438335(_0x591b64(0x0)),_0x54bcc8=_0x438335(_0x591b64(0x1)),_0xb845f8=_0x438335(_0x591b64(0x31)),_0x12f68e=_0x438335(_0x591b64(0x32)),_0x4fa7ce=_0x438335(_0x591b64(0x3c));function _0x438335(_0x423c6e){return _0x423c6e&&_0x423c6e[_0x1c61('0x5')]?_0x423c6e:{'default':_0x423c6e};}function _0x5a815e(_0x423c6e){var _0x145c83=_0x423c6e['repeatFactor'],_0x145c83=void 0x0===_0x145c83?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x145c83,_0x591b64=_0x423c6e[_0x1c61('0x818')],_0x591b64=void 0x0===_0x591b64?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x591b64,_0x54bcc8=_0x423c6e['texture2Path'],_0x12f68e=_0x423c6e[_0x1c61('0x819')],_0x438335=_0x423c6e['texture3Path'],_0x392174=_0x423c6e[_0x1c61('0x81a')],_0x5bee82=_0x423c6e[_0x1c61('0x81b')],_0x3b203e=_0x423c6e[_0x1c61('0x81c')],_0x47bd49=_0x423c6e[_0x1c61('0x81d')],_0x423c6e=_0x423c6e[_0x1c61('0x51e')],_0x116d53=((0x0,_0x225621[_0x1c61('0x8')])(this,_0x5a815e),(0x0,_0xb845f8[_0x1c61('0x8')])(this,(_0x5a815e[_0x1c61('0x87')]||(0x0,_0x581138[_0x1c61('0x8')])(_0x5a815e))[_0x1c61('0x0')](this))),_0x145c83=(_0x116d53[_0x1c61('0x81e')]=new _0x4fa7ce[(_0x1c61('0x8'))](),_0x116d53[_0x1c61('0x81f')]=new THREE[(_0x1c61('0x1b9'))](_0x145c83[_0x1c61('0x3c8')],_0x145c83[_0x1c61('0x636')],_0x145c83[_0x1c61('0x820')],_0x145c83[_0x1c61('0x821')]),_0x116d53[_0x1c61('0x818')]=new THREE['Vector4'](_0x591b64[_0x1c61('0x3c8')],_0x591b64['texture2'],_0x591b64['texture3'],_0x591b64[_0x1c61('0x821')]),_0x116d53[_0x1c61('0x81c')]=_0x3b203e,_0x116d53[_0x1c61('0x81d')]=_0x47bd49,_0x116d53[_0x1c61('0x51e')]=_0x423c6e,_0x116d53[_0x1c61('0x4cc')]={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x116d53[_0x1c61('0x3cf')]=null,[{'name':_0x1c61('0x636'),'path':_0x54bcc8},{'name':_0x1c61('0x822'),'path':_0x12f68e},{'name':'texture3','path':_0x438335},{'name':_0x1c61('0x821'),'path':_0x392174},{'name':'noise','path':_0x5bee82}]);return _0x116d53['loadTextures'](_0x145c83),_0x116d53;}_0x591b64=_0x591b64(0x3b)['EventDispatcher'],(0x0,_0x12f68e[_0x1c61('0x8')])(_0x5a815e,_0x591b64),(0x0,_0x54bcc8[_0x1c61('0x8')])(_0x5a815e,[{'key':_0x1c61('0x823'),'value':function(_0x423c6e){var _0x3d89cb=this,_0x320e56=this;this[_0x1c61('0x81e')][_0x1c61('0x5e9')](_0x423c6e)['then'](function(_0x423c6e){var _0x145c83=!0x0,_0x591b64=!0x1,_0x54bcc8=void 0x0;try{for(var _0x12f68e,_0x438335=(0x0,_0x47bd49[_0x1c61('0x8')])(_0x423c6e);!(_0x145c83=(_0x12f68e=_0x438335[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x145c83=!0x0){var _0x1d7b18=_0x12f68e[_0x1c61('0x1c')];'texture2'===_0x1d7b18['name']&&(_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x636')]=_0x1d7b18,_0x320e56[_0x1c61('0x4cc')]['texture2'][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x320e56['textures'][_0x1c61('0x636')][_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x3d89cb[_0x1c61('0x51e')]&&(_0x320e56['textures'][_0x1c61('0x636')]['anisotropy']=_0x3d89cb[_0x1c61('0x51e')])),'textureMask'===_0x1d7b18[_0x1c61('0x7b')]&&(_0x1d7b18[_0x1c61('0x6af')]=!0x1,_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x822')]=_0x1d7b18),_0x1c61('0x820')===_0x1d7b18[_0x1c61('0x7b')]&&(_0x320e56['textures'][_0x1c61('0x820')]=_0x1d7b18,_0x320e56['textures']['texture3'][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x820')]['wrapT']=THREE[_0x1c61('0x333')],_0x3d89cb['anisotropy']&&(_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x820')][_0x1c61('0x51e')]=_0x3d89cb[_0x1c61('0x51e')])),'texture4'===_0x1d7b18[_0x1c61('0x7b')]&&(_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x821')]=_0x1d7b18,_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x821')][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x821')]['wrapT']=THREE['RepeatWrapping'],_0x3d89cb[_0x1c61('0x51e')]&&(_0x320e56[_0x1c61('0x4cc')][_0x1c61('0x821')]['anisotropy']=_0x3d89cb[_0x1c61('0x51e')])),_0x1c61('0x824')===_0x1d7b18[_0x1c61('0x7b')]&&(_0x320e56[_0x1c61('0x4cc')]['noise']=_0x1d7b18,_0x320e56['textures']['noise'][_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x320e56['textures']['noise'][_0x1c61('0x332')]=THREE['RepeatWrapping']);}}catch(_0x2a0185){_0x591b64=!0x0,_0x54bcc8=_0x2a0185;}finally{try{!_0x145c83&&_0x438335[_0x1c61('0x99')]&&_0x438335[_0x1c61('0x99')]();}finally{if(_0x591b64)throw _0x54bcc8;}}_0x320e56[_0x1c61('0x4cc')],_0x320e56[_0x1c61('0x488')]({'type':'canUpdate'});});}},{'key':_0x1c61('0x62b'),'value':function(){var _0x423c6e=document[_0x1c61('0x75')](_0x1c61('0x463'));return _0x423c6e[_0x1c61('0x328')]=0x2,_0x423c6e[_0x1c61('0x2f7')]=0x2,_0x423c6e[_0x1c61('0x464')]('2d')[_0x1c61('0x4a6')]=_0x1c61('0x32d'),new THREE[(_0x1c61('0x1cc'))](_0x423c6e);}},{'key':_0x1c61('0x2f8'),'value':function(_0x145c83){var _0x591b64=this;_0x145c83['aoMap']||(_0x145c83[_0x1c61('0x62d')]=this['createTexture'](),_0x145c83['aoMapIntensity']=0x0),_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x820')]&&(_0x145c83[_0x1c61('0x169')][_0x1c61('0x825')]=''),_0x591b64[_0x1c61('0x4cc')]['texture4']&&(_0x145c83[_0x1c61('0x169')][_0x1c61('0x826')]=''),_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x827')]&&(_0x145c83[_0x1c61('0x169')][_0x1c61('0x62f')]='',_0x145c83['transparent']=!0x0),_0x591b64[_0x1c61('0x81c')]&&(_0x145c83[_0x1c61('0x169')][_0x1c61('0x828')]='',0x2==_0x591b64[_0x1c61('0x81c')]&&(_0x145c83[_0x1c61('0x829')]['wrapS']=THREE['ClampToEdgeWrapping'],_0x145c83[_0x1c61('0x829')][_0x1c61('0x332')]=THREE[_0x1c61('0x5db')],_0x145c83[_0x1c61('0x82a')]=THREE['ObjectSpaceNormalMap']),_0x591b64[_0x1c61('0x81d')]&&(_0x145c83[_0x1c61('0x169')][_0x1c61('0x82b')]='')),this[_0x1c61('0x51e')]&&(_0x145c83['map']['anisotropy']=this[_0x1c61('0x51e')]),_0x145c83[_0x1c61('0x3c7')]=function(_0x423c6e){_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x3c8')]={'value':_0x145c83['map']},_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x636')]={'value':_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x636')]},_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x822')]={'value':_0x591b64[_0x1c61('0x4cc')]['textureMask']},_0x591b64['textures'][_0x1c61('0x820')]&&(_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x820')]={'value':_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x820')]}),_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x821')]&&(_0x423c6e['uniforms']['texture4']={'value':_0x591b64['textures'][_0x1c61('0x821')]}),_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x82c')]={'value':_0x591b64[_0x1c61('0x4cc')][_0x1c61('0x824')]},_0x423c6e[_0x1c61('0x16a')][_0x1c61('0x82d')]={'value':_0x591b64[_0x1c61('0x81f')]},_0x423c6e['uniforms'][_0x1c61('0x82e')]={'value':_0x591b64[_0x1c61('0x818')]},_0x423c6e[_0x1c61('0x56')]=_0x423c6e['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x642'),_0x1c61('0x82f')),_0x423c6e['vertexShader']=_0x423c6e[_0x1c61('0x56')]['replace'](_0x1c61('0x643'),_0x1c61('0x830')),_0x423c6e[_0x1c61('0x57')]=_0x423c6e['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3cc'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x423c6e[_0x1c61('0x57')]=_0x423c6e[_0x1c61('0x57')][_0x1c61('0x3c9')]('include\x20<normal_fragment_maps>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x423c6e[_0x1c61('0x57')]=_0x423c6e[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x609'),_0x1c61('0x831')),_0x591b64[_0x1c61('0x3cf')]=_0x423c6e;};}}]),_0x145c83[_0x1c61('0x8')]=_0x5a815e;},function(_0x1b85c1,_0x3e6e36,_0x102f72){'use strict';Object['defineProperty'](_0x3e6e36,_0x1c61('0x5'),{'value':!0x0});var _0x2b5e86=_0x586ab8(_0x102f72(0x4)),_0x508b06=_0x586ab8(_0x102f72(0x26)),_0x32bf61=_0x586ab8(_0x102f72(0x0)),_0x2f6516=_0x586ab8(_0x102f72(0x1)),_0x475443=_0x586ab8(_0x102f72(0x31)),_0x225424=_0x586ab8(_0x102f72(0x32)),_0xafa125=_0x586ab8(_0x102f72(0x3c));function _0x586ab8(_0x1b85c1){return _0x1b85c1&&_0x1b85c1[_0x1c61('0x5')]?_0x1b85c1:{'default':_0x1b85c1};}function _0x573e82(_0x1b85c1){var _0x3e6e36=_0x1b85c1[_0x1c61('0x819')],_0x102f72=_0x1b85c1[_0x1c61('0x832')],_0x2f6516=_0x1b85c1[_0x1c61('0x833')],_0x2f6516=void 0x0===_0x2f6516||_0x2f6516,_0x225424=_0x1b85c1[_0x1c61('0x834')],_0x225424=void 0x0!==_0x225424&&_0x225424,_0x1b85c1=_0x1b85c1[_0x1c61('0x835')],_0x586ab8=((0x0,_0x32bf61[_0x1c61('0x8')])(this,_0x573e82),(0x0,_0x475443['default'])(this,(_0x573e82['__proto__']||(0x0,_0x508b06[_0x1c61('0x8')])(_0x573e82))[_0x1c61('0x0')](this))),_0x102f72=(_0x586ab8[_0x1c61('0x81e')]=new _0xafa125[(_0x1c61('0x8'))](),_0x586ab8[_0x1c61('0x836')]=null,_0x586ab8[_0x1c61('0x832')]=_0x102f72,_0x586ab8[_0x1c61('0x833')]=_0x2f6516,_0x586ab8[_0x1c61('0x834')]=_0x225424,_0x586ab8[_0x1c61('0x5b5')]=0x0,_0x586ab8[_0x1c61('0x5a4')]=0.15,_0x586ab8[_0x1c61('0x5a3')]=1.1,_0x586ab8[_0x1c61('0x835')]=_0x1b85c1||0x0,_0x586ab8['textures']={'textureMask':null},[{'name':_0x1c61('0x822'),'path':_0x3e6e36}]);return _0x586ab8[_0x1c61('0x823')](_0x102f72),_0x586ab8;}_0x102f72=_0x102f72(0x3b)['EventDispatcher'],(0x0,_0x225424[_0x1c61('0x8')])(_0x573e82,_0x102f72),(0x0,_0x2f6516[_0x1c61('0x8')])(_0x573e82,[{'key':_0x1c61('0xd8'),'value':function(){for(var _0x1b85c1 in this[_0x1c61('0x4cc')])this[_0x1c61('0x4cc')][_0x1b85c1]&&this['textures'][_0x1b85c1]['dispose']();}},{'key':_0x1c61('0x823'),'value':function(_0x1b85c1){var _0x32bf61=this;this[_0x1c61('0x81e')][_0x1c61('0x5e9')](_0x1b85c1)[_0x1c61('0x34a')](function(_0x1b85c1){var _0x3e6e36=!0x0,_0x102f72=!0x1,_0x2f6516=void 0x0;try{for(var _0x225424,_0x586ab8=(0x0,_0x2b5e86[_0x1c61('0x8')])(_0x1b85c1);!(_0x3e6e36=(_0x225424=_0x586ab8[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x3e6e36=!0x0){var _0x508b06=_0x225424[_0x1c61('0x1c')];_0x1c61('0x822')===_0x508b06[_0x1c61('0x7b')]&&(_0x508b06[_0x1c61('0x6af')]=!0x1,_0x32bf61[_0x1c61('0x4cc')][_0x1c61('0x822')]=_0x508b06);}}catch(_0x26401f){_0x102f72=!0x0,_0x2f6516=_0x26401f;}finally{try{!_0x3e6e36&&_0x586ab8['return']&&_0x586ab8[_0x1c61('0x99')]();}finally{if(_0x102f72)throw _0x2f6516;}}_0x32bf61[_0x1c61('0x488')]({'type':'canUpdate'});});}},{'key':'createTexture','value':function(){var _0x1b85c1=document[_0x1c61('0x75')]('canvas');return _0x1b85c1[_0x1c61('0x328')]=0x2,_0x1b85c1[_0x1c61('0x2f7')]=0x2,_0x1b85c1['getContext']('2d')[_0x1c61('0x4a6')]=_0x1c61('0x32d'),new THREE[(_0x1c61('0x1cc'))](_0x1b85c1);}},{'key':_0x1c61('0x2f8'),'value':function(_0x1b85c1){var _0x3e6e36=this;if(!_0x3e6e36[_0x1c61('0x4cc')]['textureMask'])return!0x1;_0x1b85c1[_0x1c61('0x62d')]||(_0x1b85c1[_0x1c61('0x62d')]=this[_0x1c61('0x62b')](),_0x1b85c1[_0x1c61('0x62e')]=0x0),_0x1b85c1[_0x1c61('0x3c7')]=function(_0x1b85c1){_0x1b85c1[_0x1c61('0x16a')][_0x1c61('0x3da')]={'value':0x0},_0x1b85c1[_0x1c61('0x16a')][_0x1c61('0x837')]={'value':_0x3e6e36['isIgnoreAlpha']},_0x1b85c1[_0x1c61('0x16a')][_0x1c61('0x838')]={'value':_0x3e6e36['isUseScanEffect']},_0x1b85c1[_0x1c61('0x16a')][_0x1c61('0x835')]={'value':_0x3e6e36[_0x1c61('0x835')]},_0x1b85c1[_0x1c61('0x16a')][_0x1c61('0x822')]={'value':_0x3e6e36[_0x1c61('0x4cc')][_0x1c61('0x822')]},_0x1b85c1[_0x1c61('0x56')]=_0x1b85c1[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x642'),_0x1c61('0x839')),_0x1b85c1[_0x1c61('0x56')]=_0x1b85c1['vertexShader']['replace'](_0x1c61('0x643'),_0x1c61('0x83a')),_0x1b85c1['fragmentShader']=_0x1b85c1['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x83b')),_0x1b85c1[_0x1c61('0x57')]=_0x1b85c1[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x609'),_0x1c61('0x83c')),_0x3e6e36[_0x1c61('0x834')]&&(_0x1b85c1[_0x1c61('0x57')]=_0x1b85c1[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x83d'),_0x1c61('0x83e'))),_0x1b85c1[_0x1c61('0x57')]=_0x1b85c1['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3dd'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3e6e36[_0x1c61('0x836')]=_0x1b85c1;};}},{'key':'render','value':function(_0x1b85c1){this[_0x1c61('0x836')]&&(this[_0x1c61('0x5b5')]+=_0x1b85c1*this['csSpeed'],this['effectShader']['uniforms'][_0x1c61('0x3da')]['value']=this['csTime']);}}]),_0x3e6e36[_0x1c61('0x8')]=_0x573e82;},function(_0x547d53,_0x4d5aba,_0x546d3c){'use strict';Object[_0x1c61('0x2')](_0x4d5aba,_0x1c61('0x5'),{'value':!0x0});var _0x5c2b05=_0x11bc08(_0x546d3c(0x0));function _0x11bc08(_0x547d53){return _0x547d53&&_0x547d53[_0x1c61('0x5')]?_0x547d53:{'default':_0x547d53};}function _0x554507(){(0x0,_0x5c2b05[_0x1c61('0x8')])(this,_0x554507),this[_0x1c61('0x83f')]=[];}(0x0,_0x11bc08(_0x546d3c(0x1))['default'])(_0x554507,[{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x83f')]['length']=0x0;}},{'key':_0x1c61('0x62b'),'value':function(){var _0x547d53=document['createElement'](_0x1c61('0x463'));return _0x547d53[_0x1c61('0x328')]=0x2,_0x547d53[_0x1c61('0x2f7')]=0x2,_0x547d53[_0x1c61('0x464')]('2d')['fillStyle']=_0x1c61('0x32d'),new THREE['Texture'](_0x547d53);}},{'key':_0x1c61('0x2f8'),'value':function(_0x547d53){_0x547d53[_0x1c61('0x62d')]||(_0x547d53[_0x1c61('0x62d')]=this[_0x1c61('0x62b')](),_0x547d53[_0x1c61('0x62e')]=0x0),_0x547d53[_0x1c61('0x3c7')]=function(_0x547d53){_0x547d53[_0x1c61('0x57')]=_0x547d53[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x83d'),_0x1c61('0x840'));},this[_0x1c61('0x83f')][_0x1c61('0x6f')](_0x547d53);}},{'key':_0x1c61('0x841'),'value':function(_0x547d53){var _0x5c2b05,_0x4d5aba=_0x547d53['isShow'],_0x4d5aba=void 0x0!==_0x4d5aba&&_0x4d5aba,_0x546d3c=_0x547d53[_0x1c61('0x2cf')],_0x546d3c=void 0x0===_0x546d3c?0x1:_0x546d3c,_0x11bc08=_0x547d53[_0x1c61('0x2d0')];0x0<this['materialList'][_0x1c61('0xf')]&&(_0x5c2b05=this,new TWEEN['Tween']({'x':_0x4d5aba?0x0:0x1})['to']({'x':_0x4d5aba?0x1:0x0},0x3e8*_0x546d3c)[_0x1c61('0x2da')](function(_0x547d53){for(var _0x4d5aba=0x0,_0x546d3c=_0x5c2b05[_0x1c61('0x83f')]['length'];_0x4d5aba<_0x546d3c;_0x4d5aba++)_0x5c2b05[_0x1c61('0x83f')][_0x4d5aba][_0x1c61('0x842')]=_0x547d53['x'];})[_0x1c61('0x843')](function(){_0x11bc08&&_0x11bc08();})[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')]['Quadratic']['In'])[_0x1c61('0x2d9')]());}},{'key':_0x1c61('0x844'),'value':function(){this[_0x1c61('0x83f')]['length']=0x0;}}]),_0x4d5aba[_0x1c61('0x8')]=_0x554507;},function(_0x45ebc7,_0x243415,_0x13afe9){'use strict';Object['defineProperty'](_0x243415,'__esModule',{'value':!0x0});var _0x52ba0e=_0x54a2d2(_0x13afe9(0x0));function _0x54a2d2(_0x45ebc7){return _0x45ebc7&&_0x45ebc7[_0x1c61('0x5')]?_0x45ebc7:{'default':_0x45ebc7};}function _0x47042a(){(0x0,_0x52ba0e['default'])(this,_0x47042a),this[_0x1c61('0x41')]=null,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=null;}(0x0,_0x54a2d2(_0x13afe9(0x1))['default'])(_0x47042a,[{'key':_0x1c61('0x2f8'),'value':function(_0x45ebc7){_0x45ebc7[_0x1c61('0x3c7')]=function(_0x45ebc7){_0x45ebc7[_0x1c61('0x16a')]['coeficient']={'value':1.2},_0x45ebc7[_0x1c61('0x16a')][_0x1c61('0x845')]={'value':1.4},_0x45ebc7['uniforms'][_0x1c61('0x846')]={'value':new THREE[(_0x1c61('0x1ba'))](_0x1c61('0x847'))},_0x45ebc7[_0x1c61('0x56')]=_0x45ebc7[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x45ebc7[_0x1c61('0x56')]=_0x45ebc7['vertexShader'][_0x1c61('0x3c9')](_0x1c61('0x3d6'),_0x1c61('0x848')),_0x45ebc7[_0x1c61('0x57')]=_0x45ebc7[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3cc'),_0x1c61('0x849')),_0x45ebc7[_0x1c61('0x57')]=_0x45ebc7['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x84a'));},this[_0x1c61('0x41')]=_0x45ebc7;}},{'key':_0x1c61('0x4de'),'value':function(){return this['material'];}},{'key':'render','value':function(_0x45ebc7){this['shader']&&(this[_0x1c61('0x104')]+=_0x45ebc7,this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')]['value']=this[_0x1c61('0x104')]);}}]),_0x243415[_0x1c61('0x8')]=_0x47042a;},function(_0x260560,_0x1f71e7,_0x519349){'use strict';Object[_0x1c61('0x2')](_0x1f71e7,_0x1c61('0x5'),{'value':!0x0});var _0x4c7bde=_0x3c0f01(_0x519349(0x26)),_0x1b59bb=_0x3c0f01(_0x519349(0x0)),_0x47b6a3=_0x3c0f01(_0x519349(0x1)),_0x33cee6=_0x3c0f01(_0x519349(0x31)),_0x483a7b=_0x3c0f01(_0x519349(0x32)),_0x38a281=_0x3c0f01(_0x519349(0x3c)),_0x5c1c1e=_0x519349(0x3b),_0x34311e=_0x3c0f01(_0x519349(0x81));function _0x3c0f01(_0x260560){return _0x260560&&_0x260560[_0x1c61('0x5')]?_0x260560:{'default':_0x260560};}function _0x4980e3(_0x260560){var _0x1f71e7=_0x260560[_0x1c61('0xd9')],_0x260560=_0x260560[_0x1c61('0x32f')],_0x260560=void 0x0===_0x260560?0.5:_0x260560,_0x519349=((0x0,_0x1b59bb['default'])(this,_0x4980e3),(0x0,_0x33cee6['default'])(this,(_0x4980e3[_0x1c61('0x87')]||(0x0,_0x4c7bde[_0x1c61('0x8')])(_0x4980e3))['call'](this)));return _0x519349['map']=_0x1f71e7,_0x519349['material']=null,_0x519349[_0x1c61('0x32f')]=_0x260560,_0x519349[_0x1c61('0x1c9')]=null,_0x519349['isInit']=!0x1,_0x519349[_0x1c61('0x84b')]=null,_0x519349['textureSprites']=[],_0x519349;}_0x519349=_0x5c1c1e['EventDispatcher'],(0x0,_0x483a7b['default'])(_0x4980e3,_0x519349),(0x0,_0x47b6a3[_0x1c61('0x8')])(_0x4980e3,[{'key':_0x1c61('0x9d'),'value':function(_0x260560){var _0x1f71e7=this;new _0x38a281[(_0x1c61('0x8'))]()[_0x1c61('0x9a')]({'name':_0x1c61('0x84c'),'path':_0x260560})[_0x1c61('0x34a')](function(_0x260560){_0x1f71e7[_0x1c61('0x1c9')]=_0x260560,_0x1f71e7[_0x1c61('0x1c9')]['anisotropy']=_0x1f71e7[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x5ea')][_0x1c61('0x520')](),_0x1f71e7[_0x1c61('0x488')]({'type':_0x1c61('0x460')});});}},{'key':_0x1c61('0x84d'),'value':function(_0x260560){this[_0x1c61('0x84b')]=new _0x34311e[(_0x1c61('0x8'))]({'timer':this['map'][_0x1c61('0x2e8')],'imageWidth':_0x260560['imgWidth'],'imageHeight':_0x260560[_0x1c61('0x63b')],'xCount':_0x260560[_0x1c61('0x63c')],'yCount':_0x260560[_0x1c61('0x63d')],'fps':_0x260560[_0x1c61('0x2ed')]}),this[_0x1c61('0x84b')]['create'](this[_0x1c61('0x1c9')],!0x0);}},{'key':_0x1c61('0x84e'),'value':function(_0x260560){this['textureSprite']&&_0x260560&&(this[_0x1c61('0x84b')]['fps']=_0x260560);}},{'key':_0x1c61('0x84f'),'value':function(_0x260560){_0x260560[_0x1c61('0x228')]['setStyle'](_0x1c61('0x43b')),_0x260560[_0x1c61('0x1ee')]=!0x0,_0x260560[_0x1c61('0x208')]=0x1,_0x260560[_0x1c61('0x1db')]=!0x1,_0x260560['map']=this[_0x1c61('0x1c9')],_0x260560[_0x1c61('0xd9')][_0x1c61('0x108')]=!0x0,_0x260560[_0x1c61('0x108')]=!0x0,this[_0x1c61('0x41')]=_0x260560;}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x84b')]&&this[_0x1c61('0x84b')][_0x1c61('0x2db')]();}}]),_0x1f71e7['default']=_0x4980e3;},function(_0x3bcbe3,_0x2e08eb,_0x52857f){'use strict';Object[_0x1c61('0x2')](_0x2e08eb,_0x1c61('0x5'),{'value':!0x0});var _0x21d9d8=_0x491eec(_0x52857f(0x0)),_0x4bffa5=_0x491eec(_0x52857f(0x1)),_0x1af005=_0x52857f(0xfa);function _0x491eec(_0x3bcbe3){return _0x3bcbe3&&_0x3bcbe3[_0x1c61('0x5')]?_0x3bcbe3:{'default':_0x3bcbe3};}function _0x5c7f3e(_0x3bcbe3){var _0x2e08eb=_0x3bcbe3[_0x1c61('0x850')],_0x2e08eb=void 0x0===_0x2e08eb?[0x0,0x0]:_0x2e08eb,_0x52857f=_0x3bcbe3['gradientType'],_0x52857f=void 0x0===_0x52857f?'seaground':_0x52857f,_0x4bffa5=_0x3bcbe3[_0x1c61('0x53c')],_0x491eec=_0x3bcbe3['texPath'],_0x25a825=_0x3bcbe3[_0x1c61('0x711')],_0x25a825=void 0x0===_0x25a825?{'x':0x64,'y':0x64}:_0x25a825,_0x2b9d0f=_0x3bcbe3[_0x1c61('0x851')],_0x1f9561=_0x3bcbe3[_0x1c61('0x852')],_0x3bcbe3=_0x3bcbe3[_0x1c61('0x853')],_0x3bcbe3=void 0x0===_0x3bcbe3?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x3bcbe3;(0x0,_0x21d9d8[_0x1c61('0x8')])(this,_0x5c7f3e),this[_0x1c61('0x850')]=new THREE[(_0x1c61('0x1cf'))](_0x2e08eb[0x0],_0x2e08eb[0x1]),this['gradientType']=_0x52857f,this[_0x1c61('0x854')]=new _0x1af005[(_0x1c61('0x855'))](_0x52857f),this[_0x1c61('0x53c')]=_0x4bffa5,this['isShowContour']=_0x2b9d0f,this[_0x1c61('0x852')]=_0x1f9561,this[_0x1c61('0x853')]=_0x3bcbe3,this['groundTexPath']=_0x491eec,this[_0x1c61('0x856')]=_0x25a825,this[_0x1c61('0x3cf')]=null,this[_0x1c61('0x104')]=0x0,this[_0x1c61('0x32f')]=0.05;}(0x0,_0x4bffa5[_0x1c61('0x8')])(_0x5c7f3e,[{'key':_0x1c61('0x857'),'value':function(){if(this['gradientType']&&_0x1af005[_0x1c61('0x858')][this[_0x1c61('0x859')]])return _0x1af005[_0x1c61('0x858')][this[_0x1c61('0x859')]];}},{'key':'setGradientConfig','value':function(_0x3bcbe3){_0x3bcbe3&&_0x3bcbe3['name']&&_0x3bcbe3['colorArray']&&0x0<_0x3bcbe3[_0x1c61('0x85a')]['length']&&this[_0x1c61('0x854')]['addColorMap'](this['gradientType'],_0x3bcbe3[_0x1c61('0x85a')]),this[_0x1c61('0x854')]['setColorMap'](this['gradientType']);_0x3bcbe3=new THREE[(_0x1c61('0x679'))](this[_0x1c61('0x854')][_0x1c61('0x85b')]());_0x3bcbe3[_0x1c61('0x108')]=!0x0,this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['gradientTex'][_0x1c61('0x1c')]=_0x3bcbe3;}},{'key':'setSeaGroundConfigs','value':function(_0x3bcbe3){_0x3bcbe3[_0x1c61('0x1de')]&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x85c')][_0x1c61('0x1c')]=_0x3bcbe3[_0x1c61('0x1de')]),_0x3bcbe3[_0x1c61('0x85d')]&&_0x3bcbe3[_0x1c61('0x85e')]&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x85f')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](_0x3bcbe3[_0x1c61('0x85d')],_0x3bcbe3['fogFar']));}},{'key':_0x1c61('0x2f8'),'value':function(_0x3bcbe3){var _0x52857f=this,_0x4bffa5=new THREE['CanvasTexture'](this[_0x1c61('0x854')]['createCanvas']()),_0x491eec=null;return this[_0x1c61('0x860')]&&((_0x491eec=new THREE['TextureLoader']()['load'](this[_0x1c61('0x860')]))[_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x491eec[_0x1c61('0x332')]=THREE[_0x1c61('0x333')]),_0x3bcbe3[_0x1c61('0x3c7')]=function(_0x3bcbe3){var _0x2e08eb=_0x3bcbe3[_0x1c61('0x16a')];_0x3bcbe3['uniforms']=_0x2e08eb,_0x3bcbe3['uniforms']['isShow']={'value':_0x52857f['isShow']||!0x1},_0x3bcbe3[_0x1c61('0x16a')]['iTime']={'value':0x0},_0x3bcbe3['uniforms']['heightExtent']={'value':_0x52857f[_0x1c61('0x850')]},_0x3bcbe3[_0x1c61('0x16a')][_0x1c61('0x5e5')]={'value':_0x4bffa5},_0x491eec&&(_0x3bcbe3['uniforms'][_0x1c61('0x861')]={'value':_0x491eec}),_0x3bcbe3['uniforms'][_0x1c61('0x851')]={'value':_0x52857f[_0x1c61('0x851')]||!0x1},_0x3bcbe3[_0x1c61('0x16a')]['isShowSeaGround']={'value':_0x52857f[_0x1c61('0x852')]||!0x1},_0x3bcbe3[_0x1c61('0x16a')][_0x1c61('0x85c')]={'value':_0x52857f[_0x1c61('0x853')][_0x1c61('0x1de')]},_0x3bcbe3[_0x1c61('0x16a')][_0x1c61('0x85f')]={'value':new THREE[(_0x1c61('0x1cf'))](_0x52857f['seaGroundConfigs'][_0x1c61('0x85d')],_0x52857f[_0x1c61('0x853')][_0x1c61('0x85e')])},_0x3bcbe3['vertexShader']=_0x3bcbe3['vertexShader']['replace'](_0x1c61('0x3ca'),_0x1c61('0x862')),_0x3bcbe3[_0x1c61('0x56')]=_0x3bcbe3[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3bcbe3[_0x1c61('0x57')]=_0x3bcbe3[_0x1c61('0x57')][_0x1c61('0x3c9')]('uniform\x20float\x20opacity;',_0x1c61('0x4d1')+(_0x52857f[_0x1c61('0x860')]?'#define\x20IS_USE_GROUND_TEX':'')+_0x1c61('0x863')),_0x3bcbe3['fragmentShader']=_0x3bcbe3[_0x1c61('0x57')][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0x864')),_0x52857f[_0x1c61('0x3cf')]=_0x3bcbe3;},_0x3bcbe3;}},{'key':_0x1c61('0x3d1'),'value':function(_0x3bcbe3){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x104')]+=_0x3bcbe3*this[_0x1c61('0x32f')],this[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x3da')][_0x1c61('0x1c')]=this['count']);}},{'key':'isShow','set':function(_0x3bcbe3){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x865')][_0x1c61('0x1c')]=_0x3bcbe3);},'get':function(){if(this[_0x1c61('0x3cf')])return this['shader'][_0x1c61('0x16a')][_0x1c61('0x865')]['value'];}},{'key':_0x1c61('0x866'),'set':function(_0x3bcbe3){this[_0x1c61('0x3cf')]&&(this[_0x1c61('0x3cf')][_0x1c61('0x16a')]['isShowSeaGround'][_0x1c61('0x1c')]=_0x3bcbe3);},'get':function(){if(this[_0x1c61('0x3cf')])return this[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x867')][_0x1c61('0x1c')];}}]),_0x2e08eb[_0x1c61('0x8')]=_0x5c7f3e;},function(_0x46f39d,_0x42a90,_0xe4bcfb){'use strict';function _0x1befe7(_0x46f39d,_0x42a90){return this[_0x1c61('0x868')]=[],this['setColorMap'](_0x46f39d,_0x42a90),this;}Object['defineProperty'](_0x42a90,_0x1c61('0x5'),{'value':!0x0});var _0x447e7c={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x1befe7[_0x1c61('0xb')]={'constructor':THREE[_0x1c61('0x855')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x46f39d){return _0x46f39d instanceof THREE[_0x1c61('0x855')]&&this[_0x1c61('0x1c2')](_0x46f39d),this;},'setMin':function(_0x46f39d){return this[_0x1c61('0x869')]=_0x46f39d,this;},'setMax':function(_0x46f39d){return this[_0x1c61('0x86a')]=_0x46f39d,this;},'setColorMap':function(_0x46f39d,_0x42a90){this[_0x1c61('0xd9')]=_0x447e7c[_0x46f39d]||_0x447e7c[_0x1c61('0x86b')],this['n']=_0x42a90||0x20;for(var _0xe4bcfb=0x1/this['n'],_0x1befe7=this[_0x1c61('0x868')][_0x1c61('0xf')]=0x0;_0x1befe7<=0x1;_0x1befe7+=_0xe4bcfb)for(var _0x3f306b,_0x3e155b,_0x5cd1d5,_0x4a16d2,_0x2f80c3=0x0;_0x2f80c3<this[_0x1c61('0xd9')][_0x1c61('0xf')]-0x1;_0x2f80c3++)_0x1befe7>=this[_0x1c61('0xd9')][_0x2f80c3][0x0]&&_0x1befe7<this[_0x1c61('0xd9')][_0x2f80c3+0x1][0x0]&&(_0x3f306b=this[_0x1c61('0xd9')][_0x2f80c3][0x0],_0x3e155b=this[_0x1c61('0xd9')][_0x2f80c3+0x1][0x0],_0x4a16d2=new THREE[(_0x1c61('0x1ba'))](this[_0x1c61('0xd9')][_0x2f80c3][0x1]),_0x5cd1d5=new THREE[(_0x1c61('0x1ba'))](this[_0x1c61('0xd9')][_0x2f80c3+0x1][0x1]),_0x4a16d2=_0x4a16d2[_0x1c61('0x1b7')](_0x5cd1d5,(_0x1befe7-_0x3f306b)/(_0x3e155b-_0x3f306b)),this[_0x1c61('0x868')]['push'](_0x4a16d2));return this;},'copy':function(_0x46f39d){return this['lut']=_0x46f39d[_0x1c61('0x868')],this[_0x1c61('0xd9')]=_0x46f39d[_0x1c61('0xd9')],this['n']=_0x46f39d['n'],this['minV']=_0x46f39d['minV'],this[_0x1c61('0x86a')]=_0x46f39d['maxV'],this;},'getColor':function(_0x46f39d){_0x46f39d<=this[_0x1c61('0x869')]?_0x46f39d=this[_0x1c61('0x869')]:_0x46f39d>=this[_0x1c61('0x86a')]&&(_0x46f39d=this[_0x1c61('0x86a')]),_0x46f39d=(_0x46f39d-this['minV'])/(this[_0x1c61('0x86a')]-this[_0x1c61('0x869')]);_0x46f39d=Math[_0x1c61('0x1c0')](_0x46f39d*this['n']);return _0x46f39d==this['n']&&--_0x46f39d,this[_0x1c61('0x868')][_0x46f39d];},'addColorMap':function(_0x46f39d,_0x42a90){_0x447e7c[_0x46f39d]=_0x42a90;},'createCanvas':function(){var _0x46f39d=document[_0x1c61('0x75')](_0x1c61('0x463'));return _0x46f39d[_0x1c61('0x328')]=0x1,_0x46f39d[_0x1c61('0x2f7')]=this['n'],this[_0x1c61('0x86c')](_0x46f39d),_0x46f39d;},'updateCanvas':function(_0x46f39d){for(var _0x42a90=_0x46f39d[_0x1c61('0x464')]('2d',{'alpha':!0x1}),_0xe4bcfb=_0x42a90[_0x1c61('0x86d')](0x0,0x0,0x1,this['n']),_0x1befe7=_0xe4bcfb[_0x1c61('0x2a2')],_0x39630a=0x0,_0x451cf3=0x1/this['n'],_0x2f7c88=0x1;0x0<=_0x2f7c88;_0x2f7c88-=_0x451cf3)for(var _0x241d3f,_0x1c7e23,_0x447e7c,_0x4744fc,_0x3747fd=this['map'][_0x1c61('0xf')]-0x1;0x0<=_0x3747fd;_0x3747fd--)_0x2f7c88<this[_0x1c61('0xd9')][_0x3747fd][0x0]&&_0x2f7c88>=this['map'][_0x3747fd-0x1][0x0]&&(_0x241d3f=this[_0x1c61('0xd9')][_0x3747fd-0x1][0x0],_0x1c7e23=this[_0x1c61('0xd9')][_0x3747fd][0x0],_0x4744fc=new THREE['Color'](this[_0x1c61('0xd9')][_0x3747fd-0x1][0x1]),_0x447e7c=new THREE['Color'](this[_0x1c61('0xd9')][_0x3747fd][0x1]),_0x4744fc=_0x4744fc['lerp'](_0x447e7c,(_0x2f7c88-_0x241d3f)/(_0x1c7e23-_0x241d3f)),_0x1befe7[0x4*_0x39630a]=Math[_0x1c61('0x1c0')](0xff*_0x4744fc['r']),_0x1befe7[0x4*_0x39630a+0x1]=Math[_0x1c61('0x1c0')](0xff*_0x4744fc['g']),_0x1befe7[0x4*_0x39630a+0x2]=Math[_0x1c61('0x1c0')](0xff*_0x4744fc['b']),_0x1befe7[0x4*_0x39630a+0x3]=0xff,_0x39630a+=0x1);return _0x42a90[_0x1c61('0x86e')](_0xe4bcfb,0x0,0x0),_0x46f39d;}},_0x42a90[_0x1c61('0x855')]=_0x1befe7,_0x42a90[_0x1c61('0x858')]=_0x447e7c;},function(_0x2d38a4,_0x3b170f,_0x2e4e51){'use strict';Object[_0x1c61('0x2')](_0x3b170f,_0x1c61('0x5'),{'value':!0x0}),_0x3b170f[_0x1c61('0x8')]=function(_0x2d38a4){for(var _0x3b170f in _0x3e50c1[_0x1c61('0x27f')])if(_0x2d38a4===_0x3e50c1[_0x1c61('0x27f')][_0x3b170f])return esmap['ESMapUtil'][_0x1c61('0x86f')](0x2)>=_0x3e50c1[_0x1c61('0x27e')][_0x3b170f]||_0x3b170f;};var _0x3e50c1=_0x2e4e51(0x62);},function(_0x58b850,_0x177488,_0x2945a7){'use strict';Object[_0x1c61('0x2')](_0x177488,_0x1c61('0x5'),{'value':!0x0});var _0x32c379,_0x500e1c,_0x52ceaa,_0xab48a,_0xd48e01,_0x3079a2,_0x56f468,_0x123ce4,_0x5385c5,_0x679b8f,_0x4dcc52,_0x4bc38f,_0x367934,_0x72827,_0x225b3e,_0x37866a,_0x5b6f6c,_0x2d432b=_0x2a43ed(_0x2945a7(0x60)),_0x56bb5d=_0x2a43ed(_0x2945a7(0xf)),_0x5cda3f=_0x2a43ed(_0x2945a7(0x4)),_0x1a21b1=_0x2945a7(0x1a),_0x59768e=_0x2945a7(0x72),_0xb8ddc9=_0x2945a7(0x62),_0x16eb75=_0x2a43ed(_0x2945a7(0xfd)),_0x33cb27=_0x2a43ed(_0x2945a7(0x11a)),_0x22ec42=_0x2a43ed(_0x2945a7(0x74)),_0x41db48=_0x2a43ed(_0x2945a7(0x11b)),_0x247428=_0x2a43ed(_0x2945a7(0x11d)),_0x2c55e7=_0x2a43ed(_0x2945a7(0x11e)),_0x4b071e=_0x2a43ed(_0x2945a7(0x123)),_0x115efc=_0x2a43ed(_0x2945a7(0x124)),_0x1dc38e=_0x2945a7(0x3b),_0x2945a7=_0x2945a7(0x82);function _0x2a43ed(_0x177488){return _0x177488&&_0x177488[_0x1c61('0x5')]?_0x177488:{'default':_0x177488};}function _0x4cb249(){}function _0x3a00f6(_0x177488){_0x37866a['json']&&_0x37866a[_0x1c61('0x870')]&&_0x2c141b(_0x177488,_0x32c379['id']);}function _0x4f2f96(_0x177488,_0x2945a7){if(_0x52ceaa[_0x1c61('0x871')]&&_0x5b6f6c&&0x0<_0x5b6f6c['children'][_0x1c61('0xf')]){var _0x225b3e=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x56bb5d,_0x16eb75=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x5b6f6c[_0x1c61('0x31b')]);!(_0x225b3e=(_0x56bb5d=_0x16eb75[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x225b3e=!0x0){var _0x59768e=_0x56bb5d[_0x1c61('0x1c')];if(_0x59768e[_0x1c61('0x7b')]===_0x177488){_0x59768e[_0x1c61('0x583')]=!_0x2945a7,_0x59768e[_0x1c61('0x32c')]=_0x2945a7;break;}}}catch(_0x427d81){_0x72827=!0x0,_0x37866a=_0x427d81;}finally{try{!_0x225b3e&&_0x16eb75[_0x1c61('0x99')]&&_0x16eb75[_0x1c61('0x99')]();}finally{if(_0x72827)throw _0x37866a;}}}}function _0x2c141b(_0x177488,_0x2945a7){if(_0x2945a7=_0x2945a7||{},!_0x3079a2){if(_0x5385c5=new _0x22ec42['default'](_0x32c379,_0x32c379[_0x1c61('0x2bc')]),_0x32c379[_0x1c61('0x872')]||(_0x32c379[_0x1c61('0x872')]=function(_0x177488){var _0x2945a7=_0x32c379['coordMapToThree']({'x':_0x177488['x'],'y':_0x177488['y'],'z':_0x177488['z'],'bid':_0x177488['bid']||0x0});return _0x5385c5['flyFocusTo']({'targetPos':_0x2945a7,'radius':_0x177488[_0x1c61('0x226')],'pitchAngle':_0x177488[_0x1c61('0x2c1')],'directionAngle':_0x177488[_0x1c61('0x873')],'time':_0x177488['time'],'callback':_0x177488[_0x1c61('0x2d0')]});}),_0x32c379['cameraFlyToHelper']||(_0x32c379['cameraFlyToHelper']=function(_0x177488,_0x2945a7){var _0x225b3e=_0x32c379['controls'][_0x1c61('0x6')][_0x1c61('0x218')][_0x1c61('0x2c3')](_0x32c379[_0x1c61('0x2bc')][_0x1c61('0x91')]),_0x177488=_0x177488&&_0x2945a7?_0x32c379[_0x1c61('0x874')]({'bid':_0x177488,'fnum':_0x2945a7}):_0x32c379[_0x1c61('0x875')](_0x32c379[_0x1c61('0x2bc')]['target']);console['info']((0x0,_0x2d432b['default'])({'direct':_0x32c379[_0x1c61('0x876')],'pitch':_0x32c379[_0x1c61('0x877')],'distance':_0x225b3e,'target':_0x177488}));}),_0x679b8f||(_0x32c379['setWalkControls']=function(){(_0x679b8f=_0x679b8f||new _0x41db48['default'](_0x32c379))[_0x1c61('0x878')]();},_0x32c379[_0x1c61('0x879')]=function(){_0x679b8f[_0x1c61('0x87a')]();}),_0x4dcc52||(_0x32c379[_0x1c61('0x87b')]=function(_0x177488){(_0x4dcc52=_0x4dcc52||new _0x247428[(_0x1c61('0x8'))](_0x32c379))[_0x1c61('0x7')](_0x177488);}),_0x177488[_0x1c61('0x87c')]){if(_0x500e1c[_0x1c61('0x87d')]&&(_0x500e1c[_0x1c61('0x87d')][_0x1c61('0x87e')]=!0x0,_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')]['Lights'],'configs':_0x500e1c[_0x1c61('0x87d')]})),Array[_0x1c61('0xdf')](_0x500e1c['roomEffect'])){var _0x225b3e=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x56bb5d,_0x16eb75=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x500e1c[_0x1c61('0x881')]);!(_0x225b3e=(_0x56bb5d=_0x16eb75[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x225b3e=!0x0){var _0x59768e=_0x56bb5d['value'];(0x0,_0x1a21b1[_0x1c61('0x29')])(_0x59768e[_0x1c61('0x3e')],0x0)&&(_0x59768e['openScan']&&(_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x882')]=_0x500e1c[_0x1c61('0x883')]),_0x59768e[_0x1c61('0x884')]&&(_0x59768e['topImg']=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x59768e[_0x1c61('0x884')])),_0x59768e['sideImg']&&(_0x59768e[_0x1c61('0x885')]=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x59768e[_0x1c61('0x885')])),_0x59768e[_0x1c61('0x886')]&&(_0x59768e['colorImg']=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x59768e[_0x1c61('0x886')])),_0x59768e[_0x1c61('0x887')]&&_0x59768e[_0x1c61('0x887')]['gradientImg']&&(_0x59768e[_0x1c61('0x887')][_0x1c61('0x5c3')]=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x59768e[_0x1c61('0x887')][_0x1c61('0x5c3')])),_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x888')],'configs':_0x59768e}));}}catch(_0x2dd0ba){_0x72827=!0x0,_0x37866a=_0x2dd0ba;}finally{try{!_0x225b3e&&_0x16eb75[_0x1c61('0x99')]&&_0x16eb75['return']();}finally{if(_0x72827)throw _0x37866a;}}if(0x0<_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x889')]['length']){var _0x33cb27=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x2a43ed,_0x4cb249=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x889')]);!(_0x33cb27=(_0x2a43ed=_0x4cb249[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x33cb27=!0x0){var _0x3a00f6=_0x2a43ed['value'];_0xab48a[_0x1c61('0x4f1')]['setBuildingAttribute'](_0x2945a7,_0x3a00f6);}}catch(_0x2e9e4c){_0x72827=!0x0,_0x37866a=_0x2e9e4c;}finally{try{!_0x33cb27&&_0x4cb249[_0x1c61('0x99')]&&_0x4cb249[_0x1c61('0x99')]();}finally{if(_0x72827)throw _0x37866a;}}}}if(Array[_0x1c61('0xdf')](_0x500e1c[_0x1c61('0x88a')])){var _0x56f468=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x4f2f96,_0x5b6f6c=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x500e1c['tileRoomEffect']);!(_0x56f468=(_0x4f2f96=_0x5b6f6c[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x56f468=!0x0){var _0x2c141b=_0x4f2f96['value'];_0x2c141b['openScan']&&(_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x882')]=_0x500e1c[_0x1c61('0x883')]),_0x2c141b[_0x1c61('0x884')]&&(_0x2c141b['topImg']=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x2c141b['topImg'])),_0x2c141b[_0x1c61('0x885')]&&(_0x2c141b[_0x1c61('0x885')]=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x2c141b['sideImg'])),_0x2c141b[_0x1c61('0x886')]&&(_0x2c141b[_0x1c61('0x886')]=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x2c141b['colorImg'])),_0x2c141b[_0x1c61('0x887')]&&_0x2c141b['extentEffect'][_0x1c61('0x5c3')]&&(_0x2c141b[_0x1c61('0x887')]['gradientImg']=(0x0,_0x1a21b1['getConfigAssetsPath'])(_0x2c141b[_0x1c61('0x887')][_0x1c61('0x5c3')])),_0x2c141b[_0x1c61('0x88b')]&&(_0x2c141b[_0x1c61('0x88b')]=(0x0,_0x1a21b1['getConfigAssetsPath'])(_0x2c141b[_0x1c61('0x88b')])),_0x2c141b[_0x1c61('0x88c')]&&_0x2c141b[_0x1c61('0x88c')][_0x1c61('0x5c4')]&&(_0x2c141b[_0x1c61('0x88c')][_0x1c61('0x5c4')]=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x2c141b['screenSky'][_0x1c61('0x5c4')])),_0x2c141b[_0x1c61('0x5c9')]=!0x0,_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9['ESEffectsConstant']['Buildings'],'configs':_0x2c141b});}}catch(_0x55b854){_0x72827=!0x0,_0x37866a=_0x55b854;}finally{try{!_0x56f468&&_0x5b6f6c[_0x1c61('0x99')]&&_0x5b6f6c['return']();}finally{if(_0x72827)throw _0x37866a;}}}_0x500e1c[_0x1c61('0x6c')]&&_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x88d')],'configs':_0x500e1c[_0x1c61('0x6c')]}),_0x500e1c[_0x1c61('0x4f2')]&&_0xab48a['addEffect']({'type':_0xb8ddc9['ESEffectsConstant'][_0x1c61('0x88d')],'configs':_0x500e1c['floors']}),_0x500e1c[_0x1c61('0x88e')]&&(_0x500e1c['pointLight'][_0x1c61('0x88f')]=!0x0,_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x890')],'configs':_0x500e1c[_0x1c61('0x88e')]})),_0x500e1c['directLight']&&(_0x500e1c[_0x1c61('0x891')]['isDirectLight']=!0x0,_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9['ESEffectsConstant'][_0x1c61('0x890')],'configs':_0x500e1c[_0x1c61('0x891')]})),_0x500e1c[_0x1c61('0x892')]&&(_0x500e1c[_0x1c61('0x892')]['isAmbientLight']=!0x0,_0xab48a['addEffect']({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x890')],'configs':_0x500e1c[_0x1c61('0x892')]}));}if(_0x177488[_0x1c61('0x893')]&&_0xab48a['addEffect']({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0xcf')],'configs':_0x500e1c['skybox']}),_0x177488[_0x1c61('0x3c2')]&&0x0<=_0x367934&&Array[_0x1c61('0xdf')](_0x500e1c['water'])){var _0x58b850=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x2c55e7,_0x4b071e=(0x0,_0x5cda3f['default'])(_0x500e1c[_0x1c61('0x704')]);!(_0x58b850=(_0x2c55e7=_0x4b071e[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x58b850=!0x0){var _0x115efc=_0x2c55e7[_0x1c61('0x1c')];((0x0,_0x1a21b1[_0x1c61('0x29')])(_0x115efc[_0x1c61('0x3e')])||_0x115efc[_0x1c61('0x90')])&&_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')]['Water'],'configs':_0x115efc});}}catch(_0x4994c7){_0x72827=!0x0,_0x37866a=_0x4994c7;}finally{try{!_0x58b850&&_0x4b071e[_0x1c61('0x99')]&&_0x4b071e[_0x1c61('0x99')]();}finally{if(_0x72827)throw _0x37866a;}}}if(_0x177488[_0x1c61('0x894')]&&0x0<=_0x367934&&Array[_0x1c61('0xdf')](_0x500e1c[_0x1c61('0x4f3')])){var _0x1dc38e=!0x0,_0x72827=!0x1,_0x37866a=void 0x0;try{for(var _0x4962df,_0x26b262=(0x0,_0x5cda3f['default'])(_0x500e1c[_0x1c61('0x4f3')]);!(_0x1dc38e=(_0x4962df=_0x26b262[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x1dc38e=!0x0){var _0x5ebd63=_0x4962df['value'];(0x0,_0x1a21b1[_0x1c61('0x29')])(_0x5ebd63[_0x1c61('0x3e')],0x0)&&(_0x5ebd63[_0x1c61('0x895')]&&(_0x5ebd63['repeatImg']=(0x0,_0x1a21b1[_0x1c61('0x26')])(_0x5ebd63['repeatImg'])),_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x896')],'configs':_0x5ebd63})),_0x5ebd63[_0x1c61('0x897')]&&(_0x5ebd63[_0x1c61('0x895')]&&(_0x5ebd63[_0x1c61('0x895')]=(0x0,_0x1a21b1['getConfigAssetsPath'])(_0x5ebd63['repeatImg'])),_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x896')],'configs':_0x5ebd63}));}}catch(_0xb8095f){_0x72827=!0x0,_0x37866a=_0xb8095f;}finally{try{!_0x1dc38e&&_0x26b262[_0x1c61('0x99')]&&_0x26b262[_0x1c61('0x99')]();}finally{if(_0x72827)throw _0x37866a;}}}var _0x19879d;_0x177488['isSetModelEffect']&&0x1<=_0x367934&&Array['isArray'](_0x500e1c['models'])&&(_0xab48a[_0x1c61('0x898')][_0x1c61('0x899')]=_0x500e1c['models']),_0x177488['isShowShadow']&&_0x500e1c[_0x1c61('0x89a')]&&0x1<=_0x367934&&_0xab48a['shadow'][_0x1c61('0x89b')](_0x500e1c[_0x1c61('0x89a')]),_0x500e1c[_0x1c61('0x1dd')]&&_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x89c')],'configs':_0x500e1c['fog']}),_0x177488[_0x1c61('0x51b')]&&_0x500e1c[_0x1c61('0x89d')]&&0x1<=_0x367934&&(_0x72827=!0x1,(_0x37866a=esmap[_0x1c61('0x33')][_0x1c61('0x89e')]())[_0x1c61('0x89f')]&&(_0x72827=!0x0),!_0x37866a[_0x1c61('0x8a0')]&&_0x37866a[_0x1c61('0x8a1')]&&0x0<=['iPhone','iPad',_0x1c61('0x8a2')][_0x1c61('0x50')](_0x37866a[_0x1c61('0x8a1')])&&(_0x177488[_0x1c61('0x8a3')]=_0x1c61('0x8a4'),_0x72827=!0x0),(_0x72827=!_0x37866a[_0x1c61('0x8a0')]&&_0x1c61('0x8a5')==_0x37866a[_0x1c61('0x8a1')]||_0x72827)?(_0x32c379[_0x1c61('0x47')][_0x1c61('0x8a6')]=!0x0,_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9['ESEffectsConstant'][_0x1c61('0x8a7')],'configs':_0x500e1c[_0x1c61('0x89d')]})):console[_0x1c61('0xec')](_0x1c61('0x8a8'))),_0xab48a[_0x1c61('0x898')][_0x1c61('0x8a9')](_0x500e1c),(_0x52ceaa[_0x1c61('0x8aa')]||_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x416')])&&(_0x19879d=_0x177488,_0x37866a=(0x0,_0x1a21b1[_0x1c61('0x32')])()?_0x1c61('0x8ac'):_0x1c61('0x8ad'),_0x32c379['on'](_0x37866a,function(_0x177488){_0x123ce4||(_0x19879d[_0x1c61('0x8a3')]?_0x1c61('0x8a4')===_0x19879d[_0x1c61('0x8a3')]?(_0xab48a[_0x1c61('0x89a')]['enabled']&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')]['shadowMap'][_0x1c61('0x416')]=!0x0,_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['needsUpdate']=!0x0),_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x416')]&&_0xab48a['postProcessing'][_0x1c61('0x4f5')]['setScale'](0x2),_0x3d13f8(),_0x32c379[_0x1c61('0x34d')]?_0x32c379[_0x1c61('0x34d')]('effectsDetectionComplete'):_0x32c379['fire']&&_0x32c379[_0x1c61('0x28d')](_0x1c61('0x8ae'))):_0x1c61('0x8af')===_0x19879d[_0x1c61('0x8a3')]?(_0xab48a[_0x1c61('0x89a')][_0x1c61('0x416')]&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x416')]=!0x0,_0x32c379[_0x1c61('0x45c')]['renderer'][_0x1c61('0x6a4')]['needsUpdate']=!0x0),_0xab48a[_0x1c61('0x8ab')]['enabled']&&_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x4f5')][_0x1c61('0x7b1')](1.5),_0x3d13f8(),_0x32c379['emit']?_0x32c379[_0x1c61('0x34d')](_0x1c61('0x8ae')):_0x32c379['fire']&&_0x32c379['fire']('effectsDetectionComplete')):_0x1c61('0x8b0')===_0x19879d[_0x1c61('0x8a3')]&&(_0xab48a[_0x1c61('0x89a')][_0x1c61('0x416')]&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['enabled']=!0x1,_0x32c379[_0x1c61('0x45c')]['renderer']['shadowMap'][_0x1c61('0x108')]=!0x0),_0xab48a[_0x1c61('0x8ab')]['enabled']&&_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x4f5')][_0x1c61('0x7b1')](0x1),_0x32c379['emit']?_0x32c379['emit'](_0x1c61('0x8ae')):_0x32c379[_0x1c61('0x28d')]&&_0x32c379[_0x1c61('0x28d')](_0x1c61('0x8ae'))):(_0x4bc38f['checkIsInLowDevice'](),_0x4bc38f[_0x1c61('0x2aa')](_0x1c61('0x8b1'),function(_0x177488){_0x177488['fps'],_0x177488[_0x1c61('0x2ed')]&&(_0x177488['fps']<=0xa?(_0xab48a['shadow'][_0x1c61('0x416')]&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x416')]=!0x1,_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x108')]=!0x0,Math[_0x1c61('0x6c')](_0x177488[_0x1c61('0x2ed')])),_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x416')]&&(_0x32c379[_0x1c61('0x47')][_0x1c61('0x8a6')]=!0x1,Math[_0x1c61('0x6c')](_0x177488[_0x1c61('0x2ed')])),esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8a3')]=_0x1c61('0x6a')):0xa<_0x177488['fps']&&_0x177488[_0x1c61('0x2ed')]<=0x1e?(_0xab48a[_0x1c61('0x89a')][_0x1c61('0x416')]&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')]['shadowMap'][_0x1c61('0x416')]=!0x0,_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x108')]=!0x0),_0xab48a['postProcessing']['enabled']&&(_0xab48a[_0x1c61('0x8ab')]['screenEffect'][_0x1c61('0x7b1')](0x1),Math[_0x1c61('0x6c')](_0x177488[_0x1c61('0x2ed')])),esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8a3')]=_0x1c61('0x8b0')):0x1e<_0x177488[_0x1c61('0x2ed')]&&_0x177488[_0x1c61('0x2ed')]<=0x28?(_0xab48a[_0x1c61('0x89a')][_0x1c61('0x416')]&&(_0x32c379['mapView'][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x416')]=!0x0,_0x32c379[_0x1c61('0x45c')]['renderer'][_0x1c61('0x6a4')]['needsUpdate']=!0x0),_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x416')]&&(_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x4f5')][_0x1c61('0x7b1')](1.5),Math[_0x1c61('0x6c')](_0x177488[_0x1c61('0x2ed')])),esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8a3')]=_0x1c61('0x8af')):0x28<_0x177488[_0x1c61('0x2ed')]&&(_0xab48a['shadow']['enabled']&&(_0x32c379[_0x1c61('0x45c')]['renderer'][_0x1c61('0x6a4')]['enabled']=!0x0,_0x32c379['mapView']['renderer']['shadowMap'][_0x1c61('0x108')]=!0x0),_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x416')]&&(_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x4f5')][_0x1c61('0x7b1')](0x2),Math['floor'](_0x177488[_0x1c61('0x2ed')])),esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8a3')]=_0x1c61('0x8a4')),console[_0x1c61('0xec')](_0x1c61('0x8b2')+esmap['ESEffectTool'][_0x1c61('0x47')][_0x1c61('0x8a3')],_0x1c61('0x8b3')));})),_0x123ce4=!0x0);})),_0xab48a[_0x1c61('0x8b4')]=!0x0,_0xd48e01[_0x1c61('0x8b4')]=!0x0,esmap['ESMap'][_0x1c61('0x8b5')]?_0x32c379['once'](_0x1c61('0x8b6'),function(){_0x3079a2=!0x0,esmap[_0x1c61('0x51')]['isInitComplete']=!0x0,_0x32c379['fire']&&_0x32c379[_0x1c61('0x28d')]('effectsInitComplete');}):(_0x3079a2=!0x0,esmap[_0x1c61('0x51')]['isInitComplete']=!0x0,_0x32c379[_0x1c61('0x28d')]&&_0x32c379[_0x1c61('0x28d')]('effectsInitComplete')),esmap['ESEffectTool'][_0x1c61('0x8b7')]&&(esmap[_0x1c61('0x8b8')]=_0xab48a);}}function _0x3d13f8(){var _0x177488;_0x52ceaa[_0x1c61('0x8aa')]&&_0x500e1c[_0x1c61('0x89a')]&&0x1<=_0x367934&&(_0x177488=!0x1,(_0x177488=!!esmap[_0x1c61('0x33')]['getPlatform']()[_0x1c61('0x89f')]||_0x177488)&&_0xab48a[_0x1c61('0x87f')]({'type':_0xb8ddc9[_0x1c61('0x880')][_0x1c61('0x8b9')],'configs':_0x500e1c[_0x1c61('0x89a')]}));}_0x32c379=(0x0,_0x1a21b1[_0x1c61('0x2a')])(),_0x52ceaa=_0x500e1c=null,_0xab48a=new _0x16eb75[(_0x1c61('0x8'))](),_0xd48e01=new _0x33cb27['default'](),_0x123ce4=_0x56f468=_0x3079a2=!0x1,_0x4dcc52=_0x679b8f=_0x5385c5=null,_0x4bc38f=new _0x2c55e7['default'](),_0x72827=null,_0x37866a={'json':_0x225b3e=!(_0x367934=0x9),'preload':!0x1},esmap[_0x1c61('0x8ba')]=_0x59768e[_0x1c61('0x2b1')],esmap['ESFileLoader']=THREE[_0x1c61('0x2b2')],esmap[_0x1c61('0x8bb')]=_0x1dc38e['EventDispatcher'],esmap[_0x1c61('0x8bc')]=_0x2945a7[_0x1c61('0x2f3')],_0x5b6f6c=null,_0x4cb249[_0x1c61('0x4ef')]=function(){_0x225b3e=(0x0,_0x56bb5d[_0x1c61('0x8')])({'loadRoads':!0x1,'isUseHightLight':!0x1,'isSetRoomEffect':!0x1,'isShowSkybox':!0x1,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x1,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'roadsDataSrc':null,'effectQuality':null,'isShowBuildingTip':!0x0},0x0<arguments['length']&&void 0x0!==arguments[0x0]?arguments[0x0]:{}),_0xab48a['init']();var _0x225b3e,_0x16eb75,_0x177488=(_0x52ceaa=_0x225b3e)[_0x1c61('0x8bd')]+'/'+_0x225b3e[_0x1c61('0x46')]+'/';esmap['ESEffectTool'][_0x1c61('0x52')]=_0x177488,esmap['ESEffectTool']['switchConfigPath']=null,esmap[_0x1c61('0x51')][_0x1c61('0x47')]=_0x225b3e,(0x0,_0x1a21b1[_0x1c61('0x32')])()||(esmap[_0x1c61('0x51')][_0x1c61('0x53')]=null),_0x32c379=(0x0,_0x1a21b1[_0x1c61('0x2a')])(),_0x225b3e['isSetModelEffect'],_0x225b3e[_0x1c61('0x8be')]&&(_0x16eb75=!0x0,esmap[_0x1c61('0x51')][_0x1c61('0x8bf')]||Object[_0x1c61('0x2')](esmap[_0x1c61('0x51')],_0x1c61('0x8bf'),{'get':function(){return _0x16eb75;},'set':function(_0x177488){if(0x0<_0xab48a['routes'][_0x1c61('0x8c0')][_0x1c61('0xf')]){var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0xab48a['routes']['routesMarkers']);!(_0x2945a7=(_0x37866a=_0x56bb5d['next']())[_0x1c61('0x89')]);_0x2945a7=!0x0)_0x37866a[_0x1c61('0x1c')]['object3d']['visible']=_0x177488;}catch(_0xaef859){_0x225b3e=!0x0,_0x72827=_0xaef859;}finally{try{!_0x2945a7&&_0x56bb5d['return']&&_0x56bb5d[_0x1c61('0x99')]();}finally{if(_0x225b3e)throw _0x72827;}}}_0x16eb75=_0x177488;}})),esmap[_0x1c61('0x51')]&&(esmap[_0x1c61('0x51')][_0x1c61('0x8c1')]=!0x0),_0x32c379['on']('beforeLoad',function(_0x177488){}),_0x32c379['on']('tilePreLoad',function(_0x177488){if(0x0<_0xab48a['buildings']['tileBuilidngThemes'][_0x1c61('0xf')]&&_0x52ceaa[_0x1c61('0x87c')]){var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f['default'])(_0xab48a['buildings'][_0x1c61('0x8c2')]);!(_0x2945a7=(_0x37866a=_0x56bb5d[_0x1c61('0x77')]())['done']);_0x2945a7=!0x0){var _0x16eb75=_0x37866a[_0x1c61('0x1c')];_0x16eb75['isInit']||(_0xab48a['buildings']['addTileBuildingsEffect'](_0x16eb75),_0x16eb75['isInit']=!0x0);}}catch(_0x4e3fe1){_0x225b3e=!0x0,_0x72827=_0x4e3fe1;}finally{try{!_0x2945a7&&_0x56bb5d[_0x1c61('0x99')]&&_0x56bb5d[_0x1c61('0x99')]();}finally{if(_0x225b3e)throw _0x72827;}}}}),_0x32c379['on'](_0x1c61('0x8c3'),function(_0x177488){if(0x0<_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x8c2')]['length']&&_0x52ceaa[_0x1c61('0x87c')]){var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f['default'])(_0xab48a['buildings'][_0x1c61('0x8c2')]);!(_0x2945a7=(_0x37866a=_0x56bb5d['next']())[_0x1c61('0x89')]);_0x2945a7=!0x0){var _0x16eb75=_0x37866a[_0x1c61('0x1c')];_0xab48a['buildings'][_0x1c61('0x8c4')](_0x177488['id'],_0x16eb75);}}catch(_0x35cb02){_0x225b3e=!0x0,_0x72827=_0x35cb02;}finally{try{!_0x2945a7&&_0x56bb5d[_0x1c61('0x99')]&&_0x56bb5d[_0x1c61('0x99')]();}finally{if(_0x225b3e)throw _0x72827;}}}}),_0x32c379['on'](_0x1c61('0x8c5'),function(_0x177488){}),_0x32c379['on'](_0x1c61('0x8c6'),function(_0x177488){}),_0x32c379['on'](_0x1c61('0x8c7'),function(_0x177488){var _0x2945a7=_0x177488['data'][_0x1c61('0x4e')]||{},_0x2945a7=(0x0,_0x56bb5d[_0x1c61('0x8')])(_0x225b3e,_0x2945a7);if(_0x225b3e['effectThemeSrc']&&_0x225b3e[_0x1c61('0x46')]||!(0x0,_0x1a21b1[_0x1c61('0x32')])()){if(!_0x2945a7[_0x1c61('0x8bd')]||!_0x2945a7[_0x1c61('0x46')]){_0x2945a7=(0x0,_0x1a21b1['selectBuildingMapEffectConfigPath'])(_0x32c379,_0x177488[_0x1c61('0x2a2')]);if(!_0x2945a7)return void console['info'](_0x1c61('0x8c8'),_0x1c61('0x8c9'));esmap[_0x1c61('0x51')][_0x1c61('0x52')]=_0x2945a7;}}else _0x72827=(0x0,_0x1a21b1['selectCityMapEffectConfigPath'])(_0x32c379,_0x225b3e),esmap[_0x1c61('0x51')][_0x1c61('0x52')]=(0x0,_0x1a21b1[_0x1c61('0x27')])(_0x32c379,_0x225b3e,!0x0),esmap[_0x1c61('0x51')][_0x1c61('0x53')]=_0x72827,_0x225b3e['debugParams']&&_0x225b3e[_0x1c61('0x8ca')]['localEffectSrc']&&_0x225b3e[_0x1c61('0x8ca')][_0x1c61('0x8cb')]&&(esmap[_0x1c61('0x51')][_0x1c61('0x52')]=_0x225b3e[_0x1c61('0x8ca')]['localEffectSrc']+'/'+_0x225b3e[_0x1c61('0x8ca')][_0x1c61('0x8cb')]+'/');_0x177488=_0x72827||esmap[_0x1c61('0x51')]['configPath'];(0x0,_0x59768e[_0x1c61('0x2b0')])(_0x177488)[_0x1c61('0x34a')](function(_0x177488){_0x500e1c=_0x177488,_0x37866a[_0x1c61('0x8cc')]=!0x0,_0x3a00f6(_0x225b3e);});}),_0x32c379['on'](_0x1c61('0x8cd'),function(_0x177488){(0x0,_0x4b071e[_0x1c61('0x8')])(),(0x0,_0x115efc[_0x1c61('0x8')])(),_0x37866a[_0x1c61('0x870')]=!0x0,_0x3a00f6(_0x225b3e);}),_0x32c379['on'](_0x1c61('0x8b6'),function(_0x177488){}),_0x32c379['on']('modelPrefetched',function(_0x177488){0x0<=_0x177488[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0x8ce'))&&_0x1c61('0x8b0')==_0x32c379[_0x1c61('0x47')]['quality']&&((0x0,_0x1a21b1[_0x1c61('0x32')])()?_0xab48a[_0x1c61('0x898')][_0x1c61('0x8cf')](_0x177488,_0x32c379[_0x1c61('0x589')][_0x1c61('0x8d0')][_0x177488['name']],_0xab48a['shadow']):_0xab48a[_0x1c61('0x898')][_0x1c61('0x8d1')](_0x177488,_0x32c379[_0x1c61('0x589')][_0x1c61('0x8d0')][_0x177488[_0x1c61('0x7b')]],_0xab48a[_0x1c61('0x89a')]));}),_0x32c379['on'](_0x1c61('0x8d2'),function(_0x177488){_0x32c379[_0x1c61('0x8d3')]['navData'][_0x177488]&&_0x32c379['tileService'][_0x1c61('0x8d4')][_0x177488][_0x1c61('0x8d5')]&&!_0x32c379['options'][_0x1c61('0x8d6')]&&_0x32c379[_0x1c61('0x47')][_0x1c61('0x8be')]&&_0xab48a[_0x1c61('0x8d7')][_0x1c61('0x8d8')](_0x32c379['tileService'][_0x1c61('0x8d4')][_0x177488]['Lines'],_0x177488,_0x52ceaa[_0x1c61('0x8d9')],_0x52ceaa[_0x1c61('0x8da')]);}),_0x32c379['on']('modelLoadComplete',function(_0x177488){if((0x0,_0x1a21b1[_0x1c61('0x8db')])()?_0x177488['bid']==_0x32c379['baseSceneId']&&_0x52ceaa[_0x1c61('0x8aa')]&&_0x177488['o3d_']&&_0x500e1c[_0x1c61('0x89a')]&&_0xab48a[_0x1c61('0x89a')]['setModelShadow'](_0x177488,_0x500e1c[_0x1c61('0x89a')]):_0x52ceaa[_0x1c61('0x8aa')]&&_0x177488[_0x1c61('0x4fc')]&&_0x500e1c[_0x1c61('0x89a')]&&_0xab48a[_0x1c61('0x89a')][_0x1c61('0x8dc')](_0x177488,_0x500e1c[_0x1c61('0x89a')]),_0x52ceaa[_0x1c61('0x8dd')]&&0x1<=_0x367934){if(_0x500e1c[_0x1c61('0x898')]&&Array['isArray'](_0x500e1c[_0x1c61('0x898')])){_0xab48a[_0x1c61('0x8de')][_0x1c61('0x45d')]&&(_0xab48a[_0x1c61('0x898')][_0x1c61('0x8df')]=_0xab48a[_0x1c61('0x8de')][_0x1c61('0x45d')]);var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x500e1c['models']);!(_0x2945a7=(_0x37866a=_0x56bb5d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2945a7=!0x0)_0x37866a[_0x1c61('0x1c')]['name']==_0x177488['model']&&_0xab48a[_0x1c61('0x898')][_0x1c61('0x8e0')](_0x177488[_0x1c61('0x8e1')],!_0x32c379[_0x1c61('0x47')][_0x1c61('0x8e2')]&&_0x177488[_0x1c61('0x8e3')]||_0x177488[_0x1c61('0x4fc')],_0x32c379[_0x1c61('0x47')][_0x1c61('0x8e2')],_0x500e1c);}catch(_0x2d4364){_0x225b3e=!0x0,_0x72827=_0x2d4364;}finally{try{!_0x2945a7&&_0x56bb5d[_0x1c61('0x99')]&&_0x56bb5d['return']();}finally{if(_0x225b3e)throw _0x72827;}}}_0x500e1c['modelEffects']&&Array['isArray'](_0x500e1c[_0x1c61('0x8e4')])&&(_0x32c379[_0x1c61('0x589')]['modelStore']&&_0x32c379[_0x1c61('0x589')][_0x1c61('0x8e5')][_0x177488[_0x1c61('0x8e1')]]['ms']&&_0x32c379[_0x1c61('0x589')][_0x1c61('0x8e5')][_0x177488[_0x1c61('0x8e1')]]['ms']['mesh']&&_0x32c379[_0x1c61('0x589')][_0x1c61('0x8e5')][_0x177488[_0x1c61('0x8e1')]]['ms'][_0x1c61('0x41')]?_0xab48a[_0x1c61('0x898')][_0x1c61('0x8e6')](_0x177488['o3d_'],_0x32c379[_0x1c61('0x47')]['mergeModel3D'],_0x32c379[_0x1c61('0x589')]['modelStore'][_0x177488['model']]['ms']):_0xab48a[_0x1c61('0x898')][_0x1c61('0x8e7')](!_0x32c379[_0x1c61('0x47')]['mergeModel3D']&&_0x177488[_0x1c61('0x8e3')]||_0x177488['o3d_'],_0x32c379[_0x1c61('0x47')][_0x1c61('0x8e2')],_0x500e1c));}var _0x225b3e=null,_0x16eb75=null;if(_0x32c379['options']['mergeModel3D']?_0x177488[_0x1c61('0x4c0')]&&0x0<_0x177488[_0x1c61('0x4c0')]['length']&&(_0x16eb75=(_0x225b3e=_0x177488)[_0x1c61('0x4c0')][0x0][_0x1c61('0x8e8')]):_0x16eb75=(_0x225b3e=_0x177488)['mapId'],_0x16eb75&&_0x52ceaa['isShowBuildingTip']){_0x5b6f6c||(_0x5b6f6c=new esmap[(_0x1c61('0x51'))][(_0x1c61('0x8e9'))](_0x1c61('0x8ea'),esmap['ESLayer'][_0x1c61('0x4ec')]),esmap['ESEffectTool']['addLayerToMap'](_0x5b6f6c),_0x5b6f6c[_0x1c61('0x8eb')]=[]);_0x72827=_0x32c379[_0x1c61('0x8d3')][_0x1c61('0x8ec')][_0x16eb75];if(_0x72827){var _0x59768e,_0x33cb27=!0x0,_0x2a43ed=!0x0,_0x4cb249=!0x1,_0x3a00f6=void 0x0;try{for(var _0x56f468,_0x4f2f96=(0x0,_0x5cda3f['default'])(_0x5b6f6c[_0x1c61('0x8eb')]);!(_0x2a43ed=(_0x56f468=_0x4f2f96[_0x1c61('0x77')]())['done']);_0x2a43ed=!0x0)if(_0x56f468[_0x1c61('0x1c')]===_0x16eb75){_0x33cb27=!0x1;break;}}catch(_0x48fa5b){_0x4cb249=!0x0,_0x3a00f6=_0x48fa5b;}finally{try{!_0x2a43ed&&_0x4f2f96['return']&&_0x4f2f96[_0x1c61('0x99')]();}finally{if(_0x4cb249)throw _0x3a00f6;}}_0x33cb27&&(_0x4cb249=_0x225b3e['o3d_'][_0x1c61('0x42')][_0x1c61('0x8ed')][_0x1c61('0x8ee')][_0x1c61('0x101')]['y']-_0x225b3e['o3d_'][_0x1c61('0x42')][_0x1c61('0x8ed')]['box3'][_0x1c61('0x7d')]['y'],_0x3a00f6=Math[_0x1c61('0x1bb')](_0x225b3e[_0x1c61('0x4fc')][_0x1c61('0x42')][_0x1c61('0x8ed')][_0x1c61('0x8ee')][_0x1c61('0x101')]['x']-_0x225b3e[_0x1c61('0x4fc')][_0x1c61('0x42')]['modelinfo'][_0x1c61('0x8ee')][_0x1c61('0x7d')]['x']),_0x59768e=Math[_0x1c61('0x1bb')](_0x225b3e['o3d_'][_0x1c61('0x42')][_0x1c61('0x8ed')][_0x1c61('0x8ee')][_0x1c61('0x101')]['z']-_0x225b3e[_0x1c61('0x4fc')][_0x1c61('0x42')][_0x1c61('0x8ed')][_0x1c61('0x8ee')][_0x1c61('0x7d')]['z']),_0x3a00f6=0.05*Math[_0x1c61('0x1be')](_0x3a00f6*_0x3a00f6+_0x59768e*_0x59768e),(_0x59768e=new esmap[(_0x1c61('0x51'))][(_0x1c61('0x8ef'))](esmap['ESMarkerType']['CUBE_FLOAT'],{'x':_0x72827['x'],'y':_0x72827['y'],'height':_0x4cb249+0x4*_0x3a00f6,'radius':_0x3a00f6,'showLevel':12.5}))[_0x1c61('0x7b')]=_0x16eb75,_0x59768e[_0x1c61('0x8f0')]=_0x225b3e[_0x1c61('0x500')],_0x59768e['o3d_'][_0x1c61('0x7b')]=_0x1c61('0x7dd'),_0x59768e[_0x1c61('0x4fc')][_0x1c61('0x3f')]={'buildingId':_0x16eb75,'isOpen':!0x1},_0x32c379[_0x1c61('0x57f')]['addObject'](_0x59768e[_0x1c61('0x4fc')]),_0x5b6f6c['addMarker'](_0x59768e),_0x5b6f6c[_0x1c61('0x8eb')][_0x1c61('0x6f')](_0x16eb75));}}_0xab48a['models']['envTextureCube']&&!_0xab48a[_0x1c61('0x898')][_0x1c61('0x8f1')][_0x1c61('0x8f2')]&&(_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x8f3')](_0xab48a['models'][_0x1c61('0x8f1')]),_0xab48a[_0x1c61('0x898')]['envTextureCube'][_0x1c61('0x8f2')]=!0x0);}),_0x32c379['on'](_0x1c61('0x8ac'),function(){if(_0x52ceaa[_0x1c61('0x871')]&&_0x5b6f6c){var _0x177488=!0x0,_0x2945a7=!0x1,_0x225b3e=void 0x0;try{for(var _0x72827,_0x37866a=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x5b6f6c[_0x1c61('0x31b')]);!(_0x177488=(_0x72827=_0x37866a[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x177488=!0x0){var _0x56bb5d=_0x72827[_0x1c61('0x1c')],_0x16eb75=!0x0,_0x59768e=!0x1,_0x33cb27=void 0x0;try{for(var _0x2a43ed,_0x4cb249=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x32c379[_0x1c61('0x8d3')][_0x1c61('0x8f4')]);!(_0x16eb75=(_0x2a43ed=_0x4cb249[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x16eb75=!0x0){var _0x3a00f6=_0x2a43ed[_0x1c61('0x1c')];if(_0x56bb5d['tileId']==_0x3a00f6){_0x56bb5d[_0x1c61('0x32c')]=!0x0;break;}_0x56bb5d[_0x1c61('0x32c')]=!0x1;}}catch(_0x4f2a32){_0x59768e=!0x0,_0x33cb27=_0x4f2a32;}finally{try{!_0x16eb75&&_0x4cb249[_0x1c61('0x99')]&&_0x4cb249['return']();}finally{if(_0x59768e)throw _0x33cb27;}}}}catch(_0x57b3c4){_0x2945a7=!0x0,_0x225b3e=_0x57b3c4;}finally{try{!_0x177488&&_0x37866a['return']&&_0x37866a[_0x1c61('0x99')]();}finally{if(_0x2945a7)throw _0x225b3e;}}}0x0<_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x8c2')][_0x1c61('0xf')]&&_0x52ceaa['isSetRoomEffect']&&!_0x56f468&&(setTimeout(function(){var _0x177488=!0x0,_0x2945a7=!0x1,_0x225b3e=void 0x0;try{for(var _0x72827,_0x37866a=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0xab48a[_0x1c61('0x4f1')]['tileBuilidngThemes']);!(_0x177488=(_0x72827=_0x37866a[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x177488=!0x0)_0x72827[_0x1c61('0x1c')][_0x1c61('0x41')][_0x1c61('0x108')]=!0x0;}catch(_0x315739){_0x2945a7=!0x0,_0x225b3e=_0x315739;}finally{try{!_0x177488&&_0x37866a[_0x1c61('0x99')]&&_0x37866a[_0x1c61('0x99')]();}finally{if(_0x2945a7)throw _0x225b3e;}}},0x1388),_0x56f468=!0x0);}),_0x32c379['on'](_0x1c61('0x8f5'),function(_0x177488){_0x4f2f96(_0x177488['id'],!0x1),_0x52ceaa[_0x1c61('0x8aa')]&&_0x177488[_0x1c61('0x4fc')]&&_0x500e1c&&_0x500e1c[_0x1c61('0x89a')]&&(_0xab48a[_0x1c61('0x89a')][_0x1c61('0x8f6')](_0x177488,!0x1),esmap['ESEffectTool'][_0x1c61('0x898')][_0x1c61('0x8f7')]());}),_0x32c379['on']('closeBuilding',function(_0x177488){_0x4f2f96(_0x177488[_0x1c61('0x500')],!0x0),_0x52ceaa[_0x1c61('0x8aa')]&&_0x500e1c[_0x1c61('0x89a')]&&setTimeout(function(){esmap[_0x1c61('0x51')][_0x1c61('0x898')]['showShadow']();},0x1f4);}),_0x32c379['on'](_0x1c61('0x8ad'),function(_0x177488){var _0x177488=_0x177488[_0x1c61('0x500')],_0x2945a7=(0x0,_0x1a21b1[_0x1c61('0x38')])(_0x177488)[_0x1c61('0x4f9')](0x1)[_0x1c61('0x8f8')](esmap[_0x1c61('0x8f9')][_0x1c61('0x8fa')]);if(_0x2945a7&&_0x2945a7[0x0])for(var _0x225b3e=0x0;_0x225b3e<_0x2945a7[0x0]['o3d_'][_0x1c61('0x31b')]['length'];_0x225b3e++)for(var _0x72827=_0x2945a7[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][_0x225b3e],_0x37866a=0x0;_0x37866a<_0x72827[_0x1c61('0x41')][_0x1c61('0xf')];_0x37866a++){var _0x56bb5d=_0x72827[_0x1c61('0x41')][_0x37866a];_0x56bb5d&&_0x56bb5d[_0x1c61('0x42')]['imgdata']&&_0x1c61('0x8fb')==_0x56bb5d[_0x1c61('0x42')][_0x1c61('0x8fc')][_0x1c61('0x7b')]&&(_0x56bb5d[_0x1c61('0x32c')]=!0x1,_0x56bb5d[_0x1c61('0xd8')]());}}),_0x32c379['on'](_0x1c61('0x56a'),function(_0x177488){esmap[_0x1c61('0x51')]['showRoads']&&'2D'===_0x177488?esmap[_0x1c61('0x51')][_0x1c61('0x8bf')]=!0x1:!0x1===esmap['ESEffectTool']['showRoads']&&'3D'===_0x177488&&(esmap[_0x1c61('0x51')][_0x1c61('0x8bf')]=!0x0);}),_0x32c379['on'](_0x1c61('0x577'),function(_0x177488){_0xab48a[_0x1c61('0x898')][_0x1c61('0x8fd')]();}),_0x32c379['on'](_0x1c61('0x8fe'),function(_0x177488){_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x8ff')](_0x177488[_0x1c61('0x228')]);}),_0x32c379['on'](_0x1c61('0x900'),function(_0x177488){_0xab48a[_0x1c61('0x3d1')](_0x177488),_0xd48e01[_0x1c61('0x3d1')](_0x177488),_0x4bc38f[_0x1c61('0x2db')]();});},_0x4cb249[_0x1c61('0x901')]=_0xb8ddc9['ESEffectsConstant'],_0x4cb249[_0x1c61('0x4f0')]=_0xd48e01,_0x4cb249[_0x1c61('0x4f1')]={'dispose':function(_0x177488){_0xab48a['buildings']['dispose'](_0x177488);},'removeAll':function(){_0xab48a[_0x1c61('0x4f1')]['disposeAll']();},'updateBuildingScanLight':function(_0x177488,_0x2945a7){_0x1c61('0x902')===_0x177488&&_0xab48a[_0x1c61('0x4f1')]['updateTileBuildingHorizonScan'](_0x2945a7),_0x1c61('0x903')===_0x177488&&_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x904')](_0x2945a7),_0x1c61('0x905')===_0x177488&&_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x906')](_0x2945a7);},'toggleBuildingScanLight':function(_0x177488,_0x2945a7){_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x907')](_0x177488,_0x2945a7);},'updateBuildingExtentLight':function(_0x177488){_0xab48a['buildings'][_0x1c61('0x908')](_0x177488);},'closeTileBuildingsLight':function(){_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x909')](!0x1);},'openTileBuildingsLight':function(){_0xab48a['buildings'][_0x1c61('0x909')](!0x0);},'toggleBuildingHighLight':function(_0x177488){_0x177488?_0xab48a[_0x1c61('0x4f1')][_0x1c61('0x90a')](!0x0):_0xab48a[_0x1c61('0x4f1')]['updateTileBuildingExtentLightDown'](!0x1);}},_0x4cb249[_0x1c61('0x4f2')]={'removeAll':function(){_0xab48a['floors'][_0x1c61('0xd8')]();},'settingControlFloor':function(_0x177488){_0xab48a[_0x1c61('0x4f2')]['controlFloorLayer']&&_0x177488['id']&&_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']]&&(_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']]['_originPos']||(_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']][_0x1c61('0x90c')]=_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']][_0x1c61('0x218')][_0x1c61('0x1b1')]()),_0x177488['x']&&_0x177488['y'],void 0x0!==_0x177488[_0x1c61('0x534')]&&(!0x1===_0x177488[_0x1c61('0x534')]?_0xab48a[_0x1c61('0x4f2')]['controlFloors'][_0x177488['id']][_0x1c61('0x218')]['y']=_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']]['_originPos']['y']:_0xab48a['floors'][_0x1c61('0x90b')][_0x177488['id']][_0x1c61('0x218')]['y']=_0x177488[_0x1c61('0x534')]),void 0x0!==_0x177488['isShow']&&(_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x90b')][_0x177488['id']][_0x1c61('0x32c')]=_0x177488['isShow']),_0x177488[_0x1c61('0x208')]&&(_0xab48a[_0x1c61('0x4f2')]['controlFloors'][_0x177488['id']][_0x1c61('0x41')][_0x1c61('0x208')]=_0x177488[_0x1c61('0x208')]),_0x177488[_0x1c61('0x56d')]&&_0xab48a[_0x1c61('0x4f2')][_0x1c61('0x56d')](_0x177488['id'],_0x177488['time']));}},_0x4cb249['ground']={'removeAll':function(){_0xab48a[_0x1c61('0x4f3')][_0x1c61('0x329')]();}},_0x4cb249[_0x1c61('0x4f4')]={'updateAmbientLight':function(_0x177488){_0xab48a[_0x1c61('0x4f4')]['updateAmbientLight']({'intensity':_0x177488,'isAnimate':!0x0});},'updateDirectLights':function(_0x177488){var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0xab48a[_0x1c61('0x4f4')][_0x1c61('0x90d')]);!(_0x2945a7=(_0x37866a=_0x56bb5d[_0x1c61('0x77')]())['done']);_0x2945a7=!0x0){var _0x16eb75=_0x37866a[_0x1c61('0x1c')];_0xab48a[_0x1c61('0x4f4')]['updateDirectionalLights'](_0x16eb75,_0x177488,!0x0);}}catch(_0x351236){_0x225b3e=!0x0,_0x72827=_0x351236;}finally{try{!_0x2945a7&&_0x56bb5d[_0x1c61('0x99')]&&_0x56bb5d['return']();}finally{if(_0x225b3e)throw _0x72827;}}},'recoverAmbientLight':function(){_0xab48a[_0x1c61('0x4f4')][_0x1c61('0x90e')]({'isAnimate':!0x0,'isRecover':!0x0});},'removeAll':function(){_0xab48a[_0x1c61('0x4f4')]['dispose']();},'getLights':function(){return _0xab48a[_0x1c61('0x4f4')];}},_0x4cb249[_0x1c61('0x8d7')]={'removeAll':function(){_0xab48a['routes']['disposeAll']();},'updateTileRoutesRandomStyle':function(_0x177488){_0x32c379['options'][_0x1c61('0x8be')]&&esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8da')]&&_0xab48a[_0x1c61('0x8d7')][_0x1c61('0x90f')](_0x177488);},'recoverTileRoutesStyle':function(){_0x32c379['options']['loadRoads']&&esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x8da')]&&_0xab48a[_0x1c61('0x8d7')][_0x1c61('0x910')]();},'toggleTileRoutesVisible':function(_0x177488){_0xab48a[_0x1c61('0x8d7')][_0x1c61('0x911')](_0x177488);}},_0x4cb249[_0x1c61('0x8de')]={'removeAll':function(){_0xab48a['skybox'][_0x1c61('0xd8')]();},'getSkybox':function(){return _0xab48a[_0x1c61('0x8de')][_0x1c61('0x912')]?_0xab48a[_0x1c61('0x8de')]:null;},'updateSkybox':function(_0x177488){_0xab48a['skybox'][_0x1c61('0x913')](_0x177488);}},_0x4cb249['water']={'removeAll':function(){_0xab48a[_0x1c61('0x704')]['disposeAll']();},'setStyle':function(_0x177488,_0x2945a7){_0xab48a[_0x1c61('0x704')]['setStyle'](_0x177488,_0x2945a7);},'createWaveMarker':function(_0x177488){_0xab48a['water'][_0x1c61('0x914')](_0x177488);},'updateWaveLines':function(_0x177488,_0x2945a7){_0xab48a[_0x1c61('0x704')][_0x1c61('0x915')](_0x177488,_0x2945a7);},'removeWaveLines':function(){_0xab48a[_0x1c61('0x704')][_0x1c61('0x916')]();}},_0x4cb249['models']={'showBoatFoam':function(_0x177488){if(_0x177488['id']&&void 0x0!==_0x177488[_0x1c61('0x865')])for(var _0x2945a7=_0xab48a[_0x1c61('0x898')][_0x1c61('0x917')],_0x225b3e=0x0;_0x225b3e<_0x2945a7[_0x1c61('0xf')];_0x225b3e++)if(_0x2945a7[_0x225b3e]['id']===_0x177488['id']){if(_0x2945a7[_0x225b3e][_0x1c61('0x41')]){_0x2945a7[_0x225b3e][_0x1c61('0x41')]['visible']=_0x177488[_0x1c61('0x865')],_0x177488[_0x1c61('0x32f')]&&(_0x2945a7[_0x225b3e]['speed']=_0x177488['speed']),_0x177488['fps']&&_0x2945a7[_0x225b3e]['updateFps'](_0x177488[_0x1c61('0x2ed')]);break;}console[_0x1c61('0xec')](_0x1c61('0x918'),_0x177488);}},'showTerrainGradient':function(_0x177488){var _0x2945a7;_0x177488[_0x1c61('0x7b')]&&void 0x0!==_0x177488[_0x1c61('0x865')]&&(_0x2945a7=_0xab48a[_0x1c61('0x898')][_0x1c61('0x919')])[_0x177488[_0x1c61('0x7b')]]&&_0x2945a7[_0x177488[_0x1c61('0x7b')]]['shader']&&(_0x2945a7[_0x177488[_0x1c61('0x7b')]]['shader']['uniforms'][_0x1c61('0x865')][_0x1c61('0x1c')]=_0x177488[_0x1c61('0x865')]);},'setTerrainGradientConfig':function(_0x177488){if(_0x177488[_0x1c61('0x7b')]){var _0x2945a7=_0xab48a[_0x1c61('0x898')][_0x1c61('0x919')];if(_0x2945a7[_0x177488[_0x1c61('0x7b')]])return _0x2945a7[_0x177488['name']][_0x1c61('0x91a')](_0x177488);}},'getTerrainGradientConfig':function(_0x177488){if(_0x177488['name']){var _0x2945a7=_0xab48a[_0x1c61('0x898')][_0x1c61('0x919')];if(_0x2945a7[_0x177488[_0x1c61('0x7b')]])return _0x2945a7[_0x177488[_0x1c61('0x7b')]][_0x1c61('0x857')]();}},'toggleModelLights':function(_0x177488){_0xab48a[_0x1c61('0x898')][_0x1c61('0x91b')][_0x1c61('0x841')](_0x177488),_0xab48a[_0x1c61('0x898')][_0x1c61('0x91c')](_0x177488);},'createModelLightPoints':function(){_0xab48a[_0x1c61('0x898')]['createEffectPoints']();},'showShadow':function(){_0x52ceaa[_0x1c61('0x8aa')]&&_0x500e1c['shadow']&&(_0x32c379['mapView'][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x416')]=!0x0,_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x108')]=!0x0);},'closeShadow':function(){_0x52ceaa[_0x1c61('0x8aa')]&&_0x500e1c[_0x1c61('0x89a')]&&(_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['enabled']=!0x1,_0x32c379[_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x108')]=!0x0);},'getShadow':function(){return _0xab48a[_0x1c61('0x89a')];},'setUvTransform':function(_0x177488){if(_0x177488['id'])for(var _0x2945a7=_0xab48a[_0x1c61('0x898')][_0x1c61('0x91d')],_0x225b3e=0x0;_0x225b3e<_0x2945a7[_0x1c61('0xf')];_0x225b3e++)if(_0x2945a7[_0x225b3e][_0x1c61('0x91e')]===_0x177488['id']){_0x177488[_0x1c61('0x2f2')]&&(_0x177488['offset']['x']&&(_0x2945a7[_0x225b3e][_0x1c61('0x2f2')]['x']=_0x177488[_0x1c61('0x2f2')]['x']),_0x177488['offset']['y']&&(_0x2945a7[_0x225b3e][_0x1c61('0x2f2')]['y']=_0x177488[_0x1c61('0x2f2')]['y']));break;}},'setControlGroupObj':function(_0x177488){var _0x2945a7=_0x177488[_0x1c61('0x91f')],_0x225b3e=_0x177488[_0x1c61('0x12')],_0x72827=_0x177488[_0x1c61('0x208')],_0x37866a=_0x177488[_0x1c61('0x32c')],_0x56bb5d=_0xab48a['models'][_0x1c61('0x920')];if(_0x56bb5d[_0x2945a7])for(var _0x16eb75 in _0x56bb5d[_0x2945a7])void 0x0!==_0x72827&&_0x56bb5d[_0x2945a7][_0x16eb75][_0x1c61('0xdb')](function(_0x177488){_0x1c61('0x30f')===_0x177488[_0x1c61('0x90')]&&-0x1<_0x177488[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0x921'))&&-0x1<_0x177488[_0x1c61('0x7b')][_0x1c61('0x50')](_0x225b3e)&&(_0x72827&&0x0<_0x72827&&(_0x177488[_0x1c61('0x41')]['userData'][_0x1c61('0x208')]||(_0x177488['material'][_0x1c61('0x42')][_0x1c61('0x208')]=_0x177488[_0x1c61('0x41')][_0x1c61('0x208')]),_0x177488[_0x1c61('0x41')][_0x1c61('0x208')]=_0x72827),!0x1===_0x72827&&(_0x177488[_0x1c61('0x41')][_0x1c61('0x208')]=_0x177488['material'][_0x1c61('0x42')][_0x1c61('0x208')]));}),void 0x0!==_0x37866a&&_0x16eb75===_0x225b3e&&(_0x56bb5d[_0x2945a7][_0x16eb75],_0x56bb5d[_0x2945a7][_0x16eb75][_0x1c61('0x32c')]=_0x37866a);},'setModelBloomLight':function(_0x177488,_0x2945a7){_0x177488&&_0x177488[_0x1c61('0x4fc')]&&_0x177488[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x177488){_0x1c61('0x30f')==_0x177488[_0x1c61('0x90')]&&!0x1===_0x177488[_0x1c61('0x922')]&&esmap[_0x1c61('0x51')][_0x1c61('0x4f5')][_0x1c61('0x923')](_0x177488,_0x2945a7);});},'removeModelBloomLight':function(_0x177488){_0x177488&&_0x177488[_0x1c61('0x4fc')]&&_0x177488[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x177488){_0x1c61('0x30f')==_0x177488['type']&&!0x0===_0x177488[_0x1c61('0x922')]&&esmap['ESEffectTool'][_0x1c61('0x4f5')][_0x1c61('0x924')](_0x177488);});}},_0x4cb249['video']={'createVideoProjector':function(_0x177488){return _0xab48a[_0x1c61('0x730')][_0x1c61('0x925')](_0x177488);},'clearVideoProjector':function(){_0xab48a[_0x1c61('0x730')]['clear']();},'showVisualField':function(_0x177488){_0xab48a[_0x1c61('0x730')][_0x1c61('0x926')](_0x177488);},'updateProjectorTarget':function(_0x177488){_0xab48a[_0x1c61('0x730')][_0x1c61('0x927')](_0x177488);},'isLockCameraControls':function(_0x177488){_0xab48a[_0x1c61('0x730')][_0x1c61('0x7c7')](_0x177488);}},_0x4cb249[_0x1c61('0x4f5')]={'setObjectBloomLight':function(_0x177488,_0x2945a7){var _0x225b3e=esmap['ESMapUtil'][_0x1c61('0x89e')]();if((_0x177488 instanceof THREE[_0x1c61('0x30f')]||_0x177488 instanceof THREE['Object3D'])&&(_0x177488['layers'][_0x1c61('0x552')](0x1),_0x177488['_isBloom']=!0x0,_0x225b3e[_0x1c61('0x89f')]&&_0x2945a7&&0x0<_0x2945a7&&_0x2945a7<0x1))if(Array['isArray'](_0x177488[_0x1c61('0x41')])){var _0x72827=!0x0,_0x225b3e=!0x1,_0x37866a=void 0x0;try{for(var _0x56bb5d,_0x16eb75=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x177488[_0x1c61('0x41')]);!(_0x72827=(_0x56bb5d=_0x16eb75[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x72827=!0x0){var _0x59768e=_0x56bb5d[_0x1c61('0x1c')],_0x33cb27=(_0x59768e[_0x1c61('0x928')]||(_0x59768e['_bloomOriginColor']=_0x59768e[_0x1c61('0x228')][_0x1c61('0x1b1')]()),_0x59768e[_0x1c61('0x928')]['clone']());_0x33cb27[_0x1c61('0x929')](0x0,0x0,_0x2945a7-0x1),_0x59768e['color'][_0x1c61('0x1c2')](_0x33cb27);}}catch(_0x527eba){_0x225b3e=!0x0,_0x37866a=_0x527eba;}finally{try{!_0x72827&&_0x16eb75[_0x1c61('0x99')]&&_0x16eb75['return']();}finally{if(_0x225b3e)throw _0x37866a;}}}else{_0x177488[_0x1c61('0x41')][_0x1c61('0x928')]||(_0x177488[_0x1c61('0x41')][_0x1c61('0x928')]=_0x177488['material'][_0x1c61('0x228')]['clone']());_0x225b3e=_0x177488[_0x1c61('0x41')][_0x1c61('0x928')]['clone']();_0x225b3e[_0x1c61('0x929')](0x0,0x0,_0x2945a7-0x1),_0x177488[_0x1c61('0x41')][_0x1c61('0x228')]['copy'](_0x225b3e);}},'removeObjectBloomLight':function(_0x177488){if(_0x177488 instanceof THREE['Mesh'])if(_0x177488['layers']['disable'](0x1),Array[_0x1c61('0xdf')](_0x177488[_0x1c61('0x41')])){var _0x2945a7=!0x0,_0x225b3e=!0x1,_0x72827=void 0x0;try{for(var _0x37866a,_0x56bb5d=(0x0,_0x5cda3f[_0x1c61('0x8')])(_0x177488[_0x1c61('0x41')]);!(_0x2945a7=(_0x37866a=_0x56bb5d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2945a7=!0x0){var _0x16eb75=_0x37866a[_0x1c61('0x1c')];_0x16eb75[_0x1c61('0x228')][_0x1c61('0x1c2')](_0x16eb75[_0x1c61('0x928')]);}}catch(_0x101e1a){_0x225b3e=!0x0,_0x72827=_0x101e1a;}finally{try{!_0x2945a7&&_0x56bb5d['return']&&_0x56bb5d[_0x1c61('0x99')]();}finally{if(_0x225b3e)throw _0x72827;}}}else _0x177488['material'][_0x1c61('0x228')]['copy'](_0x177488[_0x1c61('0x41')]['_bloomOriginColor']);else console[_0x1c61('0xec')](_0x1c61('0x92a'));},'updateOutlineStyle':function(_0x177488){_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x92b')](_0x177488);},'setObjectOutline':function(_0x177488,_0x2945a7){_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x92c')](_0x177488,_0x2945a7);},'removeObjectOutline':function(_0x177488){_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x92d')](_0x177488);},'clearSelectedOutline':function(){_0xab48a[_0x1c61('0x8ab')][_0x1c61('0x92e')]();}},_0x4cb249['switchEffectLight']=function(_0x177488,_0x2945a7){_0x225b3e||(_0xab48a['lights'][_0x1c61('0x92f')]({'configs':_0x177488}),_0xab48a[_0x1c61('0x4f4')][_0x1c61('0x930')](_0x177488[_0x1c61('0x87d')]),_0xab48a[_0x1c61('0x8de')]['updateSkybox'](_0x177488[_0x1c61('0x8de')]),_0xab48a['shadow'][_0x1c61('0x416')]&&(_0x1c61('0x8b0')==esmap[_0x1c61('0x51')]['options']['effectQuality']?esmap['ESEffectTool'][_0x1c61('0x898')][_0x1c61('0x931')]():_0xab48a[_0x1c61('0x89a')][_0x1c61('0x932')]({'config':_0x177488[_0x1c61('0x89a')],'isAnimate':!0x0})),setTimeout(function(){_0x225b3e=!0x1,_0x2945a7&&_0x2945a7();},0x5dc));},_0x4cb249['switchEffectTheme']=function(_0x177488){_0x4cb249[_0x1c61('0x4f7')](),_0x2c141b(_0x177488,esmap[_0x1c61('0x51')][_0x1c61('0x52')]);},_0x4cb249[_0x1c61('0x4f7')]=function(){_0x3079a2=!0x1,_0xab48a[_0x1c61('0x509')](),_0x4bc38f[_0x1c61('0x8e')]&&_0x4bc38f['removeEventListener'](_0x1c61('0x933'),_0x4bc38f['_listeners']['checkIsInLowDevice'][0x0]);},Object[_0x1c61('0x2')](_0x4cb249,_0x1c61('0x934'),{'enumerable':!0x1,'get':function(){return _0x3079a2;},'set':function(_0x177488){_0x3079a2=_0x177488;}}),_0x177488[_0x1c61('0x8')]=_0x4cb249;},function(_0x4a663c,_0x5dabd5,_0x7c5e85){'use strict';Object['defineProperty'](_0x5dabd5,_0x1c61('0x5'),{'value':!0x0});var _0x39dfce=_0x3aefd(_0x7c5e85(0x0)),_0x1a0bfd=_0x3aefd(_0x7c5e85(0x1)),_0x23756e=function(_0x4a663c){if(_0x4a663c&&_0x4a663c[_0x1c61('0x5')])return _0x4a663c;var _0x5dabd5={};if(null!=_0x4a663c)for(var _0x7c5e85 in _0x4a663c)Object[_0x1c61('0xb')][_0x1c61('0xc')]['call'](_0x4a663c,_0x7c5e85)&&(_0x5dabd5[_0x7c5e85]=_0x4a663c[_0x7c5e85]);return _0x5dabd5[_0x1c61('0x8')]=_0x4a663c,_0x5dabd5;}(_0x7c5e85(0xfe)),_0x4c3ffb=_0x7c5e85(0x62),_0x23349e=_0x7c5e85(0x1a);function _0x3aefd(_0x4a663c){return _0x4a663c&&_0x4a663c['__esModule']?_0x4a663c:{'default':_0x4a663c};}function _0x1be501(){(0x0,_0x39dfce[_0x1c61('0x8')])(this,_0x1be501),this[_0x1c61('0xd9')]=(0x0,_0x23349e[_0x1c61('0x2a')])(),this['isCanRender']=!0x0,this[_0x1c61('0x4f1')]=null,this[_0x1c61('0x4f2')]=null,this[_0x1c61('0x4f3')]=null,this[_0x1c61('0x4f4')]=null,this['routes']=null,this[_0x1c61('0x8de')]=null,this[_0x1c61('0x704')]=null,this[_0x1c61('0x898')]=null,this['postProcessing']=null,this[_0x1c61('0x89a')]=null,this[_0x1c61('0x1dd')]=null,this[_0x1c61('0x730')]=null,this[_0x1c61('0x4ef')]();}(0x0,_0x1a0bfd[_0x1c61('0x8')])(_0x1be501,[{'key':_0x1c61('0x4ef'),'value':function(){this[_0x1c61('0x4f4')]=new _0x23756e[(_0x1c61('0x890'))](),this[_0x1c61('0x4f1')]=new _0x23756e[(_0x1c61('0x888'))]({'lights':this[_0x1c61('0x4f4')]}),this['floors']=new _0x23756e[(_0x1c61('0x88d'))](),this[_0x1c61('0x4f3')]=new _0x23756e['Ground'](),this[_0x1c61('0x8d7')]=new _0x23756e[(_0x1c61('0x935'))](),this[_0x1c61('0x8de')]=new _0x23756e[(_0x1c61('0xcf'))](),this[_0x1c61('0x704')]=new _0x23756e[(_0x1c61('0x936'))](this[_0x1c61('0x8de')]),this[_0x1c61('0x898')]=new _0x23756e[(_0x1c61('0x937'))]({'water':this[_0x1c61('0x704')],'lights':this[_0x1c61('0x4f4')]}),this[_0x1c61('0x8ab')]=new _0x23756e[(_0x1c61('0x8a7'))](),this[_0x1c61('0x89a')]=new _0x23756e[(_0x1c61('0x8b9'))](),this['fog']=new _0x23756e[(_0x1c61('0x89c'))](),this['video']=new _0x23756e[(_0x1c61('0x938'))]();}},{'key':'addEffect','value':function(_0x4a663c){var _0x5dabd5=_0x4a663c[_0x1c61('0x90')],_0x7c5e85=_0x4a663c[_0x1c61('0x939')],_0x39dfce=_0x4a663c[_0x1c61('0x2a2')];switch(_0x5dabd5){case _0x4c3ffb['ESEffectsConstant']['Buildings']:_0x7c5e85['isTileBuilding']?this[_0x1c61('0x4f1')][_0x1c61('0x93a')](_0x7c5e85):this[_0x1c61('0x4f1')][_0x1c61('0x93b')](_0x7c5e85[_0x1c61('0x3e')],_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x88d')]:this[_0x1c61('0x4f2')]['setFloorMaterial'](_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x896')]:this['ground']['addGroundTexture'](_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x890')]:_0x7c5e85[_0x1c61('0x88f')]&&this[_0x1c61('0x4f4')][_0x1c61('0x93c')](_0x7c5e85),_0x7c5e85[_0x1c61('0x93d')]&&this['lights']['addDirectLights'](_0x7c5e85),_0x7c5e85[_0x1c61('0x93e')]&&this['lights'][_0x1c61('0x90e')](_0x7c5e85),_0x7c5e85[_0x1c61('0x87e')]&&this['lights'][_0x1c61('0x93f')](_0x7c5e85);break;case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0x935')]:_0x7c5e85[_0x1c61('0x940')]?this[_0x1c61('0x8d7')][_0x1c61('0x941')](0x1,_0x7c5e85):this['routes'][_0x1c61('0x942')](_0x7c5e85,_0x39dfce);break;case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0xcf')]:this['skybox']['setSkyBox'](_0x7c5e85);break;case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0x936')]:this[_0x1c61('0x704')][_0x1c61('0x943')](_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x937')]:this[_0x1c61('0x898')][_0x1c61('0x8e0')](_0x7c5e85,_0x39dfce);break;case _0x4c3ffb[_0x1c61('0x880')]['PostProcessing']:this[_0x1c61('0x8ab')][_0x1c61('0x4ef')](_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')]['Shadow']:this[_0x1c61('0x89a')][_0x1c61('0x4ef')](_0x7c5e85);break;case _0x4c3ffb[_0x1c61('0x880')]['Fog']:this[_0x1c61('0x1dd')][_0x1c61('0x4ef')](_0x7c5e85);}}},{'key':_0x1c61('0x944'),'value':function(_0x4a663c){var _0x5dabd5=_0x4a663c[_0x1c61('0x90')];switch(_0x4a663c[_0x1c61('0x5f9')],_0x4a663c[_0x1c61('0x2a2')],_0x5dabd5){case _0x4c3ffb[_0x1c61('0x880')]['Buildings']:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x88d')]:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x896')]:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x890')]:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x935')]:case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0xcf')]:case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0x936')]:}}},{'key':_0x1c61('0x945'),'value':function(_0x4a663c){var _0x5dabd5=_0x4a663c[_0x1c61('0x90')];switch(_0x4a663c[_0x1c61('0x5f9')],_0x4a663c['data'],_0x5dabd5){case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x888')]:case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0x88d')]:case _0x4c3ffb['ESEffectsConstant'][_0x1c61('0x896')]:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x890')]:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x935')]:case _0x4c3ffb[_0x1c61('0x880')]['Skybox']:case _0x4c3ffb[_0x1c61('0x880')][_0x1c61('0x936')]:}}},{'key':'removeAll','value':function(){this[_0x1c61('0x4f1')][_0x1c61('0x329')](),this[_0x1c61('0x4f2')]['dispose'](),this[_0x1c61('0x4f3')]['disposeAll'](),this[_0x1c61('0x4f4')][_0x1c61('0xd8')](),this['routes']['disposeAll'](),this['skybox'][_0x1c61('0xd8')](),this[_0x1c61('0x704')][_0x1c61('0x329')]();}},{'key':_0x1c61('0x3d1'),'value':function(_0x4a663c){this[_0x1c61('0x8b4')]&&(this[_0x1c61('0x4f1')][_0x1c61('0x3d1')](_0x4a663c),this[_0x1c61('0x8d7')][_0x1c61('0x3d1')](_0x4a663c),this[_0x1c61('0x704')][_0x1c61('0x3d1')](_0x4a663c),this[_0x1c61('0x4f2')]['render'](_0x4a663c),this[_0x1c61('0x898')][_0x1c61('0x3d1')](_0x4a663c),this[_0x1c61('0x8ab')][_0x1c61('0x3d1')](_0x4a663c));}},{'key':_0x1c61('0xd8'),'value':function(){}}]),_0x5dabd5[_0x1c61('0x8')]=_0x1be501;},function(_0x3bae05,_0x3f4b31,_0x2a8108){'use strict';Object[_0x1c61('0x2')](_0x3f4b31,_0x1c61('0x5'),{'value':!0x0}),_0x3f4b31[_0x1c61('0x938')]=_0x3f4b31['Fog']=_0x3f4b31[_0x1c61('0x8b9')]=_0x3f4b31['PostProcessing']=_0x3f4b31[_0x1c61('0x937')]=_0x3f4b31[_0x1c61('0x936')]=_0x3f4b31[_0x1c61('0xcf')]=_0x3f4b31[_0x1c61('0x935')]=_0x3f4b31[_0x1c61('0x890')]=_0x3f4b31[_0x1c61('0x896')]=_0x3f4b31['Floors']=_0x3f4b31[_0x1c61('0x888')]=void 0x0;var _0x266678=_0x212d1c(_0x2a8108(0xff)),_0x16c003=_0x212d1c(_0x2a8108(0x100)),_0x18d97a=_0x212d1c(_0x2a8108(0x101)),_0x396d57=_0x212d1c(_0x2a8108(0x102)),_0x521dd8=_0x212d1c(_0x2a8108(0x104)),_0x20468b=_0x212d1c(_0x2a8108(0x10a)),_0x35eff5=_0x212d1c(_0x2a8108(0x10b)),_0xf3f89e=_0x212d1c(_0x2a8108(0x10c)),_0x2d1aaa=_0x212d1c(_0x2a8108(0x10d)),_0xc68340=_0x212d1c(_0x2a8108(0x117)),_0x550196=_0x212d1c(_0x2a8108(0x118)),_0x2a8108=_0x212d1c(_0x2a8108(0x119));function _0x212d1c(_0x3bae05){return _0x3bae05&&_0x3bae05[_0x1c61('0x5')]?_0x3bae05:{'default':_0x3bae05};}_0x3f4b31[_0x1c61('0x888')]=_0x266678[_0x1c61('0x8')],_0x3f4b31[_0x1c61('0x88d')]=_0x16c003[_0x1c61('0x8')],_0x3f4b31['Ground']=_0x18d97a[_0x1c61('0x8')],_0x3f4b31[_0x1c61('0x890')]=_0x396d57['default'],_0x3f4b31[_0x1c61('0x935')]=_0x521dd8[_0x1c61('0x8')],_0x3f4b31['Skybox']=_0x20468b[_0x1c61('0x8')],_0x3f4b31['Water']=_0x35eff5['default'],_0x3f4b31[_0x1c61('0x937')]=_0xf3f89e[_0x1c61('0x8')],_0x3f4b31[_0x1c61('0x8a7')]=_0x2d1aaa[_0x1c61('0x8')],_0x3f4b31[_0x1c61('0x8b9')]=_0xc68340['default'],_0x3f4b31['Fog']=_0x550196[_0x1c61('0x8')],_0x3f4b31[_0x1c61('0x938')]=_0x2a8108['default'];},function(_0x586a0a,_0x308f6b,_0x5cfc20){'use strict';Object[_0x1c61('0x2')](_0x308f6b,_0x1c61('0x5'),{'value':!0x0});var _0x57fe72=_0x4fa09d(_0x5cfc20(0x3e)),_0x37897b=_0x4fa09d(_0x5cfc20(0x4)),_0x411bc3=_0x4fa09d(_0x5cfc20(0x0)),_0x423cd2=_0x4fa09d(_0x5cfc20(0x1)),_0x776a92=_0x5cfc20(0x1a),_0x28e16f=function(_0x586a0a){if(_0x586a0a&&_0x586a0a[_0x1c61('0x5')])return _0x586a0a;var _0x308f6b={};if(null!=_0x586a0a)for(var _0x5cfc20 in _0x586a0a)Object[_0x1c61('0xb')][_0x1c61('0xc')][_0x1c61('0x0')](_0x586a0a,_0x5cfc20)&&(_0x308f6b[_0x5cfc20]=_0x586a0a[_0x5cfc20]);return _0x308f6b[_0x1c61('0x8')]=_0x586a0a,_0x308f6b;}(_0x5cfc20(0x41)),_0x182049=_0x5cfc20(0x72);function _0x4fa09d(_0x586a0a){return _0x586a0a&&_0x586a0a[_0x1c61('0x5')]?_0x586a0a:{'default':_0x586a0a};}function _0x4eea64(_0x586a0a){_0x586a0a=_0x586a0a[_0x1c61('0x4f4')];(0x0,_0x411bc3[_0x1c61('0x8')])(this,_0x4eea64),this[_0x1c61('0xd9')]=(0x0,_0x776a92[_0x1c61('0x2a')])(),this[_0x1c61('0x4f4')]=_0x586a0a,this[_0x1c61('0x889')]=[],this[_0x1c61('0x8c2')]=[],this['edgeLineFrameList']=[],this[_0x1c61('0x882')]=null,this[_0x1c61('0x946')]={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this['isShowShadow']=!0x1;}(0x0,_0x423cd2[_0x1c61('0x8')])(_0x4eea64,[{'key':'setBuildingsTheme','value':function(_0x586a0a,_0x308f6b,_0x5cfc20){_0x308f6b={'map':this[_0x1c61('0xd9')],'id':_0x586a0a['id'],'mapView':_0x308f6b,'isTileBuilding':_0x5cfc20,'centerPos':_0x586a0a[_0x1c61('0x947')],'buildingColorStr':_0x586a0a[_0x1c61('0x228')],'repeat':_0x586a0a[_0x1c61('0x948')],'topRepeat':_0x586a0a[_0x1c61('0x949')],'textureLightStrength':_0x586a0a[_0x1c61('0x94a')],'texPath':_0x586a0a[_0x1c61('0x885')],'topTexPath':_0x586a0a[_0x1c61('0x884')],'gradientTexPath':_0x586a0a[_0x1c61('0x886')],'emissiveTexPath':_0x586a0a[_0x1c61('0x88b')],'emissiveTexScale':_0x586a0a[_0x1c61('0x94b')],'emissiveColorStr':_0x586a0a[_0x1c61('0x94c')],'opacity':_0x586a0a[_0x1c61('0x208')],'isBreathColor':_0x586a0a[_0x1c61('0x94d')],'isBlending':_0x586a0a[_0x1c61('0x94e')],'isOpenScan':_0x586a0a['openScan'],'isShowHorizonScan':_0x586a0a[_0x1c61('0x595')],'isShowVerticalScan':_0x586a0a['isShowVerticalScan'],'isShowCenterSpread':_0x586a0a[_0x1c61('0x5b7')],'isShowRadarScan':_0x586a0a['isShowRadarScan'],'hlColorStr':_0x586a0a[_0x1c61('0x94f')],'hlWidth':_0x586a0a[_0x1c61('0x950')],'hlDiffuse':_0x586a0a[_0x1c61('0x951')],'hlExtent':_0x586a0a['horizonScanExtent'],'hlSpeed':_0x586a0a[_0x1c61('0x952')],'vlHeight':_0x586a0a['verticalScanHeight'],'vlColorStr':_0x586a0a[_0x1c61('0x953')],'vlExtent':_0x586a0a['verticalScanExtent'],'vlSpeed':_0x586a0a[_0x1c61('0x954')],'csColorStr':_0x586a0a[_0x1c61('0x955')],'csMaxRadius':_0x586a0a['centerSpreadRadius'],'csSpeed':_0x586a0a[_0x1c61('0x956')],'csCenterPos':_0x586a0a[_0x1c61('0x957')],'rdColorStr':_0x586a0a[_0x1c61('0x958')],'radarRadius':_0x586a0a[_0x1c61('0x959')],'radarSpeed':_0x586a0a[_0x1c61('0x95a')],'radarCenterPos':_0x586a0a[_0x1c61('0x95b')],'radarTexPath':_0x586a0a[_0x1c61('0x95c')],'extentEffectConfig':_0x586a0a[_0x1c61('0x887')],'screenSkyConfig':_0x586a0a['screenSky']};return _0x308f6b[_0x1c61('0x598')]&&(_0x308f6b[_0x1c61('0x598')]=(0x0,_0x776a92[_0x1c61('0x2c')])(_0x308f6b[_0x1c61('0x598')]['x'],_0x308f6b[_0x1c61('0x598')]['y'])),_0x308f6b[_0x1c61('0x95d')]&&_0x308f6b[_0x1c61('0x95d')][_0x1c61('0x232')]&&(_0x308f6b[_0x1c61('0x95d')][_0x1c61('0x232')]=(0x0,_0x776a92['coordTransToThree'])(_0x308f6b[_0x1c61('0x95d')][_0x1c61('0x232')]['x'],_0x308f6b['extentEffectConfig'][_0x1c61('0x232')]['y'])),new _0x28e16f[(_0x1c61('0xc9'))](_0x308f6b);}},{'key':_0x1c61('0x93b'),'value':function(_0x586a0a,_0x32fdd7){_0x32fdd7[_0x1c61('0x95e')]&&this[_0x1c61('0x95f')](_0x32fdd7);var _0x294e04=(0x0,_0x776a92[_0x1c61('0x38')])(0x0)[_0x1c61('0x4f9')](_0x32fdd7[_0x1c61('0x897')]||0x1)[_0x1c61('0x8f8')]([esmap[_0x1c61('0x8f9')][_0x1c61('0x960')],esmap['ESLayerType'][_0x1c61('0x961')]]),_0xb20a44=this[_0x1c61('0x962')](_0x32fdd7,this[_0x1c61('0xd9')]['mapView']);_0xb20a44[_0x1c61('0x2aa')]('canUpdate',function(){var _0x586a0a=!0x0,_0x308f6b=!0x1,_0x5cfc20=void 0x0;try{for(var _0x411bc3,_0x423cd2=(0x0,_0x37897b[_0x1c61('0x8')])(_0x294e04);!(_0x586a0a=(_0x411bc3=_0x423cd2[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x586a0a=!0x0){var _0x4fa09d=_0x411bc3[_0x1c61('0x1c')],_0x57fe72=!0x0,_0x4eea64=!0x1,_0x897b48=void 0x0;try{for(var _0x128e0d,_0x2f0e24=(0x0,_0x37897b[_0x1c61('0x8')])(_0x4fa09d[_0x1c61('0x4fc')][_0x1c61('0x31b')]);!(_0x57fe72=(_0x128e0d=_0x2f0e24['next']())[_0x1c61('0x89')]);_0x57fe72=!0x0){var _0x496619,_0x154084=_0x128e0d['value'],_0x3796c9=(0x0,_0x776a92[_0x1c61('0x28')])(_0x154084,_0x32fdd7['roomStyle']);if(_0x3796c9){_0x154084[_0x1c61('0x41')][_0x3796c9[_0x1c61('0x42')][_0x1c61('0x43')]]=_0xb20a44['getMaterial'](),_0xb20a44[_0x1c61('0x3c6')]=_0x154084,_0x1c61('0x430')===_0x32fdd7[_0x1c61('0x29d')]&&_0x32fdd7['frameOpacity']&&((_0x496619=new _0x28e16f['EdgeLineEffect']({'colorStr':_0x32fdd7[_0x1c61('0x963')],'opacity':_0x32fdd7['frameOpacity'],'depthTest':!0x1}))[_0x1c61('0x676')](_0x154084,_0x154084[_0x1c61('0xda')]),_0x154084[_0x1c61('0x218')]['y']+=0x1,self[_0x1c61('0x964')][_0x1c61('0x6f')](_0x496619)),(0x0,_0x182049[_0x1c61('0x2b5')])(_0x154084['material'][_0x3796c9[_0x1c61('0x42')][_0x1c61('0x43')]],_0x32fdd7);break;}}}catch(_0x2b6056){_0x4eea64=!0x0,_0x897b48=_0x2b6056;}finally{try{!_0x57fe72&&_0x2f0e24[_0x1c61('0x99')]&&_0x2f0e24[_0x1c61('0x99')]();}finally{if(_0x4eea64)throw _0x897b48;}}}}catch(_0x5bf49e){_0x308f6b=!0x0,_0x5cfc20=_0x5bf49e;}finally{try{!_0x586a0a&&_0x423cd2[_0x1c61('0x99')]&&_0x423cd2['return']();}finally{if(_0x308f6b)throw _0x5cfc20;}}}),_0xb20a44['roomStyle']=_0x586a0a,_0xb20a44['_effectConfig']=_0x32fdd7,this[_0x1c61('0x889')][_0x1c61('0x6f')](_0xb20a44);}},{'key':'setBuildingAttribute','value':function(_0x586a0a,_0x308f6b,_0x5cfc20){var _0x586a0a=(0x0,_0x776a92[_0x1c61('0x38')])(_0x586a0a)[_0x1c61('0x4f9')](_0x5cfc20||0x1)['getLayersByTypes']([esmap['ESLayerType'][_0x1c61('0x960')],esmap[_0x1c61('0x8f9')][_0x1c61('0x961')]]),_0x411bc3=!0x0,_0x5cfc20=!0x1,_0x423cd2=void 0x0;try{for(var _0x4fa09d,_0x57fe72=(0x0,_0x37897b['default'])(_0x586a0a);!(_0x411bc3=(_0x4fa09d=_0x57fe72[_0x1c61('0x77')]())['done']);_0x411bc3=!0x0){var _0x4eea64=_0x4fa09d[_0x1c61('0x1c')],_0x12e8d7=!0x0,_0x54d1d2=!0x1,_0x2de2ea=void 0x0;try{for(var _0x224e37,_0x3d4998=(0x0,_0x37897b[_0x1c61('0x8')])(_0x4eea64[_0x1c61('0x4fc')][_0x1c61('0x31b')]);!(_0x12e8d7=(_0x224e37=_0x3d4998[_0x1c61('0x77')]())['done']);_0x12e8d7=!0x0){var _0x268b91=_0x224e37[_0x1c61('0x1c')];if((0x0,_0x776a92[_0x1c61('0x28')])(_0x268b91,_0x308f6b[_0x1c61('0x3e')])&&0x0<_0x268b91[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x1c61('0xf')]){_0x308f6b[_0x1c61('0x4bf')](_0x268b91);break;}}}catch(_0x7fb503){_0x54d1d2=!0x0,_0x2de2ea=_0x7fb503;}finally{try{!_0x12e8d7&&_0x3d4998['return']&&_0x3d4998[_0x1c61('0x99')]();}finally{if(_0x54d1d2)throw _0x2de2ea;}}}}catch(_0x45fc7c){_0x5cfc20=!0x0,_0x423cd2=_0x45fc7c;}finally{try{!_0x411bc3&&_0x57fe72[_0x1c61('0x99')]&&_0x57fe72[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x423cd2;}}}},{'key':_0x1c61('0x93a'),'value':function(_0x586a0a){for(var _0x308f6b in this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x965')])0x0===this[_0x1c61('0x8c2')]['length']?this['createTileBuildingsEffect'](_0x586a0a,0x0):this[_0x1c61('0x8c2')][this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x965')][_0x308f6b][_0x1c61('0x966')]]||this['createTileBuildingsEffect'](_0x586a0a,this[_0x1c61('0xd9')][_0x1c61('0x3b')]['tileStyles'][_0x308f6b][_0x1c61('0x966')]);}},{'key':'createTileBuildingsEffect','value':function(_0x586a0a,_0x308f6b){_0x586a0a[_0x1c61('0x95e')]&&this[_0x1c61('0x95f')](_0x586a0a),_0x586a0a['id']=_0x308f6b;var _0x308f6b=this['setBuildingsTheme'](_0x586a0a,this[_0x1c61('0xd9')][_0x1c61('0x45c')],!0x0),_0x5cfc20=(_0x308f6b[_0x1c61('0x3c')]=this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0x965')],_0x308f6b[_0x1c61('0x5c6')]=this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x967')],_0x308f6b[_0x1c61('0x87d')]=_0x586a0a[_0x1c61('0x87d')],_0x308f6b['themeImgMapping']=this[_0x1c61('0x968')](),_0x308f6b[_0x1c61('0x4de')]());(0x0,_0x182049['setStandardMaterialParams'])(_0x5cfc20,_0x586a0a),_0x586a0a['renderSort']&&(_0x308f6b[_0x1c61('0x969')]=_0x586a0a[_0x1c61('0x969')]),_0x308f6b['roomStyle']=_0x586a0a['roomStyle'],this[_0x1c61('0x8aa')]=_0x586a0a[_0x1c61('0x89a')],this[_0x1c61('0x8c2')][_0x1c61('0x6f')](_0x308f6b);}},{'key':_0x1c61('0x96a'),'value':function(_0x586a0a){if(0x3e8<_0x586a0a['id']){for(var _0x308f6b in this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0x965')])if(this['map']['mapTheme'][_0x1c61('0x965')][_0x308f6b][_0x1c61('0x966')]===_0x586a0a['id']){this[_0x1c61('0xd9')]['mapTheme']['modelBasicMat'][_0x586a0a['id']]=this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0x965')][_0x308f6b][_0x1c61('0x41')];break;}}else this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x96b')][_0x586a0a['id']]=_0x586a0a[_0x1c61('0x4de')]();}},{'key':_0x1c61('0x8c4'),'value':function(_0x586a0a,_0x308f6b){var _0x5cfc20=this,_0x411bc3=this[_0x1c61('0xd9')][_0x1c61('0x96c')](_0x586a0a)['getLayersByTypes']([esmap[_0x1c61('0x8f9')][_0x1c61('0x960')],esmap[_0x1c61('0x8f9')]['MODEL_BASE']]);_0x308f6b[_0x1c61('0x3cf')]?this['computeBuildingFaceAttr'](_0x411bc3,_0x308f6b):_0x308f6b[_0x1c61('0x2aa')](_0x1c61('0x60b'),function(){_0x5cfc20[_0x1c61('0x96d')](_0x411bc3,_0x308f6b);});}},{'key':_0x1c61('0x96d'),'value':function(_0x586a0a,_0x308f6b){var _0x5cfc20=!0x0,_0x411bc3=!0x1,_0x423cd2=void 0x0;try{for(var _0x4fa09d,_0x57fe72=(0x0,_0x37897b[_0x1c61('0x8')])(_0x586a0a);!(_0x5cfc20=(_0x4fa09d=_0x57fe72[_0x1c61('0x77')]())['done']);_0x5cfc20=!0x0){var _0x4eea64=_0x4fa09d[_0x1c61('0x1c')],_0x55d1a9=!0x0,_0x3359af=!0x1,_0x581003=void 0x0;try{for(var _0x5377a3,_0x4d160b=(0x0,_0x37897b[_0x1c61('0x8')])(_0x4eea64['o3d_']['children']);!(_0x55d1a9=(_0x5377a3=_0x4d160b['next']())[_0x1c61('0x89')]);_0x55d1a9=!0x0){var _0x2a8642=_0x5377a3['value'];0x0<_0x2a8642[_0x1c61('0x3f')][_0x1c61('0x4c0')][_0x1c61('0xf')]&&(_0x308f6b[_0x1c61('0x4bf')](_0x2a8642),_0x308f6b[_0x1c61('0x969')]&&(_0x2a8642[_0x1c61('0x311')]=_0x308f6b[_0x1c61('0x969')]),this[_0x1c61('0x8aa')]&&(_0x2a8642[_0x1c61('0x747')]=!0x0,_0x2a8642[_0x1c61('0x748')]=!0x0));}}catch(_0x42f2a1){_0x3359af=!0x0,_0x581003=_0x42f2a1;}finally{try{!_0x55d1a9&&_0x4d160b[_0x1c61('0x99')]&&_0x4d160b[_0x1c61('0x99')]();}finally{if(_0x3359af)throw _0x581003;}}}}catch(_0x4d73dd){_0x411bc3=!0x0,_0x423cd2=_0x4d73dd;}finally{try{!_0x5cfc20&&_0x57fe72[_0x1c61('0x99')]&&_0x57fe72[_0x1c61('0x99')]();}finally{if(_0x411bc3)throw _0x423cd2;}}}},{'key':_0x1c61('0x968'),'value':function(){for(var _0x586a0a={},_0x308f6b=0x0,_0x5cfc20=this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x96e')][_0x1c61('0x96f')],_0x411bc3=0x0;_0x411bc3<_0x5cfc20[_0x1c61('0xf')];_0x411bc3++){var _0x423cd2,_0x4fa09d=_0x5cfc20[_0x411bc3];0x2==+_0x4fa09d[_0x1c61('0x5ca')]&&0x1!=+_0x4fa09d['basic']&&(_0x586a0a[_0x308f6b]||(_0x586a0a[_0x308f6b]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x4fa09d[_0x1c61('0x970')]&&!_0x586a0a[_0x308f6b][_0x1c61('0x5cd')][_0x4fa09d[_0x1c61('0x970')]]&&(_0x423cd2=(0x0,_0x57fe72[_0x1c61('0x8')])(_0x586a0a[_0x308f6b]['topImgIndexMap'])[_0x1c61('0xf')]+0x1,_0x586a0a[_0x308f6b][_0x1c61('0x5cd')][_0x423cd2]=_0x4fa09d[_0x1c61('0x970')]),_0x4fa09d[_0x1c61('0x971')]&&!_0x586a0a[_0x308f6b][_0x1c61('0x5d5')][_0x4fa09d['sideimage']]&&(_0x423cd2=(0x0,_0x57fe72[_0x1c61('0x8')])(_0x586a0a[_0x308f6b]['sideImgIndexMap'])['length']+0x1,_0x586a0a[_0x308f6b][_0x1c61('0x5d5')][_0x423cd2]=_0x4fa09d[_0x1c61('0x971')],0x4<=_0x423cd2&&(_0x586a0a[++_0x308f6b]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x586a0a;}},{'key':_0x1c61('0x95f'),'value':function(_0x586a0a){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(_0x586a0a['scanLightType']);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72=_0x423cd2[_0x1c61('0x1c')],_0x4eea64=null,_0x4614ee=!0x0,_0x2ea620=!0x1,_0x508752=void 0x0;try{for(var _0xc5a5cc,_0x4ef296=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x882')]);!(_0x4614ee=(_0xc5a5cc=_0x4ef296[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4614ee=!0x0){var _0x45a2dc=_0xc5a5cc[_0x1c61('0x1c')];if(_0x45a2dc[_0x1c61('0x90')]===_0x57fe72){_0x4eea64=_0x45a2dc;break;}}}catch(_0x54eafa){_0x2ea620=!0x0,_0x508752=_0x54eafa;}finally{try{!_0x4614ee&&_0x4ef296[_0x1c61('0x99')]&&_0x4ef296[_0x1c61('0x99')]();}finally{if(_0x2ea620)throw _0x508752;}}switch(_0x57fe72){case _0x1c61('0x972'):_0x586a0a[_0x1c61('0x595')]=!0x0,_0x586a0a[_0x1c61('0x947')]=_0x4eea64[_0x1c61('0x947')],_0x586a0a[_0x1c61('0x94f')]=_0x4eea64[_0x1c61('0x973')],_0x586a0a[_0x1c61('0x950')]=_0x4eea64[_0x1c61('0x974')],_0x586a0a[_0x1c61('0x951')]=_0x4eea64[_0x1c61('0x975')],_0x586a0a[_0x1c61('0x976')]=_0x4eea64['scanExtent'],_0x586a0a[_0x1c61('0x952')]=_0x4eea64[_0x1c61('0x977')],this[_0x1c61('0x946')][_0x1c61('0x978')]=!0x0;break;case _0x1c61('0x979'):_0x586a0a[_0x1c61('0x596')]=!0x0,_0x586a0a[_0x1c61('0x97a')]=_0x4eea64[_0x1c61('0x530')],_0x586a0a['verticalScanColor']=_0x4eea64['scanColor'],_0x586a0a[_0x1c61('0x97b')]=_0x4eea64['scanExtent'],_0x586a0a['verticalScanSpeed']=_0x4eea64['scanSpeed'],this['isCanUseScanStatus'][_0x1c61('0x97c')]=!0x0;break;case _0x1c61('0x903'):_0x586a0a['isShowCenterSpread']=!0x0,_0x586a0a[_0x1c61('0x957')]=(0x0,_0x776a92[_0x1c61('0x2c')])(_0x4eea64[_0x1c61('0x4b7')]['x'],_0x4eea64[_0x1c61('0x4b7')]['y']),_0x586a0a[_0x1c61('0x955')]=_0x4eea64[_0x1c61('0x973')],_0x586a0a['centerSpreadRadius']=_0x4eea64[_0x1c61('0x97d')],_0x586a0a['centerSpreadSpeed']=_0x4eea64[_0x1c61('0x977')],this[_0x1c61('0x946')][_0x1c61('0x97e')]=!0x0;break;case _0x1c61('0x905'):_0x586a0a[_0x1c61('0x597')]=!0x0,_0x586a0a[_0x1c61('0x95b')]=(0x0,_0x776a92['coordTransToThree'])(_0x4eea64[_0x1c61('0x4b7')]['x'],_0x4eea64[_0x1c61('0x4b7')]['y']),_0x586a0a[_0x1c61('0x959')]=_0x4eea64[_0x1c61('0x97f')],_0x586a0a['radarScanColor']=_0x4eea64[_0x1c61('0x973')],_0x586a0a[_0x1c61('0x95c')]=(0x0,_0x776a92[_0x1c61('0x26')])(_0x4eea64[_0x1c61('0x980')]),this[_0x1c61('0x946')][_0x1c61('0x981')]=!0x0;}}}catch(_0x1ad144){_0x5cfc20=!0x0,_0x411bc3=_0x1ad144;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}},{'key':_0x1c61('0x8ff'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]&&_0x586a0a){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())['done']);_0x308f6b=!0x0)_0x423cd2[_0x1c61('0x1c')][_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5f0')][_0x1c61('0x1c')][_0x1c61('0x2fa')](_0x586a0a);}catch(_0x44a14a){_0x5cfc20=!0x0,_0x411bc3=_0x44a14a;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x90a'),'value':function(_0x586a0a){if(0x0<this['tileBuilidngThemes']['length']){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0)_0x423cd2[_0x1c61('0x1c')][_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5ef')]['value']=_0x586a0a;}catch(_0x4c4cff){_0x5cfc20=!0x0,_0x411bc3=_0x4c4cff;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x982'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]&&this['isCanUseScanStatus'][_0x1c61('0x978')]){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b['default'])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72,_0x4eea64=_0x423cd2['value'];_0x4eea64[_0x1c61('0x3cf')]['uniforms']['isShowScan']['value']=!0x0,_0x586a0a[_0x1c61('0x4bc')]&&(_0x4eea64[_0x1c61('0x59d')]=_0x586a0a[_0x1c61('0x4bc')],_0x4eea64[_0x1c61('0x5b3')]=_0x4eea64['hlExtent'][0x0],_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')]['hlTime'][_0x1c61('0x1c')]=_0x4eea64[_0x1c61('0x59d')][0x0]),_0x586a0a[_0x1c61('0x977')]&&(_0x4eea64[_0x1c61('0x5b9')]=_0x586a0a[_0x1c61('0x977')]),_0x586a0a[_0x1c61('0x973')]&&_0x4eea64[_0x1c61('0x5b8')][_0x1c61('0x2fa')](_0x586a0a[_0x1c61('0x973')]),_0x586a0a[_0x1c61('0x974')]&&(_0x4eea64['shader']['uniforms'][_0x1c61('0x59b')][_0x1c61('0x1c')]=_0x586a0a[_0x1c61('0x974')]),_0x586a0a[_0x1c61('0x947')]&&(_0x57fe72=(0x0,_0x776a92[_0x1c61('0x2c')])(_0x586a0a[_0x1c61('0x947')]['x'],_0x586a0a[_0x1c61('0x947')]['y']),_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x598')]['value'][_0x1c61('0x1b')](_0x57fe72['x'],_0x57fe72['y']));}}catch(_0x1496ac){_0x5cfc20=!0x0,_0x411bc3=_0x1496ac;}finally{try{!_0x308f6b&&_0x4fa09d['return']&&_0x4fa09d['return']();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x904'),'value':function(_0x586a0a){if(0x0<this['tileBuilidngThemes'][_0x1c61('0xf')]&&this['isCanUseScanStatus']['centerSpread']){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b['default'])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72,_0x4eea64=_0x423cd2[_0x1c61('0x1c')];_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5b5')][_0x1c61('0x1c')]=0x0,_0x4eea64['shader'][_0x1c61('0x16a')]['isShowScan']['value']=!0x0,_0x586a0a[_0x1c61('0x977')]&&(_0x4eea64[_0x1c61('0x5a4')]=_0x586a0a[_0x1c61('0x977')]),_0x586a0a['scanColor']&&_0x4eea64['csColor'][_0x1c61('0x2fa')](_0x586a0a[_0x1c61('0x973')]),_0x586a0a['maxRadius']&&(_0x4eea64[_0x1c61('0x5a3')]=_0x586a0a[_0x1c61('0x97d')]),_0x586a0a[_0x1c61('0x41f')]&&(_0x4eea64['shader'][_0x1c61('0x16a')][_0x1c61('0x5a2')][_0x1c61('0x1c')]=0x3e8*_0x586a0a[_0x1c61('0x41f')]),_0x586a0a[_0x1c61('0x4b7')]&&(_0x57fe72=(0x0,_0x776a92[_0x1c61('0x2c')])(_0x586a0a['scanCenter']['x'],_0x586a0a['scanCenter']['y']),_0x4eea64[_0x1c61('0x3cf')]['uniforms']['csCenterPos']['value']['set'](_0x57fe72['x'],_0x57fe72['y'])),_0x4eea64[_0x1c61('0x5b5')]=0x0;}}catch(_0x5954c9){_0x5cfc20=!0x0,_0x411bc3=_0x5954c9;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':'updateTileBuildingRadarScan','value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]&&this[_0x1c61('0x946')][_0x1c61('0x981')]){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72,_0x4eea64=_0x423cd2[_0x1c61('0x1c')];_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5b6')][_0x1c61('0x1c')]=0x0,_0x4eea64['shader'][_0x1c61('0x16a')][_0x1c61('0x5f4')]['value']=!0x0,_0x586a0a[_0x1c61('0x977')]&&(_0x4eea64[_0x1c61('0x5be')]=_0x586a0a[_0x1c61('0x977')]),_0x586a0a[_0x1c61('0x973')]&&_0x4eea64['radarColor'][_0x1c61('0x2fa')](_0x586a0a[_0x1c61('0x973')]),_0x586a0a['scanRadius']&&(_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5f5')][_0x1c61('0x1c')]=_0x586a0a[_0x1c61('0x97f')]),_0x586a0a[_0x1c61('0x4b7')]&&(_0x57fe72=(0x0,_0x776a92['coordTransToThree'])(_0x586a0a[_0x1c61('0x4b7')]['x'],_0x586a0a[_0x1c61('0x4b7')]['y']),_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x983')][_0x1c61('0x1c')][_0x1c61('0x1b')](_0x57fe72['x'],_0x57fe72['y'])),_0x4eea64[_0x1c61('0x5b6')]=0x0;}}catch(_0x540ca6){_0x5cfc20=!0x0,_0x411bc3=_0x540ca6;}finally{try{!_0x308f6b&&_0x4fa09d['return']&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':'toggleTileBuildingsScan','value':function(_0x586a0a,_0x308f6b){if(_0x1c61('0x972')===_0x586a0a&&0x0<this[_0x1c61('0x8c2')]['length']&&this[_0x1c61('0x946')][_0x1c61('0x978')]){var _0x5cfc20=!0x0,_0x411bc3=!0x1,_0x423cd2=void 0x0;try{for(var _0x4fa09d,_0x57fe72=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x5cfc20=(_0x4fa09d=_0x57fe72[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5cfc20=!0x0){var _0x4eea64=_0x4fa09d[_0x1c61('0x1c')];_0x4eea64[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x5b3')]['value']=0x0,_0x4eea64[_0x1c61('0x5b3')]=0x0,_0x4eea64[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5f4')][_0x1c61('0x1c')]=_0x308f6b;}}catch(_0x25f63f){_0x411bc3=!0x0,_0x423cd2=_0x25f63f;}finally{try{!_0x5cfc20&&_0x57fe72[_0x1c61('0x99')]&&_0x57fe72[_0x1c61('0x99')]();}finally{if(_0x411bc3)throw _0x423cd2;}}}if(_0x1c61('0x903')===_0x586a0a&&0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]&&this[_0x1c61('0x946')][_0x1c61('0x97e')]){var _0x2dfe29=!0x0,_0x411bc3=!0x1,_0x423cd2=void 0x0;try{for(var _0x2b90dc,_0x18dd81=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x2dfe29=(_0x2b90dc=_0x18dd81[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2dfe29=!0x0){var _0xe137e1=_0x2b90dc['value'];_0xe137e1[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x5b5')]['value']=0x0,_0xe137e1['csTime']=0x0,_0xe137e1['shader'][_0x1c61('0x16a')]['isShowScan'][_0x1c61('0x1c')]=_0x308f6b;}}catch(_0x66ed92){_0x411bc3=!0x0,_0x423cd2=_0x66ed92;}finally{try{!_0x2dfe29&&_0x18dd81[_0x1c61('0x99')]&&_0x18dd81['return']();}finally{if(_0x411bc3)throw _0x423cd2;}}}if(_0x1c61('0x905')===_0x586a0a&&0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]&&this[_0x1c61('0x946')][_0x1c61('0x981')]){var _0x4b661c=!0x0,_0x411bc3=!0x1,_0x423cd2=void 0x0;try{for(var _0x95d9c9,_0x2fc744=(0x0,_0x37897b['default'])(this[_0x1c61('0x8c2')]);!(_0x4b661c=(_0x95d9c9=_0x2fc744[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4b661c=!0x0){var _0x2e1160=_0x95d9c9['value'];_0x2e1160[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5b6')][_0x1c61('0x1c')]=0x0,_0x2e1160[_0x1c61('0x5b6')]=0x0,_0x2e1160[_0x1c61('0x3cf')][_0x1c61('0x16a')][_0x1c61('0x5f4')]['value']=_0x308f6b;}}catch(_0x3b1273){_0x411bc3=!0x0,_0x423cd2=_0x3b1273;}finally{try{!_0x4b661c&&_0x2fc744[_0x1c61('0x99')]&&_0x2fc744['return']();}finally{if(_0x411bc3)throw _0x423cd2;}}}}},{'key':_0x1c61('0x908'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')]['length']){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72,_0x4eea64=_0x423cd2[_0x1c61('0x1c')];_0x4eea64[_0x1c61('0x5c1')]&&(_0x586a0a[_0x1c61('0x984')]?(_0x57fe72=(0x0,_0x776a92[_0x1c61('0x2c')])(_0x586a0a[_0x1c61('0x232')]['x'],_0x586a0a['center']['y']),_0x4eea64[_0x1c61('0x3cf')]['uniforms'][_0x1c61('0x5c2')][_0x1c61('0x1c')][_0x1c61('0x1b')](_0x57fe72['x'],_0x57fe72['y']),_0x4eea64['toggleExtentLight'](0x0,_0x586a0a[_0x1c61('0x226')])):_0x4eea64[_0x1c61('0x60d')](_0x586a0a[_0x1c61('0x226')],0x0));}}catch(_0x4b242f){_0x5cfc20=!0x0,_0x411bc3=_0x4b242f;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d['return']();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x909'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72=_0x423cd2[_0x1c61('0x1c')];_0x586a0a?_0x57fe72[_0x1c61('0x60c')](_0x57fe72[_0x1c61('0x5c7')],0x1):_0x57fe72[_0x1c61('0x60c')](_0x57fe72[_0x1c61('0x5c7')],0.1);}}catch(_0x59f721){_0x5cfc20=!0x0,_0x411bc3=_0x59f721;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d['return']();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x8f3'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x8c2')][_0x1c61('0xf')]){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x8c2')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72=_0x423cd2['value'];_0x57fe72[_0x1c61('0x87d')]&&(_0x57fe72['material']['envMap']=_0x586a0a,_0x57fe72['material'][_0x1c61('0x2b8')]=_0x57fe72[_0x1c61('0x87d')][_0x1c61('0x468')]||0x1,_0x57fe72[_0x1c61('0x41')][_0x1c61('0x108')]=!0x0);}}catch(_0x2da5b9){_0x5cfc20=!0x0,_0x411bc3=_0x2da5b9;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}},{'key':_0x1c61('0x2db'),'value':function(_0x586a0a){}},{'key':_0x1c61('0xd8'),'value':function(_0x586a0a){for(var _0x308f6b=-0x1,_0x5cfc20=0x0,_0x411bc3=this['buildingsThemes'][_0x1c61('0xf')];_0x5cfc20<_0x411bc3;_0x5cfc20++)if(this[_0x1c61('0x889')][_0x5cfc20][_0x1c61('0x3e')]===_0x586a0a){this['buildingsThemes'][_0x5cfc20][_0x1c61('0xd8')](),_0x308f6b=_0x5cfc20;break;}-0x1<_0x308f6b&&this[_0x1c61('0x889')][_0x1c61('0x8f')](_0x308f6b,0x1);}},{'key':_0x1c61('0x329'),'value':function(){for(var _0x586a0a=0x0,_0x308f6b=this[_0x1c61('0x889')][_0x1c61('0xf')];_0x586a0a<_0x308f6b;_0x586a0a++)this[_0x1c61('0x889')][_0x586a0a][_0x1c61('0xd8')](),this[_0x1c61('0x889')][_0x586a0a]=null;for(var _0x5cfc20=0x0,_0x411bc3=this[_0x1c61('0x964')][_0x1c61('0xf')];_0x5cfc20<_0x411bc3;_0x5cfc20++)this[_0x1c61('0x964')][_0x5cfc20][_0x1c61('0xd8')](),this[_0x1c61('0x964')][_0x5cfc20]=null;this[_0x1c61('0x889')][_0x1c61('0xf')]=0x0,this['edgeLineFrameList']['length']=0x0;}},{'key':_0x1c61('0x3d1'),'value':function(_0x586a0a){if(0x0<this[_0x1c61('0x889')][_0x1c61('0xf')]){var _0x308f6b=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x423cd2,_0x4fa09d=(0x0,_0x37897b[_0x1c61('0x8')])(this[_0x1c61('0x889')]);!(_0x308f6b=(_0x423cd2=_0x4fa09d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x308f6b=!0x0){var _0x57fe72=_0x423cd2[_0x1c61('0x1c')];(0x0,_0x776a92['clearShaderCode'])(_0x57fe72['shader']),_0x57fe72[_0x1c61('0x3d1')](_0x586a0a);}}catch(_0x3f093b){_0x5cfc20=!0x0,_0x411bc3=_0x3f093b;}finally{try{!_0x308f6b&&_0x4fa09d[_0x1c61('0x99')]&&_0x4fa09d[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}if(0x0<this[_0x1c61('0x8c2')]['length']){var _0x4eea64=!0x0,_0x5cfc20=!0x1,_0x411bc3=void 0x0;try{for(var _0x2d2356,_0x1550a0=(0x0,_0x37897b[_0x1c61('0x8')])(this['tileBuilidngThemes']);!(_0x4eea64=(_0x2d2356=_0x1550a0['next']())[_0x1c61('0x89')]);_0x4eea64=!0x0){var _0x3964b8=_0x2d2356[_0x1c61('0x1c')];(0x0,_0x776a92[_0x1c61('0x55')])(_0x3964b8['shader']),_0x3964b8['render'](_0x586a0a);}}catch(_0x38a39e){_0x5cfc20=!0x0,_0x411bc3=_0x38a39e;}finally{try{!_0x4eea64&&_0x1550a0[_0x1c61('0x99')]&&_0x1550a0[_0x1c61('0x99')]();}finally{if(_0x5cfc20)throw _0x411bc3;}}}}}]),_0x308f6b[_0x1c61('0x8')]=_0x4eea64;},function(_0x1b0a37,_0x311f9b,_0x4f09ee){'use strict';Object[_0x1c61('0x2')](_0x311f9b,'__esModule',{'value':!0x0});var _0x583370=_0x49605b(_0x4f09ee(0x4)),_0x371a42=_0x49605b(_0x4f09ee(0x0)),_0x27d93d=_0x49605b(_0x4f09ee(0x1)),_0x254915=_0x4f09ee(0x1a),_0x1d0ff7=function(_0x1b0a37){if(_0x1b0a37&&_0x1b0a37[_0x1c61('0x5')])return _0x1b0a37;var _0x311f9b={};if(null!=_0x1b0a37)for(var _0x4f09ee in _0x1b0a37)Object[_0x1c61('0xb')][_0x1c61('0xc')][_0x1c61('0x0')](_0x1b0a37,_0x4f09ee)&&(_0x311f9b[_0x4f09ee]=_0x1b0a37[_0x4f09ee]);return _0x311f9b['default']=_0x1b0a37,_0x311f9b;}(_0x4f09ee(0x41)),_0x3c94c9=_0x4f09ee(0x72);function _0x49605b(_0x1b0a37){return _0x1b0a37&&_0x1b0a37[_0x1c61('0x5')]?_0x1b0a37:{'default':_0x1b0a37};}function _0x403486(){(0x0,_0x371a42[_0x1c61('0x8')])(this,_0x403486),this[_0x1c61('0xd9')]=(0x0,_0x254915['getMapInstance'])(),this[_0x1c61('0x985')]=[],this[_0x1c61('0x986')]=[],this[_0x1c61('0x987')]=null,this[_0x1c61('0x90b')]={};}(0x0,_0x27d93d[_0x1c61('0x8')])(_0x403486,[{'key':_0x1c61('0x988'),'value':function(_0x1b0a37){var _0x207a12=this,_0x311f9b=!0x0,_0x4f09ee=!0x1,_0x371a42=void 0x0;try{for(var _0x27d93d,_0x49605b=(0x0,_0x583370[_0x1c61('0x8')])(_0x1b0a37);!(_0x311f9b=(_0x27d93d=_0x49605b[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x311f9b=!0x0){var _0x56d95e=_0x27d93d[_0x1c61('0x1c')],_0x403486=(0x0,_0x254915[_0x1c61('0x38')])(0x0)[_0x1c61('0x4f9')](_0x56d95e[_0x1c61('0x897')]||0x1);if(_0x403486){var _0xe3123f,_0x334739,_0x54228a,_0x19869d,_0x23974c,_0x10145e,_0x2d28ac,_0x2130bd,_0x5bd17e,_0xa1ada0,_0x4f190e,_0x44c7af,_0x43ddb4=_0x403486[_0x1c61('0x8f8')]([esmap[_0x1c61('0x8f9')][_0x1c61('0x989')]]);if('standard'===_0x56d95e['effectType']&&(_0xe3123f=_0x43ddb4[0x0]['o3d_']['children'][0x0]['material'][0x0],_0x334739=new THREE['MeshStandardMaterial']({'color':_0xe3123f[_0x1c61('0x228')]}),(0x0,_0x3c94c9[_0x1c61('0x2b5')])(_0x334739,_0x56d95e),_0x43ddb4[0x0][_0x1c61('0x4fc')]['children'][0x0][_0x1c61('0x41')][0x0]=_0x334739,this['floorsMesh'][_0x1c61('0x6f')](_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0])),'points_spread'===_0x56d95e[_0x1c61('0x98a')]&&_0x56d95e[_0x1c61('0x98b')]){var _0x2773c6=_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0];if(Array['isArray'](_0x2773c6['material'])){var _0x320946=!0x0,_0x517f4a=!0x1,_0x5a4936=void 0x0;try{for(var _0x1664c5,_0x246a17=(0x0,_0x583370[_0x1c61('0x8')])(_0x2773c6[_0x1c61('0x41')]);!(_0x320946=(_0x1664c5=_0x246a17[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x320946=!0x0)_0x1664c5[_0x1c61('0x1c')]['dispose']();}catch(_0x4f9c38){_0x517f4a=!0x0,_0x5a4936=_0x4f9c38;}finally{try{!_0x320946&&_0x246a17[_0x1c61('0x99')]&&_0x246a17['return']();}finally{if(_0x517f4a)throw _0x5a4936;}}}else _0x2773c6[_0x1c61('0x41')][_0x1c61('0xd8')]();_0x2773c6[_0x1c61('0xda')][_0x1c61('0xd8')]();var _0x15479e=new THREE['TextureLoader']()[_0x1c61('0x96')]((0x0,_0x254915[_0x1c61('0x26')])(_0x56d95e['effectConfigs'][_0x1c61('0x895')])),_0x212dbd=(_0x15479e['anisotropy']=this[_0x1c61('0xd9')][_0x1c61('0x45c')]['renderer'][_0x1c61('0x5ea')][_0x1c61('0x520')](),new _0x1d0ff7[(_0x1c61('0xab'))]({'speed':_0x56d95e['effectConfigs']['speed']})),_0xbc5f42=(_0x2773c6[_0x1c61('0xda')]=new THREE[(_0x1c61('0x3d0'))](_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x226')],_0x56d95e['effectConfigs']['radius']),_0x2773c6['material']=_0x212dbd[_0x1c61('0x2f8')]({'texture':_0x15479e,'repeat':_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x2f0')],'colorStr':_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x228')]}),_0x2773c6[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x56d95e['offsetHeight']?_0x2773c6['position']['y']+ +_0x56d95e['offsetHeight']:_0x2773c6['position']['y']);_0x2773c6[_0x1c61('0x218')]['y']=_0xbc5f42,_0x56d95e['effectConfigs'][_0x1c61('0x232')]&&(0x0,_0x254915[_0x1c61('0x2b')])(_0x2773c6,_0x56d95e[_0x1c61('0x98b')]['center'],_0xbc5f42),this[_0x1c61('0x986')][_0x1c61('0x6f')](_0x212dbd);}_0x56d95e[_0x1c61('0x228')]&&_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0][_0x1c61('0x41')][0x0][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x56d95e['color']),_0x56d95e[_0x1c61('0x98c')]&&(_0x54228a=_0x43ddb4[0x0][_0x1c61('0x4fc')]['children'][0x0]['material'][0x0],(_0x19869d=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x254915[_0x1c61('0x26')])(_0x56d95e[_0x1c61('0x98c')])))['wrapT']=THREE['ClampToEdgeWrapping'],_0x19869d[_0x1c61('0x3f1')]=THREE[_0x1c61('0x5db')],_0x23974c=_0x56d95e[_0x1c61('0x98d')]||0x2710,_0x10145e=new THREE['PlaneBufferGeometry'](_0x23974c,_0x23974c),_0x54228a[_0x1c61('0x1ee')]=!0x0,_0x54228a[_0x1c61('0x36c')]=_0x19869d,_0x54228a[_0x1c61('0x108')]=!0x0,(_0x2d28ac=new THREE['Mesh'](_0x10145e,_0x54228a))[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x2d28ac[_0x1c61('0x218')]['y']=_0x43ddb4[0x0]['o3d_'][_0x1c61('0x31b')][0x0][_0x1c61('0x218')]['y']-0.5,_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x1c4')](_0x2d28ac)),_0x1c61('0x98e')===_0x56d95e[_0x1c61('0x98a')]&&_0x56d95e[_0x1c61('0x98b')]&&function(){var _0x1b0a37=null;if(_0x56d95e[_0x1c61('0x98b')]['isControl'])(_0x1b0a37=0x0===_0x43ddb4[_0x1c61('0xf')]?new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3d0'))](0x1,0x1),new THREE['MeshBasicMaterial']()):_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0][_0x1c61('0x1b1')]())[_0x1c61('0x7b')]=_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x98f')],_0x207a12[_0x1c61('0x90b')][_0x56d95e[_0x1c61('0x98b')]['controlId']]=_0x1b0a37;else{if(_0x1b0a37=_0x43ddb4[0x0]['o3d_'][_0x1c61('0x31b')][0x0],Array[_0x1c61('0xdf')](_0x1b0a37[_0x1c61('0x41')])){var _0x311f9b=!0x0,_0x4f09ee=!0x1,_0x371a42=void 0x0;try{for(var _0x27d93d,_0x49605b=(0x0,_0x583370[_0x1c61('0x8')])(_0x1b0a37[_0x1c61('0x41')]);!(_0x311f9b=(_0x27d93d=_0x49605b[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x311f9b=!0x0)_0x27d93d[_0x1c61('0x1c')][_0x1c61('0xd8')]();}catch(_0x279be6){_0x4f09ee=!0x0,_0x371a42=_0x279be6;}finally{try{!_0x311f9b&&_0x49605b[_0x1c61('0x99')]&&_0x49605b[_0x1c61('0x99')]();}finally{if(_0x4f09ee)throw _0x371a42;}}}else _0x1b0a37[_0x1c61('0x41')][_0x1c61('0xd8')]();_0x1b0a37['geometry'][_0x1c61('0xd8')]();}var _0x4f09ee=null,_0x371a42=(_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x895')]&&((_0x4f09ee=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x254915[_0x1c61('0x26')])(_0x56d95e['effectConfigs']['repeatImg'])))[_0x1c61('0x332')]=THREE[_0x1c61('0x333')],_0x4f09ee['wrapS']=THREE[_0x1c61('0x333')],_0x56d95e[_0x1c61('0x98b')]['anisotropy']&&(_0x4f09ee['anisotropy']=_0x207a12[_0x1c61('0xd9')][_0x1c61('0x45c')]['renderer'][_0x1c61('0x5ea')][_0x1c61('0x520')]())),null),_0x403486=(_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x990')]&&((_0x371a42=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x254915[_0x1c61('0x26')])(_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x990')])))[_0x1c61('0x332')]=THREE['RepeatWrapping'],_0x371a42[_0x1c61('0x3f1')]=THREE[_0x1c61('0x333')],_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x51e')]&&(_0x371a42[_0x1c61('0x51e')]=_0x207a12[_0x1c61('0xd9')]['mapView'][_0x1c61('0x51f')][_0x1c61('0x5ea')]['getMaxAnisotropy']())),new _0x1d0ff7[(_0x1c61('0xaa'))]({'colorStr':_0x56d95e['effectConfigs'][_0x1c61('0x228')],'radius':_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x226')],'repeat':_0x56d95e['effectConfigs'][_0x1c61('0x2f0')],'transFactor':_0x56d95e['effectConfigs'][_0x1c61('0x71a')],'materialType':_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x725')]})),_0x403486=(_0x207a12['floorEffects'][_0x1c61('0x6f')](_0x403486),_0x403486['createGround'](_0x4f09ee,_0x371a42)),_0x4f09ee=_0x403486[_0x1c61('0xda')],_0xe3123f=_0x403486[_0x1c61('0x41')],_0x371a42=(_0x1b0a37['geometry']=_0x4f09ee,_0x1b0a37['material']=_0xe3123f,_0x1b0a37[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x1b0a37[_0x1c61('0x7b')]=_0x1c61('0x991'),(0x0,_0x3c94c9[_0x1c61('0x2b5')])(_0xe3123f,_0x56d95e[_0x1c61('0x98b')]),_0x56d95e[_0x1c61('0x98b')]['receiveShadow']&&(_0x1b0a37['receiveShadow']=!0x0),_0x56d95e[_0x1c61('0x534')]?_0x1b0a37[_0x1c61('0x218')]['y']+ +_0x56d95e[_0x1c61('0x534')]:_0x1b0a37[_0x1c61('0x218')]['y']);_0x1b0a37[_0x1c61('0x218')]['y']=_0x371a42,_0x56d95e['pos']&&(_0x1b0a37[_0x1c61('0x218')]['x']=_0x56d95e['pos']['x'],_0x1b0a37['position']['z']=_0x56d95e['pos']['y']),_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x226')]&&_0x207a12[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')][_0x1c61('0x37f')]<=_0x56d95e['effectConfigs'][_0x1c61('0x226')]&&(_0x207a12[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')]['far']=_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x226')]+0x3e8,_0x207a12[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')][_0x1c61('0x6d3')]()),_0x56d95e['effectConfigs'][_0x1c61('0x992')]&&(_0x207a12['controlFloorLayer']||(_0x207a12[_0x1c61('0x987')]=new THREE[(_0x1c61('0x331'))](),_0x207a12['map'][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x207a12[_0x1c61('0x987')])),void 0x0!==_0x56d95e[_0x1c61('0x98b')][_0x1c61('0x32c')]&&(_0x1b0a37[_0x1c61('0x32c')]=_0x56d95e['effectConfigs']['visible']),_0x207a12[_0x1c61('0x987')]['add'](_0x1b0a37)),_0x207a12[_0x1c61('0xd9')]['on'](_0x1c61('0x56a'),function(_0x1b0a37){_0xe3123f[_0x1c61('0x32c')]='2D'!==_0x1b0a37;});}(),_0x1c61('0x993')===_0x56d95e[_0x1c61('0x98a')]&&_0x56d95e[_0x1c61('0x98b')]&&((_0x2130bd=_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0])[_0x1c61('0x32c')]=!0x1,_0x5bd17e=new _0x1d0ff7[(_0x1c61('0xb0'))]({'texWidth':window[_0x1c61('0x994')],'texHeight':window[_0x1c61('0x995')]}),_0xa1ada0=new THREE['PlaneBufferGeometry'](0x3e8,0x3e8),_0x4f190e=_0x5bd17e[_0x1c61('0x7')](_0xa1ada0),_0x44c7af=_0x56d95e[_0x1c61('0x534')]?_0x2130bd[_0x1c61('0x218')]['y']+ +_0x56d95e['offsetHeight']:_0x2130bd['position']['y'],_0x4f190e[_0x1c61('0x218')]['y']=_0x44c7af,_0x4f190e[_0x1c61('0x3f4')](-Math['PI']/0x2),this['map']['mapView']['scene'][_0x1c61('0x1c4')](_0x4f190e)),!0x1===_0x56d95e[_0x1c61('0x32c')]&&(_0x43ddb4[0x0][_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0]['visible']=!0x1);}}}catch(_0x4fe244){_0x4f09ee=!0x0,_0x371a42=_0x4fe244;}finally{try{!_0x311f9b&&_0x49605b[_0x1c61('0x99')]&&_0x49605b[_0x1c61('0x99')]();}finally{if(_0x4f09ee)throw _0x371a42;}}}},{'key':_0x1c61('0x56d'),'value':function(_0x311f9b,_0x1b0a37){var _0x4f09ee=this;new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x1b0a37)[_0x1c61('0x2da')](function(_0x1b0a37){_0x4f09ee[_0x1c61('0x90b')][_0x311f9b]['material'][_0x1c61('0x208')]=_0x1b0a37['x'];})[_0x1c61('0x2d5')](TWEEN['Easing'][_0x1c61('0x2d7')]['In'])[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0xd8'),'value':function(){for(var _0x1b0a37=0x0,_0x311f9b=this[_0x1c61('0x985')][_0x1c61('0xf')];_0x1b0a37<_0x311f9b;_0x1b0a37++)this[_0x1c61('0x985')][_0x1b0a37][_0x1c61('0x41')][0x0]['dispose'](),this['floorsMesh'][_0x1b0a37][_0x1c61('0x41')][0x0]=null;for(var _0x4f09ee=this[_0x1c61('0x985')][_0x1c61('0xf')]=0x0,_0x371a42=this[_0x1c61('0x986')][_0x1c61('0xf')];_0x4f09ee<_0x371a42;_0x4f09ee++)this['floorEffects'][_0x4f09ee][_0x1c61('0xd8')](),this[_0x1c61('0x986')][_0x4f09ee]=null;this[_0x1c61('0x986')][_0x1c61('0xf')]=0x0,this[_0x1c61('0x987')]&&(this[_0x1c61('0x987')][_0x1c61('0xd8')](),this[_0x1c61('0x987')]=null);}},{'key':_0x1c61('0x3d1'),'value':function(_0x1b0a37){if(0x0<this[_0x1c61('0x986')][_0x1c61('0xf')]){var _0x311f9b=!0x0,_0x4f09ee=!0x1,_0x371a42=void 0x0;try{for(var _0x27d93d,_0x49605b=(0x0,_0x583370[_0x1c61('0x8')])(this[_0x1c61('0x986')]);!(_0x311f9b=(_0x27d93d=_0x49605b[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x311f9b=!0x0)_0x27d93d[_0x1c61('0x1c')][_0x1c61('0x3d1')](_0x1b0a37);}catch(_0x330046){_0x4f09ee=!0x0,_0x371a42=_0x330046;}finally{try{!_0x311f9b&&_0x49605b[_0x1c61('0x99')]&&_0x49605b[_0x1c61('0x99')]();}finally{if(_0x4f09ee)throw _0x371a42;}}}}}]),_0x311f9b[_0x1c61('0x8')]=_0x403486;},function(_0x1b51b1,_0x36504b,_0xbf5aec){'use strict';Object['defineProperty'](_0x36504b,_0x1c61('0x5'),{'value':!0x0});var _0x425514=_0x2e9f82(_0xbf5aec(0x4)),_0x1dd9cf=_0x2e9f82(_0xbf5aec(0x0)),_0x1772eb=_0x2e9f82(_0xbf5aec(0x1)),_0x4a9a5f=_0xbf5aec(0x1a),_0xf076ce=function(_0x1b51b1){if(_0x1b51b1&&_0x1b51b1[_0x1c61('0x5')])return _0x1b51b1;var _0x36504b={};if(null!=_0x1b51b1)for(var _0xbf5aec in _0x1b51b1)Object[_0x1c61('0xb')]['hasOwnProperty'][_0x1c61('0x0')](_0x1b51b1,_0xbf5aec)&&(_0x36504b[_0xbf5aec]=_0x1b51b1[_0xbf5aec]);return _0x36504b[_0x1c61('0x8')]=_0x1b51b1,_0x36504b;}(_0xbf5aec(0x41)),_0x15f002=_0xbf5aec(0x72);function _0x2e9f82(_0x1b51b1){return _0x1b51b1&&_0x1b51b1['__esModule']?_0x1b51b1:{'default':_0x1b51b1};}function _0x5ed200(){(0x0,_0x1dd9cf['default'])(this,_0x5ed200),this[_0x1c61('0xd9')]=(0x0,_0x4a9a5f[_0x1c61('0x2a')])(),this[_0x1c61('0x996')]=[],this['edgeLineFrameList']=[],this['_tempMaterials']=[];}(0x0,_0x1772eb[_0x1c61('0x8')])(_0x5ed200,[{'key':_0x1c61('0x997'),'value':function(_0x3e2e1f){var _0x74b171,_0x1e1956=(0x0,_0x4a9a5f['getBuiding'])(0x0)[_0x1c61('0x4f9')](0x1)[_0x1c61('0x8f8')]([esmap[_0x1c61('0x8f9')][_0x1c61('0x960')],esmap[_0x1c61('0x8f9')][_0x1c61('0x961')],esmap[_0x1c61('0x8f9')][_0x1c61('0x989')]]);if(_0x3e2e1f['repeatImg']&&((_0x74b171=new _0xf076ce['GroundTexture']({'view':this[_0x1c61('0xd9')][_0x1c61('0x45c')],'type':_0x3e2e1f[_0x1c61('0x998')],'texPath':_0x3e2e1f['repeatImg'],'texScale':_0x3e2e1f['repeatScaleFactor'],'texRepeat':_0x3e2e1f[_0x1c61('0x999')]?{'x':_0x3e2e1f['repeatScaleFactor'],'y':_0x3e2e1f[_0x1c61('0x999')]}:null}))[_0x1c61('0x2aa')](_0x1c61('0x460'),function(){var _0x1b51b1=!0x0,_0x36504b=!0x1,_0xbf5aec=void 0x0;try{for(var _0x1dd9cf,_0x1772eb=(0x0,_0x425514[_0x1c61('0x8')])(_0x1e1956);!(_0x1b51b1=(_0x1dd9cf=_0x1772eb[_0x1c61('0x77')]())['done']);_0x1b51b1=!0x0){var _0x2e9f82=_0x1dd9cf[_0x1c61('0x1c')],_0x5ed200=!0x0,_0x5c026c=!0x1,_0x2c5f4e=void 0x0;try{for(var _0x3115f7,_0x3486b6=(0x0,_0x425514[_0x1c61('0x8')])(_0x2e9f82[_0x1c61('0x4fc')]['children']);!(_0x5ed200=(_0x3115f7=_0x3486b6[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5ed200=!0x0){var _0x172ecd=_0x3115f7['value'],_0x4a627=(0x0,_0x4a9a5f[_0x1c61('0x28')])(_0x172ecd,_0x3e2e1f[_0x1c61('0x3e')]);if(_0x4a627){_0x172ecd[_0x1c61('0x41')][_0x4a627[_0x1c61('0x42')][_0x1c61('0x43')]]=_0x74b171['getMaterial'](),_0x74b171['targetMesh']=_0x172ecd;break;}if('floor'===_0x172ecd[_0x1c61('0x7e1')]&&_0x3e2e1f[_0x1c61('0x897')]&&_0x3e2e1f[_0x1c61('0x897')]===_0x172ecd[_0x1c61('0x3f')]['FloorNum']){_0x172ecd[_0x1c61('0x41')][0x0]=_0x74b171[_0x1c61('0x4de')](),_0x74b171[_0x1c61('0x712')]=_0x172ecd;break;}}}catch(_0x5aadf2){_0x5c026c=!0x0,_0x2c5f4e=_0x5aadf2;}finally{try{!_0x5ed200&&_0x3486b6[_0x1c61('0x99')]&&_0x3486b6[_0x1c61('0x99')]();}finally{if(_0x5c026c)throw _0x2c5f4e;}}}}catch(_0x3029fd){_0x36504b=!0x0,_0xbf5aec=_0x3029fd;}finally{try{!_0x1b51b1&&_0x1772eb[_0x1c61('0x99')]&&_0x1772eb[_0x1c61('0x99')]();}finally{if(_0x36504b)throw _0xbf5aec;}}}),this[_0x1c61('0x996')][_0x1c61('0x6f')](_0x74b171)),_0x3e2e1f[_0x1c61('0x2b6')]||_0x3e2e1f[_0x1c61('0x2b7')]){var _0x1b51b1=!0x0,_0x36504b=!0x1,_0xbf5aec=void 0x0;try{for(var _0x1dd9cf,_0x1772eb=(0x0,_0x425514[_0x1c61('0x8')])(_0x1e1956);!(_0x1b51b1=(_0x1dd9cf=_0x1772eb['next']())[_0x1c61('0x89')]);_0x1b51b1=!0x0){var _0x2e9f82=_0x1dd9cf[_0x1c61('0x1c')],_0x5ed200=!0x0,_0x22efa5=!0x1,_0x3b53f7=void 0x0;try{for(var _0x5d8def,_0x18fd6f=(0x0,_0x425514[_0x1c61('0x8')])(_0x2e9f82[_0x1c61('0x4fc')][_0x1c61('0x31b')]);!(_0x5ed200=(_0x5d8def=_0x18fd6f[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5ed200=!0x0){var _0x12d618=_0x5d8def['value'];if(_0x439a31=(0x0,_0x4a9a5f['getMaterialByRoomStyle'])(_0x12d618,_0x3e2e1f[_0x1c61('0x3e')])){var _0x2f6221=_0x12d618[_0x1c61('0x41')][_0x439a31[_0x1c61('0x42')]['index']],_0x394de4=new THREE[(_0x1c61('0x5e3'))]({'color':_0x2f6221[_0x1c61('0x228')]});(0x0,_0x15f002[_0x1c61('0x2b5')])(_0x394de4,_0x3e2e1f),_0x12d618[_0x1c61('0x41')][_0x439a31['userData']['index']]=_0x394de4;break;}}}catch(_0x3e30a3){_0x22efa5=!0x0,_0x3b53f7=_0x3e30a3;}finally{try{!_0x5ed200&&_0x18fd6f[_0x1c61('0x99')]&&_0x18fd6f['return']();}finally{if(_0x22efa5)throw _0x3b53f7;}}}}catch(_0x307584){_0x36504b=!0x0,_0xbf5aec=_0x307584;}finally{try{!_0x1b51b1&&_0x1772eb['return']&&_0x1772eb['return']();}finally{if(_0x36504b)throw _0xbf5aec;}}}if(_0x3e2e1f[_0x1c61('0x29d')]){var _0x55665f=!0x0,_0x36504b=!0x1,_0xbf5aec=void 0x0;try{for(var _0x43951d,_0x4118f0=(0x0,_0x425514['default'])(_0x1e1956);!(_0x55665f=(_0x43951d=_0x4118f0[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x55665f=!0x0){var _0x1c475d=_0x43951d[_0x1c61('0x1c')],_0x2319ad=!0x0,_0xf947e5=!0x1,_0x1ce66e=void 0x0;try{for(var _0x53f88b,_0x3731a8=(0x0,_0x425514[_0x1c61('0x8')])(_0x1c475d['o3d_'][_0x1c61('0x31b')]);!(_0x2319ad=(_0x53f88b=_0x3731a8['next']())['done']);_0x2319ad=!0x0){var _0x439a31,_0x1c5aac=_0x53f88b['value'];if(_0x439a31=(0x0,_0x4a9a5f[_0x1c61('0x28')])(_0x1c5aac,_0x3e2e1f['roomStyle'])){var _0x29599e=new _0xf076ce[(_0x1c61('0xb8'))]({'colorStr':_0x3e2e1f[_0x1c61('0x963')],'opacity':_0x3e2e1f[_0x1c61('0x99a')],'depthTest':!0x0});_0x29599e[_0x1c61('0x676')](_0x1c5aac,_0x1c5aac['geometry']),_0x3e2e1f['offsetY']&&(_0x1c5aac['position']['y']+=_0x3e2e1f['offsetY']),this[_0x1c61('0x964')][_0x1c61('0x6f')](_0x29599e);break;}}}catch(_0x29eb24){_0xf947e5=!0x0,_0x1ce66e=_0x29eb24;}finally{try{!_0x2319ad&&_0x3731a8['return']&&_0x3731a8[_0x1c61('0x99')]();}finally{if(_0xf947e5)throw _0x1ce66e;}}}}catch(_0xcc016c){_0x36504b=!0x0,_0xbf5aec=_0xcc016c;}finally{try{!_0x55665f&&_0x4118f0[_0x1c61('0x99')]&&_0x4118f0[_0x1c61('0x99')]();}finally{if(_0x36504b)throw _0xbf5aec;}}}}},{'key':_0x1c61('0xd8'),'value':function(){}},{'key':_0x1c61('0x329'),'value':function(){for(var _0x1b51b1=0x0,_0x36504b=this[_0x1c61('0x996')][_0x1c61('0xf')];_0x1b51b1<_0x36504b;_0x1b51b1++)this['groundThemes'][_0x1b51b1][_0x1c61('0xd8')](),this[_0x1c61('0x996')][_0x1b51b1]=null;for(var _0xbf5aec=this[_0x1c61('0x996')][_0x1c61('0xf')]=0x0,_0x1dd9cf=this[_0x1c61('0x964')][_0x1c61('0xf')];_0xbf5aec<_0x1dd9cf;_0xbf5aec++)this[_0x1c61('0x964')][_0xbf5aec][_0x1c61('0xd8')](),this['edgeLineFrameList'][_0xbf5aec]=null;this[_0x1c61('0x964')][_0x1c61('0xf')]=0x0;}}]),_0x36504b[_0x1c61('0x8')]=_0x5ed200;},function(_0xbd7ad4,_0x9be22,_0x29db54){'use strict';Object[_0x1c61('0x2')](_0x9be22,_0x1c61('0x5'),{'value':!0x0});var _0x2b17bb=_0x2973d1(_0x29db54(0x2e)),_0x37e045=_0x2973d1(_0x29db54(0x4)),_0x2104fa=_0x2973d1(_0x29db54(0x0)),_0x430b89=_0x2973d1(_0x29db54(0x1)),_0x5251d7=_0x29db54(0x1a),_0x18433a=_0x29db54(0x103),_0x1b45bb=_0x2973d1(_0x29db54(0x3c));function _0x2973d1(_0xbd7ad4){return _0xbd7ad4&&_0xbd7ad4['__esModule']?_0xbd7ad4:{'default':_0xbd7ad4};}function _0x56db39(){(0x0,_0x2104fa[_0x1c61('0x8')])(this,_0x56db39),this[_0x1c61('0xd9')]=(0x0,_0x5251d7[_0x1c61('0x2a')])(),this[_0x1c61('0x898')]=null,this[_0x1c61('0x892')]=null,this[_0x1c61('0x99b')]=[],this['directionalLights']=[],this[_0x1c61('0x99c')]=null,this[_0x1c61('0x8f1')]=null,this['envTextureCubes']=[];}(0x0,_0x430b89['default'])(_0x56db39,[{'key':'addPointLights','value':function(_0xbd7ad4){if(0x0!=_0xbd7ad4[_0x1c61('0xf')]){var _0x9be22=!0x0,_0x29db54=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2104fa,_0x430b89=(0x0,_0x37e045['default'])(_0xbd7ad4);!(_0x9be22=(_0x2104fa=_0x430b89[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x9be22=!0x0){var _0x18433a,_0x1b45bb=_0x2104fa[_0x1c61('0x1c')],_0x2973d1=new THREE[(_0x1c61('0x99d'))]();_0x1b45bb['name']&&(_0x2973d1[_0x1c61('0x7b')]=_0x1b45bb[_0x1c61('0x7b')]),_0x1b45bb[_0x1c61('0x228')]&&(_0x2973d1[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x1b45bb[_0x1c61('0x228')])),_0x1b45bb[_0x1c61('0x468')]&&(_0x2973d1[_0x1c61('0x468')]=_0x1b45bb['intensity']),_0x1b45bb['extent']&&(_0x2973d1[_0x1c61('0x99e')]=_0x1b45bb[_0x1c61('0x99f')]),_0x1b45bb['position']&&(0x0,_0x5251d7[_0x1c61('0x2b')])(_0x2973d1,_0x1b45bb[_0x1c61('0x218')],_0x1b45bb[_0x1c61('0x218')]['height']),(_0x1b45bb[_0x1c61('0x428')]||esmap[_0x1c61('0x51')]['EFFECT_EDITOR'])&&(_0x18433a=new THREE['PointLightHelper'](_0x2973d1,0x1e),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')]['add'](_0x18433a)),this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x2973d1),this['pointLights'][_0x1c61('0x6f')](_0x2973d1);}}catch(_0x13e229){_0x29db54=!0x0,_0x2b17bb=_0x13e229;}finally{try{!_0x9be22&&_0x430b89[_0x1c61('0x99')]&&_0x430b89[_0x1c61('0x99')]();}finally{if(_0x29db54)throw _0x2b17bb;}}}}},{'key':'updatePointLights','value':function(_0xbd7ad4,_0x9be22){var _0x29db54=!0x0,_0x2b17bb=!0x1,_0x2104fa=void 0x0;try{for(var _0x430b89,_0x18433a=(0x0,_0x37e045[_0x1c61('0x8')])(this[_0x1c61('0x939')]);!(_0x29db54=(_0x430b89=_0x18433a['next']())[_0x1c61('0x89')]);_0x29db54=!0x0){var _0x1b45bb=_0x430b89[_0x1c61('0x1c')];if(_0xbd7ad4['name']===_0x1b45bb[_0x1c61('0x7b')]){_0xbd7ad4[_0x1c61('0x228')]&&(pointLight[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0xbd7ad4[_0x1c61('0x228')])),_0x9be22[_0x1c61('0x468')]&&(pointLight[_0x1c61('0x468')]=_0x9be22['intensity']),_0x9be22[_0x1c61('0x99f')]&&(pointLight['distance']=_0x9be22[_0x1c61('0x99f')]),_0x9be22[_0x1c61('0x218')]&&(0x0,_0x5251d7['setPositionFromMc'])(pointLight,_0x9be22[_0x1c61('0x218')],_0x9be22[_0x1c61('0x218')][_0x1c61('0x2f7')]);break;}}}catch(_0x21f7b7){_0x2b17bb=!0x0,_0x2104fa=_0x21f7b7;}finally{try{!_0x29db54&&_0x18433a['return']&&_0x18433a[_0x1c61('0x99')]();}finally{if(_0x2b17bb)throw _0x2104fa;}}}},{'key':_0x1c61('0x9a0'),'value':function(_0xbd7ad4){if(0x0!=_0xbd7ad4[_0x1c61('0xf')]){var _0x9be22=!0x0,_0x29db54=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2104fa,_0x430b89=(0x0,_0x37e045['default'])(_0xbd7ad4);!(_0x9be22=(_0x2104fa=_0x430b89[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x9be22=!0x0){var _0x18433a,_0x1b45bb,_0x2973d1,_0x56db39,_0x51d7bc,_0x44e953=_0x2104fa[_0x1c61('0x1c')];_0x44e953['replaceLight']?((_0x18433a=this['map'][_0x1c61('0x45c')][_0x44e953[_0x1c61('0x9a1')]])&&(_0x18433a[_0x1c61('0x9a2')]={},_0x44e953[_0x1c61('0x9a1')]&&(_0x18433a['name']=_0x44e953[_0x1c61('0x9a1')]),!0x1===_0x44e953[_0x1c61('0x32c')]&&(_0x18433a[_0x1c61('0x32c')]=!0x1),_0x44e953['color']&&(_0x18433a[_0x1c61('0x9a2')][_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x1c2')](_0x18433a[_0x1c61('0x228')]),_0x18433a[_0x1c61('0x228')]=new THREE['Color']()[_0x1c61('0x2fa')](_0x44e953[_0x1c61('0x228')])),_0x44e953[_0x1c61('0x468')]&&(_0x18433a['_originConfig'][_0x1c61('0x468')]=_0x18433a['intensity'],_0x18433a['intensity']=_0x44e953[_0x1c61('0x468')]),_0x44e953[_0x1c61('0x238')]&&(_0x18433a[_0x1c61('0x9a2')][_0x1c61('0x218')]=new THREE[(_0x1c61('0x1b8'))]()[_0x1c61('0x1c2')](_0x18433a[_0x1c61('0x218')]),_0x18433a[_0x1c61('0x218')][_0x1c61('0x1b')](_0x44e953[_0x1c61('0x238')]['x'],_0x44e953[_0x1c61('0x238')]['y'],_0x44e953[_0x1c61('0x238')]['z'])),void 0x0!==_0x44e953[_0x1c61('0x873')]&&void 0x0!==_0x44e953['pitchAngle']&&(_0x1b45bb=(0x0,_0x5251d7[_0x1c61('0x25')])(_0x44e953['pitchAngle'],_0x44e953[_0x1c61('0x873')]),_0x18433a[_0x1c61('0x218')][_0x1c61('0x1c2')](_0x1b45bb),_0x18433a[_0x1c61('0x873')]=_0x44e953[_0x1c61('0x873')],_0x18433a[_0x1c61('0x2c1')]=_0x44e953[_0x1c61('0x2c1')]),_0x44e953['target']&&(_0x18433a[_0x1c61('0x9a2')][_0x1c61('0x91')]=new THREE[(_0x1c61('0x1b8'))]()['copy'](_0x18433a['target']),_0x18433a[_0x1c61('0x91')][_0x1c61('0x218')][_0x1c61('0x1b')](_0x44e953[_0x1c61('0x91')]['x'],_0x44e953[_0x1c61('0x91')]['y'],_0x44e953['target']['z']),_0x18433a['target'][_0x1c61('0x9a3')]()),(_0x44e953['debug']||esmap['ESEffectTool'][_0x1c61('0x8b7')])&&(_0x56db39=0x64,_0x51d7bc=new THREE[(_0x1c61('0x9a4'))](_0x18433a,_0x56db39),_0x18433a[_0x1c61('0x7b9')]=_0x51d7bc,this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')]['add'](_0x51d7bc))),this[_0x1c61('0x90d')][_0x1c61('0x6f')](_0x18433a)):((_0x2973d1=new THREE[(_0x1c61('0x9a5'))]())[_0x1c61('0x9a2')]={},_0x44e953[_0x1c61('0x7b')]&&(_0x2973d1[_0x1c61('0x7b')]=_0x44e953[_0x1c61('0x7b')]),_0x44e953['color']&&(_0x2973d1[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()['setStyle'](_0x44e953[_0x1c61('0x228')]),_0x2973d1[_0x1c61('0x9a2')][_0x1c61('0x228')]=new THREE['Color']()[_0x1c61('0x1c2')](_0x2973d1[_0x1c61('0x228')])),_0x44e953[_0x1c61('0x468')]&&(_0x2973d1[_0x1c61('0x468')]=_0x44e953[_0x1c61('0x468')],_0x2973d1[_0x1c61('0x9a2')][_0x1c61('0x468')]=_0x44e953['intensity']),_0x44e953[_0x1c61('0x238')]&&_0x2973d1['position'][_0x1c61('0x1b')](_0x44e953['direction']['x'],_0x44e953[_0x1c61('0x238')]['y'],_0x44e953[_0x1c61('0x238')]['z']),_0x44e953[_0x1c61('0x91')]&&(_0x2973d1[_0x1c61('0x91')][_0x1c61('0x218')]['set'](_0x44e953['target']['x'],_0x44e953[_0x1c61('0x91')]['y'],_0x44e953[_0x1c61('0x91')]['z']),_0x2973d1[_0x1c61('0x91')]['updateMatrixWorld']()),void 0x0!==_0x44e953['directionAngle']&&void 0x0!==_0x44e953['pitchAngle']&&(_0x2973d1['position']['copy']((0x0,_0x5251d7[_0x1c61('0x25')])(_0x44e953[_0x1c61('0x2c1')],_0x44e953['directionAngle'])),_0x2973d1[_0x1c61('0x873')]=_0x44e953[_0x1c61('0x873')],_0x2973d1['pitchAngle']=_0x44e953['pitchAngle']),(_0x44e953['debug']||esmap[_0x1c61('0x51')]['EFFECT_EDITOR'])&&(_0x56db39=0x64,_0x51d7bc=new THREE['DirectionalLightHelper'](_0x2973d1,_0x56db39),_0x2973d1[_0x1c61('0x7b9')]=_0x51d7bc,this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x51d7bc)),_0x44e953[_0x1c61('0x99c')]&&(this[_0x1c61('0x99c')]=_0x2973d1),this[_0x1c61('0xd9')]['mapView']['scene'][_0x1c61('0x1c4')](_0x2973d1),this[_0x1c61('0x90d')][_0x1c61('0x6f')](_0x2973d1));}}catch(_0x2cc801){_0x29db54=!0x0,_0x2b17bb=_0x2cc801;}finally{try{!_0x9be22&&_0x430b89[_0x1c61('0x99')]&&_0x430b89['return']();}finally{if(_0x29db54)throw _0x2b17bb;}}}}},{'key':_0x1c61('0x9a6'),'value':function(_0xbd7ad4,_0x9be22,_0x29db54){var _0x2b17bb=(0x0,_0x5251d7[_0x1c61('0x25')])(_0x9be22['pitchAngle'],_0x9be22[_0x1c61('0x873')]);_0x29db54[_0x1c61('0x99e')]&&_0x2b17bb[_0x1c61('0x1c3')](_0x29db54[_0x1c61('0x99e')]),_0x29db54[_0x1c61('0x9a7')]?(_0xbd7ad4['position'][_0x1c61('0x1c2')](_0x2b17bb),_0xbd7ad4[_0x1c61('0x218')][_0x1c61('0x1c1')]()[_0x1c61('0x1c3')](_0x29db54[_0x1c61('0x99e')])[_0x1c61('0x1c4')](new THREE[(_0x1c61('0x1b8'))](this[_0x1c61('0xd9')]['controls'][_0x1c61('0x91')]['x'],0x0,this[_0x1c61('0xd9')]['controls'][_0x1c61('0x91')]['z'])),_0xbd7ad4[_0x1c61('0x91')][_0x1c61('0x218')][_0x1c61('0x1c2')](new THREE[(_0x1c61('0x1b8'))](this[_0x1c61('0xd9')]['controls'][_0x1c61('0x91')]['x'],0x0,this[_0x1c61('0xd9')]['controls']['target']['z'])),_0xbd7ad4[_0x1c61('0x91')]['updateMatrixWorld'](!0x0)):_0xbd7ad4['position']['copy'](_0x2b17bb),_0xbd7ad4[_0x1c61('0x873')]=_0x9be22[_0x1c61('0x873')],_0xbd7ad4[_0x1c61('0x2c1')]=_0x9be22['pitchAngle'],_0xbd7ad4[_0x1c61('0x7b9')]&&(0x1<_0x29db54[_0x1c61('0x9a8')]&&_0xbd7ad4[_0x1c61('0x7b9')][_0x1c61('0x9a9')][_0x1c61('0x1de')]['multiplyScalar'](_0x29db54['planeScale']),_0xbd7ad4[_0x1c61('0x7b9')][_0x1c61('0x2db')]());}},{'key':_0x1c61('0x9aa'),'value':function(_0xbd7ad4,_0x9be22,_0x29db54){var _0x2b17bb=!0x0,_0x2104fa=!0x1,_0x430b89=void 0x0;try{for(var _0x18433a,_0x1b45bb=(0x0,_0x37e045['default'])(_0x9be22);!(_0x2b17bb=(_0x18433a=_0x1b45bb[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2b17bb=!0x0){var _0x2973d1=_0x18433a[_0x1c61('0x1c')];_0xbd7ad4[_0x1c61('0x7b')]===_0x2973d1[_0x1c61('0x7b')]&&(!0x1===_0x2973d1[_0x1c61('0x32c')]&&(_0xbd7ad4[_0x1c61('0x32c')]=!0x1),_0x2973d1[_0x1c61('0x228')]?_0xbd7ad4[_0x1c61('0x228')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2973d1['color']):_0xbd7ad4['_originConfig']&&_0xbd7ad4[_0x1c61('0x9a2')][_0x1c61('0x228')]&&_0xbd7ad4[_0x1c61('0x228')][_0x1c61('0x1c2')](_0xbd7ad4['_originConfig']['color']),_0x2973d1[_0x1c61('0x468')]?_0x29db54?this[_0x1c61('0x9ab')](_0xbd7ad4,_0x2973d1[_0x1c61('0x468')]):_0xbd7ad4[_0x1c61('0x468')]=_0x2973d1[_0x1c61('0x468')]:_0x29db54?_0xbd7ad4[_0x1c61('0x9a2')]&&_0xbd7ad4['_originConfig']['intensity']&&this['lightAnimate'](_0xbd7ad4,_0xbd7ad4[_0x1c61('0x9a2')][_0x1c61('0x468')]):_0xbd7ad4[_0x1c61('0x9a2')]&&_0xbd7ad4[_0x1c61('0x9a2')][_0x1c61('0x468')]&&(_0xbd7ad4[_0x1c61('0x468')]=_0xbd7ad4['_originConfig'][_0x1c61('0x468')]),'mainLight'===_0x2973d1[_0x1c61('0x7b')]&&this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')]['shadowMap'][_0x1c61('0x416')]||(_0x2973d1['direction']?_0xbd7ad4[_0x1c61('0x218')]['set'](_0x2973d1[_0x1c61('0x238')]['x'],_0x2973d1['direction']['y'],_0x2973d1[_0x1c61('0x238')]['z']):_0xbd7ad4[_0x1c61('0x9a2')]&&_0xbd7ad4[_0x1c61('0x9a2')][_0x1c61('0x218')]&&_0xbd7ad4[_0x1c61('0x218')]['copy'](_0xbd7ad4[_0x1c61('0x9a2')][_0x1c61('0x218')]),_0x2973d1['target']?(_0xbd7ad4[_0x1c61('0x91')][_0x1c61('0x218')][_0x1c61('0x1b')](_0x2973d1[_0x1c61('0x91')]['x'],_0x2973d1[_0x1c61('0x91')]['y'],_0x2973d1[_0x1c61('0x91')]['z']),_0xbd7ad4[_0x1c61('0x91')][_0x1c61('0x9a3')]()):_0xbd7ad4[_0x1c61('0x9a2')]&&_0xbd7ad4[_0x1c61('0x9a2')]['target']&&(_0xbd7ad4[_0x1c61('0x91')]['copy'](_0xbd7ad4['_originConfig']['target']),_0xbd7ad4[_0x1c61('0x91')][_0x1c61('0x9a3')]())));}}catch(_0x523712){_0x2104fa=!0x0,_0x430b89=_0x523712;}finally{try{!_0x2b17bb&&_0x1b45bb[_0x1c61('0x99')]&&_0x1b45bb[_0x1c61('0x99')]();}finally{if(_0x2104fa)throw _0x430b89;}}}},{'key':_0x1c61('0x9ac'),'value':function(){var _0xbd7ad4=!0x0,_0x9be22=!0x1,_0x29db54=void 0x0;try{for(var _0x2b17bb,_0x2104fa=(0x0,_0x37e045['default'])(this['map'][_0x1c61('0x45c')]['scene'][_0x1c61('0x31b')]);!(_0xbd7ad4=(_0x2b17bb=_0x2104fa[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0xbd7ad4=!0x0){var _0x430b89=_0x2b17bb[_0x1c61('0x1c')];if(_0x1c61('0x9ad')==_0x430b89['type']){this[_0x1c61('0x892')]=_0x430b89;break;}}}catch(_0x48b63b){_0x9be22=!0x0,_0x29db54=_0x48b63b;}finally{try{!_0xbd7ad4&&_0x2104fa['return']&&_0x2104fa[_0x1c61('0x99')]();}finally{if(_0x9be22)throw _0x29db54;}}}},{'key':_0x1c61('0x90e'),'value':function(_0xbd7ad4){if(!this[_0x1c61('0x892')]){var _0x9be22=!0x0,_0x29db54=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2104fa,_0x430b89=(0x0,_0x37e045[_0x1c61('0x8')])(this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')][_0x1c61('0x31b')]);!(_0x9be22=(_0x2104fa=_0x430b89[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x9be22=!0x0){var _0x18433a=_0x2104fa[_0x1c61('0x1c')];if('AmbientLight'==_0x18433a[_0x1c61('0x90')]){this[_0x1c61('0x892')]=_0x18433a;break;}}}catch(_0x3d0389){_0x29db54=!0x0,_0x2b17bb=_0x3d0389;}finally{try{!_0x9be22&&_0x430b89[_0x1c61('0x99')]&&_0x430b89[_0x1c61('0x99')]();}finally{if(_0x29db54)throw _0x2b17bb;}}}this['ambientLight']&&(_0xbd7ad4[_0x1c61('0x228')]&&this['ambientLight']['color'][_0x1c61('0x2fa')](_0xbd7ad4[_0x1c61('0x228')]),_0xbd7ad4['intensity']&&(this[_0x1c61('0x892')][_0x1c61('0x9ae')]||(this[_0x1c61('0x892')][_0x1c61('0x9ae')]=this[_0x1c61('0x892')]['intensity']),_0xbd7ad4[_0x1c61('0x664')]?this[_0x1c61('0x9ab')](this[_0x1c61('0x892')],_0xbd7ad4[_0x1c61('0x468')])['then'](function(){_0xbd7ad4[_0x1c61('0x2d0')]&&_0xbd7ad4[_0x1c61('0x2d0')]();}):this['ambientLight'][_0x1c61('0x468')]=_0xbd7ad4[_0x1c61('0x468')]),_0xbd7ad4['isRecover']&&this[_0x1c61('0x9ab')](this['ambientLight'],this[_0x1c61('0x892')]['_originIntensity'])[_0x1c61('0x34a')](function(){_0xbd7ad4[_0x1c61('0x2d0')]&&_0xbd7ad4[_0x1c61('0x2d0')]();}));}},{'key':_0x1c61('0x9ab'),'value':function(_0x29db54,_0x9be22){return new _0x2b17bb[(_0x1c61('0x8'))](function(_0xbd7ad4){new TWEEN[(_0x1c61('0x2d4'))]({'intensity':_0x29db54['intensity']})['to']({'intensity':_0x9be22},0x7d0)['easing'](TWEEN['Easing']['Linear'][_0x1c61('0x44d')])[_0x1c61('0x2da')](function(_0xbd7ad4,_0x9be22){_0x29db54[_0x1c61('0x468')]=_0xbd7ad4[_0x1c61('0x468')];})[_0x1c61('0x843')](function(){_0xbd7ad4();})['start']();});}},{'key':'updateAllLightConfig','value':function(_0x9be22){var _0xbd7ad4=_0x9be22['configs'];if(_0x9be22['isAnimate'],_0x9be22[_0x1c61('0x9af')],_0xbd7ad4[_0x1c61('0x892')]&&this[_0x1c61('0x90e')](_0xbd7ad4[_0x1c61('0x892')]),_0xbd7ad4[_0x1c61('0x891')]){var _0x29db54=!0x0,_0x9be22=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2104fa,_0x430b89=(0x0,_0x37e045['default'])(this[_0x1c61('0x90d')]);!(_0x29db54=(_0x2104fa=_0x430b89[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x29db54=!0x0){var _0x18433a=_0x2104fa[_0x1c61('0x1c')];this[_0x1c61('0x9aa')](_0x18433a,_0xbd7ad4[_0x1c61('0x891')]);}}catch(_0xc324cb){_0x9be22=!0x0,_0x2b17bb=_0xc324cb;}finally{try{!_0x29db54&&_0x430b89[_0x1c61('0x99')]&&_0x430b89[_0x1c61('0x99')]();}finally{if(_0x9be22)throw _0x2b17bb;}}}if(_0xbd7ad4[_0x1c61('0x88e')]){var _0x1b45bb=!0x0,_0x9be22=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2973d1,_0x56db39=(0x0,_0x37e045[_0x1c61('0x8')])(this['pointLights']);!(_0x1b45bb=(_0x2973d1=_0x56db39['next']())[_0x1c61('0x89')]);_0x1b45bb=!0x0){var _0x48ee09=_0x2973d1[_0x1c61('0x1c')];this[_0x1c61('0x9b0')](_0x48ee09,_0xbd7ad4[_0x1c61('0x88e')]);}}catch(_0x2fe4e8){_0x9be22=!0x0,_0x2b17bb=_0x2fe4e8;}finally{try{!_0x1b45bb&&_0x56db39[_0x1c61('0x99')]&&_0x56db39[_0x1c61('0x99')]();}finally{if(_0x9be22)throw _0x2b17bb;}}}}},{'key':_0x1c61('0x93f'),'value':function(_0xbd7ad4){_0xbd7ad4&&_0xbd7ad4[_0x1c61('0x9b1')]&&0x0<_0xbd7ad4[_0x1c61('0x9b1')]['length']&&!this['envTextureCube']&&(_0xbd7ad4[_0x1c61('0x90')]&&_0x1c61('0x9b2')===_0xbd7ad4[_0x1c61('0x90')]?this[_0x1c61('0x9b3')](_0xbd7ad4):this[_0x1c61('0x8f1')]=this[_0x1c61('0x9b4')](_0xbd7ad4));}},{'key':_0x1c61('0x9b4'),'value':function(_0x9be22,_0xbd7ad4){for(var _0x29db54=this,_0x2b17bb=0x0,_0x2104fa=_0x9be22['imgPaths'][_0x1c61('0xf')];_0x2b17bb<_0x2104fa;_0x2b17bb++)_0xbd7ad4||(_0x9be22[_0x1c61('0x9b1')][_0x2b17bb]=(0x0,_0x5251d7['getConfigAssetsPath'])(_0x9be22[_0x1c61('0x9b1')][_0x2b17bb]));return new THREE[(_0x1c61('0x9c'))]()[_0x1c61('0x96')](_0x9be22['imgPaths'],function(_0xbd7ad4){_0x9be22[_0x1c61('0x7fb')]&&(_0xbd7ad4[_0x1c61('0x45b')]=THREE[_0x1c61('0x6c8')]),!_0x9be22[_0x1c61('0x416')]&&void 0x0!==_0x9be22['enabled']||_0x29db54['createLightProbe'](_0x9be22),_0xbd7ad4[_0x1c61('0x7b')]=_0x9be22[_0x1c61('0x7b')]||'',_0x29db54[_0x1c61('0x9b5')][_0x1c61('0x6f')](_0xbd7ad4);});}},{'key':_0x1c61('0x9b6'),'value':function(_0xbd7ad4){this['lightProbe']=new THREE[(_0x1c61('0x9b7'))](),this['map']['mapView'][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x9b8')]),this[_0x1c61('0x9b8')][_0x1c61('0x1c2')](_0x18433a[_0x1c61('0x9b9')][_0x1c61('0x9ba')](this[_0x1c61('0x8f1')])),_0xbd7ad4[_0x1c61('0x468')]&&(this['lightProbe'][_0x1c61('0x468')]=_0xbd7ad4[_0x1c61('0x468')]);}},{'key':_0x1c61('0x930'),'value':function(_0x9be22,_0xbd7ad4){var _0x29db54=this;if(this[_0x1c61('0x9b8')]&&_0x9be22[_0x1c61('0x7b')]){var _0x2b17bb=this[_0x1c61('0x9bb')](_0x9be22[_0x1c61('0x7b')]);if(_0x2b17bb)this[_0x1c61('0x9b8')][_0x1c61('0x1c2')](_0x18433a[_0x1c61('0x9b9')][_0x1c61('0x9ba')](_0x2b17bb)),this[_0x1c61('0x9b8')]['intensity']=_0x9be22[_0x1c61('0x468')],this[_0x1c61('0x898')]&&this['models'][_0x1c61('0x9bc')](_0x2b17bb),this['envTextureCube']=_0x2b17bb;else{for(var _0x2104fa=0x0,_0x430b89=_0x9be22[_0x1c61('0x9b1')][_0x1c61('0xf')];_0x2104fa<_0x430b89;_0x2104fa++)_0xbd7ad4||(_0x9be22[_0x1c61('0x9b1')][_0x2104fa]=(0x0,_0x5251d7[_0x1c61('0x26')])(_0x9be22[_0x1c61('0x9b1')][_0x2104fa]));_0x1b45bb[_0x1c61('0x8')][_0x1c61('0x9b')](_0x9be22[_0x1c61('0x9b1')])[_0x1c61('0x34a')](function(_0xbd7ad4){_0xbd7ad4[_0x1c61('0x7b')]=_0x9be22[_0x1c61('0x7b')],_0x29db54['lightProbe'][_0x1c61('0x1c2')](_0x18433a[_0x1c61('0x9b9')][_0x1c61('0x9ba')](_0xbd7ad4)),_0x29db54[_0x1c61('0x9b8')][_0x1c61('0x468')]=_0x9be22[_0x1c61('0x468')],_0x29db54[_0x1c61('0x898')]&&_0x29db54[_0x1c61('0x898')]['updateMaterialsEnvMap'](_0xbd7ad4),_0x29db54[_0x1c61('0x8f1')]=_0xbd7ad4,_0x29db54[_0x1c61('0x9b5')][_0x1c61('0x6f')](_0xbd7ad4);});}this['lightProbe']['intensity']=_0x9be22[_0x1c61('0x468')];}}},{'key':_0x1c61('0x9bd'),'value':function(_0xbd7ad4,_0x9be22){var _0x29db54=this;_0xbd7ad4!=_0x9be22&&new TWEEN[(_0x1c61('0x2d4'))]({'x':_0xbd7ad4})['to']({'x':_0x9be22},0x3e8)[_0x1c61('0x2d5')](TWEEN['Easing'][_0x1c61('0x3f9')]['None'])[_0x1c61('0x2da')](function(_0xbd7ad4){_0x29db54[_0x1c61('0x9b8')]['intensity']=_0xbd7ad4['x'];})[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0x9bb'),'value':function(_0xbd7ad4){var _0x9be22=!0x0,_0x29db54=!0x1,_0x2b17bb=void 0x0;try{for(var _0x2104fa,_0x430b89=(0x0,_0x37e045[_0x1c61('0x8')])(this['envTextureCubes']);!(_0x9be22=(_0x2104fa=_0x430b89['next']())['done']);_0x9be22=!0x0){var _0x18433a=_0x2104fa[_0x1c61('0x1c')];if(_0x18433a[_0x1c61('0x7b')]===_0xbd7ad4)return _0x18433a;}}catch(_0x5be4c2){_0x29db54=!0x0,_0x2b17bb=_0x5be4c2;}finally{try{!_0x9be22&&_0x430b89[_0x1c61('0x99')]&&_0x430b89[_0x1c61('0x99')]();}finally{if(_0x29db54)throw _0x2b17bb;}}return null;}},{'key':_0x1c61('0x9b3'),'value':function(_0xbd7ad4){var _0x9be22,_0x29db54=this;0x1===_0xbd7ad4[_0x1c61('0x9b1')]['length']&&(_0xbd7ad4=(0x0,_0x5251d7['getConfigAssetsPath'])(_0xbd7ad4['imgPaths'][0x0]),_0x9be22=new ESWorldMapTools[(_0x1c61('0xaf'))](this[_0x1c61('0xd9')]),this[_0x1c61('0x8f1')]=new THREE[(_0x1c61('0x1cc'))](),_0x9be22[_0x1c61('0x6ab')]({'texPath':_0xbd7ad4,'resolutionSize':0x200})[_0x1c61('0x34a')](function(_0xbd7ad4){_0x29db54[_0x1c61('0x8f1')]=_0xbd7ad4;}));}},{'key':_0x1c61('0xd8'),'value':function(){for(var _0xbd7ad4=0x0,_0x9be22=this[_0x1c61('0x99b')]['length'];_0xbd7ad4<_0x9be22;_0xbd7ad4++)this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')][_0x1c61('0xdc')](this[_0x1c61('0x99b')][_0xbd7ad4]);for(var _0x29db54=this[_0x1c61('0x99b')][_0x1c61('0xf')]=0x0,_0x2b17bb=this[_0x1c61('0x90d')][_0x1c61('0xf')];_0x29db54<_0x2b17bb;_0x29db54++)this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xdc')](this['directionalLights'][_0x29db54]);this['directionalLights'][_0x1c61('0xf')]=0x0,this[_0x1c61('0x9b8')]&&(this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xdc')](this[_0x1c61('0x9b8')]),this[_0x1c61('0x9b8')]=null),this[_0x1c61('0x8f1')]&&(this[_0x1c61('0x8f1')][_0x1c61('0xd8')](),this['envTextureCube']=null);for(var _0x2104fa=0x0,_0x430b89=this[_0x1c61('0x9b5')]['length'];_0x2104fa<_0x430b89;_0x2104fa++)this[_0x1c61('0x9b5')][_0x2104fa]['dispose']();this[_0x1c61('0x9b5')]['length']=0x0;}}]),_0x9be22[_0x1c61('0x8')]=_0x56db39;},function(_0x2bfd8c,_0x92e490,_0x30f5b7){'use strict';Object[_0x1c61('0x2')](_0x92e490,'__esModule',{'value':!0x0}),_0x92e490[_0x1c61('0x9b9')]={'fromCubeTexture':function(_0x2bfd8c){for(var _0x92e490,_0x30f5b7=0x0,_0x4c6682=new THREE[(_0x1c61('0x1b8'))](),_0x1eab8a=new THREE[(_0x1c61('0x1b8'))](),_0x24804f=new THREE[(_0x1c61('0x1ba'))](),_0x365ea9=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x1f0038=new THREE[(_0x1c61('0x9be'))](),_0x3f4904=_0x1f0038[_0x1c61('0x9bf')],_0x3bc02b=0x0;_0x3bc02b<0x6;_0x3bc02b++)for(var _0x5447ee=_0x2bfd8c[_0x1c61('0x7e2')][_0x3bc02b],_0x294d21=_0x5447ee[_0x1c61('0x328')],_0xf07056=_0x5447ee['height'],_0x3db7cd=document[_0x1c61('0x75')](_0x1c61('0x463')),_0x3db7cd=(_0x3db7cd['width']=_0x294d21,_0x3db7cd[_0x1c61('0x2f7')]=_0xf07056,_0x3db7cd[_0x1c61('0x464')]('2d')),_0x5447ee=(_0x3db7cd['drawImage'](_0x5447ee,0x0,0x0,_0x294d21,_0xf07056),_0x3db7cd[_0x1c61('0x86d')](0x0,0x0,_0x294d21,_0xf07056)),_0x3c0f96=_0x5447ee['data'],_0x4d77da=_0x5447ee['width'],_0x197942=0x2/_0x4d77da,_0x1d95c5=0x0,_0x189e25=_0x3c0f96[_0x1c61('0xf')];_0x1d95c5<_0x189e25;_0x1d95c5+=0x4){_0x24804f[_0x1c61('0x1c5')](_0x3c0f96[_0x1d95c5]/0xff,_0x3c0f96[_0x1d95c5+0x1]/0xff,_0x3c0f96[_0x1d95c5+0x2]/0xff),_0x24804f[_0x1c61('0x9c0')](_0x24804f);var _0x3836b0=_0x1d95c5/0x4,_0x40cc04=(_0x3836b0%_0x4d77da+0.5)*_0x197942-0x1,_0x3e97bd=0x1-(Math[_0x1c61('0x6c')](_0x3836b0/_0x4d77da)+0.5)*_0x197942;switch(_0x3bc02b){case 0x0:_0x4c6682[_0x1c61('0x1b')](-0x1,_0x3e97bd,-_0x40cc04);break;case 0x1:_0x4c6682[_0x1c61('0x1b')](0x1,_0x3e97bd,_0x40cc04);break;case 0x2:_0x4c6682[_0x1c61('0x1b')](-_0x40cc04,0x1,-_0x3e97bd);break;case 0x3:_0x4c6682[_0x1c61('0x1b')](-_0x40cc04,-0x1,_0x3e97bd);break;case 0x4:_0x4c6682[_0x1c61('0x1b')](-_0x40cc04,_0x3e97bd,0x1);break;case 0x5:_0x4c6682[_0x1c61('0x1b')](_0x40cc04,_0x3e97bd,-0x1);}_0x3836b0=_0x4c6682['lengthSq'](),_0x30f5b7+=_0x92e490=0x4/(Math['sqrt'](_0x3836b0)*_0x3836b0),_0x1eab8a['copy'](_0x4c6682)[_0x1c61('0x1c1')](),THREE['SphericalHarmonics3'][_0x1c61('0x9c1')](_0x1eab8a,_0x365ea9);for(var _0x446f33=0x0;_0x446f33<0x9;_0x446f33++)_0x3f4904[_0x446f33]['x']+=_0x365ea9[_0x446f33]*_0x24804f['r']*_0x92e490,_0x3f4904[_0x446f33]['y']+=_0x365ea9[_0x446f33]*_0x24804f['g']*_0x92e490,_0x3f4904[_0x446f33]['z']+=_0x365ea9[_0x446f33]*_0x24804f['b']*_0x92e490;}for(var _0x515678=0x4*Math['PI']/_0x30f5b7,_0x446f33=0x0;_0x446f33<0x9;_0x446f33++)_0x3f4904[_0x446f33]['x']*=_0x515678,_0x3f4904[_0x446f33]['y']*=_0x515678,_0x3f4904[_0x446f33]['z']*=_0x515678;return new THREE['LightProbe'](_0x1f0038);}};},function(_0x2da4a4,_0xc7848c,_0x330207){'use strict';Object[_0x1c61('0x2')](_0xc7848c,'__esModule',{'value':!0x0});var _0x524fe4=_0x4dc2d8(_0x330207(0x30)),_0x5af5ae=_0x4dc2d8(_0x330207(0xf)),_0x4d6d47=_0x4dc2d8(_0x330207(0x4)),_0x18351c=_0x4dc2d8(_0x330207(0x0)),_0x4c7d39=_0x4dc2d8(_0x330207(0x1)),_0xc2714f=_0x330207(0x1a),_0x5c484f=function(_0x2da4a4){if(_0x2da4a4&&_0x2da4a4[_0x1c61('0x5')])return _0x2da4a4;var _0xc7848c={};if(null!=_0x2da4a4)for(var _0x330207 in _0x2da4a4)Object[_0x1c61('0xb')][_0x1c61('0xc')][_0x1c61('0x0')](_0x2da4a4,_0x330207)&&(_0xc7848c[_0x330207]=_0x2da4a4[_0x330207]);return _0xc7848c[_0x1c61('0x8')]=_0x2da4a4,_0xc7848c;}(_0x330207(0x41)),_0x1280b8=_0x4dc2d8(_0x330207(0x105));function _0x4dc2d8(_0x2da4a4){return _0x2da4a4&&_0x2da4a4['__esModule']?_0x2da4a4:{'default':_0x2da4a4};}function _0x4cf4f5(){(0x0,_0x18351c[_0x1c61('0x8')])(this,_0x4cf4f5),this[_0x1c61('0xd9')]=(0x0,_0xc2714f[_0x1c61('0x2a')])(),this[_0x1c61('0x9c2')]=null,this[_0x1c61('0x9c3')]=new THREE['Group'](),this[_0x1c61('0x8c0')]=[],this[_0x1c61('0x9c4')]=!0x1,this[_0x1c61('0x9c5')]=null,this[_0x1c61('0x9c6')]={},this[_0x1c61('0x9c7')]=!0x1,this[_0x1c61('0x9c8')]=!0x1,this[_0x1c61('0x9c9')]=null,this[_0x1c61('0x9ca')]=new THREE[(_0x1c61('0x1ba'))]();}_0x330207(0x106),(0x0,_0x4c7d39['default'])(_0x4cf4f5,[{'key':'initHeight','value':function(){var _0x2da4a4=((0x0,_0xc2714f[_0x1c61('0x32')])()||(0x0,_0xc2714f['checkIsParkEngine'])()?this[_0x1c61('0xd9')][_0x1c61('0x56b')](0x0):this[_0x1c61('0xd9')])[_0x1c61('0x4fd')](0x1);this[_0x1c61('0x9c3')][_0x1c61('0x218')]['y']=_0x2da4a4,this['map'][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](this[_0x1c61('0x9c3')]);}},{'key':'createRoutesLine','value':function(_0x2da4a4,_0xc7848c){_0x2da4a4[_0x1c61('0x42d')]?_0x2da4a4[_0x1c61('0x1c9')]=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')](getConfigAssetsPath(_0x2da4a4['lineTexture'])):_0x2da4a4['texture']=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')](getConfigAssetsPath(_0x1c61('0x546')));var _0x330207=new _0x5c484f['MulripleMeshLine']({'camera':_0xc7848c['camera'],'texture':_0x2da4a4[_0x1c61('0x1c9')],'colorStr':_0x2da4a4[_0x1c61('0x228')],'lineWidth':_0x2da4a4[_0x1c61('0x32e')],'speed':_0x2da4a4[_0x1c61('0x32f')]}),_0x18351c=(_0x330207[_0x1c61('0x326')](this['map']),!0x0),_0xc7848c=!0x1,_0x4c7d39=void 0x0;try{for(var _0x4dc2d8,_0x4cf4f5=(0x0,_0x4d6d47[_0x1c61('0x8')])(_0x2da4a4['list']);!(_0x18351c=(_0x4dc2d8=_0x4cf4f5[_0x1c61('0x77')]())['done']);_0x18351c=!0x0){var _0x123d4b=_0x4dc2d8[_0x1c61('0x1c')],_0x2268ca=[],_0x46d157=_0x123d4b[_0x1c61('0x289')][0x0],_0x320629=!0x0,_0x1a70b4=!0x1,_0x2bd1eb=void 0x0;try{for(var _0x796dd4,_0x459b75=(0x0,_0x4d6d47['default'])(_0x123d4b['points']);!(_0x320629=(_0x796dd4=_0x459b75[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x320629=!0x0){var _0x1f23f5,_0x560e7f,_0x5a7cb6=_0x796dd4['value'];_0x2da4a4[_0x1c61('0x9cb')]&&(_0x1f23f5=_0x1280b8[_0x1c61('0x8')][_0x1c61('0x346')](_0x5a7cb6['x'],_0x5a7cb6['y']),_0x560e7f=_0x1280b8[_0x1c61('0x8')]['lonLanToMc'](_0x1f23f5[0x0],_0x1f23f5[0x1]),_0x5a7cb6['x']=_0x560e7f[0x0],_0x5a7cb6['y']=_0x560e7f[0x1]),_0x2268ca[_0x1c61('0x6f')](new THREE[(_0x1c61('0x1b8'))](-_0x5a7cb6['x'],_0x5a7cb6[_0x1c61('0x2f2')],_0x5a7cb6['y']));}}catch(_0x8efd63){_0x1a70b4=!0x0,_0x2bd1eb=_0x8efd63;}finally{try{!_0x320629&&_0x459b75[_0x1c61('0x99')]&&_0x459b75[_0x1c61('0x99')]();}finally{if(_0x1a70b4)throw _0x2bd1eb;}}var _0x55262b=_0x330207[_0x1c61('0x30b')](_0x2268ca);(0x0,_0xc2714f[_0x1c61('0x2b')])(_0x55262b,_0x46d157,_0x2da4a4[_0x1c61('0x2f7')]),_0x2da4a4[_0x1c61('0x9cc')]&&_0x55262b['layers'][_0x1c61('0x552')](0x1);}}catch(_0xf3c6a8){_0xc7848c=!0x0,_0x4c7d39=_0xf3c6a8;}finally{try{!_0x18351c&&_0x4cf4f5['return']&&_0x4cf4f5['return']();}finally{if(_0xc7848c)throw _0x4c7d39;}}return _0x330207;}},{'key':_0x1c61('0x941'),'value':function(_0x2da4a4,_0xc7848c){if(this[_0x1c61('0x9cd')](),(0x0,_0xc2714f[_0x1c61('0x8db')])())_0xc7848c[_0x1c61('0x8e8')]&&this[_0x1c61('0xd9')][_0x1c61('0x589')][_0x1c61('0x8d4')]&&this[_0x1c61('0xd9')][_0x1c61('0x589')][_0x1c61('0x8d4')][_0xc7848c[_0x1c61('0x8e8')]]&&this['computeNavDataToRoutesData'](this[_0x1c61('0xd9')][_0x1c61('0x589')][_0x1c61('0x8d4')][_0xc7848c[_0x1c61('0x8e8')]][_0x1c61('0x9ce')][0x0],_0xc7848c);else{var _0x330207=!0x0,_0x18351c=!0x1,_0x4c7d39=void 0x0;try{for(var _0x4dc2d8,_0x4cf4f5=(0x0,_0x4d6d47[_0x1c61('0x8')])(this[_0x1c61('0xd9')][_0x1c61('0x9cf')]);!(_0x330207=(_0x4dc2d8=_0x4cf4f5[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x330207=!0x0){var _0x4d92c6=_0x4dc2d8[_0x1c61('0x1c')];if(_0x4d92c6[_0x1c61('0x9d0')]===_0x2da4a4){this[_0x1c61('0x9d1')](_0x4d92c6,_0xc7848c);break;}}}catch(_0xad491d){_0x18351c=!0x0,_0x4c7d39=_0xad491d;}finally{try{!_0x330207&&_0x4cf4f5[_0x1c61('0x99')]&&_0x4cf4f5['return']();}finally{if(_0x18351c)throw _0x4c7d39;}}}}},{'key':_0x1c61('0x9d1'),'value':function(_0x2da4a4,_0xc7848c){var _0x330207,_0x18351c=(0x0,_0x5af5ae['default'])({'height':0x47,'lineWidth':0x4,'color':'#c37400','routeList':[],'isHightLight':!0x1},_0xc7848c);for(_0x330207 in _0x2da4a4[_0x1c61('0x8d5')]){var _0x4c7d39,_0x4dc2d8,_0x4cf4f5=_0x2da4a4[_0x1c61('0x8d5')][_0x330207];_0x4cf4f5[_0x1c61('0x9d2')]&&(0x4==_0x4cf4f5[_0x1c61('0x9d2')]||0x5==_0x4cf4f5[_0x1c61('0x9d2')])&&_0x4cf4f5[_0x1c61('0x9d3')]>=_0xc7848c[_0x1c61('0x9d3')][0x0]&&_0x4cf4f5[_0x1c61('0x9d3')]<_0xc7848c[_0x1c61('0x9d3')][0x1]&&(_0x4dc2d8=_0x2da4a4['Nodes'][_0x4cf4f5[_0x1c61('0x9d4')]],_0x4cf4f5=_0x2da4a4[_0x1c61('0x9d5')][_0x4cf4f5['eid']],(_0x4c7d39={'points':[]})['points']['push']({'x':_0x4dc2d8['X'],'y':_0x4dc2d8['Y']},{'x':_0x4cf4f5['X'],'y':_0x4cf4f5['Y']}),_0x18351c[_0x1c61('0x547')][_0x1c61('0x6f')](_0x4c7d39));}var _0x557ca4=this['createRoutesLine']({'color':_0x18351c[_0x1c61('0x228')],'list':_0x18351c['routeList'],'height':_0x18351c[_0x1c61('0x2f7')],'lineWidth':_0x18351c['lineWidth'],'lineTexture':_0x18351c['lineImg'],'isHightLight':_0x18351c[_0x1c61('0x9cc')],'speed':_0x18351c[_0x1c61('0x32f')]},this['map'][_0x1c61('0x45c')]);this[_0x1c61('0x9c3')][_0x1c61('0x1c4')](_0x557ca4[_0x1c61('0x312')]),this[_0x1c61('0x8c0')][_0x1c61('0x6f')](_0x557ca4);}},{'key':_0x1c61('0x942'),'value':function(_0xc7848c,_0x330207){this[_0x1c61('0x9cd')]();var _0x2da4a4=(0x0,_0x5af5ae[_0x1c61('0x8')])({'height':0x47,'lineWidth':0x4,'color':_0x1c61('0x9d6'),'routeList':[],'isHightLight':!0x1},_0xc7848c),_0x18351c=[],_0x4c7d39=!0x0,_0xc7848c=!0x1,_0x4dc2d8=void 0x0;try{for(var _0x4cf4f5,_0x3d6811=(0x0,_0x4d6d47[_0x1c61('0x8')])(_0x2da4a4['colors']);!(_0x4c7d39=(_0x4cf4f5=_0x3d6811[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4c7d39=!0x0){var _0x26d360=_0x4cf4f5[_0x1c61('0x1c')];_0x18351c[_0x1c61('0x6f')]({'color':_0x26d360['color'],'rank':_0x26d360[_0x1c61('0x9d7')],'lineTexture':_0x26d360['lineImg'],'routeList':[]});}}catch(_0xabf591){_0xc7848c=!0x0,_0x4dc2d8=_0xabf591;}finally{try{!_0x4c7d39&&_0x3d6811['return']&&_0x3d6811[_0x1c61('0x99')]();}finally{if(_0xc7848c)throw _0x4dc2d8;}}var _0xd29e28=!0x0,_0xc7848c=!0x1,_0x4dc2d8=void 0x0;try{for(var _0x10c503,_0x1fe694=(0x0,_0x4d6d47[_0x1c61('0x8')])(_0x330207);!(_0xd29e28=(_0x10c503=_0x1fe694[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0xd29e28=!0x0){var _0xe3bbd0=_0x10c503[_0x1c61('0x1c')],_0x35f3e1={'points':[]},_0x12c615=(_0x35f3e1[_0x1c61('0x289')]=JSON['parse'](_0xe3bbd0[_0x1c61('0x9d8')]),!0x0),_0x5e9f73=!0x1,_0x1371bd=void 0x0;try{for(var _0x13fbfa,_0x3ff95d=(0x0,_0x4d6d47['default'])(_0x18351c);!(_0x12c615=(_0x13fbfa=_0x3ff95d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x12c615=!0x0){var _0xc2714f=_0x13fbfa[_0x1c61('0x1c')];'object'===(0x0,_0x524fe4[_0x1c61('0x8')])(_0xc2714f['rank'])&&+_0xe3bbd0['datatype']>=_0xc2714f['rank'][0x0]&&+_0xe3bbd0[_0x1c61('0x9d7')]<_0xc2714f['rank'][0x1]&&_0xc2714f[_0x1c61('0x547')][_0x1c61('0x6f')](_0x35f3e1),'string'==typeof _0xc2714f['rank']&&_0xe3bbd0[_0x1c61('0x9d7')]==_0xc2714f[_0x1c61('0x9d3')]&&_0xc2714f[_0x1c61('0x547')][_0x1c61('0x6f')](_0x35f3e1);}}catch(_0x827346){_0x5e9f73=!0x0,_0x1371bd=_0x827346;}finally{try{!_0x12c615&&_0x3ff95d['return']&&_0x3ff95d['return']();}finally{if(_0x5e9f73)throw _0x1371bd;}}}}catch(_0x3ec72b){_0xc7848c=!0x0,_0x4dc2d8=_0x3ec72b;}finally{try{!_0xd29e28&&_0x1fe694[_0x1c61('0x99')]&&_0x1fe694['return']();}finally{if(_0xc7848c)throw _0x4dc2d8;}}var _0x5c484f=!0x0,_0x330207=!0x1,_0xc7848c=void 0x0;try{for(var _0x1280b8,_0x134be1=(0x0,_0x4d6d47[_0x1c61('0x8')])(_0x18351c);!(_0x5c484f=(_0x1280b8=_0x134be1[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5c484f=!0x0){var _0xd955ae=_0x1280b8[_0x1c61('0x1c')],_0x29f09a=this[_0x1c61('0x9d9')]({'color':_0xd955ae['color'],'list':_0xd955ae[_0x1c61('0x547')],'height':_0x2da4a4[_0x1c61('0x2f7')],'lineWidth':_0x2da4a4[_0x1c61('0x32e')],'coordTrans':_0x2da4a4[_0x1c61('0x9cb')],'lineTexture':_0x2da4a4[_0x1c61('0x9da')],'isHightLight':_0x2da4a4[_0x1c61('0x9cc')],'speed':_0x2da4a4[_0x1c61('0x32f')]},map['mapView']);this[_0x1c61('0x9c3')][_0x1c61('0x1c4')](_0x29f09a[_0x1c61('0x312')]),this[_0x1c61('0x8c0')][_0x1c61('0x6f')](_0x29f09a);}}catch(_0x12dc0e){_0x330207=!0x0,_0xc7848c=_0x12dc0e;}finally{try{!_0x5c484f&&_0x134be1['return']&&_0x134be1['return']();}finally{if(_0x330207)throw _0xc7848c;}}}},{'key':_0x1c61('0x8d8'),'value':function(_0x2da4a4,_0xc7848c,_0x330207,_0x18351c){_0x18351c&&(this[_0x1c61('0x9c7')]=_0x18351c),this['createTileRouteStyles']();var _0x4c7d39,_0x4dc2d8=this[_0x1c61('0xd9')][_0x1c61('0x96c')](_0xc7848c);if(_0x4dc2d8){for(var _0x4cf4f5 in _0x2da4a4){_0x4cf4f5=_0x2da4a4[_0x4cf4f5];if(_0x4cf4f5[_0x1c61('0x289')]=this[_0x1c61('0x9db')](_0x4cf4f5),_0x4cf4f5[_0x1c61('0x289')]=this[_0x1c61('0xd9')][_0x1c61('0x9dc')]({'from':this[_0x1c61('0xd9')][_0x1c61('0x9dd')],'to':this[_0x1c61('0xd9')][_0x1c61('0x9de')],'coords':_0x4cf4f5[_0x1c61('0x289')],'flipX':!0x1}),this[_0x1c61('0x9c6')][_0x4cf4f5[_0x1c61('0x731')]]){var _0x1908c2=this[_0x1c61('0x9c6')][_0x4cf4f5[_0x1c61('0x731')]][_0x1c61('0x315')](_0x4cf4f5[_0x1c61('0x289')],new THREE['Vector3'](this['map'][_0x1c61('0x2f')][_0x1c61('0x30')],0x0,this[_0x1c61('0xd9')][_0x1c61('0x2f')][_0x1c61('0x31')]));if(_0x18351c){var _0x4e380c=[],_0x5f2d8f=_0x1908c2[_0x1c61('0x1e7')]['position'][_0x1c61('0x104')];this['tempColor'][_0x1c61('0x2fa')](_0x1c61('0x32d'));for(var _0x49c99b=0x0;_0x49c99b<_0x5f2d8f;_0x49c99b++)_0x4e380c[_0x1c61('0x6f')](this[_0x1c61('0x9ca')]['r'],this[_0x1c61('0x9ca')]['g'],this[_0x1c61('0x9ca')]['b']);_0x1908c2[_0x1c61('0x31c')]('changeColor',new THREE[(_0x1c61('0x10d'))](new Float32Array(_0x4e380c),0x3)),this[_0x1c61('0x9c6')][_0x4cf4f5[_0x1c61('0x731')]][_0x1c61('0x9df')][_0x4cf4f5[_0x1c61('0x9e0')]]={'count':_0x5f2d8f,'colorStr':_0x1c61('0x32d')};}this[_0x1c61('0x9c6')][_0x4cf4f5[_0x1c61('0x731')]]['geometries'][_0x1c61('0x6f')](_0x1908c2);}}for(var _0x2f27cd in this['tileRoutesMarkers'])0x0<this[_0x1c61('0x9c6')][_0x2f27cd][_0x1c61('0x9e1')]['length']&&(_0x4c7d39=this[_0x1c61('0x9e2')](this[_0x1c61('0x9c6')][_0x2f27cd][_0x1c61('0x9e1')]),_0x4c7d39=new THREE[(_0x1c61('0x30f'))](_0x4c7d39,this['tileRoutesMarkers'][_0x2f27cd][_0x1c61('0x56c')]),_0x330207&&_0x4c7d39[_0x1c61('0x551')][_0x1c61('0x552')](0x1),_0x4c7d39['renderOrder']=0x14,_0x4c7d39['tileCode']=_0xc7848c,_0x4c7d39[_0x1c61('0x7b')]=_0x1c61('0x9e3'),_0x4c7d39[_0x1c61('0x9e4')]=this['tileRoutesMarkers'][_0x2f27cd][_0x1c61('0x9df')],_0x4dc2d8['o3d_'][_0x1c61('0x1c4')](_0x4c7d39),this[_0x1c61('0x9c6')][_0x2f27cd]['geometries'][_0x1c61('0xf')]=0x0,this[_0x1c61('0x9c6')][_0x2f27cd][_0x1c61('0x9df')]={});}}},{'key':_0x1c61('0x9e2'),'value':function(_0x2da4a4){var _0xc7848c=[],_0x330207=!0x0,_0x18351c=!0x1,_0x4c7d39=void 0x0;try{for(var _0x4dc2d8,_0x4cf4f5=(0x0,_0x4d6d47['default'])(_0x2da4a4);!(_0x330207=(_0x4dc2d8=_0x4cf4f5[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x330207=!0x0){var _0x3dbd2b=_0x4dc2d8['value'];_0xc7848c[_0x1c61('0x6f')](_0x3dbd2b);}}catch(_0x50911a){_0x18351c=!0x0,_0x4c7d39=_0x50911a;}finally{try{!_0x330207&&_0x4cf4f5[_0x1c61('0x99')]&&_0x4cf4f5[_0x1c61('0x99')]();}finally{if(_0x18351c)throw _0x4c7d39;}}_0x2da4a4=THREE[_0x1c61('0x9e5')][_0x1c61('0x9e6')](_0xc7848c,!0x1);return _0x2da4a4[_0x1c61('0x9e7')](0x0,_0x2da4a4['attributes'][_0x1c61('0x218')][_0x1c61('0x104')],0x0),_0x2da4a4;}},{'key':_0x1c61('0x9e8'),'value':function(_0x2da4a4){for(var _0xc7848c in this[_0x1c61('0x9c6')])this[_0x1c61('0x9c6')][_0xc7848c][_0x1c61('0x56e')](!0x0);for(var _0x330207=0x0,_0x18351c=this[_0x1c61('0xd9')]['tileList'][_0x1c61('0xf')];_0x330207<_0x18351c;_0x330207++)for(var _0x4c7d39=0x0,_0x4dc2d8=this[_0x1c61('0xd9')][_0x1c61('0x9e9')][_0x330207][_0x1c61('0x4fc')]['children']['length'];_0x4c7d39<_0x4dc2d8;_0x4c7d39++)if(_0x1c61('0x9e3')===this[_0x1c61('0xd9')][_0x1c61('0x9e9')][_0x330207]['o3d_'][_0x1c61('0x31b')][_0x4c7d39][_0x1c61('0x7b')]){var _0x4cf4f5,_0x129edb=this['map']['tileList'][_0x330207][_0x1c61('0x4fc')][_0x1c61('0x31b')][_0x4c7d39],_0x58bd67=_0x129edb[_0x1c61('0xda')]['attributes']['changeColor'],_0x5259d1=0x0;for(_0x4cf4f5 in _0x129edb[_0x1c61('0x9e4')]){_0x129edb['lineColorMapping'][_0x4cf4f5][_0x1c61('0x2f9')]=_0x2da4a4[Math[_0x1c61('0x6c')](0x3*Math[_0x1c61('0x1b4')]())],this[_0x1c61('0x9ca')][_0x1c61('0x2fa')](_0x129edb[_0x1c61('0x9e4')][_0x4cf4f5]['colorStr']);for(var _0x5ec451=0x3*_0x5259d1,_0x4a9d72=0x3*(_0x5259d1+_0x129edb[_0x1c61('0x9e4')][_0x4cf4f5][_0x1c61('0x104')]);_0x5ec451<_0x4a9d72;_0x5ec451+=0x3)_0x58bd67[_0x1c61('0xe9')][_0x5ec451]=this['tempColor']['r'],_0x58bd67[_0x1c61('0xe9')][_0x5ec451+0x1]=this[_0x1c61('0x9ca')]['g'],_0x58bd67[_0x1c61('0xe9')][_0x5ec451+0x2]=this[_0x1c61('0x9ca')]['b'];_0x5259d1+=_0x129edb[_0x1c61('0x9e4')][_0x4cf4f5]['count'];}_0x58bd67[_0x1c61('0x108')]=!0x0;}this['isChangedTileRoutesStyle']=!0x0;}},{'key':'updateTileRoutesStyle','value':function(_0x2da4a4){var _0xc7848c=void 0x0,_0x330207=void 0x0;if(_0x2da4a4?(_0xc7848c=_0x2da4a4[_0x1c61('0x9ea')],_0x330207=_0x2da4a4[_0x1c61('0x9eb')],this['changedTileRoutesStyleConfig']=_0x2da4a4):(_0xc7848c=this['changedTileRoutesStyleConfig'][_0x1c61('0x9ea')],_0x330207=this[_0x1c61('0x9c9')][_0x1c61('0x9eb')]),_0xc7848c&&this['updateTileRoutesRandomColors'](_0xc7848c),_0x330207)for(var _0x18351c in this[_0x1c61('0x9c6')])this[_0x1c61('0x9c6')][_0x18351c][_0x1c61('0x9ec')](_0x330207);}},{'key':_0x1c61('0x910'),'value':function(){if(this['changedTileRoutesStyleConfig']){for(var _0x2da4a4 in this[_0x1c61('0x9c6')])this[_0x1c61('0x9c6')][_0x2da4a4]['isChangeLineColor'](!0x1),this[_0x1c61('0x9c6')][_0x2da4a4][_0x1c61('0x9ec')](0x1);this[_0x1c61('0x9c8')]=!0x1,this[_0x1c61('0x9c9')]=null;}}},{'key':'toggleTileRoutesVisible','value':function(){var _0x2da4a4,_0xc7848c=0x0<arguments[_0x1c61('0xf')]&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0x2da4a4 in this['tileRoutesMarkers'])this[_0x1c61('0x9c6')][_0x2da4a4]['_getMaterial'][_0x1c61('0x32c')]=_0xc7848c;}},{'key':'createTileRouteStyles','value':function(){if(!this[_0x1c61('0x9c4')]){for(var _0x2da4a4 in this['routeEffectLayer']=new esmap[(_0x1c61('0x51'))][(_0x1c61('0x8e9'))](_0x1c61('0x9ed'),esmap[_0x1c61('0x4ed')][_0x1c61('0x4ec')]),esmap[_0x1c61('0x51')][_0x1c61('0x9ee')](this[_0x1c61('0x9ef')]),this[_0x1c61('0xd9')]['mapTheme'][_0x1c61('0x9f0')]){var _0xc7848c=this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0x9f0')][_0x2da4a4],_0x330207=(_0xc7848c[_0x1c61('0x228')]=esmap['ESMapUtil'][_0x1c61('0x9f1')](_0xc7848c['color']),null),_0x330207=(0x1==_0xc7848c[_0x1c61('0x5ca')]&&(_0x330207=_0xc7848c[_0x1c61('0x228')]),new esmap[(_0x1c61('0x51'))][(_0x1c61('0x8ef'))](esmap[_0x1c61('0x27f')][_0x1c61('0x569')],{'color':_0x330207,'height':0x0,'lineWidth':1.5*_0xc7848c[_0x1c61('0x9f2')],'imgUrl':0x2==_0xc7848c[_0x1c61('0x5ca')]?_0xc7848c[_0x1c61('0x9f3')]:null,'speed':_0xc7848c[_0x1c61('0x9f4')]/0xc8,'isCanChangeStyle':this[_0x1c61('0x9c7')],'opacity':_0xc7848c[_0x1c61('0x208')]}));this[_0x1c61('0x9ef')][_0x1c61('0x508')](_0x330207),this[_0x1c61('0x9c6')][_0x2da4a4]=_0x330207,this['tileRoutesMarkers'][_0x2da4a4]['geometries']=[],this[_0x1c61('0x9c6')][_0x2da4a4]['idColorMapping']={};}this[_0x1c61('0x9c4')]=!0x0;}}},{'key':_0x1c61('0x9db'),'value':function(_0x2da4a4){var _0xc7848c=_0x2da4a4['outline']['substring'](0x2,_0x2da4a4[_0x1c61('0x9f5')][_0x1c61('0xf')]-0x2)[_0x1c61('0x5f')](/,/),_0x330207={'x':0x0,'y':0x0};if(0x0!=_0xc7848c['length']){for(var _0x18351c=[],_0x4c7d39=0x0;_0x4c7d39<_0xc7848c[_0x1c61('0xf')];_0x4c7d39++){var _0x4dc2d8=_0xc7848c[_0x4c7d39][_0x1c61('0x5f')]('\x20'),_0x4cf4f5=+_0x4dc2d8[0x2]||0x0;_0x18351c[_0x1c61('0x6f')]({'x':+_0x4dc2d8[0x0]+_0x330207['x'],'y':+_0x4dc2d8[0x1]+_0x330207['y'],'offset':_0x4cf4f5}),0x0==_0x4c7d39&&(_0x330207['x']=+_0x4dc2d8[0x0],_0x330207['y']=+_0x4dc2d8[0x1]);}return _0x18351c;}}},{'key':'disposeAll','value':function(){for(var _0x2da4a4=0x0,_0xc7848c=this[_0x1c61('0x8c0')]['length'];_0x2da4a4<_0xc7848c;_0x2da4a4++)this[_0x1c61('0x8c0')][_0x2da4a4][_0x1c61('0xd8')](),this[_0x1c61('0x8c0')][_0x2da4a4]=null;this[_0x1c61('0x8c0')][_0x1c61('0xf')]=0x0,this['routesEffectLayer']&&(this['routesEffectLayer'][_0x1c61('0xd8')](),this[_0x1c61('0x9c5')]=null);}},{'key':_0x1c61('0x3d1'),'value':function(){if(0x0<this[_0x1c61('0x8c0')][_0x1c61('0xf')]){var _0x2da4a4=!0x0,_0xc7848c=!0x1,_0x330207=void 0x0;try{for(var _0x18351c,_0x4c7d39=(0x0,_0x4d6d47[_0x1c61('0x8')])(this['routesMarkers']);!(_0x2da4a4=(_0x18351c=_0x4c7d39[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2da4a4=!0x0)_0x18351c[_0x1c61('0x1c')][_0x1c61('0x3d1')]();}catch(_0x3ff410){_0xc7848c=!0x0,_0x330207=_0x3ff410;}finally{try{!_0x2da4a4&&_0x4c7d39[_0x1c61('0x99')]&&_0x4c7d39[_0x1c61('0x99')]();}finally{if(_0xc7848c)throw _0x330207;}}}}}]),_0xc7848c['default']=_0x4cf4f5;},function(_0x415850,_0x36c288,_0x2483ac){'use strict';Object[_0x1c61('0x2')](_0x36c288,'__esModule',{'value':!0x0});var _0x5f41c5=_0x36c07f(_0x2483ac(0x0));function _0x36c07f(_0x415850){return _0x415850&&_0x415850['__esModule']?_0x415850:{'default':_0x415850};}function _0x3ec325(){(0x0,_0x5f41c5[_0x1c61('0x8')])(this,_0x3ec325);}(0x0,_0x36c07f(_0x2483ac(0x1))[_0x1c61('0x8')])(_0x3ec325,null,[{'key':_0x1c61('0x342'),'value':function(_0x415850,_0x36c288){var _0x2483ac=[],_0x415850=20037508.342789*_0x415850/0xb4,_0x36c288=Math[_0x1c61('0x4e3')](Math[_0x1c61('0x9f6')]((0x5a+_0x36c288)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x2483ac[_0x1c61('0x6f')](_0x415850),_0x2483ac[_0x1c61('0x6f')](_0x36c288),_0x2483ac;}},{'key':_0x1c61('0x346'),'value':function(_0x415850,_0x36c288){var _0x2483ac=[],_0x415850=_0x415850/20037508.342789*0xb4,_0x36c288=_0x36c288/20037508.342789*0xb4,_0x36c288=0xb4/Math['PI']*(0x2*Math[_0x1c61('0x9f7')](Math['exp'](_0x36c288*Math['PI']/0xb4))-Math['PI']/0x2);return _0x2483ac['push'](_0x415850),_0x2483ac['push'](_0x36c288),_0x2483ac;}}]),_0x36c288['default']=_0x3ec325;},function(_0x28264e,_0x12e711,_0x4b3338){'use strict';var _0x28452a=_0x2a3188(_0x4b3338(0xb5)),_0x1c3cc4=_0x2a3188(_0x4b3338(0x107)),_0x15f04d=_0x2a3188(_0x4b3338(0x3e)),_0x58928c=_0x2a3188(_0x4b3338(0x83));function _0x2a3188(_0x28264e){return _0x28264e&&_0x28264e['__esModule']?_0x28264e:{'default':_0x28264e};}THREE[_0x1c61('0x9e5')]={'computeTangents':function(_0x28264e){var _0x1fe94a=_0x28264e['index'],_0x12e711=_0x28264e[_0x1c61('0x1e7')];if(null!==_0x1fe94a&&void 0x0!==_0x12e711[_0x1c61('0x218')]&&void 0x0!==_0x12e711[_0x1c61('0x6a1')]&&void 0x0!==_0x12e711['uv']){for(var _0x4b3338=_0x1fe94a[_0x1c61('0xe9')],_0x2a3188=_0x12e711[_0x1c61('0x218')]['array'],_0x30a538=_0x12e711['normal']['array'],_0x26e9c6=_0x12e711['uv'][_0x1c61('0xe9')],_0x311551=_0x2a3188[_0x1c61('0xf')]/0x3,_0x465c17=(void 0x0===_0x12e711[_0x1c61('0x9f8')]&&_0x28264e[_0x1c61('0x31c')](_0x1c61('0x9f8'),new THREE[(_0x1c61('0x10d'))](new Float32Array(0x4*_0x311551),0x4)),_0x12e711[_0x1c61('0x9f8')]['array']),_0x157406=[],_0x502420=[],_0x265db4=0x0;_0x265db4<_0x311551;_0x265db4++)_0x157406[_0x265db4]=new THREE[(_0x1c61('0x1b8'))](),_0x502420[_0x265db4]=new THREE['Vector3']();for(var _0x2440ca,_0xa08e7b,_0x36b285,_0x5e8e97,_0x1570aa,_0x110c04,_0x409a73,_0x1edc17,_0x561503,_0x54ef68,_0x1fea55,_0x21848a,_0x58928c,_0x1e9c1f,_0x599709=new THREE['Vector3'](),_0x2c03f0=new THREE['Vector3'](),_0x345d85=new THREE[(_0x1c61('0x1b8'))](),_0x6fa749=new THREE[(_0x1c61('0x1cf'))](),_0x4f5383=new THREE[(_0x1c61('0x1cf'))](),_0x4139d8=new THREE[(_0x1c61('0x1cf'))](),_0x5a3cbf=new THREE['Vector3'](),_0x99b97b=new THREE['Vector3'](),_0x536f6f=_0x28264e[_0x1c61('0x9f9')],_0x265db4=0x0,_0x31a1b3=(_0x536f6f=0x0===_0x536f6f['length']?[{'start':0x0,'count':_0x4b3338[_0x1c61('0xf')]}]:_0x536f6f)[_0x1c61('0xf')];_0x265db4<_0x31a1b3;++_0x265db4)for(var _0x3c6656=_0x31a752=(_0x15f04d=_0x536f6f[_0x265db4])[_0x1c61('0x2d9')],_0x464486=_0x31a752+_0x15f04d[_0x1c61('0x104')];_0x3c6656<_0x464486;_0x3c6656+=0x3)_0x2440ca=_0x4b3338[_0x3c6656+0x0],_0xa08e7b=_0x4b3338[_0x3c6656+0x1],_0x36b285=_0x4b3338[_0x3c6656+0x2],0x0,_0x599709[_0x1c61('0x37c')](_0x2a3188,0x3*_0x2440ca),_0x2c03f0['fromArray'](_0x2a3188,0x3*_0xa08e7b),_0x345d85[_0x1c61('0x37c')](_0x2a3188,0x3*_0x36b285),_0x6fa749[_0x1c61('0x37c')](_0x26e9c6,0x2*_0x2440ca),_0x4f5383[_0x1c61('0x37c')](_0x26e9c6,0x2*_0xa08e7b),_0x4139d8[_0x1c61('0x37c')](_0x26e9c6,0x2*_0x36b285),_0x5e8e97=_0x2c03f0['x']-_0x599709['x'],_0x1570aa=_0x345d85['x']-_0x599709['x'],_0x110c04=_0x2c03f0['y']-_0x599709['y'],_0x409a73=_0x345d85['y']-_0x599709['y'],_0x1edc17=_0x2c03f0['z']-_0x599709['z'],_0x561503=_0x345d85['z']-_0x599709['z'],_0x54ef68=_0x4f5383['x']-_0x6fa749['x'],_0x1fea55=_0x4139d8['x']-_0x6fa749['x'],_0x21848a=_0x4f5383['y']-_0x6fa749['y'],_0x58928c=_0x4139d8['y']-_0x6fa749['y'],_0x5a3cbf[_0x1c61('0x1b')]((_0x58928c*_0x5e8e97-_0x21848a*_0x1570aa)*(_0x1e9c1f=0x1/(_0x54ef68*_0x58928c-_0x1fea55*_0x21848a)),(_0x58928c*_0x110c04-_0x21848a*_0x409a73)*_0x1e9c1f,(_0x58928c*_0x1edc17-_0x21848a*_0x561503)*_0x1e9c1f),_0x99b97b[_0x1c61('0x1b')]((_0x54ef68*_0x1570aa-_0x1fea55*_0x5e8e97)*_0x1e9c1f,(_0x54ef68*_0x409a73-_0x1fea55*_0x110c04)*_0x1e9c1f,(_0x54ef68*_0x561503-_0x1fea55*_0x1edc17)*_0x1e9c1f),_0x157406[_0x2440ca]['add'](_0x5a3cbf),_0x157406[_0xa08e7b]['add'](_0x5a3cbf),_0x157406[_0x36b285][_0x1c61('0x1c4')](_0x5a3cbf),_0x502420[_0x2440ca][_0x1c61('0x1c4')](_0x99b97b),_0x502420[_0xa08e7b][_0x1c61('0x1c4')](_0x99b97b),_0x502420[_0x36b285][_0x1c61('0x1c4')](_0x99b97b);for(var _0x1ef441,_0x28452a=new THREE['Vector3'](),_0x1a7500=new THREE[(_0x1c61('0x1b8'))](),_0x1c3cc4=new THREE[(_0x1c61('0x1b8'))](),_0x554939=new THREE[(_0x1c61('0x1b8'))](),_0x265db4=0x0,_0x31a1b3=_0x536f6f[_0x1c61('0xf')];_0x265db4<_0x31a1b3;++_0x265db4)for(var _0x15f04d,_0x31a752,_0x3c6656=_0x31a752=(_0x15f04d=_0x536f6f[_0x265db4])[_0x1c61('0x2d9')],_0x464486=_0x31a752+_0x15f04d[_0x1c61('0x104')];_0x3c6656<_0x464486;_0x3c6656+=0x3)_0x49c9b5(_0x4b3338[_0x3c6656+0x0]),_0x49c9b5(_0x4b3338[_0x3c6656+0x1]),_0x49c9b5(_0x4b3338[_0x3c6656+0x2]);}function _0x49c9b5(_0x28264e){_0x1c3cc4[_0x1c61('0x37c')](_0x30a538,0x3*_0x28264e),_0x554939[_0x1c61('0x1c2')](_0x1c3cc4),_0x1ef441=_0x157406[_0x28264e],_0x28452a['copy'](_0x1ef441),_0x28452a[_0x1c61('0x2f6')](_0x1c3cc4[_0x1c61('0x1c3')](_0x1c3cc4[_0x1c61('0x69c')](_0x1ef441)))['normalize'](),_0x1a7500[_0x1c61('0x9fa')](_0x554939,_0x1ef441),_0x1ef441=_0x1a7500[_0x1c61('0x69c')](_0x502420[_0x28264e]),_0x1ef441=_0x1ef441<0x0?-0x1:0x1,_0x465c17[0x4*_0x28264e]=_0x28452a['x'],_0x465c17[0x4*_0x28264e+0x1]=_0x28452a['y'],_0x465c17[0x4*_0x28264e+0x2]=_0x28452a['z'],_0x465c17[0x4*_0x28264e+0x3]=_0x1ef441;}},'splitBufferGeometryByLimit':function(_0x28264e,_0x12e711,_0x4b3338){_0x4b3338=(null===_0x4b3338?0x1/0x0:_0x4b3338)||0xc350;for(var _0x2a3188=0x0,_0x1c9361=0x0,_0x868dbd=[[]],_0x11c003=0x0;_0x11c003<_0x28264e['length'];_0x11c003++){var _0x55b5a6=_0x28264e[_0x11c003];_0x55b5a6[_0x1c61('0x1e7')][_0x1c61('0x218')]&&((_0x2a3188+=_0x55b5a6[_0x1c61('0x1e7')]['position'][_0x1c61('0x104')])<_0x4b3338?(_0x868dbd[_0x1c9361]instanceof Array||(_0x868dbd[_0x1c9361]=[]),_0x868dbd[_0x1c9361][_0x1c61('0x6f')](_0x55b5a6)):(_0x2a3188=0x0,_0x868dbd[_0x1c9361]instanceof Array||(_0x868dbd[_0x1c9361]=[]),_0x868dbd[_0x1c9361]['push'](_0x55b5a6),_0x1c9361++));}for(var _0x104e98=[],_0x4497a6=0x0;_0x4497a6<_0x868dbd[_0x1c61('0xf')];_0x4497a6++){var _0x42d039=this['mergeBufferGeometries'](_0x868dbd[_0x4497a6],_0x12e711);_0x104e98[_0x1c61('0x6f')](_0x42d039);}return _0x104e98;},'mergeBufferGeometries':function(_0x28264e,_0x12e711){for(var _0x4b3338=null!==_0x28264e[0x0][_0x1c61('0x43')],_0x2a3188=new _0x58928c[(_0x1c61('0x8'))]((0x0,_0x15f04d['default'])(_0x28264e[0x0][_0x1c61('0x1e7')])),_0x250740=new _0x58928c[(_0x1c61('0x8'))]((0x0,_0x15f04d['default'])(_0x28264e[0x0][_0x1c61('0x74c')])),_0x30b861={},_0x1c4df2={},_0x31f64d=new THREE['BufferGeometry'](),_0x4c5d7a=0x0,_0x4923a9=0x0;_0x4923a9<_0x28264e[_0x1c61('0xf')];++_0x4923a9){var _0x11b99d,_0x38b0e3,_0x500c3a=_0x28264e[_0x4923a9];if(_0x4b3338!=(null!==_0x500c3a['index']))return null;for(_0x11b99d in _0x500c3a['attributes']){if(!_0x2a3188[_0x1c61('0x9fb')](_0x11b99d))return null;void 0x0===_0x30b861[_0x11b99d]&&(_0x30b861[_0x11b99d]=[]),_0x30b861[_0x11b99d]['push'](_0x500c3a[_0x1c61('0x1e7')][_0x11b99d]);}for(_0x11b99d in _0x500c3a['morphAttributes']){if(!_0x250740[_0x1c61('0x9fb')](_0x11b99d))return null;void 0x0===_0x1c4df2[_0x11b99d]&&(_0x1c4df2[_0x11b99d]=[]),_0x1c4df2[_0x11b99d]['push'](_0x500c3a[_0x1c61('0x74c')][_0x11b99d]);}if(_0x31f64d['userData'][_0x1c61('0x9fc')]=_0x31f64d['userData'][_0x1c61('0x9fc')]||[],_0x31f64d[_0x1c61('0x42')][_0x1c61('0x9fc')][_0x1c61('0x6f')](_0x500c3a[_0x1c61('0x42')]),_0x12e711){if(_0x4b3338)_0x38b0e3=_0x500c3a['index']['count'];else{if(void 0x0===_0x500c3a[_0x1c61('0x1e7')][_0x1c61('0x218')])return null;_0x38b0e3=_0x500c3a[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0x104')];}_0x31f64d[_0x1c61('0x9e7')](_0x4c5d7a,_0x38b0e3,_0x4923a9),_0x4c5d7a+=_0x38b0e3;}}if(_0x4b3338){for(var _0x3b429d=0x0,_0x16d5ff=[],_0x4923a9=0x0;_0x4923a9<_0x28264e[_0x1c61('0xf')];++_0x4923a9){for(var _0x48b92e=_0x28264e[_0x4923a9][_0x1c61('0x43')],_0xffe260=0x0;_0xffe260<_0x48b92e['count'];++_0xffe260)_0x16d5ff[_0x1c61('0x6f')](_0x48b92e[_0x1c61('0x7d4')](_0xffe260)+_0x3b429d);_0x3b429d+=_0x28264e[_0x4923a9][_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0x104')];}_0x31f64d[_0x1c61('0x383')](_0x16d5ff);}for(_0x11b99d in _0x30b861){var _0xad8f03=this['mergeBufferAttributes'](_0x30b861[_0x11b99d]);if(!_0xad8f03)return null;_0x31f64d[_0x1c61('0x31c')](_0x11b99d,_0xad8f03);}for(_0x11b99d in _0x1c4df2){var _0x4858c7=_0x1c4df2[_0x11b99d][0x0]['length'];if(0x0===_0x4858c7)break;for(_0x31f64d[_0x1c61('0x74c')]=_0x31f64d[_0x1c61('0x74c')]||{},_0x31f64d[_0x1c61('0x74c')][_0x11b99d]=[],_0x4923a9=0x0;_0x4923a9<_0x4858c7;++_0x4923a9){for(var _0xf74f53=[],_0xffe260=0x0;_0xffe260<_0x1c4df2[_0x11b99d][_0x1c61('0xf')];++_0xffe260)_0xf74f53['push'](_0x1c4df2[_0x11b99d][_0xffe260][_0x4923a9]);var _0x1d9d5a=this[_0x1c61('0x9fd')](_0xf74f53);if(!_0x1d9d5a)return null;_0x31f64d[_0x1c61('0x74c')][_0x11b99d][_0x1c61('0x6f')](_0x1d9d5a);}}return _0x31f64d;},'mergeBufferAttributes':function(_0x28264e){for(var _0x12e711,_0x4b3338,_0x2a3188,_0x3475f5=0x0,_0x35941d=0x0;_0x35941d<_0x28264e['length'];++_0x35941d){var _0x45edba=_0x28264e[_0x35941d];if(_0x45edba[_0x1c61('0x9fe')])return null;if((_0x12e711=void 0x0===_0x12e711?_0x45edba[_0x1c61('0xe9')][_0x1c61('0x85')]:_0x12e711)!==_0x45edba[_0x1c61('0xe9')]['constructor'])return null;if((_0x4b3338=void 0x0===_0x4b3338?_0x45edba[_0x1c61('0x10c')]:_0x4b3338)!==_0x45edba['itemSize'])return null;if((_0x2a3188=void 0x0===_0x2a3188?_0x45edba[_0x1c61('0x9ff')]:_0x2a3188)!==_0x45edba[_0x1c61('0x9ff')])return null;_0x3475f5+=_0x45edba[_0x1c61('0xe9')]['length'];}for(var _0x2e5e17=new _0x12e711(_0x3475f5),_0x189667=0x0,_0x35941d=0x0;_0x35941d<_0x28264e['length'];++_0x35941d)_0x2e5e17[_0x1c61('0x1b')](_0x28264e[_0x35941d]['array'],_0x189667),_0x189667+=_0x28264e[_0x35941d][_0x1c61('0xe9')][_0x1c61('0xf')];return new THREE[(_0x1c61('0x10d'))](_0x2e5e17,_0x4b3338,_0x2a3188);},'interleaveAttributes':function(_0x28264e){for(var _0x12e711,_0x4b3338=0x0,_0x2a3188=0x0,_0x2007d9=0x0,_0x577a56=_0x28264e['length'];_0x2007d9<_0x577a56;++_0x2007d9){var _0x43dfa5=_0x28264e[_0x2007d9];if((_0x12e711=void 0x0===_0x12e711?_0x43dfa5[_0x1c61('0xe9')][_0x1c61('0x85')]:_0x12e711)!==_0x43dfa5[_0x1c61('0xe9')]['constructor'])return null;_0x4b3338+=_0x43dfa5[_0x1c61('0xe9')][_0x1c61('0xf')],_0x2a3188+=_0x43dfa5[_0x1c61('0x10c')];}for(var _0x4f4da4=new THREE[(_0x1c61('0x61e'))](new _0x12e711(_0x4b3338),_0x2a3188),_0x53726a=0x0,_0x382945=[],_0x4abd79=[_0x1c61('0x7d4'),_0x1c61('0xa00'),_0x1c61('0x7d6'),_0x1c61('0xa01')],_0x30e523=[_0x1c61('0xa02'),_0x1c61('0xa03'),_0x1c61('0xa04'),_0x1c61('0xa05')],_0xc73aac=0x0,_0x577a56=_0x28264e[_0x1c61('0xf')];_0xc73aac<_0x577a56;_0xc73aac++){var _0x48d973=(_0x43dfa5=_0x28264e[_0xc73aac])[_0x1c61('0x10c')],_0x342828=_0x43dfa5[_0x1c61('0x104')],_0x5c0c80=new THREE[(_0x1c61('0x440'))](_0x4f4da4,_0x48d973,_0x53726a,_0x43dfa5[_0x1c61('0x9ff')]);_0x382945['push'](_0x5c0c80),_0x53726a+=_0x48d973;for(var _0x45e5a1=0x0;_0x45e5a1<_0x342828;_0x45e5a1++)for(var _0x3152d5=0x0;_0x3152d5<_0x48d973;_0x3152d5++)_0x5c0c80[_0x30e523[_0x3152d5]](_0x45e5a1,_0x43dfa5[_0x4abd79[_0x3152d5]](_0x45e5a1));}return _0x382945;},'estimateBytesUsed':function(_0x28264e){var _0x12e711,_0x4b3338=0x0;for(_0x12e711 in _0x28264e['attributes']){var _0x2a3188=_0x28264e[_0x1c61('0x405')](_0x12e711);_0x4b3338+=_0x2a3188[_0x1c61('0x104')]*_0x2a3188[_0x1c61('0x10c')]*_0x2a3188[_0x1c61('0xe9')][_0x1c61('0xa06')];}var _0xc096=_0x28264e[_0x1c61('0x74b')]();return _0x4b3338+(_0xc096?_0xc096['count']*_0xc096['itemSize']*_0xc096[_0x1c61('0xe9')][_0x1c61('0xa06')]:0x0);},'mergeVertices':function(_0x28264e){for(var _0x12e711=0x1<arguments[_0x1c61('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x12e711=Math['max'](_0x12e711,_0x1c3cc4['default']),_0x4b3338={},_0x2a3188=_0x28264e[_0x1c61('0x74b')](),_0x37dc64=_0x28264e['getAttribute'](_0x1c61('0x218')),_0x261bb=(_0x2a3188||_0x37dc64)['count'],_0x10d9c7=0x0,_0xcdcb7d=(0x0,_0x15f04d[_0x1c61('0x8')])(_0x28264e[_0x1c61('0x1e7')]),_0x451d01={},_0x187302={},_0x5991e3=[],_0x398df1=['getX','getY','getZ',_0x1c61('0xa01')],_0x2f8b27=0x0,_0x39e7c9=_0xcdcb7d['length'];_0x2f8b27<_0x39e7c9;_0x2f8b27++)_0x451d01[_0x5b1779=_0xcdcb7d[_0x2f8b27]]=[],(_0x545e79=_0x28264e[_0x1c61('0x74c')][_0x5b1779])&&(_0x187302[_0x5b1779]=new Array(_0x545e79['length'])[_0x1c61('0x4c3')]()['map'](function(){return[];}));for(var _0x37dc64=(0x0,_0x28452a['default'])(0x1/_0x12e711),_0x56daa7=Math['pow'](0xa,_0x37dc64),_0x2f8b27=0x0;_0x2f8b27<_0x261bb;_0x2f8b27++){for(var _0x1a5cf0=_0x2a3188?_0x2a3188['getX'](_0x2f8b27):_0x2f8b27,_0x38aac3='',_0x41ce5e=0x0,_0x39e7c9=_0xcdcb7d[_0x1c61('0xf')];_0x41ce5e<_0x39e7c9;_0x41ce5e++)for(var _0x5b1779=_0xcdcb7d[_0x41ce5e],_0x596b0a=(_0x58928c=_0x28264e['getAttribute'](_0x5b1779))['itemSize'],_0x142774=0x0;_0x142774<_0x596b0a;_0x142774++)_0x38aac3+=~~(_0x58928c[_0x398df1[_0x142774]](_0x1a5cf0)*_0x56daa7)+',';if(_0x38aac3 in _0x4b3338)_0x5991e3[_0x1c61('0x6f')](_0x4b3338[_0x38aac3]);else{for(_0x41ce5e=0x0,_0x39e7c9=_0xcdcb7d[_0x1c61('0xf')];_0x41ce5e<_0x39e7c9;_0x41ce5e++)for(var _0x5b1779=_0xcdcb7d[_0x41ce5e],_0x58928c=_0x28264e[_0x1c61('0x405')](_0x5b1779),_0x545e79=_0x28264e[_0x1c61('0x74c')][_0x5b1779],_0x596b0a=_0x58928c[_0x1c61('0x10c')],_0x56eae8=_0x451d01[_0x5b1779],_0x4c2478=_0x187302[_0x5b1779],_0x142774=0x0;_0x142774<_0x596b0a;_0x142774++){var _0x1bc961=_0x398df1[_0x142774];if(_0x56eae8[_0x1c61('0x6f')](_0x58928c[_0x1bc961](_0x1a5cf0)),_0x545e79)for(var _0x85ac65=0x0,_0x3d6443=_0x545e79['length'];_0x85ac65<_0x3d6443;_0x85ac65++)_0x4c2478[_0x85ac65][_0x1c61('0x6f')](_0x545e79[_0x85ac65][_0x1bc961](_0x1a5cf0));}_0x4b3338[_0x38aac3]=_0x10d9c7,_0x5991e3[_0x1c61('0x6f')](_0x10d9c7),_0x10d9c7++;}}for(var _0x3f141c=_0x28264e['clone'](),_0x2f8b27=0x0,_0x39e7c9=_0xcdcb7d[_0x1c61('0xf')];_0x2f8b27<_0x39e7c9;_0x2f8b27++){var _0x5b1779=_0xcdcb7d[_0x2f8b27],_0x5e46e3=_0x28264e['getAttribute'](_0x5b1779),_0xa97e10=new _0x5e46e3[(_0x1c61('0xe9'))]['constructor'](_0x451d01[_0x5b1779]);if(_0x5e46e3['isInterleavedBufferAttribute']?_0x58928c=new THREE['BufferAttribute'](_0xa97e10,_0x5e46e3[_0x1c61('0x10c')],_0x5e46e3[_0x1c61('0x10c')]):(_0x58928c=_0x28264e['getAttribute'](_0x5b1779)[_0x1c61('0x1b1')]())['setArray'](_0xa97e10),_0x3f141c['addAttribute'](_0x5b1779,_0x58928c),_0x5b1779 in _0x187302)for(_0x41ce5e=0x0;_0x41ce5e<_0x187302[_0x5b1779][_0x1c61('0xf')];_0x41ce5e++){var _0x1e8486=_0x28264e['morphAttributes'][_0x5b1779][_0x41ce5e][_0x1c61('0x1b1')]();_0x1e8486[_0x1c61('0xa07')](new _0x1e8486[(_0x1c61('0xe9'))]['constructor'](_0x187302[_0x5b1779][_0x41ce5e])),_0x3f141c[_0x1c61('0x74c')][_0x5b1779][_0x41ce5e]=_0x1e8486;}}_0x12e711=Uint8Array,_0x5991e3[_0x1c61('0xf')]>=Math[_0x1c61('0x5e0')](0x2,0x8)&&(_0x12e711=Uint16Array),_0x37dc64=new(_0x12e711=_0x5991e3[(_0x1c61('0xf'))]>=(Math[_0x1c61('0x5e0')](0x2,0x10))?Uint32Array:_0x12e711)(_0x5991e3),_0x5991e3=null;return null===_0x2a3188?_0x5991e3=new THREE[(_0x1c61('0x10d'))](_0x37dc64,0x1):(_0x5991e3=_0x28264e['getIndex']()[_0x1c61('0x1b1')]())['setArray'](_0x37dc64),_0x3f141c[_0x1c61('0x383')](_0x5991e3),_0x3f141c;}};},function(_0x4b2be4,_0x4ad3db,_0x39fd7f){_0x4b2be4[_0x1c61('0x1')]={'default':_0x39fd7f(0x108),'__esModule':!0x0};},function(_0x4a0122,_0x5e9bd4,_0xf8fa3b){_0xf8fa3b(0x109),_0x4a0122['exports']=Math['pow'](0x2,-0x34);},function(_0x45752a,_0x1d4e22,_0x273b75){_0x273b75=_0x273b75(0x3);_0x273b75(_0x273b75['S'],_0x1c61('0xa08'),{'EPSILON':Math[_0x1c61('0x5e0')](0x2,-0x34)});},function(_0x253b7c,_0x2438f5,_0x8fe1c8){'use strict';Object['defineProperty'](_0x2438f5,'__esModule',{'value':!0x0});var _0x200900=_0x37ff6c(_0x8fe1c8(0x4)),_0x20832b=_0x37ff6c(_0x8fe1c8(0x0)),_0xbb143f=_0x37ff6c(_0x8fe1c8(0x1)),_0xf0cf3c=_0x8fe1c8(0x1a),_0x32adad=function(_0x253b7c){if(_0x253b7c&&_0x253b7c[_0x1c61('0x5')])return _0x253b7c;var _0x2438f5={};if(null!=_0x253b7c)for(var _0x8fe1c8 in _0x253b7c)Object['prototype']['hasOwnProperty'][_0x1c61('0x0')](_0x253b7c,_0x8fe1c8)&&(_0x2438f5[_0x8fe1c8]=_0x253b7c[_0x8fe1c8]);return _0x2438f5['default']=_0x253b7c,_0x2438f5;}(_0x8fe1c8(0x41)),_0x571a60=_0x37ff6c(_0x8fe1c8(0x3c));function _0x37ff6c(_0x253b7c){return _0x253b7c&&_0x253b7c[_0x1c61('0x5')]?_0x253b7c:{'default':_0x253b7c};}function _0x5d423e(){(0x0,_0x20832b[_0x1c61('0x8')])(this,_0x5d423e),this[_0x1c61('0xd9')]=(0x0,_0xf0cf3c[_0x1c61('0x2a')])(),this[_0x1c61('0x45f')]=null,this[_0x1c61('0x312')]=null,this[_0x1c61('0x45d')]=null,this[_0x1c61('0xa09')]=[],this['isFirstTexCube']=!0x0,this[_0x1c61('0x912')]=null,this[_0x1c61('0xa0a')]=null;}(0x0,_0xbb143f[_0x1c61('0x8')])(_0x5d423e,[{'key':'showSkybox','value':function(_0x253b7c){this[_0x1c61('0x912')][_0x1c61('0x8de')]=_0x253b7c;}},{'key':_0x1c61('0x913'),'value':function(_0x2438f5){var _0x8fe1c8=this;if(this[_0x1c61('0x912')]&&_0x2438f5[_0x1c61('0x7b')]){var _0x253b7c=this['getTextureCubeByName'](_0x2438f5[_0x1c61('0x7b')]);if(_0x253b7c)this[_0x1c61('0xa0b')]?this[_0x1c61('0xa0c')](this['skyboxTool'][_0x1c61('0x45f')][_0x1c61('0x41')][_0x1c61('0x16a')]['tCube2'][_0x1c61('0x1c')],_0x253b7c):this[_0x1c61('0xa0c')](this[_0x1c61('0x912')][_0x1c61('0x45f')]['material'][_0x1c61('0x16a')][_0x1c61('0x471')][_0x1c61('0x1c')],_0x253b7c),this['isFirstTexCube']=!this[_0x1c61('0xa0b')];else{for(var _0x20832b=0x0,_0xbb143f=_0x2438f5[_0x1c61('0x9b1')]['length'];_0x20832b<_0xbb143f;_0x20832b++)_0x2438f5['imgPaths'][_0x20832b]=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][_0x20832b]);_0x571a60[_0x1c61('0x8')]['loadSixPicCubeTexture'](_0x2438f5[_0x1c61('0x9b1')])[_0x1c61('0x34a')](function(_0x253b7c){_0x253b7c[_0x1c61('0x7b')]=_0x2438f5[_0x1c61('0x7b')],_0x8fe1c8[_0x1c61('0xa0c')](null,_0x253b7c),_0x8fe1c8['textureCubes'][_0x1c61('0x6f')](_0x253b7c);});}}}},{'key':_0x1c61('0xa0c'),'value':function(_0x253b7c,_0x2438f5){var _0x8fe1c8,_0x20832b,_0xbb143f=this;_0x253b7c?(_0x20832b=_0x8fe1c8=0x0,this[_0x1c61('0xa0b')]?(_0x20832b=0x0,this[_0x1c61('0x912')]['skyBox'][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x71a')][_0x1c61('0x1c')]=_0x8fe1c8=0x1,this[_0x1c61('0x912')][_0x1c61('0x45f')]['material'][_0x1c61('0x16a')][_0x1c61('0x471')]['value']=_0x2438f5,this[_0x1c61('0x912')][_0x1c61('0x45f')][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x469')][_0x1c61('0x1c')]=_0x253b7c):(_0x20832b=0x1,this[_0x1c61('0x912')][_0x1c61('0x45f')][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x71a')]['value']=_0x8fe1c8=0x0,this['skyboxTool'][_0x1c61('0x45f')]['material'][_0x1c61('0x16a')]['tCube'][_0x1c61('0x1c')]=_0x253b7c,this[_0x1c61('0x912')]['skyBox'][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x469')][_0x1c61('0x1c')]=_0x2438f5),new TWEEN[(_0x1c61('0x2d4'))]({'x':_0x8fe1c8})['to']({'x':_0x20832b},0x5dc)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')]['Linear'][_0x1c61('0x44d')])['onUpdate'](function(_0x253b7c){_0xbb143f[_0x1c61('0x912')][_0x1c61('0x45f')]['material'][_0x1c61('0x16a')]['transFactor'][_0x1c61('0x1c')]=_0x253b7c['x'];})[_0x1c61('0x2d9')]()):(this[_0x1c61('0x912')]['skyBox']['material'][_0x1c61('0x16a')][_0x1c61('0x71a')][_0x1c61('0x1c')]=0x0,this['skyboxTool'][_0x1c61('0x45f')][_0x1c61('0x41')][_0x1c61('0x16a')][_0x1c61('0x469')][_0x1c61('0x1c')]=_0x2438f5,new TWEEN[(_0x1c61('0x2d4'))]({'x':0x0})['to']({'x':0x1},0x5dc)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x3f9')][_0x1c61('0x44d')])[_0x1c61('0x2da')](function(_0x253b7c){_0xbb143f['skyboxTool'][_0x1c61('0x45f')][_0x1c61('0x41')][_0x1c61('0x16a')]['transFactor']['value']=_0x253b7c['x'];})['start']());}},{'key':_0x1c61('0x9bb'),'value':function(_0x253b7c){var _0x2438f5=!0x0,_0x8fe1c8=!0x1,_0x20832b=void 0x0;try{for(var _0xbb143f,_0x37ff6c=(0x0,_0x200900['default'])(this['textureCubes']);!(_0x2438f5=(_0xbb143f=_0x37ff6c['next']())[_0x1c61('0x89')]);_0x2438f5=!0x0){var _0x5d423e=_0xbb143f[_0x1c61('0x1c')];if(_0x5d423e[_0x1c61('0x7b')]===_0x253b7c)return _0x5d423e;}}catch(_0x18ebf9){_0x8fe1c8=!0x0,_0x20832b=_0x18ebf9;}finally{try{!_0x2438f5&&_0x37ff6c[_0x1c61('0x99')]&&_0x37ff6c['return']();}finally{if(_0x8fe1c8)throw _0x20832b;}}return null;}},{'key':_0x1c61('0xa0d'),'value':function(_0x2438f5){var _0x253b7c,_0x8fe1c8=this;if(_0x2438f5&&('box'===_0x2438f5['type']||_0x1c61('0xa0e')===_0x2438f5[_0x1c61('0x90')])&&(0x1===_0x2438f5['imgPaths'][_0x1c61('0xf')]&&(_0x253b7c=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][0x0]),this[_0x1c61('0x912')]=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this[_0x1c61('0x912')]['type']=_0x2438f5[_0x1c61('0x90')],_0x2438f5[_0x1c61('0xa0f')]?_0x571a60[_0x1c61('0x8')][_0x1c61('0x9d')](_0x253b7c)[_0x1c61('0x34a')](function(_0x253b7c){_0x8fe1c8[_0x1c61('0x912')]['textureCube']=_0x253b7c,_0x8fe1c8['skyboxTool'][_0x1c61('0x487')]();}):this['skyboxTool'][_0x1c61('0xa10')](_0x253b7c,_0x2438f5[_0x1c61('0x2fe')],function(){'box'===_0x2438f5[_0x1c61('0x90')]&&_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0xa11')]({'size':_0x2438f5[_0x1c61('0xee')],'offsetY':_0x2438f5[_0x1c61('0x467')]}),_0x1c61('0xa0e')===_0x2438f5[_0x1c61('0x90')]&&_0x8fe1c8['skyboxTool'][_0x1c61('0x487')]();}),this[_0x1c61('0x912')][_0x1c61('0x2aa')](_0x1c61('0x460'),function(){_0x8fe1c8['textureCube']=_0x8fe1c8['skyboxTool'][_0x1c61('0x45d')];})),0x6===_0x2438f5[_0x1c61('0x9b1')][_0x1c61('0xf')])){for(var _0x20832b=0x0,_0xbb143f=_0x2438f5[_0x1c61('0x9b1')]['length'];_0x20832b<_0xbb143f;_0x20832b++)_0x2438f5[_0x1c61('0x9b1')][_0x20832b]=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][_0x20832b]);this[_0x1c61('0x912')]=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this[_0x1c61('0x912')][_0x1c61('0x90')]=_0x2438f5[_0x1c61('0x90')],this[_0x1c61('0x912')]['createSixPicCubeTexture'](_0x2438f5['imgPaths'],function(){var _0x253b7c;_0x1c61('0xa12')===_0x2438f5[_0x1c61('0x90')]&&((0x0,_0xf0cf3c[_0x1c61('0x32')])()&&esmap[_0x1c61('0xa13')]?((_0x253b7c=!0x1,_0xf0cf3c[_0x1c61('0x5a')])()&&(_0x253b7c=!0x0),_0x8fe1c8[_0x1c61('0x912')]['createBox']({'size':_0x2438f5['size'],'offsetY':_0x2438f5[_0x1c61('0x467')],'isCullGround':_0x253b7c,'intensity':_0x2438f5[_0x1c61('0x468')]}),_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0x45f')][_0x1c61('0x32c')]=!0x1):_0x8fe1c8['skyboxTool'][_0x1c61('0xa11')]({'size':_0x2438f5[_0x1c61('0xee')],'offsetY':_0x2438f5[_0x1c61('0x467')],'intensity':_0x2438f5['intensity']})),_0x1c61('0xa0e')===_0x2438f5[_0x1c61('0x90')]&&_0x8fe1c8['skyboxTool'][_0x1c61('0x487')]();}),this[_0x1c61('0x912')][_0x1c61('0x2aa')](_0x1c61('0x460'),function(){_0x8fe1c8[_0x1c61('0x45d')]=_0x8fe1c8['skyboxTool']['textureCube'],_0x8fe1c8[_0x1c61('0x45d')]['name']=_0x2438f5[_0x1c61('0x7b')]||'',_0x8fe1c8['textureCubes']['push'](_0x8fe1c8[_0x1c61('0x45d')]);});}if(_0x2438f5&&_0x1c61('0xa14')===_0x2438f5[_0x1c61('0x90')]&&(this['skyboxTool']=new _0x32adad['Skybox']({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),_0x253b7c=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][0x0])),this[_0x1c61('0x912')][_0x1c61('0x473')]({'radius':_0x2438f5[_0x1c61('0xee')],'topColorStr':_0x2438f5[_0x1c61('0x478')],'bottomColorStr':_0x2438f5[_0x1c61('0x479')],'offset':_0x2438f5[_0x1c61('0x467')],'exponent':_0x2438f5[_0x1c61('0x477')],'texture':_0x253b7c})),_0x2438f5&&_0x1c61('0xa15')===_0x2438f5[_0x1c61('0x90')]&&(0x1===_0x2438f5['imgPaths'][_0x1c61('0xf')]&&(_0x253b7c=(0x0,_0xf0cf3c['getConfigAssetsPath'])(_0x2438f5[_0x1c61('0x9b1')][0x0]),this[_0x1c61('0x912')]=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this['skyboxTool'][_0x1c61('0x90')]=_0x2438f5[_0x1c61('0x90')],this[_0x1c61('0x912')]['createOnePicCubeTexture'](_0x253b7c,_0x2438f5[_0x1c61('0x2fe')],function(){_0x8fe1c8['skyboxTool'][_0x1c61('0xa16')]({'size':_0x2438f5[_0x1c61('0xee')],'offsetY':_0x2438f5['offsetY'],'topColorStr':_0x2438f5[_0x1c61('0x478')],'bottomColorStr':_0x2438f5[_0x1c61('0x479')]});}),this[_0x1c61('0x912')][_0x1c61('0x2aa')]('canUpdate',function(){_0x8fe1c8['textureCube']=_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0x45d')];})),0x6===_0x2438f5['imgPaths']['length'])){for(var _0x37ff6c=0x0,_0x5d423e=_0x2438f5['imgPaths']['length'];_0x37ff6c<_0x5d423e;_0x37ff6c++)_0x2438f5['imgPaths'][_0x37ff6c]=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5['imgPaths'][_0x37ff6c]);this['skyboxTool']=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this[_0x1c61('0x912')][_0x1c61('0x90')]=_0x2438f5['type'],this[_0x1c61('0x912')][_0x1c61('0xa17')](_0x2438f5[_0x1c61('0x9b1')],function(){_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0xa16')]({'size':_0x2438f5['size'],'offsetY':_0x2438f5[_0x1c61('0x467')],'topColorStr':_0x2438f5[_0x1c61('0x478')],'bottomColorStr':_0x2438f5[_0x1c61('0x479')]});}),this[_0x1c61('0x912')]['addEventListener'](_0x1c61('0x460'),function(){_0x8fe1c8['textureCube']=_0x8fe1c8[_0x1c61('0x912')]['textureCube'];});}if(_0x2438f5&&_0x1c61('0xa18')===_0x2438f5['type']&&(0x1===_0x2438f5[_0x1c61('0x9b1')][_0x1c61('0xf')]&&(_0x253b7c=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][0x0]),this[_0x1c61('0x912')]=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this[_0x1c61('0x912')]['type']=_0x2438f5[_0x1c61('0x90')],this[_0x1c61('0x912')][_0x1c61('0xa10')](_0x253b7c,_0x2438f5['resolution'],function(){_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0x486')]({'size':_0x2438f5[_0x1c61('0xee')]});}),this[_0x1c61('0x912')]['addEventListener'](_0x1c61('0x460'),function(){_0x8fe1c8[_0x1c61('0x45d')]=_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0x45d')];})),0x6===_0x2438f5[_0x1c61('0x9b1')]['length'])){for(var _0x200900=0x0,_0x5191fe=_0x2438f5['imgPaths'][_0x1c61('0xf')];_0x200900<_0x5191fe;_0x200900++)_0x2438f5[_0x1c61('0x9b1')][_0x200900]=(0x0,_0xf0cf3c[_0x1c61('0x26')])(_0x2438f5[_0x1c61('0x9b1')][_0x200900]);this[_0x1c61('0x912')]=new _0x32adad[(_0x1c61('0xcf'))]({'mapView':this[_0x1c61('0xd9')][_0x1c61('0x45c')]}),this['skyboxTool'][_0x1c61('0x90')]=_0x2438f5[_0x1c61('0x90')],this[_0x1c61('0x912')][_0x1c61('0xa17')](_0x2438f5[_0x1c61('0x9b1')],function(){_0x8fe1c8[_0x1c61('0x912')][_0x1c61('0x486')]({'size':_0x2438f5[_0x1c61('0xee')]});}),this['skyboxTool'][_0x1c61('0x2aa')](_0x1c61('0x460'),function(){_0x8fe1c8[_0x1c61('0x45d')]=_0x8fe1c8['skyboxTool']['textureCube'];});}_0x2438f5&&'clearSky'===_0x2438f5[_0x1c61('0x90')]&&(this[_0x1c61('0xa0a')]=new _0x32adad['ClearSky']({'camera':this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x301')]}),(0x0,_0xf0cf3c[_0x1c61('0x5a')])(),(_0x253b7c=!0x1,_0xf0cf3c[_0x1c61('0x32')])()&&(0x0,_0xf0cf3c[_0x1c61('0x5a')])()&&(_0x253b7c=!0x0),this[_0x1c61('0x312')]=this[_0x1c61('0xa0a')][_0x1c61('0x7')]({'isCullGround':_0x253b7c}),this[_0x1c61('0x312')][_0x1c61('0x32c')]=!esmap[_0x1c61('0xa19')][_0x1c61('0xa1a')],_0x1c61('0xa1b')===_0x2438f5['effectType']&&this[_0x1c61('0xa0a')][_0x1c61('0x48e')](this[_0x1c61('0xa0a')][_0x1c61('0x48b')]),_0x1c61('0xa1c')===_0x2438f5[_0x1c61('0x98a')]&&this[_0x1c61('0xa0a')][_0x1c61('0x48e')](this[_0x1c61('0xa0a')][_0x1c61('0x48c')]),_0x2438f5[_0x1c61('0xa1d')]&&_0x2438f5[_0x1c61('0xa1d')][_0x1c61('0x7b')]&&this[_0x1c61('0xd9')]['mapView'][_0x2438f5[_0x1c61('0xa1d')][_0x1c61('0x7b')]]&&(_0x2438f5['bindLight']['azimuthAngle']&&(this[_0x1c61('0xa0a')]['theta']=_0x2438f5['bindLight'][_0x1c61('0xa1e')]),_0x2438f5[_0x1c61('0xa1d')]['verticalAngle']&&(this['shaderSky'][_0x1c61('0x497')]=_0x2438f5['bindLight'][_0x1c61('0xa1f')]),this[_0x1c61('0xa0a')][_0x1c61('0x2db')]()),this['map'][_0x1c61('0x45c')]['scene'][_0x1c61('0x1c4')](this[_0x1c61('0x312')]),(0x0,_0xf0cf3c[_0x1c61('0x32')])()&&this[_0x1c61('0xa20')]());}},{'key':'bindTileMapLevelChange','value':function(){var _0x2438f5=this,_0x8fe1c8=(0x0,_0xf0cf3c[_0x1c61('0x5a')])();this['map']['on'](_0x1c61('0xa21'),function(_0x253b7c){_0x253b7c<(_0x8fe1c8?0x10:0xd)?_0x2438f5[_0x1c61('0x312')]&&(_0x2438f5[_0x1c61('0x312')][_0x1c61('0x32c')]=!0x1):_0x2438f5[_0x1c61('0x312')]&&(_0x2438f5[_0x1c61('0x312')]['visible']=!0x0);});}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x45d')]=null,this[_0x1c61('0x912')]&&this[_0x1c61('0x912')][_0x1c61('0xd8')](),this[_0x1c61('0xa0a')]&&this[_0x1c61('0xa0a')][_0x1c61('0xd8')]();}}]),_0x2438f5[_0x1c61('0x8')]=_0x5d423e;},function(_0x890b73,_0x38f862,_0x1aef43){'use strict';Object[_0x1c61('0x2')](_0x38f862,_0x1c61('0x5'),{'value':!0x0});var _0x4767c1=_0x82086e(_0x1aef43(0x4)),_0x1c9b2c=_0x82086e(_0x1aef43(0x0)),_0x4548a7=_0x82086e(_0x1aef43(0x1)),_0x1caadc=_0x1aef43(0x1a),_0x533513=function(_0x890b73){if(_0x890b73&&_0x890b73[_0x1c61('0x5')])return _0x890b73;var _0x38f862={};if(null!=_0x890b73)for(var _0x1aef43 in _0x890b73)Object[_0x1c61('0xb')][_0x1c61('0xc')][_0x1c61('0x0')](_0x890b73,_0x1aef43)&&(_0x38f862[_0x1aef43]=_0x890b73[_0x1aef43]);return _0x38f862[_0x1c61('0x8')]=_0x890b73,_0x38f862;}(_0x1aef43(0x41)),_0x2ff5ce=_0x1aef43(0x72);function _0x82086e(_0x890b73){return _0x890b73&&_0x890b73[_0x1c61('0x5')]?_0x890b73:{'default':_0x890b73};}function _0x1b7b3d(_0x890b73){(0x0,_0x1c9b2c[_0x1c61('0x8')])(this,_0x1b7b3d),this[_0x1c61('0xd9')]=(0x0,_0x1caadc['getMapInstance'])(),this[_0x1c61('0xa22')]=[],this[_0x1c61('0x8de')]=_0x890b73,this[_0x1c61('0xa23')]=null,this[_0x1c61('0xa24')]=null;}(0x0,_0x4548a7[_0x1c61('0x8')])(_0x1b7b3d,[{'key':'addWater','value':function(_0x890b73){var _0x38f862;_0x890b73[_0x1c61('0x90')]&&_0x1c61('0x8e1')===_0x890b73[_0x1c61('0x90')]?((_0x38f862=this[_0x1c61('0xa25')](_0x890b73))[_0x1c61('0x7b')]=_0x890b73[_0x1c61('0x7b')],this[_0x1c61('0xa22')][_0x1c61('0x6f')](_0x38f862)):this[_0x1c61('0xa26')](_0x890b73);}},{'key':'createWater','value':function(_0x890b73){var _0x38f862=void 0x0,_0x1aef43=_0x890b73['groundImg']?new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x1caadc[_0x1c61('0x26')])(_0x890b73[_0x1c61('0xa27')])):new THREE[(_0x1c61('0x1cc'))]();return _0x890b73['skyImg']&&(_0x38f862=new THREE[(_0x1c61('0x94'))]()['load']((0x0,_0x1caadc[_0x1c61('0x26')])(_0x890b73[_0x1c61('0x5c4')]))),new _0x533513[(_0x1c61('0xad'))]({'colorStr':_0x890b73[_0x1c61('0x228')],'lightColorStr':_0x890b73['lightColor'],'scale':_0x890b73[_0x1c61('0x1de')],'speed':_0x890b73['speed'],'fluctuate':_0x890b73['waveFactor'],'texture':_0x1aef43,'skyTexture':_0x38f862,'texUvScale':_0x890b73['groundScaleFactor'],'flowAngle':_0x890b73[_0x1c61('0x702')],'opacity':_0x890b73['opacity']});}},{'key':'addWaterShape','value':function(_0x890b73){var _0x38f862=(0x0,_0x1caadc[_0x1c61('0x38')])(0x0)[_0x1c61('0x4f9')](_0x890b73['floorNum']||0x1)[_0x1c61('0x8f8')]([esmap[_0x1c61('0x8f9')][_0x1c61('0x960')],esmap[_0x1c61('0x8f9')][_0x1c61('0x961')]]),_0x1aef43=this[_0x1c61('0xa25')](_0x890b73),_0x1c9b2c=(_0x1aef43[_0x1c61('0x2f8')](),!0x0),_0x4548a7=!0x1,_0x533513=void 0x0;try{for(var _0x82086e,_0x1b7b3d=(0x0,_0x4767c1[_0x1c61('0x8')])(_0x38f862);!(_0x1c9b2c=(_0x82086e=_0x1b7b3d[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x1c9b2c=!0x0){var _0x4231cf=_0x82086e[_0x1c61('0x1c')],_0x4e6ceb=!0x0,_0x1c42c6=!0x1,_0x1bd146=void 0x0;try{for(var _0x2d4655,_0x5b61df=(0x0,_0x4767c1['default'])(_0x4231cf[_0x1c61('0x4fc')]['children']);!(_0x4e6ceb=(_0x2d4655=_0x5b61df[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4e6ceb=!0x0){var _0x319406=_0x2d4655['value'],_0x1d4809=(0x0,_0x1caadc[_0x1c61('0x28')])(_0x319406,_0x890b73[_0x1c61('0x3e')]);if(_0x1d4809){_0x319406[_0x1c61('0x41')][_0x1d4809[_0x1c61('0x42')][_0x1c61('0x43')]]=_0x1aef43[_0x1c61('0x4de')](),(0x0,_0x2ff5ce['setStandardMaterialParams'])(_0x319406['material'][_0x1d4809[_0x1c61('0x42')][_0x1c61('0x43')]],_0x890b73),_0x1aef43[_0x1c61('0x3e')]=_0x890b73['roomStyle'],_0x1aef43[_0x1c61('0xa28')]=_0x890b73,this[_0x1c61('0xa22')][_0x1c61('0x6f')](_0x1aef43);break;}}}catch(_0x5a99a4){_0x1c42c6=!0x0,_0x1bd146=_0x5a99a4;}finally{try{!_0x4e6ceb&&_0x5b61df['return']&&_0x5b61df[_0x1c61('0x99')]();}finally{if(_0x1c42c6)throw _0x1bd146;}}}}catch(_0x22f657){_0x4548a7=!0x0,_0x533513=_0x22f657;}finally{try{!_0x1c9b2c&&_0x1b7b3d[_0x1c61('0x99')]&&_0x1b7b3d[_0x1c61('0x99')]();}finally{if(_0x4548a7)throw _0x533513;}}}},{'key':_0x1c61('0x2fa'),'value':function(_0x890b73,_0x38f862){for(var _0x1aef43=0x0;_0x1aef43<this[_0x1c61('0xa22')][_0x1c61('0xf')];_0x1aef43++)if(_0x890b73==this[_0x1c61('0xa22')][_0x1aef43][_0x1c61('0x7b')]){void 0x0!==_0x38f862[_0x1c61('0xa29')]&&(this['waterList'][_0x1aef43]['material'][_0x1c61('0x1ee')]=!0x0,this[_0x1c61('0xa22')][_0x1aef43][_0x1c61('0x41')]['opacity']=_0x38f862[_0x1c61('0xa29')]);break;}}},{'key':_0x1c61('0x914'),'value':function(_0x890b73){this[_0x1c61('0xa24')]||(this[_0x1c61('0xa24')]=new esmap['ESEffectTool'][(_0x1c61('0x8e9'))](_0x1c61('0xa2a'),esmap[_0x1c61('0x4ed')][_0x1c61('0x4ec')]),esmap[_0x1c61('0x51')][_0x1c61('0x9ee')](this[_0x1c61('0xa24')])),this[_0x1c61('0xa23')]=new esmap['ESEffectTool'][(_0x1c61('0x8ef'))](esmap[_0x1c61('0x27f')]['ROUTES_LINE'],{'color':_0x890b73[_0x1c61('0x228')],'speed':_0x890b73[_0x1c61('0x32f')],'lineWidth':_0x890b73[_0x1c61('0x32e')],'isShine':_0x890b73[_0x1c61('0x51c')],'imgUrl':_0x890b73[_0x1c61('0x517')],'seeThrough':!0x1}),_0x890b73['height']&&(this['waveLineMarker'][_0x1c61('0x4fc')][_0x1c61('0x218')]['y']=_0x890b73[_0x1c61('0x2f7')]),this[_0x1c61('0xa24')][_0x1c61('0x508')](this[_0x1c61('0xa23')]);}},{'key':_0x1c61('0x915'),'value':function(_0x890b73,_0x38f862){for(var _0x1aef43,_0x1c9b2c=[],_0x4548a7=new THREE[(_0x1c61('0x331'))](),_0x533513=0x0,_0x82086e=_0x890b73[_0x1c61('0xf')];_0x533513<_0x82086e;_0x533513++){var _0x1b7b3d=new THREE[(_0x1c61('0x1cf'))](_0x890b73[_0x533513]['u'],_0x890b73[_0x533513]['v'])[_0x1c61('0x1c1')]()[_0x1c61('0x1c3')](_0x38f862),_0x1b7b3d=[{'x':_0x890b73[_0x533513]['x']-_0x1b7b3d['x']/0x2,'y':_0x890b73[_0x533513]['y']-_0x1b7b3d['y']/0x2,'offset':0x2},{'x':_0x890b73[_0x533513]['x']+_0x1b7b3d['x'],'y':_0x890b73[_0x533513]['y']+_0x1b7b3d['y'],'offset':0x2}],_0x1b7b3d=this[_0x1c61('0xa23')][_0x1c61('0x315')](_0x1b7b3d,new THREE[(_0x1c61('0x1b8'))](this[_0x1c61('0xd9')][_0x1c61('0x2f')][_0x1c61('0x30')],0x0,this[_0x1c61('0xd9')][_0x1c61('0x2f')][_0x1c61('0x31')])),_0x308866=_0x1b7b3d[_0x1c61('0x405')]('uv'),_0x223425=Math[_0x1c61('0x1b4')]();_0x308866[_0x1c61('0x1b')](new Float32Array([_0x223425,_0x223425,_0x223425,_0x223425+0x1,_0x223425+0x1,_0x223425,_0x223425+0x1,_0x223425+0x1])),_0x1c9b2c[_0x1c61('0x6f')](_0x1b7b3d);}0x0<_0x1c9b2c[_0x1c61('0xf')]&&(_0x1aef43=this[_0x1c61('0x9e2')](_0x1c9b2c),(_0x1aef43=new THREE['Mesh'](_0x1aef43,this[_0x1c61('0xa23')][_0x1c61('0x56c')]))[_0x1c61('0x311')]=0x64,_0x4548a7[_0x1c61('0x1c4')](_0x1aef43));for(var _0x58cd19=0x0,_0x14da1d=_0x1c9b2c[_0x1c61('0xf')];_0x58cd19<_0x14da1d;_0x58cd19++)_0x1c9b2c[_0x58cd19][_0x1c61('0xd8')]();this[_0x1c61('0xa23')][_0x1c61('0x4fc')][_0x1c61('0x1c4')](_0x4548a7);}},{'key':_0x1c61('0x916'),'value':function(){this[_0x1c61('0xa23')]=null,this[_0x1c61('0xa24')]&&this['waveEffectLayer'][_0x1c61('0x509')]();}},{'key':'mergeGeometrys','value':function(_0x890b73){var _0x38f862=[],_0x1aef43=!0x0,_0x1c9b2c=!0x1,_0x4548a7=void 0x0;try{for(var _0x533513,_0x82086e=(0x0,_0x4767c1['default'])(_0x890b73);!(_0x1aef43=(_0x533513=_0x82086e[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x1aef43=!0x0){var _0x1b7b3d=_0x533513[_0x1c61('0x1c')];_0x38f862[_0x1c61('0x6f')](_0x1b7b3d);}}catch(_0x271ca5){_0x1c9b2c=!0x0,_0x4548a7=_0x271ca5;}finally{try{!_0x1aef43&&_0x82086e[_0x1c61('0x99')]&&_0x82086e['return']();}finally{if(_0x1c9b2c)throw _0x4548a7;}}_0x890b73=THREE[_0x1c61('0x9e5')][_0x1c61('0x9e6')](_0x38f862,!0x1);return _0x890b73[_0x1c61('0x9e7')](0x0,_0x890b73[_0x1c61('0x1e7')][_0x1c61('0x218')][_0x1c61('0x104')],0x0),_0x890b73;}},{'key':_0x1c61('0x329'),'value':function(){for(var _0x890b73=0x0,_0x38f862=this[_0x1c61('0xa22')][_0x1c61('0xf')];_0x890b73<_0x38f862;_0x890b73++)this[_0x1c61('0xa22')][_0x890b73][_0x1c61('0xd8')](),this[_0x1c61('0xa22')][_0x890b73]=null;this[_0x1c61('0xa22')]['length']=0x0,this[_0x1c61('0xa24')]&&(this[_0x1c61('0xa24')][_0x1c61('0x509')](),this[_0x1c61('0xa23')]=null,this[_0x1c61('0xa24')]=null);}},{'key':_0x1c61('0x3d1'),'value':function(_0x890b73){if(0x0<this[_0x1c61('0xa22')][_0x1c61('0xf')]){var _0x38f862=!0x0,_0x1aef43=!0x1,_0x1c9b2c=void 0x0;try{for(var _0x4548a7,_0x533513=(0x0,_0x4767c1['default'])(this[_0x1c61('0xa22')]);!(_0x38f862=(_0x4548a7=_0x533513[_0x1c61('0x77')]())['done']);_0x38f862=!0x0)_0x4548a7['value']['render'](_0x890b73);}catch(_0x5d5d99){_0x1aef43=!0x0,_0x1c9b2c=_0x5d5d99;}finally{try{!_0x38f862&&_0x533513[_0x1c61('0x99')]&&_0x533513[_0x1c61('0x99')]();}finally{if(_0x1aef43)throw _0x1c9b2c;}}}}}]),_0x38f862[_0x1c61('0x8')]=_0x1b7b3d;},function(_0x3ca36d,_0x4814d1,_0x21fb95){'use strict';Object['defineProperty'](_0x4814d1,'__esModule',{'value':!0x0});var _0x96fe4=_0x4ca865(_0x21fb95(0x3e)),_0x300f40=_0x4ca865(_0x21fb95(0x4)),_0x512d75=_0x4ca865(_0x21fb95(0x0)),_0x35d7b2=_0x4ca865(_0x21fb95(0x1)),_0x2aa2e6=_0x21fb95(0x1a),_0x3eb9dc=function(_0x3ca36d){if(_0x3ca36d&&_0x3ca36d[_0x1c61('0x5')])return _0x3ca36d;var _0x4814d1={};if(null!=_0x3ca36d)for(var _0x21fb95 in _0x3ca36d)Object[_0x1c61('0xb')][_0x1c61('0xc')]['call'](_0x3ca36d,_0x21fb95)&&(_0x4814d1[_0x21fb95]=_0x3ca36d[_0x21fb95]);return _0x4814d1[_0x1c61('0x8')]=_0x3ca36d,_0x4814d1;}(_0x21fb95(0x41));function _0x4ca865(_0x3ca36d){return _0x3ca36d&&_0x3ca36d[_0x1c61('0x5')]?_0x3ca36d:{'default':_0x3ca36d};}function _0x105490(_0x3ca36d){var _0x4814d1=_0x3ca36d[_0x1c61('0x704')],_0x3ca36d=_0x3ca36d[_0x1c61('0x4f4')];(0x0,_0x512d75[_0x1c61('0x8')])(this,_0x105490),this['map']=(0x0,_0x2aa2e6[_0x1c61('0x2a')])(),this[_0x1c61('0x704')]=_0x4814d1,this[_0x1c61('0x917')]=[],this[_0x1c61('0x919')]={},this[_0x1c61('0x91d')]=[],this[_0x1c61('0xa2b')]=[],this[_0x1c61('0xa2c')]=[],this[_0x1c61('0xa2d')]=!0x1,this[_0x1c61('0x899')]=null,this['defaultCubeTexture']=null,this['lights']=_0x3ca36d,this[_0x1c61('0x4f4')]&&(this[_0x1c61('0x4f4')][_0x1c61('0x898')]=this),this[_0x1c61('0xa2e')]=[],this[_0x1c61('0xa2f')]=new _0x3eb9dc['ModelUvAnimation']({'map':this[_0x1c61('0xd9')]}),this[_0x1c61('0x91b')]=new _0x3eb9dc[(_0x1c61('0xa2'))](),this[_0x1c61('0xa30')]={},this[_0x1c61('0xa31')]=null,this[_0x1c61('0xa32')]=[],this[_0x1c61('0xa33')]={},this['modelsControlGroups']={};}(0x0,_0x35d7b2[_0x1c61('0x8')])(_0x105490,[{'key':_0x1c61('0xa34'),'value':function(_0x3ca36d){var _0x4814d1=!0x0,_0x21fb95=!0x1,_0x512d75=void 0x0;try{for(var _0x35d7b2,_0x4ca865=(0x0,_0x300f40['default'])(this[_0x1c61('0x899')]);!(_0x4814d1=(_0x35d7b2=_0x4ca865['next']())[_0x1c61('0x89')]);_0x4814d1=!0x0){var _0x105490=_0x35d7b2[_0x1c61('0x1c')];if(_0x105490['name']==_0x3ca36d||_0x105490['id']==_0x3ca36d)return _0x105490;}}catch(_0x21b895){_0x21fb95=!0x0,_0x512d75=_0x21b895;}finally{try{!_0x4814d1&&_0x4ca865['return']&&_0x4ca865[_0x1c61('0x99')]();}finally{if(_0x21fb95)throw _0x512d75;}}return null;}},{'key':_0x1c61('0xa35'),'value':function(_0x3ca36d,_0x4814d1){var _0x21fb95=!0x0,_0x512d75=!0x1,_0x35d7b2=void 0x0;try{for(var _0x4ca865,_0x105490=(0x0,_0x300f40[_0x1c61('0x8')])(_0x4814d1);!(_0x21fb95=(_0x4ca865=_0x105490['next']())['done']);_0x21fb95=!0x0){var _0x33f924=_0x4ca865[_0x1c61('0x1c')];if(_0x33f924[_0x1c61('0x7b')]==_0x3ca36d)return _0x33f924[_0x1c61('0xa36')];}}catch(_0x40eff9){_0x512d75=!0x0,_0x35d7b2=_0x40eff9;}finally{try{!_0x21fb95&&_0x105490[_0x1c61('0x99')]&&_0x105490[_0x1c61('0x99')]();}finally{if(_0x512d75)throw _0x35d7b2;}}}},{'key':'setConfigs','value':function(_0x3ca36d){this['isSetModelsConfigs']||(this[_0x1c61('0x899')]=_0x3ca36d,this[_0x1c61('0xa2d')]=!0x0);}},{'key':_0x1c61('0x8e7'),'value':function(_0x3ca36d,_0x4d42f1,_0x294493){var _0x4e0a7f=this,_0x463627=_0x3ca36d[_0x1c61('0x3f')];_0x3ca36d[_0x1c61('0xdb')](function(_0x3ca36d){var _0x4814d1=null,_0x21fb95=null;if(_0x4d42f1&&Array['isArray'](_0x3ca36d[_0x1c61('0x41')])?(_0x4814d1=_0x3ca36d[_0x1c61('0x41')][0x0],_0x21fb95=_0x3ca36d):_0x3ca36d[_0x1c61('0x41')]&&(_0x4814d1=_0x3ca36d[_0x1c61('0x41')],_0x21fb95=_0x3ca36d),_0x4814d1&&_0x4814d1[_0x1c61('0x7b')]&&0x0<=_0x4814d1[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0x921'))){var _0x512d75=_0x4e0a7f[_0x1c61('0xa37')](_0x4814d1[_0x1c61('0x7b')]),_0x35d7b2=!0x0,_0x4ca865=!0x1,_0x105490=void 0x0;try{for(var _0x1a0672,_0x298839=(0x0,_0x300f40['default'])(_0x512d75);!(_0x35d7b2=(_0x1a0672=_0x298839[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x35d7b2=!0x0){var _0x335906=_0x1a0672[_0x1c61('0x1c')];_0x4814d1[_0x1c61('0xa38')]=_0x21fb95,_0x4e0a7f['matchModelEffectConfig'](_0x294493,_0x335906,_0x4814d1,_0x463627);}}catch(_0x1a0e04){_0x4ca865=!0x0,_0x105490=_0x1a0e04;}finally{try{!_0x35d7b2&&_0x298839[_0x1c61('0x99')]&&_0x298839['return']();}finally{if(_0x4ca865)throw _0x105490;}}}if(0x0<=_0x3ca36d[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0x921'))){var _0x3fde3b=_0x4e0a7f[_0x1c61('0xa37')](_0x3ca36d['name']);if(_0x1c61('0x331')===_0x3ca36d[_0x1c61('0x90')]||_0x1c61('0x1c6')===_0x3ca36d[_0x1c61('0x90')]){var _0x23f498=!0x0,_0x512d75=!0x1,_0x4ca865=void 0x0;try{for(var _0x3dfc79,_0x52a368=(0x0,_0x300f40[_0x1c61('0x8')])(_0x3fde3b);!(_0x23f498=(_0x3dfc79=_0x52a368[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x23f498=!0x0){var _0x3a490d=_0x3dfc79['value'];_0x4e0a7f[_0x1c61('0xa39')](_0x294493,_0x3a490d,_0x3ca36d,_0x463627);}}catch(_0x3d95c7){_0x512d75=!0x0,_0x4ca865=_0x3d95c7;}finally{try{!_0x23f498&&_0x52a368[_0x1c61('0x99')]&&_0x52a368[_0x1c61('0x99')]();}finally{if(_0x512d75)throw _0x4ca865;}}}_0x3ca36d[_0x1c61('0xdb')](function(_0x3ca36d){if(_0x1c61('0x30f')===_0x3ca36d[_0x1c61('0x90')]){var _0x4814d1=!0x0,_0x21fb95=!0x1,_0x512d75=void 0x0;try{for(var _0x35d7b2,_0x4ca865=(0x0,_0x300f40[_0x1c61('0x8')])(_0x3fde3b);!(_0x4814d1=(_0x35d7b2=_0x4ca865[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4814d1=!0x0){var _0x105490=_0x35d7b2[_0x1c61('0x1c')];_0x4e0a7f[_0x1c61('0xa39')](_0x294493,_0x105490,_0x3ca36d,_0x463627);}}catch(_0x3e2bf1){_0x21fb95=!0x0,_0x512d75=_0x3e2bf1;}finally{try{!_0x4814d1&&_0x4ca865['return']&&_0x4ca865['return']();}finally{if(_0x21fb95)throw _0x512d75;}}}});}if(_0x1c61('0x30f')===_0x3ca36d[_0x1c61('0x90')]&&0x0<=_0x3ca36d[_0x1c61('0x7b')]['indexOf']('_ef_')){var _0x105490=_0x4e0a7f['splitEffectsTemplates'](_0x3ca36d[_0x1c61('0x7b')]),_0x8b77=!0x0,_0x512d75=!0x1,_0x4ca865=void 0x0;try{for(var _0xbb602c,_0x135872=(0x0,_0x300f40[_0x1c61('0x8')])(_0x105490);!(_0x8b77=(_0xbb602c=_0x135872[_0x1c61('0x77')]())['done']);_0x8b77=!0x0){var _0x15cc51=_0xbb602c[_0x1c61('0x1c')];_0x4e0a7f[_0x1c61('0xa39')](_0x294493,_0x15cc51,_0x3ca36d,_0x463627);}}catch(_0x3c2677){_0x512d75=!0x0,_0x4ca865=_0x3c2677;}finally{try{!_0x8b77&&_0x135872['return']&&_0x135872[_0x1c61('0x99')]();}finally{if(_0x512d75)throw _0x4ca865;}}}});}},{'key':_0x1c61('0x8e6'),'value':function(_0x3ca36d,_0x4ca865,_0x105490){var _0x4d6cee=this,_0x314fb2=_0x3ca36d[_0x1c61('0x3f')];_0x3ca36d[_0x1c61('0xdb')](function(_0x3ca36d){var _0x4814d1=null,_0x21fb95=null;if(_0x4ca865&&Array[_0x1c61('0xdf')](_0x3ca36d['material'])?(_0x4814d1=_0x3ca36d[_0x1c61('0x41')][0x0],_0x21fb95=_0x3ca36d):_0x3ca36d[_0x1c61('0x41')]&&(_0x4814d1=_0x3ca36d[_0x1c61('0x41')],_0x21fb95=_0x3ca36d),_0x4814d1&&_0x4814d1[_0x1c61('0x7b')])for(var _0x512d75 in _0x4814d1[_0x1c61('0xa38')]=_0x21fb95,_0x105490[_0x1c61('0x41')])_0x512d75===_0x4814d1['name']&&_0x4d6cee[_0x1c61('0xa3a')]('',_0x4814d1,_0x314fb2,_0x105490['material'][_0x512d75]);if(_0x1c61('0x30f')===_0x3ca36d[_0x1c61('0x90')])for(var _0x35d7b2 in _0x105490['mesh'])_0x35d7b2===_0x3ca36d[_0x1c61('0x7b')]&&_0x4d6cee[_0x1c61('0xa3a')]('',_0x3ca36d,_0x314fb2,_0x105490[_0x1c61('0x1f0')][_0x35d7b2]);});}},{'key':_0x1c61('0xa39'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95,_0x512d75){if(_0x3ca36d['modelEffects']&&0x0<_0x3ca36d[_0x1c61('0x8e4')][_0x1c61('0xf')]){var _0x35d7b2=!0x0,_0x4ca865=!0x1,_0x105490=void 0x0;try{for(var _0x1770ad,_0x413d09=(0x0,_0x300f40[_0x1c61('0x8')])(_0x3ca36d['modelEffects']);!(_0x35d7b2=(_0x1770ad=_0x413d09[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x35d7b2=!0x0){var _0x389aa8=_0x1770ad[_0x1c61('0x1c')];if(_0x389aa8[_0x1c61('0x7b')]===_0x4814d1)if(!this['settingModelEffects'](_0x4814d1,_0x21fb95,_0x512d75,_0x389aa8))break;}}catch(_0x14881f){_0x4ca865=!0x0,_0x105490=_0x14881f;}finally{try{!_0x35d7b2&&_0x413d09['return']&&_0x413d09[_0x1c61('0x99')]();}finally{if(_0x4ca865)throw _0x105490;}}}}},{'key':_0x1c61('0xa3a'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95,_0x512d75){if(!_0x512d75[_0x1c61('0xa3b')]||_0x1c61('0x331')!==_0x4814d1[_0x1c61('0x90')]&&_0x1c61('0x1c6')!==_0x4814d1[_0x1c61('0x90')]||(this[_0x1c61('0x920')][_0x21fb95[_0x1c61('0x7b')]]||(this['modelsControlGroups'][_0x21fb95[_0x1c61('0x7b')]]={}),void 0x0!==_0x512d75['control'][_0x1c61('0x32c')]&&(_0x4814d1[_0x1c61('0x32c')]=_0x512d75[_0x1c61('0xa3b')][_0x1c61('0x32c')]),this['modelsControlGroups'][_0x21fb95[_0x1c61('0x7b')]][_0x3ca36d]=_0x4814d1),_0x512d75['anisotropy']&&_0x4814d1[_0x1c61('0xd9')]&&(_0x35d7b2=this['map']['mapView'][_0x1c61('0x51f')]['capabilities'][_0x1c61('0x520')](),_0x512d75['anisotropy']&&!_0x512d75[_0x1c61('0x51e')][_0x1c61('0x416')]?_0x512d75[_0x1c61('0x51e')]='max'==_0x512d75[_0x1c61('0x51e')]?_0x35d7b2:_0x512d75[_0x1c61('0x51e')]:_0x512d75[_0x1c61('0x51e')]=0x10==_0x512d75[_0x1c61('0x51e')]?_0x35d7b2:_0x512d75[_0x1c61('0x51e')]['value'],_0x4814d1['map']['anisotropy']=_0x512d75['anisotropy']),_0x512d75[_0x1c61('0x1d8')]&&(_0x1c61('0xa3c')==_0x512d75[_0x1c61('0x1d8')]||_0x512d75[_0x1c61('0x1d8')]['enabled']&&_0x512d75[_0x1c61('0x1d8')][_0x1c61('0xa3c')])&&(_0x4814d1['blending']=THREE[_0x1c61('0x1d9')],_0x4814d1[_0x1c61('0x1db')]=!0x1),void 0x0!==_0x512d75['transparent']&&(_0x512d75['transparent'][_0x1c61('0x416')]?(_0x4814d1[_0x1c61('0x1ee')]=_0x512d75[_0x1c61('0x1ee')]['enabled'],_0x512d75[_0x1c61('0x1ee')][_0x1c61('0x208')]&&_0x512d75[_0x1c61('0x1ee')]['opacity']<0x1&&(_0x4814d1['opacity']=_0x512d75[_0x1c61('0x1ee')]['opacity'])):_0x4814d1[_0x1c61('0x1ee')]=_0x512d75[_0x1c61('0x1ee')],_0x4814d1[_0x1c61('0x108')]=!0x0),_0x512d75[_0x1c61('0x969')]&&(_0x4814d1[_0x1c61('0x311')]&&!_0x512d75[_0x1c61('0x969')][_0x1c61('0x416')]?_0x4814d1[_0x1c61('0x311')]=_0x512d75[_0x1c61('0x969')]:_0x4814d1[_0x1c61('0x311')]=_0x512d75[_0x1c61('0x969')][_0x1c61('0x1c')]),_0x512d75[_0x1c61('0x362')]&&_0x512d75[_0x1c61('0x362')][_0x1c61('0x416')]&&(_0x4814d1['side']=_0x512d75[_0x1c61('0x362')][_0x1c61('0x1c')]),_0x512d75[_0x1c61('0x1da')]&&void 0x0!==_0x4814d1[_0x1c61('0x1da')]&&(_0x512d75[_0x1c61('0x1da')]['enabled']?_0x4814d1[_0x1c61('0x1da')]=_0x512d75[_0x1c61('0x1da')][_0x1c61('0x1c')]:_0x4814d1[_0x1c61('0x1da')]=_0x512d75[_0x1c61('0x1da')]),void 0x0!==_0x512d75[_0x1c61('0x1db')]&&(_0x512d75['depthWrite'][_0x1c61('0x416')]?_0x4814d1['depthWrite']=_0x512d75[_0x1c61('0x1db')][_0x1c61('0x1c')]:_0x4814d1[_0x1c61('0x1db')]=_0x512d75[_0x1c61('0x1db')]),!_0x512d75['fresnel']||void 0x0!==_0x512d75[_0x1c61('0xa3d')]['enabled']&&!0x1===_0x512d75[_0x1c61('0xa3d')][_0x1c61('0x416')]||(new _0x3eb9dc[(_0x1c61('0xa1'))]()[_0x1c61('0x2f8')](_0x4814d1),_0x4814d1['envMap']=this['lights'][_0x1c61('0x8f1')],_0x4814d1[_0x1c61('0x2b8')]=_0x512d75['fresnel'][_0x1c61('0x468')]||0x14),_0x512d75[_0x1c61('0x87d')]&&this[_0x1c61('0x9b4')](_0x4814d1,_0x512d75[_0x1c61('0x87d')]),_0x512d75[_0x1c61('0x89a')]&&(_0x4814d1[_0x1c61('0x747')]=_0x512d75['shadow']['castShadow']||!0x1,_0x4814d1[_0x1c61('0x748')]=_0x512d75['shadow'][_0x1c61('0x748')]||!0x1),_0x512d75[_0x1c61('0x5c8')]&&esmap['ESEffectTool']['options'][_0x1c61('0x51b')]&&(_0x512d75[_0x1c61('0x5c8')]['enabled'],esmap[_0x1c61('0x51')]['screenEffect']['setObjectBloomLight'](_0x4814d1,_0x512d75[_0x1c61('0x5c8')][_0x1c61('0x468')])),_0x512d75[_0x1c61('0x9f5')]&&esmap[_0x1c61('0x51')]['options']['isOpenScreenEffect']&&esmap[_0x1c61('0x51')][_0x1c61('0x4f5')][_0x1c61('0x92c')](_0x4814d1),_0x512d75[_0x1c61('0xa3e')]&&(void 0x0===_0x512d75[_0x1c61('0xa3e')]['enabled']||!0x1!==_0x512d75['lineFrame']['enabled'])){var _0x35d7b2=null;if(_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x228')]&&(_0x105490=_0x512d75['lineFrame'][_0x1c61('0xa3f')]||0x1,_0x35d7b2=this[_0x1c61('0xa40')](_0x4814d1,_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x228')],_0x105490)),_0x512d75[_0x1c61('0xa3e')]['faces'])if(Array[_0x1c61('0xdf')](_0x4814d1['material'])){var _0x4ca865=!0x0,_0x105490=!0x1,_0x2f98bf=void 0x0;try{for(var _0xbfc385,_0x115f3b=(0x0,_0x300f40[_0x1c61('0x8')])(_0x4814d1[_0x1c61('0x41')]);!(_0x4ca865=(_0xbfc385=_0x115f3b['next']())[_0x1c61('0x89')]);_0x4ca865=!0x0){var _0x192d39=_0xbfc385['value'];void 0x0!==_0x512d75[_0x1c61('0xa3e')][_0x1c61('0xa41')][_0x1c61('0x32c')]&&(_0x192d39[_0x1c61('0x32c')]=_0x512d75[_0x1c61('0xa3e')][_0x1c61('0xa41')][_0x1c61('0x32c')]),_0x192d39[_0x1c61('0x1db')]=!0x1;}}catch(_0x5839d8){_0x105490=!0x0,_0x2f98bf=_0x5839d8;}finally{try{!_0x4ca865&&_0x115f3b[_0x1c61('0x99')]&&_0x115f3b['return']();}finally{if(_0x105490)throw _0x2f98bf;}}}else void 0x0!==_0x512d75[_0x1c61('0xa3e')]['faces'][_0x1c61('0x32c')]&&(_0x4814d1[_0x1c61('0x41')][_0x1c61('0x32c')]=_0x512d75[_0x1c61('0xa3e')][_0x1c61('0xa41')][_0x1c61('0x32c')]),_0x4814d1['material'][_0x1c61('0x1db')]=!0x1;_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x208')]&&(_0x4814d1['material'][_0x1c61('0x1ee')]=!0x0,_0x4814d1['material'][_0x1c61('0x208')]=_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x208')]),_0x1c61('0xa3c')==_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x1d8')]&&(_0x4814d1['material'][_0x1c61('0x1d8')]=THREE['AdditiveBlending'],_0x4814d1[_0x1c61('0x41')][_0x1c61('0x1db')]=!0x1),_0x35d7b2&&_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x5c8')]&&esmap[_0x1c61('0x51')][_0x1c61('0x4f5')]['setObjectBloomLight'](_0x35d7b2,_0x512d75[_0x1c61('0xa3e')][_0x1c61('0x5c8')]['intensity']);}_0x512d75[_0x1c61('0xa42')]&&(_0x4814d1[_0x1c61('0xa43')]=!0x0),_0x512d75[_0x1c61('0xa44')]&&this[_0x1c61('0xa45')](_0x4814d1,_0x512d75[_0x1c61('0xa44')],_0x21fb95),_0x512d75[_0x1c61('0xa46')]&&_0x4814d1[_0x1c61('0xd9')]&&_0x21fb95&&_0x21fb95['ID']&&(_0x105490=_0x4814d1['map'][_0x1c61('0x1b1')](),_0x4814d1[_0x1c61('0xd9')]=_0x105490,_0x4814d1[_0x1c61('0xd9')][_0x1c61('0x91e')]=_0x21fb95['ID'],this[_0x1c61('0x91d')][_0x1c61('0x6f')](_0x4814d1[_0x1c61('0xd9')]),_0x4814d1['map'][_0x1c61('0x108')]=!0x0,_0x4814d1[_0x1c61('0x108')]=!0x0,this[_0x1c61('0xd9')]['fire']('modelEffectInitComplete',{'type':_0x1c61('0xa46'),'id':_0x4814d1['map'][_0x1c61('0x91e')]})),_0x512d75[_0x1c61('0x208')]&&(_0x4814d1[_0x1c61('0x1ee')]=!0x0,_0x4814d1[_0x1c61('0x208')]=_0x512d75[_0x1c61('0x208')]),_0x512d75[_0x1c61('0xa47')]&&_0x4814d1[_0x1c61('0xd9')]&&this['createTextureBlend'](_0x4814d1,_0x512d75[_0x1c61('0xa47')],_0x21fb95),_0x512d75['blendEffect']&&_0x4814d1[_0x1c61('0xd9')]&&(void 0x0===_0x512d75[_0x1c61('0xa48')][_0x1c61('0x416')]||!0x1!==_0x512d75[_0x1c61('0xa48')][_0x1c61('0x416')])&&this[_0x1c61('0xa49')](_0x4814d1,_0x512d75['blendEffect'],_0x21fb95),_0x512d75['water']&&(void 0x0!==_0x512d75[_0x1c61('0x704')][_0x1c61('0x228')]?this[_0x1c61('0xa25')](_0x4814d1,_0x512d75[_0x1c61('0x704')],_0x21fb95):this[_0x1c61('0xa4a')](_0x4814d1,_0x512d75[_0x1c61('0x704')],_0x21fb95)),_0x512d75[_0x1c61('0x91b')]&&_0x4814d1['map']&&this[_0x1c61('0xa4b')](_0x4814d1,_0x512d75[_0x1c61('0x91b')]),_0x512d75[_0x1c61('0xa4c')]&&(_0x512d75[_0x1c61('0xa4c')][_0x1c61('0x90')]?(_0x4814d1[_0x1c61('0xa4d')]=_0x3ca36d,_0x4814d1[_0x1c61('0xa4e')]=_0x512d75[_0x1c61('0xa4c')],_0x4814d1[_0x1c61('0xa4f')]=_0x512d75[_0x1c61('0xa4c')][_0x1c61('0xa50')]):(_0x4814d1['material'][_0x1c61('0x1db')]=!0x1,_0x4814d1['material'][_0x1c61('0x208')]=0x0),this[_0x1c61('0xa30')][_0x4814d1[_0x1c61('0x1ca')]]=_0x4814d1),_0x512d75['terrain']&&this['createTerrain'](_0x4814d1,_0x512d75[_0x1c61('0xa51')],_0x21fb95);}},{'key':_0x1c61('0xa45'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x512d75,_0x35d7b2,_0x4ca865,_0x105490;_0x3ca36d[_0x1c61('0xd9')]&&!_0x4814d1[_0x1c61('0x416')]?(_0x4814d1[_0x1c61('0xa52')]&&(_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x63f')]=_0x4814d1[_0x1c61('0xa52')]),_0x4814d1[_0x1c61('0x1f6')]&&(_0x3ca36d[_0x1c61('0xd9')]['uvRotation']=_0x4814d1[_0x1c61('0x1f6')]),_0x4814d1[_0x1c61('0xa53')]&&(_0x4ca865=null,_0x512d75=(_0x4ca865=_0x3ca36d[_0x1c61('0xd9')]['image']['getAttribute']('originalSrc')||_0x3ca36d[_0x1c61('0xd9')]['image']['currentSrc'])[_0x1c61('0xa54')]('/'),_0x35d7b2=_0x4ca865[_0x1c61('0xa55')](0x0,_0x512d75+0x1),_0x4ca865=(_0x512d75=_0x4ca865[_0x1c61('0xa55')](_0x512d75+0x1,_0x4ca865['length']))[_0x1c61('0x5f')]('.')[0x0],_0x512d75=_0x512d75[_0x1c61('0x5f')]('.')[0x1],_0x4814d1[_0x1c61('0xa53')][_0x1c61('0xa56')]?this[_0x1c61('0xa2f')][_0x1c61('0x62c')](_0x3ca36d,_0x35d7b2+_0x4ca865+_0x1c61('0xa57')+_0x512d75):this[_0x1c61('0xa2f')][_0x1c61('0x633')](_0x3ca36d,_0x35d7b2+_0x4ca865+'_ef_uv-animate.'+_0x512d75,_0x4814d1[_0x1c61('0xa53')]['translate'])),_0x4814d1['spriteAnimate']&&this[_0x1c61('0xa2f')][_0x1c61('0xa58')](_0x3ca36d[_0x1c61('0xd9')],_0x4814d1[_0x1c61('0xa59')]),this[_0x1c61('0xa2f')][_0x1c61('0x4cc')][_0x1c61('0x6f')](_0x3ca36d[_0x1c61('0xd9')]),this[_0x1c61('0xa2f')]['initLoop']()):_0x3ca36d[_0x1c61('0xd9')]&&_0x4814d1['enabled']&&(_0x4814d1[_0x1c61('0xa5a')]?this[_0x1c61('0xa2f')][_0x1c61('0xa58')](_0x3ca36d['map'],{'imgWidth':_0x4814d1[_0x1c61('0x63a')],'imgHeight':_0x4814d1[_0x1c61('0x63a')],'row':_0x4814d1[_0x1c61('0x63c')],'column':_0x4814d1[_0x1c61('0x63d')],'fps':_0x4814d1[_0x1c61('0x2ed')]}):((_0x4814d1[_0x1c61('0xa5b')]||_0x4814d1[_0x1c61('0xa5c')])&&(_0x3ca36d[_0x1c61('0xd9')]['uvTranslate']={'x':_0x4814d1[_0x1c61('0xa5b')],'y':_0x4814d1['translateY']}),_0x4814d1[_0x1c61('0x1f6')]&&(_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0xa5d')]=_0x4814d1[_0x1c61('0x1f6')]),_0x4814d1[_0x1c61('0xa53')]&&(_0x35d7b2=null,_0x4ca865=(_0x35d7b2=_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')][_0x1c61('0x405')](_0x1c61('0xa5e'))||_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')][_0x1c61('0xa5f')])[_0x1c61('0xa54')]('/'),_0x512d75=_0x35d7b2[_0x1c61('0xa55')](0x0,_0x4ca865+0x1),_0x35d7b2=(_0x4ca865=_0x35d7b2[_0x1c61('0xa55')](_0x4ca865+0x1,_0x35d7b2[_0x1c61('0xf')]))[_0x1c61('0x5f')]('.')[0x0],_0x4ca865=_0x4ca865[_0x1c61('0x5f')]('.')[0x1],_0x4814d1[_0x1c61('0xa60')]?this[_0x1c61('0xa2f')][_0x1c61('0x62c')](_0x3ca36d,_0x512d75+_0x35d7b2+'_ef_mask.'+_0x4ca865):(_0x105490=null,(_0x4814d1['uv2TranslateX']||_0x4814d1[_0x1c61('0xa61')])&&(_0x105490={'x':_0x4814d1['uv2TranslateX'],'y':_0x4814d1[_0x1c61('0xa61')]}),this[_0x1c61('0xa2f')][_0x1c61('0x633')](_0x3ca36d,_0x512d75+_0x35d7b2+_0x1c61('0xa62')+_0x4ca865,_0x105490)))),this[_0x1c61('0xa2f')][_0x1c61('0x4cc')]['push'](_0x3ca36d['map']),this[_0x1c61('0xa2f')][_0x1c61('0x62a')](),esmap[_0x1c61('0x51')][_0x1c61('0x8b7')]&&(_0x3ca36d[_0x1c61('0xa63')]=!0x0));}},{'key':_0x1c61('0x9b4'),'value':function(_0x3ca36d,_0x4814d1){_0x3ca36d[_0x1c61('0x472')]=this['lights'][_0x1c61('0x8f1')],_0x4814d1[_0x1c61('0x2b6')]&&(_0x3ca36d['roughness']=_0x4814d1[_0x1c61('0x2b6')]),_0x4814d1[_0x1c61('0x2b7')]&&(_0x3ca36d['metalness']=_0x4814d1[_0x1c61('0x2b7')]),!esmap[_0x1c61('0x33')]['getPlatform']()[_0x1c61('0x89f')]&&_0x4814d1[_0x1c61('0xa64')]?_0x3ca36d['envMapIntensity']=_0x4814d1[_0x1c61('0xa64')]:_0x3ca36d[_0x1c61('0x2b8')]=_0x4814d1[_0x1c61('0x468')]||0x1,_0x3ca36d[_0x1c61('0x108')]=!0x0,this['setEnvTextureMaterials']['push'](_0x3ca36d);}},{'key':_0x1c61('0xa4b'),'value':function(_0x3ca36d,_0x4814d1){_0x4814d1[_0x1c61('0xa65')]&&(_0x3ca36d['emissiveIntensity']=0x0),_0x4814d1[_0x1c61('0x468')]&&(_0x3ca36d['emissiveIntensity']=_0x4814d1[_0x1c61('0x468')]),this[_0x1c61('0x91b')]['createMaterial'](_0x3ca36d),esmap[_0x1c61('0x51')]['EFFECT_EDITOR']&&(_0x3ca36d[_0x1c61('0xa63')]=!0x0);}},{'key':_0x1c61('0xa66'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x512d75,_0x35d7b2=null,_0x4ca865=(_0x35d7b2=_0x3ca36d[_0x1c61('0xd9')]['image'][_0x1c61('0x405')](_0x1c61('0xa5e'))||_0x3ca36d[_0x1c61('0xd9')]['image'][_0x1c61('0xa5f')])[_0x1c61('0xa54')]('/'),_0x105490=_0x35d7b2['substring'](0x0,_0x4ca865+0x1),_0x4ca865=_0x35d7b2[_0x1c61('0xa55')](_0x4ca865+0x1,_0x35d7b2['length']),_0x35d7b2=_0x4ca865[_0x1c61('0x5f')]('.')[0x0],_0x4ca865=_0x4ca865['split']('.')[0x1],_0x7e8aa5=('string'==typeof _0x4814d1['repeatFactor']&&(_0x4814d1[_0x1c61('0x81f')]=_0x4814d1[_0x1c61('0x81f')]['split'](',')[_0x1c61('0xd9')](Number)),_0x1c61('0x9')==typeof _0x4814d1[_0x1c61('0x818')]&&(_0x4814d1[_0x1c61('0x818')]=_0x4814d1[_0x1c61('0x818')]['split'](',')[_0x1c61('0xd9')](Number)),_0x4814d1[_0x1c61('0x81f')]),_0x192395=_0x4814d1[_0x1c61('0x818')],_0x32c88d=_0x4814d1[_0x1c61('0xa56')],_0x484b99=_0x4814d1['isUseNormal'],_0x24b4f9=_0x4814d1['blendCount'],_0x2c6fc5=_0x4814d1['normalFlipSide'],_0x53a180=null,_0xf67804=(_0x4814d1[_0x1c61('0x51e')]&&(_0x512d75=this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x5ea')]['getMaxAnisotropy'](),_0x53a180=_0x1c61('0x101')==_0x4814d1[_0x1c61('0x51e')]?_0x512d75:_0x4814d1[_0x1c61('0x51e')]),new _0x3eb9dc['GroundBlend']({'repeatFactor':_0x7e8aa5?{'texture1':_0x7e8aa5[0x0],'texture2':_0x7e8aa5[0x1],'texture3':_0x7e8aa5[0x2],'texture4':_0x7e8aa5[0x3]}:null,'isNoTileFactor':_0x192395?{'texture1':_0x192395[0x0],'texture2':_0x192395[0x1],'texture3':_0x192395[0x2],'texture4':_0x192395[0x3]}:void 0x0,'texture2Path':_0x105490+_0x35d7b2+_0x1c61('0xa67')+_0x4ca865,'textureMaskPath':_0x105490+_0x35d7b2+'_ef_mask.'+_0x4ca865,'texture3Path':0x3<=_0x24b4f9?_0x105490+_0x35d7b2+'_ef_blend-2.'+_0x4ca865:null,'texture4Path':0x4<=_0x24b4f9?_0x105490+_0x35d7b2+_0x1c61('0xa68')+_0x4ca865:null,'noisePath':(0x0,_0x2aa2e6[_0x1c61('0x26')])('images/ground/noise.png'),'normalUvIndex':_0x484b99?_0x4814d1[_0x1c61('0xa69')]||0x1:null,'normalFlipSide':_0x2c6fc5,'anisotropy':_0x53a180}));_0x3ca36d['visible']=!0x1,_0x32c88d&&(_0x3ca36d['transparent']=!0x0),_0xf67804['addEventListener'](_0x1c61('0x460'),function(){_0xf67804[_0x1c61('0x2f8')](_0x3ca36d),esmap[_0x1c61('0x51')][_0x1c61('0x8b7')]&&(_0xf67804[_0x1c61('0xa6a')]=_0x24b4f9,_0x3ca36d[_0x1c61('0xa63')]=_0xf67804),_0x3ca36d['visible']=!0x0;});}},{'key':_0x1c61('0xa49'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x512d75=null,_0x35d7b2=(_0x512d75=_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')]['getAttribute']('originalSrc')||_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')][_0x1c61('0xa5f')])[_0x1c61('0xa54')]('/'),_0x4ca865=_0x512d75[_0x1c61('0xa55')](0x0,_0x35d7b2+0x1),_0x35d7b2=_0x512d75[_0x1c61('0xa55')](_0x35d7b2+0x1,_0x512d75[_0x1c61('0xf')]),_0x512d75=_0x35d7b2['split']('.')[0x0],_0x35d7b2=_0x35d7b2['split']('.')[0x1],_0x105490=_0x4814d1[_0x1c61('0xa56')],_0x1bbc55=_0x4814d1[_0x1c61('0xa6b')],_0x2fd57a=new _0x3eb9dc['ModelBlendEffect']({'textureMaskPath':_0x105490?_0x4ca865+_0x512d75+'_ef_mask.'+_0x35d7b2:null,'textureNormalPath':_0x1bbc55?_0x4ca865+_0x512d75+_0x1c61('0xa6c')+_0x35d7b2:null,'isIgnoreAlpha':_0x4814d1[_0x1c61('0x832')],'isUseScanEffect':_0x4814d1[_0x1c61('0x833')],'isUseUv2Light':_0x4814d1[_0x1c61('0x834')],'scanOffset':_0x4814d1[_0x1c61('0x835')]});_0x3ca36d[_0x1c61('0x32c')]=!0x1,_0x105490&&(_0x3ca36d[_0x1c61('0x1ee')]=!0x0),_0x2fd57a['addEventListener'](_0x1c61('0x460'),function(){_0x2fd57a[_0x1c61('0x2f8')](_0x3ca36d),esmap[_0x1c61('0x51')][_0x1c61('0x8b7')]&&(_0x3ca36d[_0x1c61('0xa63')]=_0x2fd57a),_0x3ca36d[_0x1c61('0x32c')]=!0x0;}),this[_0x1c61('0xa2b')][_0x1c61('0x6f')](_0x2fd57a);}},{'key':_0x1c61('0xa4a'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){if(!(_0x3ca36d instanceof THREE[_0x1c61('0x7c1')]))return!0x0;var _0x512d75=null,_0x35d7b2=_0x4814d1[_0x1c61('0x7b')],_0x4ca865=_0x4814d1[_0x1c61('0xa6d')],_0x105490=!0x0,_0x21e190=!0x1,_0x1bd179=void 0x0;try{for(var _0x570887,_0x47252e=(0x0,_0x300f40[_0x1c61('0x8')])(this['water']['waterList']);!(_0x105490=(_0x570887=_0x47252e[_0x1c61('0x77')]())['done']);_0x105490=!0x0){var _0x11c25d=_0x570887[_0x1c61('0x1c')];if(_0x11c25d[_0x1c61('0x7b')]&&_0x11c25d['name']===_0x35d7b2){_0x512d75=_0x11c25d;break;}}}catch(_0x1f3874){_0x21e190=!0x0,_0x1bd179=_0x1f3874;}finally{try{!_0x105490&&_0x47252e[_0x1c61('0x99')]&&_0x47252e[_0x1c61('0x99')]();}finally{if(_0x21e190)throw _0x1bd179;}}if(!_0x512d75)return!0x0;_0x4814d1[_0x1c61('0x2b6')]&&(_0x3ca36d[_0x1c61('0x2b6')]=_0x4814d1['roughness']),_0x4814d1[_0x1c61('0x2b7')]&&(_0x3ca36d[_0x1c61('0x2b7')]=_0x4814d1[_0x1c61('0x2b7')]),_0x4814d1[_0x1c61('0xa56')]&&(_0x21e190=null,_0x1bd179=(_0x21e190=_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')][_0x1c61('0x405')](_0x1c61('0xa5e'))||_0x3ca36d[_0x1c61('0xd9')][_0x1c61('0x7e2')][_0x1c61('0xa5f')])[_0x1c61('0xa54')]('/'),_0x4814d1=_0x21e190[_0x1c61('0xa55')](0x0,_0x1bd179+0x1),_0x21e190=(_0x1bd179=_0x21e190[_0x1c61('0xa55')](_0x1bd179+0x1,_0x21e190['length']))['split']('.')[0x0],_0x1bd179=_0x1bd179[_0x1c61('0x5f')]('.')[0x1],_0x512d75['alphaMaskPath']=_0x4814d1+_0x21e190+_0x1c61('0xa57')+_0x1bd179),_0x512d75[_0x1c61('0x2f8')](_0x3ca36d,_0x4ca865),esmap[_0x1c61('0x51')][_0x1c61('0x8b7')]&&(_0x3ca36d['_effect']=_0x512d75);}},{'key':_0x1c61('0xa25'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){if(!(_0x3ca36d instanceof THREE['Material']))return!0x0;var _0x512d75=_0x4814d1['name'],_0x35d7b2=_0x4814d1[_0x1c61('0xa6d')],_0x4ca865=void 0x0,_0x105490=_0x4814d1[_0x1c61('0xa6e')]&&_0x4814d1[_0x1c61('0xa27')]?new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x2aa2e6[_0x1c61('0x26')])(_0x4814d1[_0x1c61('0xa27')])):new THREE[(_0x1c61('0x1cc'))](),_0x105490=(_0x4814d1[_0x1c61('0x5c4')]&&(_0x4ca865=new THREE[(_0x1c61('0x94'))]()[_0x1c61('0x96')]((0x0,_0x2aa2e6['getConfigAssetsPath'])(_0x4814d1[_0x1c61('0x5c4')]))),new _0x3eb9dc['WaterShape']({'colorStr':_0x4814d1[_0x1c61('0x228')],'lightColorStr':_0x4814d1[_0x1c61('0x4be')],'scale':_0x4814d1[_0x1c61('0x1de')],'speed':_0x4814d1[_0x1c61('0x32f')],'fluctuate':_0x4814d1[_0x1c61('0xa6f')],'texture':_0x105490,'skyTexture':_0x4ca865,'texUvScale':_0x4814d1['groundScaleFactor'],'flowAngle':_0x4814d1[_0x1c61('0x702')],'opacity':_0x4814d1[_0x1c61('0x208')]}));_0x105490['name']=_0x512d75,_0x4814d1['isUseAlphaMask']&&(_0x4ca865=null,_0x512d75=(_0x4ca865=_0x3ca36d['map'][_0x1c61('0x7e2')][_0x1c61('0x405')]('originalSrc')||_0x3ca36d['map'][_0x1c61('0x7e2')][_0x1c61('0xa5f')])[_0x1c61('0xa54')]('/'),_0x4814d1=_0x4ca865[_0x1c61('0xa55')](0x0,_0x512d75+0x1),_0x4ca865=(_0x512d75=_0x4ca865[_0x1c61('0xa55')](_0x512d75+0x1,_0x4ca865[_0x1c61('0xf')]))[_0x1c61('0x5f')]('.')[0x0],_0x512d75=_0x512d75['split']('.')[0x1],_0x105490[_0x1c61('0x705')]=_0x4814d1+_0x4ca865+_0x1c61('0xa57')+_0x512d75),_0x105490['createMaterial'](_0x3ca36d,_0x35d7b2),this[_0x1c61('0x704')][_0x1c61('0xa22')]['push'](_0x105490),esmap['ESEffectTool']['EFFECT_EDITOR']&&(_0x3ca36d[_0x1c61('0xa63')]=_0x105490);}},{'key':_0x1c61('0xa70'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x21fb95=[_0x21fb95[_0x1c61('0x4fc')]['userData'][_0x1c61('0x8ed')][_0x1c61('0x8ee')]['min']['y'],_0x21fb95[_0x1c61('0x4fc')][_0x1c61('0x42')][_0x1c61('0x8ed')][_0x1c61('0x8ee')][_0x1c61('0x101')]['y']],_0x21fb95=_0x4814d1[_0x1c61('0x850')]||_0x21fb95,_0x512d75=(_0x1c61('0x9')==typeof _0x4814d1[_0x1c61('0x850')]&&(_0x21fb95=_0x4814d1[_0x1c61('0x850')]['split'](',')['map'](Number)),(_0x512d75=_0x4814d1[_0x1c61('0xa27')])&&(0x0,_0x2aa2e6['getConfigAssetsPath'])(_0x512d75)),_0x21fb95=new _0x3eb9dc['ModelTerrain']({'heightExtent':_0x21fb95,'gradientType':_0x4814d1[_0x1c61('0x859')],'isTransparentLight':_0x4814d1[_0x1c61('0x53c')],'texPath':_0x512d75,'isShowSeaGroundEffect':_0x4814d1['isShowWaterEffect'],'seaGroundConfigs':_0x4814d1[_0x1c61('0xa71')]}),_0x512d75=_0x3ca36d;_0x4814d1[_0x1c61('0x53c')]&&(_0x3ca36d[_0x1c61('0xa38')]['material']=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE[_0x1c61('0x302')],'depthWrite':!0x1,'blending':THREE['AdditiveBlending']}),_0x512d75=_0x3ca36d[_0x1c61('0xa38')]['material']),_0x21fb95[_0x1c61('0x2f8')](_0x512d75),_0x4814d1[_0x1c61('0x7b')]&&(this[_0x1c61('0x919')][_0x4814d1[_0x1c61('0x7b')]]=_0x21fb95),_0x4814d1['intensity']&&_0x512d75[_0x1c61('0x228')][_0x1c61('0x6ce')](_0x4814d1['intensity']),this[_0x1c61('0xa2c')][_0x1c61('0x6f')](_0x21fb95),esmap[_0x1c61('0x51')]['EFFECT_EDITOR']&&(_0x3ca36d[_0x1c61('0xa63')]=_0x21fb95);}},{'key':_0x1c61('0x8fd'),'value':function(){if(0x0<(0x0,_0x96fe4['default'])(this['lightPointsMeshs'])['length'])for(var _0x3ca36d in this[_0x1c61('0xa30')])this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0xa50')]&&this['lightPointsMeshs'][_0x3ca36d][_0x1c61('0x3f6')](this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')][_0x1c61('0x218')]);}},{'key':'toggleLightPoints','value':function(_0x3ca36d){var _0x21fb95=this,_0x4814d1=_0x3ca36d[_0x1c61('0x865')],_0x4814d1=void 0x0!==_0x4814d1&&_0x4814d1,_0x3ca36d=_0x3ca36d['time'],_0x3ca36d=void 0x0===_0x3ca36d?1.5:_0x3ca36d;0x0<(0x0,_0x96fe4['default'])(this[_0x1c61('0xa30')])['length']&&new TWEEN['Tween']({'x':_0x4814d1?0x0:0x1})['to']({'x':_0x4814d1?0x1:0x0},0x3e8*_0x3ca36d)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')]['Linear']['None'])['onUpdate'](function(_0x3ca36d){for(var _0x4814d1 in _0x21fb95['lightPointsMeshs'])_0x21fb95[_0x1c61('0xa30')][_0x4814d1]['material'][_0x1c61('0x208')]=_0x3ca36d['x'];})['start']();}},{'key':_0x1c61('0xa72'),'value':function(_0x3ca36d){return new esmap['ESEffectTool'][(_0x1c61('0x8ef'))](esmap[_0x1c61('0x27f')][_0x1c61('0x557')],{'pointSize':_0x3ca36d[_0x1c61('0x43c')],'color':_0x3ca36d[_0x1c61('0x228')],'points':_0x3ca36d[_0x1c61('0x289')],'height':_0x3ca36d[_0x1c61('0x2f7')],'animateType':_0x3ca36d[_0x1c61('0x620')],'isShine':!0x0,'showLevel':_0x3ca36d[_0x1c61('0x584')],'seeThrough':_0x3ca36d[_0x1c61('0x521')]});}},{'key':_0x1c61('0xa73'),'value':function(){if(0x0<(0x0,_0x96fe4[_0x1c61('0x8')])(this['lightPointsMeshs'])[_0x1c61('0xf')]){var _0x3ca36d,_0x4814d1=[];for(_0x3ca36d in this['lightPointsMeshs']){var _0x21fb95=new THREE[(_0x1c61('0x1b8'))](),_0x512d75=(this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0xa74')](_0x21fb95),this[_0x1c61('0xd9')][_0x1c61('0xa75')]({'x':_0x21fb95['x'],'y':_0x21fb95['y'],'z':_0x21fb95['z']}));_0x4814d1['push']({'styleId':this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0xa4d')],'styleConfig':this['lightPointsMeshs'][_0x3ca36d]['_lightPointsConfig'],'x':_0x512d75['x'],'y':_0x512d75['y'],'height':_0x21fb95['y']}),this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0xdd')]?this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0xdd')][_0x1c61('0xdc')](this[_0x1c61('0xa30')][_0x3ca36d]):this[_0x1c61('0xa30')][_0x3ca36d][_0x1c61('0x32c')]=!0x1;}this['lightPointsLayer']=new esmap['ESEffectTool'][(_0x1c61('0x8e9'))](_0x1c61('0xa4c'),esmap[_0x1c61('0x4ed')][_0x1c61('0x4ec')]),esmap[_0x1c61('0x51')]['addLayerToMap'](this[_0x1c61('0xa31')]);for(var _0x35d7b2,_0x4ca865={},_0x105490=0x0,_0x261339=_0x4814d1[_0x1c61('0xf')];_0x105490<_0x261339;_0x105490++)_0x4814d1[_0x105490][_0x1c61('0xa76')]&&(_0x4814d1[_0x105490][_0x1c61('0xa76')][_0x1c61('0x228')]&&!_0x4ca865[_0x4814d1[_0x105490][_0x1c61('0x5f9')]]?_0x4ca865[_0x4814d1[_0x105490][_0x1c61('0x5f9')]]=[]:_0x4814d1[_0x105490][_0x1c61('0x5f9')]&&_0x4ca865[_0x4814d1[_0x105490][_0x1c61('0x5f9')]]&&_0x4ca865[_0x4814d1[_0x105490][_0x1c61('0x5f9')]]['push'](_0x4814d1[_0x105490]));for(_0x35d7b2 in _0x4ca865){var _0x3259a5=[],_0x210cc4=_0x4ca865[_0x35d7b2][0x0]['styleConfig'],_0x5e6a6c=!0x0,_0x361850=!0x1,_0x495477=void 0x0;try{for(var _0x327199,_0x7c75fd=(0x0,_0x300f40[_0x1c61('0x8')])(_0x4ca865[_0x35d7b2]);!(_0x5e6a6c=(_0x327199=_0x7c75fd[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x5e6a6c=!0x0){var _0x108f9c=_0x327199[_0x1c61('0x1c')];_0x3259a5[_0x1c61('0x6f')]({'x':_0x108f9c['x'],'y':_0x108f9c['y'],'height':_0x108f9c[_0x1c61('0x2f7')]});}}catch(_0x179eca){_0x361850=!0x0,_0x495477=_0x179eca;}finally{try{!_0x5e6a6c&&_0x7c75fd[_0x1c61('0x99')]&&_0x7c75fd['return']();}finally{if(_0x361850)throw _0x495477;}}_0x361850=this['addEffectPointsMarker']({'height':_0x210cc4[_0x1c61('0x534')]||0x0,'pointSize':_0x210cc4[_0x1c61('0x43c')]||0xf,'color':_0x210cc4[_0x1c61('0x228')],'animateType':_0x1c61('0x624'),'points':_0x3259a5});this[_0x1c61('0xa31')]['addMarker'](_0x361850);}}}},{'key':_0x1c61('0xa37'),'value':function(_0x3ca36d){return _0x3ca36d[_0x1c61('0x5f')]('_ef_')[0x1][_0x1c61('0x5f')]('_');}},{'key':_0x1c61('0xa77'),'value':function(_0x3ca36d,_0x4814d1){_0x3ca36d&&_0x4814d1&&(_0x3ca36d[_0x1c61('0x311')]=_0x4814d1);}},{'key':_0x1c61('0xa78'),'value':function(_0x3ca36d,_0x4814d1){_0x3ca36d&&void 0x0!==_0x4814d1&&(_0x3ca36d[_0x1c61('0x1ee')]=_0x4814d1);}},{'key':_0x1c61('0x9bc'),'value':function(_0x3ca36d){for(var _0x4814d1=0x0,_0x21fb95=this[_0x1c61('0xa2e')][_0x1c61('0xf')];_0x4814d1<_0x21fb95;_0x4814d1++)_0x3ca36d&&(this[_0x1c61('0xa2e')][_0x4814d1][_0x1c61('0x472')]=_0x3ca36d),this[_0x1c61('0xa2e')][_0x1c61('0x108')]=!0x0;}},{'key':'createEdgeLineFrame','value':function(_0x3ca36d,_0x4814d1,_0x21fb95){return new _0x3eb9dc[(_0x1c61('0xb8'))]({'colorStr':_0x4814d1,'opacity':_0x21fb95})[_0x1c61('0x676')](_0x3ca36d,_0x3ca36d[_0x1c61('0xda')]);}},{'key':_0x1c61('0xa79'),'value':function(_0x3ca36d,_0x4814d1){var _0x21fb95=new THREE[(_0x1c61('0x94'))]()['load']((0x0,_0x2aa2e6[_0x1c61('0x26')])(_0x4814d1[_0x1c61('0x9da')]));new _0x3eb9dc[(_0x1c61('0xb2'))]({'camera':this['map'][_0x1c61('0x45c')][_0x1c61('0x301')],'texture':_0x21fb95,'colorStr':_0x4814d1[_0x1c61('0x228')],'lineWidth':_0x4814d1['lineWidth']})[_0x1c61('0x31a')](_0x3ca36d);}},{'key':_0x1c61('0x8d1'),'value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x512d75,_0x10ccc2=this,_0x35d7b2=_0x3ca36d[_0x1c61('0xa7a')],_0x121473=void 0x0,_0x2a4189=void 0x0,_0x18f741=_0x35d7b2['parser']['json']['ms'],_0x18f489=_0x35d7b2[_0x1c61('0x456')][_0x1c61('0x218')],_0xabcd05=new THREE['Vector3'](),_0x1ab61c=new THREE['Vector3']();for(_0x512d75 in new THREE[(_0x1c61('0xa7b'))]()[_0x1c61('0xa7c')](_0x35d7b2['scene'])[_0x1c61('0x670')](_0x35d7b2[_0x1c61('0x456')][_0x1c61('0x218')]),_0x35d7b2['scene'][_0x1c61('0x218')][_0x1c61('0x1c3')](-0x1),_0x35d7b2['scene'][_0x1c61('0xdb')](function(_0x3ca36d){if(_0x3ca36d instanceof THREE['Mesh']){if(_0xabcd05[_0x1c61('0x1b')](_0x18f489['x']+_0x3ca36d[_0x1c61('0x218')]['x'],_0x18f489['y']+_0x3ca36d[_0x1c61('0x218')]['y'],_0x18f489['z']+_0x3ca36d[_0x1c61('0x218')]['z']),_0x1ab61c[_0x1c61('0x1b')](THREE[_0x1c61('0x15')]['radToDeg'](_0x3ca36d[_0x1c61('0x1f6')]['x']),THREE[_0x1c61('0x15')][_0x1c61('0xa7d')](_0x3ca36d[_0x1c61('0x1f6')]['y']),THREE[_0x1c61('0x15')][_0x1c61('0xa7d')](_0x3ca36d['rotation']['z'])),_0x1ab61c=_0x1ab61c[_0x1c61('0x1c0')](),_0x121473=_0x3ca36d[_0x1c61('0xda')]['clone'](),0x0<=(_0x2a4189=_0x3ca36d[_0x1c61('0x41')][_0x1c61('0x1b1')]())[_0x1c61('0x7b')][_0x1c61('0x50')]('_ef_')){var _0x3ca36d=_0x10ccc2['splitEffectsTemplates'](_0x2a4189[_0x1c61('0x7b')]),_0x4814d1=!0x0,_0x21fb95=!0x1,_0x512d75=void 0x0;try{for(var _0x35d7b2,_0x4ca865=(0x0,_0x300f40[_0x1c61('0x8')])(_0x3ca36d);!(_0x4814d1=(_0x35d7b2=_0x4ca865[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4814d1=!0x0){var _0x105490=_0x35d7b2[_0x1c61('0x1c')];_0x10ccc2[_0x1c61('0xa39')](_0x10ccc2['modelsConfigs'],_0x105490,_0x2a4189);}}catch(_0x5cf192){_0x21fb95=!0x0,_0x512d75=_0x5cf192;}finally{try{!_0x4814d1&&_0x4ca865[_0x1c61('0x99')]&&_0x4ca865[_0x1c61('0x99')]();}finally{if(_0x21fb95)throw _0x512d75;}}}_0x18f741[_0x1c61('0x41')]&&0x0<(0x0,_0x96fe4[_0x1c61('0x8')])(_0x18f741[_0x1c61('0x41')])[_0x1c61('0xf')]&&_0x18f741[_0x1c61('0x41')][_0x2a4189[_0x1c61('0x7b')]]&&_0x10ccc2[_0x1c61('0xa3a')]('',_0x2a4189,null,_0x18f741[_0x1c61('0x41')][_0x2a4189[_0x1c61('0x7b')]]);}}),_0x4814d1){var _0x4ca865=null,_0x105490=(_0x4ca865=(0x0,_0x2aa2e6[_0x1c61('0x32')])()?this[_0x1c61('0xd9')][_0x1c61('0x96c')](_0x512d75):((0x0,_0x2aa2e6[_0x1c61('0x8db')])()?_0x3ca36d['building']:(0x0,_0x2aa2e6[_0x1c61('0x38')])())[_0x1c61('0x4f9')](_0x512d75)[_0x1c61('0x502')](_0x1c61('0xa7e'))[0x0],_0x4814d1[_0x512d75]),_0x2834a2=[],_0x49bfd9=[],_0x42f5b5=[],_0xe33faa=!0x0,_0x2b1a5f=!0x1,_0x36de4c=void 0x0;try{for(var _0x138f05,_0x4e883a=(0x0,_0x300f40['default'])(_0x105490);!(_0xe33faa=(_0x138f05=_0x4e883a['next']())['done']);_0xe33faa=!0x0){var _0x207a5b,_0x175ee9=_0x138f05[_0x1c61('0x1c')];_0x2834a2['push'](_0x175ee9['position']['x']+_0xabcd05['x'],_0x175ee9[_0x1c61('0x218')]['y']+_0xabcd05['y'],_0x175ee9[_0x1c61('0x218')]['z']+_0xabcd05['z']),_0x175ee9[_0x1c61('0xa7f')]?(_0x207a5b=_0x175ee9[_0x1c61('0xa7f')][_0x1c61('0x5f')](','),_0x42f5b5['push'](+_0x207a5b[0x0]+_0x1ab61c['x'],+_0x207a5b[0x1]+_0x1ab61c['y'],+_0x207a5b[0x2]+_0x1ab61c['z'])):_0x42f5b5[_0x1c61('0x6f')](0x0,0x0,0x0),_0x49bfd9[_0x1c61('0x6f')](_0x175ee9[_0x1c61('0x1de')]['x'],_0x175ee9[_0x1c61('0x1de')]['y'],_0x175ee9[_0x1c61('0x1de')]['z']);}}catch(_0x51b216){_0x2b1a5f=!0x0,_0x36de4c=_0x51b216;}finally{try{!_0xe33faa&&_0x4e883a[_0x1c61('0x99')]&&_0x4e883a['return']();}finally{if(_0x2b1a5f)throw _0x36de4c;}}_0x2b1a5f=new _0x3eb9dc['ESInstanceMesh']({'material':_0x2a4189,'geometry':_0x121473,'num':_0x105490[_0x1c61('0xf')],'camera':this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')],'shadowCamera':_0x21fb95[_0x1c61('0x741')],'pos':_0x2834a2,'rot':_0x42f5b5,'scale':_0x49bfd9});_0x2b1a5f[_0x1c61('0x312')][_0x1c61('0x7b')]=_0x3ca36d[_0x1c61('0x7b')],_0x18f741['mesh']&&(0x0,_0x96fe4[_0x1c61('0x8')])(_0x18f741[_0x1c61('0x1f0')])[_0x1c61('0xf')],_0x4ca865['o3d_']['add'](_0x2b1a5f['object3d']),this[_0x1c61('0xa32')]['push'](_0x2b1a5f);}}},{'key':'createTileInstanceModel','value':function(_0x3ca36d,_0x4814d1,_0x21fb95){var _0x512d75,_0x8d8105,_0x2939c1,_0x598bf2,_0x230ae9,_0x1b1f66,_0x35d7b2,_0x117367=this,_0x4bc050={},_0x5a695a=null;for(_0x35d7b2 in this['tileInstanceModels'][_0x3ca36d[_0x1c61('0x7b')]]||(_0x512d75=_0x3ca36d[_0x1c61('0xa7a')],_0x2939c1=_0x8d8105=void 0x0,_0x4bc050=_0x512d75['parser'][_0x1c61('0x8cc')]['ms'],_0x598bf2=_0x512d75['scene'][_0x1c61('0x218')],_0x230ae9=new THREE[(_0x1c61('0x1b8'))](),_0x1b1f66=new THREE[(_0x1c61('0x1b8'))](),new THREE[(_0x1c61('0xa7b'))]()[_0x1c61('0xa7c')](_0x512d75[_0x1c61('0x456')])[_0x1c61('0x670')](_0x512d75[_0x1c61('0x456')][_0x1c61('0x218')]),_0x512d75[_0x1c61('0x456')][_0x1c61('0x218')][_0x1c61('0x1c3')](-0x1),_0x512d75[_0x1c61('0x456')][_0x1c61('0xdb')](function(_0x3ca36d){if(_0x3ca36d instanceof THREE[_0x1c61('0x30f')]){if(_0x230ae9['set'](_0x598bf2['x']+_0x3ca36d[_0x1c61('0x218')]['x'],_0x598bf2['y']+_0x3ca36d['position']['y'],_0x598bf2['z']+_0x3ca36d[_0x1c61('0x218')]['z']),_0x1b1f66[_0x1c61('0x1b')](THREE['Math'][_0x1c61('0xa7d')](_0x3ca36d[_0x1c61('0x1f6')]['x']),THREE['Math'][_0x1c61('0xa7d')](_0x3ca36d[_0x1c61('0x1f6')]['y']),THREE['Math'][_0x1c61('0xa7d')](_0x3ca36d[_0x1c61('0x1f6')]['z'])),_0x1b1f66=_0x1b1f66['round'](),_0x8d8105=_0x3ca36d[_0x1c61('0xda')][_0x1c61('0x1b1')](),_0x2939c1=_0x3ca36d['material']['clone'](),_0x5a695a=_0x3ca36d['name'],0x0<=_0x2939c1[_0x1c61('0x7b')][_0x1c61('0x50')]('_ef_')){var _0x3ca36d=_0x117367[_0x1c61('0xa37')](_0x2939c1[_0x1c61('0x7b')]),_0x4814d1=!0x0,_0x21fb95=!0x1,_0x512d75=void 0x0;try{for(var _0x35d7b2,_0x4ca865=(0x0,_0x300f40[_0x1c61('0x8')])(_0x3ca36d);!(_0x4814d1=(_0x35d7b2=_0x4ca865[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x4814d1=!0x0){var _0x105490=_0x35d7b2[_0x1c61('0x1c')];_0x117367[_0x1c61('0xa39')](_0x117367[_0x1c61('0x899')],_0x105490,_0x2939c1);}}catch(_0x150e88){_0x21fb95=!0x0,_0x512d75=_0x150e88;}finally{try{!_0x4814d1&&_0x4ca865[_0x1c61('0x99')]&&_0x4ca865['return']();}finally{if(_0x21fb95)throw _0x512d75;}}}_0x4bc050[_0x1c61('0x41')]&&0x0<(0x0,_0x96fe4[_0x1c61('0x8')])(_0x4bc050[_0x1c61('0x41')])['length']&&_0x4bc050['material'][_0x2939c1[_0x1c61('0x7b')]]&&_0x117367[_0x1c61('0xa3a')]('',_0x2939c1,null,_0x4bc050[_0x1c61('0x41')][_0x2939c1[_0x1c61('0x7b')]]);}}),this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]]={'material':_0x2939c1,'geometry':_0x8d8105,'offsetPos':_0x230ae9,'rotation':_0x1b1f66}),_0x4814d1){var _0x4ca865=this[_0x1c61('0xd9')][_0x1c61('0x96c')](_0x35d7b2);if(_0x4ca865){var _0x105490=_0x4814d1[_0x35d7b2],_0x422e81=[],_0x2a5637=[],_0x4e8858=[],_0x392500=!0x0,_0x34a1e9=!0x1,_0x549678=void 0x0;try{for(var _0x2d2360,_0x1903f4=(0x0,_0x300f40[_0x1c61('0x8')])(_0x105490);!(_0x392500=(_0x2d2360=_0x1903f4[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x392500=!0x0){var _0x352ddf,_0x2aa2e6=_0x2d2360[_0x1c61('0x1c')];_0x422e81[_0x1c61('0x6f')](_0x2aa2e6['position']['x']+this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0xa80')]['x'],_0x2aa2e6[_0x1c61('0x218')]['y']+this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0xa80')]['y']*_0x2aa2e6[_0x1c61('0x1de')]['y'],_0x2aa2e6[_0x1c61('0x218')]['z']+this['tileInstanceModels'][_0x3ca36d['name']]['offsetPos']['z']),_0x2aa2e6[_0x1c61('0xa7f')]?(_0x352ddf=_0x2aa2e6['rotate'][_0x1c61('0x5f')](','),_0x4e8858['push'](+_0x352ddf[0x0]+this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0x1f6')]['x'],+_0x352ddf[0x1]+this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0x1f6')]['y'],+_0x352ddf[0x2]+this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]]['rotation']['z'])):_0x4e8858[_0x1c61('0x6f')](0x0,0x0,0x0),_0x2a5637['push'](_0x2aa2e6[_0x1c61('0x1de')]['x'],_0x2aa2e6['scale']['y'],_0x2aa2e6[_0x1c61('0x1de')]['z']);}}catch(_0x525ae9){_0x34a1e9=!0x0,_0x549678=_0x525ae9;}finally{try{!_0x392500&&_0x1903f4[_0x1c61('0x99')]&&_0x1903f4['return']();}finally{if(_0x34a1e9)throw _0x549678;}}_0x34a1e9=new _0x3eb9dc[(_0x1c61('0xa6'))]({'material':this['tileInstanceModels'][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0x41')],'geometry':this[_0x1c61('0xa33')][_0x3ca36d[_0x1c61('0x7b')]][_0x1c61('0xda')],'num':_0x105490[_0x1c61('0xf')],'camera':this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')],'shadowCamera':_0x21fb95['shadowCamera'],'pos':_0x422e81,'rot':_0x4e8858,'scale':_0x2a5637});_0x34a1e9[_0x1c61('0x312')][_0x1c61('0x7b')]=_0x3ca36d[_0x1c61('0x7b')],_0x4ca865[_0x1c61('0x4fc')]['add'](_0x34a1e9[_0x1c61('0x312')]),_0x4bc050[_0x1c61('0x1f0')]&&0x0<(0x0,_0x96fe4['default'])(_0x4bc050[_0x1c61('0x1f0')])[_0x1c61('0xf')]&&_0x5a695a&&_0x4bc050['mesh'][_0x5a695a]&&_0x117367[_0x1c61('0xa3a')]('',_0x34a1e9[_0x1c61('0x312')]['children'][0x0],null,_0x4bc050['mesh'][_0x5a695a]),this[_0x1c61('0xa32')][_0x1c61('0x6f')](_0x34a1e9),delete _0x4814d1[_0x35d7b2];}}}},{'key':'disposeAll','value':function(){this[_0x1c61('0x919')]={},this[_0x1c61('0xa2c')][_0x1c61('0xf')]=0x0,this[_0x1c61('0x91d')][_0x1c61('0xf')]=0x0,this[_0x1c61('0xa2f')]['dispose']();var _0x3ca36d=!0x0,_0x4814d1=!0x1,_0x21fb95=void 0x0;try{for(var _0x512d75,_0x35d7b2=(0x0,_0x300f40[_0x1c61('0x8')])(this[_0x1c61('0xa2b')]);!(_0x3ca36d=(_0x512d75=_0x35d7b2[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x3ca36d=!0x0)_0x512d75[_0x1c61('0x1c')][_0x1c61('0xd8')]();}catch(_0x10a0ce){_0x4814d1=!0x0,_0x21fb95=_0x10a0ce;}finally{try{!_0x3ca36d&&_0x35d7b2[_0x1c61('0x99')]&&_0x35d7b2[_0x1c61('0x99')]();}finally{if(_0x4814d1)throw _0x21fb95;}}this[_0x1c61('0xa2e')][_0x1c61('0xf')]=0x0,this[_0x1c61('0x91b')][_0x1c61('0xd8')](),this[_0x1c61('0xa30')]={},this[_0x1c61('0xa31')]&&this[_0x1c61('0xa31')]['removeAll']();var _0x4ca865=!0x0,_0x4814d1=!(this[_0x1c61('0xa33')]={}),_0x21fb95=void 0x0;try{for(var _0x105490,_0x25c21f=(0x0,_0x300f40['default'])(this[_0x1c61('0xa32')]);!(_0x4ca865=(_0x105490=_0x25c21f[_0x1c61('0x77')]())['done']);_0x4ca865=!0x0)_0x105490[_0x1c61('0x1c')][_0x1c61('0xd8')]();}catch(_0x54b239){_0x4814d1=!0x0,_0x21fb95=_0x54b239;}finally{try{!_0x4ca865&&_0x25c21f[_0x1c61('0x99')]&&_0x25c21f[_0x1c61('0x99')]();}finally{if(_0x4814d1)throw _0x21fb95;}}this[_0x1c61('0xa32')][_0x1c61('0xf')]=0x0,this[_0x1c61('0x920')]={};}},{'key':'render','value':function(_0x3ca36d){if(this[_0x1c61('0xa2f')][_0x1c61('0x2db')](_0x3ca36d),0x0<this[_0x1c61('0x917')][_0x1c61('0xf')])for(var _0x4814d1=0x0,_0x21fb95=this['boatFoams'][_0x1c61('0xf')];_0x4814d1<_0x21fb95;_0x4814d1++)this[_0x1c61('0x917')][_0x4814d1][_0x1c61('0x3d1')](_0x3ca36d);if(0x0<this[_0x1c61('0xa2b')][_0x1c61('0xf')])for(var _0x512d75=0x0,_0x35d7b2=this[_0x1c61('0xa2b')]['length'];_0x512d75<_0x35d7b2;_0x512d75++)this[_0x1c61('0xa2b')][_0x512d75][_0x1c61('0x3d1')](_0x3ca36d);if(0x0<this[_0x1c61('0xa2c')][_0x1c61('0xf')])for(var _0x4ca865=0x0,_0x105490=this[_0x1c61('0xa2c')][_0x1c61('0xf')];_0x4ca865<_0x105490;_0x4ca865++)this[_0x1c61('0xa2c')][_0x4ca865][_0x1c61('0x3d1')](_0x3ca36d);}}]),_0x4814d1[_0x1c61('0x8')]=_0x105490;},function(_0x20a924,_0x5e264e,_0x5043a0){'use strict';Object['defineProperty'](_0x5e264e,_0x1c61('0x5'),{'value':!0x0});var _0xe7b825=_0x468f59(_0x5043a0(0x0)),_0x1bf374=_0x468f59(_0x5043a0(0x1)),_0x1f8749=_0x5043a0(0x1a),_0xd07aa5=_0x468f59(_0x5043a0(0x10e));function _0x468f59(_0x20a924){return _0x20a924&&_0x20a924[_0x1c61('0x5')]?_0x20a924:{'default':_0x20a924};}function _0x4a2b42(){(0x0,_0xe7b825[_0x1c61('0x8')])(this,_0x4a2b42),this[_0x1c61('0xd9')]=(0x0,_0x1f8749['getMapInstance'])(),this[_0x1c61('0x416')]=!0x1,this[_0x1c61('0x4f5')]=null,this[_0x1c61('0xa81')]=[];}(0x0,_0x1bf374[_0x1c61('0x8')])(_0x4a2b42,[{'key':_0x1c61('0x4ef'),'value':function(_0x20a924){var _0x5e264e=this;this['enabled']=!0x0,this[_0x1c61('0x4f5')]=new _0xd07aa5[(_0x1c61('0x8'))]({'map':this[_0x1c61('0xd9')]}),this[_0x1c61('0x4f5')][_0x1c61('0x4ef')](_0x20a924),this['map']['on'](_0x1c61('0x327'),function(_0x20a924){_0x5e264e['screenEffect'][_0x1c61('0x416')]&&_0x5e264e[_0x1c61('0x4f5')][_0x1c61('0x327')](_0x20a924[_0x1c61('0x328')],_0x20a924['height']);});}},{'key':_0x1c61('0xa82'),'value':function(){var _0x5e264e;this[_0x1c61('0x4f5')][_0x1c61('0xa83')]&&(_0x5e264e=this)[_0x1c61('0xd9')]['on'](_0x1c61('0xa84'),function(_0x20a924){_0x20a924['nodeType']==esmap[_0x1c61('0xa85')]['MODEL3D']&&(_0x5e264e[_0x1c61('0xa81')][_0x1c61('0xf')]=0x0,_0x5e264e[_0x1c61('0xa81')][_0x1c61('0x6f')](_0x20a924[_0x1c61('0x4fc')]),_0x5e264e[_0x1c61('0x4f5')][_0x1c61('0xa83')]['selectedObjects']=_0x5e264e[_0x1c61('0xa81')]);});}},{'key':_0x1c61('0x92b'),'value':function(_0x20a924){_0x20a924[_0x1c61('0x228')]&&this[_0x1c61('0x4f5')]['outlinePass']['visibleEdgeColor'][_0x1c61('0x2fa')](_0x20a924['color']),_0x20a924[_0x1c61('0xa86')]&&this['screenEffect'][_0x1c61('0xa83')][_0x1c61('0xa86')]['setStyle'](_0x20a924[_0x1c61('0xa86')]),_0x20a924[_0x1c61('0xa87')]&&(this[_0x1c61('0x4f5')][_0x1c61('0xa83')][_0x1c61('0xa88')]=_0x20a924[_0x1c61('0xa87')]),_0x20a924[_0x1c61('0xa89')]&&(this[_0x1c61('0x4f5')][_0x1c61('0xa83')]['edgeGlow']=_0x20a924[_0x1c61('0xa89')]),_0x20a924[_0x1c61('0xa8a')]&&(this[_0x1c61('0x4f5')][_0x1c61('0xa83')][_0x1c61('0xa8a')]=_0x20a924[_0x1c61('0xa8a')]),_0x20a924['maskTexture']&&(this['screenEffect'][_0x1c61('0xa83')][_0x1c61('0xa8b')]=_0x20a924[_0x1c61('0xa8c')],this[_0x1c61('0x4f5')]['outlinePass'][_0x1c61('0xa8d')]=!0x0),_0x20a924[_0x1c61('0xa8e')]=_0x20a924[_0x1c61('0xa8e')]||2.5,this[_0x1c61('0x4f5')][_0x1c61('0xa83')]['pulsePeriod']=_0x20a924[_0x1c61('0x625')]?_0x20a924['blinkPeriod']:0x0;}},{'key':_0x1c61('0x92c'),'value':function(_0x20a924,_0x5e264e){this[_0x1c61('0x4f5')]&&(this[_0x1c61('0x4f5')][_0x1c61('0xa83')][_0x1c61('0xa8f')][_0x1c61('0x6f')](_0x20a924),_0x5e264e?this[_0x1c61('0x92b')](_0x5e264e):this['updateOutlineStyle'](this[_0x1c61('0x4f5')][_0x1c61('0xa90')]));}},{'key':_0x1c61('0x92d'),'value':function(_0x20a924){if(this['screenEffect']&&0x0<this[_0x1c61('0x4f5')]['outlinePass'][_0x1c61('0xa8f')][_0x1c61('0xf')])for(var _0x5e264e=0x0,_0x5043a0=this[_0x1c61('0x4f5')][_0x1c61('0xa83')][_0x1c61('0xa8f')][_0x1c61('0xf')];_0x5e264e<_0x5043a0;_0x5e264e++)if(this['screenEffect'][_0x1c61('0xa83')]['selectedObjects'][_0x5e264e][_0x1c61('0x1ca')]===_0x20a924[_0x1c61('0x1ca')]){this[_0x1c61('0x4f5')][_0x1c61('0xa83')][_0x1c61('0xa8f')][_0x1c61('0x8f')](_0x5e264e,0x1);break;}}},{'key':_0x1c61('0x92e'),'value':function(){this[_0x1c61('0x4f5')]&&(this['screenEffect'][_0x1c61('0xa83')]['selectedObjects']['length']=0x0);}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0x4f5')]&&this['map'][_0x1c61('0x47')][_0x1c61('0x8a6')]&&this[_0x1c61('0x4f5')]['render']();}}]),_0x5e264e[_0x1c61('0x8')]=_0x4a2b42;},function(_0x3b1609,_0x38653f,_0x43b689){'use strict';Object[_0x1c61('0x2')](_0x38653f,_0x1c61('0x5'),{'value':!0x0});var _0x9bbddc=_0x268ca5(_0x43b689(0xf)),_0x567d8f=_0x268ca5(_0x43b689(0x0)),_0xc435c5=_0x268ca5(_0x43b689(0x1));function _0x268ca5(_0x3b1609){return _0x3b1609&&_0x3b1609[_0x1c61('0x5')]?_0x3b1609:{'default':_0x3b1609};}function _0x505b8f(_0x3b1609){_0x3b1609=_0x3b1609[_0x1c61('0xd9')];(0x0,_0x567d8f['default'])(this,_0x505b8f),this[_0x1c61('0xd9')]=_0x3b1609,this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0xa91')]=null,this[_0x1c61('0xa92')]=!0x1,this['bloomComposer']=null,this[_0x1c61('0xa93')]=null,this[_0x1c61('0xa94')]=null,this[_0x1c61('0xa95')]=null,this[_0x1c61('0xa83')]=null,this[_0x1c61('0x1de')]=0x1,this[_0x1c61('0xa96')]={'width':this[_0x1c61('0xd9')][_0x1c61('0x45c')]['w_'],'height':this['map'][_0x1c61('0x45c')]['h_']},this[_0x1c61('0xa97')]={'width':this[_0x1c61('0xd9')][_0x1c61('0x45c')]['w_']*this[_0x1c61('0x1de')],'height':this[_0x1c61('0xd9')]['mapView']['h_']*this[_0x1c61('0x1de')]},this[_0x1c61('0xa98')]=new THREE['Layers'](),this['bloomLayer'][_0x1c61('0x1b')](0x1),this[_0x1c61('0xa99')]={},this[_0x1c61('0xa9a')]=new THREE['MeshBasicMaterial']({'color':'black'}),this[_0x1c61('0xa9b')]=new THREE[(_0x1c61('0x1ba'))](0x0),this[_0x1c61('0xa9c')]=null,this[_0x1c61('0xa9d')]=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0xa90')]=null;}_0x43b689(0x1a),_0x43b689(0x10f),_0x43b689(0x110),_0x43b689(0x111),_0x43b689(0x112),_0x43b689(0x113),_0x43b689(0x114),_0x43b689(0x115),_0x43b689(0x116),(0x0,_0xc435c5['default'])(_0x505b8f,[{'key':_0x1c61('0x4ef'),'value':function(_0x3b1609){var _0x38653f,_0x43b689=this['map'][_0x1c61('0x45c')][_0x1c61('0x51f')],_0x567d8f=this[_0x1c61('0xd9')]['mapView']['scene'],_0xc435c5=this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')],_0x268ca5=(_0x43b689['getPixelRatio'](),this[_0x1c61('0x1de')]=1.5,this[_0x1c61('0xd9')][_0x1c61('0x47')][_0x1c61('0xa9e')]||this[_0x1c61('0xd9')][_0x1c61('0x47')]['perspective']),_0x505b8f=(_0x43b689[_0x1c61('0x5ea')][_0x1c61('0xa92')]?(_0x505b8f={'format':_0x268ca5?THREE[_0x1c61('0xa9f')]:THREE[_0x1c61('0x458')],'stencilBuffer':!0x1},_0xc4a3e9=_0x43b689['getDrawingBufferSize'](new THREE[(_0x1c61('0x1cf'))]()),_0xc4a3e9=new THREE[(_0x1c61('0xaa0'))](_0xc4a3e9[_0x1c61('0x328')],_0xc4a3e9[_0x1c61('0x2f7')],_0x505b8f),this[_0x1c61('0xa91')]=new THREE[(_0x1c61('0xaa1'))](_0x43b689,_0xc4a3e9),this['isWebGL2']=!0x0):this[_0x1c61('0xa91')]=new THREE['EffectComposer'](_0x43b689),new THREE[(_0x1c61('0xaa2'))](_0x567d8f,_0xc435c5)),_0xc4a3e9=(this[_0x1c61('0xa93')]=new THREE[(_0x1c61('0xaa3'))](THREE[_0x1c61('0xaa4')]),null);this[_0x1c61('0xa92')]||((_0xc4a3e9=new THREE[(_0x1c61('0xaa3'))](THREE['CopyShader']))['renderToScreen']=!0x1),_0x3b1609[_0x1c61('0x9f5')]&&(this[_0x1c61('0xa90')]=(0x0,_0x9bbddc['default'])({'color':'#FFFFFF','edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x3b1609[_0x1c61('0x9f5')]),_0x38653f=esmap[_0x1c61('0x33')]['getPlatform'](),this[_0x1c61('0xa83')]=new THREE['OutlinePass'](new THREE[(_0x1c61('0x1cf'))](this[_0x1c61('0xa96')][_0x1c61('0x328')],this[_0x1c61('0xa96')]['height']),_0x567d8f,_0xc435c5),this[_0x1c61('0xa83')]['visibleEdgeColor']['setStyle'](this[_0x1c61('0xa90')][_0x1c61('0x228')]),this['defaultOutlineConfig']['hiddenEdgeColor']&&this['outlinePass'][_0x1c61('0xa86')][_0x1c61('0x2fa')](this[_0x1c61('0xa90')]['hiddenEdgeColor']),this[_0x1c61('0xa83')]['edgeStrength']=this[_0x1c61('0xa90')][_0x1c61('0xa87')],this[_0x1c61('0xa83')]['edgeThickness']=this['defaultOutlineConfig'][_0x1c61('0xa8a')],_0x38653f['platform']&&0x0<=[_0x1c61('0xaa5'),_0x1c61('0xaa6'),_0x1c61('0x8a2')][_0x1c61('0x50')](_0x38653f['platform'])&&(this[_0x1c61('0xa83')]['edgeStrength']*=0x4,this[_0x1c61('0xa83')][_0x1c61('0xa8a')]*=0x4),this[_0x1c61('0xa83')]['edgeGlow']=this[_0x1c61('0xa90')]['edgeSpread'],this[_0x1c61('0xa83')][_0x1c61('0xaa7')]=this[_0x1c61('0xa90')][_0x1c61('0x625')]?this[_0x1c61('0xa90')][_0x1c61('0xa8e')]:0x0),_0x3b1609[_0x1c61('0x5c8')]&&(_0x567d8f=(0x0,_0x9bbddc[_0x1c61('0x8')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE[(_0x1c61('0x1ba'))](0x0)},_0x3b1609['unrealBloom']),this['bloomPass']=new THREE[(_0x1c61('0xaa8'))](new THREE['Vector2'](this['originSize']['width'],this[_0x1c61('0xa96')][_0x1c61('0x2f7')]),1.5,0.4,0.85),this[_0x1c61('0xa94')]['renderToScreen']=!0x1,this[_0x1c61('0xa94')][_0x1c61('0xaa9')]=_0x567d8f['bloomThreshold'],this['bloomPass'][_0x1c61('0xaaa')]=_0x567d8f[_0x1c61('0xaab')],this[_0x1c61('0xa94')][_0x1c61('0x226')]=_0x567d8f[_0x1c61('0xaac')],this[_0x1c61('0xaad')]=new THREE[(_0x1c61('0xaa1'))](_0x43b689),this[_0x1c61('0xaad')][_0x1c61('0xaae')]=!0x1,this[_0x1c61('0xaad')][_0x1c61('0xaaf')](_0x505b8f),this['isWebGL2']||this[_0x1c61('0xaad')][_0x1c61('0xaaf')](this[_0x1c61('0xa93')]),this['isWebGL2']||this[_0x1c61('0xaad')][_0x1c61('0xaaf')](_0xc4a3e9),this[_0x1c61('0xaad')][_0x1c61('0xaaf')](this[_0x1c61('0xa94')]),this[_0x1c61('0xa95')]=new THREE[(_0x1c61('0xaa3'))](new THREE['ShaderMaterial']({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this[_0x1c61('0xaad')][_0x1c61('0xab0')]['texture']}},'vertexShader':_0x1c61('0xab1'),'fragmentShader':_0x1c61('0xab2'),'defines':{}}),_0x1c61('0xab3')),this['bloomFinalPass'][_0x1c61('0xab4')]=!0x0,this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')]['background']?this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')]['background']instanceof THREE['Texture']&&(this[_0x1c61('0xa9c')]=this['map'][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xa0e')]):_0x268ca5||(this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xa0e')]=_0x567d8f[_0x1c61('0xab5')],esmap[_0x1c61('0x51')][_0x1c61('0x47')][_0x1c61('0x893')]||(_0xc435c5=new THREE[(_0x1c61('0x1ba'))](this[_0x1c61('0xd9')][_0x1c61('0x3b')][_0x1c61('0xab6')]),(_0x38653f=new THREE['MeshBasicMaterial']({'color':_0xc435c5,'side':THREE[_0x1c61('0x470')]}))[_0x1c61('0x3c7')]=function(_0x3b1609){_0x3b1609[_0x1c61('0x56')]=_0x3b1609[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x401'),_0x1c61('0xab7'));},(_0x43b689=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x455'))](0x1,0x1,0x1),_0x38653f))[_0x1c61('0x1de')][_0x1c61('0x1b')](0x186a0,0x186a0,0x186a0),this[_0x1c61('0xd9')][_0x1c61('0x45c')]['scene'][_0x1c61('0x1c4')](_0x43b689)))),this[_0x1c61('0xa91')][_0x1c61('0xaaf')](_0x505b8f),_0x3b1609[_0x1c61('0x5c8')]&&this[_0x1c61('0xa91')]['addPass'](this['bloomFinalPass']),_0x3b1609[_0x1c61('0x9f5')]&&this['composer'][_0x1c61('0xaaf')](this[_0x1c61('0xa83')]),this[_0x1c61('0xa92')]||this[_0x1c61('0xa91')][_0x1c61('0xaaf')](this[_0x1c61('0xa93')]),this['setScale'](this[_0x1c61('0x1de')]);}},{'key':_0x1c61('0x7b1'),'value':function(_0x3b1609){this['scale']=_0x3b1609,this[_0x1c61('0xee')]={'width':this[_0x1c61('0xa96')][_0x1c61('0x328')]*this[_0x1c61('0x1de')],'height':this[_0x1c61('0xa96')][_0x1c61('0x2f7')]*this['scale']};}},{'key':'resize','value':function(_0x3b1609,_0x38653f){this['originSize']['width']=_0x3b1609,this[_0x1c61('0xa96')][_0x1c61('0x2f7')]=_0x38653f,this[_0x1c61('0x7b1')](this[_0x1c61('0x1de')]);}},{'key':_0x1c61('0x3d1'),'value':function(){this[_0x1c61('0xa91')]&&(this[_0x1c61('0xaad')]&&this[_0x1c61('0xab8')](),this[_0x1c61('0xa91')][_0x1c61('0x3d1')](),'3D'==this['map']['viewMode_']?this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0xab9')][_0x1c61('0x3d1')](this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')],this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')]):(this['map']['mapView'][_0x1c61('0x51f')]['render'](this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')],this[_0x1c61('0xd9')][_0x1c61('0x45c')]['cameraTop']),this[_0x1c61('0xd9')][_0x1c61('0x45c')]['rendererCss2D'][_0x1c61('0x3d1')](this['map'][_0x1c61('0x45c')][_0x1c61('0x456')],this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0xaba')])),this['map'][_0x1c61('0x45c')]['renderer'][_0x1c61('0xabb')](),this[_0x1c61('0xd9')][_0x1c61('0x45c')]['renderer']['render'](this['map']['mapView'][_0x1c61('0xabc')],this[_0x1c61('0xd9')][_0x1c61('0x45c')]['cameraOrtho']));}},{'key':_0x1c61('0xab8'),'value':function(){this['originBgTexture']&&(this['map']['mapView']['scene'][_0x1c61('0xa0e')]=this['darkColor']),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xdb')](this['darkenNonBloomed'][_0x1c61('0xa')](this)),this['bloomComposer'][_0x1c61('0x3d1')](),this[_0x1c61('0xa9c')]&&(this['map'][_0x1c61('0x45c')][_0x1c61('0x456')]['background']=this[_0x1c61('0xa9c')]),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0xdb')](this[_0x1c61('0xabd')][_0x1c61('0xa')](this));}},{'key':_0x1c61('0xabe'),'value':function(_0x3b1609){_0x3b1609[_0x1c61('0x41')]&&!0x1===this[_0x1c61('0xa98')][_0x1c61('0x5b')](_0x3b1609[_0x1c61('0x551')])&&(this['materials'][_0x3b1609[_0x1c61('0x1ca')]]=_0x3b1609['material'],!0x1!==_0x3b1609[_0x1c61('0x41')]['visible']&&(_0x1c61('0xabf')==_0x3b1609['type']?_0x3b1609[_0x1c61('0x41')]['visible']=!0x1:_0x3b1609[_0x1c61('0x41')]=this[_0x1c61('0xa9a')]));}},{'key':_0x1c61('0xabd'),'value':function(_0x3b1609){this[_0x1c61('0xa99')][_0x3b1609[_0x1c61('0x1ca')]]&&(_0x3b1609[_0x1c61('0x41')]=this[_0x1c61('0xa99')][_0x3b1609[_0x1c61('0x1ca')]],delete this[_0x1c61('0xa99')][_0x3b1609['uuid']]),'SkinnedMesh'==_0x3b1609[_0x1c61('0x90')]&&(_0x3b1609[_0x1c61('0x41')][_0x1c61('0x32c')]=!0x0);}},{'key':_0x1c61('0xee'),'set':function(_0x3b1609){this['bloomComposer']&&this[_0x1c61('0xaad')][_0x1c61('0xe8')](_0x3b1609['width'],_0x3b1609[_0x1c61('0x2f7')]),this[_0x1c61('0xa92')]||this[_0x1c61('0xa93')][_0x1c61('0x16a')][_0x1c61('0x2fe')]['value'][_0x1c61('0x1b')](0x1/_0x3b1609[_0x1c61('0x328')],0x1/_0x3b1609[_0x1c61('0x2f7')]),this[_0x1c61('0xa91')]&&this[_0x1c61('0xa91')][_0x1c61('0xe8')](_0x3b1609['width'],_0x3b1609['height']);}}]),_0x38653f[_0x1c61('0x8')]=_0x505b8f;},function(_0x1108b5,_0xf430f1,_0x4f8cf2){'use strict';var _0x48b863,_0x5af096,_0x4f8cf2=_0x4f8cf2(0xf),_0x4f8cf2=_0x4f8cf2&&_0x4f8cf2[_0x1c61('0x5')]?_0x4f8cf2:{'default':_0x4f8cf2};function _0x4a4254(_0x1108b5){this[_0x1c61('0xa38')]=new THREE[(_0x1c61('0x30f'))](_0x5af096,_0x1108b5);}THREE[_0x1c61('0xaa1')]=function(_0x1108b5,_0xf430f1){var _0x4f8cf2,_0x48b863;this['renderer']=_0x1108b5,void 0x0===_0xf430f1?(_0x4f8cf2={'minFilter':THREE['LinearFilter'],'magFilter':THREE[_0x1c61('0x3ef')],'format':THREE[_0x1c61('0xa9f')],'stencilBuffer':!0x1},_0x48b863=_0x1108b5[_0x1c61('0xac0')](new THREE['Vector2']()),this[_0x1c61('0xac1')]=_0x1108b5[_0x1c61('0xac2')](),this[_0x1c61('0xac3')]=_0x48b863[_0x1c61('0x328')],this['_height']=_0x48b863[_0x1c61('0x2f7')],(_0xf430f1=new THREE[(_0x1c61('0x695'))](this[_0x1c61('0xac3')]*this[_0x1c61('0xac1')],this[_0x1c61('0xac4')]*this[_0x1c61('0xac1')],_0x4f8cf2))['texture'][_0x1c61('0x7b')]=_0x1c61('0xac5')):(this[_0x1c61('0xac1')]=0x1,this['_width']=_0xf430f1[_0x1c61('0x328')],this[_0x1c61('0xac4')]=_0xf430f1[_0x1c61('0x2f7')]),this[_0x1c61('0xac6')]=_0xf430f1,this['renderTarget2']=_0xf430f1[_0x1c61('0x1b1')](),this[_0x1c61('0xab0')][_0x1c61('0x1c9')][_0x1c61('0x7b')]=_0x1c61('0xac7'),this[_0x1c61('0xac8')]=this[_0x1c61('0xac6')],this[_0x1c61('0xac9')]=this['renderTarget2'],this[_0x1c61('0xaae')]=!0x0,this[_0x1c61('0xaca')]=[],void 0x0===THREE[_0x1c61('0xacb')]&&console[_0x1c61('0x200')]('THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader'),void 0x0===THREE[_0x1c61('0xaa3')]&&console[_0x1c61('0x200')](_0x1c61('0xacc')),this[_0x1c61('0xacd')]=new THREE[(_0x1c61('0xaa3'))](THREE[_0x1c61('0xacb')]),this[_0x1c61('0xace')]=new THREE[(_0x1c61('0xacf'))]();},(0x0,_0x4f8cf2[_0x1c61('0x8')])(THREE[_0x1c61('0xaa1')][_0x1c61('0xb')],{'swapBuffers':function(){var _0x1108b5=this['readBuffer'];this['readBuffer']=this[_0x1c61('0xac8')],this['writeBuffer']=_0x1108b5;},'addPass':function(_0x1108b5){this[_0x1c61('0xaca')][_0x1c61('0x6f')](_0x1108b5);var _0xf430f1=this[_0x1c61('0x51f')][_0x1c61('0xad0')](new THREE[(_0x1c61('0x1cf'))]());_0x1108b5[_0x1c61('0xe8')](_0xf430f1['width'],_0xf430f1[_0x1c61('0x2f7')]);},'insertPass':function(_0x1108b5,_0xf430f1){this[_0x1c61('0xaca')][_0x1c61('0x8f')](_0xf430f1,0x0,_0x1108b5);},'isLastEnabledPass':function(_0x1108b5){for(var _0xf430f1=_0x1108b5+0x1;_0xf430f1<this[_0x1c61('0xaca')][_0x1c61('0xf')];_0xf430f1++)if(this[_0x1c61('0xaca')][_0xf430f1][_0x1c61('0x416')])return!0x1;return!0x0;},'render':function(_0x1108b5){void 0x0===_0x1108b5&&(_0x1108b5=this[_0x1c61('0xace')]['getDelta']());for(var _0xf430f1,_0x4f8cf2,_0x48b863=this[_0x1c61('0x51f')]['getRenderTarget'](),_0x5af096=!0x1,_0x4a4254=this[_0x1c61('0xaca')]['length'],_0x553ae7=0x0;_0x553ae7<_0x4a4254;_0x553ae7++)!0x1!==(_0x4f8cf2=this[_0x1c61('0xaca')][_0x553ae7])[_0x1c61('0x416')]&&(_0x4f8cf2[_0x1c61('0xaae')]=this[_0x1c61('0xaae')]&&this[_0x1c61('0xad1')](_0x553ae7),_0x4f8cf2[_0x1c61('0x3d1')](this[_0x1c61('0x51f')],this[_0x1c61('0xac8')],this[_0x1c61('0xac9')],_0x1108b5,_0x5af096),_0x4f8cf2[_0x1c61('0xab4')]&&(_0x5af096&&((_0xf430f1=this[_0x1c61('0x51f')][_0x1c61('0xad2')])[_0x1c61('0xad3')](_0xf430f1[_0x1c61('0xad4')],0x1,0xffffffff),this[_0x1c61('0xacd')][_0x1c61('0x3d1')](this[_0x1c61('0x51f')],this[_0x1c61('0xac8')],this[_0x1c61('0xac9')],_0x1108b5),_0xf430f1[_0x1c61('0xad3')](_0xf430f1[_0x1c61('0xad5')],0x1,0xffffffff)),this[_0x1c61('0xad6')]()),void 0x0!==THREE['MaskPass']&&(_0x4f8cf2 instanceof THREE[_0x1c61('0xad7')]?_0x5af096=!0x0:_0x4f8cf2 instanceof THREE[_0x1c61('0xad8')]&&(_0x5af096=!0x1)));this[_0x1c61('0x51f')][_0x1c61('0x6a6')](_0x48b863);},'reset':function(_0x1108b5){var _0xf430f1;void 0x0===_0x1108b5&&(_0xf430f1=this[_0x1c61('0x51f')][_0x1c61('0xac0')](new THREE[(_0x1c61('0x1cf'))]()),this['_pixelRatio']=this[_0x1c61('0x51f')][_0x1c61('0xac2')](),this[_0x1c61('0xac3')]=_0xf430f1[_0x1c61('0x328')],this['_height']=_0xf430f1[_0x1c61('0x2f7')],(_0x1108b5=this[_0x1c61('0xac6')][_0x1c61('0x1b1')]())['setSize'](this[_0x1c61('0xac3')]*this[_0x1c61('0xac1')],this['_height']*this[_0x1c61('0xac1')])),this[_0x1c61('0xac6')][_0x1c61('0xd8')](),this[_0x1c61('0xab0')][_0x1c61('0xd8')](),this[_0x1c61('0xac6')]=_0x1108b5,this[_0x1c61('0xab0')]=_0x1108b5['clone'](),this[_0x1c61('0xac8')]=this['renderTarget1'],this[_0x1c61('0xac9')]=this['renderTarget2'];},'setSize':function(_0x1108b5,_0xf430f1){this[_0x1c61('0xac3')]=_0x1108b5,this['_height']=_0xf430f1;var _0x4f8cf2=this[_0x1c61('0xac3')]*this['_pixelRatio'],_0x48b863=this[_0x1c61('0xac4')]*this[_0x1c61('0xac1')];this[_0x1c61('0xac6')][_0x1c61('0xe8')](_0x4f8cf2,_0x48b863),this[_0x1c61('0xab0')]['setSize'](_0x4f8cf2,_0x48b863);for(var _0x5af096=0x0;_0x5af096<this[_0x1c61('0xaca')][_0x1c61('0xf')];_0x5af096++)this[_0x1c61('0xaca')][_0x5af096][_0x1c61('0xe8')](_0x4f8cf2,_0x48b863);},'setPixelRatio':function(_0x1108b5){this[_0x1c61('0xac1')]=_0x1108b5,this[_0x1c61('0xe8')](this[_0x1c61('0xac3')],this[_0x1c61('0xac4')]);}}),THREE[_0x1c61('0xad9')]=function(){this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0xab4')]=!0x0,this[_0x1c61('0x2e2')]=!0x1,this[_0x1c61('0xaae')]=!0x1;},(0x0,_0x4f8cf2['default'])(THREE['Pass'][_0x1c61('0xb')],{'setSize':function(){},'render':function(){console[_0x1c61('0x200')](_0x1c61('0xada'));}}),THREE[_0x1c61('0xad9')][_0x1c61('0xadb')]=(_0x48b863=new THREE[(_0x1c61('0x6cf'))](-0x1,0x1,0x1,-0x1,0x0,0x1),_0x5af096=new THREE[(_0x1c61('0x3d0'))](0x2,0x2),Object[_0x1c61('0x2')](_0x4a4254[_0x1c61('0xb')],_0x1c61('0x41'),{'get':function(){return this[_0x1c61('0xa38')][_0x1c61('0x41')];},'set':function(_0x1108b5){this[_0x1c61('0xa38')][_0x1c61('0x41')]=_0x1108b5;}}),(0x0,_0x4f8cf2[_0x1c61('0x8')])(_0x4a4254[_0x1c61('0xb')],{'render':function(_0x1108b5){_0x1108b5[_0x1c61('0x3d1')](this[_0x1c61('0xa38')],_0x48b863);}}),_0x4a4254);},function(_0x5978bc,_0xb54e3c,_0x581344){'use strict';var _0x5b550a=_0xd06c91(_0x581344(0x1d)),_0x581344=_0xd06c91(_0x581344(0xf));function _0xd06c91(_0x5978bc){return _0x5978bc&&_0x5978bc[_0x1c61('0x5')]?_0x5978bc:{'default':_0x5978bc};}THREE[_0x1c61('0xaa2')]=function(_0x5978bc,_0xb54e3c,_0x581344,_0x5b550a,_0xd06c91){THREE['Pass']['call'](this),this['scene']=_0x5978bc,this[_0x1c61('0x301')]=_0xb54e3c,this[_0x1c61('0xadc')]=_0x581344,this[_0x1c61('0xadd')]=_0x5b550a,this['clearAlpha']=void 0x0!==_0xd06c91?_0xd06c91:0x0,this[_0x1c61('0x2e2')]=!0x0,this[_0x1c61('0xabb')]=!0x1,this[_0x1c61('0xab4')]=!0x1;},THREE[_0x1c61('0xaa2')][_0x1c61('0xb')]=(0x0,_0x581344['default'])((0x0,_0x5b550a[_0x1c61('0x8')])(THREE[_0x1c61('0xad9')][_0x1c61('0xb')]),{'constructor':THREE[_0x1c61('0xaa2')],'render':function(_0x5978bc,_0xb54e3c,_0x581344){var _0x5b550a,_0xd06c91,_0x54ecc7=_0x5978bc[_0x1c61('0xade')];_0x5978bc[_0x1c61('0xade')]=!0x1,this['scene'][_0x1c61('0xadc')]=this[_0x1c61('0xadc')],this[_0x1c61('0xadd')]&&(_0x5b550a=_0x5978bc[_0x1c61('0xadf')]()[_0x1c61('0xae0')](),_0xd06c91=_0x5978bc[_0x1c61('0xae1')](),_0x5978bc[_0x1c61('0xae2')](this['clearColor'],this[_0x1c61('0xae3')])),this[_0x1c61('0xabb')]&&_0x5978bc[_0x1c61('0xabb')](),_0x5978bc[_0x1c61('0x6a6')](this[_0x1c61('0xaae')]?null:_0x581344),this[_0x1c61('0x2e2')]&&_0x5978bc[_0x1c61('0x2e2')](_0x5978bc[_0x1c61('0xae4')],_0x5978bc['autoClearDepth'],_0x5978bc[_0x1c61('0xae5')]),_0x5978bc[_0x1c61('0x3d1')](this[_0x1c61('0x456')],this[_0x1c61('0x301')]),this[_0x1c61('0xadd')]&&_0x5978bc[_0x1c61('0xae2')](_0x5b550a,_0xd06c91),this[_0x1c61('0x456')][_0x1c61('0xadc')]=null,_0x5978bc['autoClear']=_0x54ecc7;}});},function(_0x456363,_0xcc893,_0x456975){'use strict';var _0x34c887=_0x447425(_0x456975(0x1d)),_0x10c63a=_0x447425(_0x456975(0xf));function _0x447425(_0x456363){return _0x456363&&_0x456363['__esModule']?_0x456363:{'default':_0x456363};}THREE[_0x1c61('0xaa3')]=function(_0x456363,_0xcc893){THREE['Pass'][_0x1c61('0x0')](this),this[_0x1c61('0xae6')]=void 0x0!==_0xcc893?_0xcc893:'tDiffuse',_0x456363 instanceof THREE[_0x1c61('0x1ea')]?(this['uniforms']=_0x456363[_0x1c61('0x16a')],this[_0x1c61('0x41')]=_0x456363):_0x456363&&(this['uniforms']=THREE[_0x1c61('0x48f')]['clone'](_0x456363['uniforms']),this['material']=new THREE['ShaderMaterial']({'defines':(0x0,_0x10c63a[_0x1c61('0x8')])({},_0x456363[_0x1c61('0x169')]),'uniforms':this['uniforms'],'vertexShader':_0x456363[_0x1c61('0x56')],'fragmentShader':_0x456363['fragmentShader']})),this[_0x1c61('0xae7')]=new THREE[(_0x1c61('0xad9'))][(_0x1c61('0xadb'))](this[_0x1c61('0x41')]);},THREE[_0x1c61('0xaa3')][_0x1c61('0xb')]=(0x0,_0x10c63a[_0x1c61('0x8')])((0x0,_0x34c887[_0x1c61('0x8')])(THREE[_0x1c61('0xad9')]['prototype']),{'constructor':THREE[_0x1c61('0xaa3')],'render':function(_0x456363,_0xcc893,_0x456975){this[_0x1c61('0x16a')][this[_0x1c61('0xae6')]]&&(this[_0x1c61('0x16a')][this['textureID']][_0x1c61('0x1c')]=_0x456975[_0x1c61('0x1c9')]),this[_0x1c61('0xae7')][_0x1c61('0x41')]=this[_0x1c61('0x41')],this[_0x1c61('0xaae')]?_0x456363[_0x1c61('0x6a6')](null):(_0x456363[_0x1c61('0x6a6')](_0xcc893),this[_0x1c61('0x2e2')]&&_0x456363[_0x1c61('0x2e2')](_0x456363[_0x1c61('0xae4')],_0x456363[_0x1c61('0xae8')],_0x456363[_0x1c61('0xae5')])),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0x456363);}});},function(_0xa5dbc0,_0x3c8beb,_0x39cea1){'use strict';var _0x41c6b0=_0x3b7e10(_0x39cea1(0x1d)),_0x39cea1=_0x3b7e10(_0x39cea1(0xf));function _0x3b7e10(_0xa5dbc0){return _0xa5dbc0&&_0xa5dbc0[_0x1c61('0x5')]?_0xa5dbc0:{'default':_0xa5dbc0};}THREE['UnrealBloomPass']=function(_0xa5dbc0,_0x3c8beb,_0x39cea1,_0x41c6b0){THREE[_0x1c61('0xad9')]['call'](this),this[_0x1c61('0xaaa')]=void 0x0!==_0x3c8beb?_0x3c8beb:0x1,this[_0x1c61('0x226')]=_0x39cea1,this[_0x1c61('0xaa9')]=_0x41c6b0,this['resolution']=void 0x0!==_0xa5dbc0?new THREE[(_0x1c61('0x1cf'))](_0xa5dbc0['x'],_0xa5dbc0['y']):new THREE[(_0x1c61('0x1cf'))](0x100,0x100),this[_0x1c61('0xadd')]=new THREE[(_0x1c61('0x1ba'))](0x0,0x0,0x0);var _0x3b7e10={'minFilter':THREE[_0x1c61('0x3ef')],'magFilter':THREE[_0x1c61('0x3ef')],'format':THREE[_0x1c61('0xa9f')]},_0x30d74c=(this[_0x1c61('0xae9')]=[],this[_0x1c61('0xaea')]=[],this[_0x1c61('0xaeb')]=0x5,Math[_0x1c61('0x1c0')](this[_0x1c61('0x2fe')]['x']/0x2)),_0x2e79d0=Math[_0x1c61('0x1c0')](this[_0x1c61('0x2fe')]['y']/0x2);this[_0x1c61('0xaec')]=new THREE[(_0x1c61('0x695'))](_0x30d74c,_0x2e79d0,_0x3b7e10),this[_0x1c61('0xaec')][_0x1c61('0x1c9')][_0x1c61('0x7b')]='UnrealBloomPass.bright',this['renderTargetBright']['texture'][_0x1c61('0x697')]=!0x1;for(var _0x132833=0x0;_0x132833<this['nMips'];_0x132833++){var _0x3200b1=new THREE[(_0x1c61('0x695'))](_0x30d74c,_0x2e79d0,_0x3b7e10),_0x3200b1=(_0x3200b1[_0x1c61('0x1c9')][_0x1c61('0x7b')]='UnrealBloomPass.h'+_0x132833,_0x3200b1['texture'][_0x1c61('0x697')]=!0x1,this[_0x1c61('0xae9')]['push'](_0x3200b1),new THREE[(_0x1c61('0x695'))](_0x30d74c,_0x2e79d0,_0x3b7e10));_0x3200b1[_0x1c61('0x1c9')]['name']=_0x1c61('0xaed')+_0x132833,_0x3200b1[_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this['renderTargetsVertical'][_0x1c61('0x6f')](_0x3200b1),_0x30d74c=Math[_0x1c61('0x1c0')](_0x30d74c/0x2),_0x2e79d0=Math[_0x1c61('0x1c0')](_0x2e79d0/0x2);}void 0x0===THREE[_0x1c61('0xaee')]&&console[_0x1c61('0x200')](_0x1c61('0xaef'));for(var _0x39cea1=THREE['LuminosityHighPassShader'],_0x53b56f=(this[_0x1c61('0xaf0')]=THREE[_0x1c61('0x48f')][_0x1c61('0x1b1')](_0x39cea1[_0x1c61('0x16a')]),this['highPassUniforms'][_0x1c61('0xaf1')][_0x1c61('0x1c')]=_0x41c6b0,this['highPassUniforms'][_0x1c61('0xaf2')][_0x1c61('0x1c')]=0.01,this[_0x1c61('0xaf3')]=new THREE[(_0x1c61('0x1ea'))]({'uniforms':this[_0x1c61('0xaf0')],'vertexShader':_0x39cea1[_0x1c61('0x56')],'fragmentShader':_0x39cea1['fragmentShader'],'defines':{}}),this[_0x1c61('0xaf4')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x30d74c=Math['round'](this[_0x1c61('0x2fe')]['x']/0x2),_0x2e79d0=Math[_0x1c61('0x1c0')](this[_0x1c61('0x2fe')]['y']/0x2),_0x132833=0x0;_0x132833<this[_0x1c61('0xaeb')];_0x132833++)this[_0x1c61('0xaf4')][_0x1c61('0x6f')](this['getSeperableBlurMaterial'](_0x53b56f[_0x132833])),this[_0x1c61('0xaf4')][_0x132833]['uniforms']['texSize'][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](_0x30d74c,_0x2e79d0),_0x30d74c=Math[_0x1c61('0x1c0')](_0x30d74c/0x2),_0x2e79d0=Math[_0x1c61('0x1c0')](_0x2e79d0/0x2);this[_0x1c61('0xaf5')]=this['getCompositeMaterial'](this[_0x1c61('0xaeb')]),this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaf6')]['value']=this[_0x1c61('0xaea')][0x0]['texture'],this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaf7')][_0x1c61('0x1c')]=this[_0x1c61('0xaea')][0x1]['texture'],this[_0x1c61('0xaf5')]['uniforms'][_0x1c61('0xaf8')][_0x1c61('0x1c')]=this['renderTargetsVertical'][0x2][_0x1c61('0x1c9')],this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaf9')][_0x1c61('0x1c')]=this[_0x1c61('0xaea')][0x3][_0x1c61('0x1c9')],this['compositeMaterial'][_0x1c61('0x16a')][_0x1c61('0xafa')][_0x1c61('0x1c')]=this[_0x1c61('0xaea')][0x4][_0x1c61('0x1c9')],this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaab')][_0x1c61('0x1c')]=_0x3c8beb,this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaac')][_0x1c61('0x1c')]=0.1,this[_0x1c61('0xaf5')][_0x1c61('0x108')]=!0x0,this['compositeMaterial'][_0x1c61('0x16a')]['bloomFactors'][_0x1c61('0x1c')]=[0x1,0.8,0.6,0.4,0.2],this[_0x1c61('0xafb')]=[new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1),new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1)],this['compositeMaterial'][_0x1c61('0x16a')]['bloomTintColors'][_0x1c61('0x1c')]=this['bloomTintColors'],void 0x0===THREE['CopyShader']&&console[_0x1c61('0x200')](_0x1c61('0xafc'));_0xa5dbc0=THREE[_0x1c61('0xacb')];this[_0x1c61('0xafd')]=THREE[_0x1c61('0x48f')][_0x1c61('0x1b1')](_0xa5dbc0[_0x1c61('0x16a')]),this[_0x1c61('0xafd')]['opacity'][_0x1c61('0x1c')]=0x1,this[_0x1c61('0xafe')]=new THREE[(_0x1c61('0x1ea'))]({'uniforms':this['copyUniforms'],'vertexShader':_0xa5dbc0[_0x1c61('0x56')],'fragmentShader':_0xa5dbc0[_0x1c61('0x57')],'blending':THREE[_0x1c61('0x1d9')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this['enabled']=!0x0,this[_0x1c61('0xab4')]=!0x1,this['oldClearColor']=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0xaff')]=0x1,this[_0x1c61('0x71f')]=new THREE['MeshBasicMaterial'](),this[_0x1c61('0xae7')]=new THREE['Pass'][(_0x1c61('0xadb'))](null);},THREE['UnrealBloomPass']['prototype']=(0x0,_0x39cea1[_0x1c61('0x8')])((0x0,_0x41c6b0[_0x1c61('0x8')])(THREE[_0x1c61('0xad9')]['prototype']),{'constructor':THREE[_0x1c61('0xaa8')],'dispose':function(){for(var _0xa5dbc0=0x0;_0xa5dbc0<this['renderTargetsHorizontal'][_0x1c61('0xf')];_0xa5dbc0++)this['renderTargetsHorizontal'][_0xa5dbc0]['dispose']();for(_0xa5dbc0=0x0;_0xa5dbc0<this[_0x1c61('0xaea')][_0x1c61('0xf')];_0xa5dbc0++)this['renderTargetsVertical'][_0xa5dbc0][_0x1c61('0xd8')]();this[_0x1c61('0xaec')][_0x1c61('0xd8')]();},'setSize':function(_0xa5dbc0,_0x3c8beb){var _0x39cea1=Math[_0x1c61('0x1c0')](_0xa5dbc0/0x2),_0x41c6b0=Math[_0x1c61('0x1c0')](_0x3c8beb/0x2);this['renderTargetBright'][_0x1c61('0xe8')](_0x39cea1,_0x41c6b0);for(var _0x3b7e10=0x0;_0x3b7e10<this['nMips'];_0x3b7e10++)this[_0x1c61('0xae9')][_0x3b7e10][_0x1c61('0xe8')](_0x39cea1,_0x41c6b0),this['renderTargetsVertical'][_0x3b7e10][_0x1c61('0xe8')](_0x39cea1,_0x41c6b0),this[_0x1c61('0xaf4')][_0x3b7e10][_0x1c61('0x16a')][_0x1c61('0xb00')]['value']=new THREE[(_0x1c61('0x1cf'))](_0x39cea1,_0x41c6b0),_0x39cea1=Math[_0x1c61('0x1c0')](_0x39cea1/0x2),_0x41c6b0=Math[_0x1c61('0x1c0')](_0x41c6b0/0x2);},'render':function(_0xa5dbc0,_0x3c8beb,_0x39cea1,_0x41c6b0,_0x3b7e10){this[_0x1c61('0xb01')][_0x1c61('0x1c2')](_0xa5dbc0['getClearColor']()),this['oldClearAlpha']=_0xa5dbc0['getClearAlpha']();for(var _0x202359=_0xa5dbc0[_0x1c61('0xade')],_0x1b489=(_0xa5dbc0['autoClear']=!0x1,_0xa5dbc0[_0x1c61('0xae2')](this[_0x1c61('0xadd')],0x0),_0x3b7e10&&_0xa5dbc0['context'][_0x1c61('0x269')](_0xa5dbc0[_0x1c61('0xad2')]['STENCIL_TEST']),this[_0x1c61('0xaae')]&&(this['fsQuad'][_0x1c61('0x41')]=this['basic'],this[_0x1c61('0x71f')][_0x1c61('0xd9')]=_0x39cea1[_0x1c61('0x1c9')],_0xa5dbc0[_0x1c61('0x6a6')](null),_0xa5dbc0['clear'](),this[_0x1c61('0xae7')]['render'](_0xa5dbc0)),this[_0x1c61('0xaf0')]['tDiffuse'][_0x1c61('0x1c')]=_0x39cea1[_0x1c61('0x1c9')],this[_0x1c61('0xaf0')][_0x1c61('0xaf1')][_0x1c61('0x1c')]=this[_0x1c61('0xaa9')],this[_0x1c61('0xae7')][_0x1c61('0x41')]=this['materialHighPassFilter'],_0xa5dbc0['setRenderTarget'](this[_0x1c61('0xaec')]),_0xa5dbc0[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xa5dbc0),this[_0x1c61('0xaec')]),_0x18548b=0x0;_0x18548b<this[_0x1c61('0xaeb')];_0x18548b++)this[_0x1c61('0xae7')][_0x1c61('0x41')]=this[_0x1c61('0xaf4')][_0x18548b],this[_0x1c61('0xaf4')][_0x18548b][_0x1c61('0x16a')][_0x1c61('0xb02')]['value']=_0x1b489[_0x1c61('0x1c9')],this['separableBlurMaterials'][_0x18548b][_0x1c61('0x16a')][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE[_0x1c61('0xaa8')][_0x1c61('0xb03')],_0xa5dbc0[_0x1c61('0x6a6')](this['renderTargetsHorizontal'][_0x18548b]),_0xa5dbc0[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xa5dbc0),this[_0x1c61('0xaf4')][_0x18548b][_0x1c61('0x16a')]['colorTexture'][_0x1c61('0x1c')]=this['renderTargetsHorizontal'][_0x18548b][_0x1c61('0x1c9')],this[_0x1c61('0xaf4')][_0x18548b][_0x1c61('0x16a')][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE['UnrealBloomPass'][_0x1c61('0xb04')],_0xa5dbc0['setRenderTarget'](this[_0x1c61('0xaea')][_0x18548b]),_0xa5dbc0[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xa5dbc0),_0x1b489=this[_0x1c61('0xaea')][_0x18548b];this[_0x1c61('0xae7')][_0x1c61('0x41')]=this['compositeMaterial'],this[_0x1c61('0xaf5')]['uniforms'][_0x1c61('0xaab')]['value']=this[_0x1c61('0xaaa')],this[_0x1c61('0xaf5')][_0x1c61('0x16a')][_0x1c61('0xaac')][_0x1c61('0x1c')]=this[_0x1c61('0x226')],this[_0x1c61('0xaf5')]['uniforms'][_0x1c61('0xafb')][_0x1c61('0x1c')]=this[_0x1c61('0xafb')],_0xa5dbc0[_0x1c61('0x6a6')](this[_0x1c61('0xae9')][0x0]),_0xa5dbc0[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xa5dbc0),this[_0x1c61('0xae7')][_0x1c61('0x41')]=this['materialCopy'],this[_0x1c61('0xafd')][_0x1c61('0xb05')][_0x1c61('0x1c')]=this[_0x1c61('0xae9')][0x0]['texture'],_0x3b7e10&&_0xa5dbc0[_0x1c61('0xad2')][_0x1c61('0x552')](_0xa5dbc0[_0x1c61('0xad2')]['STENCIL_TEST']),this[_0x1c61('0xaae')]?_0xa5dbc0['setRenderTarget'](null):_0xa5dbc0['setRenderTarget'](_0x39cea1),this[_0x1c61('0xae7')]['render'](_0xa5dbc0),_0xa5dbc0[_0x1c61('0xae2')](this[_0x1c61('0xb01')],this[_0x1c61('0xaff')]),_0xa5dbc0[_0x1c61('0xade')]=_0x202359;},'getSeperableBlurMaterial':function(_0xa5dbc0){return new THREE[(_0x1c61('0x1ea'))]({'defines':{'KERNEL_RADIUS':_0xa5dbc0,'SIGMA':_0xa5dbc0},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x1c61('0x1cf'))](0.5,0.5)},'direction':{'value':new THREE['Vector2'](0.5,0.5)}},'vertexShader':_0x1c61('0x6b4'),'fragmentShader':_0x1c61('0xb06')});},'getCompositeMaterial':function(_0xa5dbc0){return new THREE[(_0x1c61('0x1ea'))]({'defines':{'NUM_MIPS':_0xa5dbc0},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x1c61('0x6b4'),'fragmentShader':_0x1c61('0xb07')});}}),THREE['UnrealBloomPass'][_0x1c61('0xb03')]=new THREE['Vector2'](0x1,0x0),THREE[_0x1c61('0xaa8')][_0x1c61('0xb04')]=new THREE[(_0x1c61('0x1cf'))](0x0,0x1);},function(_0xcd69ff,_0x576571,_0x3ef726){'use strict';THREE[_0x1c61('0xacb')]={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':[_0x1c61('0xb08'),_0x1c61('0x178'),_0x1c61('0xb09'),_0x1c61('0xb0a'),'}'][_0x1c61('0x112')]('\x0a'),'fragmentShader':[_0x1c61('0x3cc'),_0x1c61('0xb0b'),_0x1c61('0xb08'),_0x1c61('0x178'),_0x1c61('0xb0c'),_0x1c61('0xb0d'),'}']['join']('\x0a')};},function(_0x293560,_0x34ad78,_0x3952af){'use strict';THREE['LuminosityHighPassShader']={'shaderID':_0x1c61('0xb0e'),'uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE[(_0x1c61('0x1ba'))](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':['varying\x20vec2\x20vUv;','void\x20main()\x20{',_0x1c61('0xb09'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x1c61('0x112')]('\x0a'),'fragmentShader':[_0x1c61('0xb0b'),_0x1c61('0xb0f'),'uniform\x20float\x20defaultOpacity;',_0x1c61('0xb10'),'uniform\x20float\x20smoothWidth;',_0x1c61('0xb08'),_0x1c61('0x178'),_0x1c61('0xb0c'),'vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);',_0x1c61('0xb11'),_0x1c61('0xb12'),_0x1c61('0xb13'),'gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','}'][_0x1c61('0x112')]('\x0a')};},function(_0xf649ad,_0x38303b,_0x391f2e){'use strict';THREE[_0x1c61('0xaa4')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE['Vector2'](0x1/0x400,0x1/0x200)}},'vertexShader':[_0x1c61('0xb08'),_0x1c61('0x178'),_0x1c61('0xb09'),_0x1c61('0xb0a'),'}'][_0x1c61('0x112')]('\x0a'),'fragmentShader':[_0x1c61('0xb14'),'','uniform\x20sampler2D\x20tDiffuse;','','uniform\x20vec2\x20resolution;','','varying\x20vec2\x20vUv;','',_0x1c61('0xb15'),'','//----------------------------------------------------------------------------------',_0x1c61('0xb16'),_0x1c61('0xb17'),_0x1c61('0xb18'),_0x1c61('0xb19'),'//',_0x1c61('0xb1a'),'//',_0x1c61('0xb1b'),'//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions',_0x1c61('0xb1c'),'//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.',_0x1c61('0xb1d'),_0x1c61('0xb1e'),_0x1c61('0xb1f'),_0x1c61('0xb20'),_0x1c61('0xb21'),_0x1c61('0xb22'),'//',_0x1c61('0xb23'),_0x1c61('0xb24'),_0x1c61('0xb25'),_0x1c61('0xb26'),_0x1c61('0xb27'),_0x1c61('0xb28'),_0x1c61('0xb29'),'//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY',_0x1c61('0xb2a'),_0x1c61('0xb2b'),'//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','//','//----------------------------------------------------------------------------------','','#define\x20FXAA_PC\x201',_0x1c61('0xb2c'),_0x1c61('0xb2d'),'','#define\x20FXAA_GREEN_AS_LUMA\x201','','/*--------------------------------------------------------------------------*/',_0x1c61('0xb2e'),_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included',_0x1c61('0xb30'),_0x1c61('0xb31'),'\x20\x20\x20\x20//',_0x1c61('0xb32'),'#endif',_0x1c61('0xb33'),_0x1c61('0xb34'),_0x1c61('0xb35'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb36'),_0x1c61('0xb37'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb38'),'\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','#endif',_0x1c61('0xb33'),_0x1c61('0xb39'),_0x1c61('0xb3a'),_0x1c61('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xb3b'),_0x1c61('0xb3c'),_0x1c61('0x11e'),_0x1c61('0xb3d'),_0x1c61('0xb3e'),_0x1c61('0xb2f'),_0x1c61('0xb3f'),_0x1c61('0xb40'),_0x1c61('0xb41'),_0x1c61('0xb42'),'\x20\x20\x20\x20//',_0x1c61('0xb43'),_0x1c61('0xb44'),'\x20\x20\x20\x20//',_0x1c61('0xb45'),_0x1c61('0xb46'),_0x1c61('0xb47'),_0x1c61('0xb48'),'\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.',_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x201\x20=\x20On.',_0x1c61('0xb49'),_0x1c61('0xb2f'),_0x1c61('0xb4a'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb4b'),_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.',_0x1c61('0xb4c'),_0x1c61('0xb4d'),_0x1c61('0xb4e'),_0x1c61('0xb4f'),_0x1c61('0xb2f'),_0x1c61('0xb50'),_0x1c61('0xb49'),'\x20\x20\x20\x20//',_0x1c61('0xb51'),_0x1c61('0x11e'),_0x1c61('0xb33'),'#ifndef\x20FXAA_DISCARD',_0x1c61('0xb2f'),_0x1c61('0xb52'),'\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.','\x20\x20\x20\x20//',_0x1c61('0xb53'),_0x1c61('0xb54'),_0x1c61('0xb55'),_0x1c61('0xb2f'),_0x1c61('0xb56'),_0x1c61('0x11e'),_0x1c61('0xb33'),'#ifndef\x20FXAA_FAST_PIXEL_OFFSET',_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.',_0x1c61('0xb2f'),_0x1c61('0xb57'),_0x1c61('0xb58'),_0x1c61('0xb2f'),'\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4',_0x1c61('0xb59'),'\x20\x20\x20\x20#endif',_0x1c61('0xb5a'),_0x1c61('0xb59'),_0x1c61('0x162'),_0x1c61('0xb5b'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201',_0x1c61('0x162'),_0x1c61('0xb5c'),_0x1c61('0xb5d'),_0x1c61('0x162'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb5e'),_0x1c61('0xb2f'),_0x1c61('0xb5f'),_0x1c61('0xb60'),_0x1c61('0xb2f'),_0x1c61('0xb61'),_0x1c61('0xb62'),_0x1c61('0x162'),_0x1c61('0xb5b'),_0x1c61('0xb62'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5',_0x1c61('0xb62'),_0x1c61('0x162'),_0x1c61('0xb63'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200',_0x1c61('0x162'),'#endif','','',_0x1c61('0xb64'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS','------------------------------------------------------------------------------',_0x1c61('0xb65'),_0x1c61('0xb66'),_0x1c61('0xb67'),_0x1c61('0xb2f'),_0x1c61('0xb68'),_0x1c61('0xb69'),_0x1c61('0xb6a'),_0x1c61('0xb6b'),'\x20\x20\x20\x20//',_0x1c61('0xb6c'),'\x20\x20\x20\x20//\x20-----------------------------------------------------------------------',_0x1c61('0xb6d'),_0x1c61('0xb6e'),'\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive',_0x1c61('0xb2f'),_0x1c61('0xb6f'),_0x1c61('0xb70'),_0x1c61('0xb71'),_0x1c61('0xb72'),_0x1c61('0xb73'),_0x1c61('0xb74'),'\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style',_0x1c61('0xb2f'),_0x1c61('0xb75'),_0x1c61('0x11e'),'','','/*============================================================================','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','','============================================================================*/','',_0x1c61('0xb64'),_0x1c61('0xb76'),_0x1c61('0xb66'),_0x1c61('0xb77'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5',_0x1c61('0xb78'),_0x1c61('0xb79'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb7a'),_0x1c61('0xb7b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1c61('0xb7c'),_0x1c61('0xb7d'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0',_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb7e'),_0x1c61('0xb7f'),_0x1c61('0xb80'),_0x1c61('0xb7c'),_0x1c61('0xb81'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0',_0x1c61('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xb82'),_0x1c61('0xb83'),_0x1c61('0xb80'),_0x1c61('0xb7c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x1c61('0xb84'),_0x1c61('0xb85'),'#endif',_0x1c61('0xb33'),_0x1c61('0xb86'),_0x1c61('0xb87'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1c61('0xb7c'),_0x1c61('0xb81'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x1c61('0xb88'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0',_0x1c61('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xb89'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208',_0x1c61('0xb80'),_0x1c61('0xb7c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb8c'),_0x1c61('0xb8d'),_0x1c61('0xb8e'),_0x1c61('0x11e'),'',_0x1c61('0xb64'),_0x1c61('0xb8f'),_0x1c61('0xb66'),_0x1c61('0xb90'),_0x1c61('0xb91'),_0x1c61('0xb92'),_0x1c61('0xb93'),_0x1c61('0xb94'),'#endif',_0x1c61('0xb33'),_0x1c61('0xb95'),_0x1c61('0xb7b'),_0x1c61('0xb80'),_0x1c61('0xb7c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1c61('0xb96'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb97'),_0x1c61('0xb7f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1c61('0xb81'),_0x1c61('0xb8a'),_0x1c61('0xb98'),_0x1c61('0x11e'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206',_0x1c61('0xb80'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1c61('0xb81'),_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb99'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xb9a'),_0x1c61('0xb87'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1c61('0xb81'),_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb9b'),_0x1c61('0xb9c'),'#endif',_0x1c61('0xb33'),_0x1c61('0xb9d'),_0x1c61('0xb9e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1c61('0xb7c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb8c'),_0x1c61('0xb8d'),_0x1c61('0xb9f'),'#endif',_0x1c61('0xb33'),_0x1c61('0xba0'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209',_0x1c61('0xb80'),_0x1c61('0xb7c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb8c'),_0x1c61('0xba1'),_0x1c61('0xba2'),_0x1c61('0xba3'),_0x1c61('0x11e'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xba4'),_0x1c61('0xba5'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1c61('0xb81'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x1c61('0xb8c'),_0x1c61('0xba1'),_0x1c61('0xba6'),_0x1c61('0xba7'),_0x1c61('0xba8'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xba9'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011',_0x1c61('0xb80'),_0x1c61('0xb7c'),_0x1c61('0xb81'),_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb8c'),_0x1c61('0xba1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0',_0x1c61('0xbaa'),_0x1c61('0xbab'),_0x1c61('0xbac'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xbad'),_0x1c61('0xbae'),_0x1c61('0xb80'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1c61('0xb81'),_0x1c61('0xb8a'),_0x1c61('0xb8b'),_0x1c61('0xb8c'),_0x1c61('0xba1'),_0x1c61('0xba6'),_0x1c61('0xbaa'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0',_0x1c61('0xbaf'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0',_0x1c61('0x11e'),'','/*============================================================================','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY',_0x1c61('0xb66'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)',_0x1c61('0xbae'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1c61('0xbb0'),_0x1c61('0xbb1'),_0x1c61('0xbb2'),_0x1c61('0xbb3'),_0x1c61('0xbb4'),_0x1c61('0xba1'),_0x1c61('0xba6'),_0x1c61('0xbaa'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0',_0x1c61('0xbb5'),_0x1c61('0x11e'),'','','',_0x1c61('0xb64'),'',_0x1c61('0xbb6'),'',_0x1c61('0xb66'),_0x1c61('0xbb7'),_0x1c61('0xbb8'),_0x1c61('0xbb9'),_0x1c61('0xbba'),_0x1c61('0xbbb'),_0x1c61('0xbbc'),_0x1c61('0xbbd'),_0x1c61('0xbbe'),_0x1c61('0xbbf'),_0x1c61('0xbc0'),_0x1c61('0xbc1'),'\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)',_0x1c61('0xbc2'),'#else',_0x1c61('0xbb8'),'\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)',_0x1c61('0xbba'),_0x1c61('0xbc3'),_0x1c61('0xbc4'),_0x1c61('0xbc5'),_0x1c61('0xbc6'),_0x1c61('0xbc7'),'\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3',_0x1c61('0xbc8'),_0x1c61('0xbc9'),_0x1c61('0x11e'),_0x1c61('0xb33'),'#if\x20(FXAA_GLSL_100\x20==\x201)',_0x1c61('0xbca'),'\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)',_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xbcb'),_0x1c61('0xbcc'),_0x1c61('0xbcd'),'\x20\x20\x20\x20//\x20And\x20at\x20least,',_0x1c61('0xbce'),_0x1c61('0xbcf'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)',_0x1c61('0xbd0'),_0x1c61('0x193'),_0x1c61('0xbd1'),_0x1c61('0x162'),'\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)',_0x1c61('0xbd2'),_0x1c61('0xbd3'),_0x1c61('0xbd4'),_0x1c61('0xbd5'),_0x1c61('0xbd6'),'\x20\x20\x20\x20#endif',_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xbd7'),_0x1c61('0xbd8'),_0x1c61('0xbd9'),_0x1c61('0xbda'),_0x1c61('0xbdb'),_0x1c61('0xbd2'),_0x1c61('0xbd3'),_0x1c61('0xbd4'),_0x1c61('0xbd5'),_0x1c61('0xbd6'),_0x1c61('0x162'),_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xbdc'),_0x1c61('0xbdd'),_0x1c61('0xbc2'),_0x1c61('0xbde'),'\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))',_0x1c61('0x11e'),_0x1c61('0xb33'),_0x1c61('0xbdf'),_0x1c61('0xbe0'),_0x1c61('0xbe1'),_0x1c61('0xbe2'),'\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)',_0x1c61('0x11e'),_0x1c61('0xb33'),'#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2',_0x1c61('0xbe1'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)',_0x1c61('0xbe3'),_0x1c61('0xbe4'),_0x1c61('0xbe5'),'\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)',_0x1c61('0xbe6'),_0x1c61('0x11e'),'','',_0x1c61('0xb64'),_0x1c61('0xbe7'),'============================================================================*/',_0x1c61('0xbe8'),'\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}',_0x1c61('0xbe9'),_0x1c61('0xbea'),_0x1c61('0x11e'),'','','','',_0x1c61('0xb64'),'',_0x1c61('0xbeb'),'',_0x1c61('0xb66'),_0x1c61('0xbec'),_0x1c61('0xb33'),_0x1c61('0xbed'),_0x1c61('0xb2f'),_0x1c61('0xbee'),_0x1c61('0xbef'),_0x1c61('0xbf0'),'\x20\x20\x20\x20//',_0x1c61('0xbf1'),_0x1c61('0xbee'),_0x1c61('0xbf2'),_0x1c61('0xbf3'),_0x1c61('0xbf4'),_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20Input\x20color\x20texture.',_0x1c61('0xbf5'),_0x1c61('0xbf6'),_0x1c61('0xbf7'),'\x20\x20\x20\x20FxaaTex\x20tex,',_0x1c61('0xb2f'),_0x1c61('0xbf8'),_0x1c61('0xbf9'),_0x1c61('0xbfa'),_0x1c61('0xbfb'),'\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,',_0x1c61('0xb2f'),_0x1c61('0xbf8'),'\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.',_0x1c61('0xbfc'),_0x1c61('0xbfd'),_0x1c61('0xbfe'),_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.',_0x1c61('0xbff'),_0x1c61('0xc00'),'\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels',_0x1c61('0xc01'),_0x1c61('0xb2f'),_0x1c61('0xc02'),'\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x1c61('0xc03'),'\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,',_0x1c61('0xc04'),_0x1c61('0xc05'),'\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels',_0x1c61('0xc06'),_0x1c61('0xc07'),_0x1c61('0xc08'),_0x1c61('0xc09'),'\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.',_0x1c61('0xbff'),_0x1c61('0xc0a'),_0x1c61('0xc0b'),'\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels',_0x1c61('0xc0c'),_0x1c61('0xc0d'),_0x1c61('0xb2f'),_0x1c61('0xc02'),_0x1c61('0xc0e'),'\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x1c61('0xc0f'),_0x1c61('0xc10'),_0x1c61('0xc11'),_0x1c61('0xc12'),_0x1c61('0xc13'),_0x1c61('0xb2f'),_0x1c61('0xc14'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.',_0x1c61('0xc15'),_0x1c61('0xc16'),_0x1c61('0xc17'),'\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering','\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)',_0x1c61('0xc18'),_0x1c61('0xc19'),_0x1c61('0xc1a'),_0x1c61('0xb2f'),_0x1c61('0xc14'),_0x1c61('0xc1b'),_0x1c61('0xc15'),_0x1c61('0xc1c'),_0x1c61('0xc1d'),'\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality',_0x1c61('0xc1e'),_0x1c61('0xc1f'),_0x1c61('0xc20'),_0x1c61('0xc21'),_0x1c61('0xb2f'),_0x1c61('0xc14'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x1c61('0xc22'),_0x1c61('0xc23'),_0x1c61('0xc24'),_0x1c61('0xc25'),_0x1c61('0xc26'),_0x1c61('0xc27'),_0x1c61('0xc28'),_0x1c61('0xc29'),_0x1c61('0xc2a'),_0x1c61('0xc2b'),_0x1c61('0xc2c'),_0x1c61('0xb2f'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x1c61('0xc2d'),'\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x1c61('0xc2e'),_0x1c61('0xc2f'),_0x1c61('0xc30'),_0x1c61('0xc31'),_0x1c61('0xc32'),_0x1c61('0xc33'),_0x1c61('0xc34'),_0x1c61('0xc35'),_0x1c61('0xc36'),'\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,',_0x1c61('0xb2f'),_0x1c61('0xc02'),_0x1c61('0xc37'),_0x1c61('0xc15'),_0x1c61('0xc2e'),_0x1c61('0xc38'),'\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,',_0x1c61('0xc39'),'\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.',_0x1c61('0xc3a'),_0x1c61('0xc3b'),'\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,',_0x1c61('0xb2f'),_0x1c61('0xc02'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.',_0x1c61('0xc3c'),'\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,',_0x1c61('0xc3d'),_0x1c61('0xc3e'),'\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default',_0x1c61('0xc3f'),_0x1c61('0xc26'),'\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.',_0x1c61('0xc28'),'\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,',_0x1c61('0xb2f'),_0x1c61('0xc40'),_0x1c61('0xc41'),_0x1c61('0xc42'),'\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.',_0x1c61('0xc43'),_0x1c61('0xc44'),')\x20{',_0x1c61('0xb33'),_0x1c61('0xc45'),'\x20\x20\x20\x20posM.x\x20=\x20pos.x;',_0x1c61('0xc46'),_0x1c61('0xbdb'),_0x1c61('0xc47'),_0x1c61('0xc48'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w',_0x1c61('0xc49'),_0x1c61('0xc4a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1c61('0xc4b'),_0x1c61('0xc4c'),_0x1c61('0xc4d'),_0x1c61('0xc4e'),_0x1c61('0xc4f'),_0x1c61('0xc50'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));',_0x1c61('0xc4b'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)',_0x1c61('0xc51'),_0x1c61('0xc4b'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z',_0x1c61('0xc52'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z',_0x1c61('0xc53'),_0x1c61('0x193'),_0x1c61('0xc54'),_0x1c61('0xc4c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1c61('0xc55'),_0x1c61('0xc56'),_0x1c61('0xc57'),_0x1c61('0xc58'),_0x1c61('0xc59'),'\x20\x20\x20\x20\x20\x20\x20\x20#else',_0x1c61('0xc5a'),_0x1c61('0xc5b'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));',_0x1c61('0xc5c'),_0x1c61('0xc4b'),'\x20\x20\x20\x20#endif',_0x1c61('0xb33'),'\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);',_0x1c61('0xc5d'),_0x1c61('0xc5e'),_0x1c61('0xc5f'),_0x1c61('0xc60'),_0x1c61('0xc61'),_0x1c61('0xc62'),'\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);',_0x1c61('0xc63'),_0x1c61('0xc64'),_0x1c61('0xc65'),_0x1c61('0xc66'),_0x1c61('0xb33'),'\x20\x20\x20\x20if(earlyExit)',_0x1c61('0xc67'),_0x1c61('0xc68'),_0x1c61('0xc4f'),_0x1c61('0xc69'),_0x1c61('0xc4b'),_0x1c61('0xb33'),_0x1c61('0xc6a'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)',_0x1c61('0xc6b'),_0x1c61('0xc6c'),_0x1c61('0xc6d'),_0x1c61('0xc6e'),_0x1c61('0xc4f'),_0x1c61('0xc6f'),_0x1c61('0xc70'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));',_0x1c61('0xc71'),_0x1c61('0xc4b'),_0x1c61('0x193'),_0x1c61('0xc72'),_0x1c61('0xc73'),_0x1c61('0x162'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xc74'),_0x1c61('0xc75'),_0x1c61('0xc76'),_0x1c61('0xc77'),_0x1c61('0xc78'),_0x1c61('0xc79'),_0x1c61('0xb33'),_0x1c61('0xc7a'),_0x1c61('0xc7b'),_0x1c61('0xc7c'),_0x1c61('0xc7d'),_0x1c61('0xb33'),_0x1c61('0xc7e'),'\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;',_0x1c61('0xc7f'),_0x1c61('0xc80'),_0x1c61('0xc81'),_0x1c61('0xc82'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;',_0x1c61('0xc83'),_0x1c61('0xb33'),_0x1c61('0xc84'),_0x1c61('0xc85'),_0x1c61('0xc86'),'\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;',_0x1c61('0xb33'),_0x1c61('0xc87'),_0x1c61('0xc88'),'\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;',_0x1c61('0xc89'),_0x1c61('0xb33'),'\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;',_0x1c61('0xc8a'),'\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;',_0x1c61('0xc8b'),_0x1c61('0xc8c'),_0x1c61('0xc8d'),_0x1c61('0xc8e'),_0x1c61('0xc8f'),_0x1c61('0xb33'),_0x1c61('0xc90'),_0x1c61('0xc91'),'\x20\x20\x20\x20posB.y\x20=\x20posM.y;',_0x1c61('0xc92'),'\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;',_0x1c61('0xc93'),_0x1c61('0xc94'),_0x1c61('0xc95'),_0x1c61('0xb33'),_0x1c61('0xc96'),_0x1c61('0xc97'),'\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;',_0x1c61('0xc98'),_0x1c61('0xc99'),_0x1c61('0xc9a'),_0x1c61('0xc9b'),'\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));',_0x1c61('0xc9c'),_0x1c61('0xc9d'),_0x1c61('0xb33'),_0x1c61('0xc9e'),_0x1c61('0xc9f'),_0x1c61('0xca0'),_0x1c61('0xca1'),'\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;',_0x1c61('0xb33'),_0x1c61('0xca2'),'\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;',_0x1c61('0xca3'),'\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x1c61('0xca4'),_0x1c61('0xca5'),_0x1c61('0xca6'),_0x1c61('0xca7'),'\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;',_0x1c61('0xb33'),'\x20\x20\x20\x20if(doneNP)\x20{',_0x1c61('0xca8'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xca9'),_0x1c61('0xcaa'),_0x1c61('0xcab'),_0x1c61('0xcac'),_0x1c61('0xcad'),_0x1c61('0xcae'),_0x1c61('0xcaf'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;',_0x1c61('0xb33'),_0x1c61('0xcb0'),_0x1c61('0xcb1'),_0x1c61('0xcb2'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1c61('0xcb3'),_0x1c61('0xcb4'),_0x1c61('0xcb5'),_0x1c61('0xcb6'),_0x1c61('0xcb7'),_0x1c61('0xcb8'),_0x1c61('0xcb9'),_0x1c61('0xcba'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;',_0x1c61('0xb33'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)',_0x1c61('0xcbb'),_0x1c61('0xcbc'),_0x1c61('0xcbd'),_0x1c61('0xcbe'),_0x1c61('0xcbf'),_0x1c61('0xcc0'),_0x1c61('0xcc1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;',_0x1c61('0xcc2'),_0x1c61('0xcc3'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;',_0x1c61('0xcc4'),_0x1c61('0xb33'),_0x1c61('0xcc5'),_0x1c61('0xcc6'),_0x1c61('0xcc7'),_0x1c61('0xcc8'),_0x1c61('0xcc9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xcca'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x1c61('0xccb'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;',_0x1c61('0xccc'),_0x1c61('0xb33'),_0x1c61('0xccd'),_0x1c61('0xcce'),_0x1c61('0xccf'),_0x1c61('0xcd0'),_0x1c61('0xcd1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1c61('0xcd2'),_0x1c61('0xcd3'),_0x1c61('0xcd4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1c61('0xcd5'),_0x1c61('0xcd6'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xcd7'),_0x1c61('0xcd8'),_0x1c61('0xcd9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1c61('0xcda'),_0x1c61('0xcdb'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x1c61('0xcdc'),_0x1c61('0xcdd'),_0x1c61('0xcde'),_0x1c61('0xcdf'),_0x1c61('0xce0'),_0x1c61('0xb33'),'\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)',_0x1c61('0xce1'),_0x1c61('0xca8'),_0x1c61('0xce2'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1c61('0xcab'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;',_0x1c61('0xce3'),'\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;',_0x1c61('0xb33'),_0x1c61('0xce4'),_0x1c61('0xcb1'),_0x1c61('0xcb2'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1c61('0xcb3'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xcb5'),_0x1c61('0xcb6'),_0x1c61('0xce5'),_0x1c61('0xce6'),_0x1c61('0xcb9'),_0x1c61('0xce7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;',_0x1c61('0xb33'),_0x1c61('0xce8'),_0x1c61('0xcbb'),_0x1c61('0xcbc'),_0x1c61('0xcbd'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xcbf'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1c61('0xcc1'),_0x1c61('0xce9'),_0x1c61('0xcea'),_0x1c61('0xcc3'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;',_0x1c61('0xceb'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xcec'),_0x1c61('0xcc6'),_0x1c61('0xcc7'),_0x1c61('0xcc8'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xced'),_0x1c61('0xcca'),_0x1c61('0xcee'),_0x1c61('0xcef'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;',_0x1c61('0xcf0'),_0x1c61('0xcf1'),_0x1c61('0xcf2'),_0x1c61('0xb33'),_0x1c61('0xcf3'),_0x1c61('0xcce'),_0x1c61('0xccf'),_0x1c61('0xcd0'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x1c61('0xcf4'),_0x1c61('0xcd2'),_0x1c61('0xcf5'),_0x1c61('0xcf6'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1c61('0xcf7'),_0x1c61('0xcf8'),_0x1c61('0xb33'),_0x1c61('0xcf9'),_0x1c61('0xcfa'),_0x1c61('0xb33'),_0x1c61('0xcfb'),_0x1c61('0xcfc'),_0x1c61('0xb33'),_0x1c61('0xcfd'),_0x1c61('0xcfe'),_0x1c61('0xb33'),'\x20\x20\x20\x20\x20\x20\x20\x20}',_0x1c61('0xc4b'),'/*--------------------------------------------------------------------------*/',_0x1c61('0x13b'),_0x1c61('0x162'),_0x1c61('0xb33'),_0x1c61('0xcff'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x1c61('0xcfa'),_0x1c61('0xb33'),_0x1c61('0xcfb'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1c61('0xb33'),_0x1c61('0xcfd'),_0x1c61('0xcfe'),_0x1c61('0xb33'),_0x1c61('0xd00'),_0x1c61('0xc4b'),_0x1c61('0xb33'),'\x20\x20\x20\x20}',_0x1c61('0xb33'),_0x1c61('0xd01'),_0x1c61('0xd02'),_0x1c61('0xd03'),_0x1c61('0xd04'),_0x1c61('0xb33'),_0x1c61('0xd05'),_0x1c61('0xd06'),_0x1c61('0xd07'),_0x1c61('0xd08'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xd09'),_0x1c61('0xd0a'),_0x1c61('0xd0b'),_0x1c61('0xd0c'),_0x1c61('0xd0d'),_0x1c61('0xd0e'),'/*--------------------------------------------------------------------------*/',_0x1c61('0xd0f'),'\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);',_0x1c61('0xd10'),_0x1c61('0xd11'),_0x1c61('0xd12'),'\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);',_0x1c61('0x162'),'}','/*==========================================================================*/',_0x1c61('0x11e'),'',_0x1c61('0x178'),_0x1c61('0xd13'),_0x1c61('0xd14'),_0x1c61('0xd15'),_0x1c61('0xd16'),_0x1c61('0xd16'),'\x20\x20\x20\x20tDiffuse,',_0x1c61('0xd17'),_0x1c61('0xd15'),_0x1c61('0xd15'),_0x1c61('0xd15'),_0x1c61('0xd18'),_0x1c61('0xd19'),_0x1c61('0xd1a'),'\x20\x20\x20\x200.0,',_0x1c61('0xd1b'),'\x20\x20\x20\x200.0,',_0x1c61('0xd1c'),_0x1c61('0xd1d'),'',_0x1c61('0xd1e'),_0x1c61('0xd1f'),'}'][_0x1c61('0x112')]('\x0a')};},function(_0xd47bc5,_0x394ead,_0x1edbc9){'use strict';var _0x4472d7=_0x9b6d4c(_0x1edbc9(0x1d)),_0x1edbc9=_0x9b6d4c(_0x1edbc9(0xf));function _0x9b6d4c(_0xd47bc5){return _0xd47bc5&&_0xd47bc5[_0x1c61('0x5')]?_0xd47bc5:{'default':_0xd47bc5};}THREE[_0x1c61('0xd20')]=function(_0xd47bc5,_0x394ead,_0x1edbc9,_0x4472d7){this[_0x1c61('0xd21')]=_0x394ead,this['renderCamera']=_0x1edbc9,this[_0x1c61('0xa8f')]=void 0x0!==_0x4472d7?_0x4472d7:[],this[_0x1c61('0xd22')]=new THREE[(_0x1c61('0x1ba'))](0x1,0x1,0x1),this[_0x1c61('0xa86')]=new THREE['Color'](0.1,0.04,0.02),this[_0x1c61('0xd23')]=0x0,this['usePatternTexture']=!0x1,this[_0x1c61('0xa8a')]=0x1,this['edgeStrength']=0x3,this[_0x1c61('0xd24')]=0x2,this[_0x1c61('0xaa7')]=0x0,THREE[_0x1c61('0xad9')]['call'](this),this[_0x1c61('0x2fe')]=void 0x0!==_0xd47bc5?new THREE[(_0x1c61('0x1cf'))](_0xd47bc5['x'],_0xd47bc5['y']):new THREE['Vector2'](0x100,0x100);var _0x9b6d4c,_0x394ead={'minFilter':THREE[_0x1c61('0x3ef')],'magFilter':THREE[_0x1c61('0x3ef')],'format':THREE[_0x1c61('0xa9f')]},_0x1edbc9=Math['round'](this[_0x1c61('0x2fe')]['x']/this[_0x1c61('0xd24')]),_0x4472d7=Math['round'](this[_0x1c61('0x2fe')]['y']/this[_0x1c61('0xd24')]),_0xd47bc5=(this[_0x1c61('0xd25')]=new THREE[(_0x1c61('0x3d4'))]({'color':0xffffff}),this['maskBufferMaterial'][_0x1c61('0x362')]=THREE[_0x1c61('0x302')],this[_0x1c61('0xd26')]=new THREE[(_0x1c61('0x695'))](this[_0x1c61('0x2fe')]['x'],this['resolution']['y'],_0x394ead),this[_0x1c61('0xd26')][_0x1c61('0x1c9')][_0x1c61('0x7b')]='OutlinePass.mask',this[_0x1c61('0xd26')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this[_0x1c61('0x749')]=new THREE[(_0x1c61('0x7ac'))](),this[_0x1c61('0x749')][_0x1c61('0x362')]=THREE[_0x1c61('0x302')],this['depthMaterial'][_0x1c61('0xd27')]=THREE[_0x1c61('0x7ad')],this[_0x1c61('0x749')][_0x1c61('0x1d8')]=THREE[_0x1c61('0x6b6')],this[_0x1c61('0xd28')]=this['getPrepareMaskMaterial'](),this[_0x1c61('0xd28')][_0x1c61('0x362')]=THREE[_0x1c61('0x302')],this['prepareMaskMaterial'][_0x1c61('0x57')]=(_0xd47bc5=this[_0x1c61('0xd28')][_0x1c61('0x57')],_0x9b6d4c=this[_0x1c61('0xd29')][_0x1c61('0xd2a')]?_0x1c61('0xd2b'):_0x1c61('0xd2c'),_0xd47bc5[_0x1c61('0x3c9')](/DEPTH_TO_VIEW_Z/g,_0x9b6d4c+_0x1c61('0xd2d'))),this[_0x1c61('0xd2e')]=new THREE[(_0x1c61('0x695'))](this['resolution']['x'],this[_0x1c61('0x2fe')]['y'],_0x394ead),this[_0x1c61('0xd2e')][_0x1c61('0x1c9')][_0x1c61('0x7b')]=_0x1c61('0xd2f'),this[_0x1c61('0xd2e')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this['renderTargetMaskDownSampleBuffer']=new THREE[(_0x1c61('0x695'))](_0x1edbc9,_0x4472d7,_0x394ead),this[_0x1c61('0xd30')][_0x1c61('0x1c9')]['name']=_0x1c61('0xd31'),this[_0x1c61('0xd30')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this[_0x1c61('0xd32')]=new THREE['WebGLRenderTarget'](_0x1edbc9,_0x4472d7,_0x394ead),this[_0x1c61('0xd32')][_0x1c61('0x1c9')][_0x1c61('0x7b')]=_0x1c61('0xd33'),this['renderTargetBlurBuffer1'][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this[_0x1c61('0xd34')]=new THREE[(_0x1c61('0x695'))](Math[_0x1c61('0x1c0')](_0x1edbc9/0x2),Math[_0x1c61('0x1c0')](_0x4472d7/0x2),_0x394ead),this[_0x1c61('0xd34')][_0x1c61('0x1c9')][_0x1c61('0x7b')]=_0x1c61('0xd35'),this[_0x1c61('0xd34')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this[_0x1c61('0xd36')]=this[_0x1c61('0xd37')](),this[_0x1c61('0xd38')]=new THREE['WebGLRenderTarget'](_0x1edbc9,_0x4472d7,_0x394ead),this[_0x1c61('0xd38')][_0x1c61('0x1c9')]['name']='OutlinePass.edge1',this[_0x1c61('0xd38')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this['renderTargetEdgeBuffer2']=new THREE['WebGLRenderTarget'](Math[_0x1c61('0x1c0')](_0x1edbc9/0x2),Math[_0x1c61('0x1c0')](_0x4472d7/0x2),_0x394ead),this[_0x1c61('0xd39')][_0x1c61('0x1c9')][_0x1c61('0x7b')]=_0x1c61('0xd3a'),this[_0x1c61('0xd39')][_0x1c61('0x1c9')][_0x1c61('0x697')]=!0x1,this['separableBlurMaterial1']=this[_0x1c61('0xd3b')](0x4),this[_0x1c61('0xd3c')]['uniforms'][_0x1c61('0xb00')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](_0x1edbc9,_0x4472d7),this[_0x1c61('0xd3c')][_0x1c61('0x16a')][_0x1c61('0xd3d')][_0x1c61('0x1c')]=0x1,this[_0x1c61('0xd3e')]=this[_0x1c61('0xd3b')](0x4),this[_0x1c61('0xd3e')]['uniforms'][_0x1c61('0xb00')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](Math[_0x1c61('0x1c0')](_0x1edbc9/0x2),Math[_0x1c61('0x1c0')](_0x4472d7/0x2)),this['separableBlurMaterial2'][_0x1c61('0x16a')][_0x1c61('0xd3d')]['value']=0x4,this['overlayMaterial']=this[_0x1c61('0xd3f')](),void 0x0===THREE[_0x1c61('0xacb')]&&console['error'](_0x1c61('0xd40')),THREE[_0x1c61('0xacb')]);this[_0x1c61('0xafd')]=THREE[_0x1c61('0x48f')][_0x1c61('0x1b1')](_0xd47bc5[_0x1c61('0x16a')]),this[_0x1c61('0xafd')][_0x1c61('0x208')][_0x1c61('0x1c')]=0x1,this[_0x1c61('0xafe')]=new THREE['ShaderMaterial']({'uniforms':this[_0x1c61('0xafd')],'vertexShader':_0xd47bc5[_0x1c61('0x56')],'fragmentShader':_0xd47bc5[_0x1c61('0x57')],'blending':THREE['NoBlending'],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this['enabled']=!0x0,this[_0x1c61('0xab4')]=!0x1,this['oldClearColor']=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0xaff')]=0x1,this[_0x1c61('0xae7')]=new THREE[(_0x1c61('0xad9'))]['FullScreenQuad'](null),this[_0x1c61('0xd41')]=new THREE[(_0x1c61('0x1ba'))](),this[_0x1c61('0xd42')]=new THREE['Color'](),this[_0x1c61('0x698')]=new THREE[(_0x1c61('0x31e'))]();},THREE['OutlinePass'][_0x1c61('0xb')]=(0x0,_0x1edbc9[_0x1c61('0x8')])((0x0,_0x4472d7[_0x1c61('0x8')])(THREE[_0x1c61('0xad9')][_0x1c61('0xb')]),{'constructor':THREE[_0x1c61('0xd20')],'dispose':function(){this[_0x1c61('0xd26')][_0x1c61('0xd8')](),this[_0x1c61('0xd2e')][_0x1c61('0xd8')](),this['renderTargetMaskDownSampleBuffer'][_0x1c61('0xd8')](),this[_0x1c61('0xd32')][_0x1c61('0xd8')](),this[_0x1c61('0xd34')][_0x1c61('0xd8')](),this[_0x1c61('0xd38')][_0x1c61('0xd8')](),this[_0x1c61('0xd39')][_0x1c61('0xd8')]();},'setSize':function(_0xd47bc5,_0x394ead){this[_0x1c61('0xd26')][_0x1c61('0xe8')](_0xd47bc5,_0x394ead);_0xd47bc5=Math[_0x1c61('0x1c0')](_0xd47bc5/this[_0x1c61('0xd24')]),_0x394ead=Math[_0x1c61('0x1c0')](_0x394ead/this['downSampleRatio']);this['renderTargetMaskDownSampleBuffer']['setSize'](_0xd47bc5,_0x394ead),this[_0x1c61('0xd32')][_0x1c61('0xe8')](_0xd47bc5,_0x394ead),this[_0x1c61('0xd38')][_0x1c61('0xe8')](_0xd47bc5,_0x394ead),this[_0x1c61('0xd3c')][_0x1c61('0x16a')][_0x1c61('0xb00')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](_0xd47bc5,_0x394ead),_0xd47bc5=Math[_0x1c61('0x1c0')](_0xd47bc5/0x2),_0x394ead=Math[_0x1c61('0x1c0')](_0x394ead/0x2),this[_0x1c61('0xd34')][_0x1c61('0xe8')](_0xd47bc5,_0x394ead),this[_0x1c61('0xd39')]['setSize'](_0xd47bc5,_0x394ead),this[_0x1c61('0xd3e')][_0x1c61('0x16a')][_0x1c61('0xb00')]['value']=new THREE[(_0x1c61('0x1cf'))](_0xd47bc5,_0x394ead);},'changeVisibilityOfSelectedObjects':function(_0x394ead){function _0xd47bc5(_0xd47bc5){_0xd47bc5['isMesh']&&(_0x394ead?(_0xd47bc5[_0x1c61('0x32c')]=_0xd47bc5[_0x1c61('0x42')]['oldVisible'],delete _0xd47bc5[_0x1c61('0x42')]['oldVisible']):(_0xd47bc5[_0x1c61('0x42')]['oldVisible']=_0xd47bc5[_0x1c61('0x32c')],_0xd47bc5[_0x1c61('0x32c')]=_0x394ead));}for(var _0x1edbc9=0x0;_0x1edbc9<this['selectedObjects'][_0x1c61('0xf')];_0x1edbc9++)this['selectedObjects'][_0x1edbc9][_0x1c61('0xdb')](_0xd47bc5);},'changeVisibilityOfNonSelectedObjects':function(_0x9b6d4c){var _0x46f87a=[];function _0xd47bc5(_0xd47bc5){_0xd47bc5[_0x1c61('0xd43')]&&_0x46f87a[_0x1c61('0x6f')](_0xd47bc5);}for(var _0x394ead=0x0;_0x394ead<this['selectedObjects']['length'];_0x394ead++)this['selectedObjects'][_0x394ead][_0x1c61('0xdb')](_0xd47bc5);this[_0x1c61('0xd21')][_0x1c61('0xdb')](function(_0xd47bc5){if(_0xd47bc5['isMesh']||_0xd47bc5[_0x1c61('0xd44')]||_0xd47bc5[_0x1c61('0xd45')]){for(var _0x394ead,_0x1edbc9=!0x1,_0x4472d7=0x0;_0x4472d7<_0x46f87a[_0x1c61('0xf')];_0x4472d7++)if(_0x46f87a[_0x4472d7]['id']===_0xd47bc5['id']){_0x1edbc9=!0x0;break;}_0x1edbc9||(_0x394ead=_0xd47bc5[_0x1c61('0x32c')],_0x9b6d4c&&!_0xd47bc5['bVisible']||(_0xd47bc5['visible']=_0x9b6d4c),_0xd47bc5[_0x1c61('0xd46')]=_0x394ead);}});},'updateTextureMatrix':function(){this['textureMatrix'][_0x1c61('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x1c61('0x698')][_0x1c61('0x6a0')](this[_0x1c61('0xd29')][_0x1c61('0x69f')]),this[_0x1c61('0x698')][_0x1c61('0x6a0')](this[_0x1c61('0xd29')][_0x1c61('0x7a6')]);},'render':function(_0xd47bc5,_0x394ead,_0x1edbc9,_0x4472d7,_0x9b6d4c){var _0x29fae7,_0x47fd86;0x0<this[_0x1c61('0xa8f')][_0x1c61('0xf')]&&(this[_0x1c61('0xb01')][_0x1c61('0x1c2')](_0xd47bc5[_0x1c61('0xadf')]()),this[_0x1c61('0xaff')]=_0xd47bc5[_0x1c61('0xae1')](),_0x29fae7=_0xd47bc5[_0x1c61('0xade')],_0xd47bc5['autoClear']=!0x1,_0x9b6d4c&&_0xd47bc5[_0x1c61('0xad2')][_0x1c61('0x269')](_0xd47bc5[_0x1c61('0xad2')][_0x1c61('0xd47')]),_0xd47bc5[_0x1c61('0xae2')](0xffffff,0x1),this[_0x1c61('0xd48')](!0x1),_0x47fd86=this[_0x1c61('0xd21')][_0x1c61('0xa0e')],this[_0x1c61('0xd21')][_0x1c61('0xa0e')]=null,this[_0x1c61('0xd21')][_0x1c61('0xadc')]=this[_0x1c61('0x749')],_0xd47bc5[_0x1c61('0x6a6')](this[_0x1c61('0xd2e')]),_0xd47bc5[_0x1c61('0x2e2')](),_0xd47bc5[_0x1c61('0x3d1')](this[_0x1c61('0xd21')],this['renderCamera']),this[_0x1c61('0xd48')](!0x0),this[_0x1c61('0xd49')](),this[_0x1c61('0xd4a')](!0x1),this[_0x1c61('0xd21')]['overrideMaterial']=this['prepareMaskMaterial'],this[_0x1c61('0xd28')][_0x1c61('0x16a')][_0x1c61('0xd4b')][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](this[_0x1c61('0xd29')]['near'],this[_0x1c61('0xd29')][_0x1c61('0x37f')]),this[_0x1c61('0xd28')][_0x1c61('0x16a')][_0x1c61('0xd4c')][_0x1c61('0x1c')]=this[_0x1c61('0xd2e')][_0x1c61('0x1c9')],this[_0x1c61('0xd28')]['uniforms'][_0x1c61('0x698')][_0x1c61('0x1c')]=this[_0x1c61('0x698')],_0xd47bc5[_0x1c61('0x6a6')](this[_0x1c61('0xd26')]),_0xd47bc5[_0x1c61('0x2e2')](),_0xd47bc5[_0x1c61('0x3d1')](this['renderScene'],this[_0x1c61('0xd29')]),this[_0x1c61('0xd21')][_0x1c61('0xadc')]=null,this[_0x1c61('0xd4a')](!0x0),this[_0x1c61('0xd21')]['background']=_0x47fd86,this['fsQuad']['material']=this[_0x1c61('0xafe')],this['copyUniforms'][_0x1c61('0xb05')][_0x1c61('0x1c')]=this['renderTargetMaskBuffer'][_0x1c61('0x1c9')],_0xd47bc5['setRenderTarget'](this[_0x1c61('0xd30')]),_0xd47bc5[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xd47bc5),this[_0x1c61('0xd41')][_0x1c61('0x1c2')](this[_0x1c61('0xd22')]),this[_0x1c61('0xd42')][_0x1c61('0x1c2')](this[_0x1c61('0xa86')]),0x0<this['pulsePeriod']&&(_0x47fd86=0.625+0.75*Math['cos'](0.01*performance[_0x1c61('0x2a7')]()/this[_0x1c61('0xaa7')])/0x2,this[_0x1c61('0xd41')][_0x1c61('0x1c3')](_0x47fd86),this[_0x1c61('0xd42')][_0x1c61('0x1c3')](_0x47fd86)),this['fsQuad'][_0x1c61('0x41')]=this[_0x1c61('0xd36')],this[_0x1c61('0xd36')]['uniforms'][_0x1c61('0xa8c')][_0x1c61('0x1c')]=this['renderTargetMaskDownSampleBuffer'][_0x1c61('0x1c9')],this['edgeDetectionMaterial'][_0x1c61('0x16a')]['texSize'][_0x1c61('0x1c')]=new THREE[(_0x1c61('0x1cf'))](this[_0x1c61('0xd30')][_0x1c61('0x328')],this[_0x1c61('0xd30')]['height']),this[_0x1c61('0xd36')]['uniforms'][_0x1c61('0xd22')][_0x1c61('0x1c')]=this[_0x1c61('0xd41')],this[_0x1c61('0xd36')][_0x1c61('0x16a')][_0x1c61('0xa86')][_0x1c61('0x1c')]=this[_0x1c61('0xd42')],_0xd47bc5[_0x1c61('0x6a6')](this[_0x1c61('0xd38')]),_0xd47bc5[_0x1c61('0x2e2')](),this['fsQuad'][_0x1c61('0x3d1')](_0xd47bc5),this[_0x1c61('0xae7')]['material']=this[_0x1c61('0xd3c')],this['separableBlurMaterial1'][_0x1c61('0x16a')]['colorTexture']['value']=this[_0x1c61('0xd38')][_0x1c61('0x1c9')],this['separableBlurMaterial1'][_0x1c61('0x16a')][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE[_0x1c61('0xd20')][_0x1c61('0xb03')],this['separableBlurMaterial1'][_0x1c61('0x16a')][_0x1c61('0xd3d')][_0x1c61('0x1c')]=this[_0x1c61('0xa8a')],_0xd47bc5['setRenderTarget'](this[_0x1c61('0xd32')]),_0xd47bc5[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xd47bc5),this['separableBlurMaterial1']['uniforms'][_0x1c61('0xb02')][_0x1c61('0x1c')]=this[_0x1c61('0xd32')][_0x1c61('0x1c9')],this[_0x1c61('0xd3c')]['uniforms'][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE[_0x1c61('0xd20')][_0x1c61('0xb04')],_0xd47bc5['setRenderTarget'](this[_0x1c61('0xd38')]),_0xd47bc5[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')]['render'](_0xd47bc5),this['fsQuad'][_0x1c61('0x41')]=this[_0x1c61('0xd3e')],this['separableBlurMaterial2'][_0x1c61('0x16a')][_0x1c61('0xb02')][_0x1c61('0x1c')]=this[_0x1c61('0xd38')][_0x1c61('0x1c9')],this['separableBlurMaterial2'][_0x1c61('0x16a')][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE[_0x1c61('0xd20')][_0x1c61('0xb03')],_0xd47bc5[_0x1c61('0x6a6')](this[_0x1c61('0xd34')]),_0xd47bc5[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')]['render'](_0xd47bc5),this[_0x1c61('0xd3e')][_0x1c61('0x16a')]['colorTexture'][_0x1c61('0x1c')]=this[_0x1c61('0xd34')][_0x1c61('0x1c9')],this[_0x1c61('0xd3e')]['uniforms'][_0x1c61('0x238')][_0x1c61('0x1c')]=THREE[_0x1c61('0xd20')][_0x1c61('0xb04')],_0xd47bc5['setRenderTarget'](this[_0x1c61('0xd39')]),_0xd47bc5[_0x1c61('0x2e2')](),this[_0x1c61('0xae7')]['render'](_0xd47bc5),this[_0x1c61('0xae7')][_0x1c61('0x41')]=this[_0x1c61('0xd4d')],this[_0x1c61('0xd4d')][_0x1c61('0x16a')][_0x1c61('0xa8c')][_0x1c61('0x1c')]=this[_0x1c61('0xd26')][_0x1c61('0x1c9')],this['overlayMaterial'][_0x1c61('0x16a')][_0x1c61('0xd4e')]['value']=this[_0x1c61('0xd38')][_0x1c61('0x1c9')],this[_0x1c61('0xd4d')][_0x1c61('0x16a')][_0x1c61('0xd4f')][_0x1c61('0x1c')]=this[_0x1c61('0xd39')][_0x1c61('0x1c9')],this[_0x1c61('0xd4d')][_0x1c61('0x16a')][_0x1c61('0xa8b')]['value']=this[_0x1c61('0xa8b')],this[_0x1c61('0xd4d')][_0x1c61('0x16a')][_0x1c61('0xa88')][_0x1c61('0x1c')]=this['edgeStrength'],this['overlayMaterial'][_0x1c61('0x16a')][_0x1c61('0xd23')][_0x1c61('0x1c')]=this[_0x1c61('0xd23')],this[_0x1c61('0xd4d')][_0x1c61('0x16a')][_0x1c61('0xa8d')][_0x1c61('0x1c')]=this[_0x1c61('0xa8d')],_0x9b6d4c&&_0xd47bc5[_0x1c61('0xad2')][_0x1c61('0x552')](_0xd47bc5['context'][_0x1c61('0xd47')]),_0xd47bc5[_0x1c61('0x6a6')](_0x1edbc9),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xd47bc5),_0xd47bc5[_0x1c61('0xae2')](this[_0x1c61('0xb01')],this[_0x1c61('0xaff')]),_0xd47bc5[_0x1c61('0xade')]=_0x29fae7),this['renderToScreen']&&(this[_0x1c61('0xae7')][_0x1c61('0x41')]=this['materialCopy'],this[_0x1c61('0xafd')][_0x1c61('0xb05')][_0x1c61('0x1c')]=_0x1edbc9[_0x1c61('0x1c9')],_0xd47bc5[_0x1c61('0x6a6')](null),this[_0x1c61('0xae7')][_0x1c61('0x3d1')](_0xd47bc5));},'getPrepareMaskMaterial':function(){return new THREE[(_0x1c61('0x1ea'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE[(_0x1c61('0x1cf'))](0.5,0.5)},'textureMatrix':{'value':new THREE[(_0x1c61('0x31e'))]()}},'vertexShader':['varying\x20vec4\x20projTexCoord;',_0x1c61('0xd50'),_0x1c61('0xd51'),'void\x20main()\x20{',_0x1c61('0xd52'),_0x1c61('0xd53'),_0x1c61('0xd54'),_0x1c61('0xd55'),'}'][_0x1c61('0x112')]('\x0a'),'fragmentShader':['#include\x20<packing>',_0x1c61('0xd50'),_0x1c61('0xd56'),_0x1c61('0xd57'),_0x1c61('0xd58'),_0x1c61('0x178'),'\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));',_0x1c61('0xd59'),_0x1c61('0xd5a'),_0x1c61('0xd5b'),'}']['join']('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE['ShaderMaterial']({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x1c61('0x1cf'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x1c61('0x1b8'))](0x1,0x1,0x1)}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':_0x1c61('0xd5c')});},'getSeperableBlurMaterial':function(_0xd47bc5){return new THREE[(_0x1c61('0x1ea'))]({'defines':{'MAX_RADIUS':_0xd47bc5},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x1c61('0x1cf'))](0.5,0.5)},'direction':{'value':new THREE[(_0x1c61('0x1cf'))](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':'#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}'});},'getOverlayMaterial':function(){return new THREE[(_0x1c61('0x1ea'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':_0x1c61('0x6b4'),'fragmentShader':_0x1c61('0xd5d'),'blending':THREE[_0x1c61('0x1d9')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE[_0x1c61('0xd20')][_0x1c61('0xb03')]=new THREE['Vector2'](0x1,0x0),THREE[_0x1c61('0xd20')][_0x1c61('0xb04')]=new THREE['Vector2'](0x0,0x1);},function(_0x5374fa,_0x18bdd0,_0xdf0ae4){'use strict';Object[_0x1c61('0x2')](_0x18bdd0,'__esModule',{'value':!0x0});var _0xab603=_0x27c80a(_0xdf0ae4(0x4)),_0x4c782d=_0x27c80a(_0xdf0ae4(0x0)),_0x42911e=_0x27c80a(_0xdf0ae4(0x1)),_0x1f47d7=_0xdf0ae4(0x1a);function _0x27c80a(_0x5374fa){return _0x5374fa&&_0x5374fa[_0x1c61('0x5')]?_0x5374fa:{'default':_0x5374fa};}function _0x47ad9b(){(0x0,_0x4c782d[_0x1c61('0x8')])(this,_0x47ad9b),this[_0x1c61('0xd9')]=(0x0,_0x1f47d7[_0x1c61('0x2a')])(),this[_0x1c61('0x416')]=!0x1,this['shadowLight']=null,this[_0x1c61('0xd5e')]={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this['shadowCamera']=null,this[_0x1c61('0xd5f')]=null,this[_0x1c61('0xd60')]=new THREE[(_0x1c61('0xd61'))]();}(0x0,_0x42911e['default'])(_0x47ad9b,[{'key':_0x1c61('0x89b'),'value':function(_0x5374fa){_0x5374fa[_0x1c61('0xd5e')]&&(this['shadowCamera']=new THREE[(_0x1c61('0x6db'))](0x2d,0x1,_0x5374fa['shadowConfigs']['nearFactor'],_0x5374fa[_0x1c61('0xd5e')][_0x1c61('0xd62')]));}},{'key':'init','value':function(_0x5374fa){this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0xd9')]['mapView']['renderer'][_0x1c61('0x6a4')]['enabled']=!0x0,this[_0x1c61('0xd9')][_0x1c61('0x45c')]['renderer'][_0x1c61('0x6a4')][_0x1c61('0x6a5')]=!!_0x5374fa[_0x1c61('0x428')],this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['type']=THREE['PCFSoftShadowMap'];var _0x18bdd0,_0xdf0ae4=this[_0x1c61('0xd9')]['mapView'][_0x5374fa[_0x1c61('0xd63')]];_0x5374fa['resolution']&&(this['shadowConfigs']['mapWidth']=_0x5374fa['resolution'],this[_0x1c61('0xd5e')][_0x1c61('0xd64')]=_0x5374fa['resolution']),_0xdf0ae4&&(_0x5374fa[_0x1c61('0xd5e')]?(_0xdf0ae4['position'][_0x1c61('0x1b')](_0x5374fa['shadowConfigs'][_0x1c61('0x218')]['x'],_0x5374fa['shadowConfigs']['position']['y'],_0x5374fa[_0x1c61('0xd5e')][_0x1c61('0x218')]['z']),(_0x18bdd0=new THREE[(_0x1c61('0x331'))]())[_0x1c61('0x218')][_0x1c61('0x1b')](_0x5374fa['shadowConfigs'][_0x1c61('0x91')]['x'],_0x5374fa[_0x1c61('0xd5e')][_0x1c61('0x91')]['y'],_0x5374fa[_0x1c61('0xd5e')][_0x1c61('0x91')]['z']),this['map'][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x18bdd0),_0xdf0ae4[_0x1c61('0x91')]=_0x18bdd0,_0xdf0ae4[_0x1c61('0x747')]=!0x0):(_0xdf0ae4[_0x1c61('0x218')][_0x1c61('0x1b')](0x1f4,0x2bc,-0x1f4),_0xdf0ae4[_0x1c61('0x91')][_0x1c61('0x218')][_0x1c61('0x1b')](0x0,0x0,0x0),_0xdf0ae4[_0x1c61('0x747')]=!0x0,this[_0x1c61('0x741')]=new THREE[(_0x1c61('0x6db'))](0x2d,0x1,0x2bc,0x4e2)),_0xdf0ae4[_0x1c61('0x89a')]=new THREE[(_0x1c61('0xd65'))](this[_0x1c61('0x741')]),_0xdf0ae4[_0x1c61('0x89a')][_0x1c61('0xd66')]=0x2,_0xdf0ae4[_0x1c61('0x89a')]['bias']=_0x5374fa[_0x1c61('0xd67')]||this[_0x1c61('0xd5e')][_0x1c61('0xd67')],_0xdf0ae4[_0x1c61('0x89a')][_0x1c61('0xd66')]=_0x5374fa[_0x1c61('0xd66')]||this[_0x1c61('0xd5e')][_0x1c61('0xd66')],_0xdf0ae4[_0x1c61('0x89a')][_0x1c61('0x226')]=this[_0x1c61('0xd5e')][_0x1c61('0x226')],_0xdf0ae4[_0x1c61('0x89a')]['mapSize'][_0x1c61('0x328')]=this[_0x1c61('0xd5e')][_0x1c61('0xd68')],_0xdf0ae4[_0x1c61('0x89a')][_0x1c61('0xd69')][_0x1c61('0x2f7')]=this[_0x1c61('0xd5e')][_0x1c61('0xd64')],_0x5374fa[_0x1c61('0x428')]&&(_0x18bdd0=new THREE[(_0x1c61('0xd6a'))](_0xdf0ae4[_0x1c61('0x89a')][_0x1c61('0x301')]),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')]['add'](_0x18bdd0),this['shadowCameraHelper']=_0x18bdd0),this[_0x1c61('0xd6b')]=_0xdf0ae4,this[_0x1c61('0xd6c')](_0x5374fa));}},{'key':_0x1c61('0xd6d'),'value':function(_0x5374fa,_0x18bdd0){this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['enabled']=!0x0,this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['autoUpdate']=!!_0x18bdd0['debug'],this['map'][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')]['type']=THREE[_0x1c61('0xd6e')],_0x18bdd0[_0x1c61('0x2fe')]&&(this[_0x1c61('0xd5e')][_0x1c61('0xd68')]=_0x18bdd0[_0x1c61('0x2fe')],this['shadowConfigs'][_0x1c61('0xd64')]=_0x18bdd0['resolution']),this[_0x1c61('0x741')]=new THREE['PerspectiveCamera'](0x2d,0x1,0xa,0x3e8);var _0xdf0ae4=new THREE[(_0x1c61('0x331'))]();this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](_0xdf0ae4),_0x5374fa['target']=_0xdf0ae4,_0x5374fa['castShadow']=!0x0,_0x5374fa[_0x1c61('0x89a')]=new THREE[(_0x1c61('0xd65'))](this[_0x1c61('0x741')]),_0x5374fa['shadow'][_0x1c61('0x226')]=0.1,_0x5374fa[_0x1c61('0x89a')]['bias']=_0x18bdd0[_0x1c61('0xd67')]||this[_0x1c61('0xd5e')][_0x1c61('0xd67')],_0x5374fa['shadow'][_0x1c61('0xd66')]=_0x18bdd0[_0x1c61('0xd66')]||this['shadowConfigs'][_0x1c61('0xd66')],_0x5374fa[_0x1c61('0x89a')][_0x1c61('0x226')]=this['shadowConfigs'][_0x1c61('0x226')],_0x5374fa[_0x1c61('0x89a')][_0x1c61('0xd69')]['width']=this[_0x1c61('0xd5e')][_0x1c61('0xd68')],_0x5374fa[_0x1c61('0x89a')][_0x1c61('0xd69')][_0x1c61('0x2f7')]=this[_0x1c61('0xd5e')][_0x1c61('0xd64')],_0x18bdd0[_0x1c61('0x428')]&&(_0xdf0ae4=new THREE[(_0x1c61('0xd6a'))](_0x5374fa['shadow']['camera']),this[_0x1c61('0xd9')][_0x1c61('0x45c')]['scene'][_0x1c61('0x1c4')](_0xdf0ae4),this[_0x1c61('0xd5f')]=_0xdf0ae4),this[_0x1c61('0xd6b')]=_0x5374fa,this['shadowLight'];}},{'key':_0x1c61('0x932'),'value':function(_0x5374fa){var _0x18bdd0=this,_0xdf0ae4=_0x5374fa[_0x1c61('0xd6f')],_0x4c782d=_0x5374fa[_0x1c61('0x664')],_0x5374fa=_0x5374fa[_0x1c61('0x9af')],_0x5374fa=void 0x0===_0x5374fa?1.5:_0x5374fa;void 0x0===_0x4c782d||_0x4c782d?new TWEEN[(_0x1c61('0x2d4'))]({'posX':this['shadowLight'][_0x1c61('0x218')]['x'],'posY':this['shadowLight'][_0x1c61('0x218')]['y'],'posZ':this[_0x1c61('0xd6b')][_0x1c61('0x218')]['z'],'targetX':this[_0x1c61('0xd6b')]['target'][_0x1c61('0x218')]['x'],'targetY':this[_0x1c61('0xd6b')][_0x1c61('0x91')]['position']['y'],'targetZ':this[_0x1c61('0xd6b')]['target'][_0x1c61('0x218')]['z']})['to']({'posX':_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x218')]['x'],'posY':_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x218')]['y'],'posZ':_0xdf0ae4[_0x1c61('0xd5e')]['position']['z'],'targetX':_0xdf0ae4[_0x1c61('0xd5e')]['target']['x'],'targetY':_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x91')]['y'],'targetZ':_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x91')]['z']},0x3e8*_0x5374fa)['easing'](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x3f9')][_0x1c61('0x44d')])[_0x1c61('0x2d8')](function(){_0x18bdd0[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x6a5')]=!0x0;})['onUpdate'](function(_0x5374fa){_0x18bdd0['shadowLight'][_0x1c61('0x218')][_0x1c61('0x1b')](_0x5374fa[_0x1c61('0xd70')],_0x5374fa[_0x1c61('0xd71')],_0x5374fa[_0x1c61('0xd72')]),_0x18bdd0[_0x1c61('0xd6b')][_0x1c61('0x91')][_0x1c61('0x218')][_0x1c61('0x1b')](_0x5374fa[_0x1c61('0xd73')],_0x5374fa['targetY'],_0x5374fa['targetZ']);})[_0x1c61('0x843')](function(){_0x18bdd0[_0x1c61('0xd9')]['mapView'][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x6a5')]=!0x1,_0x18bdd0['map']['mapView'][_0x1c61('0x51f')][_0x1c61('0x6a4')][_0x1c61('0x416')]=!0x0,_0x18bdd0['map'][_0x1c61('0x45c')][_0x1c61('0x51f')]['shadowMap'][_0x1c61('0x108')]=!0x0;})[_0x1c61('0x2d9')]():(this[_0x1c61('0xd6b')][_0x1c61('0x218')][_0x1c61('0x1b')](_0xdf0ae4['shadowConfigs'][_0x1c61('0x218')]['x'],_0xdf0ae4[_0x1c61('0xd5e')]['position']['y'],_0xdf0ae4['shadowConfigs'][_0x1c61('0x218')]['z']),this[_0x1c61('0xd6b')][_0x1c61('0x91')][_0x1c61('0x218')]['set'](_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x91')]['x'],_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x91')]['y'],_0xdf0ae4[_0x1c61('0xd5e')][_0x1c61('0x91')]['z']),this[_0x1c61('0x741')]=new THREE[(_0x1c61('0x6db'))](0x2d,0x1,_0xdf0ae4[_0x1c61('0xd5e')]['nearFactor'],_0xdf0ae4[_0x1c61('0xd5e')]['farFactor']));}},{'key':_0x1c61('0xd74'),'value':function(_0x5374fa,_0x18bdd0,_0xdf0ae4,_0x4c782d){var _0x42911e;_0x5374fa&&_0x5374fa[_0x1c61('0x99c')]&&(_0x42911e=Math[_0x1c61('0x101')](this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['getDistance'](),0xfa0),_0x4c782d&&this['map']['controls']['target'][_0x1c61('0x2c3')](_0x5374fa[_0x1c61('0x99c')]['target']['position'])<Math['max'](0.25*_0x42911e,0x64)||(_0x18bdd0['position'][_0x1c61('0x1b')](this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['target']['x'],0x0,this[_0x1c61('0xd9')]['controls'][_0x1c61('0x91')]['z']),_0x18bdd0['scale'][_0x1c61('0x1b')](0xa*_0x42911e,0xa*_0x42911e,0x1),_0x4c782d=(0x0,_0x1f47d7['directionFromAlphaBeta'])(_0x5374fa[_0x1c61('0x99c')]['pitchAngle'],_0x5374fa[_0x1c61('0x99c')][_0x1c61('0x873')]),_0x5374fa['tileBuildingLight']['position']['copy'](_0x4c782d),_0x5374fa[_0x1c61('0x99c')][_0x1c61('0x218')]['normalize']()['multiplyScalar'](_0x42911e)[_0x1c61('0x1c4')](new THREE['Vector3'](this['map'][_0x1c61('0x2bc')][_0x1c61('0x91')]['x'],0x0,this['map'][_0x1c61('0x2bc')]['target']['z'])),_0x5374fa[_0x1c61('0x99c')][_0x1c61('0x91')][_0x1c61('0x218')]['copy'](new THREE['Vector3'](this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x91')]['x'],0x0,this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['target']['z'])),_0x5374fa['tileBuildingLight'][_0x1c61('0x91')][_0x1c61('0x9a3')](!0x0),this[_0x1c61('0x741')][_0x1c61('0x300')]=0.7*_0x42911e,this[_0x1c61('0x741')][_0x1c61('0x37f')]=1.4*_0x42911e,this[_0x1c61('0x741')][_0x1c61('0x6d3')](),_0xdf0ae4[_0x1c61('0x428')]&&(_0x5374fa['tileBuildingLight']['helper'][_0x1c61('0x2db')](),this[_0x1c61('0xd5f')][_0x1c61('0x2db')]()),this['map']['mapView']['renderer'][_0x1c61('0x6a4')]['needsUpdate']=!0x0));}},{'key':_0x1c61('0xd6c'),'value':function(_0x5374fa){var _0x18bdd0=(0x0,_0x1f47d7[_0x1c61('0x38')])(0x0)['getFloor'](0x1)[_0x1c61('0x8f8')]([esmap[_0x1c61('0x8f9')][_0x1c61('0x960')],esmap['ESLayerType'][_0x1c61('0x961')],esmap['ESLayerType'][_0x1c61('0x989')]]),_0xdf0ae4=!0x0,_0x4c782d=!0x1,_0x42911e=void 0x0;try{for(var _0x27c80a,_0x47ad9b=(0x0,_0xab603[_0x1c61('0x8')])(_0x18bdd0);!(_0xdf0ae4=(_0x27c80a=_0x47ad9b[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0xdf0ae4=!0x0){var _0x4b1b7e=_0x27c80a[_0x1c61('0x1c')],_0x4602e0=!0x0,_0x4215a9=!0x1,_0x3bde7e=void 0x0;try{for(var _0x590414,_0x1ccbc5=(0x0,_0xab603[_0x1c61('0x8')])(_0x4b1b7e[_0x1c61('0x4fc')][_0x1c61('0x31b')]);!(_0x4602e0=(_0x590414=_0x1ccbc5['next']())[_0x1c61('0x89')]);_0x4602e0=!0x0){var _0x303018=_0x590414[_0x1c61('0x1c')];if(_0x303018[_0x1c61('0x3f')][_0x1c61('0x4c0')]){var _0x4073f4=!0x0,_0x6caccd=!0x1,_0x5b77c0=void 0x0;try{for(var _0x54723a,_0x7e169a=(0x0,_0xab603[_0x1c61('0x8')])(_0x303018[_0x1c61('0x3f')]['brothers']);!(_0x4073f4=(_0x54723a=_0x7e169a[_0x1c61('0x77')]())['done']);_0x4073f4=!0x0){var _0x1e744e=_0x54723a[_0x1c61('0x1c')],_0x170345=+_0x5374fa['castMinHeight']||0x5;if(_0x1e744e[_0x1c61('0xd75')]>_0x170345){_0x303018[_0x1c61('0x747')]=!0x0;break;}_0x303018[_0x1c61('0x748')]=!0x0;break;}}catch(_0x52e986){_0x6caccd=!0x0,_0x5b77c0=_0x52e986;}finally{try{!_0x4073f4&&_0x7e169a[_0x1c61('0x99')]&&_0x7e169a[_0x1c61('0x99')]();}finally{if(_0x6caccd)throw _0x5b77c0;}}}else _0x303018['receiveShadow']=!0x0;_0x303018[_0x1c61('0x3f')][_0x1c61('0xd76')];}}catch(_0x31f11e){_0x4215a9=!0x0,_0x3bde7e=_0x31f11e;}finally{try{!_0x4602e0&&_0x1ccbc5[_0x1c61('0x99')]&&_0x1ccbc5[_0x1c61('0x99')]();}finally{if(_0x4215a9)throw _0x3bde7e;}}}}catch(_0x17a192){_0x4c782d=!0x0,_0x42911e=_0x17a192;}finally{try{!_0xdf0ae4&&_0x47ad9b[_0x1c61('0x99')]&&_0x47ad9b[_0x1c61('0x99')]();}finally{if(_0x4c782d)throw _0x42911e;}}}},{'key':_0x1c61('0x8f6'),'value':function(_0x5374fa,_0x18bdd0){_0x5374fa[_0x1c61('0x4fc')]['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x747')]=_0x18bdd0,_0x5374fa['receiveShadow']=_0x18bdd0,_0x5374fa[_0x1c61('0x41')]['needsUpdate']=!0x0);});}},{'key':_0x1c61('0x8dc'),'value':function(_0x5374fa,_0x18bdd0){var _0xdf0ae4=this,_0x4c782d=+_0x18bdd0[_0x1c61('0xd77')]||0x5;if(_0x5374fa[_0x1c61('0x4c0')]){var _0x42911e=!0x0,_0x27c80a=!0x1,_0x47ad9b=void 0x0;try{for(var _0x55a8a5,_0x2a47ae=(0x0,_0xab603[_0x1c61('0x8')])(_0x5374fa['brothers']);!(_0x42911e=(_0x55a8a5=_0x2a47ae['next']())[_0x1c61('0x89')]);_0x42911e=!0x0){var _0x10d5b0=_0x55a8a5[_0x1c61('0x1c')];_0x10d5b0[_0x1c61('0xd75')]>_0x4c782d?_0x5374fa['o3d_']['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa['castShadow']=!0x0,_0x5374fa[_0x1c61('0x748')]=!0x1);}):_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa['type']&&(_0x5374fa['receiveShadow']=!0x0,_0x5374fa[_0x1c61('0x747')]=!0x1);}),-0x1!=_0x10d5b0[_0x1c61('0x8e1')]['indexOf'](_0x1c61('0xd78'))?_0x5374fa[_0x1c61('0x4fc')]['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa['type']&&(_0x5374fa[_0x1c61('0x748')]=!0x0,_0x5374fa[_0x1c61('0x747')]=!0x1);}):-0x1!=_0x10d5b0[_0x1c61('0x8e1')]['indexOf']('-castShadow')?_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa['type']&&(_0x5374fa['receiveShadow']=!0x1,_0x5374fa['castShadow']=!0x0);}):-0x1!=_0x10d5b0['model'][_0x1c61('0x50')](_0x1c61('0xd79'))&&_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x748')]=!0x0,_0x5374fa[_0x1c61('0x747')]=!0x0);});}}catch(_0x3591c6){_0x27c80a=!0x0,_0x47ad9b=_0x3591c6;}finally{try{!_0x42911e&&_0x2a47ae[_0x1c61('0x99')]&&_0x2a47ae[_0x1c61('0x99')]();}finally{if(_0x27c80a)throw _0x47ad9b;}}}else _0x5374fa[_0x1c61('0x8e3')]&&(_0x5374fa[_0x1c61('0xd75')]>_0x4c782d?_0x5374fa[_0x1c61('0x4fc')]['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa['type']&&(_0x5374fa['castShadow']=!0x0,_0x5374fa['receiveShadow']=!0x1);}):_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa['type']&&(_0x5374fa[_0x1c61('0x748')]=!0x0,_0x5374fa[_0x1c61('0x747')]=!0x1);}),-0x1!=_0x5374fa[_0x1c61('0x8e1')]['indexOf'](_0x1c61('0xd78'))?_0x5374fa[_0x1c61('0x4fc')]['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x748')]=!0x0,_0x5374fa['castShadow']=!0x1);}):-0x1!=_0x5374fa['model'][_0x1c61('0x50')]('-castShadow')?_0x5374fa[_0x1c61('0x4fc')]['traverse'](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x748')]=!0x1,_0x5374fa[_0x1c61('0x747')]=!0x0);}):-0x1!=_0x5374fa['model'][_0x1c61('0x50')](_0x1c61('0xd79'))&&_0x5374fa['o3d_'][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x748')]=!0x0,_0x5374fa[_0x1c61('0x747')]=!0x0);}));_0x18bdd0['useAll']&&(_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&_0xdf0ae4[_0x1c61('0xd7a')](_0x5374fa,!0x0,!0x0);}),_0x5374fa[_0x1c61('0x4fc')][_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x331')!==_0x5374fa[_0x1c61('0x90')]&&_0x1c61('0x1c6')!==_0x5374fa[_0x1c61('0x90')]||(_0x5374fa[_0x1c61('0x7b')]&&-0x1<_0x5374fa[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0xd7b'))?_0xdf0ae4[_0x1c61('0xd7a')](_0x5374fa,!0x0,!0x1):_0x5374fa[_0x1c61('0x7b')]&&-0x1<_0x5374fa[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0xd7c'))?_0xdf0ae4[_0x1c61('0xd7a')](_0x5374fa,!0x1,!0x0):_0x5374fa[_0x1c61('0x7b')]&&-0x1<_0x5374fa[_0x1c61('0x7b')][_0x1c61('0x50')]('__no_shadow')&&_0xdf0ae4['setModelObjShadowConfig'](_0x5374fa,!0x1,!0x1)),_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa['name']&&-0x1<_0x5374fa['name']['indexOf'](_0x1c61('0xd7b'))?_0xdf0ae4[_0x1c61('0xd7a')](_0x5374fa,!0x0,!0x1):_0x5374fa['name']&&-0x1<_0x5374fa[_0x1c61('0x7b')]['indexOf'](_0x1c61('0xd7c'))?_0xdf0ae4[_0x1c61('0xd7a')](_0x5374fa,!0x1,!0x0):_0x5374fa[_0x1c61('0x7b')]&&-0x1<_0x5374fa[_0x1c61('0x7b')][_0x1c61('0x50')](_0x1c61('0xd7d'))&&_0xdf0ae4['setModelObjShadowConfig'](_0x5374fa,!0x1,!0x1));}));}},{'key':_0x1c61('0xd7a'),'value':function(_0x5374fa,_0x18bdd0,_0xdf0ae4){_0x1c61('0x331')!==_0x5374fa[_0x1c61('0x90')]&&'Group'!==_0x5374fa[_0x1c61('0x90')]||_0x5374fa[_0x1c61('0xdb')](function(_0x5374fa){_0x1c61('0x30f')===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa[_0x1c61('0x747')]=_0x18bdd0,_0x5374fa[_0x1c61('0x748')]=_0xdf0ae4);}),'Mesh'===_0x5374fa[_0x1c61('0x90')]&&(_0x5374fa['castShadow']=_0x18bdd0,_0x5374fa[_0x1c61('0x748')]=_0xdf0ae4);}},{'key':_0x1c61('0xd7e'),'value':function(_0x5374fa){var _0x18bdd0=new THREE[(_0x1c61('0x7ac'))]({'depthPacking':THREE[_0x1c61('0x7ad')]}),_0xdf0ae4=this;_0x18bdd0[_0x1c61('0x3c7')]=function(_0x5374fa){_0x5374fa[_0x1c61('0x16a')][_0x1c61('0x7a5')]={'value':_0xdf0ae4[_0x1c61('0x741')]['matrixWorldInverse']},_0x5374fa[_0x1c61('0x56')]=_0x5374fa[_0x1c61('0x56')][_0x1c61('0x3c9')](_0x1c61('0x7a8'),'#include\x20<common>\x0a'+_0xdf0ae4[_0x1c61('0x7a9')])['replace'](_0x1c61('0x3d6'),'#include\x20<uv_vertex>\x0a'+_0xdf0ae4[_0x1c61('0x792')])[_0x1c61('0x3c9')]('#include\x20<project_vertex>',_0xdf0ae4['projectVertex']);},_0x5374fa[_0x1c61('0xd7f')]=_0x18bdd0;}},{'key':_0x1c61('0xd80'),'value':function(){var _0x5374fa=new THREE[(_0x1c61('0x74f'))]()[_0x1c61('0xd81')](new THREE[(_0x1c61('0x1b8'))](0x0,0x1,0x0),this['shadowLight'][_0x1c61('0x218')]),_0x5374fa=new THREE[(_0x1c61('0x1b8'))](0x1,0x0,0x0)[_0x1c61('0xd82')](_0x5374fa);this['shadowLight'][_0x1c61('0x218')]['applyAxisAngle'](_0x5374fa,0x14);}}]),_0x18bdd0[_0x1c61('0x8')]=_0x47ad9b;},function(_0x23492a,_0x26ee26,_0x2cf242){'use strict';Object[_0x1c61('0x2')](_0x26ee26,_0x1c61('0x5'),{'value':!0x0});var _0x1152ca=_0x379d05(_0x2cf242(0x0)),_0x1a9b7a=_0x379d05(_0x2cf242(0x1)),_0x1f5009=_0x2cf242(0x1a);function _0x379d05(_0x23492a){return _0x23492a&&_0x23492a[_0x1c61('0x5')]?_0x23492a:{'default':_0x23492a};}function _0x3a7956(){(0x0,_0x1152ca[_0x1c61('0x8')])(this,_0x3a7956),this[_0x1c61('0xd9')]=(0x0,_0x1f5009[_0x1c61('0x2a')])(),this['fog']=null;}(0x0,_0x1a9b7a[_0x1c61('0x8')])(_0x3a7956,[{'key':_0x1c61('0x4ef'),'value':function(_0x23492a){_0x1c61('0x30d')===_0x23492a[_0x1c61('0x90')]&&(this[_0x1c61('0x1dd')]=new THREE[(_0x1c61('0x89c'))](0xffffff,0x0,0x3e8),_0x23492a['color']&&this['fog'][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x23492a[_0x1c61('0x228')]),_0x23492a[_0x1c61('0x300')]&&(this[_0x1c61('0x1dd')][_0x1c61('0x300')]=_0x23492a[_0x1c61('0x300')]),_0x23492a[_0x1c61('0x37f')]&&(this[_0x1c61('0x1dd')][_0x1c61('0x37f')]=_0x23492a['far']),this[_0x1c61('0xd9')][_0x1c61('0x45c')]['scene'][_0x1c61('0x1dd')]=this['fog']),_0x1c61('0xd83')===_0x23492a['type']&&(this[_0x1c61('0x1dd')]=new THREE[(_0x1c61('0xd84'))](0xcccccc,0.002),_0x23492a['color']&&this[_0x1c61('0x1dd')][_0x1c61('0x228')][_0x1c61('0x2fa')](_0x23492a[_0x1c61('0x228')]),_0x23492a[_0x1c61('0xd85')]&&(this['fog'][_0x1c61('0xd85')]=_0x23492a[_0x1c61('0xd85')]),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1dd')]=this[_0x1c61('0x1dd')]);}},{'key':'updateFog','value':function(_0x23492a){_0x1c61('0x30d')===_0x23492a['type']&&(_0x23492a[_0x1c61('0x228')]&&this[_0x1c61('0x1dd')]['color'][_0x1c61('0x2fa')](_0x23492a['color']),_0x23492a[_0x1c61('0x300')]&&(this['fog'][_0x1c61('0x300')]=_0x23492a[_0x1c61('0x300')]),_0x23492a[_0x1c61('0x37f')]&&(this['fog']['far']=_0x23492a[_0x1c61('0x37f')])),_0x1c61('0xd83')===_0x23492a[_0x1c61('0x90')]&&(_0x23492a[_0x1c61('0x228')]&&this['fog']['color'][_0x1c61('0x2fa')](_0x23492a[_0x1c61('0x228')]),_0x23492a['density']&&(this[_0x1c61('0x1dd')][_0x1c61('0xd85')]=_0x23492a['density']));}}]),_0x26ee26[_0x1c61('0x8')]=_0x3a7956;},function(_0x3e2408,_0x5d524e,_0x12ec1c){'use strict';Object[_0x1c61('0x2')](_0x5d524e,_0x1c61('0x5'),{'value':!0x0});var _0x3c6703=_0x52f3e3(_0x12ec1c(0x0)),_0x445b20=_0x52f3e3(_0x12ec1c(0x1)),_0x55699e=_0x12ec1c(0x1a),_0x20a6d1=function(_0x3e2408){if(_0x3e2408&&_0x3e2408[_0x1c61('0x5')])return _0x3e2408;var _0x5d524e={};if(null!=_0x3e2408)for(var _0x12ec1c in _0x3e2408)Object['prototype'][_0x1c61('0xc')][_0x1c61('0x0')](_0x3e2408,_0x12ec1c)&&(_0x5d524e[_0x12ec1c]=_0x3e2408[_0x12ec1c]);return _0x5d524e['default']=_0x3e2408,_0x5d524e;}(_0x12ec1c(0x41));function _0x52f3e3(_0x3e2408){return _0x3e2408&&_0x3e2408[_0x1c61('0x5')]?_0x3e2408:{'default':_0x3e2408};}function _0x1bb438(){(0x0,_0x3c6703['default'])(this,_0x1bb438),this[_0x1c61('0xd9')]=null,this['video']=null;}(0x0,_0x445b20['default'])(_0x1bb438,[{'key':_0x1c61('0x925'),'value':function(_0x3e2408){this['map']=(0x0,_0x55699e['getMapInstance'])();var _0x5d524e=(0x0,_0x55699e[_0x1c61('0x2d')])(_0x3e2408[_0x1c61('0x218')]['x'],_0x3e2408[_0x1c61('0x218')]['y']),_0x5d524e=new THREE['Vector3'](_0x5d524e['x'],_0x3e2408[_0x1c61('0x218')][_0x1c61('0x2f7')],_0x5d524e['y']),_0x12ec1c=(0x0,_0x55699e[_0x1c61('0x2d')])(_0x3e2408[_0x1c61('0x91')]['x'],_0x3e2408[_0x1c61('0x91')]['y']),_0x12ec1c=new THREE[(_0x1c61('0x1b8'))](_0x12ec1c['x'],_0x3e2408[_0x1c61('0x91')][_0x1c61('0x2f7')],_0x12ec1c['y']);return this[_0x1c61('0x730')]=new _0x20a6d1[(_0x1c61('0xa5'))]({'map':this[_0x1c61('0xd9')],'position':_0x5d524e,'target':_0x12ec1c,'receiveLayer':_0x3e2408[_0x1c61('0x7b2')],'far':_0x3e2408[_0x1c61('0x37f')],'fov':_0x3e2408['fov'],'videoAspect':_0x3e2408[_0x1c61('0x7b4')],'isShowHelper':_0x3e2408[_0x1c61('0xd86')],'isShowFarPlane':_0x3e2408['showFarPlane']}),this['video'];}},{'key':'showVisualField','value':function(_0x3e2408,_0x5d524e){this[_0x1c61('0x730')]&&this[_0x1c61('0x730')][_0x1c61('0x926')](_0x3e2408?_0x1c61('0x3d2'):_0x1c61('0x32d'));}},{'key':'updateProjectorTarget','value':function(_0x3e2408){this[_0x1c61('0x730')]&&(_0x3e2408=new THREE[(_0x1c61('0x1b8'))](_0x3e2408['x'],_0x3e2408['y'],_0x3e2408['z']),this[_0x1c61('0x730')][_0x1c61('0xd87')](_0x3e2408));}},{'key':_0x1c61('0x7c7'),'value':function(_0x3e2408){this[_0x1c61('0x730')]&&this[_0x1c61('0x730')]['isLockCameraControls'](_0x3e2408);}},{'key':'clear','value':function(){this[_0x1c61('0x730')]&&(this[_0x1c61('0x730')][_0x1c61('0xd8')](),this[_0x1c61('0x730')]=null);}}]),_0x5d524e[_0x1c61('0x8')]=_0x1bb438;},function(_0xa4518f,_0x4d70a9,_0x52776d){'use strict';Object[_0x1c61('0x2')](_0x4d70a9,'__esModule',{'value':!0x0});var _0x562cd9=_0x171788(_0x52776d(0x0));function _0x171788(_0xa4518f){return _0xa4518f&&_0xa4518f[_0x1c61('0x5')]?_0xa4518f:{'default':_0xa4518f};}function _0x5d4fce(){(0x0,_0x562cd9[_0x1c61('0x8')])(this,_0x5d4fce),this[_0x1c61('0x8b4')]=!0x1,this[_0x1c61('0xd88')]=[];}(0x0,_0x171788(_0x52776d(0x1))[_0x1c61('0x8')])(_0x5d4fce,[{'key':_0x1c61('0x1c4'),'value':function(_0xa4518f){this[_0x1c61('0xd88')][_0x1c61('0x6f')](_0xa4518f);}},{'key':_0x1c61('0xdc'),'value':function(_0xa4518f){_0xa4518f=this[_0x1c61('0xd88')]['indexOf'](_0xa4518f);-0x1<_0xa4518f&&this[_0x1c61('0xd88')][_0x1c61('0x8f')](_0xa4518f,0x1);}},{'key':_0x1c61('0x3d1'),'value':function(_0xa4518f){if(this['isCanRender'])for(var _0x4d70a9=0x0,_0x52776d=this[_0x1c61('0xd88')][_0x1c61('0xf')];_0x4d70a9<_0x52776d;_0x4d70a9++)this[_0x1c61('0xd88')][_0x4d70a9][_0x1c61('0xd89')](_0xa4518f);}},{'key':_0x1c61('0x2e2'),'value':function(){this['allMarkerList']['length']=0x0;}},{'key':_0x1c61('0xd8'),'value':function(){for(var _0xa4518f=0x0,_0x4d70a9=this['allMarkerList'][_0x1c61('0xf')];_0xa4518f<_0x4d70a9;_0xa4518f++)this[_0x1c61('0xd88')][_0xa4518f][_0x1c61('0xd8')]();this['allMarkerList'][_0x1c61('0xf')]=0x0;}}]),_0x4d70a9[_0x1c61('0x8')]=_0x5d4fce;},function(_0x3478ec,_0x5f3261,_0x3b9b19){'use strict';Object['defineProperty'](_0x5f3261,_0x1c61('0x5'),{'value':!0x0});var _0x515065=_0x12d44a(_0x3b9b19(0x0)),_0x18349f=_0x12d44a(_0x3b9b19(0x1)),_0x6e5e8f=_0x12d44a(_0x3b9b19(0x11c)),_0x4cade7=_0x12d44a(_0x3b9b19(0x46)),_0x11de2b=_0x12d44a(_0x3b9b19(0x74));function _0x12d44a(_0x3478ec){return _0x3478ec&&_0x3478ec[_0x1c61('0x5')]?_0x3478ec:{'default':_0x3478ec};}function _0x343f71(){_0x1e9102[_0x1c61('0x2db')]();}var _0x1e9102=null,_0x3b9b19=((0x0,_0x18349f[_0x1c61('0x8')])(_0x1493a6,[{'key':'addControls','value':function(){_0x1e9102=new _0x6e5e8f[(_0x1c61('0x8'))](this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')],this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0xd8a')]),this['orbitCameraFlyTo']=new _0x11de2b['default'](this[_0x1c61('0xd9')],_0x1e9102),_0x1e9102[_0x1c61('0x416')]=!0x0,_0x1e9102['enablePan']=!0x1,_0x1e9102['enableZoom']=!0x1,_0x1e9102[_0x1c61('0x7d2')]=0.00001;var _0x3478ec=this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x91')][_0x1c61('0x1b1')]()[_0x1c61('0x2f6')](this['map']['controls'][_0x1c61('0x6')][_0x1c61('0x218')][_0x1c61('0x1b1')]())[_0x1c61('0x1c1')](),_0x3478ec=this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')][_0x1c61('0x1b1')]()[_0x1c61('0x1c4')](_0x3478ec[_0x1c61('0x1c3')](0.00001));_0x1e9102[_0x1c61('0x6')][_0x1c61('0x218')]['copy'](this[_0x1c61('0xd9')]['controls'][_0x1c61('0x6')][_0x1c61('0x218')]),_0x1e9102[_0x1c61('0x91')][_0x1c61('0x1c2')](_0x3478ec),_0x1e9102[_0x1c61('0x6')][_0x1c61('0x3f6')](_0x3478ec),this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['enabled']=!0x1,this['map']['mapView'][_0x1c61('0x51f')][_0x1c61('0xd8b')]=!0x1,_0x1e9102[_0x1c61('0xd8c')]=!0x1,_0x1e9102[_0x1c61('0xd8d')]=0.4,_0x1e9102['rotateSpeed']=0.5,this['map']['on'](_0x1c61('0x2db'),_0x343f71);}},{'key':'removeControls','value':function(){_0x1e9102['dispose'](),_0x1e9102=null,this[_0x1c61('0xd9')]['controls'][_0x1c61('0x416')]=!0x0,this['map'][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0xd8b')]=!0x0,this[_0x1c61('0xd9')][_0x1c61('0xd8e')]('update',_0x343f71);}},{'key':_0x1c61('0xd8f'),'value':function(){_0x1e9102[_0x1c61('0xd8')](),_0x1e9102=null,this[_0x1c61('0xd9')]['controls']['enabled']=!0x0,this['map'][_0x1c61('0x45c')][_0x1c61('0x51f')][_0x1c61('0xd8b')]=!0x0,this[_0x1c61('0xd9')][_0x1c61('0xd8e')](_0x1c61('0x2db'),_0x343f71);var _0x3478ec=this[_0x1c61('0xd9')]['getScreenCenter'](0x0);_0x3478ec&&(this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x91')][_0x1c61('0x1c2')](_0x3478ec),this[_0x1c61('0xd9')][_0x1c61('0x2bc')]['object'][_0x1c61('0x3f6')](_0x3478ec),this['map']['controls'][_0x1c61('0x2db')]());}},{'key':_0x1c61('0xd90'),'value':function(_0x3478ec,_0x5f3261,_0x3b9b19){new TWEEN[(_0x1c61('0x2d4'))]({'angle':_0x3478ec})['to']({'angle':_0x5f3261},0x3e8)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')]['Out'])[_0x1c61('0x2da')](function(_0x3478ec,_0x5f3261){_0x1e9102[_0x1c61('0x2db')]({'forcePhi':THREE[_0x1c61('0x15')][_0x1c61('0x2d3')](_0x3478ec[_0x1c61('0x1f7')])});})['onComplete'](function(){_0x3b9b19&&_0x3b9b19();})['start']();}},{'key':_0x1c61('0xd91'),'value':function(_0x3478ec){_0x3478ec[_0x1c61('0xd92')];var _0x3478ec=_0x3478ec[_0x1c61('0x226')],_0x5f3261=this,_0x3b9b19=new THREE['TextureLoader']()['load'](esmap['ESEffectTool'][_0x1c61('0x52')]+_0x1c61('0xd93')),_0x3478ec=new THREE[(_0x1c61('0x3d0'))](_0x3478ec,_0x3478ec),_0x3b9b19=new THREE['MeshBasicMaterial']({'map':_0x3b9b19,'transparent':!0x0});this[_0x1c61('0xd94')]=new THREE[(_0x1c61('0x30f'))](_0x3478ec,_0x3b9b19),this[_0x1c61('0xd94')][_0x1c61('0x311')]=0x46,this[_0x1c61('0xd9')]['mapView'][_0x1c61('0x456')][_0x1c61('0x1c4')](this['pickAnimateObj']),this['map']['on'](_0x1c61('0x337'),function(_0x3478ec){_0x5f3261[_0x1c61('0xd94')]&&_0x3478ec[_0x1c61('0xd95')]&&_0x3478ec[_0x1c61('0x6')]&&_0x1c61('0x30f')===_0x3478ec[_0x1c61('0x6')][_0x1c61('0x90')]&&_0x1c61('0x6c')===_0x3478ec[_0x1c61('0x6')]['type_']&&!_0x5f3261[_0x1c61('0xd96')]&&_0x5f3261[_0x1c61('0xd97')](_0x3478ec);});}},{'key':'updateGroundPick','value':function(_0x3478ec){this[_0x1c61('0xd96')]=!0x0;var _0x5f3261,_0x3b9b19=_0x3478ec[_0x1c61('0x323')]['clone'](),_0x515065=this[_0x1c61('0xd9')]['coordThreeToMap'](_0x3b9b19);this[_0x1c61('0xd98')](_0x515065)?((_0x515065=_0x3478ec[_0x1c61('0xd95')]['normal'][_0x1c61('0x1b1')]())[_0x1c61('0xd99')](_0x3478ec[_0x1c61('0x6')][_0x1c61('0x371')]),_0x515065[_0x1c61('0x1c3')](0.1),_0x515065['add'](_0x3b9b19),(_0x5f3261=_0x3478ec[_0x1c61('0xd95')]['normal'][_0x1c61('0x1b1')]())[_0x1c61('0xd99')](_0x3478ec[_0x1c61('0x6')][_0x1c61('0x371')]),_0x5f3261[_0x1c61('0x1c3')](0.05),_0x5f3261[_0x1c61('0x1c4')](_0x3b9b19),this[_0x1c61('0xd94')][_0x1c61('0x218')]['copy'](_0x5f3261),this['pickAnimateObj']['lookAt'](_0x515065),this[_0x1c61('0xd9a')](new THREE[(_0x1c61('0x1b8'))](_0x5f3261['x'],this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')][_0x1c61('0x218')]['y'],_0x5f3261['z']))):this[_0x1c61('0xd96')]=!0x1;}},{'key':_0x1c61('0xd98'),'value':function(_0x3478ec){_0x3478ec=this[_0x1c61('0xd9')][_0x1c61('0x7ce')]({'startCoord':{'x':_0x3478ec['x'],'y':_0x3478ec['y'],'z':0x3},'endCoord':{'x':_0x3478ec['x'],'y':_0x3478ec['y'],'z':0x0},'debug':!0x1,'mode':_0x1c61('0x1f0')});if(_0x3478ec&&0x3*0.99<0x3-_0x3478ec[_0x1c61('0x323')]['y'])return!0x0;return!0x1;}},{'key':_0x1c61('0xd9a'),'value':function(_0x3478ec){this[_0x1c61('0xd96')]=!0x1;var _0x3b9b19,_0x5f3261=_0x3478ec[_0x1c61('0x1b1')]()[_0x1c61('0x2c3')](this['map'][_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')]),_0x5f3261=(_0x1e9102[_0x1c61('0xd9b')]=_0x3b9b19=0.1*_0x5f3261,_0x1e9102['target']['clone']()[_0x1c61('0x2f6')](this[_0x1c61('0xd9')][_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')][_0x1c61('0x1b1')]())[_0x1c61('0x1c1')]()),_0x5f3261=this[_0x1c61('0xd9')]['controls'][_0x1c61('0x6')]['position']['clone']()[_0x1c61('0x1c4')](_0x5f3261[_0x1c61('0x1c3')](_0x3b9b19));_0x1e9102['target']=_0x5f3261,new TWEEN[(_0x1c61('0x2d4'))](_0x1e9102[_0x1c61('0x91')])['to'](_0x3478ec,0x7d0)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')][_0x1c61('0xd9c')])[_0x1c61('0x2da')](function(_0x3478ec,_0x5f3261){_0x1e9102[_0x1c61('0xd9b')]=(_0x3b9b19-0.00001)*(0x1-_0x5f3261)+0.00001;})[_0x1c61('0x843')](function(){})[_0x1c61('0x2d9')]();}},{'key':_0x1c61('0xd9d'),'value':function(_0x3478ec){var _0x5f3261=this,_0x3b9b19=_0x3478ec[_0x1c61('0x1b1')]()[_0x1c61('0x2f6')](this[_0x1c61('0xd9')]['controls']['object'][_0x1c61('0x218')][_0x1c61('0x1b1')]())[_0x1c61('0x1c1')](),_0x3b9b19=_0x3478ec[_0x1c61('0x1b1')]()['add'](_0x3b9b19[_0x1c61('0x1c3')](0.00001));THREE['Math'][_0x1c61('0xa7d')](_0x1e9102[_0x1c61('0xd9e')]()),THREE['Math'][_0x1c61('0xa7d')](_0x1e9102[_0x1c61('0xd9f')]()),_0x5f3261['orbitCameraFlyTo'][_0x1c61('0x2ce')](_0x3478ec['clone'](),_0x3b9b19,0x7d0,function(){_0x5f3261[_0x1c61('0xd96')]=!0x1;});}},{'key':_0x1c61('0xda0'),'value':function(_0x3478ec,_0x5f3261){_0x1e9102['target'][_0x1c61('0x1c2')](_0x5f3261),new TWEEN['Tween'](_0x3478ec)['to'](_0x5f3261,0x7d0)[_0x1c61('0x2d5')](TWEEN[_0x1c61('0x2d6')][_0x1c61('0x2d7')][_0x1c61('0x2de')])[_0x1c61('0x2da')](function(_0x3478ec,_0x5f3261){_0x5f3261<0.99&&_0x1e9102[_0x1c61('0x6')][_0x1c61('0x218')][_0x1c61('0x1c2')](_0x3478ec);})['start']();}},{'key':_0x1c61('0xda1'),'value':function(_0x3478ec,_0x5f3261){_0x5f3261=new THREE['Mesh'](new THREE['SphereBufferGeometry'](0x2),new THREE['MeshBasicMaterial']({'color':_0x5f3261}));_0x5f3261[_0x1c61('0x218')][_0x1c61('0x1c2')](_0x3478ec),this[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x5f3261);}},{'key':_0x1c61('0xda2'),'value':function(){_0x4cade7[_0x1c61('0x8')][_0x1c61('0xda3')](this[_0x1c61('0xd94')]),this[_0x1c61('0xd94')]=null;}}]),_0x1493a6);function _0x1493a6(_0x3478ec){(0x0,_0x515065[_0x1c61('0x8')])(this,_0x1493a6),this[_0x1c61('0xd9')]=_0x3478ec,this[_0x1c61('0xd94')]=null,this[_0x1c61('0x872')]=new _0x11de2b['default'](this['map'],this[_0x1c61('0xd9')][_0x1c61('0x2bc')]),this[_0x1c61('0xda4')]=null,this[_0x1c61('0xd96')]=!0x1;}_0x5f3261[_0x1c61('0x8')]=_0x3b9b19;},function(_0x53e096,_0x4b6945,_0x37464f){'use strict';Object[_0x1c61('0x2')](_0x4b6945,_0x1c61('0x5'),{'value':!0x0});var _0x448ed4=_0x453fe5(_0x37464f(0x58)),_0x37464f=_0x453fe5(_0x37464f(0x1d));function _0x453fe5(_0x53e096){return _0x53e096&&_0x53e096[_0x1c61('0x5')]?_0x53e096:{'default':_0x53e096};}function _0x28e8cf(_0x53e096,_0x4b6945){this[_0x1c61('0x6')]=_0x53e096,this[_0x1c61('0xda5')]=void 0x0!==_0x4b6945?_0x4b6945:document,this[_0x1c61('0x416')]=!0x0,this[_0x1c61('0x91')]=new THREE[(_0x1c61('0x1b8'))](),this[_0x1c61('0x7d2')]=0x0,this[_0x1c61('0xd9b')]=0x1/0x0,this['minZoom']=0x0,this['maxZoom']=0x1/0x0,this['minPolarAngle']=0x0,this[_0x1c61('0xda6')]=Math['PI'],this['minAzimuthAngle']=-0x1/0x0,this[_0x1c61('0xda7')]=0x1/0x0,this[_0x1c61('0xda8')]=!0x1,this[_0x1c61('0xda9')]=0.25,this[_0x1c61('0x2e0')]=!0x0,this[_0x1c61('0xdaa')]=0x1,this[_0x1c61('0xdab')]=!0x0,this[_0x1c61('0x61c')]=0x1,this[_0x1c61('0x2df')]=!0x0,this[_0x1c61('0xdac')]=0x1,this['screenSpacePanning']=!0x1,this[_0x1c61('0xdad')]=0x7,this[_0x1c61('0xd8c')]=!0x1,this['autoRotateSpeed']=0x2,this[_0x1c61('0xdae')]=!0x0,this[_0x1c61('0x1e')]={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this[_0x1c61('0xdaf')]={'LEFT':THREE[_0x1c61('0xdb0')][_0x1c61('0xdb1')],'MIDDLE':THREE[_0x1c61('0xdb0')][_0x1c61('0xdb2')],'RIGHT':THREE[_0x1c61('0xdb0')][_0x1c61('0xdb3')]},this[_0x1c61('0xdb4')]=this[_0x1c61('0x91')][_0x1c61('0x1b1')](),this[_0x1c61('0xdb5')]=this['object'][_0x1c61('0x218')][_0x1c61('0x1b1')](),this[_0x1c61('0xdb6')]=this[_0x1c61('0x6')][_0x1c61('0xdb7')],this['getPolarAngle']=function(){return _0x4050e9[_0x1c61('0x497')];},this[_0x1c61('0xd9f')]=function(){return _0x4050e9[_0x1c61('0x496')];},this[_0x1c61('0xdb8')]=function(){_0x11f0fc['target0'][_0x1c61('0x1c2')](_0x11f0fc[_0x1c61('0x91')]),_0x11f0fc[_0x1c61('0xdb5')][_0x1c61('0x1c2')](_0x11f0fc['object'][_0x1c61('0x218')]),_0x11f0fc[_0x1c61('0xdb6')]=_0x11f0fc[_0x1c61('0x6')]['zoom'];},this[_0x1c61('0x214')]=function(){_0x11f0fc['target'][_0x1c61('0x1c2')](_0x11f0fc['target0']),_0x11f0fc[_0x1c61('0x6')]['position'][_0x1c61('0x1c2')](_0x11f0fc[_0x1c61('0xdb5')]),_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdb7')]=_0x11f0fc['zoom0'],_0x11f0fc['object'][_0x1c61('0x6d3')](),_0x11f0fc[_0x1c61('0x488')](_0x58c09f),_0x11f0fc[_0x1c61('0x2db')](),_0x5efb96=_0x351e2f[_0x1c61('0xdb9')];},this[_0x1c61('0x2db')]=(_0x37464f=new THREE[(_0x1c61('0x1b8'))](),_0x448ed4=new THREE[(_0x1c61('0x74f'))]()['setFromUnitVectors'](_0x53e096['up'],new THREE[(_0x1c61('0x1b8'))](0x0,0x1,0x0)),_0x453fe5=_0x448ed4[_0x1c61('0x1b1')]()[_0x1c61('0xdba')](),_0x28e8cf=new THREE[(_0x1c61('0x1b8'))](),_0x5c9d50=new THREE[(_0x1c61('0x74f'))](),function(_0x53e096){var _0x4b6945=_0x11f0fc['object']['position'];return _0x37464f['copy'](_0x4b6945)[_0x1c61('0x2f6')](_0x11f0fc[_0x1c61('0x91')]),_0x37464f[_0x1c61('0xd82')](_0x448ed4),_0x4050e9[_0x1c61('0xdbb')](_0x37464f),_0x11f0fc[_0x1c61('0xd8c')]&&_0x5efb96===_0x351e2f[_0x1c61('0xdb9')]&&_0x4f1fc7(0x2*Math['PI']/0x3c/0x3c*_0x11f0fc[_0x1c61('0xd8d')]),_0x4050e9[_0x1c61('0x496')]+=_0x2be12e[_0x1c61('0x496')],_0x4050e9[_0x1c61('0x497')]+=_0x2be12e[_0x1c61('0x497')],_0x53e096&&(_0x53e096[_0x1c61('0xc')](_0x1c61('0xdbc'))&&(_0x4050e9[_0x1c61('0x496')]=_0x53e096[_0x1c61('0xdbc')],_0x2be12e[_0x1c61('0x496')]=0x0),_0x53e096[_0x1c61('0xc')](_0x1c61('0xdbd'))&&(_0x4050e9[_0x1c61('0x497')]=_0x53e096['forcePhi'],_0x2be12e[_0x1c61('0x497')]=0x0),_0x53e096[_0x1c61('0xc')](_0x1c61('0xdbe'))&&(_0x4050e9[_0x1c61('0x226')]=_0x53e096[_0x1c61('0xdbe')],_0x48582e=0x1)),_0x4050e9[_0x1c61('0x496')]=Math[_0x1c61('0x101')](_0x11f0fc[_0x1c61('0xdbf')],Math[_0x1c61('0x7d')](_0x11f0fc['maxAzimuthAngle'],_0x4050e9[_0x1c61('0x496')])),_0x4050e9[_0x1c61('0x497')]=Math[_0x1c61('0x101')](_0x11f0fc[_0x1c61('0xdc0')],Math[_0x1c61('0x7d')](_0x11f0fc[_0x1c61('0xda6')],_0x4050e9[_0x1c61('0x497')])),_0x4050e9[_0x1c61('0xdc1')](),_0x4050e9['radius']*=_0x48582e,_0x4050e9['radius']=Math[_0x1c61('0x101')](_0x11f0fc[_0x1c61('0x7d2')],Math[_0x1c61('0x7d')](_0x11f0fc[_0x1c61('0xd9b')],_0x4050e9[_0x1c61('0x226')])),_0x11f0fc[_0x1c61('0x91')][_0x1c61('0x1c4')](_0x28f027),_0x37464f[_0x1c61('0xdc2')](_0x4050e9),_0x37464f[_0x1c61('0xd82')](_0x453fe5),_0x4b6945[_0x1c61('0x1c2')](_0x11f0fc[_0x1c61('0x91')])['add'](_0x37464f),_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x3f6')](_0x11f0fc[_0x1c61('0x91')]),!0x0===_0x11f0fc[_0x1c61('0xda8')]?(_0x2be12e[_0x1c61('0x496')]*=0x1-_0x11f0fc[_0x1c61('0xda9')],_0x2be12e[_0x1c61('0x497')]*=0x1-_0x11f0fc[_0x1c61('0xda9')],_0x28f027[_0x1c61('0x1c3')](0x1-_0x11f0fc[_0x1c61('0xda9')])):(_0x2be12e['set'](0x0,0x0,0x0),_0x28f027[_0x1c61('0x1b')](0x0,0x0,0x0)),_0x48582e=0x1,!(!(_0x3c356a||_0x28e8cf[_0x1c61('0xdc3')](_0x11f0fc[_0x1c61('0x6')]['position'])>_0x300080||0x8*(0x1-_0x5c9d50[_0x1c61('0x69c')](_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdc4')]))>_0x300080)||(_0x11f0fc[_0x1c61('0x488')](_0x58c09f),_0x28e8cf[_0x1c61('0x1c2')](_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x218')]),_0x5c9d50['copy'](_0x11f0fc[_0x1c61('0x6')]['quaternion']),_0x3c356a=!0x1));}),this['dispose']=function(){_0x11f0fc['domElement'][_0x1c61('0x33a')](_0x1c61('0xdc5'),_0x48ecdd,!0x1),_0x11f0fc['domElement'][_0x1c61('0x33a')](_0x1c61('0xdc6'),_0x48b8c8,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x33a')](_0x1c61('0xdc7'),_0x4d20d6,!0x1),_0x11f0fc['domElement'][_0x1c61('0x33a')](_0x1c61('0xdc8'),_0x26e24e,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x33a')]('touchend',_0x10533e,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x33a')](_0x1c61('0xdc9'),_0x568d4c,!0x1),document[_0x1c61('0x33a')](_0x1c61('0xdca'),_0x4d9ff6,!0x1),document['removeEventListener'](_0x1c61('0xdcb'),_0x2716f8,!0x1),window[_0x1c61('0x33a')](_0x1c61('0xdcc'),_0x113087,!0x1);};var _0x37464f,_0x448ed4,_0x453fe5,_0x28e8cf,_0x5c9d50,_0x11f0fc=this,_0x58c09f={'type':_0x1c61('0xdcd')},_0x21e17b={'type':_0x1c61('0x2d9')},_0x1d84e9={'type':_0x1c61('0x40e')},_0x351e2f={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x5efb96=_0x351e2f[_0x1c61('0xdb9')],_0x300080=0.000001,_0x4050e9=new THREE[(_0x1c61('0xd61'))](),_0x2be12e=new THREE[(_0x1c61('0xd61'))](),_0x48582e=0x1,_0x28f027=new THREE[(_0x1c61('0x1b8'))](),_0x3c356a=!0x1,_0x20b755=new THREE[(_0x1c61('0x1cf'))](),_0x2a8f2f=new THREE[(_0x1c61('0x1cf'))](),_0x5cdb9e=new THREE['Vector2'](),_0x3ece13=new THREE['Vector2'](),_0x390639=new THREE[(_0x1c61('0x1cf'))](),_0x23ceaa=new THREE[(_0x1c61('0x1cf'))](),_0x2fa0e6=new THREE[(_0x1c61('0x1cf'))](),_0x3ba118=new THREE['Vector2'](),_0x2e77f0=new THREE[(_0x1c61('0x1cf'))]();function _0x38c0aa(){return Math[_0x1c61('0x5e0')](0.95,_0x11f0fc['zoomSpeed']);}function _0x4f1fc7(_0x53e096){_0x2be12e[_0x1c61('0x496')]-=_0x53e096;}function _0x14cfa5(_0x53e096){_0x2be12e[_0x1c61('0x497')]-=_0x53e096;}function _0x1df74e(_0x53e096,_0x4b6945){_0x8aaf48['setFromMatrixColumn'](_0x4b6945,0x0),_0x8aaf48['multiplyScalar'](-_0x53e096),_0x28f027['add'](_0x8aaf48);}function _0x360922(_0x53e096,_0x4b6945){!0x0===_0x11f0fc['screenSpacePanning']?_0x2f8e0f[_0x1c61('0xdce')](_0x4b6945,0x1):(_0x2f8e0f[_0x1c61('0xdce')](_0x4b6945,0x0),_0x2f8e0f['crossVectors'](_0x11f0fc[_0x1c61('0x6')]['up'],_0x2f8e0f)),_0x2f8e0f[_0x1c61('0x1c3')](_0x53e096),_0x28f027['add'](_0x2f8e0f);}var _0x8aaf48,_0x2f8e0f,_0xfd2c7d,_0x8aaf48=new THREE[(_0x1c61('0x1b8'))](),_0x4ec008=(_0x2f8e0f=new THREE[(_0x1c61('0x1b8'))](),_0xfd2c7d=new THREE[(_0x1c61('0x1b8'))](),function(_0x53e096,_0x4b6945){var _0x37464f,_0x448ed4=_0x11f0fc[_0x1c61('0xda5')]===document?_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0xdcf')]:_0x11f0fc['domElement'];_0x11f0fc['object'][_0x1c61('0xd2a')]?(_0x37464f=_0x11f0fc['object'][_0x1c61('0x218')],_0xfd2c7d[_0x1c61('0x1c2')](_0x37464f)[_0x1c61('0x2f6')](_0x11f0fc['target']),_0x37464f=_0xfd2c7d[_0x1c61('0xf')](),_0x37464f*=Math[_0x1c61('0x9f6')](_0x11f0fc[_0x1c61('0x6')]['fov']/0x2*Math['PI']/0xb4),_0x1df74e(0x2*_0x53e096*_0x37464f/_0x448ed4[_0x1c61('0xdd0')],_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x73a')]),_0x360922(0x2*_0x4b6945*_0x37464f/_0x448ed4['clientHeight'],_0x11f0fc[_0x1c61('0x6')]['matrix'])):_0x11f0fc['object'][_0x1c61('0xdd1')]?(_0x1df74e(_0x53e096*(_0x11f0fc['object']['right']-_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x33f')])/_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdb7')]/_0x448ed4[_0x1c61('0xdd2')],_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x73a')]),_0x360922(_0x4b6945*(_0x11f0fc['object'][_0x1c61('0x5c0')]-_0x11f0fc[_0x1c61('0x6')]['bottom'])/_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdb7')]/_0x448ed4[_0x1c61('0xdd0')],_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x73a')])):_0x11f0fc[_0x1c61('0x2df')]=!0x1;});function _0x592837(_0x53e096){_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xd2a')]?_0x48582e/=_0x53e096:_0x11f0fc['object']['isOrthographicCamera']?(_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdb7')]=Math[_0x1c61('0x101')](_0x11f0fc[_0x1c61('0xdd3')],Math[_0x1c61('0x7d')](_0x11f0fc['maxZoom'],_0x11f0fc['object'][_0x1c61('0xdb7')]*_0x53e096)),_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x6d3')](),_0x3c356a=!0x0):_0x11f0fc[_0x1c61('0x2e0')]=!0x1;}function _0x27e4ce(_0x53e096){_0x11f0fc[_0x1c61('0x6')]['isPerspectiveCamera']?_0x48582e*=_0x53e096:_0x11f0fc['object'][_0x1c61('0xdd1')]?(_0x11f0fc[_0x1c61('0x6')][_0x1c61('0xdb7')]=Math[_0x1c61('0x101')](_0x11f0fc['minZoom'],Math[_0x1c61('0x7d')](_0x11f0fc[_0x1c61('0xdd4')],_0x11f0fc['object'][_0x1c61('0xdb7')]/_0x53e096)),_0x11f0fc[_0x1c61('0x6')][_0x1c61('0x6d3')](),_0x3c356a=!0x0):_0x11f0fc[_0x1c61('0x2e0')]=!0x1;}function _0x51e2e1(_0x53e096){_0x3ece13[_0x1c61('0x1b')](_0x53e096[_0x1c61('0x33e')],_0x53e096[_0x1c61('0xdd5')]);}function _0x48b8c8(_0x53e096){if(!0x1!==_0x11f0fc['enabled']){switch(_0x53e096[_0x1c61('0xdd6')](),(_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0xdd7')]?_0x11f0fc[_0x1c61('0xda5')]:window)[_0x1c61('0xdd7')](),_0x53e096['button']){case _0x11f0fc[_0x1c61('0xdaf')][_0x1c61('0xdb1')]:if(_0x53e096[_0x1c61('0xdd8')]||_0x53e096[_0x1c61('0xdd9')]||_0x53e096['shiftKey']){if(!0x1===_0x11f0fc['enablePan'])return;_0x51e2e1(_0x53e096),_0x5efb96=_0x351e2f[_0x1c61('0xdda')];}else{if(!0x1===_0x11f0fc[_0x1c61('0xdab')])return;_0x20b755[_0x1c61('0x1b')](_0x53e096[_0x1c61('0x33e')],_0x53e096[_0x1c61('0xdd5')]),_0x5efb96=_0x351e2f[_0x1c61('0xddb')];}break;case _0x11f0fc[_0x1c61('0xdaf')][_0x1c61('0xdb2')]:if(!0x1===_0x11f0fc[_0x1c61('0x2e0')])return;_0x2fa0e6[_0x1c61('0x1b')](_0x53e096[_0x1c61('0x33e')],_0x53e096[_0x1c61('0xdd5')]),_0x5efb96=_0x351e2f[_0x1c61('0xddc')];break;case _0x11f0fc[_0x1c61('0xdaf')]['RIGHT']:if(!0x1===_0x11f0fc[_0x1c61('0x2df')])return;_0x51e2e1(_0x53e096),_0x5efb96=_0x351e2f['PAN'];}_0x5efb96!==_0x351e2f[_0x1c61('0xdb9')]&&(document[_0x1c61('0x2aa')](_0x1c61('0xdca'),_0x4d9ff6,!0x1),document[_0x1c61('0x2aa')](_0x1c61('0xdcb'),_0x2716f8,!0x1),_0x11f0fc['dispatchEvent'](_0x21e17b));}}function _0x4d9ff6(_0x53e096){var _0x4b6945;if(!0x1!==_0x11f0fc[_0x1c61('0x416')])switch(_0x53e096[_0x1c61('0xdd6')](),_0x5efb96){case _0x351e2f[_0x1c61('0xddb')]:if(!0x1===_0x11f0fc[_0x1c61('0xdab')])return;_0x2a8f2f['set'](_0x53e096['clientX'],_0x53e096[_0x1c61('0xdd5')]),_0x5cdb9e[_0x1c61('0x317')](_0x2a8f2f,_0x20b755)['multiplyScalar'](_0x11f0fc['rotateSpeed']),_0x4b6945=_0x11f0fc['domElement']===document?_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0xdcf')]:_0x11f0fc[_0x1c61('0xda5')],_0x4f1fc7(0x2*Math['PI']*_0x5cdb9e['x']/_0x4b6945[_0x1c61('0xdd0')]),_0x14cfa5(0x2*Math['PI']*_0x5cdb9e['y']/_0x4b6945[_0x1c61('0xdd0')]),_0x20b755[_0x1c61('0x1c2')](_0x2a8f2f),_0x11f0fc['update']();break;case _0x351e2f[_0x1c61('0xddc')]:if(!0x1===_0x11f0fc['enableZoom'])return;_0x3ba118[_0x1c61('0x1b')](_0x53e096[_0x1c61('0x33e')],_0x53e096[_0x1c61('0xdd5')]),_0x2e77f0[_0x1c61('0x317')](_0x3ba118,_0x2fa0e6),0x0<_0x2e77f0['y']?_0x592837(_0x38c0aa()):_0x2e77f0['y']<0x0&&_0x27e4ce(_0x38c0aa()),_0x2fa0e6[_0x1c61('0x1c2')](_0x3ba118),_0x11f0fc[_0x1c61('0x2db')]();break;case _0x351e2f[_0x1c61('0xdda')]:if(!0x1===_0x11f0fc[_0x1c61('0x2df')])return;_0x390639[_0x1c61('0x1b')](_0x53e096[_0x1c61('0x33e')],_0x53e096['clientY']),_0x23ceaa[_0x1c61('0x317')](_0x390639,_0x3ece13)[_0x1c61('0x1c3')](_0x11f0fc[_0x1c61('0xdac')]),_0x4ec008(_0x23ceaa['x'],_0x23ceaa['y']),_0x3ece13[_0x1c61('0x1c2')](_0x390639),_0x11f0fc[_0x1c61('0x2db')]();}}function _0x2716f8(_0x53e096){!0x1!==_0x11f0fc[_0x1c61('0x416')]&&(document[_0x1c61('0x33a')](_0x1c61('0xdca'),_0x4d9ff6,!0x1),document[_0x1c61('0x33a')]('mouseup',_0x2716f8,!0x1),_0x11f0fc['dispatchEvent'](_0x1d84e9),_0x5efb96=_0x351e2f['NONE']);}function _0x4d20d6(_0x53e096){!0x1===_0x11f0fc[_0x1c61('0x416')]||!0x1===_0x11f0fc[_0x1c61('0x2e0')]||_0x5efb96!==_0x351e2f[_0x1c61('0xdb9')]&&_0x5efb96!==_0x351e2f[_0x1c61('0xddb')]||(_0x53e096[_0x1c61('0xdd6')](),_0x53e096[_0x1c61('0xddd')](),_0x11f0fc[_0x1c61('0x488')](_0x21e17b),(_0x53e096=_0x53e096)['deltaY']<0x0?_0x27e4ce(_0x38c0aa()):0x0<_0x53e096[_0x1c61('0xdde')]&&_0x592837(_0x38c0aa()),_0x11f0fc['update'](),_0x11f0fc[_0x1c61('0x488')](_0x1d84e9));}function _0x113087(_0x53e096){if(!0x1!==_0x11f0fc[_0x1c61('0x416')]&&!0x1!==_0x11f0fc[_0x1c61('0xdae')]&&!0x1!==_0x11f0fc[_0x1c61('0x2df')]){var _0x4b6945=!0x1;switch(_0x53e096[_0x1c61('0xddf')]){case _0x11f0fc['keys']['UP']:_0x4ec008(0x0,_0x11f0fc[_0x1c61('0xdad')]),_0x4b6945=!0x0;break;case _0x11f0fc[_0x1c61('0x1e')][_0x1c61('0xde0')]:_0x4ec008(0x0,-_0x11f0fc[_0x1c61('0xdad')]),_0x4b6945=!0x0;break;case _0x11f0fc['keys'][_0x1c61('0xdb1')]:_0x4ec008(_0x11f0fc[_0x1c61('0xdad')],0x0),_0x4b6945=!0x0;break;case _0x11f0fc[_0x1c61('0x1e')]['RIGHT']:_0x4ec008(-_0x11f0fc[_0x1c61('0xdad')],0x0),_0x4b6945=!0x0;}_0x4b6945&&(_0x53e096[_0x1c61('0xdd6')](),_0x11f0fc[_0x1c61('0x2db')]());}}function _0x26e24e(_0x53e096){if(!0x1!==_0x11f0fc[_0x1c61('0x416')]){switch(_0x53e096['preventDefault'](),_0x53e096['touches'][_0x1c61('0xf')]){case 0x1:if(!0x1===_0x11f0fc['enableRotate'])return;_0x20b755[_0x1c61('0x1b')](_0x53e096[_0x1c61('0xde1')][0x0][_0x1c61('0xde2')],_0x53e096[_0x1c61('0xde1')][0x0][_0x1c61('0xde3')]),_0x5efb96=_0x351e2f[_0x1c61('0xde4')];break;case 0x2:if(!0x1===_0x11f0fc[_0x1c61('0x2e0')]&&!0x1===_0x11f0fc['enablePan'])return;_0x4b6945=_0x53e096,_0x11f0fc['enableZoom']&&(_0x448ed4=_0x4b6945[_0x1c61('0xde1')][0x0]['pageX']-_0x4b6945[_0x1c61('0xde1')][0x1][_0x1c61('0xde2')],_0x37464f=_0x4b6945[_0x1c61('0xde1')][0x0][_0x1c61('0xde3')]-_0x4b6945[_0x1c61('0xde1')][0x1][_0x1c61('0xde3')],_0x448ed4=Math[_0x1c61('0x1be')](_0x448ed4*_0x448ed4+_0x37464f*_0x37464f),_0x2fa0e6['set'](0x0,_0x448ed4)),_0x11f0fc['enablePan']&&(_0x37464f=0.5*(_0x4b6945[_0x1c61('0xde1')][0x0]['pageX']+_0x4b6945[_0x1c61('0xde1')][0x1][_0x1c61('0xde2')]),_0x448ed4=0.5*(_0x4b6945['touches'][0x0]['pageY']+_0x4b6945[_0x1c61('0xde1')][0x1][_0x1c61('0xde3')]),_0x3ece13[_0x1c61('0x1b')](_0x37464f,_0x448ed4)),_0x5efb96=_0x351e2f['TOUCH_DOLLY_PAN'];break;default:_0x5efb96=_0x351e2f[_0x1c61('0xdb9')];}var _0x4b6945,_0x37464f,_0x448ed4;_0x5efb96!==_0x351e2f['NONE']&&_0x11f0fc[_0x1c61('0x488')](_0x21e17b);}}function _0x568d4c(_0x53e096){var _0x4b6945,_0x37464f,_0x448ed4;if(!0x1!==_0x11f0fc[_0x1c61('0x416')])switch(_0x53e096[_0x1c61('0xdd6')](),_0x53e096[_0x1c61('0xddd')](),_0x53e096['touches'][_0x1c61('0xf')]){case 0x1:if(!0x1===_0x11f0fc[_0x1c61('0xdab')])return;if(_0x5efb96!==_0x351e2f[_0x1c61('0xde4')])return;_0x2a8f2f[_0x1c61('0x1b')](_0x53e096[_0x1c61('0xde1')][0x0][_0x1c61('0xde2')],_0x53e096[_0x1c61('0xde1')][0x0]['pageY']),_0x5cdb9e[_0x1c61('0x317')](_0x20b755,_0x2a8f2f)[_0x1c61('0x1c3')](_0x11f0fc[_0x1c61('0x61c')]),_0x448ed4=_0x11f0fc['domElement']===document?_0x11f0fc['domElement'][_0x1c61('0xdcf')]:_0x11f0fc['domElement'],_0x4f1fc7(0x2*Math['PI']*_0x5cdb9e['x']/_0x448ed4[_0x1c61('0xdd0')]),_0x14cfa5(0x2*Math['PI']*_0x5cdb9e['y']/_0x448ed4[_0x1c61('0xdd0')]),_0x20b755[_0x1c61('0x1c2')](_0x2a8f2f),_0x11f0fc[_0x1c61('0x2db')]();break;case 0x2:if(!0x1===_0x11f0fc[_0x1c61('0x2e0')]&&!0x1===_0x11f0fc[_0x1c61('0x2df')])return;if(_0x5efb96!==_0x351e2f[_0x1c61('0xde5')])return;_0x448ed4=_0x53e096,_0x11f0fc[_0x1c61('0x2e0')]&&(_0x37464f=_0x448ed4[_0x1c61('0xde1')][0x0]['pageX']-_0x448ed4['touches'][0x1][_0x1c61('0xde2')],_0x4b6945=_0x448ed4[_0x1c61('0xde1')][0x0][_0x1c61('0xde3')]-_0x448ed4['touches'][0x1][_0x1c61('0xde3')],_0x37464f=Math['sqrt'](_0x37464f*_0x37464f+_0x4b6945*_0x4b6945),_0x3ba118[_0x1c61('0x1b')](0x0,_0x37464f),_0x2e77f0['set'](0x0,Math[_0x1c61('0x5e0')](_0x3ba118['y']/_0x2fa0e6['y'],_0x11f0fc['zoomSpeed'])),_0x592837(_0x2e77f0['y']),_0x2fa0e6[_0x1c61('0x1c2')](_0x3ba118)),_0x11f0fc[_0x1c61('0x2df')]&&(_0x4b6945=0.5*(_0x448ed4[_0x1c61('0xde1')][0x0][_0x1c61('0xde2')]+_0x448ed4['touches'][0x1][_0x1c61('0xde2')]),_0x37464f=0.5*(_0x448ed4[_0x1c61('0xde1')][0x0][_0x1c61('0xde3')]+_0x448ed4[_0x1c61('0xde1')][0x1]['pageY']),_0x390639[_0x1c61('0x1b')](_0x4b6945,_0x37464f),_0x23ceaa['subVectors'](_0x390639,_0x3ece13)[_0x1c61('0x1c3')](_0x11f0fc[_0x1c61('0xdac')]),_0x4ec008(_0x23ceaa['x'],_0x23ceaa['y']),_0x3ece13[_0x1c61('0x1c2')](_0x390639)),_0x11f0fc[_0x1c61('0x2db')]();break;default:_0x5efb96=_0x351e2f[_0x1c61('0xdb9')];}}function _0x10533e(_0x53e096){!0x1!==_0x11f0fc[_0x1c61('0x416')]&&(_0x11f0fc[_0x1c61('0x488')](_0x1d84e9),_0x5efb96=_0x351e2f[_0x1c61('0xdb9')]);}function _0x48ecdd(_0x53e096){!0x1!==_0x11f0fc[_0x1c61('0x416')]&&_0x53e096[_0x1c61('0xdd6')]();}_0x11f0fc['domElement'][_0x1c61('0x2aa')](_0x1c61('0xdc5'),_0x48ecdd,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x2aa')](_0x1c61('0xdc6'),_0x48b8c8,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x2aa')](_0x1c61('0xdc7'),_0x4d20d6,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x2aa')](_0x1c61('0xdc8'),_0x26e24e,!0x1),_0x11f0fc[_0x1c61('0xda5')][_0x1c61('0x2aa')]('touchend',_0x10533e,!0x1),_0x11f0fc['domElement'][_0x1c61('0x2aa')](_0x1c61('0xdc9'),_0x568d4c,!0x1),window[_0x1c61('0x2aa')]('keydown',_0x113087,!0x1),this[_0x1c61('0x2db')]();}_0x28e8cf[_0x1c61('0xb')]=(0x0,_0x37464f[_0x1c61('0x8')])(THREE['EventDispatcher']['prototype']),(0x0,_0x448ed4[_0x1c61('0x8')])((_0x28e8cf[_0x1c61('0xb')][_0x1c61('0x85')]=_0x28e8cf)[_0x1c61('0xb')],{'center':{'get':function(){return this['target'];}},'noZoom':{'get':function(){return!this['enableZoom'];},'set':function(_0x53e096){this[_0x1c61('0x2e0')]=!_0x53e096;}},'noRotate':{'get':function(){return!this[_0x1c61('0xdab')];},'set':function(_0x53e096){this[_0x1c61('0xdab')]=!_0x53e096;}},'noPan':{'get':function(){return!this[_0x1c61('0x2df')];},'set':function(_0x53e096){this[_0x1c61('0x2df')]=!_0x53e096;}},'noKeys':{'get':function(){return!this[_0x1c61('0xdae')];},'set':function(_0x53e096){this[_0x1c61('0xdae')]=!_0x53e096;}},'staticMoving':{'get':function(){return!this[_0x1c61('0xda8')];},'set':function(_0x53e096){this[_0x1c61('0xda8')]=!_0x53e096;}},'dynamicDampingFactor':{'get':function(){return this[_0x1c61('0xda9')];},'set':function(_0x53e096){this[_0x1c61('0xda9')]=_0x53e096;}}}),_0x4b6945[_0x1c61('0x8')]=_0x28e8cf;},function(_0x17ff33,_0x64d7bc,_0x3f5af9){'use strict';Object['defineProperty'](_0x64d7bc,_0x1c61('0x5'),{'value':!0x0});var _0x264fac=_0x165aa8(_0x3f5af9(0x2e)),_0x18abeb=_0x165aa8(_0x3f5af9(0x0)),_0x3f5af9=_0x165aa8(_0x3f5af9(0x1));function _0x165aa8(_0x17ff33){return _0x17ff33&&_0x17ff33[_0x1c61('0x5')]?_0x17ff33:{'default':_0x17ff33};}var _0x594f14=null,_0x3f5af9=((0x0,_0x3f5af9[_0x1c61('0x8')])(_0x1a92f7,[{'key':_0x1c61('0x7'),'value':function(_0x17ff33){var _0x64d7bc=_0x17ff33['floorNum'],_0x3f5af9=void 0x0===_0x64d7bc?0x1:_0x64d7bc,_0x64d7bc=_0x17ff33[_0x1c61('0x335')],_0x18abeb=_0x17ff33['miniMapImgPath'],_0x165aa8=_0x17ff33[_0x1c61('0xde6')],_0x49c47a=_0x17ff33['cameraViewImgPath'],_0x1664fa=_0x17ff33['cameraViewImgHeight'],_0x17ff33=_0x17ff33['fixCameraViewImgOffset'],_0x2031aa=void 0x0===_0x17ff33?0x3:_0x17ff33,_0x17c22d=this,_0x17ff33=(this['container']=_0x64d7bc,[]),_0x4a7938=document[_0x1c61('0x75')](_0x1c61('0xde7')),_0x2a2c80=(_0x4a7938['src']=_0x18abeb,_0x4a7938[_0x1c61('0x731')][_0x1c61('0x2f7')]=_0x165aa8+'px',_0x17ff33[_0x1c61('0x6f')](new _0x264fac[(_0x1c61('0x8'))](function(_0x17ff33){_0x4a7938[_0x1c61('0xde8')]=function(){_0x17ff33();};})),this[_0x1c61('0x335')]['appendChild'](_0x4a7938),document[_0x1c61('0x75')](_0x1c61('0xde9'))),_0x2476bc=(_0x2a2c80[_0x1c61('0x731')][_0x1c61('0x218')]=_0x1c61('0xdea'),document[_0x1c61('0x75')]('img'));_0x2476bc[_0x1c61('0x66')]=_0x49c47a,_0x2476bc[_0x1c61('0x731')]['position']=_0x1c61('0xdeb'),_0x2476bc['style'][_0x1c61('0x2f7')]=_0x1664fa+'px',_0x2a2c80[_0x1c61('0x65')](_0x2476bc),_0x17ff33['push'](new _0x264fac['default'](function(_0x17ff33){_0x2476bc[_0x1c61('0xde8')]=function(){_0x17ff33();};})),this[_0x1c61('0x335')]['appendChild'](_0x2a2c80),_0x264fac[_0x1c61('0x8')][_0x1c61('0xdec')](_0x17ff33)[_0x1c61('0x34a')](function(_0x17ff33){var _0x18abeb=_0x4a7938[_0x1c61('0x328')],_0x165aa8=_0x4a7938['height'],_0x49c47a=_0x2476bc[_0x1c61('0x2f7')],_0x1664fa=(_0x2a2c80['style']['width']=_0x18abeb,_0x2a2c80['style'][_0x1c61('0x2f7')]=_0x165aa8,_0x2a2c80[_0x1c61('0x731')][_0x1c61('0x5c0')]=-_0x165aa8+'px',_0x2476bc['style'][_0x1c61('0xded')]=_0x2031aa+_0x1c61('0xdee')+(_0x49c47a/0x2+_0x2031aa)+'px',_0x17c22d[_0x1c61('0xd9')][_0x1c61('0x45c')][_0x1c61('0x301')]),_0x64d7bc=_0x17c22d['map'][_0x1c61('0xdef')][_0x3f5af9],_0x264fac=_0x64d7bc[_0x1c61('0xdf0')]-_0x64d7bc[_0x1c61('0xdf1')],_0x12d027=_0x64d7bc[_0x1c61('0xdf2')]-_0x64d7bc[_0x1c61('0xdf3')],_0x3dcbfc=_0x64d7bc[_0x1c61('0xdf1')],_0x40d517=_0x64d7bc['maxy'];_0x594f14=function(_0x17ff33){var _0x64d7bc=_0x17c22d[_0x1c61('0xd9')][_0x1c61('0xa75')](_0x1664fa[_0x1c61('0x218')]),_0x3f5af9=_0x64d7bc['x']-_0x3dcbfc,_0x64d7bc=_0x64d7bc['y']-_0x40d517,_0x64d7bc=_0x165aa8*(_0x64d7bc/_0x12d027);_0x2476bc[_0x1c61('0x731')][_0x1c61('0x33f')]=_0x18abeb*(_0x3f5af9/_0x264fac)+'px',_0x2476bc[_0x1c61('0x731')][_0x1c61('0x5c0')]=-(_0x64d7bc+(_0x49c47a/0x2+_0x2031aa))+'px',_0x2476bc[_0x1c61('0x731')]['transform']='rotate('+(_0x17c22d['map'][_0x1c61('0x876')]-0x5a)+_0x1c61('0xdf4');},_0x17c22d[_0x1c61('0xd9')]['on'](_0x1c61('0x577'),_0x594f14);});}},{'key':_0x1c61('0xdc'),'value':function(){this[_0x1c61('0x335')][_0x1c61('0xdf5')]='',this['map'][_0x1c61('0xd8e')](_0x1c61('0x577'),_0x594f14);}}]),_0x1a92f7);function _0x1a92f7(_0x17ff33){(0x0,_0x18abeb[_0x1c61('0x8')])(this,_0x1a92f7),this[_0x1c61('0xd9')]=_0x17ff33,this['container']=null;}_0x64d7bc['default']=_0x3f5af9;},function(_0x231234,_0x493967,_0x50e598){'use strict';Object['defineProperty'](_0x493967,_0x1c61('0x5'),{'value':!0x0});var _0x5468f4,_0x49baa3=_0x21e765(_0x50e598(0x2e)),_0x2fe05e=_0x21e765(_0x50e598(0x11f)),_0x2c0427=_0x21e765(_0x50e598(0x122)),_0x41bcdd=_0x21e765(_0x50e598(0x4)),_0x3f888e=_0x21e765(_0x50e598(0x26)),_0xb64f07=_0x21e765(_0x50e598(0x0)),_0x2a1ee8=_0x21e765(_0x50e598(0x1)),_0x529005=_0x21e765(_0x50e598(0x31)),_0x22da5a=_0x21e765(_0x50e598(0x32));function _0x21e765(_0x231234){return _0x231234&&_0x231234[_0x1c61('0x5')]?_0x231234:{'default':_0x231234};}function _0x3930d0(){(0x0,_0xb64f07[_0x1c61('0x8')])(this,_0x3930d0);var _0x231234=(0x0,_0x529005[_0x1c61('0x8')])(this,(_0x3930d0[_0x1c61('0x87')]||(0x0,_0x3f888e[_0x1c61('0x8')])(_0x3930d0))[_0x1c61('0x0')](this));return _0x231234[_0x1c61('0xdf6')]=(performance||Date)[_0x1c61('0x2a7')](),_0x231234['prevTime']=_0x231234[_0x1c61('0xdf6')],_0x231234['frames']=0x0,_0x231234['fps']=0x0,_0x231234['isCheckFrameRateComplete']=!0x1,_0x231234[_0x1c61('0xdf7')]=[],_0x231234[_0x1c61('0xdf8')]=[],_0x231234;}_0x50e598=_0x50e598(0x3b)[_0x1c61('0x92')],(0x0,_0x22da5a[_0x1c61('0x8')])(_0x3930d0,_0x50e598),(0x0,_0x2a1ee8['default'])(_0x3930d0,[{'key':'begin','value':function(){this[_0x1c61('0xdf6')]=(performance||Date)[_0x1c61('0x2a7')]();}},{'key':'end','value':function(){this[_0x1c61('0x1ce')]++;var _0x231234=(performance||Date)['now']();return _0x231234>=this[_0x1c61('0xdf9')]+0x3e8&&(this[_0x1c61('0x2ed')]=0x3e8*this['frames']/(_0x231234-this['prevTime']),0xa<this[_0x1c61('0xdf7')]['length']?this[_0x1c61('0xdf7')][_0x1c61('0xf')]=0x0:this[_0x1c61('0xdf7')][_0x1c61('0x6f')](this[_0x1c61('0x2ed')]),this[_0x1c61('0xdf9')]=_0x231234,this[_0x1c61('0x1ce')]=0x0),_0x231234;}},{'key':_0x1c61('0x2db'),'value':function(){this[_0x1c61('0xdf6')]=this[_0x1c61('0x40e')]();}},{'key':_0x1c61('0xdfa'),'value':function(_0x231234,_0x493967){var _0x50e598=_0x231234[_0x1c61('0xf')],_0x493967=Math[_0x1c61('0x6c')](_0x50e598*_0x493967/0x2),_0x231234=_0x231234[_0x1c61('0xdfb')](function(_0x231234,_0x493967){return _0x231234-_0x493967;})['slice'](_0x493967,_0x50e598-_0x493967);return _0x231234[_0x1c61('0xdfc')](function(_0x231234,_0x493967){return _0x231234+_0x493967;},0x0)/_0x231234['length'];}},{'key':'computeAverageFps','value':function(){var _0x231234=0x0,_0x493967=!0x0,_0x50e598=!0x1,_0x5468f4=void 0x0;try{for(var _0x49baa3,_0x2fe05e=(0x0,_0x41bcdd[_0x1c61('0x8')])(this[_0x1c61('0xdf7')]);!(_0x493967=(_0x49baa3=_0x2fe05e['next']())['done']);_0x493967=!0x0)_0x231234+=_0x49baa3[_0x1c61('0x1c')];}catch(_0x529aef){_0x50e598=!0x0,_0x5468f4=_0x529aef;}finally{try{!_0x493967&&_0x2fe05e[_0x1c61('0x99')]&&_0x2fe05e[_0x1c61('0x99')]();}finally{if(_0x50e598)throw _0x5468f4;}}return _0x231234/this[_0x1c61('0xdf7')]['length'];}},{'key':_0x1c61('0x933'),'value':(_0x5468f4=(0x0,_0x2c0427[_0x1c61('0x8')])(_0x2fe05e[_0x1c61('0x8')][_0x1c61('0xdfd')](function _0x231234(_0x493967){var _0x50e598,_0x5468f4;return _0x2fe05e[_0x1c61('0x8')][_0x1c61('0xdfe')](function(_0x231234){for(;;)switch(_0x231234[_0x1c61('0xdff')]=_0x231234['next']){case 0x0:_0x50e598=0x0;case 0x1:if(_0x50e598<0xf)return _0x231234[_0x1c61('0x77')]=0x4,this[_0x1c61('0xe00')](0x3e8);_0x231234[_0x1c61('0x77')]=0x9;break;case 0x4:0x0<this[_0x1c61('0xdf7')][_0x1c61('0xf')]&&this[_0x1c61('0xdf8')][_0x1c61('0x6f')](this[_0x1c61('0xe01')]()),this[_0x1c61('0xdf7')][_0x1c61('0xf')]=0x0;case 0x6:_0x50e598++,_0x231234[_0x1c61('0x77')]=0x1;break;case 0x9:_0x5468f4=this[_0x1c61('0xdfa')](this[_0x1c61('0xdf8')],0.2),this[_0x1c61('0xdf8')],this[_0x1c61('0x488')]({'type':_0x1c61('0x8b1'),'fps':+_0x5468f4[_0x1c61('0x4dc')](0x1)});case 0xc:case _0x1c61('0x40e'):return _0x231234[_0x1c61('0xe02')]();}},_0x231234,this);})),function(_0x231234){return _0x5468f4[_0x1c61('0x1d')](this,arguments);})},{'key':_0x1c61('0xe00'),'value':function(_0x493967){return new _0x49baa3[(_0x1c61('0x8'))](function(_0x231234){setTimeout(_0x231234,_0x493967);});}}]),_0x493967[_0x1c61('0x8')]=_0x3930d0;},function(_0x5751f3,_0x5c3451,_0x77d1a5){_0x5751f3[_0x1c61('0x1')]=_0x77d1a5(0x120);},function(_0x50bac5,_0x1b6f5f,_0x422fa4){var _0x32e723=function(){return this;}()||Function(_0x1c61('0x16'))(),_0x345693=_0x32e723[_0x1c61('0xe03')]&&0x0<=Object[_0x1c61('0x9e')](_0x32e723)[_0x1c61('0x50')](_0x1c61('0xe03')),_0x2f1214=_0x345693&&_0x32e723[_0x1c61('0xe03')];if(_0x32e723[_0x1c61('0xe03')]=void 0x0,_0x50bac5[_0x1c61('0x1')]=_0x422fa4(0x121),_0x345693)_0x32e723['regeneratorRuntime']=_0x2f1214;else try{delete _0x32e723[_0x1c61('0xe03')];}catch(_0x2f6727){_0x32e723[_0x1c61('0xe03')]=void 0x0;}},function(_0x521ccd,_0x57b05d){!function(_0x57b05d){'use strict';var _0x16c00b,_0x5a6582,_0x13e87c,_0x36be7e,_0x11b95e,_0x2c13ae,_0x307d40,_0x3cc3e4=Object[_0x1c61('0xb')],_0x4c192f=_0x3cc3e4[_0x1c61('0xc')],_0x187864=_0x1c61('0x13')==typeof Symbol?Symbol:{},_0x465dc1=_0x187864[_0x1c61('0x76')]||_0x1c61('0x8b'),_0x389e6e=_0x187864[_0x1c61('0x278')]||_0x1c61('0xe04'),_0xccaa36=_0x187864['toStringTag']||_0x1c61('0xe05'),_0x187864=_0x1c61('0x6')==typeof _0x521ccd,_0xb3e0ae=_0x57b05d[_0x1c61('0xe03')];function _0x1de4ef(_0x57b05d,_0x307d40,_0x3cc3e4,_0x187864){var _0x465dc1,_0x389e6e,_0xccaa36,_0xb3e0ae,_0x307d40=_0x307d40&&_0x307d40[_0x1c61('0xb')]instanceof _0xd629b5?_0x307d40:_0xd629b5,_0x307d40=Object['create'](_0x307d40[_0x1c61('0xb')]),_0x187864=new _0x70127f(_0x187864||[]);return _0x307d40[_0x1c61('0xe06')]=(_0x465dc1=_0x57b05d,_0x389e6e=_0x3cc3e4,_0xccaa36=_0x187864,_0xb3e0ae=_0x5a6582,function(_0x57b05d,_0x307d40){if(_0xb3e0ae===_0x36be7e)throw new Error(_0x1c61('0xe07'));if(_0xb3e0ae===_0x11b95e){if('throw'===_0x57b05d)throw _0x307d40;return _0x6f3762();}for(_0xccaa36[_0x1c61('0xe08')]=_0x57b05d,_0xccaa36[_0x1c61('0xe09')]=_0x307d40;;){var _0x3cc3e4=_0xccaa36[_0x1c61('0xe0a')];if(_0x3cc3e4){_0x3cc3e4=function _0x57b05d(_0x307d40,_0x3cc3e4){var _0x187864=_0x307d40[_0x1c61('0x76')][_0x3cc3e4['method']];if(_0x187864===_0x16c00b){if(_0x3cc3e4[_0x1c61('0xe0a')]=null,_0x1c61('0xe0b')===_0x3cc3e4[_0x1c61('0xe08')]){if(_0x307d40[_0x1c61('0x76')]['return']&&(_0x3cc3e4[_0x1c61('0xe08')]=_0x1c61('0x99'),_0x3cc3e4[_0x1c61('0xe09')]=_0x16c00b,_0x57b05d(_0x307d40,_0x3cc3e4),_0x1c61('0xe0b')===_0x3cc3e4[_0x1c61('0xe08')]))return _0x2c13ae;_0x3cc3e4[_0x1c61('0xe08')]=_0x1c61('0xe0b'),_0x3cc3e4[_0x1c61('0xe09')]=new TypeError(_0x1c61('0xe0c'));}return _0x2c13ae;}_0x187864=_0x164a3b(_0x187864,_0x307d40[_0x1c61('0x76')],_0x3cc3e4[_0x1c61('0xe09')]);if('throw'===_0x187864[_0x1c61('0x90')])return _0x3cc3e4[_0x1c61('0xe08')]=_0x1c61('0xe0b'),_0x3cc3e4[_0x1c61('0xe09')]=_0x187864[_0x1c61('0xe09')],_0x3cc3e4[_0x1c61('0xe0a')]=null,_0x2c13ae;_0x187864=_0x187864[_0x1c61('0xe09')];return _0x187864?_0x187864[_0x1c61('0x89')]?(_0x3cc3e4[_0x307d40[_0x1c61('0xe0d')]]=_0x187864[_0x1c61('0x1c')],_0x3cc3e4[_0x1c61('0x77')]=_0x307d40[_0x1c61('0xe0e')],_0x1c61('0x99')!==_0x3cc3e4[_0x1c61('0xe08')]&&(_0x3cc3e4[_0x1c61('0xe08')]=_0x1c61('0x77'),_0x3cc3e4[_0x1c61('0xe09')]=_0x16c00b),_0x3cc3e4[_0x1c61('0xe0a')]=null,_0x2c13ae):_0x187864:(_0x3cc3e4[_0x1c61('0xe08')]='throw',_0x3cc3e4[_0x1c61('0xe09')]=new TypeError(_0x1c61('0xe0f')),_0x3cc3e4[_0x1c61('0xe0a')]=null,_0x2c13ae);}(_0x3cc3e4,_0xccaa36);if(_0x3cc3e4){if(_0x3cc3e4===_0x2c13ae)continue;return _0x3cc3e4;}}if(_0x1c61('0x77')===_0xccaa36[_0x1c61('0xe08')])_0xccaa36[_0x1c61('0xe10')]=_0xccaa36[_0x1c61('0xe11')]=_0xccaa36[_0x1c61('0xe09')];else if(_0x1c61('0xe0b')===_0xccaa36['method']){if(_0xb3e0ae===_0x5a6582)throw _0xb3e0ae=_0x11b95e,_0xccaa36['arg'];_0xccaa36[_0x1c61('0xe12')](_0xccaa36[_0x1c61('0xe09')]);}else _0x1c61('0x99')===_0xccaa36['method']&&_0xccaa36[_0x1c61('0xe13')](_0x1c61('0x99'),_0xccaa36[_0x1c61('0xe09')]);_0xb3e0ae=_0x36be7e;_0x3cc3e4=_0x164a3b(_0x465dc1,_0x389e6e,_0xccaa36);if(_0x1c61('0x6a1')===_0x3cc3e4[_0x1c61('0x90')]){if(_0xb3e0ae=_0xccaa36[_0x1c61('0x89')]?_0x11b95e:_0x13e87c,_0x3cc3e4[_0x1c61('0xe09')]!==_0x2c13ae)return{'value':_0x3cc3e4[_0x1c61('0xe09')],'done':_0xccaa36[_0x1c61('0x89')]};}else _0x1c61('0xe0b')===_0x3cc3e4[_0x1c61('0x90')]&&(_0xb3e0ae=_0x11b95e,_0xccaa36[_0x1c61('0xe08')]=_0x1c61('0xe0b'),_0xccaa36['arg']=_0x3cc3e4['arg']);}}),_0x307d40;}function _0x164a3b(_0x57b05d,_0x307d40,_0x3cc3e4){try{return{'type':_0x1c61('0x6a1'),'arg':_0x57b05d['call'](_0x307d40,_0x3cc3e4)};}catch(_0x1e2ca9){return{'type':_0x1c61('0xe0b'),'arg':_0x1e2ca9};}}function _0xd629b5(){}function _0x5e377a(){}function _0x18a35c(){}function _0x377e13(_0x57b05d){[_0x1c61('0x77'),_0x1c61('0xe0b'),_0x1c61('0x99')][_0x1c61('0x2a1')](function(_0x307d40){_0x57b05d[_0x307d40]=function(_0x57b05d){return this['_invoke'](_0x307d40,_0x57b05d);};});}function _0x285878(_0xccaa36){var _0x307d40;this[_0x1c61('0xe06')]=function(_0x3cc3e4,_0x187864){function _0x57b05d(){return new Promise(function(_0x57b05d,_0x307d40){!function _0x307d40(_0x57b05d,_0x3cc3e4,_0x187864,_0x465dc1){_0x57b05d=_0x164a3b(_0xccaa36[_0x57b05d],_0xccaa36,_0x3cc3e4);if(_0x1c61('0xe0b')===_0x57b05d['type'])_0x465dc1(_0x57b05d[_0x1c61('0xe09')]);else{var _0x389e6e=_0x57b05d[_0x1c61('0xe09')],_0x3cc3e4=_0x389e6e[_0x1c61('0x1c')];if(_0x3cc3e4&&_0x1c61('0x6')==typeof _0x3cc3e4&&_0x4c192f['call'](_0x3cc3e4,_0x1c61('0xe14')))return Promise[_0x1c61('0x349')](_0x3cc3e4['__await'])[_0x1c61('0x34a')](function(_0x57b05d){_0x307d40(_0x1c61('0x77'),_0x57b05d,_0x187864,_0x465dc1);},function(_0x57b05d){_0x307d40(_0x1c61('0xe0b'),_0x57b05d,_0x187864,_0x465dc1);});Promise[_0x1c61('0x349')](_0x3cc3e4)['then'](function(_0x57b05d){_0x389e6e[_0x1c61('0x1c')]=_0x57b05d,_0x187864(_0x389e6e);},_0x465dc1);}}(_0x3cc3e4,_0x187864,_0x57b05d,_0x307d40);});}return _0x307d40=_0x307d40?_0x307d40[_0x1c61('0x34a')](_0x57b05d,_0x57b05d):_0x57b05d();};}function _0x3d166a(_0x57b05d){var _0x307d40={'tryLoc':_0x57b05d[0x0]};0x1 in _0x57b05d&&(_0x307d40[_0x1c61('0xe15')]=_0x57b05d[0x1]),0x2 in _0x57b05d&&(_0x307d40[_0x1c61('0xe16')]=_0x57b05d[0x2],_0x307d40[_0x1c61('0xe17')]=_0x57b05d[0x3]),this[_0x1c61('0xe18')]['push'](_0x307d40);}function _0x580e83(_0x57b05d){var _0x307d40=_0x57b05d[_0x1c61('0xe19')]||{};_0x307d40[_0x1c61('0x90')]=_0x1c61('0x6a1'),delete _0x307d40[_0x1c61('0xe09')],_0x57b05d[_0x1c61('0xe19')]=_0x307d40;}function _0x70127f(_0x57b05d){this['tryEntries']=[{'tryLoc':_0x1c61('0x4a2')}],_0x57b05d[_0x1c61('0x2a1')](_0x3d166a,this),this[_0x1c61('0x214')](!0x0);}function _0x440bb5(_0x307d40){if(_0x307d40){var _0x3cc3e4,_0x57b05d=_0x307d40[_0x465dc1];if(_0x57b05d)return _0x57b05d[_0x1c61('0x0')](_0x307d40);if(_0x1c61('0x13')==typeof _0x307d40['next'])return _0x307d40;if(!isNaN(_0x307d40[_0x1c61('0xf')]))return _0x3cc3e4=-0x1,(_0x57b05d=function _0x57b05d(){for(;++_0x3cc3e4<_0x307d40[_0x1c61('0xf')];)if(_0x4c192f[_0x1c61('0x0')](_0x307d40,_0x3cc3e4))return _0x57b05d[_0x1c61('0x1c')]=_0x307d40[_0x3cc3e4],_0x57b05d[_0x1c61('0x89')]=!0x1,_0x57b05d;return _0x57b05d[_0x1c61('0x1c')]=_0x16c00b,_0x57b05d[_0x1c61('0x89')]=!0x0,_0x57b05d;})[_0x1c61('0x77')]=_0x57b05d;}return{'next':_0x6f3762};}function _0x6f3762(){return{'value':_0x16c00b,'done':!0x0};}_0xb3e0ae?_0x187864&&(_0x521ccd[_0x1c61('0x1')]=_0xb3e0ae):((_0xb3e0ae=_0x57b05d[_0x1c61('0xe03')]=_0x187864?_0x521ccd[_0x1c61('0x1')]:{})[_0x1c61('0xdfe')]=_0x1de4ef,_0x5a6582=_0x1c61('0xe1a'),_0x13e87c=_0x1c61('0xe1b'),_0x36be7e='executing',_0x11b95e=_0x1c61('0xe1c'),_0x2c13ae={},(_0x57b05d={})[_0x465dc1]=function(){return this;},(_0x187864=(_0x187864=Object[_0x1c61('0xd7')])&&_0x187864(_0x187864(_0x440bb5([]))))&&_0x187864!==_0x3cc3e4&&_0x4c192f['call'](_0x187864,_0x465dc1)&&(_0x57b05d=_0x187864),_0x307d40=_0x18a35c['prototype']=_0xd629b5[_0x1c61('0xb')]=Object[_0x1c61('0x7')](_0x57b05d),(_0x5e377a['prototype']=_0x307d40[_0x1c61('0x85')]=_0x18a35c)[_0x1c61('0x85')]=_0x5e377a,_0x18a35c[_0xccaa36]=_0x5e377a[_0x1c61('0xe1d')]='GeneratorFunction',_0xb3e0ae[_0x1c61('0xe1e')]=function(_0x57b05d){_0x57b05d='function'==typeof _0x57b05d&&_0x57b05d[_0x1c61('0x85')];return!!_0x57b05d&&(_0x57b05d===_0x5e377a||_0x1c61('0xe1f')===(_0x57b05d[_0x1c61('0xe1d')]||_0x57b05d[_0x1c61('0x7b')]));},_0xb3e0ae[_0x1c61('0xdfd')]=function(_0x57b05d){return Object[_0x1c61('0x2e1')]?Object[_0x1c61('0x2e1')](_0x57b05d,_0x18a35c):(_0x57b05d['__proto__']=_0x18a35c,_0xccaa36 in _0x57b05d||(_0x57b05d[_0xccaa36]='GeneratorFunction')),_0x57b05d['prototype']=Object['create'](_0x307d40),_0x57b05d;},_0xb3e0ae[_0x1c61('0xe20')]=function(_0x57b05d){return{'__await':_0x57b05d};},_0x377e13(_0x285878[_0x1c61('0xb')]),_0x285878[_0x1c61('0xb')][_0x389e6e]=function(){return this;},_0xb3e0ae[_0x1c61('0xe21')]=_0x285878,_0xb3e0ae[_0x1c61('0xe22')]=function(_0x57b05d,_0x307d40,_0x3cc3e4,_0x187864){var _0x465dc1=new _0x285878(_0x1de4ef(_0x57b05d,_0x307d40,_0x3cc3e4,_0x187864));return _0xb3e0ae[_0x1c61('0xe1e')](_0x307d40)?_0x465dc1:_0x465dc1[_0x1c61('0x77')]()[_0x1c61('0x34a')](function(_0x57b05d){return _0x57b05d['done']?_0x57b05d[_0x1c61('0x1c')]:_0x465dc1[_0x1c61('0x77')]();});},_0x377e13(_0x307d40),_0x307d40[_0xccaa36]=_0x1c61('0xe23'),_0x307d40[_0x465dc1]=function(){return this;},_0x307d40['toString']=function(){return _0x1c61('0xe24');},_0xb3e0ae['keys']=function(_0x3cc3e4){var _0x57b05d,_0x187864=[];for(_0x57b05d in _0x3cc3e4)_0x187864[_0x1c61('0x6f')](_0x57b05d);return _0x187864[_0x1c61('0xe25')](),function _0x57b05d(){for(;_0x187864['length'];){var _0x307d40=_0x187864['pop']();if(_0x307d40 in _0x3cc3e4)return _0x57b05d[_0x1c61('0x1c')]=_0x307d40,_0x57b05d[_0x1c61('0x89')]=!0x1,_0x57b05d;}return _0x57b05d[_0x1c61('0x89')]=!0x0,_0x57b05d;};},_0xb3e0ae[_0x1c61('0x78')]=_0x440bb5,_0x70127f[_0x1c61('0xb')]={'constructor':_0x70127f,'reset':function(_0x57b05d){if(this[_0x1c61('0xdff')]=0x0,this[_0x1c61('0x77')]=0x0,this['sent']=this[_0x1c61('0xe11')]=_0x16c00b,this[_0x1c61('0x89')]=!0x1,this[_0x1c61('0xe0a')]=null,this[_0x1c61('0xe08')]='next',this[_0x1c61('0xe09')]=_0x16c00b,this[_0x1c61('0xe18')][_0x1c61('0x2a1')](_0x580e83),!_0x57b05d)for(var _0x307d40 in this)'t'===_0x307d40['charAt'](0x0)&&_0x4c192f['call'](this,_0x307d40)&&!isNaN(+_0x307d40[_0x1c61('0x20')](0x1))&&(this[_0x307d40]=_0x16c00b);},'stop':function(){this['done']=!0x0;var _0x57b05d=this[_0x1c61('0xe18')][0x0][_0x1c61('0xe19')];if(_0x1c61('0xe0b')===_0x57b05d[_0x1c61('0x90')])throw _0x57b05d[_0x1c61('0xe09')];return this['rval'];},'dispatchException':function(_0x3cc3e4){if(this['done'])throw _0x3cc3e4;var _0x187864=this;function _0x57b05d(_0x57b05d,_0x307d40){return _0x389e6e[_0x1c61('0x90')]=_0x1c61('0xe0b'),_0x389e6e['arg']=_0x3cc3e4,_0x187864[_0x1c61('0x77')]=_0x57b05d,_0x307d40&&(_0x187864[_0x1c61('0xe08')]=_0x1c61('0x77'),_0x187864[_0x1c61('0xe09')]=_0x16c00b),!!_0x307d40;}for(var _0x307d40=this[_0x1c61('0xe18')][_0x1c61('0xf')]-0x1;0x0<=_0x307d40;--_0x307d40){var _0x465dc1=this['tryEntries'][_0x307d40],_0x389e6e=_0x465dc1['completion'];if(_0x1c61('0x4a2')===_0x465dc1[_0x1c61('0xe26')])return _0x57b05d(_0x1c61('0x40e'));if(_0x465dc1[_0x1c61('0xe26')]<=this['prev']){var _0xccaa36=_0x4c192f[_0x1c61('0x0')](_0x465dc1,'catchLoc'),_0xb3e0ae=_0x4c192f['call'](_0x465dc1,_0x1c61('0xe16'));if(_0xccaa36&&_0xb3e0ae){if(this[_0x1c61('0xdff')]<_0x465dc1[_0x1c61('0xe15')])return _0x57b05d(_0x465dc1[_0x1c61('0xe15')],!0x0);if(this['prev']<_0x465dc1['finallyLoc'])return _0x57b05d(_0x465dc1[_0x1c61('0xe16')]);}else if(_0xccaa36){if(this['prev']<_0x465dc1[_0x1c61('0xe15')])return _0x57b05d(_0x465dc1['catchLoc'],!0x0);}else{if(!_0xb3e0ae)throw new Error(_0x1c61('0xe27'));if(this[_0x1c61('0xdff')]<_0x465dc1[_0x1c61('0xe16')])return _0x57b05d(_0x465dc1[_0x1c61('0xe16')]);}}}},'abrupt':function(_0x57b05d,_0x307d40){for(var _0x3cc3e4=this[_0x1c61('0xe18')][_0x1c61('0xf')]-0x1;0x0<=_0x3cc3e4;--_0x3cc3e4){var _0x187864=this[_0x1c61('0xe18')][_0x3cc3e4];if(_0x187864['tryLoc']<=this[_0x1c61('0xdff')]&&_0x4c192f[_0x1c61('0x0')](_0x187864,_0x1c61('0xe16'))&&this[_0x1c61('0xdff')]<_0x187864['finallyLoc']){var _0x465dc1=_0x187864;break;}}var _0x389e6e=(_0x465dc1=_0x465dc1&&(_0x1c61('0xe28')===_0x57b05d||_0x1c61('0xe29')===_0x57b05d)&&_0x465dc1[_0x1c61('0xe26')]<=_0x307d40&&_0x307d40<=_0x465dc1[_0x1c61('0xe16')]?null:_0x465dc1)?_0x465dc1[_0x1c61('0xe19')]:{};return _0x389e6e[_0x1c61('0x90')]=_0x57b05d,_0x389e6e[_0x1c61('0xe09')]=_0x307d40,_0x465dc1?(this[_0x1c61('0xe08')]=_0x1c61('0x77'),this[_0x1c61('0x77')]=_0x465dc1['finallyLoc'],_0x2c13ae):this[_0x1c61('0x2dd')](_0x389e6e);},'complete':function(_0x57b05d,_0x307d40){if('throw'===_0x57b05d[_0x1c61('0x90')])throw _0x57b05d[_0x1c61('0xe09')];return _0x1c61('0xe28')===_0x57b05d[_0x1c61('0x90')]||_0x1c61('0xe29')===_0x57b05d[_0x1c61('0x90')]?this[_0x1c61('0x77')]=_0x57b05d[_0x1c61('0xe09')]:'return'===_0x57b05d[_0x1c61('0x90')]?(this[_0x1c61('0xe2a')]=this[_0x1c61('0xe09')]=_0x57b05d[_0x1c61('0xe09')],this['method']=_0x1c61('0x99'),this[_0x1c61('0x77')]=_0x1c61('0x40e')):_0x1c61('0x6a1')===_0x57b05d['type']&&_0x307d40&&(this[_0x1c61('0x77')]=_0x307d40),_0x2c13ae;},'finish':function(_0x57b05d){for(var _0x307d40=this[_0x1c61('0xe18')][_0x1c61('0xf')]-0x1;0x0<=_0x307d40;--_0x307d40){var _0x3cc3e4=this['tryEntries'][_0x307d40];if(_0x3cc3e4[_0x1c61('0xe16')]===_0x57b05d)return this['complete'](_0x3cc3e4[_0x1c61('0xe19')],_0x3cc3e4['afterLoc']),_0x580e83(_0x3cc3e4),_0x2c13ae;}},'catch':function(_0x57b05d){for(var _0x307d40=this['tryEntries'][_0x1c61('0xf')]-0x1;0x0<=_0x307d40;--_0x307d40){var _0x3cc3e4,_0x187864,_0x465dc1=this['tryEntries'][_0x307d40];if(_0x465dc1[_0x1c61('0xe26')]===_0x57b05d)return'throw'===(_0x3cc3e4=_0x465dc1[_0x1c61('0xe19')])[_0x1c61('0x90')]&&(_0x187864=_0x3cc3e4['arg'],_0x580e83(_0x465dc1)),_0x187864;}throw new Error(_0x1c61('0xe2b'));},'delegateYield':function(_0x57b05d,_0x307d40,_0x3cc3e4){return this[_0x1c61('0xe0a')]={'iterator':_0x440bb5(_0x57b05d),'resultName':_0x307d40,'nextLoc':_0x3cc3e4},_0x1c61('0x77')===this[_0x1c61('0xe08')]&&(this[_0x1c61('0xe09')]=_0x16c00b),_0x2c13ae;}});}(function(){return this;}()||Function('return\x20this')());},function(_0x573bfb,_0xe5af7d,_0x5a5d01){'use strict';_0xe5af7d[_0x1c61('0x5')]=!0x0;var _0x5a5d01=_0x5a5d01(0x2e),_0x9070dd=_0x5a5d01&&_0x5a5d01['__esModule']?_0x5a5d01:{'default':_0x5a5d01};_0xe5af7d[_0x1c61('0x8')]=function(_0x573bfb){return function(){var _0xf1a82=_0x573bfb[_0x1c61('0x1d')](this,arguments);return new _0x9070dd[(_0x1c61('0x8'))](function(_0x84961a,_0x5d39aa){return function _0xe5af7d(_0x573bfb,_0x5a5d01){try{var _0x1dafe1=_0xf1a82[_0x573bfb](_0x5a5d01),_0x2cbcf4=_0x1dafe1[_0x1c61('0x1c')];}catch(_0x43b740){return void _0x5d39aa(_0x43b740);}if(!_0x1dafe1[_0x1c61('0x89')])return _0x9070dd[_0x1c61('0x8')]['resolve'](_0x2cbcf4)[_0x1c61('0x34a')](function(_0x573bfb){_0xe5af7d(_0x1c61('0x77'),_0x573bfb);},function(_0x573bfb){_0xe5af7d(_0x1c61('0xe0b'),_0x573bfb);});_0x84961a(_0x2cbcf4);}(_0x1c61('0x77'));});};};},function(_0xf43b2c,_0x10e6b8,_0x2b31ad){'use strict';Object[_0x1c61('0x2')](_0x10e6b8,'__esModule',{'value':!0x0});var _0x2b31ad=_0x2b31ad(0x4),_0x246906=_0x2b31ad&&_0x2b31ad[_0x1c61('0x5')]?_0x2b31ad:{'default':_0x2b31ad};_0x10e6b8['default']=function(){esmap['ESMapUtil'][_0x1c61('0xe2c')]=function(_0xf43b2c,_0x10e6b8,_0x2b31ad,_0x4cb53c){if(!_0x2b31ad&&_0x2b31ad[_0x1c61('0x587')])_0x4cb53c([]);else{var _0x5f27d1=[],_0xf43b2c=_0xf43b2c[_0x1c61('0x4f9')](_0x10e6b8),_0x3e8f01=!0x0,_0x10e6b8=!0x1,_0x120fd8=void 0x0;try{for(var _0x223fb3,_0x363090=(0x0,_0x246906[_0x1c61('0x8')])(_0xf43b2c[_0x1c61('0x4fa')]);!(_0x3e8f01=(_0x223fb3=_0x363090[_0x1c61('0x77')]())['done']);_0x3e8f01=!0x0){var _0x2fdd79=_0x223fb3[_0x1c61('0x1c')],_0x5e0b08=!0x0,_0x4f6a40=!0x1,_0x58c4e8=void 0x0;try{for(var _0x150ced,_0x55b62c=(0x0,_0x246906[_0x1c61('0x8')])(_0x2fdd79[_0x1c61('0x31b')]);!(_0x5e0b08=(_0x150ced=_0x55b62c['next']())[_0x1c61('0x89')]);_0x5e0b08=!0x0){var _0x5d85fa=_0x150ced[_0x1c61('0x1c')];_0x5d85fa[_0x1c61('0x587')]===_0x2b31ad['markerType']&&(_0x2b31ad[_0x1c61('0xe2d')]?Array['isArray'](_0x2b31ad[_0x1c61('0xe2d')])&&0x0<_0x2b31ad[_0x1c61('0xe2d')]['length']?0x0<=_0x2b31ad[_0x1c61('0xe2d')]['indexOf'](_0x5d85fa[_0x1c61('0x7b')])&&_0x5f27d1[_0x1c61('0x6f')](_0x5d85fa):_0x2b31ad[_0x1c61('0xe2d')]===_0x5d85fa[_0x1c61('0x7b')]&&_0x5f27d1[_0x1c61('0x6f')](_0x5d85fa):_0x5f27d1[_0x1c61('0x6f')](_0x5d85fa));}}catch(_0x2aa24f){_0x4f6a40=!0x0,_0x58c4e8=_0x2aa24f;}finally{try{!_0x5e0b08&&_0x55b62c[_0x1c61('0x99')]&&_0x55b62c[_0x1c61('0x99')]();}finally{if(_0x4f6a40)throw _0x58c4e8;}}}}catch(_0x1401ba){_0x10e6b8=!0x0,_0x120fd8=_0x1401ba;}finally{try{!_0x3e8f01&&_0x363090[_0x1c61('0x99')]&&_0x363090[_0x1c61('0x99')]();}finally{if(_0x10e6b8)throw _0x120fd8;}}_0x4cb53c(_0x5f27d1);}},esmap[_0x1c61('0xe2e')][_0x1c61('0xe2f')]['prototype'][_0x1c61('0xe30')]=function(_0xf43b2c){esmap[_0x1c61('0x51')][_0x1c61('0x4f5')]['setObjectOutline'](this[_0x1c61('0x4fc')],_0xf43b2c);},esmap['ES3DMarker']['ESModel3D']['prototype'][_0x1c61('0xe31')]=function(){esmap[_0x1c61('0x51')][_0x1c61('0x4f5')][_0x1c61('0x92d')](this[_0x1c61('0x4fc')]);},esmap[_0x1c61('0xe2e')][_0x1c61('0xe2f')][_0x1c61('0xb')][_0x1c61('0xe32')]=function(_0x2cbde2){this[_0x1c61('0x4fc')]['traverse'](function(_0xf43b2c){if(_0x1c61('0x30f')===_0xf43b2c['type'])if(0x0<_0xf43b2c['material'][_0x1c61('0xf')]){var _0x10e6b8=!0x0,_0x2b31ad=!0x1,_0x2305e5=void 0x0;try{for(var _0x144693,_0x5c851d=(0x0,_0x246906[_0x1c61('0x8')])(mesh['material']);!(_0x10e6b8=(_0x144693=_0x5c851d['next']())[_0x1c61('0x89')]);_0x10e6b8=!0x0){var _0x3526d1=_0x144693['value'];_0x3526d1 instanceof THREE[_0x1c61('0x7c1')]&&(_0x3526d1[_0x1c61('0xa43')]=!0x0,_0x3526d1['color'][_0x1c61('0x2fa')](_0x2cbde2));}}catch(_0x5689ec){_0x2b31ad=!0x0,_0x2305e5=_0x5689ec;}finally{try{!_0x10e6b8&&_0x5c851d[_0x1c61('0x99')]&&_0x5c851d[_0x1c61('0x99')]();}finally{if(_0x2b31ad)throw _0x2305e5;}}}else _0xf43b2c['material']['wireframe']=!0x0,_0xf43b2c[_0x1c61('0x41')]['color'][_0x1c61('0x2fa')](_0x2cbde2);});},esmap['ES3DMarker'][_0x1c61('0xe2f')][_0x1c61('0xb')]['showBoatFoam']=function(_0xf43b2c){_0xf43b2c['id']=this['ID'],esmap[_0x1c61('0x51')]['models'][_0x1c61('0xe33')](_0xf43b2c);},esmap[_0x1c61('0xe2e')][_0x1c61('0xe2f')]['prototype'][_0x1c61('0xe34')]=function(_0xf43b2c){_0xf43b2c['id']=this['ID'],esmap[_0x1c61('0x51')]['models'][_0x1c61('0xe34')](_0xf43b2c);},esmap[_0x1c61('0xe35')]['prototype']['setOutline']=function(){esmap[_0x1c61('0x51')][_0x1c61('0x4f5')][_0x1c61('0x92c')](this[_0x1c61('0x4fc')]);},esmap[_0x1c61('0xe35')][_0x1c61('0xb')]['removeOutline']=function(){esmap['ESEffectTool'][_0x1c61('0x4f5')][_0x1c61('0x92d')](this[_0x1c61('0x4fc')]);},esmap['ESPolygonMarker']['prototype'][_0x1c61('0xe36')]=function(_0xf43b2c){this[_0x1c61('0x4fc')][_0x1c61('0x31b')]&&0x0<this[_0x1c61('0x4fc')][_0x1c61('0x31b')]['length']&&esmap[_0x1c61('0x51')]['screenEffect'][_0x1c61('0x923')](this[_0x1c61('0x4fc')][_0x1c61('0x31b')][0x0]),this[_0x1c61('0x7e2')]&&esmap[_0x1c61('0x51')]['screenEffect'][_0x1c61('0x923')](this['o3d_'],_0xf43b2c);},esmap[_0x1c61('0xe37')][_0x1c61('0xb')][_0x1c61('0xe36')]=function(_0xf43b2c){var _0x10e6b8=!0x0,_0x2b31ad=!0x1,_0xba8f80=void 0x0;try{for(var _0x2ff27e,_0x546e11=(0x0,_0x246906[_0x1c61('0x8')])(this[_0x1c61('0x4fc')][_0x1c61('0x31b')]);!(_0x10e6b8=(_0x2ff27e=_0x546e11[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x10e6b8=!0x0){var _0x2f4b2f=_0x2ff27e[_0x1c61('0x1c')];esmap[_0x1c61('0x51')][_0x1c61('0x4f5')][_0x1c61('0x923')](_0x2f4b2f,_0xf43b2c);}}catch(_0xa76ca3){_0x2b31ad=!0x0,_0xba8f80=_0xa76ca3;}finally{try{!_0x10e6b8&&_0x546e11[_0x1c61('0x99')]&&_0x546e11['return']();}finally{if(_0x2b31ad)throw _0xba8f80;}}};};},function(_0x3fab93,_0x4c0f24,_0x56e06e){'use strict';Object['defineProperty'](_0x4c0f24,_0x1c61('0x5'),{'value':!0x0});var _0x56e06e=_0x56e06e(0x4),_0x1e52a6=_0x56e06e&&_0x56e06e[_0x1c61('0x5')]?_0x56e06e:{'default':_0x56e06e};_0x4c0f24['default']=function(){esmap[_0x1c61('0xe38')]['prototype'][_0x1c61('0xe39')]=function(_0x3fab93){if(!_0x3fab93)return[];if(!this[_0x1c61('0x4fa')])return[];var _0x4c0f24=[],_0x56e06e=this[_0x1c61('0x4fa')];if(Array[_0x1c61('0xdf')](_0x3fab93)&&0x0<_0x3fab93[_0x1c61('0xf')]){var _0x4082e6=!0x0,_0x598f30=!0x1,_0x4f74b3=void 0x0;try{for(var _0x4c6e5b,_0x4e589b=(0x0,_0x1e52a6[_0x1c61('0x8')])(_0x56e06e);!(_0x4082e6=(_0x4c6e5b=_0x4e589b[_0x1c61('0x77')]())['done']);_0x4082e6=!0x0){var _0x5c7a5b=_0x4c6e5b[_0x1c61('0x1c')];0x0<=_0x3fab93[_0x1c61('0x50')](_0x5c7a5b[_0x1c61('0x7b')])&&_0x4c0f24['push'](_0x5c7a5b);}}catch(_0x46290d){_0x598f30=!0x0,_0x4f74b3=_0x46290d;}finally{try{!_0x4082e6&&_0x4e589b[_0x1c61('0x99')]&&_0x4e589b['return']();}finally{if(_0x598f30)throw _0x4f74b3;}}}else{var _0x1cd78e=!0x0,_0x598f30=!0x1,_0x4f74b3=void 0x0;try{for(var _0x3eff60,_0x2b6a05=(0x0,_0x1e52a6[_0x1c61('0x8')])(_0x56e06e);!(_0x1cd78e=(_0x3eff60=_0x2b6a05['next']())[_0x1c61('0x89')]);_0x1cd78e=!0x0){var _0x40fc93=_0x3eff60[_0x1c61('0x1c')];_0x40fc93['name']===_0x3fab93&&_0x4c0f24['push'](_0x40fc93);}}catch(_0x5b3c6d){_0x598f30=!0x0,_0x4f74b3=_0x5b3c6d;}finally{try{!_0x1cd78e&&_0x2b6a05['return']&&_0x2b6a05[_0x1c61('0x99')]();}finally{if(_0x598f30)throw _0x4f74b3;}}}return _0x4c0f24;};};},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(_0x226463,_0x28c6db,_0x25690d){'use strict';var _0x449987=_0x25690d(0x188);window[_0x1c61('0xe3a')]=_0x449987,_0x25690d(0x18a);},function(_0xed21f8,_0x2a8f60,_0x52e768){'use strict';!function(_0x13bae6){_0x3fb0a5(_0x52e768(0x30));var _0x5a9772,_0x2615b2=_0x3fb0a5(_0x52e768(0x1d)),_0x3f679b=_0x3fb0a5(_0x52e768(0x3e));function _0x3fb0a5(_0x5a9772){return _0x5a9772&&_0x5a9772[_0x1c61('0x5')]?_0x5a9772:{'default':_0x5a9772};}function _0x19c27f(){this['_tweens']={},this[_0x1c61('0xe3b')]={};}_0x19c27f[_0x1c61('0xb')]={'getAll':function(){return(0x0,_0x3f679b['default'])(this[_0x1c61('0xe3c')])[_0x1c61('0xd9')](function(_0x5a9772){return this[_0x1c61('0xe3c')][_0x5a9772];}[_0x1c61('0xa')](this));},'removeAll':function(){this['_tweens']={};},'add':function(_0x5a9772){this[_0x1c61('0xe3c')][_0x5a9772['getId']()]=_0x5a9772,this[_0x1c61('0xe3b')][_0x5a9772['getId']()]=_0x5a9772;},'remove':function(_0x5a9772){delete this[_0x1c61('0xe3c')][_0x5a9772[_0x1c61('0xe3d')]()],delete this[_0x1c61('0xe3b')][_0x5a9772[_0x1c61('0xe3d')]()];},'update':function(_0x5a9772,_0x13bae6){var _0x2615b2=(0x0,_0x3f679b[_0x1c61('0x8')])(this[_0x1c61('0xe3c')]);if(0x0===_0x2615b2[_0x1c61('0xf')])return!0x1;for(_0x5a9772=void 0x0!==_0x5a9772?_0x5a9772:_0x2e5be1[_0x1c61('0x2a7')]();0x0<_0x2615b2[_0x1c61('0xf')];){this[_0x1c61('0xe3b')]={};for(var _0x3fb0a5=0x0;_0x3fb0a5<_0x2615b2[_0x1c61('0xf')];_0x3fb0a5++){var _0x19c27f=this[_0x1c61('0xe3c')][_0x2615b2[_0x3fb0a5]];_0x19c27f&&!0x1===_0x19c27f['update'](_0x5a9772)&&(_0x19c27f[_0x1c61('0xe3e')]=!0x1,_0x13bae6||delete this[_0x1c61('0xe3c')][_0x2615b2[_0x3fb0a5]]);}_0x2615b2=(0x0,_0x3f679b['default'])(this[_0x1c61('0xe3b')]);}return!0x0;}};var _0x25400b,_0x2e5be1=new _0x19c27f();_0x2e5be1[_0x1c61('0x1c6')]=_0x19c27f,_0x2e5be1[_0x1c61('0xe3f')]=0x0,_0x2e5be1[_0x1c61('0xe40')]=function(){return _0x2e5be1[_0x1c61('0xe3f')]++;},_0x1c61('0x3')==typeof self&&void 0x0!==_0x13bae6&&_0x13bae6[_0x1c61('0xe41')]?_0x2e5be1['now']=function(){var _0x5a9772=_0x13bae6[_0x1c61('0xe41')]();return 0x3e8*_0x5a9772[0x0]+_0x5a9772[0x1]/0xf4240;}:'undefined'!=typeof self&&void 0x0!==self[_0x1c61('0xe42')]&&void 0x0!==self['performance'][_0x1c61('0x2a7')]?_0x2e5be1[_0x1c61('0x2a7')]=self[_0x1c61('0xe42')][_0x1c61('0x2a7')]['bind'](self['performance']):void 0x0!==Date[_0x1c61('0x2a7')]?_0x2e5be1[_0x1c61('0x2a7')]=Date[_0x1c61('0x2a7')]:_0x2e5be1[_0x1c61('0x2a7')]=function(){return new Date()['getTime']();},_0x2e5be1[_0x1c61('0x2d4')]=function(_0x5a9772,_0x13bae6){this['_object']=_0x5a9772,this[_0x1c61('0xe43')]={},this['_valuesEnd']={},this[_0x1c61('0xe44')]={},this[_0x1c61('0xe45')]=0x3e8,this[_0x1c61('0xe46')]=0x0,this[_0x1c61('0xe47')]=void 0x0,this[_0x1c61('0xe48')]=!0x1,this['_isPlaying']=!0x1,this[_0x1c61('0xe49')]=!0x1,this[_0x1c61('0xe4a')]=0x0,this[_0x1c61('0xe4b')]=null,this[_0x1c61('0xe4c')]=_0x2e5be1[_0x1c61('0x2d6')]['Linear'][_0x1c61('0x44d')],this['_interpolationFunction']=_0x2e5be1[_0x1c61('0xe4d')][_0x1c61('0x3f9')],this[_0x1c61('0xe4e')]=[],this[_0x1c61('0xe4f')]=null,this[_0x1c61('0xe50')]=!0x1,this[_0x1c61('0xe51')]=null,this[_0x1c61('0xe52')]=null,this['_onCompleteCallback']=null,this[_0x1c61('0xe53')]=null,this[_0x1c61('0xe54')]=_0x13bae6||_0x2e5be1,this[_0x1c61('0x9e0')]=_0x2e5be1[_0x1c61('0xe40')]();},_0x2e5be1[_0x1c61('0x2d4')][_0x1c61('0xb')]={'getId':function(){return this['_id'];},'isPlaying':function(){return this[_0x1c61('0xe3e')];},'to':function(_0x5a9772,_0x13bae6){return this['_valuesEnd']=(0x0,_0x2615b2[_0x1c61('0x8')])(_0x5a9772),void 0x0!==_0x13bae6&&(this[_0x1c61('0xe45')]=_0x13bae6),this;},'duration':function(_0x5a9772){return this[_0x1c61('0xe45')]=_0x5a9772,this;},'start':function(_0x5a9772){for(var _0x13bae6 in this[_0x1c61('0xe54')][_0x1c61('0x1c4')](this),this[_0x1c61('0xe3e')]=!0x0,this[_0x1c61('0xe50')]=!0x1,this[_0x1c61('0xe4b')]=void 0x0!==_0x5a9772?_0x1c61('0x9')==typeof _0x5a9772?_0x2e5be1[_0x1c61('0x2a7')]()+parseFloat(_0x5a9772):_0x5a9772:_0x2e5be1[_0x1c61('0x2a7')](),this[_0x1c61('0xe4b')]+=this[_0x1c61('0xe4a')],this[_0x1c61('0xe55')]){if(this[_0x1c61('0xe55')][_0x13bae6]instanceof Array){if(0x0===this[_0x1c61('0xe55')][_0x13bae6][_0x1c61('0xf')])continue;this[_0x1c61('0xe55')][_0x13bae6]=[this['_object'][_0x13bae6]][_0x1c61('0x22')](this['_valuesEnd'][_0x13bae6]);}void 0x0!==this[_0x1c61('0xe56')][_0x13bae6]&&(this['_valuesStart'][_0x13bae6]=this[_0x1c61('0xe56')][_0x13bae6],this[_0x1c61('0xe43')][_0x13bae6]instanceof Array==0x0&&(this[_0x1c61('0xe43')][_0x13bae6]*=0x1),this['_valuesStartRepeat'][_0x13bae6]=this['_valuesStart'][_0x13bae6]||0x0);}return this;},'stop':function(){return this['_isPlaying']&&(this[_0x1c61('0xe54')]['remove'](this),this[_0x1c61('0xe3e')]=!0x1,null!==this[_0x1c61('0xe53')]&&this['_onStopCallback'](this[_0x1c61('0xe56')]),this[_0x1c61('0xe57')]()),this;},'end':function(){return this[_0x1c61('0x2db')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x5a9772=0x0,_0x13bae6=this[_0x1c61('0xe4e')][_0x1c61('0xf')];_0x5a9772<_0x13bae6;_0x5a9772++)this[_0x1c61('0xe4e')][_0x5a9772][_0x1c61('0xe02')]();},'group':function(_0x5a9772){return this[_0x1c61('0xe54')]=_0x5a9772,this;},'delay':function(_0x5a9772){return this[_0x1c61('0xe4a')]=_0x5a9772,this;},'repeat':function(_0x5a9772){return this[_0x1c61('0xe46')]=_0x5a9772,this;},'repeatDelay':function(_0x5a9772){return this['_repeatDelayTime']=_0x5a9772,this;},'yoyo':function(_0x5a9772){return this[_0x1c61('0xe48')]=_0x5a9772,this;},'easing':function(_0x5a9772){return this['_easingFunction']=_0x5a9772,this;},'interpolation':function(_0x5a9772){return this[_0x1c61('0xe58')]=_0x5a9772,this;},'chain':function(){return this[_0x1c61('0xe4e')]=arguments,this;},'onStart':function(_0x5a9772){return this[_0x1c61('0xe4f')]=_0x5a9772,this;},'onUpdate':function(_0x5a9772){return this['_onUpdateCallback']=_0x5a9772,this;},'onRepeat':function(_0x5a9772){return this[_0x1c61('0xe52')]=_0x5a9772,this;},'onComplete':function(_0x5a9772){return this[_0x1c61('0xe59')]=_0x5a9772,this;},'onStop':function(_0x5a9772){return this[_0x1c61('0xe53')]=_0x5a9772,this;},'update':function(_0x5a9772){var _0x13bae6,_0x2615b2,_0x3fb0a5,_0x19c27f,_0x3f679b,_0x25400b;if(_0x5a9772<this[_0x1c61('0xe4b')])return!0x0;for(_0x13bae6 in!0x1===this[_0x1c61('0xe50')]&&(null!==this[_0x1c61('0xe4f')]&&this[_0x1c61('0xe4f')](this[_0x1c61('0xe56')]),this[_0x1c61('0xe50')]=!0x0),_0x2615b2=(_0x5a9772-this['_startTime'])/this[_0x1c61('0xe45')],_0x2615b2=0x0===this['_duration']||0x1<_0x2615b2?0x1:_0x2615b2,_0x3fb0a5=this['_easingFunction'](_0x2615b2),this[_0x1c61('0xe55')])void 0x0!==this['_valuesStart'][_0x13bae6]&&(_0x19c27f=this[_0x1c61('0xe43')][_0x13bae6]||0x0,(_0x3f679b=this[_0x1c61('0xe55')][_0x13bae6])instanceof Array?this[_0x1c61('0xe56')][_0x13bae6]=this['_interpolationFunction'](_0x3f679b,_0x3fb0a5):_0x1c61('0x1aa')==typeof(_0x3f679b=_0x1c61('0x9')==typeof _0x3f679b?'+'===_0x3f679b[_0x1c61('0x7c')](0x0)||'-'===_0x3f679b[_0x1c61('0x7c')](0x0)?_0x19c27f+parseFloat(_0x3f679b):parseFloat(_0x3f679b):_0x3f679b)&&(this[_0x1c61('0xe56')][_0x13bae6]=_0x19c27f+(_0x3f679b-_0x19c27f)*_0x3fb0a5));if(null!==this[_0x1c61('0xe51')]&&this['_onUpdateCallback'](this[_0x1c61('0xe56')],_0x2615b2),0x1!==_0x2615b2)return!0x0;if(0x0<this[_0x1c61('0xe46')]){for(_0x13bae6 in isFinite(this[_0x1c61('0xe46')])&&this[_0x1c61('0xe46')]--,this[_0x1c61('0xe44')])_0x1c61('0x9')==typeof this[_0x1c61('0xe55')][_0x13bae6]&&(this[_0x1c61('0xe44')][_0x13bae6]=this[_0x1c61('0xe44')][_0x13bae6]+parseFloat(this[_0x1c61('0xe55')][_0x13bae6])),this[_0x1c61('0xe48')]&&(_0x25400b=this[_0x1c61('0xe44')][_0x13bae6],this[_0x1c61('0xe44')][_0x13bae6]=this['_valuesEnd'][_0x13bae6],this['_valuesEnd'][_0x13bae6]=_0x25400b),this[_0x1c61('0xe43')][_0x13bae6]=this[_0x1c61('0xe44')][_0x13bae6];return this[_0x1c61('0xe48')]&&(this[_0x1c61('0xe49')]=!this[_0x1c61('0xe49')]),void 0x0!==this['_repeatDelayTime']?this[_0x1c61('0xe4b')]=_0x5a9772+this['_repeatDelayTime']:this[_0x1c61('0xe4b')]=_0x5a9772+this[_0x1c61('0xe4a')],null!==this[_0x1c61('0xe52')]&&this[_0x1c61('0xe52')](this[_0x1c61('0xe56')]),!0x0;}null!==this['_onCompleteCallback']&&this[_0x1c61('0xe59')](this['_object']);for(var _0x2e5be1=0x0,_0xed21f8=this[_0x1c61('0xe4e')][_0x1c61('0xf')];_0x2e5be1<_0xed21f8;_0x2e5be1++)this[_0x1c61('0xe4e')][_0x2e5be1][_0x1c61('0x2d9')](this['_startTime']+this[_0x1c61('0xe45')]);return!0x1;}},_0x2e5be1['Easing']={'Linear':{'None':function(_0x5a9772){return _0x5a9772;}},'Quadratic':{'In':function(_0x5a9772){return _0x5a9772*_0x5a9772;},'Out':function(_0x5a9772){return _0x5a9772*(0x2-_0x5a9772);},'InOut':function(_0x5a9772){return(_0x5a9772*=0x2)<0x1?0.5*_0x5a9772*_0x5a9772:-0.5*(--_0x5a9772*(_0x5a9772-0x2)-0x1);}},'Cubic':{'In':function(_0x5a9772){return _0x5a9772*_0x5a9772*_0x5a9772;},'Out':function(_0x5a9772){return--_0x5a9772*_0x5a9772*_0x5a9772+0x1;},'InOut':function(_0x5a9772){return(_0x5a9772*=0x2)<0x1?0.5*_0x5a9772*_0x5a9772*_0x5a9772:0.5*((_0x5a9772-=0x2)*_0x5a9772*_0x5a9772+0x2);}},'Quartic':{'In':function(_0x5a9772){return _0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772;},'Out':function(_0x5a9772){return 0x1- --_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772;},'InOut':function(_0x5a9772){return(_0x5a9772*=0x2)<0x1?0.5*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772:-0.5*((_0x5a9772-=0x2)*_0x5a9772*_0x5a9772*_0x5a9772-0x2);}},'Quintic':{'In':function(_0x5a9772){return _0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772;},'Out':function(_0x5a9772){return--_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772+0x1;},'InOut':function(_0x5a9772){return(_0x5a9772*=0x2)<0x1?0.5*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772:0.5*((_0x5a9772-=0x2)*_0x5a9772*_0x5a9772*_0x5a9772*_0x5a9772+0x2);}},'Sinusoidal':{'In':function(_0x5a9772){return 0x1-Math['cos'](_0x5a9772*Math['PI']/0x2);},'Out':function(_0x5a9772){return Math['sin'](_0x5a9772*Math['PI']/0x2);},'InOut':function(_0x5a9772){return 0.5*(0x1-Math[_0x1c61('0x59')](Math['PI']*_0x5a9772));}},'Exponential':{'In':function(_0x5a9772){return 0x0===_0x5a9772?0x0:Math[_0x1c61('0x5e0')](0x400,_0x5a9772-0x1);},'Out':function(_0x5a9772){return 0x1===_0x5a9772?0x1:0x1-Math[_0x1c61('0x5e0')](0x2,-0xa*_0x5a9772);},'InOut':function(_0x5a9772){return 0x0===_0x5a9772?0x0:0x1===_0x5a9772?0x1:(_0x5a9772*=0x2)<0x1?0.5*Math[_0x1c61('0x5e0')](0x400,_0x5a9772-0x1):0.5*(0x2-Math[_0x1c61('0x5e0')](0x2,-0xa*(_0x5a9772-0x1)));}},'Circular':{'In':function(_0x5a9772){return 0x1-Math['sqrt'](0x1-_0x5a9772*_0x5a9772);},'Out':function(_0x5a9772){return Math[_0x1c61('0x1be')](0x1- --_0x5a9772*_0x5a9772);},'InOut':function(_0x5a9772){return(_0x5a9772*=0x2)<0x1?-0.5*(Math['sqrt'](0x1-_0x5a9772*_0x5a9772)-0x1):0.5*(Math['sqrt'](0x1-(_0x5a9772-=0x2)*_0x5a9772)+0x1);}},'Elastic':{'In':function(_0x5a9772){return 0x0===_0x5a9772?0x0:0x1===_0x5a9772?0x1:-Math[_0x1c61('0x5e0')](0x2,0xa*(_0x5a9772-0x1))*Math[_0x1c61('0x58')](0x5*(_0x5a9772-1.1)*Math['PI']);},'Out':function(_0x5a9772){return 0x0===_0x5a9772?0x0:0x1===_0x5a9772?0x1:Math[_0x1c61('0x5e0')](0x2,-0xa*_0x5a9772)*Math[_0x1c61('0x58')](0x5*(_0x5a9772-0.1)*Math['PI'])+0x1;},'InOut':function(_0x5a9772){return 0x0===_0x5a9772?0x0:0x1===_0x5a9772?0x1:(_0x5a9772*=0x2)<0x1?-0.5*Math[_0x1c61('0x5e0')](0x2,0xa*(_0x5a9772-0x1))*Math[_0x1c61('0x58')](0x5*(_0x5a9772-1.1)*Math['PI']):0.5*Math[_0x1c61('0x5e0')](0x2,-0xa*(_0x5a9772-0x1))*Math[_0x1c61('0x58')](0x5*(_0x5a9772-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x5a9772){return _0x5a9772*_0x5a9772*(2.70158*_0x5a9772-1.70158);},'Out':function(_0x5a9772){return--_0x5a9772*_0x5a9772*(2.70158*_0x5a9772+1.70158)+0x1;},'InOut':function(_0x5a9772){var _0x13bae6=2.5949095;return(_0x5a9772*=0x2)<0x1?_0x5a9772*_0x5a9772*((0x1+_0x13bae6)*_0x5a9772-_0x13bae6)*0.5:0.5*((_0x5a9772-=0x2)*_0x5a9772*((0x1+_0x13bae6)*_0x5a9772+_0x13bae6)+0x2);}},'Bounce':{'In':function(_0x5a9772){return 0x1-_0x2e5be1['Easing'][_0x1c61('0xe5a')]['Out'](0x1-_0x5a9772);},'Out':function(_0x5a9772){return _0x5a9772<0x1/2.75?7.5625*_0x5a9772*_0x5a9772:_0x5a9772<0x2/2.75?7.5625*(_0x5a9772-=1.5/2.75)*_0x5a9772+0.75:_0x5a9772<2.5/2.75?7.5625*(_0x5a9772-=2.25/2.75)*_0x5a9772+0.9375:7.5625*(_0x5a9772-=2.625/2.75)*_0x5a9772+0.984375;},'InOut':function(_0x5a9772){return _0x5a9772<0.5?0.5*_0x2e5be1[_0x1c61('0x2d6')]['Bounce']['In'](0x2*_0x5a9772):0.5*_0x2e5be1[_0x1c61('0x2d6')][_0x1c61('0xe5a')][_0x1c61('0x2de')](0x2*_0x5a9772-0x1)+0.5;}}},_0x2e5be1[_0x1c61('0xe4d')]={'Linear':function(_0x5a9772,_0x13bae6){var _0x2615b2=_0x5a9772['length']-0x1,_0x3fb0a5=_0x2615b2*_0x13bae6,_0x19c27f=Math[_0x1c61('0x6c')](_0x3fb0a5),_0x3f679b=_0x2e5be1[_0x1c61('0xe4d')][_0x1c61('0xe5b')]['Linear'];return _0x13bae6<0x0?_0x3f679b(_0x5a9772[0x0],_0x5a9772[0x1],_0x3fb0a5):0x1<_0x13bae6?_0x3f679b(_0x5a9772[_0x2615b2],_0x5a9772[_0x2615b2-0x1],_0x2615b2-_0x3fb0a5):_0x3f679b(_0x5a9772[_0x19c27f],_0x5a9772[_0x2615b2<_0x19c27f+0x1?_0x2615b2:_0x19c27f+0x1],_0x3fb0a5-_0x19c27f);},'Bezier':function(_0x5a9772,_0x13bae6){for(var _0x2615b2=0x0,_0x3fb0a5=_0x5a9772[_0x1c61('0xf')]-0x1,_0x19c27f=Math[_0x1c61('0x5e0')],_0x3f679b=_0x2e5be1[_0x1c61('0xe4d')][_0x1c61('0xe5b')]['Bernstein'],_0x25400b=0x0;_0x25400b<=_0x3fb0a5;_0x25400b++)_0x2615b2+=_0x19c27f(0x1-_0x13bae6,_0x3fb0a5-_0x25400b)*_0x19c27f(_0x13bae6,_0x25400b)*_0x5a9772[_0x25400b]*_0x3f679b(_0x3fb0a5,_0x25400b);return _0x2615b2;},'CatmullRom':function(_0x5a9772,_0x13bae6){var _0x2615b2=_0x5a9772[_0x1c61('0xf')]-0x1,_0x3fb0a5=_0x2615b2*_0x13bae6,_0x19c27f=Math[_0x1c61('0x6c')](_0x3fb0a5),_0x3f679b=_0x2e5be1['Interpolation'][_0x1c61('0xe5b')][_0x1c61('0xe5c')];return _0x5a9772[0x0]===_0x5a9772[_0x2615b2]?_0x3f679b(_0x5a9772[((_0x19c27f=_0x13bae6<0x0?Math['floor'](_0x3fb0a5=_0x2615b2*(0x1+_0x13bae6)):_0x19c27f)-0x1+_0x2615b2)%_0x2615b2],_0x5a9772[_0x19c27f],_0x5a9772[(_0x19c27f+0x1)%_0x2615b2],_0x5a9772[(_0x19c27f+0x2)%_0x2615b2],_0x3fb0a5-_0x19c27f):_0x13bae6<0x0?_0x5a9772[0x0]-(_0x3f679b(_0x5a9772[0x0],_0x5a9772[0x0],_0x5a9772[0x1],_0x5a9772[0x1],-_0x3fb0a5)-_0x5a9772[0x0]):0x1<_0x13bae6?_0x5a9772[_0x2615b2]-(_0x3f679b(_0x5a9772[_0x2615b2],_0x5a9772[_0x2615b2],_0x5a9772[_0x2615b2-0x1],_0x5a9772[_0x2615b2-0x1],_0x3fb0a5-_0x2615b2)-_0x5a9772[_0x2615b2]):_0x3f679b(_0x5a9772[_0x19c27f?_0x19c27f-0x1:0x0],_0x5a9772[_0x19c27f],_0x5a9772[_0x2615b2<_0x19c27f+0x1?_0x2615b2:_0x19c27f+0x1],_0x5a9772[_0x2615b2<_0x19c27f+0x2?_0x2615b2:_0x19c27f+0x2],_0x3fb0a5-_0x19c27f);},'Utils':{'Linear':function(_0x5a9772,_0x13bae6,_0x2615b2){return(_0x13bae6-_0x5a9772)*_0x2615b2+_0x5a9772;},'Bernstein':function(_0x5a9772,_0x13bae6){var _0x2615b2=_0x2e5be1['Interpolation'][_0x1c61('0xe5b')]['Factorial'];return _0x2615b2(_0x5a9772)/_0x2615b2(_0x13bae6)/_0x2615b2(_0x5a9772-_0x13bae6);},'Factorial':(_0x25400b=[0x1],function(_0x5a9772){var _0x13bae6=0x1;if(_0x25400b[_0x5a9772])return _0x25400b[_0x5a9772];for(var _0x2615b2=_0x5a9772;0x1<_0x2615b2;_0x2615b2--)_0x13bae6*=_0x2615b2;return _0x25400b[_0x5a9772]=_0x13bae6;}),'CatmullRom':function(_0x5a9772,_0x13bae6,_0x2615b2,_0x3fb0a5,_0x19c27f){var _0x5a9772=0.5*(_0x2615b2-_0x5a9772),_0x3fb0a5=0.5*(_0x3fb0a5-_0x13bae6),_0x3f679b=_0x19c27f*_0x19c27f;return _0x19c27f*_0x3f679b*(0x2*_0x13bae6-0x2*_0x2615b2+_0x5a9772+_0x3fb0a5)+(-0x3*_0x13bae6+0x3*_0x2615b2-0x2*_0x5a9772-_0x3fb0a5)*_0x3f679b+_0x5a9772*_0x19c27f+_0x13bae6;}}},void 0x0!==(_0x5a9772=function(){return _0x2e5be1;}[_0x1c61('0x1d')](_0x2a8f60,[]))&&(_0xed21f8[_0x1c61('0x1')]=_0x5a9772);}[_0x1c61('0x0')](this,_0x52e768(0x189));},function(_0x41d2e0,_0x56d9ec){var _0x451c73,_0x10b402,_0x41d2e0=_0x41d2e0[_0x1c61('0x1')]={};function _0xa6f780(){throw new Error(_0x1c61('0xe5d'));}function _0x3ef98d(){throw new Error('clearTimeout\x20has\x20not\x20been\x20defined');}try{_0x451c73=_0x1c61('0x13')==typeof setTimeout?setTimeout:_0xa6f780;}catch(_0x462f70){_0x451c73=_0xa6f780;}try{_0x10b402='function'==typeof clearTimeout?clearTimeout:_0x3ef98d;}catch(_0x357301){_0x10b402=_0x3ef98d;}function _0x312417(_0x56d9ec){if(_0x451c73===setTimeout)return setTimeout(_0x56d9ec,0x0);if((_0x451c73===_0xa6f780||!_0x451c73)&&setTimeout)return(_0x451c73=setTimeout)(_0x56d9ec,0x0);try{return _0x451c73(_0x56d9ec,0x0);}catch(_0x1e994e){try{return _0x451c73[_0x1c61('0x0')](null,_0x56d9ec,0x0);}catch(_0x4cffac){return _0x451c73[_0x1c61('0x0')](this,_0x56d9ec,0x0);}}}var _0x9edafe,_0x1fa83f=[],_0x577b8a=!0x1,_0xf311a5=-0x1;function _0x45e072(){_0x577b8a&&_0x9edafe&&(_0x577b8a=!0x1,_0x9edafe[_0x1c61('0xf')]?_0x1fa83f=_0x9edafe[_0x1c61('0x22')](_0x1fa83f):_0xf311a5=-0x1,_0x1fa83f[_0x1c61('0xf')]&&_0x4ea09());}function _0x4ea09(){if(!_0x577b8a){for(var _0x41d2e0=_0x312417(_0x45e072),_0x56d9ec=(_0x577b8a=!0x0,_0x1fa83f[_0x1c61('0xf')]);_0x56d9ec;){for(_0x9edafe=_0x1fa83f,_0x1fa83f=[];++_0xf311a5<_0x56d9ec;)_0x9edafe&&_0x9edafe[_0xf311a5][_0x1c61('0xe5e')]();_0xf311a5=-0x1,_0x56d9ec=_0x1fa83f['length'];}_0x9edafe=null,_0x577b8a=!0x1,function(_0x56d9ec){if(_0x10b402===clearTimeout)return clearTimeout(_0x56d9ec);if((_0x10b402===_0x3ef98d||!_0x10b402)&&clearTimeout)return(_0x10b402=clearTimeout)(_0x56d9ec);try{_0x10b402(_0x56d9ec);}catch(_0x382769){try{return _0x10b402['call'](null,_0x56d9ec);}catch(_0x574a71){return _0x10b402['call'](this,_0x56d9ec);}}}(_0x41d2e0);}}function _0x5c8a6a(_0x41d2e0,_0x56d9ec){this[_0x1c61('0xe5f')]=_0x41d2e0,this['array']=_0x56d9ec;}function _0x2414ee(){}_0x41d2e0['nextTick']=function(_0x41d2e0){var _0x56d9ec=new Array(arguments['length']-0x1);if(0x1<arguments['length'])for(var _0x451c73=0x1;_0x451c73<arguments[_0x1c61('0xf')];_0x451c73++)_0x56d9ec[_0x451c73-0x1]=arguments[_0x451c73];_0x1fa83f[_0x1c61('0x6f')](new _0x5c8a6a(_0x41d2e0,_0x56d9ec)),0x1!==_0x1fa83f['length']||_0x577b8a||_0x312417(_0x4ea09);},_0x5c8a6a[_0x1c61('0xb')][_0x1c61('0xe5e')]=function(){this[_0x1c61('0xe5f')][_0x1c61('0x1d')](null,this[_0x1c61('0xe9')]);},_0x41d2e0[_0x1c61('0xe60')]=_0x1c61('0xe61'),_0x41d2e0[_0x1c61('0xe61')]=!0x0,_0x41d2e0['env']={},_0x41d2e0[_0x1c61('0xe62')]=[],_0x41d2e0[_0x1c61('0xe63')]='',_0x41d2e0[_0x1c61('0x6e')]={},_0x41d2e0['on']=_0x2414ee,_0x41d2e0[_0x1c61('0xe64')]=_0x2414ee,_0x41d2e0[_0x1c61('0xe65')]=_0x2414ee,_0x41d2e0[_0x1c61('0xd8e')]=_0x2414ee,_0x41d2e0[_0x1c61('0xe66')]=_0x2414ee,_0x41d2e0[_0x1c61('0xe67')]=_0x2414ee,_0x41d2e0[_0x1c61('0x34d')]=_0x2414ee,_0x41d2e0[_0x1c61('0xe68')]=_0x2414ee,_0x41d2e0['prependOnceListener']=_0x2414ee,_0x41d2e0[_0x1c61('0xe69')]=function(_0x41d2e0){return[];},_0x41d2e0[_0x1c61('0xe6a')]=function(_0x41d2e0){throw new Error(_0x1c61('0xe6b'));},_0x41d2e0[_0x1c61('0xe6c')]=function(){return'/';},_0x41d2e0[_0x1c61('0xe6d')]=function(_0x41d2e0){throw new Error(_0x1c61('0xe6e'));},_0x41d2e0[_0x1c61('0xe6f')]=function(){return 0x0;};},function(_0x40bff7,_0x1515d8,_0x23c77b){'use strict';if(_0x23c77b(0xcc),_0x23c77b(0x18b),!esmap)throw new Error(_0x1c61('0x4eb'));},function(_0x53ee14,_0x1529c4,_0x2760a4){'use strict';var _0x2c8da3=_0x4a3637(_0x2760a4(0x30)),_0x168a71=_0x4a3637(_0x2760a4(0x2e)),_0x430e5b=_0x4a3637(_0x2760a4(0x4)),_0x11b661=_0x4a3637(_0x2760a4(0xf)),_0x3f25ef=function(_0x53ee14){if(_0x53ee14&&_0x53ee14[_0x1c61('0x5')])return _0x53ee14;var _0x1529c4={};if(null!=_0x53ee14)for(var _0x2760a4 in _0x53ee14)Object[_0x1c61('0xb')][_0x1c61('0xc')]['call'](_0x53ee14,_0x2760a4)&&(_0x1529c4[_0x2760a4]=_0x53ee14[_0x2760a4]);return _0x1529c4[_0x1c61('0x8')]=_0x53ee14,_0x1529c4;}(_0x2760a4(0x41)),_0x34ca3f=_0x4a3637(_0x2760a4(0x18c)),_0x54441e=_0x2760a4(0x18d),_0x505480=_0x2760a4(0x1a);function _0x4a3637(_0x53ee14){return _0x53ee14&&_0x53ee14[_0x1c61('0x5')]?_0x53ee14:{'default':_0x53ee14};}var _0x38cf72,_0x4d4629,_0x3abdcb,_0x58adb1,_0x3da53c,_0x24a7d9,_0x57e046,_0x11ffb3,_0x5925f8,_0x4ff802,_0x4c9f30,_0x1fc464,_0x101e6c,_0x5470f8={};function _0x2b4eda(_0x11b661){_0x3abdcb=_0x38cf72[_0x1c61('0x47')][_0x1c61('0xe70')]||_0x1c61('0xe71'),!_0x11b661[_0x1c61('0xe72')]&&_0x38cf72[_0x1c61('0x8d3')]['tileurl']&&(_0x11b661[_0x1c61('0xe72')]=_0x38cf72[_0x1c61('0x8d3')]['tileurl'][0x0]),_0x11b661[_0x1c61('0xe72')]&&-0x1<_0x11b661['tileUrl'][_0x1c61('0x50')]('|')&&((_0x53ee14=function(){for(var _0x53ee14={},_0x1529c4=_0x11b661['tileUrl'][_0x1c61('0x5f')]('|'),_0x2760a4=0x1;_0x2760a4<_0x1529c4['length'];_0x2760a4++){var _0x2c8da3=_0x1529c4[_0x2760a4]['split']('=');_0x53ee14[_0x2c8da3[0x0]]=_0x2c8da3[0x1];}return _0x53ee14;}())[_0x1c61('0xe73')]&&(_0x11b661[_0x1c61('0xe74')]=+_0x53ee14['levelOffset']),_0x53ee14[_0x1c61('0xe75')]&&(_0x11b661[_0x1c61('0xe76')]=+_0x53ee14[_0x1c61('0xe75')]),_0x53ee14[_0x1c61('0xe77')]&&(_0x53ee14[_0x1c61('0xe77')]=JSON[_0x1c61('0x2b3')](_0x53ee14[_0x1c61('0xe77')])),_0x53ee14[_0x1c61('0xe77')]&&(_0x11b661[_0x1c61('0xe78')]={'min':_0x53ee14[_0x1c61('0xe77')][0x0],'max':_0x53ee14[_0x1c61('0xe77')][0x1]}),_0x11b661[_0x1c61('0xe72')]=_0x11b661[_0x1c61('0xe72')][_0x1c61('0x5f')]('|')[0x0]),_0x11b661[_0x1c61('0xe74')]&&(esmap[_0x1c61('0xa19')][_0x1c61('0xe74')]=_0x11b661[_0x1c61('0xe74')]);var _0x1529c4,_0x2760a4,_0x2c8da3,_0x53ee14=esmap[_0x1c61('0x33')][_0x1c61('0xe79')](),_0x34ca3f={'tileUrl':_0x11b661[_0x1c61('0xe72')],'tileTheme':_0x11b661[_0x1c61('0xe7a')],'isShowWater':_0x11b661[_0x1c61('0x3c2')],'isShowTileSourceLicense':_0x11b661['isShowTileSourceLicense'],'isOpenControllerInertia':_0x11b661[_0x1c61('0xe7b')],'tileSourceMaxLevel':_0x11b661[_0x1c61('0xe76')],'tileSourceZoom':_0x11b661[_0x1c61('0xe78')],'tileSourceLevelOffset':_0x11b661['tileSourceLevelOffset']},_0x4a3637=_0x34ca3f['tileUrl'],_0x11ffb3=_0x34ca3f[_0x1c61('0x3c2')],_0x4ff802=_0x34ca3f['isShowTileSourceLicense'],_0x430e5b=_0x34ca3f['isOpenControllerInertia'],_0x2b4eda=_0x34ca3f[_0x1c61('0xe76')],_0x34ca3f=_0x34ca3f[_0x1c61('0xe7c')],_0x8731a6=new ESTileMap[(_0x1c61('0xe7d'))](_0x1c61('0xe7e'),-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x3cb904=_0x38cf72[_0x1c61('0x47')][_0x1c61('0x335')],_0x14e48a=_0x54441e[_0x1c61('0xe7f')],_0x3cb904=(_0x11ffb3&&(_0x58adb1=new _0x3f25ef['MapTileWater']({'isShowWater':!0x0,'originColor':_0x14e48a[_0x1c61('0xe80')],'replaceColor':_0x14e48a['waterReplaceColor']}),_0x14e48a[_0x1c61('0xe81')]=new THREE['TextureLoader']()[_0x1c61('0x96')](_0x54441e['DEFAULT_THEME'][_0x1c61('0xe82')])),(_0x4d4629=new ESTileMap[(_0x1c61('0xe83'))](_0x3cb904,_0x8731a6,{'scene3D':_0x38cf72[_0x1c61('0x45c')][_0x1c61('0x456')],'camera':_0x38cf72['mapView'][_0x1c61('0x301')],'renderer':_0x38cf72[_0x1c61('0x45c')][_0x1c61('0x51f')],'disableSkirt':!0x0,'maxSubdivisionLevel':_0x2b4eda||0x13,'mapType':_0x3abdcb,'tileOptions':_0x14e48a,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))['isSetTileBlending']=!0x1,esmap[_0x1c61('0x8b8')]&&(_0x4d4629[_0x1c61('0xe84')]=_0x54441e[_0x1c61('0xe7f')],esmap[_0x1c61('0x8b8')][_0x1c61('0xe85')]=_0x4d4629),_0x11ffb3&&_0x58adb1[_0x1c61('0x3c1')](_0x4d4629),new ESTileMap['ESTileControls'](_0x4d4629,_0x38cf72[_0x1c61('0x45c')][_0x1c61('0x335')],_0x38cf72));if(_0x4d4629[_0x1c61('0x301')][_0x1c61('0xe86')]['controls']=_0x3cb904,_0x38cf72[_0x1c61('0xe87')](_0x3cb904),_0x38cf72[_0x1c61('0x65e')]=_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xe88')][_0x1c61('0xa')](_0x38cf72['controls']),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x2aa')](_0x1c61('0xe89'),function(_0x53ee14){_0x38cf72['scaleLevel']=_0x53ee14['level'],_0x38cf72[_0x1c61('0x28d')](_0x1c61('0xa21'),_0x53ee14[_0x1c61('0x586')]),esmap[_0x1c61('0x51')][_0x1c61('0x8de')][_0x1c61('0xe8a')]()&&_0x48097a(_0x53ee14[_0x1c61('0x586')]);}),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x2aa')]('start',function(_0x53ee14){_0x38cf72[_0x1c61('0x28d')](_0x1c61('0xe8b')),_0x101e6c[_0x1c61('0x1c2')](_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x91')]),esmap[_0x1c61('0xa19')]['viewMode_']===esmap['ESViewMode'][_0x1c61('0xe8c')]&&_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xe8d')]&&_0x38cf72['viewMode']===esmap[_0x1c61('0xe8e')][_0x1c61('0xe8c')]&&(_0x38cf72[_0x1c61('0xe8f')]={'mode':esmap[_0x1c61('0xe8e')]['MODE_3D'],'time':0x0});}),_0x38cf72[_0x1c61('0x2bc')]['addEventListener'](_0x1c61('0x40e'),function(_0x53ee14){_0x38cf72[_0x1c61('0xe90')](),_0x38cf72[_0x1c61('0x28d')]('controlend'),esmap[_0x1c61('0xa19')][_0x1c61('0xe91')]===esmap[_0x1c61('0xe8e')]['MODE_2D']&&_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xe8d')]&&_0x38cf72['viewMode']===esmap[_0x1c61('0xe8e')][_0x1c61('0xe92')]&&(_0x38cf72[_0x1c61('0xe8f')]={'mode':esmap[_0x1c61('0xe8e')]['MODE_2D'],'time':0x0});}),esmap[_0x1c61('0x51')]['options'][_0x1c61('0x8aa')]&&_0x5925f8['shadow']&&(_0x1529c4=esmap[_0x1c61('0x51')][_0x1c61('0x898')][_0x1c61('0xe93')](),_0x2760a4=esmap[_0x1c61('0x51')]['lights']['getLights'](),_0x1529c4['initTileMapShadow'](_0x2760a4['tileBuildingLight'],_0x5925f8[_0x1c61('0x89a')]),(_0x2b4eda=new THREE[(_0x1c61('0x4cb'))]({'color':_0x1c61('0x43b'),'transparent':!0x0,'depthWrite':!0x1}))[_0x1c61('0x3c7')]=function(_0x53ee14){_0x53ee14['fragmentShader']=_0x53ee14['fragmentShader'][_0x1c61('0x3c9')](_0x1c61('0x3dd'),_0x1c61('0xe94'));},(_0x2c8da3=new THREE[(_0x1c61('0x30f'))](new THREE[(_0x1c61('0x3d0'))](0x1,0x1),_0x2b4eda))[_0x1c61('0x1f6')]['x']=0.5*-Math['PI'],_0x2c8da3[_0x1c61('0x748')]=!0x0,_0x38cf72[_0x1c61('0x45c')][_0x1c61('0x456')][_0x1c61('0x1c4')](_0x2c8da3),_0x1529c4[_0x1c61('0xd74')](_0x2760a4,_0x2c8da3,_0x5925f8[_0x1c61('0x89a')]),_0x38cf72['on'](_0x1c61('0xe95'),function(_0x53ee14){setTimeout(function(){_0x1529c4['updateTileShadow'](_0x2760a4,_0x2c8da3,_0x5925f8[_0x1c61('0x89a')]);},0xfa0);}),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x2aa')](_0x1c61('0xdcd'),function(_0x53ee14){_0x1529c4[_0x1c61('0xd74')](_0x2760a4,_0x2c8da3,_0x5925f8[_0x1c61('0x89a')],_0x101e6c);})),Object[_0x1c61('0x2')](_0x5470f8,_0x1c61('0xd8c'),{'get':function(){return _0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xd8c')];},'set':function(_0x53ee14){_0x38cf72['controls'][_0x1c61('0xd8c')]=_0x53ee14;}}),Object['defineProperty'](_0x5470f8,_0x1c61('0xe76'),{'get':function(){return _0x4d4629['tileLayer'][_0x1c61('0xe96')];},'set':function(_0x53ee14){_0x4d4629[_0x1c61('0x3c3')][_0x1c61('0xe96')]=_0x53ee14;}}),_0x430e5b?(_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xda8')]=!0x0,_0x38cf72['controls'][_0x1c61('0xda9')]=0.1,_0x38cf72['controls'][_0x1c61('0x61c')]=0.08,_0x38cf72[_0x1c61('0x2bc')]['panSpeed']=0.25):(_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xda8')]=!0x1,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x61c')]=0.7,_0x38cf72['controls'][_0x1c61('0xdac')]=1.6),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xe97')]=!0x1,_0x38cf72[_0x1c61('0x2bc')]['autoRotateSpeed']=0.1,_0x4ff802){for(var _0x14e48a=_0x38cf72[_0x1c61('0x47')][_0x1c61('0x335')],_0x62df5a=_0x4a3637,_0x11ffb3=document[_0x1c61('0x75')](_0x1c61('0xde9')),_0x3cb904=(_0x11ffb3[_0x1c61('0x731')][_0x1c61('0x218')]=_0x1c61('0xdeb'),_0x11ffb3[_0x1c61('0x731')][_0x1c61('0x6d2')]=0x0,_0x11ffb3['style'][_0x1c61('0x7e7')]=0x0,_0x11ffb3[_0x1c61('0x731')]['height']=_0x1c61('0xe98'),_0x11ffb3[_0x1c61('0x731')]['fontSize']='12px',_0x11ffb3[_0x1c61('0x731')]['paddingLeft']=_0x1c61('0xe99'),_0x11ffb3[_0x1c61('0x731')]['background']=_0x1c61('0xe9a'),_0x11ffb3[_0x1c61('0x731')][_0x1c61('0xe9b')]=_0x1c61('0xe9c'),document['createElement']('a')),_0x328eb2=(_0x3cb904[_0x1c61('0x732')]('href',_0x1c61('0xe9d')),_0x3cb904[_0x1c61('0x732')](_0x1c61('0x91'),_0x1c61('0xe9e')),_0x3cb904[_0x1c61('0x731')][_0x1c61('0x228')]=_0x1c61('0xe9f'),_0x3cb904[_0x1c61('0x731')][_0x1c61('0xea0')]=_0x1c61('0x64'),_0x3cb904[_0x1c61('0xea1')]=_0x1c61('0x24'),_0x11ffb3[_0x1c61('0x65')](_0x3cb904),document[_0x1c61('0x75')]('a')),_0x56c05d=[{'url':_0x1c61('0xea2'),'text':_0x1c61('0xea3'),'link':_0x1c61('0xea4')},{'url':_0x1c61('0xea5'),'text':'\x20|\x20©\x20高德地图\x20','link':_0x1c61('0xea6')},{'url':_0x1c61('0xea7'),'text':_0x1c61('0xea8'),'link':_0x1c61('0xea9')},{'url':_0x1c61('0xeaa'),'text':_0x1c61('0xeab'),'link':_0x1c61('0xeac')}],_0x514dc0=0x0;_0x514dc0<_0x56c05d[_0x1c61('0xf')];_0x514dc0++)if(-0x1<_0x62df5a['indexOf'](_0x56c05d[_0x514dc0][_0x1c61('0x9f3')])){_0x328eb2[_0x1c61('0xea1')]=_0x56c05d[_0x514dc0][_0x1c61('0xead')],_0x328eb2[_0x1c61('0x732')](_0x1c61('0xeae'),_0x56c05d[_0x514dc0][_0x1c61('0xeaf')]),_0x328eb2[_0x1c61('0x732')](_0x1c61('0x91'),_0x1c61('0xe9e'));break;}_0x328eb2[_0x1c61('0x731')]['color']=_0x1c61('0x686'),_0x328eb2['style'][_0x1c61('0xea0')]='none',_0x328eb2['style'][_0x1c61('0xeb0')]=_0x1c61('0xe9c'),_0x11ffb3['appendChild'](_0x328eb2),_0x14e48a[_0x1c61('0x65')](_0x11ffb3);}var _0x453ccd,_0x2b4eda=_0x38cf72[_0x1c61('0x47')][_0x1c61('0x335')],_0x430e5b=document[_0x1c61('0x75')](_0x1c61('0xde9')),_0x4ff802=(_0x430e5b[_0x1c61('0x731')]['position']=_0x1c61('0xdeb'),_0x430e5b[_0x1c61('0x731')][_0x1c61('0x5c0')]=0x0,_0x430e5b[_0x1c61('0x731')][_0x1c61('0x33f')]=0x0,_0x430e5b['style'][_0x1c61('0x328')]='100%',_0x430e5b['style'][_0x1c61('0x2f7')]=_0x1c61('0xeb1'),_0x430e5b['style'][_0x1c61('0xeb2')]=_0x1c61('0x686'),_0x2b4eda[_0x1c61('0x65')](_0x430e5b),_0x4c9f30=_0x430e5b,esmap[_0x1c61('0xeb3')]=function(_0x53ee14){_0x4c9f30&&(_0x4c9f30[_0x1c61('0x731')]['display']=_0x53ee14?_0x1c61('0xeb4'):'none');},new ESTileMap[(_0x1c61('0xeb5'))]({'extent':_0x8731a6,'format':'image/png','url':_0x4a3637||_0x1c61('0xeb6'),'attribution':{'name':_0x1c61('0xeb7')},'tileMatrixSet':'PM','zoom':_0x34ca3f,'projection':_0x1c61('0xe7e'),'isInverted':_0x1c61('0xeb8')==_0x38cf72[_0x1c61('0x9de')]})),_0x3cb904=new ESTileMap['ColorLayer'](_0x1c61('0xeb9'),{'source':_0x4ff802,'sourceType':'google'}),_0x6ebb64=(_0x4d4629['addLayer'](_0x3cb904),_0x38cf72['controls'][_0x1c61('0x551')]['push'](_0x3cb904),_0x5470f8['tileMapView']=_0x4d4629,_0x5470f8[_0x1c61('0xeba')]=_0x3cb904,_0x4d4629[_0x1c61('0x3c3')]['object3d'][_0x1c61('0x218')]['y']=-0x1,_0x38cf72['on'](_0x1c61('0x900'),function(_0x53ee14){TWEEN[_0x1c61('0x2db')](),esmap[_0x1c61('0xebb')]||(_0x4d4629['notifyChange'](_0x4d4629[_0x1c61('0x301')][_0x1c61('0xe86')]),_0x58adb1&&_0x58adb1['update']());}),_0x3da53c=new _0x3f25ef['CameraFlyTo'](_0x4d4629,_0x38cf72[_0x1c61('0x2bc')]),_0x5470f8[_0x1c61('0x2be')]=function(_0x53ee14){_0x3da53c[_0x1c61('0x2be')]({'direction':_0x53ee14[_0x1c61('0x238')]||esmap['ESDirection']['NORTH'],'position':new THREE[(_0x1c61('0x1b8'))](-_0x53ee14['x'],0x0,_0x53ee14['y']),'radiusFactor':_0x53ee14[_0x1c61('0x2c0')]||0x7d0,'pitchAngle':_0x53ee14[_0x1c61('0x877')]||0x2d,'complete':_0x53ee14[_0x1c61('0x2d0')]});},_0x38cf72[_0x1c61('0x872')]=function(_0x53ee14){var _0x1529c4,_0x2760a4;function _0x2c8da3(){_0x3da53c[_0x1c61('0xebc')]({'targetPos':_0x1529c4,'radius':_0x53ee14[_0x1c61('0x226')],'pitchAngle':_0x53ee14[_0x1c61('0x2c1')],'directionAngle':_0x53ee14[_0x1c61('0x873')],'time':_0x53ee14[_0x1c61('0x2cf')],'callback':_0x53ee14[_0x1c61('0x2d0')],'tileUpdateCallbacks':{'start':_0x38cf72['controls'][_0x1c61('0xebd')],'update':_0x38cf72[_0x1c61('0x2bc')]['cameraAnimateUpdate'],'complete':_0x38cf72[_0x1c61('0x2bc')]['cameraAnimateComplete']}});}_0x53ee14[_0x1c61('0x226')]?(_0x1529c4=null,_0x1529c4=_0x53ee14[_0x1c61('0x500')]&&_0x53ee14[_0x1c61('0x501')]?(_0x2760a4=_0x38cf72['getScreenCenter']({'bid':_0x53ee14[_0x1c61('0x500')],'fnum':_0x53ee14[_0x1c61('0x501')]}),_0x38cf72[_0x1c61('0x23')](_0x2760a4)):_0x38cf72[_0x1c61('0x23')]({'x':_0x53ee14['x'],'y':_0x53ee14['y'],'z':_0x53ee14['z']||0x0}),_0x2760a4=_0x38cf72[_0x1c61('0x2bc')]['getZoomFromSphereRadius'](_0x53ee14['radius']),0xf<_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebe')]&&_0x2760a4<=0xf&&_0x53ee14[_0x1c61('0x2c1')]<THREE[_0x1c61('0x15')][_0x1c61('0xa7d')](_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebf')])?_0x53ee14['delay']?setTimeout(function(){_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xec0')](_0x38cf72[_0x1c61('0x2bc')]['_tempMaxPolarAngle'],0x1f4,function(){_0x2c8da3();});},0x3e8*_0x53ee14[_0x1c61('0xec1')]):_0x38cf72['controls'][_0x1c61('0xec0')](_0x38cf72[_0x1c61('0x2bc')]['_tempMaxPolarAngle'],0x1f4,function(){_0x2c8da3();}):_0x53ee14[_0x1c61('0xec1')]?setTimeout(function(){_0x2c8da3();},0x3e8*_0x53ee14[_0x1c61('0xec1')]):_0x2c8da3()):console[_0x1c61('0x200')](_0x1c61('0xec2'));},_0x38cf72[_0x1c61('0xec3')]=function(_0x53ee14,_0x1529c4){var _0x2760a4=null,_0x2c8da3=_0x53ee14&&_0x1529c4?(_0x2760a4=_0x38cf72['getScreenCenter']({'bid':_0x53ee14,'fnum':_0x1529c4}),_0x38cf72[_0x1c61('0x23')](_0x2760a4)):(_0x2760a4=_0x38cf72['coordThreeToMap']({'x':_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x91')]['x'],'y':_0x38cf72['controls'][_0x1c61('0x91')]['y'],'z':_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x91')]['z']}),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x91')]),_0x2c8da3=_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x6')][_0x1c61('0x218')]['distanceTo'](_0x2c8da3);return _0x53ee14&&_0x1529c4?{'directionAngle':+_0x38cf72['rotateAngle'][_0x1c61('0x4dc')](0x2),'pitchAngle':+_0x38cf72[_0x1c61('0x877')][_0x1c61('0x4dc')](0x2),'radius':+_0x2c8da3[_0x1c61('0x4dc')](0x2),'x':+_0x2760a4['x']['toFixed'](0x2),'y':+_0x2760a4['y']['toFixed'](0x2),'z':0x0,'bid':_0x53ee14,'fnum':_0x1529c4,'time':0x3}:{'directionAngle':+_0x38cf72['rotateAngle'][_0x1c61('0x4dc')](0x2),'pitchAngle':+_0x38cf72['tiltAngle'][_0x1c61('0x4dc')](0x2),'radius':+_0x2c8da3[_0x1c61('0x4dc')](0x2),'x':+_0x2760a4['x']['toFixed'](0x2),'y':+_0x2760a4['y'][_0x1c61('0x4dc')](0x2),'z':+_0x2760a4['z']['toFixed'](0x1),'time':0x3};},_0x38cf72[_0x1c61('0xec4')]=_0xe0c357,_0x11b661[_0x1c61('0xec5')]||0x8),_0x75bb2d=(_0x38cf72['tileService'][_0x1c61('0xec6')]?esmap[_0x1c61('0x33')][_0x1c61('0xec7')](_0x53ee14):(_0x14e48a={'startZoom':_0x6ebb64},_0x11ffb3=(0x0,_0x505480[_0x1c61('0x2c')])(_0x38cf72[_0x1c61('0x47')]['center']['x'],_0x38cf72[_0x1c61('0x47')]['center']['y']),_0x2b4eda=new THREE['Vector3'](_0x11ffb3['x'],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xec8')](_0x14e48a[_0x1c61('0xec9')]),_0x11ffb3['y']),_0x430e5b=new THREE[(_0x1c61('0x1b8'))](_0x11ffb3['x'],0x0,_0x11ffb3['y']),_0x4d4629['tileLayer'][_0x1c61('0x312')][_0x1c61('0x218')]['set'](-_0x38cf72[_0x1c61('0x2f')]['sceneX_'],0x0,-_0x38cf72[_0x1c61('0x2f')]['sceneZ_']),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xeca')](_0x2b4eda,_0x430e5b,_0x14e48a[_0x1c61('0xec9')]),_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0x2db')]({'forceTheta':Math['PI']+THREE['Math']['degToRad'](_0x38cf72[_0x1c61('0x47')][_0x1c61('0xecb')])})),Object['defineProperty'](_0x5470f8,_0x1c61('0xe91'),{'get':function(){return _0x57e046;},'set':function(_0x53ee14){_0x1fc464||_0x53ee14===_0x57e046||(_0x53ee14===esmap[_0x1c61('0xe8e')][_0x1c61('0xe8c')]?(_0x1fc464=!0x0,_0x38cf72['viewMode']={'mode':esmap['ESViewMode']['MODE_2D'],'time':0x1,'callback':function(){_0x38cf72[_0x1c61('0x2bc')]['maxPolarAngle']=0x0,_0x38cf72['controls'][_0x1c61('0xecc')]=0x0,_0x57e046=_0x53ee14,_0x1fc464=!0x1;}},esmap[_0x1c61('0x51')][_0x1c61('0x8d7')][_0x1c61('0x911')](!0x1)):_0x53ee14===esmap[_0x1c61('0xe8e')][_0x1c61('0xe92')]&&(_0x1fc464=!0x0,_0x38cf72[_0x1c61('0xe8f')]={'mode':esmap[_0x1c61('0xe8e')][_0x1c61('0xe92')],'time':0x1,'callback':function(){_0x57e046=_0x53ee14,_0x38cf72['controls'][_0x1c61('0xecc')]=_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecd')],_0x38cf72['controls'][_0x1c61('0xece')](),_0x1fc464=!0x1;}},esmap['ESEffectTool'][_0x1c61('0x8d7')][_0x1c61('0x911')](!0x0)));}}),Object[_0x1c61('0x2')](_0x5470f8,_0x1c61('0xe8f'),{'get':function(){return _0x24a7d9;},'set':function(_0x53ee14){_0x53ee14===esmap[_0x1c61('0xe8e')]['MODE_2D']?(_0x24a7d9=_0x53ee14,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebf')]=0x0,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecd')]=_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecc')],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xda6')]=0x0,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecc')]=0x0):_0x53ee14===esmap[_0x1c61('0xe8e')][_0x1c61('0xe92')]&&(_0x24a7d9=_0x53ee14,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebf')]=0.3*Math['PI'],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xda6')]=0.3*Math['PI'],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecc')]=_0x38cf72['controls']['_tempMaxNearGroundPolarAngle']);}}),_0x38cf72[_0x1c61('0x2f')]['tileScene_'][_0x1c61('0x32c')]=!0x0,_0x11b661['scaleLevel']),_0x8731a6=0x0;_0x11b661[_0x1c61('0xecf')]&&(_0x75bb2d=_0x11b661[_0x1c61('0xecf')][_0x1c61('0xed0')],_0x8731a6=_0x11b661[_0x1c61('0xecf')]['duration']),_0x38cf72['options'][_0x1c61('0xe8f')]==esmap[_0x1c61('0xe8e')]['MODE_2D']&&(_0x11b661[_0x1c61('0xed1')]=0.1),_0x38cf72[_0x1c61('0x8d3')][_0x1c61('0xec6')]?_0x572596({'targetLevel':_0x75bb2d,'startZoom':_0x6ebb64,'scaleLevel':_0x11b661[_0x1c61('0xec5')],'scaleLevelAnimate':_0x11b661[_0x1c61('0xecf')]}):(_0x38cf72[_0x1c61('0x45c')]['container'][_0x1c61('0x731')][_0x1c61('0xed2')]=_0x1c61('0xed3'),_0x453ccd={'targetLevel':_0x75bb2d,'duration':_0x8731a6,'initPitchAngle':_0x11b661[_0x1c61('0xed1')]},new _0x168a71[(_0x1c61('0x8'))](function(_0x53ee14,_0x1529c4){_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xed4')](_0x453ccd['targetLevel'],0x3e8*_0x453ccd[_0x1c61('0x235')],function(){_0x38cf72[_0x1c61('0x2bc')]['pitchAnimate'](THREE['Math'][_0x1c61('0x2d3')](_0x453ccd['initPitchAngle']),0x3e8,function(){_0x53ee14();}),_0x453ccd[_0x1c61('0xed5')]&&_0x410046(),_0x453ccd[_0x1c61('0xed6')]&&new _0x3f25ef[(_0x1c61('0xcb'))](_0x38cf72[_0x1c61('0x45c')]['container'],_0x4d4629,_0x5470f8[_0x1c61('0xeba')],_0x1c61('0xed7'),function(_0x53ee14){})[_0x1c61('0x4ef')]();});})['then'](function(){_0x572596({'targetLevel':_0x75bb2d,'startZoom':_0x6ebb64,'scaleLevel':_0x11b661[_0x1c61('0xec5')],'scaleLevelAnimate':_0x11b661[_0x1c61('0xecf')]});}));}function _0x572596(_0x53ee14){_0x38cf72[_0x1c61('0x28d')](_0x1c61('0xed8'),{'level':_0x53ee14['scaleLevelAnimate']?_0x53ee14['startZoom']:_0x53ee14['scaleLevel']}),_0x48097a(_0x53ee14['targetLevel']),_0x38cf72['updateTile']=!0x0,_0x38cf72[_0x1c61('0xe90')](),_0x38cf72[_0x1c61('0x47')][_0x1c61('0xe8f')]==esmap['ESViewMode'][_0x1c61('0xe8c')]&&(esmap['ESTileMap']['viewMode']=esmap['ESViewMode'][_0x1c61('0xe8c')]);}function _0xe0c357(_0x53ee14){var _0x1529c4=null,_0x2760a4=0x1;if(_0x1c61('0x1aa')==typeof _0x53ee14)_0x1529c4=_0x53ee14;else if('object'===(void 0x0===_0x53ee14?_0x1c61('0x3'):(0x0,_0x2c8da3[_0x1c61('0x8')])(_0x53ee14))){if(!_0x53ee14[_0x1c61('0x1c')])return;_0x1529c4=_0x53ee14[_0x1c61('0x1c')],_0x53ee14[_0x1c61('0x2cf')]&&(_0x2760a4=_0x53ee14[_0x1c61('0x2cf')]);}0xf<_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebe')]&&_0x1529c4<=0xf&&_0x38cf72[_0x1c61('0x877')]>_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebf')]?_0x38cf72['controls']['pitchAnimate'](_0x38cf72['controls']['_tempMaxPolarAngle'],0x1f4,function(){_0x38cf72['controls'][_0x1c61('0xed4')](_0x1529c4,0x3e8*(_0x2760a4-0.5),function(){_0x53ee14[_0x1c61('0x843')]&&_0x53ee14[_0x1c61('0x843')](),_0x38cf72[_0x1c61('0xe90')]();});}):_0x38cf72[_0x1c61('0x2bc')]['pointToPointAnimate'](_0x1529c4,0x3e8*_0x2760a4,function(){_0x53ee14[_0x1c61('0x843')]&&_0x53ee14[_0x1c61('0x843')](),_0x38cf72[_0x1c61('0xe90')]();});}function _0x48097a(_0x53ee14){var _0x1529c4=esmap['ESEffectTool'][_0x1c61('0x8de')][_0x1c61('0xe8a')]();_0x1529c4&&_0x1529c4[_0x1c61('0x912')]&&_0x1529c4[_0x1c61('0x912')][_0x1c61('0x45f')]&&(_0x1c61('0xa12')==_0x1529c4[_0x1c61('0x912')][_0x1c61('0x90')]&&_0x53ee14<(_0x4ff802?0x10:0xe)?(_0x1529c4[_0x1c61('0x912')][_0x1c61('0x90')],_0x1529c4[_0x1c61('0x912')]['skyBox']['visible']=!0x1):_0x1529c4['skyboxTool'][_0x1c61('0x45f')][_0x1c61('0x32c')]=!0x0);}function _0x410046(){new _0x34ca3f[(_0x1c61('0x8'))]({'container':_0x38cf72[_0x1c61('0x45c')][_0x1c61('0x335')],'tileView':_0x4d4629,'tileLayer':_0x5470f8['currLayer'],'callback':function(_0x53ee14){_0x38cf72[_0x1c61('0x28d')](_0x1c61('0xed9'),{'x':-_0x53ee14['x'],'y':_0x53ee14['z']});}})[_0x1c61('0x4ef')]();}esmap[_0x1c61('0xa19')]=_0x5470f8,_0x3da53c=_0x58adb1=_0x3abdcb=_0x4d4629=_0x38cf72=null,_0x24a7d9=esmap['ESViewMode'][_0x1c61('0xe92')],_0x57e046=esmap['ESViewMode'][_0x1c61('0xe92')],_0x11ffb3=!0x1,_0x4ff802=(_0x5925f8=null,_0x505480[_0x1c61('0x5a')])(),_0x4c9f30=null,_0x1fc464=!0x1,_0x101e6c=new THREE[(_0x1c61('0x1b8'))](),_0x5470f8[_0x1c61('0x4ef')]=function(_0x4ff802){_0x4ff802=(0x0,_0x11b661[_0x1c61('0x8')])({'effectThemeSrc':null,'effectThemeId':null,'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null},_0x4ff802),(_0x38cf72=esmap[_0x1c61('0x24')]['instance'])[_0x1c61('0xeda')]=_0x410046,_0x4ff802['selectEffect']&&(selectEffect=!0x0,_0x38cf72[_0x1c61('0x47')][_0x1c61('0x4ba')]=!0x0),_0x4ff802[_0x1c61('0xedb')]&&(_0x38cf72[_0x1c61('0x47')][_0x1c61('0xedb')]=_0x4ff802[_0x1c61('0xedb')]),esmap[_0x1c61('0xa13')]=!0x0,_0x38cf72['on'](_0x1c61('0xedc'),function(){}),_0x38cf72['on'](_0x1c61('0xd8'),function(){_0x4d4629&&(_0x4d4629['removeLayer'](_0x1c61('0xedd')),esmap['_tileUpdateLock']=!0x0);}),_0x38cf72['on'](_0x1c61('0x8cd'),function(_0x53ee14){if(!_0x11ffb3){var _0x1529c4,_0x2c8da3;if(_0x11ffb3=!0x0,_0x38cf72[_0x1c61('0xec5')]=_0x4ff802[_0x1c61('0xec5')],_0x38cf72['options'][_0x1c61('0x232')]['x'],_0x38cf72[_0x1c61('0x47')][_0x1c61('0x232')]['y'],_0x4ff802[_0x1c61('0xe72')]){for(var _0x2760a4=_0x38cf72[_0x1c61('0xede')][_0x1c61('0x5f')](','),_0x11b661=!0x1,_0x34ca3f=0x0;_0x34ca3f<_0x2760a4[_0x1c61('0xf')];_0x34ca3f++)if(-0x1<_0x4ff802['tileUrl'][_0x1c61('0x50')](_0x2760a4[_0x34ca3f])){_0x11b661=!0x0;break;}if(!_0x11b661)return void console[_0x1c61('0xec')](_0x1c61('0xedf'));}if(''===_0x4ff802[_0x1c61('0xe72')]||!_0x4ff802['tileUrl']&&!_0x38cf72[_0x1c61('0x8d3')][_0x1c61('0xee0')][0x0])return _0x38cf72[_0x1c61('0xee1')]=!0x0,void _0x38cf72[_0x1c61('0xe90')]();esmap[_0x1c61('0x51')]&&esmap[_0x1c61('0x51')][_0x1c61('0x52')]&&esmap[_0x1c61('0x51')][_0x1c61('0x52')],_0x38cf72['mapScene'][_0x1c61('0xee2')][_0x1c61('0x32c')]=!0x1,esmap['ESTileMap'][_0x1c61('0xa1a')]=!0x0,esmap[_0x1c61('0x51')][_0x1c61('0x8c1')]?(_0x1529c4=(0x0,_0x505480[_0x1c61('0x27')])(_0x38cf72,esmap[_0x1c61('0x51')][_0x1c61('0x47')]),_0x2c8da3=_0x1529c4,new _0x168a71[(_0x1c61('0x8'))](function(_0x1529c4,_0x2760a4){new THREE['FileLoader']()[_0x1c61('0x96')](_0x2c8da3+'effects.json',function(_0x53ee14){_0x1529c4(JSON['parse'](_0x53ee14));},null,function(_0x53ee14){console[_0x1c61('0x200')](_0x1c61('0xee3')+_0x2c8da3+_0x1c61('0x2b4')),_0x2760a4(_0x53ee14);});})[_0x1c61('0x34a')](function(_0x53ee14){if((_0x5925f8=_0x53ee14)[_0x1c61('0xe7a')]){_0x54441e['DEFAULT_THEME'][_0x1c61('0xee4')]=!0x0;var _0x1529c4=_0x53ee14[_0x1c61('0xe7a')],_0x2760a4=(_0x1529c4[_0x1c61('0x422')]&&_0x54441e[_0x1c61('0xe7f')][_0x1c61('0x422')][_0x1c61('0x2fa')](_0x1529c4[_0x1c61('0x422')]),_0x1529c4[_0x1c61('0x4cf')]&&_0x54441e['DEFAULT_THEME'][_0x1c61('0x4cf')]['setStyle'](_0x1529c4[_0x1c61('0x4cf')]),_0x1529c4[_0x1c61('0xee5')]&&_0x54441e['DEFAULT_THEME']['skyColor'][_0x1c61('0x2fa')](_0x1529c4[_0x1c61('0xee5')]),_0x1529c4[_0x1c61('0xee6')]&&(_0x54441e[_0x1c61('0xe7f')]['isOpenGrayFilter']=!0x0,_0x54441e[_0x1c61('0xe7f')][_0x1c61('0xee6')]=(0x0,_0x54441e[_0x1c61('0xee7')])(_0x1529c4[_0x1c61('0xee6')][_0x1c61('0xee8')],_0x1529c4[_0x1c61('0xee6')][_0x1c61('0xee9')])),!0x0),_0x2c8da3=!0x1,_0x11b661=void 0x0;try{for(var _0x34ca3f,_0x4a3637=(0x0,_0x430e5b[_0x1c61('0x8')])(['isSetDeepenColor','brightness',_0x1c61('0xeea'),_0x1c61('0xeeb'),_0x1c61('0xeec'),_0x1c61('0x6fa')]);!(_0x2760a4=(_0x34ca3f=_0x4a3637[_0x1c61('0x77')]())[_0x1c61('0x89')]);_0x2760a4=!0x0){var _0x11ffb3=_0x34ca3f[_0x1c61('0x1c')];_0x1529c4['hasOwnProperty'](_0x11ffb3)&&(_0x54441e[_0x1c61('0xe7f')][_0x11ffb3]=_0x1529c4[_0x11ffb3]);}}catch(_0x595696){_0x2c8da3=!0x0,_0x11b661=_0x595696;}finally{try{!_0x2760a4&&_0x4a3637[_0x1c61('0x99')]&&_0x4a3637['return']();}finally{if(_0x2c8da3)throw _0x11b661;}}}_0x53ee14[_0x1c61('0xeed')]&&(_0x2c8da3=_0x53ee14[_0x1c61('0xeed')],_0x54441e['DEFAULT_THEME'][_0x1c61('0x3c2')]=_0x4ff802[_0x1c61('0x3c2')],_0x54441e[_0x1c61('0xe7f')]['waterSkyTexPath']=(0x0,_0x505480[_0x1c61('0x26')])(_0x2c8da3[_0x1c61('0x5c4')]),_0x2c8da3['originColor']&&(_0x54441e[_0x1c61('0xe7f')][_0x1c61('0xe80')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2c8da3[_0x1c61('0x3bf')])),_0x2c8da3['replaceColor']&&(_0x54441e['DEFAULT_THEME'][_0x1c61('0xeee')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2c8da3['replaceColor'])),_0x2c8da3[_0x1c61('0xeef')]&&(_0x54441e[_0x1c61('0xe7f')][_0x1c61('0xef0')]=new THREE[(_0x1c61('0x1ba'))]()[_0x1c61('0x2fa')](_0x2c8da3[_0x1c61('0xeef')]))),_0x2b4eda(_0x4ff802);})):_0x2b4eda(_0x4ff802);}}),_0x38cf72['on']('viewModeChanged',function(_0x53ee14){_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xdab')]='2D'!==_0x53ee14;});},_0x5470f8['zoomTo']=_0xe0c357,_0x5470f8[_0x1c61('0xef1')]={'getTargetLoLaFromPos':function(_0x53ee14){return ESTileMap[_0x1c61('0x343')][_0x1c61('0xef2')]({'mapType':_0x1c61('0x345'),'x':_0x53ee14[0x0],'z':_0x53ee14[0x1]});},'getTargetPosFromLoLa':function(_0x53ee14){_0x53ee14=ESTileMap[_0x1c61('0x343')][_0x1c61('0x344')]({'mapType':_0x1c61('0x345'),'longitude':_0x53ee14[0x0],'latitude':_0x53ee14[0x1]});return new THREE[(_0x1c61('0x1b8'))](_0x53ee14['x'],0x0,_0x53ee14['z']);},'setControlsConfigs':function(_0x53ee14){_0x38cf72[_0x1c61('0x2bc')]['isLockEarthZoom']=!0x0,_0x53ee14[_0x1c61('0xef3')]&&_0x53ee14['minLevel']>=_0x38cf72[_0x1c61('0x2bc')]['minEarthZoom']&&(_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xef4')]=_0x53ee14[_0x1c61('0xef3')]),_0x53ee14[_0x1c61('0xef5')]&&_0x53ee14[_0x1c61('0xef5')]<=_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xef6')]&&(_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xef6')]=_0x53ee14[_0x1c61('0xef5')]),void 0x0!==_0x53ee14['maxPolarAngle']&&(_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xebf')]=_0x38cf72[_0x1c61('0x2bc')]['maxPolarAngle'],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecd')]=_0x38cf72[_0x1c61('0x2bc')]['maxNearGroundPolarAngle'],_0x38cf72['controls'][_0x1c61('0xda6')]=_0x53ee14[_0x1c61('0xda6')],_0x38cf72['controls'][_0x1c61('0xecc')]=_0x53ee14[_0x1c61('0xda6')]);},'resetControlsConfigs':function(){_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xef7')]=!0x1,_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xef4')]=_0x38cf72['controls'][_0x1c61('0xef8')],_0x38cf72['controls'][_0x1c61('0xef6')]=_0x38cf72['controls'][_0x1c61('0xef9')],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xda6')]=_0x38cf72[_0x1c61('0x2bc')]['_tempMaxPolarAngle'],_0x38cf72[_0x1c61('0x2bc')][_0x1c61('0xecc')]=_0x38cf72['controls'][_0x1c61('0xecd')];},'toggleTileLayer':function(_0x53ee14){_0x4d4629&&(_0x4d4629[_0x1c61('0x3c3')][_0x1c61('0x32c')]=_0x53ee14,esmap[_0x1c61('0x51')][_0x1c61('0x8d7')]['toggleTileRoutesVisible'](_0x53ee14));},'setAlpha':function(_0x53ee14,_0x1529c4){'number'!=typeof _0x53ee14&&_0x1c61('0x1aa')!=typeof _0x1529c4||_0x4d4629&&(_0x53ee14<0x1?(_0x4d4629[_0x1c61('0xefa')]=!0x0,_0x4d4629[_0x1c61('0xefb')]=!0x0,_0x4d4629[_0x1c61('0xefc')]=_0x53ee14,_0x4d4629[_0x1c61('0xefd')]=_0x1529c4):(_0x4d4629[_0x1c61('0xefb')],_0x4d4629['_isSetAlpha']=!0x1));}};},function(_0x501a03,_0x56292a,_0x467b36){'use strict';Object[_0x1c61('0x2')](_0x56292a,_0x1c61('0x5'),{'value':!0x0});var _0x2083b3=_0x1a1a97(_0x467b36(0x0));function _0x1a1a97(_0x501a03){return _0x501a03&&_0x501a03['__esModule']?_0x501a03:{'default':_0x501a03};}function _0x3e9fda(_0x501a03){var _0x56292a=_0x501a03[_0x1c61('0x335')],_0x467b36=_0x501a03[_0x1c61('0xefe')],_0x1a1a97=_0x501a03[_0x1c61('0x3c3')],_0x501a03=_0x501a03[_0x1c61('0x2d0')];(0x0,_0x2083b3[_0x1c61('0x8')])(this,_0x3e9fda),this[_0x1c61('0x335')]=_0x56292a,this[_0x1c61('0x2bb')]=_0x467b36,this['layer']=_0x1a1a97,this[_0x1c61('0xeff')]=this[_0x1c61('0xf00')]['bind'](this),this['_mouseup']=this['mouseUp'][_0x1c61('0xa')](this),this[_0x1c61('0xf01')]=this[_0x1c61('0xf02')][_0x1c61('0xa')](this),this['_touchstart']=this[_0x1c61('0xf00')][_0x1c61('0xa')](this),this[_0x1c61('0xf03')]=this[_0x1c61('0xf02')](this),this[_0x1c61('0xf04')]=this[_0x1c61('0xf05')][_0x1c61('0xa')](this),this[_0x1c61('0xf06')]=!0x1,this[_0x1c61('0xf07')]=0x0,this[_0x1c61('0x2d0')]=_0x501a03;}(0x0,_0x1a1a97(_0x467b36(0x1))[_0x1c61('0x8')])(_0x3e9fda,[{'key':_0x1c61('0x4ef'),'value':function(){this[_0x1c61('0x335')][_0x1c61('0x2aa')](_0x1c61('0xdc6'),this[_0x1c61('0xeff')],!0x1),this[_0x1c61('0x335')]['addEventListener'](_0x1c61('0xdcb'),this[_0x1c61('0xf08')],!0x1),this['container'][_0x1c61('0x2aa')](_0x1c61('0xdca'),this[_0x1c61('0xf01')],!0x1),this['container']['addEventListener']('touchstart',this['_touchstart'],!0x1),this[_0x1c61('0x335')]['addEventListener'](_0x1c61('0xf09'),this[_0x1c61('0xf04')],!0x1),this[_0x1c61('0x335')][_0x1c61('0x2aa')](_0x1c61('0xdc9'),this['_touchmove'],!0x1);}},{'key':_0x1c61('0xd8'),'value':function(){this[_0x1c61('0x335')]['removeEventListener'](_0x1c61('0xdc6'),this['_mousedown'],!0x1),this[_0x1c61('0x335')][_0x1c61('0x33a')]('mouseup',this[_0x1c61('0xf08')],!0x1),this[_0x1c61('0x335')][_0x1c61('0x33a')](_0x1c61('0xdca'),this[_0x1c61('0xf01')],!0x1),this[_0x1c61('0x335')][_0x1c61('0x33a')](_0x1c61('0xdc8'),this['_touchstart'],!0x1),this[_0x1c61('0x335')][_0x1c61('0x33a')](_0x1c61('0xf09'),this['_touchend'],!0x1),this[_0x1c61('0x335')][_0x1c61('0x33a')](_0x1c61('0xdc9'),this[_0x1c61('0xf03')],!0x1);}},{'key':'getOffsetX','value':function(_0x501a03){var _0x501a03=_0x501a03||window['event'],_0x56292a=_0x501a03[_0x1c61('0x91')]||_0x501a03[_0x1c61('0xf0a')];return _0x501a03[_0x1c61('0xf0b')]||(_0x56292a=_0x56292a['getBoundingClientRect'](),_0x501a03['clientX']-_0x56292a[_0x1c61('0x33f')]);}},{'key':_0x1c61('0x340'),'value':function(_0x501a03){var _0x501a03=_0x501a03||window[_0x1c61('0x33c')],_0x56292a=_0x501a03[_0x1c61('0x91')]||_0x501a03[_0x1c61('0xf0a')];return _0x501a03[_0x1c61('0x467')]||(_0x56292a=_0x56292a['getBoundingClientRect'](),_0x501a03['clientY']-_0x56292a['left']);}},{'key':'mouseDown','value':function(){this[_0x1c61('0xf06')]=!0x1,this[_0x1c61('0xf07')]=0x0;}},{'key':_0x1c61('0xf02'),'value':function(){this[_0x1c61('0xf06')]=!0x0,this['moveCount']++;}},{'key':_0x1c61('0xf05'),'value':function(_0x501a03){var _0x56292a;this[_0x1c61('0xf06')]&&0x1<this[_0x1c61('0xf07')]||(_0x56292a=this[_0x1c61('0x33b')](_0x501a03),_0x501a03=this[_0x1c61('0x340')](_0x501a03),0x0<(_0x56292a=this[_0x1c61('0x2bb')][_0x1c61('0x341')]({'x':_0x56292a,'y':_0x501a03},this[_0x1c61('0x338')]))[_0x1c61('0xf')]&&this[_0x1c61('0x2d0')]&&(_0x56292a[0x0]['point']['y']=0x0,this[_0x1c61('0x2d0')](_0x56292a[0x0][_0x1c61('0x323')])));}}]),_0x56292a['default']=_0x3e9fda;},function(_0x4290c5,_0x573e7d,_0x377abe){'use strict';Object[_0x1c61('0x2')](_0x573e7d,_0x1c61('0x5'),{'value':!0x0});var _0x542814={'fogColor':new THREE[(_0x1c61('0x1ba'))](0xc8d4e4),'skyColor':new THREE['Color'](0xc5dafb),'groundColor':new THREE[(_0x1c61('0x1ba'))](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x573e7d['DEFAULT_THEME']=_0x542814,_0x573e7d[_0x1c61('0xee7')]=function(_0x4290c5,_0x573e7d){for(var _0x377abe=document[_0x1c61('0x75')]('canvas'),_0x377abe=(_0x377abe[_0x1c61('0x328')]=0x100,_0x377abe[_0x1c61('0x2f7')]=0x100,_0x377abe[_0x1c61('0x464')]('2d')),_0x542814=_0x377abe['createLinearGradient'](0x0,0x0,0x100,0x0),_0xef3a8=0x0,_0x26cf38=_0x4290c5[_0x1c61('0xf')];_0xef3a8<_0x26cf38;_0xef3a8++)_0x542814[_0x1c61('0x4e8')](_0x4290c5[_0xef3a8],_0x573e7d[_0xef3a8]);_0x377abe[_0x1c61('0x4a6')]=_0x542814,_0x377abe[_0x1c61('0x4a8')](0x0,0x0,0x100,0x1);_0x377abe=new Uint8Array(_0x377abe['getImageData'](0x0,0x0,0x100,0x1)[_0x1c61('0x2a2')]['buffer']),_0x377abe=new THREE[(_0x1c61('0xf0c'))](_0x377abe,0x100,0x1);return _0x377abe[_0x1c61('0x3ed')]=_0x377abe[_0x1c61('0x3f0')]=THREE['LinearFilter'],_0x377abe['needsUpdate']=!0x0,_0x377abe;};}]);

